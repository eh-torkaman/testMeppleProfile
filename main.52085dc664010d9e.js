(self.webpackChunkGeoAppTest=self.webpackChunkGeoAppTest||[]).push([[179],{2409:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>st});var J=Z(1180),rt=Z(5449),F=Z(8251);const Y={transitionDuration:0},O=at=>1-(1-at)*(1-at),Q_WHEEL=["wheel"],Q_PAN=["panstart","panmove","panend"],Q_PINCH=["pinchstart","pinchmove","pinchend"],Q_TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],Q_DOUBLE_TAP=["doubletap"],Q_KEYBOARD=["keydown"],ot={};class st{constructor($){(0,J.Z)(this,"props",void 0),(0,J.Z)(this,"state",{}),(0,J.Z)(this,"transitionManager",void 0),(0,J.Z)(this,"eventManager",void 0),(0,J.Z)(this,"onViewStateChange",void 0),(0,J.Z)(this,"onStateChange",void 0),(0,J.Z)(this,"makeViewport",void 0),(0,J.Z)(this,"_controllerState",void 0),(0,J.Z)(this,"_events",{}),(0,J.Z)(this,"_interactionState",{isDragging:!1}),(0,J.Z)(this,"_customEvents",[]),(0,J.Z)(this,"_eventStartBlocked",null),(0,J.Z)(this,"_panMove",!1),(0,J.Z)(this,"invertPan",!1),(0,J.Z)(this,"dragMode","rotate"),(0,J.Z)(this,"inertia",0),(0,J.Z)(this,"scrollZoom",!0),(0,J.Z)(this,"dragPan",!0),(0,J.Z)(this,"dragRotate",!0),(0,J.Z)(this,"doubleClickZoom",!0),(0,J.Z)(this,"touchZoom",!0),(0,J.Z)(this,"touchRotate",!1),(0,J.Z)(this,"keyboard",!0),this.transitionManager=new rt.Z({...$,getControllerState:N=>new this.ControllerState(N),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=$.eventManager,this.onViewStateChange=$.onViewStateChange||(()=>{}),this.onStateChange=$.onStateChange||(()=>{}),this.makeViewport=$.makeViewport}set events($){this.toggleEvents(this._customEvents,!1),this.toggleEvents($,!0),this._customEvents=$,this.props&&this.setProps(this.props)}finalize(){for(const N in this._events)if(this._events[N]){var $;null===($=this.eventManager)||void 0===$||$.off(N,this.handleEvent)}this.transitionManager.finalize()}handleEvent($){this._controllerState=void 0;const N=this._eventStartBlocked;switch($.type){case"panstart":return!N&&this._onPanStart($);case"panmove":return this._onPan($);case"panend":return this._onPanEnd($);case"pinchstart":return!N&&this._onPinchStart($);case"pinchmove":return this._onPinch($);case"pinchend":return this._onPinchEnd($);case"tripanstart":return!N&&this._onTriplePanStart($);case"tripanmove":return this._onTriplePan($);case"tripanend":return this._onTriplePanEnd($);case"doubletap":return this._onDoubleTap($);case"wheel":return this._onWheel($);case"keydown":return this._onKeyDown($);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter($){const{x:N,y:V}=this.props,{offsetCenter:bt}=$;return[bt.x-N,bt.y-V]}isPointInBounds($,N){const{width:V,height:bt}=this.props;if(N&&N.handled)return!1;const X=$[0]>=0&&$[0]<=V&&$[1]>=0&&$[1]<=bt;return X&&N&&N.stopPropagation(),X}isFunctionKeyPressed($){const{srcEvent:N}=$;return Boolean(N.metaKey||N.altKey||N.ctrlKey||N.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents($){const N=setTimeout(()=>{this._eventStartBlocked===N&&(this._eventStartBlocked=null)},$);this._eventStartBlocked=N}setProps($){$.dragMode&&(this.dragMode=$.dragMode),this.props=$,"transitionInterpolator"in $||($.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange($);const{inertia:N}=$;this.inertia=Number.isFinite(N)?N:!0===N?300:0;const{scrollZoom:V=!0,dragPan:bt=!0,dragRotate:X=!0,doubleClickZoom:tt=!0,touchZoom:W=!0,touchRotate:nt=!1,keyboard:z=!0}=$,ct=Boolean(this.onViewStateChange);this.toggleEvents(Q_WHEEL,ct&&V),this.toggleEvents(Q_PAN,ct&&(bt||X)),this.toggleEvents(Q_PINCH,ct&&(W||nt)),this.toggleEvents(Q_TRIPLE_PAN,ct&&nt),this.toggleEvents(Q_DOUBLE_TAP,ct&&tt),this.toggleEvents(Q_KEYBOARD,ct&&z),this.scrollZoom=V,this.dragPan=bt,this.dragRotate=X,this.doubleClickZoom=tt,this.touchZoom=W,this.touchRotate=nt,this.keyboard=z}updateTransition(){this.transitionManager.updateTransition()}toggleEvents($,N){this.eventManager&&$.forEach(V=>{this._events[V]!==N&&(this._events[V]=N,N?this.eventManager.on(V,this.handleEvent):this.eventManager.off(V,this.handleEvent))})}updateViewport($,N=null,V={}){const bt={...$.getViewportProps(),...N},X=this.controllerState!==$;if(this.state=$.getState(),this._setInteractionState(V),X){const tt=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:bt,interactionState:this._interactionState,oldViewState:tt})}}_onTransition($){this.onViewStateChange({...$,interactionState:this._interactionState})}_setInteractionState($){Object.assign(this._interactionState,$),this.onStateChange(this._interactionState)}_onPanStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;let V=this.isFunctionKeyPressed($)||$.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(V=!V);const bt=this.controllerState[V?"panStart":"rotateStart"]({pos:N});return this._panMove=V,this.updateViewport(bt,Y,{isDragging:!0}),!0}_onPan($){return!!this.isDragging()&&(this._panMove?this._onPanMove($):this._onPanRotate($))}_onPanEnd($){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd($):this._onPanRotateEnd($))}_onPanMove($){if(!this.dragPan)return!1;const N=this.getCenter($),V=this.controllerState.pan({pos:N});return this.updateViewport(V,Y,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd($){const{inertia:N}=this;if(this.dragPan&&N&&$.velocity){const V=this.getCenter($),X=this.controllerState.pan({pos:[V[0]+$.velocityX*N/2,V[1]+$.velocityY*N/2]}).panEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isPanning:!0})}else{const V=this.controllerState.panEnd();this.updateViewport(V,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate($){if(!this.dragRotate)return!1;const N=this.getCenter($),V=this.controllerState.rotate({pos:N});return this.updateViewport(V,Y,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd($){const{inertia:N}=this;if(this.dragRotate&&N&&$.velocity){const V=this.getCenter($),X=this.controllerState.rotate({pos:[V[0]+$.velocityX*N/2,V[1]+$.velocityY*N/2]}).rotateEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isRotating:!0})}else{const V=this.controllerState.rotateEnd();this.updateViewport(V,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel($){if(!this.scrollZoom)return!1;$.srcEvent.preventDefault();const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const{speed:V=.01,smooth:bt=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:X}=$;let tt=2/(1+Math.exp(-Math.abs(X*V)));X<0&&0!==tt&&(tt=1/tt);const W=this.controllerState.zoom({pos:N,scale:tt});return this.updateViewport(W,{...this._getTransitionProps({around:N}),transitionDuration:bt?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const V=this.controllerState.rotateStart({pos:N});return this.updateViewport(V,Y,{isDragging:!0}),!0}_onTriplePan($){if(!this.touchRotate||!this.isDragging())return!1;const N=this.getCenter($);N[0]-=$.deltaX;const V=this.controllerState.rotate({pos:N});return this.updateViewport(V,Y,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd($){if(!this.isDragging())return!1;const{inertia:N}=this;if(this.touchRotate&&N&&$.velocityY){const V=this.getCenter($),bt=[V[0],V[1]+=$.velocityY*N/2],X=this.controllerState.rotate({pos:bt});this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isRotating:!0}),this.blockEvents(N)}else{const V=this.controllerState.rotateEnd();this.updateViewport(V,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const V=this.controllerState.zoomStart({pos:N}).rotateStart({pos:N});return ot._startPinchRotation=$.rotation,ot._lastPinchEvent=$,this.updateViewport(V,Y,{isDragging:!0}),!0}_onPinch($){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let N=this.controllerState;if(this.touchZoom){const{scale:V}=$,bt=this.getCenter($);N=N.zoom({pos:bt,scale:V})}if(this.touchRotate){const{rotation:V}=$;N=N.rotate({deltaAngleX:ot._startPinchRotation-V})}return this.updateViewport(N,Y,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),ot._lastPinchEvent=$,!0}_onPinchEnd($){if(!this.isDragging())return!1;const{inertia:N}=this,{_lastPinchEvent:V}=ot;if(this.touchZoom&&N&&V&&$.scale!==V.scale){const bt=this.getCenter($);let X=this.controllerState.rotateEnd();const tt=Math.log2($.scale),W=(tt-Math.log2(V.scale))/($.deltaTime-V.deltaTime),nt=Math.pow(2,tt+W*N/2);X=X.zoom({pos:bt,scale:nt}).zoomEnd(),this.updateViewport(X,{...this._getTransitionProps({around:bt}),transitionDuration:N,transitionEasing:O},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(N)}else{const bt=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(bt,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return ot._startPinchRotation=null,ot._lastPinchEvent=null,!0}_onDoubleTap($){if(!this.doubleClickZoom)return!1;const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const V=this.isFunctionKeyPressed($),bt=this.controllerState.zoom({pos:N,scale:V?.5:2});return this.updateViewport(bt,this._getTransitionProps({around:N}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown($){if(!this.keyboard)return!1;const N=this.isFunctionKeyPressed($),{zoomSpeed:V,moveSpeed:bt,rotateSpeedX:X,rotateSpeedY:tt}=!0===this.keyboard?{}:this.keyboard,{controllerState:W}=this;let nt;const z={};switch($.srcEvent.code){case"Minus":nt=N?W.zoomOut(V).zoomOut(V):W.zoomOut(V),z.isZooming=!0;break;case"Equal":nt=N?W.zoomIn(V).zoomIn(V):W.zoomIn(V),z.isZooming=!0;break;case"ArrowLeft":N?(nt=W.rotateLeft(X),z.isRotating=!0):(nt=W.moveLeft(bt),z.isPanning=!0);break;case"ArrowRight":N?(nt=W.rotateRight(X),z.isRotating=!0):(nt=W.moveRight(bt),z.isPanning=!0);break;case"ArrowUp":N?(nt=W.rotateUp(tt),z.isRotating=!0):(nt=W.moveUp(bt),z.isPanning=!0);break;case"ArrowDown":N?(nt=W.rotateDown(tt),z.isRotating=!0):(nt=W.moveDown(bt),z.isPanning=!0);break;default:return!1}return this.updateViewport(nt,this._getTransitionProps(),z),!0}_getTransitionProps($){const{transition:N}=this;return N&&N.transitionInterpolator?$?{...N,transitionInterpolator:new F.Z({...$,...N.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:N:Y}}},4159:(Ye,oe,Z)=>{"use strict";Z.d(oe,{U:()=>at,Z:()=>$});var J=Z(1180),rt=Z(4822),F=Z(2409),Y=Z(3031),G=Z(4698),O=Z(406),Q=Z(8251);class at extends Y.Z{constructor(V){const{width:bt,height:X,latitude:tt,longitude:W,zoom:nt,bearing:z=0,pitch:ct=0,altitude:gt=1.5,position:Mt=[0,0,0],maxZoom:Ct=20,minZoom:q=0,maxPitch:Pt=60,minPitch:Dt=0,startPanLngLat:It,startZoomLngLat:ut,startRotatePos:re,startBearing:se,startPitch:Tt,startZoom:_t,normalize:dt=!0}=V;(0,O.Z)(Number.isFinite(W)),(0,O.Z)(Number.isFinite(tt)),(0,O.Z)(Number.isFinite(nt)),super({width:bt,height:X,latitude:tt,longitude:W,zoom:nt,bearing:z,pitch:ct,altitude:gt,maxZoom:Ct,minZoom:q,maxPitch:Pt,minPitch:Dt,normalize:dt,position:Mt},{startPanLngLat:It,startZoomLngLat:ut,startRotatePos:re,startBearing:se,startPitch:Tt,startZoom:_t}),(0,J.Z)(this,"makeViewport",void 0),this.makeViewport=V.makeViewport}panStart({pos:V}){return this._getUpdatedState({startPanLngLat:this._unproject(V)})}pan({pos:V,startPos:bt}){const X=this.getState().startPanLngLat||this._unproject(bt);if(!X)return this;const W=this.makeViewport(this.getViewportProps()).panByPosition(X,V);return this._getUpdatedState(W)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:V}){return this._getUpdatedState({startRotatePos:V,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:V,deltaAngleX:bt=0,deltaAngleY:X=0}){const{startRotatePos:tt,startBearing:W,startPitch:nt}=this.getState();if(!tt||void 0===W||void 0===nt)return this;let z;return z=V?this._getNewRotation(V,tt,nt,W):{bearing:W+bt,pitch:nt+X},this._getUpdatedState(z)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:V}){return this._getUpdatedState({startZoomLngLat:this._unproject(V),startZoom:this.getViewportProps().zoom})}zoom({pos:V,startPos:bt,scale:X}){let{startZoom:tt,startZoomLngLat:W}=this.getState();if(W||(tt=this.getViewportProps().zoom,W=this._unproject(bt)||this._unproject(V)),!W)return this;const{maxZoom:nt,minZoom:z}=this.getViewportProps();let ct=tt+Math.log2(X);ct=(0,rt.uZ)(ct,z,nt);const gt=this.makeViewport({...this.getViewportProps(),zoom:ct});return this._getUpdatedState({zoom:ct,...gt.panByPosition(W,V)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(V=2){return this._zoomFromCenter(V)}zoomOut(V=2){return this._zoomFromCenter(1/V)}moveLeft(V=100){return this._panFromCenter([V,0])}moveRight(V=100){return this._panFromCenter([-V,0])}moveUp(V=100){return this._panFromCenter([0,V])}moveDown(V=100){return this._panFromCenter([0,-V])}rotateLeft(V=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-V})}rotateRight(V=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+V})}rotateUp(V=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+V})}rotateDown(V=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-V})}shortestPathFrom(V){const bt=V.getViewportProps(),X={...this.getViewportProps()},{bearing:tt,longitude:W}=X;return Math.abs(tt-bt.bearing)>180&&(X.bearing=tt<0?tt+360:tt-360),Math.abs(W-bt.longitude)>180&&(X.longitude=W<0?W+360:W-360),X}applyConstraints(V){const{maxZoom:bt,minZoom:X,zoom:tt}=V;V.zoom=(0,rt.uZ)(tt,X,bt);const{maxPitch:W,minPitch:nt,pitch:z}=V;V.pitch=(0,rt.uZ)(z,nt,W);const{normalize:ct=!0}=V;return ct&&Object.assign(V,(0,G.QA)(V)),V}_zoomFromCenter(V){const{width:bt,height:X}=this.getViewportProps();return this.zoom({pos:[bt/2,X/2],scale:V})}_panFromCenter(V){const{width:bt,height:X}=this.getViewportProps();return this.pan({startPos:[bt/2,X/2],pos:[bt/2+V[0],X/2+V[1]]})}_getUpdatedState(V){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...V})}_unproject(V){const bt=this.makeViewport(this.getViewportProps());return V&&bt.unproject(V)}_getNewRotation(V,bt,X,tt){const W=V[0]-bt[0],nt=V[1]-bt[1],z=V[1],ct=bt[1],{width:gt,height:Mt}=this.getViewportProps(),Ct=W/gt;let q=0;nt>0?Math.abs(Mt-ct)>5&&(q=nt/(ct-Mt)*1.2):nt<0&&ct>5&&(q=1-z/ct),q=(0,rt.uZ)(q,-1,1);const{minPitch:Pt,maxPitch:Dt}=this.getViewportProps();let ut=X;return q>0?ut=X+q*(Dt-X):q<0&&(ut=X-q*(Pt-X)),{pitch:ut,bearing:tt+180*Ct}}}class $ extends F.Z{constructor(...V){super(...V),(0,J.Z)(this,"ControllerState",at),(0,J.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Q.Z({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,J.Z)(this,"dragMode","pan")}setProps(V){V.position=V.position||[0,0,0];const bt=this.props;super.setProps(V),(!bt||bt.height!==V.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...V,...this.state}))}}},5449:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Q,r:()=>Y});var J=Z(1180),rt=Z(7922);const F=()=>{};let Y;var ot;(ot=Y||(Y={}))[ot.BREAK=1]="BREAK",ot[ot.SNAP_TO_END=2]="SNAP_TO_END",ot[ot.IGNORE=3]="IGNORE";const G=ot=>ot,O=Y.BREAK;class Q{constructor(st){(0,J.Z)(this,"getControllerState",void 0),(0,J.Z)(this,"props",void 0),(0,J.Z)(this,"propsInTransition",void 0),(0,J.Z)(this,"transition",void 0),(0,J.Z)(this,"onViewStateChange",void 0),(0,J.Z)(this,"onStateChange",void 0),(0,J.Z)(this,"_onTransitionUpdate",at=>{const{time:$,settings:{interpolator:N,startProps:V,endProps:bt,duration:X,easing:tt}}=at,W=tt($/X),nt=N.interpolateProps(V,bt,W);this.propsInTransition=this.getControllerState({...this.props,...nt}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=st.getControllerState,this.propsInTransition=null,this.transition=new rt.Z(st.timeline),this.onViewStateChange=st.onViewStateChange||F,this.onStateChange=st.onStateChange||F}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(st){let at=!1;const $=this.props;if(this.props=st,!$||this._shouldIgnoreViewportChange($,st))return!1;if(this._isTransitionEnabled(st)){let N=$;if(this.transition.inProgress){const{interruption:V,endProps:bt}=this.transition.settings;N={...$,...V===Y.SNAP_TO_END?bt:this.propsInTransition||$}}this._triggerTransition(N,st),at=!0}else this.transition.cancel();return at}updateTransition(){this.transition.update()}_isTransitionEnabled(st){const{transitionDuration:at,transitionInterpolator:$}=st;return(at>0||"auto"===at)&&Boolean($)}_isUpdateDueToCurrentTransition(st){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(st,this.propsInTransition)}_shouldIgnoreViewportChange(st,at){return this.transition.inProgress?this.transition.settings.interruption===Y.IGNORE||this._isUpdateDueToCurrentTransition(at):!this._isTransitionEnabled(at)||at.transitionInterpolator.arePropsEqual(st,at)}_triggerTransition(st,at){const $=this.getControllerState(st),N=this.getControllerState(at).shortestPathFrom($),V=at.transitionInterpolator,bt=V.getDuration?V.getDuration(st,at):at.transitionDuration;if(0===bt)return;const X=V.initializeProps(st,N);this.propsInTransition={};const tt={duration:bt,easing:at.transitionEasing||G,interpolator:V,interruption:at.transitionInterruption||O,startProps:X.start,endProps:X.end,onStart:at.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(at.onTransitionInterrupt),onEnd:this._onTransitionEnd(at.onTransitionEnd)};this.transition.start(tt),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(st){return at=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),st?.(at)}}}},3031:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>rt});var J=Z(1180);class rt{constructor(Y,G){(0,J.Z)(this,"_viewportProps",void 0),(0,J.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(Y),this._state=G}getViewportProps(){return this._viewportProps}getState(){return this._state}}},3064:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Y,z:()=>F});var J=Z(967);let rt={};function F(G){rt=G}function Y(G,O,Q,ot){J.Z.level>0&&rt[G]&&rt[G].call(null,O,Q,ot)}},7034:(Ye,oe,Z)=>{"use strict";Z.r(oe),Z.d(oe,{AmbientLight:()=>ot,AttributeManager:()=>Is.Z,COORDINATE_SYSTEM:()=>J.Df,CompositeLayer:()=>Gl.Z,Controller:()=>Pr.Z,Deck:()=>Hi,DeckRenderer:()=>Ke,DirectionalLight:()=>bt,FirstPersonController:()=>Wl,FirstPersonView:()=>v,FirstPersonViewport:()=>rl,FlyToInterpolator:()=>cr,Layer:()=>pl.Z,LayerExtension:()=>Ze,LayerManager:()=>oo,LightingEffect:()=>de,LinearInterpolator:()=>Os.Z,MapController:()=>B.Z,MapView:()=>bl.Z,OPERATION:()=>J.k8,OrbitController:()=>ie,OrbitView:()=>T,OrbitViewport:()=>Tc,OrthographicController:()=>Re,OrthographicView:()=>qe,OrthographicViewport:()=>ss,PointLight:()=>ht,PostProcessEffect:()=>tn,TRANSITION_EVENTS:()=>yn.r,Tesselator:()=>ku.Z,TransitionInterpolator:()=>Sn.Z,UNIT:()=>J.iI,View:()=>Yi.Z,Viewport:()=>Un.Z,WebMercatorViewport:()=>sn.Z,_CameraLight:()=>M,_GlobeController:()=>Ut,_GlobeView:()=>me,_GlobeViewport:()=>Fr,_LayersPass:()=>z,_SunLight:()=>rn,_compareProps:()=>rc.tg,_count:()=>md.Q,_fillArray:()=>Ft.k,_flatten:()=>Ft.x,_memoize:()=>It.Z,_mergeShaders:()=>Zl.l,assert:()=>Qo.Z,createIterable:()=>Oo.jB,fp64LowPart:()=>fr.Ks,gouraudLighting:()=>jc.N,log:()=>Vi.Z,phongLighting:()=>jc.s,picking:()=>mo.Z,project:()=>Dt.Z,project32:()=>jl.Z,shadow:()=>ae});var J=Z(9531),rt=Z(1180),F=Z(6262),Y=Z(5702);const G=[255,255,255],O=1;let Q=0;class ot{constructor(R={}){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"color",void 0),(0,rt.Z)(this,"intensity",void 0),(0,rt.Z)(this,"type","ambient");const{color:ft=G}=R,{intensity:Bt=O}=R;this.id=R.id||"ambient-".concat(Q++),this.color=ft,this.intensity=Bt}}var st=Z(3659);const at=[255,255,255],$=1,N=[0,0,-1];let V=0;class bt{constructor(R={}){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"color",void 0),(0,rt.Z)(this,"intensity",void 0),(0,rt.Z)(this,"type","directional"),(0,rt.Z)(this,"direction",void 0),(0,rt.Z)(this,"shadow",void 0);const{color:ft=at}=R,{intensity:Bt=$}=R,{direction:Yt=N}=R,{_shadow:le=!1}=R;this.id=R.id||"directional-".concat(V++),this.color=ft,this.intensity=Bt,this.type="directional",this.direction=new st.Z(Yt).normalize().toArray(),this.shadow=le}getProjectedLight(R){return this}}var X=Z(9751);class tt{constructor(R,ft={id:"pass"}){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"gl",void 0),(0,rt.Z)(this,"props",void 0);const{id:Bt}=ft;this.id=Bt,this.gl=R,this.props={...ft}}setProps(R){Object.assign(this.props,R)}render(R){}cleanup(){}}var W=Z(7591),nt=Z(7605);class z extends tt{render(R){return(0,W.dR)(this.gl,{framebuffer:R.target}),this._drawLayers(R)}_drawLayers(R){const{target:ft,moduleParameters:Bt,viewports:Yt,views:le,onViewportActive:ve,clearCanvas:Ae=!0}=R;R.pass=R.pass||"unknown";const gn=this.gl;Ae&&function Mt(Oe){(0,W.dR)(Oe,{viewport:[0,0,Oe.drawingBufferWidth,Oe.drawingBufferHeight]}),Oe.clear(16640)}(gn);const kn=[];for(const Vn of Yt){const ei=le&&le[Vn.id];ve(Vn);const Oi=this._getDrawLayerParams(Vn,R),oi=Vn.subViewports||[Vn];for(const ki of oi){const Sr=this._drawLayersInViewport(gn,{target:ft,moduleParameters:Bt,viewport:ki,view:ei,pass:R.pass,layers:R.layers},Oi);kn.push(Sr)}}return kn}_getDrawLayerParams(R,{layers:ft,pass:Bt,layerFilter:Yt,cullRect:le,effects:ve,moduleParameters:Ae}){const gn=[],kn=ct(),Vn={layer:ft[0],viewport:R,isPicking:Bt.startsWith("picking"),renderPass:Bt,cullRect:le},ei={};for(let Oi=0;Oi<ft.length;Oi++){const oi=ft[Oi],ki=this._shouldDrawLayer(oi,Vn,Yt,ei),Sr={shouldDrawLayer:ki};ki&&(Sr.layerRenderIndex=kn(oi,ki),Sr.moduleParameters=this._getModuleParameters(oi,ve,Bt,Ae),Sr.layerParameters=this.getLayerParameters(oi,Oi,R)),gn[Oi]=Sr}return gn}_drawLayersInViewport(R,{layers:ft,moduleParameters:Bt,pass:Yt,target:le,viewport:ve,view:Ae},gn){const kn=function gt(Oe,{moduleParameters:R,target:ft,viewport:Bt}){const Yt=ft&&"default-framebuffer"!==ft.id,le=R&&R.devicePixelRatio||(0,W.w)(Oe);return[Bt.x*le,(Yt?ft.height:Oe.drawingBufferHeight)-(Bt.y+Bt.height)*le,Bt.width*le,Bt.height*le]}(R,{moduleParameters:Bt,target:le,viewport:ve});if(Ae&&Ae.props.clear){const ei=!0===Ae.props.clear?{color:!0,depth:!0}:Ae.props.clear;(0,W.s8)(R,{scissorTest:!0,scissor:kn},()=>(0,nt.Z)(R,ei))}const Vn={totalCount:ft.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,W.dR)(R,{viewport:kn});for(let ei=0;ei<ft.length;ei++){const Oi=ft[ei],{shouldDrawLayer:oi,layerRenderIndex:ki,moduleParameters:Sr,layerParameters:Vo}=gn[ei];if(oi&&Oi.props.pickable&&Vn.pickableCount++,Oi.isComposite)Vn.compositeCount++;else if(oi){Vn.visibleCount++,Sr.viewport=ve;try{Oi._drawLayer({moduleParameters:Sr,uniforms:{layerIndex:ki},parameters:Vo})}catch(f){Oi.raiseError(f,"drawing ".concat(Oi," to ").concat(Yt))}}}return Vn}shouldDrawLayer(R){return!0}getModuleParameters(R,ft){return null}getLayerParameters(R,ft,Bt){return R.props.parameters}_shouldDrawLayer(R,ft,Bt,Yt){if(!R.props.visible||!this.shouldDrawLayer(R))return!1;ft.layer=R;let ve=R.parent;for(;ve;){if(!ve.props.visible||!ve.filterSubLayer(ft))return!1;ft.layer=ve,ve=ve.parent}if(Bt){const Ae=ft.layer.id;if(Ae in Yt||(Yt[Ae]=Bt(ft)),!Yt[Ae])return!1}return R.activateViewport(ft.viewport),!0}_getModuleParameters(R,ft,Bt,Yt){var le;const ve=Object.assign(Object.create((null===(le=R.internalState)||void 0===le?void 0:le.propsInTransition)||R.props),{autoWrapLongitude:R.wrapLongitude,viewport:R.context.viewport,mousePosition:R.context.mousePosition,pickingActive:0,devicePixelRatio:(0,W.w)(this.gl)});if(ft)for(const gn of ft){var Ae;Object.assign(ve,null===(Ae=gn.getModuleParameters)||void 0===Ae?void 0:Ae.call(gn,R))}return Object.assign(ve,this.getModuleParameters(R,ft),Yt)}}function ct(Oe=0,R={}){const ft={},Bt=(Yt,le)=>{const ve=Yt.props._offset,Ae=Yt.id,gn=Yt.parent&&Yt.parent.id;let kn;if(gn&&!(gn in R)&&Bt(Yt.parent,!1),gn in ft){const Vn=ft[gn]=ft[gn]||ct(R[gn],R);kn=Vn(Yt,le),ft[Ae]=Vn}else Number.isFinite(ve)?(kn=ve+(R[gn]||0),ft[Ae]=null):kn=Oe;return le&&kn>=Oe&&(Oe=kn+1),R[Ae]=kn,kn};return Bt}var Ct=Z(1296),q=Z(2778);class Pt extends z{constructor(R,ft){super(R,ft),(0,rt.Z)(this,"shadowMap",void 0),(0,rt.Z)(this,"depthBuffer",void 0),(0,rt.Z)(this,"fbo",void 0),this.shadowMap=new Y.Z(R,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new Ct.Z(R,{format:33189,width:1,height:1}),this.fbo=new q.Z(R,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(R){const ft=this.fbo;(0,W.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const Bt=R.viewports[0],Yt=(0,W.w)(this.gl),le=Bt.width*Yt,ve=Bt.height*Yt;(le!==ft.width||ve!==ft.height)&&ft.resize({width:le,height:ve}),super.render({...R,target:ft,pass:"shadow"})})}shouldDrawLayer(R){return!1!==R.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}var Dt=Z(7517),It=Z(7869),ut=Z(4698);const Tt=(0,It.Z)(function Vt({viewport:Oe,center:R}){return new X.Z(Oe.viewProjectionMatrix).invert().transform(R)}),_t=(0,It.Z)(function Ce({viewport:Oe,shadowMatrices:R}){const ft=[],Bt=Oe.pixelUnprojectionMatrix,Yt=Oe.isGeospatial?void 0:1,le=[[0,0,Yt],[Oe.width,0,Yt],[0,Oe.height,Yt],[Oe.width,Oe.height,Yt],[0,0,-1],[Oe.width,0,-1],[0,Oe.height,-1],[Oe.width,Oe.height,-1]].map(ve=>function Zt(Oe,R){const[ft,Bt,Yt]=Oe,le=(0,ut.CT)([ft,Bt,Yt],R);return Number.isFinite(Yt)?le:[le[0],le[1],0]}(ve,Bt));for(const ve of R){const Ae=ve.clone().translate(new st.Z(Oe.center).negate()),gn=le.map(Vn=>Ae.transform(Vn)),kn=(new X.Z).ortho({left:Math.min(...gn.map(Vn=>Vn[0])),right:Math.max(...gn.map(Vn=>Vn[0])),bottom:Math.min(...gn.map(Vn=>Vn[1])),top:Math.max(...gn.map(Vn=>Vn[1])),near:Math.min(...gn.map(Vn=>-Vn[2])),far:Math.max(...gn.map(Vn=>-Vn[2]))});ft.push(kn.multiplyRight(ve))}return ft}),dt=[0,0,0,1],St=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],ae={name:"shadow",dependencies:[Dt.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(Oe={},R={})=>"viewport"in Oe&&(Oe.drawToShadowMap||Oe.shadowMaps&&Oe.shadowMaps.length>0)?function jt(Oe,R){const{shadowEnabled:ft=!0}=Oe;if(!ft||!Oe.shadowMatrices||!Oe.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const Bt={shadow_uDrawShadowMap:Boolean(Oe.drawToShadowMap),shadow_uUseShadowMap:!!Oe.shadowMaps&&Oe.shadowMaps.length>0,shadow_uColor:Oe.shadowColor||dt,shadow_uLightId:Oe.shadowLightId||0,shadow_uLightCount:Oe.shadowMatrices.length},Yt=Tt({viewport:Oe.viewport,center:R.project_uCenter}),le=[],ve=_t({shadowMatrices:Oe.shadowMatrices,viewport:Oe.viewport}).slice();for(let Ae=0;Ae<Oe.shadowMatrices.length;Ae++){const gn=ve[Ae],kn=gn.clone().translate(new st.Z(Oe.viewport.center).negate());R.project_uCoordinateSystem===J.Df.LNGLAT&&R.project_uProjectionMode===J.zG.WEB_MERCATOR?(ve[Ae]=kn,le[Ae]=Yt):(ve[Ae]=gn.clone().multiplyRight(St),le[Ae]=kn.transform(Yt))}for(let Ae=0;Ae<ve.length;Ae++)Bt["shadow_uViewProjectionMatrices[".concat(Ae,"]")]=ve[Ae],Bt["shadow_uProjectCenters[".concat(Ae,"]")]=le[Ae],Bt["shadow_uShadowMap".concat(Ae)]=Oe.shadowMaps&&Oe.shadowMaps.length>0?Oe.shadowMaps[Ae]:Oe.dummyShadowMap;return Bt}(Oe,R):{}},ue={color:[255,255,255],intensity:1},Pe=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],He=[0,0,0,200/255];class de{constructor(R={}){(0,rt.Z)(this,"id","lighting-effect"),(0,rt.Z)(this,"props",null),(0,rt.Z)(this,"shadowColor",He),(0,rt.Z)(this,"shadow",void 0),(0,rt.Z)(this,"ambientLight",null),(0,rt.Z)(this,"directionalLights",[]),(0,rt.Z)(this,"pointLights",[]),(0,rt.Z)(this,"shadowPasses",[]),(0,rt.Z)(this,"shadowMaps",[]),(0,rt.Z)(this,"dummyShadowMap",null),(0,rt.Z)(this,"programManager",void 0),(0,rt.Z)(this,"shadowMatrices",void 0);for(const ft in R){const Bt=R[ft];switch(Bt.type){case"ambient":this.ambientLight=Bt;break;case"directional":this.directionalLights.push(Bt);break;case"point":this.pointLights.push(Bt)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(ft=>ft.shadow)}preRender(R,{layers:ft,layerFilter:Bt,viewports:Yt,onViewportActive:le,views:ve}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(R),this.programManager||(this.programManager=F.Z.getDefaultProgramManager(R),ae&&this.programManager.addDefaultModule(ae)),this.dummyShadowMap||(this.dummyShadowMap=new Y.Z(R,{width:1,height:1}));for(let Ae=0;Ae<this.shadowPasses.length;Ae++)this.shadowPasses[Ae].render({layers:ft,layerFilter:Bt,viewports:Yt,onViewportActive:le,views:ve,moduleParameters:{shadowLightId:Ae,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(R){const ft=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return ft.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(Bt=>Bt.getProjectedLight({layer:R})),pointLights:this.pointLights.map(Bt=>Bt.getProjectedLight({layer:R}))},ft}cleanup(){for(const R of this.shadowPasses)R.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(ae),this.programManager=null)}_calculateMatrices(){const R=[];for(const ft of this.directionalLights){const Bt=(new X.Z).lookAt({eye:new st.Z(ft.direction).negate()});R.push(Bt)}return R}_createShadowPasses(R){for(let ft=0;ft<this.directionalLights.length;ft++){const Bt=new Pt(R);this.shadowPasses[ft]=Bt,this.shadowMaps[ft]=Bt.shadowMap}}_applyDefaultLights(){const{ambientLight:R,pointLights:ft,directionalLights:Bt}=this;!R&&0===ft.length&&0===Bt.length&&(this.ambientLight=new ot(ue),this.directionalLights.push(new bt(Pe[0]),new bt(Pe[1])))}}var we=Z(3127);const Se=[255,255,255],wt=1,Ht=[0,0,1],Wt=[0,0,1];let Nt=0;class ht{constructor(R={}){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"color",void 0),(0,rt.Z)(this,"intensity",void 0),(0,rt.Z)(this,"type","point"),(0,rt.Z)(this,"position",void 0),(0,rt.Z)(this,"attenuation",void 0),(0,rt.Z)(this,"projectedLight",void 0);const{color:ft=Se}=R,{intensity:Bt=wt}=R,{position:Yt=Wt}=R;this.id=R.id||"point-".concat(Nt++),this.color=ft,this.intensity=Bt,this.type="point",this.position=Yt,this.attenuation=function At(Oe){return Oe.attenuation?Oe.attenuation:"intensity"in Oe?[0,0,Oe.intensity||0]:Ht}(R),this.projectedLight={...this}}getProjectedLight({layer:R}){const{projectedLight:ft}=this,Bt=R.context.viewport,{coordinateSystem:Yt,coordinateOrigin:le}=R.props,ve=(0,we.D)(this.position,{viewport:Bt,coordinateSystem:Yt,coordinateOrigin:le,fromCoordinateSystem:Bt.isGeospatial?J.Df.LNGLAT:J.Df.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return ft.color=this.color,ft.intensity=this.intensity,ft.position=ve,ft}}var vt=Z(6231);class M extends ht{getProjectedLight({layer:R}){const{projectedLight:ft}=this,Bt=R.context.viewport,{coordinateSystem:Yt,coordinateOrigin:le,modelMatrix:ve}=R.props,{project_uCameraPosition:Ae}=(0,vt.C)({viewport:Bt,modelMatrix:ve,coordinateSystem:Yt,coordinateOrigin:le});return ft.color=this.color,ft.intensity=this.intensity,ft.position=Ae,ft}}const P=Math.PI/180,U=864e5,pt=2440588,Et=2451545,Ot=23.4397*P,pe=357.5291,ye=.98560028,xe=280.147,ze=360.9856235;function Ve(Oe,R,ft){const{azimuth:Bt,altitude:Yt}=function Je(Oe,R,ft){const Bt=P*-ft,Yt=P*R,le=function fn(Oe){return function ln(Oe){return("number"==typeof Oe?Oe:Oe.getTime())/U-.5+pt}(Oe)-Et}(Oe),ve=function We(Oe){const R=function ge(Oe){return P*(pe+ye*Oe)}(Oe),ft=function Le(Oe){const R=Oe;return R+P*(1.9148*Math.sin(R)+.02*Math.sin(2*R)+3e-4*Math.sin(3*R))+102.9372*P+Math.PI}(R);return{declination:xn(ft,0),rightAscension:dn(ft,0)}}(le),Ae=function Kt(Oe,R){return P*(xe+ze*Oe)-R}(le,Bt)-ve.rightAscension;return{azimuth:cn(Ae,Yt,ve.declination),altitude:ke(Ae,Yt,ve.declination)}}(Oe,R,ft);return[Math.sin(Bt)*Math.cos(Yt),Math.cos(Bt)*Math.cos(Yt),-Math.sin(Yt)]}function dn(Oe,R){const ft=Oe;return Math.atan2(Math.sin(ft)*Math.cos(Ot)-Math.tan(R)*Math.sin(Ot),Math.cos(ft))}function xn(Oe,R){const ft=Oe;return Math.asin(Math.sin(R)*Math.cos(Ot)+Math.cos(R)*Math.sin(Ot)*Math.sin(ft))}function cn(Oe,R,ft){const Bt=Oe,Yt=R,le=ft;return Math.atan2(Math.sin(Bt),Math.cos(Bt)*Math.sin(Yt)-Math.tan(le)*Math.cos(Yt))}function ke(Oe,R,ft){const Bt=Oe,Yt=R,le=ft;return Math.asin(Math.sin(Yt)*Math.sin(le)+Math.cos(Yt)*Math.cos(le)*Math.cos(Bt))}class rn extends bt{constructor(R){super(R),(0,rt.Z)(this,"timestamp",void 0),this.timestamp=R.timestamp}getProjectedLight({layer:R}){const{viewport:ft}=R.context;if(ft.resolution&&ft.resolution>0){const[Yt,le,ve]=Ve(this.timestamp,0,0);this.direction=[Yt,-ve,le]}else{const{latitude:Yt,longitude:le}=ft;this.direction=Ve(this.timestamp,Yt,le)}return this}}var bn=Z(525),nn=Z(3184);const zt=[-1,-1,1,-1,-1,1,1,1];class Qt extends bn.Z{constructor(R,ft){const Bt=zt.map(Yt=>-1===Yt?0:Yt);super(R,Object.assign({},ft,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new nn.Z({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(zt)},aTexCoord:{size:2,value:new Float32Array(Bt)},aCoordinate:{size:2,value:new Float32Array(Bt)}}})})),this.setVertexCount(4)}}class Ie extends tt{constructor(R,ft){super(R,ft),(0,rt.Z)(this,"model",void 0);const{module:Bt,fs:Yt,id:le}=ft;this.model=new Qt(R,{id:le,fs:Yt,modules:[Bt]})}render(R){const ft=this.gl;(0,W.dR)(ft,{viewport:[0,0,ft.drawingBufferWidth,ft.drawingBufferHeight]}),(0,W.s8)(ft,{framebuffer:R.outputBuffer,clearColor:[0,0,0,0]},()=>this._renderPass(ft,R))}delete(){this.model.delete(),this.model=null}_renderPass(R,ft){const{inputBuffer:Bt}=ft;(0,nt.Z)(R,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:Bt,texSize:[Bt.width,Bt.height]},parameters:{depthWrite:!1,depthTest:!1}})}}var je=Z(419);class tn{constructor(R,ft={}){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"props",void 0),(0,rt.Z)(this,"module",void 0),(0,rt.Z)(this,"passes",void 0),this.id="".concat(R.name,"-pass"),this.props=ft,(0,je.v)(R),this.module=R}preRender(){}postRender(R,ft){const Bt=this.passes||function Dn(Oe,R,ft,Bt){if(!R.passes){const Yt=dr(R);return[new Ie(Oe,{id:ft,module:R,fs:Yt,moduleSettings:Bt})]}return R.passes.map((Yt,le)=>{const ve=dr(R,Yt),Ae="".concat(ft,"-").concat(le);return new Ie(Oe,{id:Ae,module:R,fs:ve,moduleSettings:Bt})})}(R,this.module,this.id,this.props);this.passes=Bt;const{target:Yt}=ft;let le=ft.inputBuffer,ve=ft.swapBuffer;for(let Ae=0;Ae<this.passes.length;Ae++){Yt&&Ae===this.passes.length-1&&(ve=Yt),this.passes[Ae].render({inputBuffer:le,outputBuffer:ve});const gn=ve;ve=le,le=gn}return le}cleanup(){if(this.passes){for(const R of this.passes)R.delete();this.passes=void 0}}}const fi=Oe=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(Oe,"(gl_FragColor, texSize, texCoord);\n}\n"),sr=Oe=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(Oe,"(texture, texSize, texCoord);\n}\n");function dr(Oe,R=Oe){if(R.filter){const ft="string"==typeof R.filter?R.filter:"".concat(Oe.name,"_filterColor");return fi(ft)}if(R.sampler){const ft="string"==typeof R.sampler?R.sampler:"".concat(Oe.name,"_sampleColor");return sr(ft)}return null}let Qi=1,Po=1;class Ha{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(R){const{delay:ft=0,duration:Bt=Number.POSITIVE_INFINITY,rate:Yt=1,repeat:le=1}=R,ve=Qi++,Ae={time:0,delay:ft,duration:Bt,rate:Yt,repeat:le};return this._setChannelTime(Ae,this.time),this.channels.set(ve,Ae),ve}removeChannel(R){this.channels.delete(R);for(const[ft,Bt]of this.animations)Bt.channel===R&&this.detachAnimation(ft)}isFinished(R){const ft=this.channels.get(R);return void 0!==ft&&this.time>=ft.delay+ft.duration*ft.repeat}getTime(R){if(void 0===R)return this.time;const ft=this.channels.get(R);return void 0===ft?-1:ft.time}setTime(R){this.time=Math.max(0,R);const ft=this.channels.values();for(const Yt of ft)this._setChannelTime(Yt,this.time);const Bt=this.animations.values();for(const Yt of Bt){const{animation:le,channel:ve}=Yt;le.setTime(this.getTime(ve))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(R,ft){const Bt=Po++;return this.animations.set(Bt,{animation:R,channel:ft}),R.setTime(this.getTime(ft)),Bt}detachAnimation(R){this.animations.delete(R)}update(R){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=R),this.setTime(this.time+(R-this.lastEngineTime)),this.lastEngineTime=R)}_setChannelTime(R,ft){const Bt=ft-R.delay;Bt>=R.duration*R.repeat?R.time=R.duration*R.rate:(R.time=Math.max(0,Bt)%R.duration,R.time*=R.rate)}}var Wo=Z(4132),Vi=Z(967),sa=Z(3064),Ft=Z(5839),$t=Z(5651),Fe=Z(278);class en{constructor(R,ft,Bt){(0,rt.Z)(this,"id",void 0),(0,rt.Z)(this,"context",void 0),(0,rt.Z)(this,"isLoaded",void 0),(0,rt.Z)(this,"persistent",void 0),(0,rt.Z)(this,"_loadCount",0),(0,rt.Z)(this,"_subscribers",new Set),(0,rt.Z)(this,"_data",void 0),(0,rt.Z)(this,"_loader",void 0),(0,rt.Z)(this,"_error",void 0),(0,rt.Z)(this,"_content",void 0),this.id=R,this.context=Bt,this.setData(ft)}subscribe(R){this._subscribers.add(R)}unsubscribe(R){this._subscribers.delete(R)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(R,ft){if(R===this._data&&!ft)return;this._data=R;const Bt=++this._loadCount;let Yt=R;"string"==typeof R&&(Yt=(0,Fe.z)(R)),Yt instanceof Promise?(this.isLoaded=!1,this._loader=Yt.then(le=>{this._loadCount===Bt&&(this.isLoaded=!0,this._error=void 0,this._content=le)}).catch(le=>{this._loadCount===Bt&&(this.isLoaded=!0,this._error=le||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=R);for(const le of this._subscribers)le.onChange(this.getData())}}class un{constructor({gl:R,protocol:ft}){(0,rt.Z)(this,"protocol",void 0),(0,rt.Z)(this,"_context",void 0),(0,rt.Z)(this,"_resources",void 0),(0,rt.Z)(this,"_consumers",void 0),(0,rt.Z)(this,"_pruneRequest",void 0),this.protocol=ft||"resource://",this._context={gl:R,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(R){return!!R.startsWith(this.protocol)||R in this._resources}add({resourceId:R,data:ft,forceUpdate:Bt=!1,persistent:Yt=!0}){let le=this._resources[R];le?le.setData(ft,Bt):(le=new en(R,ft,this._context),this._resources[R]=le),le.persistent=Yt}remove(R){const ft=this._resources[R];ft&&(ft.delete(),delete this._resources[R])}unsubscribe({consumerId:R}){const ft=this._consumers[R];if(ft){for(const Bt in ft){const Yt=ft[Bt],le=this._resources[Yt.resourceId];le&&le.unsubscribe(Yt)}delete this._consumers[R],this.prune()}}subscribe({resourceId:R,onChange:ft,consumerId:Bt,requestId:Yt="default"}){const{_resources:le,protocol:ve}=this;R.startsWith(ve)&&(le[R=R.replace(ve,"")]||this.add({resourceId:R,data:null,persistent:!1}));const Ae=le[R];if(this._track(Bt,Yt,Ae,ft),Ae)return Ae.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const R in this._resources)this._resources[R].delete()}_track(R,ft,Bt,Yt){const le=this._consumers,ve=le[R]=le[R]||{},Ae=ve[ft]||{},gn=Ae.resourceId&&this._resources[Ae.resourceId];gn&&(gn.unsubscribe(Ae),this.prune()),Bt&&(ve[ft]=Ae,Ae.onChange=Yt,Ae.resourceId=Bt.id,Bt.subscribe(Ae))}_prune(){this._pruneRequest=null;for(const R of Object.keys(this._resources)){const ft=this._resources[R];!ft.persistent&&!ft.inUse()&&(ft.delete(),delete this._resources[R])}}}var Un=Z(3229);const ii=[Dt.Z],Ii=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function Ci(Oe){const R=F.Z.getDefaultProgramManager(Oe);for(const ft of ii)R.addDefaultModule(ft);for(const ft of Ii)R.addShaderHook(ft);return R}class oo{constructor(R,{deck:ft,stats:Bt,viewport:Yt,timeline:le}={}){(0,rt.Z)(this,"layers",void 0),(0,rt.Z)(this,"context",void 0),(0,rt.Z)(this,"resourceManager",void 0),(0,rt.Z)(this,"_lastRenderedLayers",[]),(0,rt.Z)(this,"_needsRedraw",!1),(0,rt.Z)(this,"_needsUpdate",!1),(0,rt.Z)(this,"_nextLayers",null),(0,rt.Z)(this,"_debug",!1),(0,rt.Z)(this,"activateViewport",ve=>{(0,sa.Z)("layerManager.activateViewport",this,ve),ve&&(this.context.viewport=ve)}),this.layers=[],this.resourceManager=new un({gl:R,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:R,deck:ft,programManager:R&&Ci(R),stats:Bt||new $t.Z({id:"deck.gl"}),viewport:Yt||new Un.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:le||new Ha,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const R of this.layers)this._finalizeLayer(R)}needsRedraw(R={clearRedrawFlags:!1}){let ft=this._needsRedraw;R.clearRedrawFlags&&(this._needsRedraw=!1);for(const Bt of this.layers){const Yt=Bt.getNeedsRedraw(R);ft=ft||Yt}return ft}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(R){this._needsRedraw=this._needsRedraw||R}setNeedsUpdate(R){this._needsUpdate=this._needsUpdate||R}getLayers({layerIds:R}={}){return R?this.layers.filter(ft=>R.find(Bt=>0===ft.id.indexOf(Bt))):this.layers}setProps(R){"debug"in R&&(this._debug=R.debug),"userData"in R&&(this.context.userData=R.userData),"layers"in R&&(this._nextLayers=R.layers),"onError"in R&&(this.context.onError=R.onError)}setLayers(R,ft){(0,sa.Z)("layerManager.setLayers",this,ft,R),this._lastRenderedLayers=R;const Bt=(0,Ft.x)(R,Boolean);for(const Yt of Bt)Yt.context=this.context;this._updateLayers(this.layers,Bt)}updateLayers(){const R=this.needsUpdate();R&&(this.setNeedsRedraw("updating layers: ".concat(R)),this.setLayers(this._nextLayers||this._lastRenderedLayers,R)),this._nextLayers=null}_handleError(R,ft,Bt){Bt.raiseError(ft,"".concat(R," of ").concat(Bt))}_updateLayers(R,ft){const Bt={};for(const ve of R)Bt[ve.id]?Vi.Z.warn("Multiple old layers with same id ".concat(ve.id))():Bt[ve.id]=ve;const Yt=[];this._updateSublayersRecursively(ft,Bt,Yt),this._finalizeOldLayers(Bt);let le=!1;for(const ve of Yt)if(ve.hasUniformTransition()){le="Uniform transition in ".concat(ve);break}this._needsUpdate=le,this.layers=Yt}_updateSublayersRecursively(R,ft,Bt){for(const Yt of R){Yt.context=this.context;const le=ft[Yt.id];null===le&&Vi.Z.warn("Multiple new layers with same id ".concat(Yt.id))(),ft[Yt.id]=null;let ve=null;try{this._debug&&le!==Yt&&Yt.validateProps(),le?(this._transferLayerState(le,Yt),this._updateLayer(Yt)):this._initializeLayer(Yt),Bt.push(Yt),ve=Yt.isComposite?Yt.getSubLayers():null}catch(Ae){this._handleError("matching",Ae,Yt)}ve&&this._updateSublayersRecursively(ve,ft,Bt)}}_finalizeOldLayers(R){for(const ft in R){const Bt=R[ft];Bt&&this._finalizeLayer(Bt)}}_initializeLayer(R){try{R._initialize(),R.lifecycle=Wo.dt.INITIALIZED}catch(ft){this._handleError("initialization",ft,R)}}_transferLayerState(R,ft){ft._transferState(R),ft.lifecycle=Wo.dt.MATCHED,ft!==R&&(R.lifecycle=Wo.dt.AWAITING_GC)}_updateLayer(R){try{R._update()}catch(ft){this._handleError("update",ft,R)}}_finalizeLayer(R){this._needsRedraw=this._needsRedraw||"finalized ".concat(R),R.lifecycle=Wo.dt.AWAITING_FINALIZATION;try{R._finalize(),R.lifecycle=Wo.dt.FINALIZED}catch(ft){this._handleError("finalization",ft,R)}}}var ho=Z(7358);class fa{constructor(R){(0,rt.Z)(this,"width",void 0),(0,rt.Z)(this,"height",void 0),(0,rt.Z)(this,"views",void 0),(0,rt.Z)(this,"viewState",void 0),(0,rt.Z)(this,"controllers",void 0),(0,rt.Z)(this,"timeline",void 0),(0,rt.Z)(this,"_viewports",void 0),(0,rt.Z)(this,"_viewportMap",void 0),(0,rt.Z)(this,"_isUpdating",void 0),(0,rt.Z)(this,"_needsRedraw",void 0),(0,rt.Z)(this,"_needsUpdate",void 0),(0,rt.Z)(this,"_eventManager",void 0),(0,rt.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=R.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=R.eventManager,this._eventCallbacks={onViewStateChange:R.onViewStateChange,onInteractionStateChange:R.onInteractionStateChange},Object.seal(this),this.setProps(R)}finalize(){for(const R in this.controllers){const ft=this.controllers[R];ft&&ft.finalize()}this.controllers={}}needsRedraw(R={clearRedrawFlags:!1}){const ft=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ft}setNeedsUpdate(R){this._needsUpdate=this._needsUpdate||R,this._needsRedraw=this._needsRedraw||R}updateViewStates(){for(const R in this.controllers){const ft=this.controllers[R];ft&&ft.updateTransition()}}getViewports(R){return R?this._viewports.filter(ft=>ft.containsPixel(R)):this._viewports}getViews(){const R={};return this.views.forEach(ft=>{R[ft.id]=ft}),R}getView(R){return this.views.find(ft=>ft.id===R)}getViewState(R){const ft="string"==typeof R?this.getView(R):R,Bt=ft&&this.viewState[ft.getViewStateId()]||this.viewState;return ft?ft.filterViewState(Bt):Bt}getViewport(R){return this._viewportMap[R]}unproject(R,ft){const Bt=this.getViewports(),Yt={x:R[0],y:R[1]};for(let le=Bt.length-1;le>=0;--le){const ve=Bt[le];if(ve.containsPixel(Yt)){const Ae=R.slice();return Ae[0]-=ve.x,Ae[1]-=ve.y,ve.unproject(Ae,ft)}}return null}setProps(R){R.views&&this._setViews(R.views),R.viewState&&this._setViewState(R.viewState),("width"in R||"height"in R)&&this._setSize(R.width,R.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(R,ft){(R!==this.width||ft!==this.height)&&(this.width=R,this.height=ft,this.setNeedsUpdate("Size changed"))}_setViews(R){R=(0,Ft.x)(R,Boolean),this._diffViews(R,this.views)&&this.setNeedsUpdate("views changed"),this.views=R}_setViewState(R){R?(!(0,ho.v)(R,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=R):Vi.Z.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(R,ft){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...ft,viewId:R})}_createController(R,ft){return new(0,ft.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,ft.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:le=>R.makeViewport({viewState:le,width:this.width,height:this.height})})}_updateController(R,ft,Bt,Yt){const le=R.controller;if(le){const ve={...ft,...le,id:R.id,x:Bt.x,y:Bt.y,width:Bt.width,height:Bt.height};return Yt||(Yt=this._createController(R,ve)),Yt&&Yt.setProps(ve),Yt}return null}_rebuildViewports(){const{views:R}=this,ft=this.controllers;this._viewports=[],this.controllers={};let Bt=!1;for(let Yt=R.length;Yt--;){const le=R[Yt],ve=this.getViewState(le),Ae=le.makeViewport({viewState:ve,width:this.width,height:this.height});let gn=ft[le.id];const kn=Boolean(le.controller);kn&&!gn&&(Bt=!0),(Bt||!kn)&&gn&&(gn.finalize(),gn=null),this.controllers[le.id]=this._updateController(le,ve,Ae,gn),this._viewports.unshift(Ae)}for(const Yt in ft){const le=ft[Yt];le&&!this.controllers[Yt]&&le.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(R=>{R.id&&(this._viewportMap[R.id]=this._viewportMap[R.id]||R)})}_diffViews(R,ft){return R.length!==ft.length||R.some((Bt,Yt)=>!R[Yt].equals(ft[Yt]))}}var bl=Z(6962),Li=Z(4822);class as extends z{constructor(R,ft){super(R,ft),(0,rt.Z)(this,"maskMap",void 0),(0,rt.Z)(this,"fbo",void 0);const{mapSize:Bt=2048}=ft;this.maskMap=new Y.Z(R,{width:Bt,height:Bt,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new q.Z(R,{id:"maskmap",width:Bt,height:Bt,attachments:{36064:this.maskMap}})}render(R){const ft=this.gl,Bt=[!1,!1,!1,!1];return Bt[R.channel]=!0,(0,W.s8)(ft,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:Bt,depthTest:!1},()=>super.render({...R,target:this.fbo,pass:"mask"}))}shouldDrawLayer(R){return R.props.operation===J.k8.MASK}delete(){this.fbo.delete(),this.maskMap.delete()}}var Yi=Z(7389),Wr=Z(8235);const Ml=(new X.Z).lookAt({eye:[0,0,1]});function Ja({width:Oe,height:R,near:ft,far:Bt,padding:Yt}){let le=-Oe/2,ve=Oe/2,Ae=-R/2,gn=R/2;if(Yt){const{left:kn=0,right:Vn=0,top:ei=0,bottom:Oi=0}=Yt,oi=(0,Li.uZ)((kn+Oe-Vn)/2,0,Oe)-Oe/2,ki=(0,Li.uZ)((ei+R-Oi)/2,0,R)-R/2;le-=oi,ve-=oi,Ae+=ki,gn+=ki}return(new X.Z).ortho({left:le,right:ve,bottom:Ae,top:gn,near:ft,far:Bt})}class ss extends Un.Z{constructor(R){const{width:ft,height:Bt,near:Yt=.1,far:le=1e3,zoom:ve=0,target:Ae=[0,0,0],padding:gn=null,flipY:kn=!0}=R,Vn=Array.isArray(ve)?ve[0]:ve,ei=Array.isArray(ve)?ve[1]:ve,Oi=Math.min(Vn,ei),oi=Math.pow(2,Oi);let ki;if(Vn!==ei){const Sr=Math.pow(2,Vn),Vo=Math.pow(2,ei);ki={unitsPerMeter:[Sr/oi,Vo/oi,1],metersPerUnit:[oi/Sr,oi/Vo,1]}}super({...R,longitude:void 0,position:Ae,viewMatrix:Ml.clone().scale([oi,oi*(kn?-1:1),oi]),projectionMatrix:Ja({width:ft||1,height:Bt||1,padding:gn,near:Yt,far:le}),zoom:Oi,distanceScales:ki})}projectFlat([R,ft]){const{unitsPerMeter:Bt}=this.distanceScales;return[R*Bt[0],ft*Bt[1]]}unprojectFlat([R,ft]){const{metersPerUnit:Bt}=this.distanceScales;return[R*Bt[0],ft*Bt[1]]}panByPosition(R,ft){const Bt=(0,ut.CT)(ft,this.pixelUnprojectionMatrix),Yt=this.projectFlat(R),le=Wr.IH([],Yt,Wr.tk([],Bt)),ve=Wr.IH([],this.center,le);return{target:this.unprojectFlat(ve)}}}var Pr=Z(2409),Or=Z(3031),fr=Z(8763),Os=Z(8251);class kl extends Or.Z{constructor(R){const{width:ft,height:Bt,rotationX:Yt=0,rotationOrbit:le=0,target:ve=[0,0,0],zoom:Ae=0,minRotationX:gn=-90,maxRotationX:kn=90,minZoom:Vn=-1/0,maxZoom:ei=1/0,startPanPosition:Oi,startRotatePos:oi,startRotationX:ki,startRotationOrbit:Sr,startZoomPosition:Vo,startZoom:f}=R;super({width:ft,height:Bt,rotationX:Yt,rotationOrbit:le,target:ve,zoom:Ae,minRotationX:gn,maxRotationX:kn,minZoom:Vn,maxZoom:ei},{startPanPosition:Oi,startRotatePos:oi,startRotationX:ki,startRotationOrbit:Sr,startZoomPosition:Vo,startZoom:f}),(0,rt.Z)(this,"makeViewport",void 0),this.makeViewport=R.makeViewport}panStart({pos:R}){return this._getUpdatedState({startPanPosition:this._unproject(R)})}pan({pos:R,startPosition:ft}){const Bt=this.getState().startPanPosition||ft;if(!Bt)return this;const le=this.makeViewport(this.getViewportProps()).panByPosition(Bt,R);return this._getUpdatedState(le)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:R}){return this._getUpdatedState({startRotatePos:R,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:R,deltaAngleX:ft=0,deltaAngleY:Bt=0}){const{startRotatePos:Yt,startRotationX:le,startRotationOrbit:ve}=this.getState(),{width:Ae,height:gn}=this.getViewportProps();if(!Yt||void 0===le||void 0===ve)return this;let kn;if(R){let Vn=(R[0]-Yt[0])/Ae;(le<-90||le>90)&&(Vn*=-1),kn={rotationX:le+(R[1]-Yt[1])/gn*180,rotationOrbit:ve+180*Vn}}else kn={rotationX:le+Bt,rotationOrbit:ve+ft};return this._getUpdatedState(kn)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(R){const ft=R.getViewportProps(),Bt={...this.getViewportProps()},{rotationOrbit:Yt}=Bt;return Math.abs(Yt-ft.rotationOrbit)>180&&(Bt.rotationOrbit=Yt<0?Yt+360:Yt-360),Bt}zoomStart({pos:R}){return this._getUpdatedState({startZoomPosition:this._unproject(R),startZoom:this.getViewportProps().zoom})}zoom({pos:R,startPos:ft,scale:Bt}){let{startZoom:Yt,startZoomPosition:le}=this.getState();if(le||(Yt=this.getViewportProps().zoom,le=this._unproject(ft)||this._unproject(R)),!le)return this;const ve=this._calculateNewZoom({scale:Bt,startZoom:Yt}),Ae=this.makeViewport({...this.getViewportProps(),zoom:ve});return this._getUpdatedState({zoom:ve,...Ae.panByPosition(le,R)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(R=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:R})})}zoomOut(R=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/R})})}moveLeft(R=50){return this._panFromCenter([-R,0])}moveRight(R=50){return this._panFromCenter([R,0])}moveUp(R=50){return this._panFromCenter([0,-R])}moveDown(R=50){return this._panFromCenter([0,R])}rotateLeft(R=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-R})}rotateRight(R=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+R})}rotateUp(R=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-R})}rotateDown(R=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+R})}_unproject(R){const ft=this.makeViewport(this.getViewportProps());return R&&ft.unproject(R)}_calculateNewZoom({scale:R,startZoom:ft}){const{maxZoom:Bt,minZoom:Yt}=this.getViewportProps();void 0===ft&&(ft=this.getViewportProps().zoom);const le=ft+Math.log2(R);return(0,Li.uZ)(le,Yt,Bt)}_panFromCenter(R){const{width:ft,height:Bt,target:Yt}=this.getViewportProps();return this.pan({startPosition:Yt,pos:[ft/2+R[0],Bt/2+R[1]]})}_getUpdatedState(R){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...R})}applyConstraints(R){const{maxZoom:ft,minZoom:Bt,zoom:Yt,maxRotationX:le,minRotationX:ve,rotationOrbit:Ae}=R;return R.zoom=Array.isArray(Yt)?[(0,Li.uZ)(Yt[0],Bt,ft),(0,Li.uZ)(Yt[1],Bt,ft)]:(0,Li.uZ)(Yt,Bt,ft),R.rotationX=(0,Li.uZ)(R.rotationX,ve,le),(Ae<-180||Ae>180)&&(R.rotationOrbit=(0,fr.wQ)(Ae+180,360)-180),R}}class ie extends Pr.Z{constructor(...R){super(...R),(0,rt.Z)(this,"ControllerState",kl),(0,rt.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Os.Z({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class Me extends kl{constructor(R){super(R),(0,rt.Z)(this,"zoomAxis",void 0),this.zoomAxis=R.zoomAxis||"all"}_calculateNewZoom({scale:R,startZoom:ft}){const{maxZoom:Bt,minZoom:Yt}=this.getViewportProps();void 0===ft&&(ft=this.getViewportProps().zoom);let le=Math.log2(R);if(Array.isArray(ft)){let[ve,Ae]=ft;switch(this.zoomAxis){case"X":ve=(0,Li.uZ)(ve+le,Yt,Bt);break;case"Y":Ae=(0,Li.uZ)(Ae+le,Yt,Bt);break;default:let gn=Math.min(ve+le,Ae+le);gn<Yt&&(le+=Yt-gn),gn=Math.max(ve+le,Ae+le),gn>Bt&&(le+=Bt-gn),ve+=le,Ae+=le}return[ve,Ae]}return(0,Li.uZ)(ft+le,Yt,Bt)}}class Re extends Pr.Z{constructor(...R){super(...R),(0,rt.Z)(this,"ControllerState",Me),(0,rt.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Os.Z(["target","zoom"])}),(0,rt.Z)(this,"dragMode","pan")}_onPanRotate(){return!1}}class qe extends Yi.Z{get ViewportType(){return ss}get ControllerType(){return Re}}(0,rt.Z)(qe,"displayName","OrthographicView");var sn=Z(5174);class _i{constructor(){(0,rt.Z)(this,"id","mask-effect"),(0,rt.Z)(this,"props",null),(0,rt.Z)(this,"useInPicking",!0),(0,rt.Z)(this,"dummyMaskMap",void 0),(0,rt.Z)(this,"channels",[]),(0,rt.Z)(this,"masks",null),(0,rt.Z)(this,"maskPass",void 0),(0,rt.Z)(this,"maskMap",void 0),(0,rt.Z)(this,"lastViewport",void 0)}preRender(R,{layers:ft,layerFilter:Bt,viewports:Yt,onViewportActive:le,views:ve}){this.dummyMaskMap||(this.dummyMaskMap=new Y.Z(R,{width:1,height:1}));const Ae=ft.filter(ei=>ei.props.visible&&ei.props.operation===J.k8.MASK);if(0===Ae.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new as(R,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const gn=this._sortMaskChannels(Ae),kn=Yt[0],Vn=!this.lastViewport||!this.lastViewport.equals(kn);for(const ei in gn)this._renderChannel(gn[ei],{layerFilter:Bt,onViewportActive:le,views:ve,viewport:kn,viewportChanged:Vn})}_renderChannel(R,{layerFilter:ft,onViewportActive:Bt,views:Yt,viewport:le,viewportChanged:ve}){const Ae=this.channels[R.index];if(!Ae)return;const gn=R===Ae||Ae.layers.length!==R.layers.length||R.layerBounds.some((kn,Vn)=>kn!==Ae.layerBounds[Vn]);if(R.bounds=Ae.bounds,R.maskBounds=Ae.maskBounds,this.channels[R.index]=R,(gn||ve)&&(this.lastViewport=le,R.bounds=function Zn({layers:Oe,viewport:R}){let ft=null;for(const le of Oe){const ve=le.getBounds();ve&&(ft?(ft[0]=Math.min(ft[0],ve[0][0]),ft[1]=Math.min(ft[1],ve[0][1]),ft[2]=Math.max(ft[2],ve[1][0]),ft[3]=Math.max(ft[3],ve[1][1])):ft=[ve[0][0],ve[0][1],ve[1][0],ve[1][1]])}const Bt=R.getBounds();if(!ft)return Bt;const Yt=function mi(Oe){const R_x=Oe[2]-Oe[0],R_y=Oe[3]-Oe[1],ft_x=Oe[0]+.5*R_x,ft_y=Oe[1]+.5*R_y;return[ft_x-R_x,ft_y-R_y,ft_x+R_x,ft_y+R_y]}(Bt);return ft[2]-ft[0]<Yt[2]-Yt[0]||ft[3]-ft[1]<Yt[3]-Yt[1]||(ft[0]=Math.max(ft[0],Yt[0]),ft[1]=Math.max(ft[1],Yt[1]),ft[2]=Math.min(ft[2],Yt[2]),ft[3]=Math.min(ft[3],Yt[3])),ft}({layers:R.layers,viewport:le}),gn||!(0,Li.fS)(R.bounds,Ae.bounds))){const{maskPass:kn,maskMap:Vn}=this,ei=function ui({bounds:Oe,viewport:R,width:ft,height:Bt}){if(Oe[2]<=Oe[0]||Oe[3]<=Oe[1])return null;if(ft-=2,Bt-=2,R instanceof sn.Z){const{longitude:Ae,latitude:gn,zoom:kn}=(0,ut.Xg)({width:ft,height:Bt,bounds:[[Oe[0],Oe[1]],[Oe[2],Oe[3]]],maxZoom:20});return new sn.Z({longitude:Ae,latitude:gn,zoom:kn,x:1,y:1,width:ft,height:Bt})}const le=[(Oe[0]+Oe[2])/2,(Oe[1]+Oe[3])/2,0],ve=Math.min(20,ft/(Oe[2]-Oe[0]),Bt/(Oe[3]-Oe[1]));return new qe({x:1,y:1}).makeViewport({width:ft,height:Bt,viewState:{target:le,zoom:Math.log2(ve)}})}({bounds:R.bounds,viewport:le,width:Vn.width,height:Vn.height});R.maskBounds=ei?ei.getBounds():[0,0,1,1],kn.render({pass:"mask",channel:R.index,layers:R.layers,layerFilter:ft,viewports:ei?[ei]:[],onViewportActive:Bt,views:Yt,moduleParameters:{devicePixelRatio:1}})}this.masks[R.id]={index:R.index,bounds:R.maskBounds,coordinateOrigin:R.coordinateOrigin,coordinateSystem:R.coordinateSystem}}_sortMaskChannels(R){const ft={};let Bt=0;for(const Yt of R){const{id:le}=Yt.root;let ve=ft[le];if(!ve){if(++Bt>4){Vi.Z.warn("Too many mask layers. The max supported is 4")();continue}ve={id:le,index:this.channels.findIndex(Ae=>Ae?.id===le),layers:[],layerBounds:[],coordinateOrigin:Yt.root.props.coordinateOrigin,coordinateSystem:Yt.root.props.coordinateSystem},ft[le]=ve}ve.layers.push(Yt),ve.layerBounds.push(Yt.getBounds())}for(let Yt=0;Yt<4;Yt++){const le=this.channels[Yt];(!le||!(le.id in ft))&&(this.channels[Yt]=null)}for(const Yt in ft){const le=ft[Yt];le.index<0&&(le.index=this.channels.findIndex(ve=>!ve),this.channels[le.index]=le)}return ft}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const yo=new de;class Ns{constructor(){(0,rt.Z)(this,"effects",void 0),(0,rt.Z)(this,"_internalEffects",void 0),(0,rt.Z)(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(R){"effects"in R&&(R.effects.length!==this.effects.length||!(0,ho.v)(R.effects,this.effects))&&(this.setEffects(R.effects),this._needsRedraw="effects changed")}needsRedraw(R={clearRedrawFlags:!1}){const ft=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ft}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(R=[]){this.cleanup(),this.effects=R,this._internalEffects=R.slice(),this._internalEffects.push(new _i),R.some(ft=>ft instanceof de)||this._internalEffects.push(yo)}cleanup(){for(const R of this.effects)R.cleanup();for(const R of this._internalEffects)R.cleanup();this.effects.length=0,this._internalEffects.length=0}}class pr extends z{shouldDrawLayer(R){return R.props.operation===J.k8.DRAW}}const Gt={blendFunc:[1,0,32771,0],blendEquation:32774};class Te extends z{constructor(...R){super(...R),(0,rt.Z)(this,"pickZ",void 0),(0,rt.Z)(this,"_colors",null)}render(R){return R.pickingFBO?this._drawPickingBuffer(R):super.render(R)}_drawPickingBuffer({layers:R,layerFilter:ft,views:Bt,viewports:Yt,onViewportActive:le,pickingFBO:ve,deviceRect:{x:Ae,y:gn,width:kn,height:Vn},cullRect:ei,effects:Oi,pass:oi="picking",pickZ:ki}){const Sr=this.gl;this.pickZ=ki;const Vo=ki?null:{byLayer:new Map,byAlpha:[]};this._colors=Vo;const f=(0,W.s8)(Sr,{scissorTest:!0,scissor:[Ae,gn,kn,Vn],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...Gt,blend:!ki},()=>super.render({target:ve,layers:R,layerFilter:ft,views:Bt,viewports:Yt,onViewportActive:le,cullRect:ei,effects:Oi?.filter(_=>_.useInPicking),pass:oi}));return this._colors=null,{decodePickingColor:Vo&&_n.bind(null,Vo),stats:f}}shouldDrawLayer(R){return R.props.pickable&&R.props.operation===J.k8.DRAW}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(R,ft,Bt){const Yt={...R.props.parameters};return this._colors?(Object.assign(Yt,Gt),Yt.blend=!0,Yt.blendColor=function Ue(Oe,R,ft){const{byLayer:Bt,byAlpha:Yt}=Oe;let le,ve=Bt.get(R);return ve?(ve.viewports.push(ft),le=ve.a):(le=Bt.size+1,le<=255?(ve={a:le,layer:R,viewports:[ft]},Bt.set(R,ve),Yt[le]=ve):(Vi.Z.warn("Too many pickable layers, only picking the first 255")(),le=0)),[0,0,0,le/255]}(this._colors,R,Bt)):Yt.blend=!1,Yt}}function _n(Oe,R){const ft=Oe.byAlpha[R[3]];return ft&&{pickedLayer:ft.layer,pickedViewports:ft.viewports,pickedObjectIndex:ft.layer.decodePickingColor(R)}}class Ke{constructor(R){this.gl=R,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new pr(R),this.pickLayersPass=new Te(R),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(R){"layerFilter"in R&&this.layerFilter!==R.layerFilter&&(this.layerFilter=R.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in R&&this.drawPickingColors!==R.drawPickingColors&&(this.drawPickingColors=R.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(R){const ft=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;R.layerFilter=R.layerFilter||this.layerFilter,R.effects=R.effects||[],R.target=R.target||q.Z.getDefaultFramebuffer(this.gl),this._preRender(R.effects,R);const Bt=this.lastPostProcessEffect?this.renderBuffers[0]:R.target,Yt=ft.render({...R,target:Bt});this._postRender(R.effects,R),this.renderCount++,(0,sa.Z)("deckRenderer.renderLayers",this,Yt,R)}needsRedraw(R={clearRedrawFlags:!1}){const ft=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ft}finalize(){const{renderBuffers:R}=this;for(const ft of R)ft.delete();R.length=0}_preRender(R,ft){let Bt=null;for(const Yt of R)Yt.preRender(this.gl,ft),Yt.postRender&&(Bt=Yt);Bt&&this._resizeRenderBuffers(),this.lastPostProcessEffect=Bt}_resizeRenderBuffers(){const{renderBuffers:R}=this;0===R.length&&R.push(new q.Z(this.gl),new q.Z(this.gl));for(const ft of R)ft.resize()}_postRender(R,ft){const{renderBuffers:Bt}=this,Yt={inputBuffer:Bt[0],swapBuffer:Bt[1],target:null};for(const le of R)if(le.postRender){if(le===this.lastPostProcessEffect){Yt.target=ft.target,le.postRender(this.gl,Yt);break}const ve=le.postRender(this.gl,Yt);Yt.inputBuffer=ve,Yt.swapBuffer=ve===Bt[0]?Bt[1]:Bt[0]}}}var Ti=Z(1507);const Pn={pickedColor:null,pickedObjectIndex:-1};function ci({pickedColors:Oe,decodePickingColor:R,deviceX:ft,deviceY:Bt,deviceRadius:Yt,deviceRect:le}){const{x:ve,y:Ae,width:gn,height:kn}=le;let Vn=Yt*Yt,ei=-1,Oi=0;for(let oi=0;oi<kn;oi++){const ki=oi+Ae-Bt,Sr=ki*ki;if(Sr>Vn)Oi+=4*gn;else for(let Vo=0;Vo<gn;Vo++){if(Oe[Oi+3]-1>=0){const m=Vo+ve-ft,_=m*m+Sr;_<=Vn&&(Vn=_,ei=Oi)}Oi+=4}}if(ei>=0){const oi=Oe.slice(ei,ei+4),ki=R(oi);if(ki){const Sr=Math.floor(ei/4/gn),Vo=ei/4-Sr*gn;return{...ki,pickedColor:oi,pickedX:ve+Vo,pickedY:Ae+Sr}}Vi.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Pn}function tc({pickInfo:Oe,viewports:R,pixelRatio:ft,x:Bt,y:Yt,z:le}){let Ae,ve=R[0];if(R.length>1&&(ve=function ls(Oe,R){for(let ft=Oe.length-1;ft>=0;ft--){const Bt=Oe[ft];if(Bt.containsPixel(R))return Bt}return Oe[0]}(Oe?.pickedViewports||R,{x:Bt,y:Yt})),ve){const gn=[Bt-ve.x,Yt-ve.y];void 0!==le&&(gn[2]=le),Ae=ve.unproject(gn)}return{color:null,layer:null,viewport:ve,index:-1,picked:!1,x:Bt,y:Yt,pixel:[Bt,Yt],coordinate:Ae,devicePixel:Oe&&"pickedX"in Oe?[Oe.pickedX,Oe.pickedY]:void 0,pixelRatio:ft}}function Js(Oe){const{pickInfo:R,lastPickedInfo:ft,mode:Bt,layers:Yt}=Oe,{pickedColor:le,pickedLayer:ve,pickedObjectIndex:Ae}=R,gn=ve?[ve]:[];if("hover"===Bt){const Oi=ft.layerId,oi=ve?ve.props.id:null;if(oi!==Oi||Ae!==ft.index){if(oi!==Oi){const ki=Yt.find(Sr=>Sr.props.id===Oi);ki&&gn.unshift(ki)}ft.layerId=oi,ft.index=Ae,ft.info=null}}const kn=tc(Oe),Vn=new Map;return Vn.set(null,kn),gn.forEach(ei=>{let Oi={...kn};ei===ve&&(Oi.color=le,Oi.index=Ae,Oi.picked=!0),Oi=Hc({layer:ei,info:Oi,mode:Bt});const oi=Oi.layer;ei===ve&&"hover"===Bt&&(ft.info=Oi),Vn.set(oi.id,Oi),"hover"===Bt&&oi.updateAutoHighlight(Oi)}),Vn}function Hc({layer:Oe,info:R,mode:ft}){for(;Oe&&R;){const Bt=R.layer||null;R.sourceLayer=Bt,R.layer=Oe,R=Oe.getPickingInfo({info:R,mode:ft,sourceLayer:Bt}),Oe=Oe.parent}return R}class So{constructor(R){(0,rt.Z)(this,"gl",void 0),(0,rt.Z)(this,"pickingFBO",void 0),(0,rt.Z)(this,"depthFBO",void 0),(0,rt.Z)(this,"pickLayersPass",void 0),(0,rt.Z)(this,"layerFilter",void 0),(0,rt.Z)(this,"lastPickedInfo",void 0),(0,rt.Z)(this,"_pickable",!0),this.gl=R,this.pickLayersPass=new Te(R),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(R){"layerFilter"in R&&(this.layerFilter=R.layerFilter),"_pickable"in R&&(this._pickable=R._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(R){return this._pickClosestObject(R)}pickObjects(R){return this._pickVisibleObjects(R)}getLastPickedObject({x:R,y:ft,layers:Bt,viewports:Yt},le=this.lastPickedInfo.info){const ve=le&&le.layer&&le.layer.id,Ae=le&&le.viewport&&le.viewport.id,gn=ve?Bt.find(Oi=>Oi.id===ve):null,kn=Ae&&Yt.find(Oi=>Oi.id===Ae)||Yt[0],Vn=kn&&kn.unproject([R-kn.x,ft-kn.y]);return{...le,x:R,y:ft,viewport:kn,coordinate:Vn,layer:gn}}_resizeBuffer(){var R,ft;const{gl:Bt}=this;if(!this.pickingFBO&&(this.pickingFBO=new q.Z(Bt),q.Z.isSupported(Bt,{colorBufferFloat:!0}))){const Yt=new q.Z(Bt);Yt.attach({36064:new Y.Z(Bt,{format:(0,W.D0)(Bt)?34836:6408,type:5126})}),this.depthFBO=Yt}null===(R=this.pickingFBO)||void 0===R||R.resize({width:Bt.canvas.width,height:Bt.canvas.height}),null===(ft=this.depthFBO)||void 0===ft||ft.resize({width:Bt.canvas.width,height:Bt.canvas.height})}_getPickable(R){if(!1===this._pickable)return null;const ft=R.filter(Bt=>Bt.isPickable()&&!Bt.isComposite);return ft.length?ft:null}_pickClosestObject({layers:R,views:ft,viewports:Bt,x:Yt,y:le,radius:ve=0,depth:Ae=1,mode:gn="query",unproject3D:kn,onViewportActive:Vn,effects:ei}){const Oi=this._getPickable(R),oi=(0,W.w)(this.gl);if(!Oi)return{result:[],emptyInfo:tc({viewports:Bt,x:Yt,y:le,pixelRatio:oi})};this._resizeBuffer();const ki=(0,W.JY)(this.gl,[Yt,le],!0),Sr=[ki.x+Math.floor(ki.width/2),ki.y+Math.floor(ki.height/2)],Vo=Math.round(ve*oi),{width:f,height:m}=this.pickingFBO,_=this._getPickingRect({deviceX:Sr[0],deviceY:Sr[1],deviceRadius:Vo,deviceWidth:f,deviceHeight:m}),x={x:Yt-ve,y:le-ve,width:2*ve+1,height:2*ve+1};let D;const K=[],xt=new Set;for(let qt=0;qt<Ae;qt++){let _e,Ge;_e=_?ci({...this._drawAndSample({layers:Oi,views:ft,viewports:Bt,onViewportActive:Vn,deviceRect:_,cullRect:x,effects:ei,pass:"picking:".concat(gn)}),deviceX:Sr[0],deviceY:Sr[1],deviceRadius:Vo,deviceRect:_}):{pickedColor:null,pickedObjectIndex:-1},_e.pickedLayer&&kn&&this.depthFBO&&(Ge=this._drawAndSample({layers:[_e.pickedLayer],views:ft,viewports:Bt,onViewportActive:Vn,deviceRect:{x:_e.pickedX,y:_e.pickedY,width:1,height:1},cullRect:x,effects:ei,pass:"picking:".concat(gn,":z")},!0).pickedColors[0]),_e.pickedLayer&&qt+1<Ae&&(xt.add(_e.pickedLayer),_e.pickedLayer.disablePickingIndex(_e.pickedObjectIndex)),D=Js({pickInfo:_e,lastPickedInfo:this.lastPickedInfo,mode:gn,layers:Oi,viewports:Bt,x:Yt,y:le,z:Ge,pixelRatio:oi});for(const mn of D.values())mn.layer&&K.push(mn);if(!_e.pickedColor)break}for(const qt of xt)qt.restorePickingColors();return{result:K,emptyInfo:D.get(null)}}_pickVisibleObjects({layers:R,views:ft,viewports:Bt,x:Yt,y:le,width:ve=1,height:Ae=1,mode:gn="query",maxObjects:kn=null,onViewportActive:Vn,effects:ei}){const Oi=this._getPickable(R);if(!Oi)return[];this._resizeBuffer();const oi=(0,W.w)(this.gl),ki=(0,W.JY)(this.gl,[Yt,le],!0),Sr=ki.x,Vo=ki.y+ki.height,f=(0,W.JY)(this.gl,[Yt+ve,le+Ae],!0),_=f.y,K=function Rr({pickedColors:Oe,decodePickingColor:R}){const ft=new Map;if(Oe)for(let Bt=0;Bt<Oe.length;Bt+=4)if(Oe[Bt+3]-1>=0){const le=Oe.slice(Bt,Bt+4),ve=le.join(",");if(!ft.has(ve)){const Ae=R(le);Ae?ft.set(ve,{...Ae,color:le}):Vi.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(ft.values())}(this._drawAndSample({layers:Oi,views:ft,viewports:Bt,onViewportActive:Vn,deviceRect:{x:Sr,y:_,width:f.x+f.width-Sr,height:Vo-_},cullRect:{x:Yt,y:le,width:ve,height:Ae},effects:ei,pass:"picking:".concat(gn)})),xt=new Map,qt=Number.isFinite(kn);for(let _e=0;_e<K.length&&!(qt&&kn&&xt.size>=kn);_e++){const Ge=K[_e];let mn={color:Ge.pickedColor,layer:null,index:Ge.pickedObjectIndex,picked:!0,x:Yt,y:le,pixelRatio:oi};mn=Hc({layer:Ge.pickedLayer,info:mn,mode:gn}),xt.has(mn.object)||xt.set(mn.object,mn)}return Array.from(xt.values())}_drawAndSample({layers:R,views:ft,viewports:Bt,onViewportActive:Yt,deviceRect:le,cullRect:ve,effects:Ae,pass:gn},kn=!1){const Vn=kn?this.depthFBO:this.pickingFBO,{decodePickingColor:ei}=this.pickLayersPass.render({layers:R,layerFilter:this.layerFilter,views:ft,viewports:Bt,onViewportActive:Yt,pickingFBO:Vn,deviceRect:le,cullRect:ve,effects:Ae,pass:gn,pickZ:kn}),{x:Oi,y:oi,width:ki,height:Sr}=le,Vo=new(kn?Float32Array:Uint8Array)(ki*Sr*4);return(0,Ti.z6)(Vn,{sourceX:Oi,sourceY:oi,sourceWidth:ki,sourceHeight:Sr,target:Vo}),{pickedColors:Vo,decodePickingColor:ei}}_getPickingRect({deviceX:R,deviceY:ft,deviceRadius:Bt,deviceWidth:Yt,deviceHeight:le}){const ve=Math.max(0,R-Bt),Ae=Math.max(0,ft-Bt),gn=Math.min(Yt,R+Bt+1)-ve,kn=Math.min(le,ft+Bt+1)-Ae;return gn<=0||kn<=0?null:{x:ve,y:Ae,width:gn,height:kn}}}const pd={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class Ws{constructor(R){(0,rt.Z)(this,"el",null),(0,rt.Z)(this,"isVisible",!1);const ft=R.parentElement;ft&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,pd),ft.appendChild(this.el))}setTooltip(R,ft,Bt){const Yt=this.el;if(Yt){if("string"==typeof R)Yt.innerText=R;else{if(!R)return this.isVisible=!1,void(Yt.style.display="none");R.text&&(Yt.innerText=R.text),R.html&&(Yt.innerHTML=R.html),R.className&&(Yt.className=R.className),Object.assign(Yt.style,R.style)}this.isVisible=!0,Yt.style.display="block",Yt.style.transform="translate(".concat(ft,"px, ").concat(Bt,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}var tl=Z(144),El=Z(1460),Xa=Z(4095);const Sc={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function Fl(Oe){const R=Oe[0],ft=Oe[Oe.length-1];return"{"===R&&"}"===ft||"["===R&&"]"===ft},parseTextSync:JSON.parse},Zs="8.8.0",fc=globalThis.deck&&globalThis.deck.VERSION;if(fc&&fc!==Zs)throw new Error("deck.gl - multiple versions detected: ".concat(fc," vs ").concat(Zs));fc||(Vi.Z.log(1,"deck.gl ".concat(Zs))(),globalThis.deck={...globalThis.deck,VERSION:Zs,version:Zs,log:Vi.Z,_registerLoggers:sa.z},(0,El.fh)([Sc,[Xa.S,{imagebitmap:{premultiplyAlpha:"none"}}]]));const Bl=globalThis.deck;var xl=Z(8325),Bo=Z(5861),$o=Z(1528),Nr=Z(659),pn=Z(6729),Tn=Z(2378),$e=Z(7552);class Cc extends pn.Z{get[Symbol.toStringTag](){return"Query"}static isSupported(R){let ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const Bt=(0,W.D0)(R),Yt=(0,Tn.ag)(R,$e.h.TIMER_QUERY);let le=Bt||Yt;for(const ve of ft)switch(ve){case"queries":le=le&&Bt;break;case"timers":le=le&&Yt;break;default:(0,Nr.h)(!1)}return le}constructor(R){super(R,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:R=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(R?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(R){return this._queryPending||(this.target=R,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const R=this.gl2.getQueryParameter(this.handle,34919);return R&&(this._queryPending=!1),R}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let ft=0;return this._pollingPromise=new Promise((Bt,Yt)=>{const le=()=>{this.isResultAvailable()?(Bt(this.getResult()),this._pollingPromise=null):ft++>R?(Yt("Timed out"),this._pollingPromise=null):requestAnimationFrame(le)};requestAnimationFrame(le)}),this._pollingPromise}_createHandle(){return Cc.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const Bn=(0,Z(25).Z)()&&typeof document<"u";let Du=0;class pc{constructor(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:ft=(Vo=>(0,W.s9)(Vo)),onAddHTML:Bt=null,onInitialize:Yt=(()=>{}),onRender:le=(()=>{}),onFinalize:ve=(()=>{}),onError:Ae,gl:gn=null,glOptions:kn={},debug:Vn=!1,createFramebuffer:ei=!1,autoResizeViewport:Oi=!0,autoResizeDrawingBuffer:oi=!0,stats:ki=$o.lR.get("animation-loop-".concat(Du++))}=R;let{useDevicePixels:Sr=!0}=R;"useDevicePixelRatio"in R&&(W.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),Sr=R.useDevicePixelRatio),this.props={onCreateContext:ft,onAddHTML:Bt,onInitialize:Yt,onRender:le,onFinalize:ve,onError:Ae,gl:gn,glOptions:kn,debug:Vn,createFramebuffer:ei},this.gl=gn,this.needsRedraw=null,this.timeline=null,this.stats=ki,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:Oi,autoResizeDrawingBuffer:oi,useDevicePixels:Sr}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(R){return(0,Nr.h)("string"==typeof R),this.needsRedraw=this.needsRedraw||R,this}setProps(R){return"autoResizeViewport"in R&&(this.autoResizeViewport=R.autoResizeViewport),"autoResizeDrawingBuffer"in R&&(this.autoResizeDrawingBuffer=R.autoResizeDrawingBuffer),"useDevicePixels"in R&&(this.useDevicePixels=R.useDevicePixels),this}start(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const ft=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(R),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=Cc.isSupported(this.gl,["timers"])?new Cc(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(Bt=>{this._running&&(this._addCallbackData(Bt||{}),!1!==Bt&&this._startLoop())});return this.props.onError&&ft.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(R){return this.timeline=R,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(R=>{this._resolveNextFrame=R})),this._nextFramePromise}toDataURL(){var R=this;return(0,Bo.Z)(function*(){return R.setNeedsRedraw("toDataURL"),yield R.waitForRender(),R.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(R){let ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const Bt=document.getElementById(R);return Bt?Number(Bt.value):ft}setViewParameters(){return W.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const R=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(R))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(R)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=Bn?new Promise((R,ft)=>{Bn&&"complete"===document.readyState?R(document):window.addEventListener("load",()=>{R(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(R){this.display&&(this.display.delete(),this.display.animationLoop=null),R&&(R.animationLoop=this),this.display=R}_cancelAnimationFrame(R){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(R):function Tu(Oe){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(Oe):clearTimeout(Oe)}(R)}_requestAnimationFrame(R){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(R):function Ko(Oe){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(Oe):setTimeout(Oe,1e3/60)}(R)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:R,height:ft,aspect:Bt}=this._getSizeAndAspect();(R!==this.animationProps.width||ft!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),Bt!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=R,this.animationProps.height=ft,this.animationProps.aspect=Bt,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(R){"object"==typeof R&&null!==R&&(this.animationProps=Object.assign({},this.animationProps,R))}_createWebGLContext(R){if(this.offScreen=R.canvas&&typeof OffscreenCanvas<"u"&&R.canvas instanceof OffscreenCanvas,R=Object.assign({},R,this.props.glOptions),this.gl=this.props.gl?(0,W.yW)(this.props.gl,R):this.onCreateContext(R),!(0,W.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,W.kL)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const R=document.createElement("div");document.body.appendChild(R),R.style.position="relative";const ft=document.createElement("div");ft.style.position="absolute",ft.style.left="10px",ft.style.bottom="10px",ft.style.width="300px",ft.style.background="white",R.appendChild(this.gl.canvas),R.appendChild(ft);const Bt=this.props.onAddHTML(ft);Bt&&(ft.innerHTML=Bt)}}_getSizeAndAspect(){const R=this.gl.drawingBufferWidth,ft=this.gl.drawingBufferHeight;let Bt=1;const{canvas:Yt}=this.gl;return Yt&&Yt.clientHeight?Bt=Yt.clientWidth/Yt.clientHeight:R>0&&ft>0&&(Bt=R/ft),{width:R,height:ft,aspect:Bt}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,W.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new q.Z(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:R}=this.gl;R&&(R.addEventListener("mousemove",this._onMousemove),R.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(R){this.animationProps._mousePosition=[R.offsetX,R.offsetY]}_onMouseleave(R){this.animationProps._mousePosition=null}}var ir=Z(5386);const Eh={mousedown:1,mousemove:2,mouseup:4};(function Do(Oe){const R=Oe.prototype.handler;Oe.prototype.handler=function(Bt){const Yt=this.store;Bt.button>0&&"pointerdown"===Bt.type&&(function Xp(Oe,R){for(let ft=0;ft<Oe.length;ft++)if(R(Oe[ft]))return!0;return!1}(Yt,le=>le.pointerId===Bt.pointerId)||Yt.push(Bt)),R.call(this,Bt)}})(ir.PointerEventInput),function Tl(Oe){Oe.prototype.handler=function(ft){let Bt=Eh[ft.type];1&Bt&&ft.button>=0&&(this.pressed=!0),2&Bt&&0===ft.which&&(Bt=4),this.pressed&&(4&Bt&&(this.pressed=!1),this.callback(this.manager,Bt,{pointers:[ft],changedPointers:[ft],pointerType:"mouse",srcEvent:ft}))}}(ir.MouseInput);const Co=ir.Manager,ms=ir;class wl{constructor(R,ft,Bt){this.element=R,this.callback=ft,this.options={enable:!0,...Bt}}}const Iu=ms?[[ms.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[ms.Rotate,{enable:!1}],[ms.Pinch,{enable:!1}],[ms.Swipe,{enable:!1}],[ms.Pan,{threshold:0,enable:!1}],[ms.Press,{enable:!1}],[ms.Tap,{event:"doubletap",taps:2,enable:!1}],[ms.Tap,{event:"anytap",enable:!1}],[ms.Tap,{enable:!1}]]:null,Dr={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},gu={doubletap:["tap"]},ko={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},mc={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},el={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},on={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Yu=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",di=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let nc=!1;try{di.addEventListener("test",null,{get passive(){return nc=!0,!0}}),di.removeEventListener("test",null)}catch{nc=!1}const Ts=-1!==Yu.indexOf("firefox"),{WHEEL_EVENTS:Ys}=mc,zl=4.000244140625;class xo extends wl{constructor(R,ft,Bt){super(R,ft,Bt),this.handleEvent=Yt=>{if(!this.options.enable)return;let le=Yt.deltaY;di.WheelEvent&&(Ts&&Yt.deltaMode===di.WheelEvent.DOM_DELTA_PIXEL&&(le/=di.devicePixelRatio),Yt.deltaMode===di.WheelEvent.DOM_DELTA_LINE&&(le*=40)),0!==le&&le%zl==0&&(le=Math.floor(le/zl)),Yt.shiftKey&&le&&(le*=.25),this.callback({type:"wheel",center:{x:Yt.clientX,y:Yt.clientY},delta:-le,srcEvent:Yt,pointerType:"mouse",target:Yt.target})},this.events=(this.options.events||[]).concat(Ys),this.events.forEach(Yt=>R.addEventListener(Yt,this.handleEvent,!!nc&&{passive:!1}))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ft){"wheel"===R&&(this.options.enable=ft)}}const{MOUSE_EVENTS:lr}=mc,fl="pointermove",Dl="pointerover",ic="pointerout",Rl="pointerenter",As="pointerleave";class es extends wl{constructor(R,ft,Bt){super(R,ft,Bt),this.handleEvent=le=>{this.handleOverEvent(le),this.handleOutEvent(le),this.handleEnterEvent(le),this.handleLeaveEvent(le),this.handleMoveEvent(le)},this.pressed=!1;const{enable:Yt}=this.options;this.enableMoveEvent=Yt,this.enableLeaveEvent=Yt,this.enableEnterEvent=Yt,this.enableOutEvent=Yt,this.enableOverEvent=Yt,this.events=(this.options.events||[]).concat(lr),this.events.forEach(le=>R.addEventListener(le,this.handleEvent))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ft){R===fl&&(this.enableMoveEvent=ft),R===Dl&&(this.enableOverEvent=ft),R===ic&&(this.enableOutEvent=ft),R===Rl&&(this.enableEnterEvent=ft),R===As&&(this.enableLeaveEvent=ft)}handleOverEvent(R){this.enableOverEvent&&"mouseover"===R.type&&this._emit(Dl,R)}handleOutEvent(R){this.enableOutEvent&&"mouseout"===R.type&&this._emit(ic,R)}handleEnterEvent(R){this.enableEnterEvent&&"mouseenter"===R.type&&this._emit(Rl,R)}handleLeaveEvent(R){this.enableLeaveEvent&&"mouseleave"===R.type&&this._emit(As,R)}handleMoveEvent(R){if(this.enableMoveEvent)switch(R.type){case"mousedown":R.button>=0&&(this.pressed=!0);break;case"mousemove":0===R.which&&(this.pressed=!1),this.pressed||this._emit(fl,R);break;case"mouseup":this.pressed=!1}}_emit(R,ft){this.callback({type:R,center:{x:ft.clientX,y:ft.clientY},srcEvent:ft,pointerType:"mouse",target:ft.target})}}const{KEY_EVENTS:Od}=mc,Pi="keydown";class Mc extends wl{constructor(R,ft,Bt){super(R,ft,Bt),this.handleEvent=Yt=>{const le=Yt.target||Yt.srcElement;"INPUT"===le.tagName&&"text"===le.type||"TEXTAREA"===le.tagName||(this.enableDownEvent&&"keydown"===Yt.type&&this.callback({type:Pi,srcEvent:Yt,key:Yt.key,target:Yt.target}),this.enableUpEvent&&"keyup"===Yt.type&&this.callback({type:"keyup",srcEvent:Yt,key:Yt.key,target:Yt.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Od),R.tabIndex=this.options.tabIndex||0,R.style.outline="none",this.events.forEach(Yt=>R.addEventListener(Yt,this.handleEvent))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ft){R===Pi&&(this.enableDownEvent=ft),"keyup"===R&&(this.enableUpEvent=ft)}}const nl="contextmenu";class yi extends wl{constructor(R,ft,Bt){super(R,ft,Bt),this.handleEvent=Yt=>{this.options.enable&&this.callback({type:nl,center:{x:Yt.clientX,y:Yt.clientY},srcEvent:Yt,pointerType:"mouse",target:Yt.target})},R.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(R,ft){R===nl&&(this.options.enable=ft)}}const cs=1,Xu=2,Cn=4,il={pointerdown:cs,pointermove:Xu,pointerup:Cn,mousedown:cs,mousemove:Xu,mouseup:Cn},Yo=1,Xs=2,us=3,$s=0,he=1,gc=2,Bs=1,xs=2,wr=4;function Si(Oe){const R=il[Oe.srcEvent.type];if(!R)return null;const{buttons:ft,button:Bt,which:Yt}=Oe.srcEvent;let le=!1,ve=!1,Ae=!1;return R===Cn||R===Xu&&!Number.isFinite(ft)?(le=Yt===Yo,ve=Yt===Xs,Ae=Yt===us):R===Xu?(le=Boolean(ft&Bs),ve=Boolean(ft&wr),Ae=Boolean(ft&xs)):R===cs&&(le=Bt===$s,ve=Bt===he,Ae=Bt===gc),{leftButton:le,middleButton:ve,rightButton:Ae}}function mr(Oe,R){const ft=Oe.center;if(!ft)return null;const Bt=R.getBoundingClientRect();return{center:ft,offsetCenter:{x:(ft.x-Bt.left-R.clientLeft)/(Bt.width/R.offsetWidth||1),y:(ft.y-Bt.top-R.clientTop)/(Bt.height/R.offsetHeight||1)}}}const po={srcElement:"root",priority:0};class ds{constructor(R){this.handleEvent=ft=>{if(this.isEmpty())return;const Bt=this._normalizeEvent(ft);let Yt=ft.srcEvent.target;for(;Yt&&Yt!==Bt.rootElement;){if(this._emit(Bt,Yt),Bt.handled)return;Yt=Yt.parentNode}this._emit(Bt,"root")},this.eventManager=R,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(R,ft,Bt,Yt=!1,le=!1){const{handlers:ve,handlersByElement:Ae}=this;let gn=po;"string"==typeof Bt||Bt&&Bt.addEventListener?gn={...po,srcElement:Bt}:Bt&&(gn={...po,...Bt});let kn=Ae.get(gn.srcElement);kn||(kn=[],Ae.set(gn.srcElement,kn));const Vn={type:R,handler:ft,srcElement:gn.srcElement,priority:gn.priority};Yt&&(Vn.once=!0),le&&(Vn.passive=!0),ve.push(Vn),this._active=this._active||!Vn.passive;let ei=kn.length-1;for(;ei>=0&&!(kn[ei].priority>=Vn.priority);)ei--;kn.splice(ei+1,0,Vn)}remove(R,ft){const{handlers:Bt,handlersByElement:Yt}=this;for(let le=Bt.length-1;le>=0;le--){const ve=Bt[le];if(ve.type===R&&ve.handler===ft){Bt.splice(le,1);const Ae=Yt.get(ve.srcElement);Ae.splice(Ae.indexOf(ve),1),0===Ae.length&&Yt.delete(ve.srcElement)}}this._active=Bt.some(le=>!le.passive)}_emit(R,ft){const Bt=this.handlersByElement.get(ft);if(Bt){let Yt=!1;const le=()=>{R.handled=!0},ve=()=>{R.handled=!0,Yt=!0},Ae=[];for(let gn=0;gn<Bt.length;gn++){const{type:kn,handler:Vn,once:ei}=Bt[gn];if(Vn({...R,type:kn,stopPropagation:le,stopImmediatePropagation:ve}),ei&&Ae.push(Bt[gn]),Yt)break}for(let gn=0;gn<Ae.length;gn++){const{type:kn,handler:Vn}=Ae[gn];this.remove(kn,Vn)}}}_normalizeEvent(R){const ft=this.eventManager.getElement();return{...R,...Si(R),...mr(R,ft),preventDefault:()=>{R.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:ft}}}const Ro={events:null,recognizers:null,recognizerOptions:{},Manager:Co,touchAction:"none",tabIndex:0};class Ao{constructor(R=null,ft){this._onBasicInput=Yt=>{const{srcEvent:le}=Yt,ve=ko[le.type];ve&&this.manager.emit(ve,Yt)},this._onOtherEvent=Yt=>{this.manager.emit(Yt.type,Yt)},this.options={...Ro,...ft},this.events=new Map,this.setElement(R);const{events:Bt}=this.options;Bt&&this.on(Bt)}getElement(){return this.element}setElement(R){if(this.element&&this.destroy(),this.element=R,!R)return;const{options:ft}=this;this.manager=new(0,ft.Manager)(R,{touchAction:ft.touchAction,recognizers:ft.recognizers||Iu}).on("hammer.input",this._onBasicInput),ft.recognizers||Object.keys(Dr).forEach(Yt=>{const le=this.manager.get(Yt);le&&Dr[Yt].forEach(ve=>{le.recognizeWith(ve)})});for(const Yt in ft.recognizerOptions){const le=this.manager.get(Yt);if(le){const ve=ft.recognizerOptions[Yt];delete ve.enable,le.set(ve)}}this.wheelInput=new xo(R,this._onOtherEvent,{enable:!1}),this.moveInput=new es(R,this._onOtherEvent,{enable:!1}),this.keyInput=new Mc(R,this._onOtherEvent,{enable:!1,tabIndex:ft.tabIndex}),this.contextmenuInput=new yi(R,this._onOtherEvent,{enable:!1});for(const[Yt,le]of this.events)le.isEmpty()||(this._toggleRecognizer(le.recognizerName,!0),this.manager.on(Yt,le.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(R,ft,Bt){this._addEventHandler(R,ft,Bt,!1)}once(R,ft,Bt){this._addEventHandler(R,ft,Bt,!0)}watch(R,ft,Bt){this._addEventHandler(R,ft,Bt,!1,!0)}off(R,ft){this._removeEventHandler(R,ft)}_toggleRecognizer(R,ft){const{manager:Bt}=this;if(!Bt)return;const Yt=Bt.get(R);if(Yt&&Yt.options.enable!==ft){Yt.set({enable:ft});const le=gu[R];le&&!this.options.recognizers&&le.forEach(ve=>{const Ae=Bt.get(ve);ft?(Ae.requireFailure(R),Yt.dropRequireFailure(ve)):Ae.dropRequireFailure(R)})}this.wheelInput.enableEventType(R,ft),this.moveInput.enableEventType(R,ft),this.keyInput.enableEventType(R,ft),this.contextmenuInput.enableEventType(R,ft)}_addEventHandler(R,ft,Bt,Yt,le){if("string"!=typeof R){Bt=ft;for(const Vn in R)this._addEventHandler(Vn,R[Vn],Bt,Yt,le);return}const{manager:ve,events:Ae}=this,gn=on[R]||R;let kn=Ae.get(gn);kn||(kn=new ds(this),Ae.set(gn,kn),kn.recognizerName=el[gn]||gn,ve&&ve.on(gn,kn.handleEvent)),kn.add(R,ft,Bt,Yt,le),kn.isEmpty()||this._toggleRecognizer(kn.recognizerName,!0)}_removeEventHandler(R,ft){if("string"!=typeof R){for(const ve in R)this._removeEventHandler(ve,R[ve]);return}const{events:Bt}=this,le=Bt.get(on[R]||R);if(le&&(le.remove(R,ft),le.isEmpty())){const{recognizerName:ve}=le;let Ae=!1;for(const gn of Bt.values())if(gn.recognizerName===ve&&!gn.isEmpty()){Ae=!0;break}Ae||this._toggleRecognizer(ve,!1)}}}var Qo=Z(406);function ns(){}const Ec={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:ns,onResize:ns,onViewStateChange:ns,onInteractionStateChange:ns,onBeforeRender:ns,onAfterRender:ns,onLoad:ns,onError:Oe=>Vi.Z.error(Oe.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:Oe})=>Oe?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class Hi{constructor(R){(0,rt.Z)(this,"props",void 0),(0,rt.Z)(this,"width",0),(0,rt.Z)(this,"height",0),(0,rt.Z)(this,"userData",{}),(0,rt.Z)(this,"canvas",null),(0,rt.Z)(this,"viewManager",null),(0,rt.Z)(this,"layerManager",null),(0,rt.Z)(this,"effectManager",null),(0,rt.Z)(this,"deckRenderer",null),(0,rt.Z)(this,"deckPicker",null),(0,rt.Z)(this,"eventManager",null),(0,rt.Z)(this,"tooltip",null),(0,rt.Z)(this,"metrics",void 0),(0,rt.Z)(this,"animationLoop",void 0),(0,rt.Z)(this,"stats",void 0),(0,rt.Z)(this,"viewState",void 0),(0,rt.Z)(this,"cursorState",void 0),(0,rt.Z)(this,"_needsRedraw",void 0),(0,rt.Z)(this,"_pickRequest",void 0),(0,rt.Z)(this,"_lastPointerDownInfo",null),(0,rt.Z)(this,"_metricsCounter",void 0),(0,rt.Z)(this,"_onPointerMove",ft=>{const{_pickRequest:Bt}=this;if("pointerleave"===ft.type)Bt.x=-1,Bt.y=-1,Bt.radius=0;else{if(ft.leftButton||ft.rightButton)return;{const Yt=ft.offsetCenter;if(!Yt)return;Bt.x=Yt.x,Bt.y=Yt.y,Bt.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:Bt.x,y:Bt.y}),Bt.event=ft}),(0,rt.Z)(this,"_onEvent",ft=>{const Bt=J.FP[ft.type],Yt=ft.offsetCenter;if(!Bt||!Yt||!this.layerManager)return;const le=this.layerManager.getLayers(),ve=this.deckPicker.getLastPickedObject({x:Yt.x,y:Yt.y,layers:le,viewports:this.getViewports(Yt)},this._lastPointerDownInfo),{layer:Ae}=ve,gn=Ae&&(Ae[Bt.handler]||Ae.props[Bt.handler]),kn=this.props[Bt.handler];let Vn=!1;gn&&(Vn=gn.call(Ae,ve,ft)),!Vn&&kn&&kn(ve,ft)}),(0,rt.Z)(this,"_onPointerDown",ft=>{const Bt=ft.offsetCenter,Yt=this._pick("pickObject","pickObject Time",{x:Bt.x,y:Bt.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=Yt.result[0]||Yt.emptyInfo}),this.props={...Ec,...R},R=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},R.viewState&&R.initialViewState&&Vi.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,xl.Z)()&&Vi.Z.warn("IE 11 is not supported")(),this.viewState=R.initialViewState,R.gl||typeof document<"u"&&(this.canvas=this._createCanvas(R)),this.animationLoop=this._createAnimationLoop(R),this.stats=new $t.Z({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(R),R._typedArrayManagerProps&&tl.Z.setOptions(R._typedArrayManagerProps),this.animationLoop.start()}finalize(){var R,ft,Bt,Yt,le,ve,Ae,gn;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(R=this.layerManager)||void 0===R||R.finalize(),this.layerManager=null,null===(ft=this.viewManager)||void 0===ft||ft.finalize(),this.viewManager=null,null===(Bt=this.effectManager)||void 0===Bt||Bt.finalize(),this.effectManager=null,null===(Yt=this.deckRenderer)||void 0===Yt||Yt.finalize(),this.deckRenderer=null,null===(le=this.deckPicker)||void 0===le||le.finalize(),this.deckPicker=null,null===(ve=this.eventManager)||void 0===ve||ve.destroy(),this.eventManager=null,null===(Ae=this.tooltip)||void 0===Ae||Ae.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(gn=this.canvas.parentElement)||void 0===gn||gn.removeChild(this.canvas),this.canvas=null)}setProps(R){this.stats.get("setProps Time").timeStart(),"onLayerHover"in R&&Vi.Z.removed("onLayerHover","onHover")(),"onLayerClick"in R&&Vi.Z.removed("onLayerClick","onClick")(),R.initialViewState&&!(0,ho.v)(this.props.initialViewState,R.initialViewState)&&(this.viewState=R.initialViewState),Object.assign(this.props,R),this._setCanvasSize(this.props);const ft=Object.create(this.props);Object.assign(ft,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(ft),this.layerManager&&(this.viewManager.setProps(ft),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(ft),this.effectManager.setProps(ft),this.deckRenderer.setProps(ft),this.deckPicker.setProps(ft)),this.stats.get("setProps Time").timeEnd()}needsRedraw(R={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let ft=this._needsRedraw;R.clearRedrawFlags&&(this._needsRedraw=!1);const Bt=this.viewManager.needsRedraw(R),Yt=this.layerManager.needsRedraw(R),le=this.effectManager.needsRedraw(R),ve=this.deckRenderer.needsRedraw(R);return ft=ft||Bt||Yt||le||ve,ft}redraw(R){if(!this.layerManager)return;let ft=this.needsRedraw({clearRedrawFlags:!0});ft=R||ft,ft&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(ft):this._drawLayers(ft))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,Qo.Z)(this.viewManager),this.viewManager.views}getViewports(R){return(0,Qo.Z)(this.viewManager),this.viewManager.getViewports(R)}pickObject(R){const ft=this._pick("pickObject","pickObject Time",R).result;return ft.length?ft[0]:null}pickMultipleObjects(R){return R.depth=R.depth||10,this._pick("pickObject","pickMultipleObjects Time",R).result}pickObjects(R){return this._pick("pickObjects","pickObjects Time",R)}_addResources(R,ft=!1){for(const Bt in R)this.layerManager.resourceManager.add({resourceId:Bt,data:R[Bt],forceUpdate:ft})}_removeResources(R){for(const ft of R)this.layerManager.resourceManager.remove(ft)}_pick(R,ft,Bt){(0,Qo.Z)(this.deckPicker);const{stats:Yt}=this;Yt.get("Pick Count").incrementCount(),Yt.get(ft).timeStart();const le=this.deckPicker[R]({layers:this.layerManager.getLayers(Bt),views:this.viewManager.getViews(),viewports:this.getViewports(Bt),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...Bt});return Yt.get(ft).timeEnd(),le}_createCanvas(R){let ft=R.canvas;return"string"==typeof ft&&(ft=document.getElementById(ft),(0,Qo.Z)(ft)),ft||(ft=document.createElement("canvas"),ft.id=R.id||"deckgl-overlay",(R.parent||document.body).appendChild(ft)),Object.assign(ft.style,R.style),ft}_setCanvasSize(R){if(!this.canvas)return;const{width:ft,height:Bt}=R;if(ft||0===ft){const le=Number.isFinite(ft)?"".concat(ft,"px"):ft;this.canvas.style.width=le}if(Bt||0===Bt){var Yt;const le=Number.isFinite(Bt)?"".concat(Bt,"px"):Bt;this.canvas.style.position=(null===(Yt=R.style)||void 0===Yt?void 0:Yt.position)||"absolute",this.canvas.style.height=le}}_updateCanvasSize(){const{canvas:R}=this;if(!R)return;const ft=R.clientWidth||R.width,Bt=R.clientHeight||R.height;var Yt;ft===this.width&&Bt===this.height||(this.width=ft,this.height=Bt,null===(Yt=this.viewManager)||void 0===Yt||Yt.setProps({width:ft,height:Bt}),this.props.onResize({width:ft,height:Bt}))}_createAnimationLoop(R){const{width:ft,height:Bt,gl:Yt,glOptions:le,debug:ve,onError:Ae,onBeforeRender:gn,onAfterRender:kn,useDevicePixels:Vn}=R;return new pc({width:ft,height:Bt,useDevicePixels:Vn,autoResizeViewport:!1,gl:Yt,onCreateContext:ei=>(0,W.s9)({...le,...ei,canvas:this.canvas,debug:ve,onContextLost:()=>this._onContextLost()}),onInitialize:ei=>this._setGLContext(ei.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:gn,onAfterRender:kn,onError:Ae})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let R=this.props.views||[new bl.Z({id:"default-view"})];return R=Array.isArray(R)?R:[R],R.length&&this.props.controller&&(R[0].props.controller=this.props.controller),R}_onContextLost(){const{onError:R}=this.props;this.animationLoop&&R&&R(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:R}=this;if(R.event){const{result:Bt,emptyInfo:Yt}=this._pick("pickObject","pickObject Time",R);this.cursorState.isHovering=Bt.length>0;let le=Yt,ve=!1;for(const Ae of Bt){var ft;le=Ae,ve=(null===(ft=Ae.layer)||void 0===ft?void 0:ft.onHover(Ae,R.event))||ve}if(!ve&&this.props.onHover&&this.props.onHover(le,R.event),this.props.getTooltip&&this.tooltip){const Ae=this.props.getTooltip(le);this.tooltip.setTooltip(Ae,le.x,le.y)}R.event=null}}_updateCursor(){const R=this.props.parent||this.canvas;R&&(R.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(R){if(this.layerManager)return;this.canvas||(this.canvas=R.canvas,(0,W.yW)(R,{enable:!0,copyState:!0})),this.tooltip=new Ws(this.canvas),(0,W.dR)(R,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(R);const ft=new Ha;ft.play(),this.animationLoop.attachTimeline(ft),this.eventManager=new Ao(this.props.parent||R.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const Yt in J.FP)this.eventManager.on(Yt,this._onEvent);this.viewManager=new fa({timeline:ft,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const Bt=this.viewManager.getViewports()[0];this.layerManager=new oo(R,{deck:this,stats:this.stats,viewport:Bt,timeline:ft}),this.effectManager=new Ns,this.deckRenderer=new Ke(R),this.deckPicker=new So(R),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(R,ft){const{gl:Bt}=this.layerManager.context;(0,W.dR)(Bt,this.props.parameters),this.props.onBeforeRender({gl:Bt}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:R,effects:this.effectManager.getEffects(),...ft}),this.props.onAfterRender({gl:Bt})}_onRenderFrame(R){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),Vi.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(R){const ft=this.props.onViewStateChange(R)||R.viewState;this.viewState&&(this.viewState={...this.viewState,[R.viewId]:ft},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(R){this.cursorState.isDragging=R.isDragging||!1,this.props.onInteractionStateChange(R)}_getFrameStats(){const{stats:R}=this;R.get("frameRate").timeEnd(),R.get("frameRate").timeStart();const ft=this.animationLoop.stats;R.get("GPU Time").addTime(ft.get("GPU Time").lastTiming),R.get("CPU Time").addTime(ft.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:R,stats:ft}=this;R.fps=ft.get("frameRate").getHz(),R.setPropsTime=ft.get("setProps Time").time,R.updateAttributesTime=ft.get("Update Attributes").time,R.framesRedrawn=ft.get("Redraw Count").count,R.pickTime=ft.get("pickObject Time").time+ft.get("pickMultipleObjects Time").time+ft.get("pickObjects Time").time,R.pickCount=ft.get("Pick Count").count,R.gpuTime=ft.get("GPU Time").time,R.cpuTime=ft.get("CPU Time").time,R.gpuTimePerFrame=ft.get("GPU Time").getAverageTime(),R.cpuTimePerFrame=ft.get("CPU Time").getAverageTime();const Bt=$o.lR.get("Memory Usage");R.bufferMemory=Bt.get("Buffer Memory").count,R.textureMemory=Bt.get("Texture Memory").count,R.renderbufferMemory=Bt.get("Renderbuffer Memory").count,R.gpuMemory=Bt.get("GPU Memory").count}}(0,rt.Z)(Hi,"defaultProps",Ec),(0,rt.Z)(Hi,"VERSION",Bl.VERSION);var Is=Z(5001),pl=Z(5670),Gl=Z(2757),hs=Z(3454),gs=Z(9538);const Vs=Math.PI/180,Jo=180/Math.PI,ws=6370972,ma=256;function Pu(){const Oe=ma/ws,R=Math.PI/180*ma;return{unitsPerMeter:[Oe,Oe,Oe],unitsPerMeter2:[0,0,0],metersPerUnit:[1/Oe,1/Oe,1/Oe],unitsPerDegree:[R,R,Oe],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/R,1/R,1/Oe]}}class Fr extends Un.Z{constructor(R={}){const{latitude:ft=0,longitude:Bt=0,zoom:Yt=0,nearZMultiplier:le=.1,farZMultiplier:ve=2,resolution:Ae=10}=R;let{height:gn,altitude:kn=1.5}=R;gn=gn||1,kn=Math.max(.75,kn);const Vn=(new X.Z).lookAt({eye:[0,-kn,0],up:[0,0,1]}),ei=Math.pow(2,Yt);Vn.rotateX(ft*Vs),Vn.rotateZ(-Bt*Vs),Vn.scale(ei/gn);const Oi=Math.atan(.5/kn),oi=2*ma*ei/gn;super({...R,height:gn,viewMatrix:Vn,longitude:Bt,latitude:ft,zoom:Yt,distanceScales:Pu(),fovyRadians:2*Oi,focalDistance:kn,near:le,far:Math.min(2,1/oi+1)*kn*ve}),(0,rt.Z)(this,"longitude",void 0),(0,rt.Z)(this,"latitude",void 0),(0,rt.Z)(this,"resolution",void 0),this.latitude=ft,this.longitude=Bt,this.resolution=Ae}get projectionMode(){return J.zG.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(R={}){const ft={targetZ:R.z||0},Bt=this.unproject([0,this.height/2],ft),Yt=this.unproject([this.width/2,0],ft),le=this.unproject([this.width,this.height/2],ft),ve=this.unproject([this.width/2,this.height],ft);return le[0]<this.longitude&&(le[0]+=360),Bt[0]>this.longitude&&(Bt[0]-=360),[Math.min(Bt[0],le[0],Yt[0],ve[0]),Math.min(Bt[1],le[1],Yt[1],ve[1]),Math.max(Bt[0],le[0],Yt[0],ve[0]),Math.max(Bt[1],le[1],Yt[1],ve[1])]}unproject(R,{topLeft:ft=!0,targetZ:Bt}={}){const[Yt,le,ve]=R,Ae=ft?le:this.height-le,{pixelUnprojectionMatrix:gn}=this;let kn;if(Number.isFinite(ve))kn=zs(gn,[Yt,Ae,ve,1]);else{const oi=zs(gn,[Yt,Ae,-1,1]),ki=zs(gn,[Yt,Ae,1,1]),Sr=((Bt||0)/ws+1)*ma,Vo=hs.x9(hs.lu([],oi,ki)),f=hs.x9(oi),m=hs.x9(ki),x=(4*f*m-(Vo-f-m)**2)/16*4/Vo,xt=(Math.sqrt(f-x)-Math.sqrt(Math.max(0,Sr*Sr-x)))/Math.sqrt(Vo);kn=hs.t7([],oi,ki,xt)}const[Vn,ei,Oi]=this.unprojectPosition(kn);return Number.isFinite(ve)?[Vn,ei,Oi]:Number.isFinite(Bt)?[Vn,ei,Bt]:[Vn,ei]}projectPosition(R){const[ft,Bt,Yt=0]=R,le=ft*Vs,ve=Bt*Vs,Ae=Math.cos(ve),gn=(Yt/ws+1)*ma;return[Math.sin(le)*Ae*gn,-Math.cos(le)*Ae*gn,Math.sin(ve)*gn]}unprojectPosition(R){const[ft,Bt,Yt]=R,le=hs.Zh(R),ve=Math.asin(Yt/le);return[Math.atan2(ft,-Bt)*Jo,ve*Jo,(le/ma-1)*ws]}projectFlat(R){return R}unprojectFlat(R){return R}panByPosition(R,ft){const Bt=this.unproject(ft);return{longitude:R[0]-Bt[0]+this.longitude,latitude:R[1]-Bt[1]+this.latitude}}}function zs(Oe,R){const ft=gs.fF([],R,Oe);return gs.bA(ft,ft,1/ft[3]),ft}const ml=Math.PI/180;function Hl({height:Oe,focalDistance:R,orbitAxis:ft,rotationX:Bt,rotationOrbit:Yt,zoom:le}){const ve="Z"===ft?[0,0,1]:[0,1,0],Ae="Z"===ft?[0,-R,0]:[0,0,R],gn=(new X.Z).lookAt({eye:Ae,up:ve});gn.rotateX(Bt*ml),"Z"===ft?gn.rotateZ(Yt*ml):gn.rotateY(Yt*ml);const kn=Math.pow(2,le)/Oe;return gn.scale(kn),gn}class Tc extends Un.Z{constructor(R){const{height:ft,projectionMatrix:Bt,fovy:Yt=50,orbitAxis:le="Z",target:ve=[0,0,0],rotationX:Ae=0,rotationOrbit:gn=0,zoom:kn=0}=R,Vn=Bt?Bt[5]/2:(0,ut.sj)(Yt);super({...R,longitude:void 0,viewMatrix:Hl({height:ft||1,focalDistance:Vn,orbitAxis:le,rotationX:Ae,rotationOrbit:gn,zoom:kn}),fovy:Yt,focalDistance:Vn,position:ve,zoom:kn}),(0,rt.Z)(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(R,{topLeft:ft=!0}={}){const[Bt,Yt,le=this.projectedCenter[2]]=R,ve=ft?Yt:this.height-Yt,[Ae,gn,kn]=(0,ut.CT)([Bt,ve,le],this.pixelUnprojectionMatrix);return[Ae,gn,kn]}panByPosition(R,ft){const Bt=this.project(R);return{target:this.unproject([this.width/2+Bt[0]-ft[0],this.height/2+Bt[1]-ft[1],this.projectedCenter[2]])}}}class Lo{constructor({phi:R=0,theta:ft=0,radius:Bt=1,bearing:Yt,pitch:le,altitude:ve,radiusScale:Ae=6371e3}={}){(0,rt.Z)(this,"phi",void 0),(0,rt.Z)(this,"theta",void 0),(0,rt.Z)(this,"radius",void 0),(0,rt.Z)(this,"radiusScale",void 0),this.phi=R,this.theta=ft,this.radius=Bt||ve||1,this.radiusScale=Ae||1,void 0!==Yt&&(this.bearing=Yt),void 0!==le&&(this.pitch=le),this.check()}toString(){return this.formatString(Li.vc)}formatString({printTypes:R=!1}){const ft=Li.Bw;return"".concat(R?"Spherical":"","[rho:").concat(ft(this.radius),",theta:").concat(ft(this.theta),",phi:").concat(ft(this.phi),"]")}equals(R){return(0,Li.fS)(this.radius,R.radius)&&(0,Li.fS)(this.theta,R.theta)&&(0,Li.fS)(this.phi,R.phi)}exactEquals(R){return this.radius===R.radius&&this.theta===R.theta&&this.phi===R.phi}get bearing(){return 180-(0,Li.RW)(this.phi)}set bearing(R){this.phi=Math.PI-(0,Li.uR)(R)}get pitch(){return(0,Li.RW)(this.theta)}set pitch(R){this.theta=(0,Li.uR)(R)}get longitude(){return(0,Li.RW)(this.phi)}get latitude(){return(0,Li.RW)(this.theta)}get lng(){return(0,Li.RW)(this.phi)}get lat(){return(0,Li.RW)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(R,ft,Bt){return this.radius=R,this.phi=ft,this.theta=Bt,this.check()}clone(){return(new Lo).copy(this)}copy(R){return this.radius=R.radius,this.phi=R.phi,this.theta=R.theta,this.check()}fromLngLatZ([R,ft,Bt]){return this.radius=1+Bt/this.radiusScale,this.phi=(0,Li.uR)(ft),this.theta=(0,Li.uR)(R),this.check()}fromVector3(R){return this.radius=hs.kE(R),this.radius>0&&(this.theta=Math.atan2(R[0],R[1]),this.phi=Math.acos((0,Li.uZ)(R[2]/this.radius,-1,1))),this.check()}toVector3(){return new st.Z(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}class rl extends Un.Z{constructor(R){const{longitude:ft,latitude:Bt,modelMatrix:Yt,bearing:le=0,pitch:ve=0,up:Ae=[0,0,1]}=R,kn=new Lo({bearing:le,pitch:-90===ve?1e-4:90+ve}).toVector3().normalize(),Vn=Yt?new X.Z(Yt).transformAsVector(kn):kn,ei=Number.isFinite(Bt)?(0,ut.Bf)({latitude:Bt}):0,Oi=Math.pow(2,ei),oi=(new X.Z).lookAt({eye:[0,0,0],center:Vn,up:Ae}).scale(Oi);super({...R,zoom:ei,viewMatrix:oi}),(0,rt.Z)(this,"longitude",void 0),(0,rt.Z)(this,"latitude",void 0),this.latitude=Bt,this.longitude=ft}}var mo=Z(9813),jl=Z(6392),jc=Z(8203);class $a extends Or.Z{constructor(R){const{width:ft,height:Bt,position:Yt=[0,0,0],bearing:le=0,pitch:ve=0,longitude:Ae=null,latitude:gn=null,maxPitch:kn=-90,minPitch:Vn=90,startRotatePos:ei,startBearing:Oi,startPitch:oi,startZoomPosition:ki}=R;super({width:ft,height:Bt,position:Yt,bearing:le,pitch:ve,longitude:Ae,latitude:gn,maxPitch:kn,minPitch:Vn},{startRotatePos:ei,startBearing:Oi,startPitch:oi,startZoomPosition:ki})}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart({pos:R}){return this._getUpdatedState({startRotatePos:R,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:R,deltaAngleX:ft=0,deltaAngleY:Bt=0}){const{startRotatePos:Yt,startBearing:le,startPitch:ve}=this.getState(),{width:Ae,height:gn}=this.getViewportProps();if(!Yt||void 0===le||void 0===ve)return this;let kn;return kn=R?{bearing:le-(R[0]-Yt[0])/Ae*180,pitch:ve-(R[1]-Yt[1])/gn*90}:{bearing:le-ft,pitch:ve-Bt},this._getUpdatedState(kn)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({scale:R}){let{startZoomPosition:ft}=this.getState();ft||(ft=this.getViewportProps().position);const Bt=this.getDirection();return this._move(Bt,20*Math.log2(R),ft)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(R=20){const ft=this.getDirection(!0);return this._move(ft.rotateZ({radians:Math.PI/2}),R)}moveRight(R=20){const ft=this.getDirection(!0);return this._move(ft.rotateZ({radians:-Math.PI/2}),R)}moveUp(R=20){const ft=this.getDirection(!0);return this._move(ft,R)}moveDown(R=20){const ft=this.getDirection(!0);return this._move(ft.negate(),R)}rotateLeft(R=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-R})}rotateRight(R=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+R})}rotateUp(R=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+R})}rotateDown(R=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-R})}zoomIn(R=2){return this.zoom({scale:R})}zoomOut(R=2){return this.zoom({scale:1/R})}shortestPathFrom(R){const ft=R.getViewportProps(),Bt={...this.getViewportProps()},{bearing:Yt,longitude:le}=Bt;return Math.abs(Yt-ft.bearing)>180&&(Bt.bearing=Yt<0?Yt+360:Yt-360),null!==le&&null!==ft.longitude&&Math.abs(le-ft.longitude)>180&&(Bt.longitude=le<0?le+360:le-360),Bt}_move(R,ft,Bt=this.getViewportProps().position){const Yt=R.scale(ft);return this._getUpdatedState({position:new st.Z(Bt).add(Yt)})}getDirection(R=!1){return new Lo({bearing:this.getViewportProps().bearing,pitch:R?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(R){return new $a({...this.getViewportProps(),...this.getState(),...R})}applyConstraints(R){const{pitch:ft,maxPitch:Bt,minPitch:Yt,longitude:le,bearing:ve}=R;return R.pitch=(0,Li.uZ)(ft,Yt,Bt),null!==le&&(le<-180||le>180)&&(R.longitude=(0,fr.wQ)(le+180,360)-180),(ve<-180||ve>180)&&(R.bearing=(0,fr.wQ)(ve+180,360)-180),R}}class Wl extends Pr.Z{constructor(...R){super(...R),(0,rt.Z)(this,"ControllerState",$a),(0,rt.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Os.Z(["position","pitch","bearing"])})}}class v extends Yi.Z{get ViewportType(){return rl}get ControllerType(){return Wl}}(0,rt.Z)(v,"displayName","FirstPersonView");class T extends Yi.Z{constructor(R={}){super(R),this.props.orbitAxis=R.orbitAxis||"Z"}get ViewportType(){return Tc}get ControllerType(){return ie}}(0,rt.Z)(T,"displayName","OrbitView");var B=Z(4159);class mt extends B.U{applyConstraints(R){const{maxZoom:ft,minZoom:Bt,zoom:Yt}=R;R.zoom=(0,Li.uZ)(Yt,Bt,ft);const{longitude:le,latitude:ve}=R;return(le<-180||le>180)&&(R.longitude=(0,fr.wQ)(le+180,360)-180),R.latitude=(0,Li.uZ)(ve,-89,89),R}}class Ut extends Pr.Z{constructor(...R){super(...R),(0,rt.Z)(this,"ControllerState",mt),(0,rt.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Os.Z(["longitude","latitude","zoom"])}),(0,rt.Z)(this,"dragMode","pan")}setProps(R){super.setProps(R),this.dragRotate=!1,this.touchRotate=!1}}class me extends Yi.Z{get ViewportType(){return Fr}get ControllerType(){return Ut}}(0,rt.Z)(me,"displayName","GlobeView");class Ze{constructor(R){(0,rt.Z)(this,"opts",void 0),R&&(this.opts=R)}equals(R){return this===R||this.constructor===R.constructor&&(0,ho.v)(this.opts,R.opts)}getShaders(R){return null}getSubLayerProps(R){const{defaultProps:ft}=R.constructor,Bt={updateTriggers:{}};for(const Yt in ft)if(Yt in this.props){const le=ft[Yt],ve=this.props[Yt];Bt[Yt]=ve,le&&"accessor"===le.type&&(Bt.updateTriggers[Yt]=this.props.updateTriggers[Yt],"function"==typeof ve&&(Bt[Yt]=this.getSubLayerAccessor(ve)))}return Bt}initializeState(R,ft){}updateState(R,ft){}draw(R,ft){}finalizeState(R,ft){}}(0,rt.Z)(Ze,"defaultProps",{});var yn=Z(5449),Sn=Z(2618);const Yn=["bearing","pitch"],hi={speed:1.2,curve:1.414};class cr extends Sn.Z{constructor(R={}){super({compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),(0,rt.Z)(this,"opts",void 0),this.opts={...hi,...R}}interpolateProps(R,ft,Bt){const Yt=(0,ut.if)(R,ft,Bt,this.opts);for(const le of Yn)Yt[le]=(0,Li.t7)(R[le]||0,ft[le]||0,Bt);return Yt}getDuration(R,ft){let{transitionDuration:Bt}=ft;return"auto"===Bt&&(Bt=(0,ut.up)(R,ft,this.opts)),Bt}}var Oo=Z(9088),ku=Z(5535),md=Z(4745),Zl=Z(2562),rc=Z(195)},5001:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>nn});var J=Z(1180),rt=Z(2378),F=Z(7552),Y=Z(8775);class G{constructor(zt,Qt){(0,J.Z)(this,"opts",void 0),(0,J.Z)(this,"source",void 0),this.opts=Qt,this.source=zt}get value(){return this.source.value}getValue(){const zt=this.source.getBuffer(),Qt=this.getAccessor();if(zt)return[zt,Qt];const{value:Ie}=this.source,{size:je}=Qt;let tn=Ie;if(Ie&&Ie.length!==je){tn=new Float32Array(je);const Dn=Qt.elementOffset||0;for(let fi=0;fi<je;++fi)tn[fi]=Ie[Dn+fi]}return tn}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}var Q=Z(144),ot=Z(8763),st=Z(967);function at(wn){return wn.stride||wn.size*wn.bytesPerElement}function $(wn,zt){zt.offset&&st.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const Qt=at(wn),tn=(void 0!==zt.vertexOffset?zt.vertexOffset:wn.vertexOffset||0)*Qt+(zt.elementOffset||0)*wn.bytesPerElement+(wn.offset||0);return{...zt,offset:tn,stride:Qt}}class V{constructor(zt,Qt,Ie){(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"size",void 0),(0,J.Z)(this,"settings",void 0),(0,J.Z)(this,"value",void 0),(0,J.Z)(this,"doublePrecision",void 0),(0,J.Z)(this,"_buffer",void 0),(0,J.Z)(this,"state",void 0),this.gl=zt,this.id=Qt.id||"",this.size=Qt.size||1;const je=Qt.logicalType||Qt.type,tn=5130===je;let fi,{defaultValue:Dn}=Qt;Dn=Number.isFinite(Dn)?[Dn]:Dn||new Array(this.size).fill(0),fi=tn?5126:!je&&Qt.isIndexed?zt&&(0,rt.U6)(zt,F.h.ELEMENT_INDEX_UINT32)?5125:5123:je||5126;let sr=function O(wn){switch(wn){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(je||fi||5126);this.doublePrecision=tn,tn&&!1===Qt.fp64&&(sr=Float32Array),this.value=null,this.settings={...Qt,defaultType:sr,defaultValue:Dn,logicalType:je,type:fi,size:this.size,bytesPerElement:sr.BYTES_PER_ELEMENT},this.state={...Ie,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:zt,type:Qt}=this.settings;this._buffer=new Y.Z(this.gl,{id:this.id,target:zt?34963:34962,accessor:{type:Qt}})}return this._buffer}get byteOffset(){const zt=this.getAccessor();return zt.vertexOffset?zt.vertexOffset*at(zt):0}get numInstances(){return this.state.numInstances}set numInstances(zt){this.state.numInstances=zt}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Q.Z.release(this.state.allocatedValue)}getShaderAttributes(zt,Qt){if(this.doublePrecision){const Ie={},je=this.value instanceof Float64Array,tn=function N(wn,zt){const Qt=$(wn,zt);return{high:Qt,low:{...Qt,offset:Qt.offset+4*wn.size}}}(this.getAccessor(),Qt||{});return Ie[zt]=new G(this,tn.high),Ie["".concat(zt,"64Low")]=je?new G(this,tn.low):new Float32Array(this.size),Ie}if(Qt){const Ie=$(this.getAccessor(),Qt);return{[zt]:new G(this,Ie)}}return{[zt]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let zt=null;if(this.state.constant&&this.value){const Qt=Array.from(this.value);zt=[Qt,Qt]}else{const{value:Qt,numInstances:Ie,size:je}=this,tn=Ie*je;if(Qt&&tn&&Qt.length>=tn){const Dn=new Array(je).fill(1/0),fi=new Array(je).fill(-1/0);for(let sr=0;sr<tn;)for(let dr=0;dr<je;dr++){const Qi=Qt[sr++];Qi<Dn[dr]&&(Dn[dr]=Qi),Qi>fi[dr]&&(fi[dr]=Qi)}zt=[Dn,fi]}}return this.state.bounds=zt,zt}setData(zt){const{state:Qt}=this;let Ie;Ie=ArrayBuffer.isView(zt)?{value:zt}:zt instanceof Y.Z?{buffer:zt}:zt;const je={...this.settings,...Ie};if(Qt.bufferAccessor=je,Qt.bounds=null,Ie.constant){let tn=Ie.value;if(tn=this._normalizeValue(tn,[],0),this.settings.normalized&&(tn=this.normalizeConstant(tn)),Qt.constant&&this._areValuesEqual(tn,this.value))return!1;Qt.externalBuffer=null,Qt.constant=!0,this.value=tn}else if(Ie.buffer){const tn=Ie.buffer;Qt.externalBuffer=tn,Qt.constant=!1,this.value=Ie.value||null;const Dn=Ie.value instanceof Float64Array;je.type=Ie.type||tn.accessor.type,je.bytesPerElement=tn.accessor.BYTES_PER_ELEMENT*(Dn?2:1),je.stride=at(je)}else if(Ie.value){this._checkExternalBuffer(Ie);let tn=Ie.value;Qt.externalBuffer=null,Qt.constant=!1,this.value=tn,je.bytesPerElement=tn.BYTES_PER_ELEMENT,je.stride=at(je);const{buffer:Dn,byteOffset:fi}=this;this.doublePrecision&&tn instanceof Float64Array&&(tn=(0,ot.TK)(tn,je));const sr=tn.byteLength+fi+2*je.stride;Dn.byteLength<sr&&Dn.reallocate(sr),Dn.setAccessor(null),Dn.subData({data:tn,offset:fi}),je.type=Ie.type||Dn.accessor.type}return!0}updateSubBuffer(zt={}){this.state.bounds=null;const Qt=this.value,{startOffset:Ie=0,endOffset:je}=zt;this.buffer.subData({data:this.doublePrecision&&Qt instanceof Float64Array?(0,ot.TK)(Qt,{size:this.size,startIndex:Ie,endIndex:je}):Qt.subarray(Ie,je),offset:Ie*Qt.BYTES_PER_ELEMENT+this.byteOffset})}allocate(zt,Qt=!1){const{state:Ie}=this,je=Ie.allocatedValue,tn=Q.Z.allocate(je,zt+1,{size:this.size,type:this.settings.defaultType,copy:Qt});this.value=tn;const{buffer:Dn,byteOffset:fi}=this;return Dn.byteLength<tn.byteLength+fi&&(Dn.reallocate(tn.byteLength+fi),Qt&&je&&Dn.subData({data:je instanceof Float64Array?(0,ot.TK)(je,this):je,offset:fi})),Ie.allocatedValue=tn,Ie.constant=!1,Ie.externalBuffer=null,Ie.bufferAccessor=this.settings,!0}_checkExternalBuffer(zt){const{value:Qt}=zt;if(!ArrayBuffer.isView(Qt))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const Ie=this.settings.defaultType;let je=!1;if(this.doublePrecision&&(je=Qt.BYTES_PER_ELEMENT<4),je)throw new Error("Attribute ".concat(this.id," does not support ").concat(Qt.constructor.name));!(Qt instanceof Ie)&&this.settings.normalized&&!("normalized"in zt)&&st.Z.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(zt){switch(this.settings.type){case 5120:return new Float32Array(zt).map(Qt=>(Qt+128)/255*2-1);case 5122:return new Float32Array(zt).map(Qt=>(Qt+32768)/65535*2-1);case 5121:return new Float32Array(zt).map(Qt=>Qt/255);case 5123:return new Float32Array(zt).map(Qt=>Qt/65535);default:return zt}}_normalizeValue(zt,Qt,Ie){const{defaultValue:je,size:tn}=this.settings;if(Number.isFinite(zt))return Qt[Ie]=zt,Qt;if(!zt)return Qt[Ie]=je[0],Qt;switch(tn){case 4:Qt[Ie+3]=Number.isFinite(zt[3])?zt[3]:je[3];case 3:Qt[Ie+2]=Number.isFinite(zt[2])?zt[2]:je[2];case 2:Qt[Ie+1]=Number.isFinite(zt[1])?zt[1]:je[1];case 1:Qt[Ie+0]=Number.isFinite(zt[0])?zt[0]:je[0];break;default:let Dn=tn;for(;--Dn>=0;)Qt[Ie+Dn]=Number.isFinite(zt[Dn])?zt[Dn]:je[Dn]}return Qt}_areValuesEqual(zt,Qt){if(!zt||!Qt)return!1;const{size:Ie}=this;for(let je=0;je<Ie;je++)if(zt[je]!==Qt[je])return!1;return!0}}var bt=Z(406),X=Z(9088),tt=Z(5839);const W=[],nt=[[0,1/0]];var ct=Z(9681);class gt extends V{constructor(zt,Qt){super(zt,Qt,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:nt}),(0,J.Z)(this,"constant",!1),this.settings.update=Qt.update||(Qt.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(zt){this.state.startIndices=zt}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:zt=!1}={}){const Qt=this.state.needsRedraw;return this.state.needsRedraw=Qt&&!zt,Qt}getUpdateTriggers(){const{accessor:zt}=this.settings;return[this.id].concat("function"!=typeof zt&&zt||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(zt){if(!zt||!this.supportsTransition())return null;const{accessor:Qt}=this.settings,Ie=this.settings.transition,je=Array.isArray(Qt)?zt[Qt.find(tn=>zt[tn])]:zt[Qt];return(0,ct.M0)(je,Ie)}setNeedsUpdate(zt=this.id,Qt){if(this.state.needsUpdate=this.state.needsUpdate||zt,this.setNeedsRedraw(zt),Qt){const{startRow:Ie=0,endRow:je=1/0}=Qt;this.state.updateRanges=function z(wn,zt){if(wn===nt||(zt[0]<0&&(zt[0]=0),zt[0]>=zt[1]))return wn;const Qt=[],Ie=wn.length;let je=0;for(let tn=0;tn<Ie;tn++){const Dn=wn[tn];Dn[1]<zt[0]?(Qt.push(Dn),je=tn+1):Dn[0]>zt[1]?Qt.push(Dn):zt=[Math.min(Dn[0],zt[0]),Math.max(Dn[1],zt[1])]}return Qt.splice(je,0,zt),Qt}(this.state.updateRanges,[Ie,je])}else this.state.updateRanges=nt}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=W}setNeedsRedraw(zt=this.id){this.state.needsRedraw=this.state.needsRedraw||zt}allocate(zt){const{state:Qt,settings:Ie}=this;return!Ie.noAlloc&&!!Ie.update&&(super.allocate(zt,Qt.updateRanges!==nt),!0)}updateBuffer({numInstances:zt,data:Qt,props:Ie,context:je}){if(!this.needsUpdate())return!1;const{state:{updateRanges:tn},settings:{update:Dn,noAlloc:fi}}=this;let sr=!0;if(Dn){for(const[dr,Qi]of tn)Dn.call(je,this,{data:Qt,startRow:dr,endRow:Qi,props:Ie,numInstances:zt});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[dr,Qi]of tn){const Po=Number.isFinite(dr)?this.getVertexOffset(dr):0,Ha=Number.isFinite(Qi)?this.getVertexOffset(Qi):fi||!Number.isFinite(zt)?this.value.length:zt*this.size;super.updateSubBuffer({startOffset:Po,endOffset:Ha})}this._checkAttributeArray()}else sr=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),sr}setConstantValue(zt){return void 0!==zt&&"function"!=typeof zt&&(this.setData({constant:!0,value:zt})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(zt){const{state:Qt}=this;return zt?(this.clearNeedsUpdate(),Qt.lastExternalBuffer===zt||(Qt.lastExternalBuffer=zt,this.setNeedsRedraw(),this.setData(zt)),!0):(Qt.lastExternalBuffer=null,!1)}setBinaryValue(zt,Qt=null){const{state:Ie,settings:je}=this;if(!zt)return Ie.binaryValue=null,Ie.binaryAccessor=null,!1;if(je.noAlloc)return!1;if(Ie.binaryValue===zt)return this.clearNeedsUpdate(),!0;if(Ie.binaryValue=zt,this.setNeedsRedraw(),je.transform||Qt!==this.startIndices){ArrayBuffer.isView(zt)&&(zt={value:zt});const Dn=zt;(0,bt.Z)(ArrayBuffer.isView(Dn.value),"invalid ".concat(je.accessor));const fi=Boolean(Dn.size)&&Dn.size!==this.size;return Ie.binaryAccessor=(0,X.jr)(Dn.value,{size:Dn.size||this.size,stride:Dn.stride,offset:Dn.offset,startIndices:Qt,nested:fi}),!1}return this.clearNeedsUpdate(),this.setData(zt),!0}getVertexOffset(zt){const{startIndices:Qt}=this;return(Qt?Qt[zt]:zt)*this.size}getShaderAttributes(){const zt=this.settings.shaderAttributes||{[this.id]:null},Qt={};for(const Ie in zt)Object.assign(Qt,super.getShaderAttributes(Ie,zt[Ie]));return Qt}_autoUpdater(zt,{data:Qt,startRow:Ie,endRow:je,props:tn,numInstances:Dn}){if(zt.constant)return;const{settings:fi,state:sr,value:dr,size:Qi,startIndices:Po}=zt,{accessor:Ha,transform:Wo}=fi,Vi=sr.binaryAccessor||("function"==typeof Ha?Ha:tn[Ha]);(0,bt.Z)("function"==typeof Vi,'accessor "'.concat(Ha,'" is not a function'));let sa=zt.getVertexOffset(Ie);const{iterable:Ft,objectInfo:$t}=(0,X.jB)(Qt,Ie,je);for(const Fe of Ft){$t.index++;let en=Vi(Fe,$t);if(Wo&&(en=Wo.call(this,en)),Po){const un=($t.index<Po.length-1?Po[$t.index+1]:Dn)-Po[$t.index];if(en&&Array.isArray(en[0])){let Un=sa;for(const ii of en)zt._normalizeValue(ii,dr,Un),Un+=Qi}else en&&en.length>Qi?dr.set(en,sa):(zt._normalizeValue(en,$t.target,0),(0,tt.k)({target:dr,source:$t.target,start:sa,count:un}));sa+=un*Qi}else zt._normalizeValue(en,dr,sa),sa+=Qi}}_validateAttributeUpdaters(){const{settings:zt}=this;if(!zt.noAlloc&&"function"!=typeof zt.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:zt}=this,Qt=Math.min(4,this.size);if(zt&&zt.length>=Qt){let Ie=!0;switch(Qt){case 4:Ie=Ie&&Number.isFinite(zt[3]);case 3:Ie=Ie&&Number.isFinite(zt[2]);case 2:Ie=Ie&&Number.isFinite(zt[1]);case 1:Ie=Ie&&Number.isFinite(zt[0]);break;default:Ie=!1}if(!Ie)throw new Error("Illegal attribute generated for ".concat(this.id))}}}var Mt=Z(3064),Ct=Z(1012);const q="void main() {gl_FragColor = vec4(0);}",Pt="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Dt="#version 300 es\n".concat(Pt);function It(wn,zt){zt=Array.isArray(zt)?zt:[zt];const Qt=wn.replace(/^\s+/,"").split(/\s+/),[Ie,je,tn]=Qt;return zt.includes(Ie)&&je&&tn?{qualifier:Ie,type:je,name:tn.split(";")[0]}:null}function ut(){let wn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:zt=100,input:Qt,inputType:Ie,output:je}=wn;if(!Qt)return 300===zt?Dt:zt>300?"#version ".concat(zt,"\n").concat(Pt):q;const tn=function Tt(wn,zt){switch(zt){case"float":return"vec4(".concat(wn,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(wn,", 0.0, 1.0)");case"vec3":return"vec4(".concat(wn,", 1.0)");case"vec4":return wn;default:return(0,Ct.Z)(!1),null}}(Qt,Ie);return zt>=300?"#version ".concat(zt," ").concat(300===zt?"es":"","\nin ").concat(Ie," ").concat(Qt,";\nout vec4 ").concat(je,";\nvoid main() {\n  ").concat(je," = ").concat(tn,";\n}"):"varying ".concat(Ie," ").concat(Qt,";\nvoid main() {\n  gl_FragColor = ").concat(tn,";\n}")}var _t=Z(7591),dt=Z(8023),St=Z(659);class Zt{constructor(zt){let Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=zt,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(Qt),Object.seal(this)}setupResources(zt){for(const Qt of this.bindings)this._setupTransformFeedback(Qt,zt)}updateModelProps(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:Qt}=this;return Qt.length>0&&(zt=Object.assign({},zt,{varyings:Qt})),zt}getDrawOptions(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Qt=this.bindings[this.currentIndex],{sourceBuffers:Ie,transformFeedback:je}=Qt;return{attributes:Object.assign({},Ie,zt.attributes),transformFeedback:je}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(zt){const{feedbackBuffers:Qt}=this.bindings[this.currentIndex],Ie=zt?Qt[zt]:null;return Ie?Ie instanceof Y.Z?Ie:Ie.buffer:null}getData(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:Qt}=zt,Ie=this.getBuffer(Qt);return Ie?Ie.getData():null}delete(){for(const zt in this.resources)this.resources[zt].delete()}_initialize(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(zt),this.varyings=zt.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,St.h)((0,_t.D0)(this.gl))}_getFeedbackBuffers(zt){const{sourceBuffers:Qt={}}=zt,Ie={};if(this.bindings[this.currentIndex]&&Object.assign(Ie,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const je in this.feedbackMap)je in Qt&&(Ie[this.feedbackMap[je]]=je);Object.assign(Ie,zt.feedbackBuffers);for(const je in Ie){const tn=Ie[je];if("string"==typeof tn){const Dn=Qt[tn],{byteLength:fi,usage:sr,accessor:dr}=Dn;Ie[je]=this._createNewBuffer(je,{byteLength:fi,usage:sr,accessor:dr})}}return Ie}_setupBuffers(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Qt=null}=zt;Object.assign(this.feedbackMap,zt.feedbackMap);const Ie=this._getFeedbackBuffers(zt);this._updateBindings({sourceBuffers:Qt,feedbackBuffers:Ie})}_setupTransformFeedback(zt,Qt){let{model:Ie}=Qt;const{program:je}=Ie;zt.transformFeedback=new dt.Z(this.gl,{program:je,buffers:zt.feedbackBuffers})}_updateBindings(zt){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],zt),this.feedbackMap){const{sourceBuffers:Qt,feedbackBuffers:Ie}=this._swapBuffers(this.bindings[this.currentIndex]),je=this._getNextIndex();this.bindings[je]=this._updateBinding(this.bindings[je],{sourceBuffers:Qt,feedbackBuffers:Ie})}}_updateBinding(zt,Qt){return zt?(Object.assign(zt.sourceBuffers,Qt.sourceBuffers),Object.assign(zt.feedbackBuffers,Qt.feedbackBuffers),zt.transformFeedback&&zt.transformFeedback.setBuffers(zt.feedbackBuffers),zt):{sourceBuffers:Object.assign({},Qt.sourceBuffers),feedbackBuffers:Object.assign({},Qt.feedbackBuffers)}}_swapBuffers(zt){if(!this.feedbackMap)return null;const Qt=Object.assign({},zt.sourceBuffers),Ie=Object.assign({},zt.feedbackBuffers);for(const je in this.feedbackMap){const tn=this.feedbackMap[je];Qt[je]=zt.feedbackBuffers[tn],Ie[tn]=zt.sourceBuffers[je],(0,St.h)(Ie[tn]instanceof Y.Z)}return{sourceBuffers:Qt,feedbackBuffers:Ie}}_createNewBuffer(zt,Qt){const Ie=new Y.Z(this.gl,Qt);return this.resources[zt]&&this.resources[zt].delete(),this.resources[zt]=Ie,Ie}_getNextIndex(){return(this.currentIndex+1)%2}}var Vt=Z(1507),Ce=Z(5702),jt=Z(2778),ae=Z(8100);function ue(wn){let zt=100;const Qt=wn.match(/[^\s]+/g);if(Qt.length>=2&&"#version"===Qt[0]){const Ie=parseInt(Qt[1],10);Number.isFinite(Ie)&&(zt=Ie)}return zt}var Pe=Z(618);const de={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},we="transform_uSampler_",Se="transform_uSize_",wt="transform_position";const M={10241:9728,10240:9728,10242:33071,10243:33071};class U{constructor(zt){let Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=zt,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(Qt),Object.seal(this)}updateModelProps(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Qt=this._processVertexShader(zt);return Object.assign({},zt,Qt)}getDrawOptions(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Qt,sourceTextures:Ie,framebuffer:je,targetTexture:tn}=this.bindings[this.currentIndex],Dn=Object.assign({},Qt,zt.attributes),fi=Object.assign({},zt.uniforms),sr=Object.assign({},zt.parameters);let dr=zt.discard;if(this.hasSourceTextures||this.hasTargetTexture){Dn.transform_elementID=this.elementIDBuffer;for(const Po in this.samplerTextureMap)fi[Po]=Ie[this.samplerTextureMap[Po]];this._setSourceTextureParameters();const Qi=function Wt(wn){let{sourceTextureMap:zt,targetTextureVarying:Qt,targetTexture:Ie}=wn;const je={};let tn,Dn;Qt&&(({width:tn,height:Dn}=Ie),je["".concat(Se).concat(Qt)]=[tn,Dn]);for(const fi in zt)({width:tn,height:Dn}=zt[fi]),je["".concat(Se).concat(fi)]=[tn,Dn];return je}({sourceTextureMap:Ie,targetTextureVarying:this.targetTextureVarying,targetTexture:tn});Object.assign(fi,Qi)}return this.hasTargetTexture&&(dr=!1,sr.viewport=[0,0,je.width,je.height]),{attributes:Dn,framebuffer:je,uniforms:fi,discard:dr,parameters:sr}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:zt}=this.bindings[this.currentIndex];return zt}getData(){let{packed:zt=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:Qt}=this.bindings[this.currentIndex],Ie=(0,Vt.z6)(Qt);if(!zt)return Ie;const je=Ie.constructor,tn=function se(wn){switch(wn){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,Ct.Z)(!1),null}}(this.targetTextureType),Dn=new je(Ie.length*tn/4);let fi=0;for(let sr=0;sr<Ie.length;sr+=4)for(let dr=0;dr<tn;dr++)Dn[fi++]=Ie[sr+dr];return Dn}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:Qt,_swapTexture:Ie}=zt;this._swapTexture=Ie,this.targetTextureVarying=Qt,this.hasTargetTexture=Qt,this._setupTextures(zt)}_createTargetTexture(zt){const{sourceTextures:Qt,textureOrReference:Ie}=zt;if(Ie instanceof Ce.Z)return Ie;const je=Qt[Ie];return je?(this._targetRefTexName=Ie,this._createNewTexture(je)):null}_setupTextures(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Qt,_sourceTextures:Ie={},_targetTexture:je}=zt,tn=this._createTargetTexture({sourceTextures:Ie,textureOrReference:je});this.hasSourceTextures=this.hasSourceTextures||Ie&&Object.keys(Ie).length>0,this._updateBindings({sourceBuffers:Qt,sourceTextures:Ie,targetTexture:tn}),"elementCount"in zt&&this._updateElementIDBuffer(zt.elementCount)}_updateElementIDBuffer(zt){if("number"!=typeof zt||this.elementCount>=zt)return;const Qt=new Float32Array(zt);Qt.forEach((Ie,je,tn)=>{tn[je]=je}),this.elementIDBuffer?this.elementIDBuffer.setData({data:Qt}):this.elementIDBuffer=new Y.Z(this.gl,{data:Qt,accessor:{size:1}}),this.elementCount=zt}_updateBindings(zt){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],zt),this._swapTexture){const{sourceTextures:Qt,targetTexture:Ie}=this._swapTextures(this.bindings[this.currentIndex]),je=this._getNextIndex();this.bindings[je]=this._updateBinding(this.bindings[je],{sourceTextures:Qt,targetTexture:Ie})}}_updateBinding(zt,Qt){const{sourceBuffers:Ie,sourceTextures:je,targetTexture:tn}=Qt;if(zt||(zt={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(zt.sourceTextures,je),Object.assign(zt.sourceBuffers,Ie),tn){zt.targetTexture=tn;const{width:Dn,height:fi}=tn,{framebuffer:sr}=zt;sr?(sr.update({attachments:{36064:tn},resizeAttachments:!1}),sr.resize({width:Dn,height:fi})):zt.framebuffer=new jt.Z(this.gl,{id:"transform-framebuffer",width:Dn,height:fi,attachments:{36064:tn}})}return zt}_setSourceTextureParameters(){const zt=this.currentIndex,{sourceTextures:Qt}=this.bindings[zt];for(const Ie in Qt)Qt[Ie].setParameters(M)}_swapTextures(zt){if(!this._swapTexture)return null;const Qt=Object.assign({},zt.sourceTextures);return Qt[this._swapTexture]=zt.targetTexture,{sourceTextures:Qt,targetTexture:zt.sourceTextures[this._swapTexture]}}_createNewTexture(zt){const Qt=(0,ae.h)(zt,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=Qt,Qt}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:Qt,targetTexture:Ie}=this.bindings[this.currentIndex],{vs:je,uniforms:tn,targetTextureType:Dn,inject:fi,samplerTextureMap:sr}=function Ht(wn){let{vs:zt,sourceTextureMap:Qt,targetTextureVarying:Ie,targetTexture:je}=wn,Dn=Object.keys(Qt).length,fi=null;const sr={};let dr=zt,Qi={};if(Dn>0||Ie){const Po=dr.split("\n"),Ha=Po.slice();if(Po.forEach((Wo,Vi,sa)=>{if(Dn>0){const Ft=function vt(wn,zt){const Qt={},Ie=function Nt(wn){return It(wn,["attribute","in"])}(wn);if(!Ie)return null;const{type:je,name:tn}=Ie;if(tn&&zt[tn]){const Dn="// ".concat(wn," => Replaced by Transform with a sampler"),{samplerName:fi,sizeName:sr,uniformDeclerations:dr}=function ht(wn){const zt="".concat(we).concat(wn),Qt="".concat(Se).concat(wn);return{samplerName:zt,sizeName:Qt,uniformDeclerations:"  uniform sampler2D ".concat(zt,";\n  uniform vec2 ").concat(Qt,";")}}(tn),Qi=function re(wn){switch(wn){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,Ct.Z)(!1),null}}(je),Po="  ".concat(je," ").concat(tn," = transform_getInput(").concat(fi,", ").concat(sr,").").concat(Qi,";\n");return Qt[fi]=tn,{updatedLine:Dn,inject:{"vs:#decl":dr,"vs:#main-start":Po},samplerTextureMap:Qt}}return null}(Wo,Qt);if(Ft){const{updatedLine:$t,inject:Fe}=Ft;Ha[Vi]=$t,Qi=(0,Pe.Lm)([Qi,Fe]),Object.assign(sr,Ft.samplerTextureMap),Dn--}}Ie&&!fi&&(fi=function At(wn,zt){const Qt=It(wn,["varying","out"]);return Qt&&Qt.name===zt?Qt.type:null}(Wo,Ie))}),Ie){(0,St.h)(je);const Wo="".concat(Se).concat(Ie),Vi="uniform vec2 ".concat(Wo,";\n"),sa="     vec2 ".concat(wt," = transform_getPos(").concat(Wo,");\n     gl_Position = vec4(").concat(wt,", 0, 1.);\n");Qi=(0,Pe.Lm)([Qi,{"vs:#decl":Vi,"vs:#main-start":sa}])}dr=Ha.join("\n")}return{vs:dr,targetTextureType:fi,inject:Qi,samplerTextureMap:sr}}({vs:zt.vs,sourceTextureMap:Qt,targetTextureVarying:this.targetTextureVarying,targetTexture:Ie}),dr=(0,Pe.Lm)([zt.inject||{},fi]);return this.targetTextureType=Dn,this.samplerTextureMap=sr,{vs:je,fs:zt._fs||ut({version:ue(je),input:this.targetTextureVarying,inputType:Dn,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[de].concat(zt.modules||[]):zt.modules,uniforms:tn,inject:dr}}}var pt=Z(3403),Et=Z(525);class Ot{static isSupported(zt){return(0,_t.D0)(zt)}constructor(zt){let Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=zt,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(Qt),Object.seal(this)}delete(){const{model:zt,bufferTransform:Qt,textureTransform:Ie}=this;zt&&zt.delete(),Qt&&Qt.delete(),Ie&&Ie.delete()}run(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:Qt=!0}=zt,Ie=this._updateDrawOptions(zt);Qt&&Ie.framebuffer&&Ie.framebuffer.clear({color:!0}),this.model.transform(Ie)}swap(){let zt=!1;const Qt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ie of Qt)zt=zt||Ie.swap();(0,St.h)(zt,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Qt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ie of Qt){const je=Ie.getData(zt);if(je)return je}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in zt&&this.model.setVertexCount(zt.elementCount);const Qt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ie of Qt)Ie.update(zt)}_initialize(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:Qt}=this;this._buildResourceTransforms(Qt,zt),zt=this._updateModelProps(zt),this.model=new Et.Z(Qt,Object.assign({},zt,{fs:zt.fs||ut({version:ue(zt.vs)}),id:zt.id||"transform-model",drawMode:zt.drawMode||0,vertexCount:zt.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(zt){let Qt=Object.assign({},zt);const Ie=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const je of Ie)Qt=je.updateModelProps(Qt);return Qt}_buildResourceTransforms(zt,Qt){(function pe(wn){return!((0,pt.nK)(wn.feedbackBuffers)&&(0,pt.nK)(wn.feedbackMap)&&!(wn.varyings&&wn.varyings.length>0))})(Qt)&&(this.bufferTransform=new Zt(zt,Qt)),function ye(wn){return!((0,pt.nK)(wn._sourceTextures)&&!wn._targetTexture&&!wn._targetTextureVarying)}(Qt)&&(this.textureTransform=new U(zt,Qt)),(0,St.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(zt){let Qt=Object.assign({},zt);const Ie=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const je of Ie)Qt=Object.assign(Qt,je.getDrawOptions(Qt));return Qt}}var xe=Z(7922);const cn={interpolation:class ze{constructor({gl:zt,attribute:Qt,timeline:Ie}){(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"type","interpolation"),(0,J.Z)(this,"attributeInTransition",void 0),(0,J.Z)(this,"settings",void 0),(0,J.Z)(this,"attribute",void 0),(0,J.Z)(this,"transition",void 0),(0,J.Z)(this,"currentStartIndices",void 0),(0,J.Z)(this,"currentLength",void 0),(0,J.Z)(this,"transform",void 0),(0,J.Z)(this,"buffers",void 0),this.gl=zt,this.transition=new xe.Z(Ie),this.attribute=Qt,this.attributeInTransition=new gt(zt,Qt.settings),this.currentStartIndices=Qt.startIndices,this.currentLength=0,this.transform=function Ve(wn,zt){const Qt=(0,ct.w)(zt.size);return new Ot(wn,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:Qt},varyings:["vCurrent"]})}(zt,Qt);const je={byteLength:0,usage:35050};this.buffers=[new Y.Z(zt,je),new Y.Z(zt,je)]}get inProgress(){return this.transition.inProgress}start(zt,Qt){if(zt.duration<=0)return void this.transition.cancel();this.settings=zt;const{gl:Ie,buffers:je,attribute:tn}=this;(0,ct.DY)(je);const Dn={numInstances:Qt,attribute:tn,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:zt.enter};for(const fi of je)(0,ct.IV)({buffer:fi,...Dn});this.currentStartIndices=tn.startIndices,this.currentLength=(0,ct.pi)(tn,Qt),this.attributeInTransition.setData({buffer:je[1],value:tn.value}),this.transition.start(zt),this.transform.update({elementCount:Math.floor(this.currentLength/tn.size),sourceBuffers:{aFrom:je[0],aTo:(0,ct.AQ)(Ie,tn)},feedbackBuffers:{vCurrent:je[1]}})}update(){const zt=this.transition.update();if(zt){const{duration:Qt,easing:Ie}=this.settings,{time:je}=this.transition;let tn=je/Qt;Ie&&(tn=Ie(tn)),this.transform.run({uniforms:{time:tn}})}return zt}cancel(){this.transition.cancel(),this.transform.delete();for(const zt of this.buffers)zt.delete();this.buffers.length=0}},spring:class ln{constructor({gl:zt,attribute:Qt,timeline:Ie}){(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"type","spring"),(0,J.Z)(this,"attributeInTransition",void 0),(0,J.Z)(this,"settings",void 0),(0,J.Z)(this,"attribute",void 0),(0,J.Z)(this,"transition",void 0),(0,J.Z)(this,"currentStartIndices",void 0),(0,J.Z)(this,"currentLength",void 0),(0,J.Z)(this,"texture",void 0),(0,J.Z)(this,"framebuffer",void 0),(0,J.Z)(this,"transform",void 0),(0,J.Z)(this,"buffers",void 0),this.gl=zt,this.type="spring",this.transition=new xe.Z(Ie),this.attribute=Qt,this.attributeInTransition=new gt(zt,{...Qt.settings,normalized:!1}),this.currentStartIndices=Qt.startIndices,this.currentLength=0,this.texture=function dn(wn){return new Ce.Z(wn,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(zt),this.framebuffer=function xn(wn,zt){return new jt.Z(wn,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:zt}})}(zt,this.texture),this.transform=function fn(wn,zt,Qt){const Ie=(0,ct.w)(zt.size);return new Ot(wn,{framebuffer:Qt,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:Ie},varyings:["vNext"]})}(zt,Qt,this.framebuffer);const je={byteLength:0,usage:35050};this.buffers=[new Y.Z(zt,je),new Y.Z(zt,je),new Y.Z(zt,je)]}get inProgress(){return this.transition.inProgress}start(zt,Qt){const{gl:Ie,buffers:je,attribute:tn}=this,Dn={numInstances:Qt,attribute:tn,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:zt.enter};for(const fi of je)(0,ct.IV)({buffer:fi,...Dn});this.settings=zt,this.currentStartIndices=tn.startIndices,this.currentLength=(0,ct.pi)(tn,Qt),this.attributeInTransition.setData({buffer:je[1],value:tn.value}),this.transition.start({...zt,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/tn.size),sourceBuffers:{aTo:(0,ct.AQ)(Ie,tn)}})}update(){const{buffers:zt,transform:Qt,framebuffer:Ie,transition:je}=this;if(!je.update())return!1;const Dn=this.settings;return Qt.update({sourceBuffers:{aPrev:zt[0],aCur:zt[1]},feedbackBuffers:{vNext:zt[2]}}),Qt.run({framebuffer:Ie,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:Dn.stiffness,damping:Dn.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),(0,ct.DY)(zt),this.attributeInTransition.setData({buffer:zt[1],value:this.attribute.value}),(0,Vt.z6)(Ie)[0]>0||je.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const zt of this.buffers)zt.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class ke{constructor(zt,{id:Qt,timeline:Ie}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"isSupported",void 0),(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"timeline",void 0),(0,J.Z)(this,"transitions",void 0),(0,J.Z)(this,"needsRedraw",void 0),(0,J.Z)(this,"numInstances",void 0),this.id=Qt,this.gl=zt,this.timeline=Ie,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=Ot.isSupported(zt)}finalize(){for(const zt in this.transitions)this._removeTransition(zt)}update({attributes:zt,transitions:Qt,numInstances:Ie}){this.numInstances=Ie||1;for(const je in zt){const tn=zt[je],Dn=tn.getTransitionSetting(Qt);Dn&&this._updateAttribute(je,tn,Dn)}for(const je in this.transitions){const tn=zt[je];(!tn||!tn.getTransitionSetting(Qt))&&this._removeTransition(je)}}hasAttribute(zt){const Qt=this.transitions[zt];return Qt&&Qt.inProgress}getAttributes(){const zt={};for(const Qt in this.transitions){const Ie=this.transitions[Qt];Ie.inProgress&&(zt[Qt]=Ie.attributeInTransition)}return zt}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const Qt in this.transitions)this.transitions[Qt].update()&&(this.needsRedraw=!0);const zt=this.needsRedraw;return this.needsRedraw=!1,zt}_removeTransition(zt){this.transitions[zt].cancel(),delete this.transitions[zt]}_updateAttribute(zt,Qt,Ie){const je=this.transitions[zt];let tn=!je||je.type!==Ie.type;if(tn){if(!this.isSupported)return void st.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(zt," is disabled."))();je&&this._removeTransition(zt);const Dn=cn[Ie.type];Dn?this.transitions[zt]=new Dn({attribute:Qt,timeline:this.timeline,gl:this.gl}):(st.Z.error("unsupported transition type '".concat(Ie.type,"'"))(),tn=!1)}(tn||Qt.needsRedraw())&&(this.needsRedraw=!0,this.transitions[zt].start(Ie,this.numInstances))}}const Kt="attributeManager.invalidate";class nn{constructor(zt,{id:Qt="attribute-manager",stats:Ie,timeline:je}={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"attributes",void 0),(0,J.Z)(this,"updateTriggers",void 0),(0,J.Z)(this,"needsRedraw",void 0),(0,J.Z)(this,"userData",void 0),(0,J.Z)(this,"stats",void 0),(0,J.Z)(this,"attributeTransitionManager",void 0),this.id=Qt,this.gl=zt,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=Ie,this.attributeTransitionManager=new ke(zt,{id:"".concat(Qt,"-transitions"),timeline:je}),Object.seal(this)}finalize(){for(const zt in this.attributes)this.attributes[zt].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(zt={clearRedrawFlags:!1}){const Qt=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!zt.clearRedrawFlags,Qt&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(zt){this._add(zt)}addInstanced(zt){this._add(zt,{instanced:1})}remove(zt){for(const Qt of zt)void 0!==this.attributes[Qt]&&(this.attributes[Qt].delete(),delete this.attributes[Qt])}invalidate(zt,Qt){const Ie=this._invalidateTrigger(zt,Qt);(0,Mt.Z)(Kt,this,zt,Ie)}invalidateAll(zt){for(const Qt in this.attributes)this.attributes[Qt].setNeedsUpdate(Qt,zt);(0,Mt.Z)(Kt,this,"all")}update({data:zt,numInstances:Qt,startIndices:Ie=null,transitions:je,props:tn={},buffers:Dn={},context:fi={}}){let sr=!1;(0,Mt.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const dr in this.attributes){const Qi=this.attributes[dr],Po=Qi.settings.accessor;Qi.startIndices=Ie,Qi.numInstances=Qt,tn[dr]&&st.Z.removed("props.".concat(dr),"data.attributes.".concat(dr))(),Qi.setExternalBuffer(Dn[dr])||Qi.setBinaryValue("string"==typeof Po?Dn[Po]:void 0,zt.startIndices)||"string"==typeof Po&&!Dn[Po]&&Qi.setConstantValue(tn[Po])||Qi.needsUpdate()&&(sr=!0,this._updateAttribute({attribute:Qi,numInstances:Qt,data:zt,props:tn,context:fi})),this.needsRedraw=this.needsRedraw||Qi.needsRedraw()}sr&&(0,Mt.Z)("attributeManager.updateEnd",this,Qt),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:Qt,transitions:je})}updateTransition(){const{attributeTransitionManager:zt}=this,Qt=zt.run();return this.needsRedraw=this.needsRedraw||Qt,Qt}getAttributes(){return this.attributes}getChangedAttributes(zt={clearChangedFlags:!1}){const{attributes:Qt,attributeTransitionManager:Ie}=this,je={...Ie.getAttributes()};for(const tn in Qt){const Dn=Qt[tn];Dn.needsRedraw(zt)&&!Ie.hasAttribute(tn)&&(je[tn]=Dn)}return je}getShaderAttributes(zt,Qt={}){zt||(zt=this.getAttributes());const Ie={};for(const je in zt)Qt[je]||Object.assign(Ie,zt[je].getShaderAttributes());return Ie}_add(zt,Qt={}){for(const Ie in zt)this.attributes[Ie]=this._createAttribute(Ie,zt[Ie],Qt);this._mapUpdateTriggersToAttributes()}_createAttribute(zt,Qt,Ie){const je={...Qt,id:zt,size:(Qt.isIndexed?1:Qt.size)||1,divisor:Ie.instanced?1:Qt.divisor||0};return new gt(this.gl,je)}_mapUpdateTriggersToAttributes(){const zt={};for(const Qt in this.attributes)this.attributes[Qt].getUpdateTriggers().forEach(je=>{zt[je]||(zt[je]=[]),zt[je].push(Qt)});this.updateTriggers=zt}_invalidateTrigger(zt,Qt){const{attributes:Ie,updateTriggers:je}=this,tn=je[zt];return tn&&tn.forEach(Dn=>{const fi=Ie[Dn];fi&&fi.setNeedsUpdate(fi.id,Qt)}),tn}_updateAttribute(zt){const{attribute:Qt,numInstances:Ie}=zt;(0,Mt.Z)("attribute.updateStart",Qt),Qt.constant?Qt.setConstantValue(Qt.value):(Qt.allocate(Ie)&&(0,Mt.Z)("attribute.allocate",Qt,Ie),Qt.updateBuffer(zt)&&(this.needsRedraw=!0,(0,Mt.Z)("attribute.updateEnd",Qt,Ie)))}}},9681:(Ye,oe,Z)=>{"use strict";function J(at){const{source:$,target:N,start:V=0,size:bt,getData:X}=at,W=$.length,nt=(at.end||N.length)-V;if(W>nt)return void N.set($.subarray(0,nt),V);if(N.set($,V),!X)return;let z=W;for(;z<nt;){const ct=X(z,$);for(let gt=0;gt<bt;gt++)N[V+z]=ct[gt]||0,z++}}Z.d(oe,{DY:()=>Q,pi:()=>ot,w:()=>O,AQ:()=>G,M0:()=>Y,IV:()=>st});const F={interpolation:{duration:0,easing:at=>at},spring:{stiffness:.05,damping:.5}};function Y(at,$){if(!at)return null;Number.isFinite(at)&&(at={type:"interpolation",duration:at});const N=at.type||"interpolation";return{...F[N],...$,...at,type:N}}function G(at,$){const N=$.getBuffer();return N?[N,{divisor:0,size:$.size,normalized:$.settings.normalized}]:$.value}function O(at){switch(at){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(at,'"'))}}function Q(at){at.push(at.shift())}function ot(at,$){const{doublePrecision:N,settings:V,value:bt,size:X}=at,tt=N&&bt instanceof Float64Array?2:1;return(V.noAlloc?bt.length:$*X)*tt}function st({buffer:at,numInstances:$,attribute:N,fromLength:V,fromStartIndices:bt,getData:X=(tt=>tt)}){const tt=N.doublePrecision&&N.value instanceof Float64Array?2:1,W=N.size*tt,nt=N.byteOffset,z=N.startIndices,ct=bt&&z,gt=ot(N,$),Mt=N.isConstant;if(!ct&&V>=gt)return;const Ct=Mt?N.value:N.getBuffer().getData({srcByteOffset:nt});if(N.settings.normalized&&!Mt){const It=X;X=(ut,re)=>N.normalizeConstant(It(ut,re))}const q=Mt?(It,ut)=>X(Ct,ut):(It,ut)=>X(Ct.subarray(It,It+W),ut),Pt=at.getData({length:V}),Dt=new Float32Array(gt);(function rt({source:at,target:$,size:N,getData:V,sourceStartIndices:bt,targetStartIndices:X}){if(!Array.isArray(X))return J({source:at,target:$,size:N,getData:V}),$;let tt=0,W=0;const nt=V&&((ct,gt)=>V(ct+W,gt)),z=Math.min(bt.length,X.length);for(let ct=1;ct<z;ct++){const gt=bt[ct]*N,Mt=X[ct]*N;J({source:at.subarray(tt,gt),target:$,start:W,end:Mt,size:N,getData:nt}),tt=gt,W=Mt}W<$.length&&J({source:[],target:$,start:W,size:N,getData:nt})})({source:Pt,target:Dt,sourceStartIndices:bt,targetStartIndices:z,size:W,getData:q}),at.byteLength<Dt.byteLength+nt&&at.reallocate(Dt.byteLength+nt),at.subData({data:Dt,offset:nt})}},2757:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>O});var J=Z(1180),rt=Z(5670),F=Z(3064),Y=Z(5839);class O extends rt.Z{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(ot=>ot.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(ot){}setState(ot){super.setState(ot),this.setNeedsUpdate()}getPickingInfo({info:ot}){const{object:st}=ot;return st&&st.__source&&st.__source.parent&&st.__source.parent.id===this.id&&(ot.object=st.__source.object,ot.index=st.__source.index),ot}filterSubLayer(ot){return!0}shouldRenderSubLayer(ot,st){return st&&st.length}getSubLayerClass(ot,st){const{_subLayerProps:at}=this.props;return at&&at[ot]&&at[ot].type||st}getSubLayerRow(ot,st,at){return ot.__source={parent:this,object:st,index:at},ot}getSubLayerAccessor(ot){if("function"==typeof ot){const st={index:-1,data:this.props.data,target:[]};return(at,$)=>at&&at.__source?(st.index=at.__source.index,ot(at.__source.object,st)):ot(at,$)}return ot}getSubLayerProps(ot={}){var st;const{opacity:at,pickable:$,visible:N,parameters:V,getPolygonOffset:bt,highlightedObjectIndex:X,autoHighlight:tt,highlightColor:W,coordinateSystem:nt,coordinateOrigin:z,wrapLongitude:ct,positionFormat:gt,modelMatrix:Mt,extensions:Ct,fetch:q,operation:Pt,_subLayerProps:Dt}=this.props,It={id:"",updateTriggers:{},opacity:at,pickable:$,visible:N,parameters:V,getPolygonOffset:bt,highlightedObjectIndex:X,autoHighlight:tt,highlightColor:W,coordinateSystem:nt,coordinateOrigin:z,wrapLongitude:ct,positionFormat:gt,modelMatrix:Mt,extensions:Ct,fetch:q,operation:Pt},ut=Dt&&ot.id&&Dt[ot.id],re=ut&&ut.updateTriggers,se=ot.id||"sublayer";if(ut){const Tt=this.constructor._propTypes,_t=ot.type?ot.type._propTypes:{};for(const dt in ut){const St=_t[dt]||Tt[dt];St&&"accessor"===St.type&&(ut[dt]=this.getSubLayerAccessor(ut[dt]))}}Object.assign(It,ot,ut),It.id="".concat(this.props.id,"-").concat(se),It.updateTriggers={all:null===(st=this.props.updateTriggers)||void 0===st?void 0:st.all,...ot.updateTriggers,...re};for(const Tt of Ct){const _t=Tt.getSubLayerProps.call(this,Tt);_t&&Object.assign(It,_t,{updateTriggers:Object.assign(It.updateTriggers,_t.updateTriggers)})}return It}_updateAutoHighlight(ot){for(const st of this.getSubLayers())st.updateAutoHighlight(ot)}_getAttributeManager(){return null}_postUpdate(ot,st){let at=this.internalState.subLayers;const $=!at||this.needsUpdate();if($){const N=this.renderLayers();at=(0,Y.x)(N,Boolean),this.internalState.subLayers=at}(0,F.Z)("compositeLayer.renderLayers",this,$,at);for(const N of at)N.parent=this}}(0,J.Z)(O,"layerName","CompositeLayer")},9531:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Df:()=>rt,FP:()=>G,iI:()=>Y,k8:()=>O,zG:()=>F});var J=Z(967);const rt={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(rt,"IDENTITY",{get:()=>(J.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const F={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},Y={common:0,meters:1,pixels:2},G={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},O={DRAW:"draw",MASK:"mask"}},5670:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>cn});var J=Z(1180),rt=Z(9531),F=Z(5001),Y=Z(9681),G=Z(4822),O=Z(7922);function st(ke,Kt,ge,Le,We){const rn=Kt-ke;return(ge-Kt)*We+-rn*Le+rn+Kt}function $(ke,Kt){if(Array.isArray(ke)){let ge=0;for(let Le=0;Le<ke.length;Le++){const We=ke[Le]-Kt[Le];ge+=We*We}return Math.sqrt(ge)}return Math.abs(ke-Kt)}var V=Z(967);const bt={interpolation:class Q extends O.Z{get value(){return this._value}_onUpdate(){const{time:Kt,settings:{fromValue:ge,toValue:Le,duration:We,easing:rn}}=this,bn=rn(Kt/We);this._value=(0,G.t7)(ge,Le,bn)}},spring:class N extends O.Z{get value(){return this._currValue}_onUpdate(){const{fromValue:Kt,toValue:ge,damping:Le,stiffness:We}=this.settings,{_prevValue:rn=Kt,_currValue:bn=Kt}=this;let nn=function at(ke,Kt,ge,Le,We){if(Array.isArray(ge)){const rn=[];for(let bn=0;bn<ge.length;bn++)rn[bn]=st(ke[bn],Kt[bn],ge[bn],Le,We);return rn}return st(ke,Kt,ge,Le,We)}(rn,bn,ge,Le,We);const wn=$(nn,ge),zt=$(nn,bn);wn<1e-5&&zt<1e-5&&(nn=ge,this.end()),this._prevValue=bn,this._currValue=nn}}};class X{constructor(Kt){this.transitions=new Map,this.timeline=Kt}get active(){return this.transitions.size>0}add(Kt,ge,Le,We){const{transitions:rn}=this;if(rn.has(Kt)){const wn=rn.get(Kt),{value:zt=wn.settings.fromValue}=wn;ge=zt,this.remove(Kt)}if(!(We=(0,Y.M0)(We)))return;const bn=bt[We.type];if(!bn)return void V.Z.error("unsupported transition type '".concat(We.type,"'"))();const nn=new bn(this.timeline);nn.start({...We,fromValue:ge,toValue:Le}),rn.set(Kt,nn)}remove(Kt){const{transitions:ge}=this;ge.has(Kt)&&(ge.get(Kt).cancel(),ge.delete(Kt))}update(){const Kt={};for(const[ge,Le]of this.transitions)Le.update(),Kt[ge]=Le.value,Le.inProgress||this.remove(ge);return Kt}clear(){for(const Kt of this.transitions.keys())this.remove(Kt)}}var tt=Z(195),W=Z(4132),nt=Z(4745),z=Z(3064),ct=Z(7591),gt=Z(406),Mt=Z(7869),Ct=Z(2562),q=Z(3127),Pt=Z(144),Dt=Z(9088),It=Z(5702);const ut={10241:9987,10240:9729,10242:33071,10243:33071},re={};var _t=Z(7358);const dt={boolean:{validate:(ke,Kt)=>!0,equal:(ke,Kt,ge)=>Boolean(ke)===Boolean(Kt)},number:{validate:(ke,Kt)=>Number.isFinite(ke)&&(!("max"in Kt)||ke<=Kt.max)&&(!("min"in Kt)||ke>=Kt.min)},color:{validate:(ke,Kt)=>Kt.optional&&!ke||jt(ke)&&(3===ke.length||4===ke.length),equal:(ke,Kt,ge)=>St(ke,Kt)},accessor:{validate(ke,Kt){const ge=ae(ke);return"function"===ge||ge===ae(Kt.value)},equal:(ke,Kt,ge)=>"function"==typeof Kt||St(ke,Kt)},array:{validate:(ke,Kt)=>Kt.optional&&!ke||jt(ke),equal:(ke,Kt,ge)=>ge.compare?St(ke,Kt):ke===Kt},object:{equal:(ke,Kt,ge)=>ge.compare?(0,_t.v)(ke,Kt):ke===Kt},function:{validate:(ke,Kt)=>Kt.optional&&!ke||"function"==typeof ke,equal:(ke,Kt,ge)=>!ge.compare||ke===Kt},data:{transform:(ke,Kt,ge)=>{const{dataTransform:Le}=ge.props;return Le&&ke?Le(ke):ke}},image:{transform:(ke,Kt,ge)=>function se(ke,Kt){const ge=ke.context&&ke.context.gl;if(!ge||!Kt)return null;if(Kt instanceof It.Z)return Kt;Kt.constructor&&"Object"!==Kt.constructor.name&&(Kt={data:Kt});let Le=null;Kt.compressed&&(Le={10241:Kt.data.length>1?9985:9729});const We=new It.Z(ge,{...Kt,parameters:{...ut,...Le,...ke.props.textureParameters}});return re[We.id]=!0,We}(ge,ke),release:ke=>{!function Tt(ke){!ke||!(ke instanceof It.Z)||re[ke.id]&&(ke.delete(),delete re[ke.id])}(ke)}}};function St(ke,Kt){if(ke===Kt)return!0;if(!jt(ke)||!jt(Kt))return!1;const ge=ke.length;if(ge!==Kt.length)return!1;for(let Le=0;Le<ge;Le++)if(ke[Le]!==Kt[Le])return!1;return!0}function Vt(ke,Kt){switch(ae(Kt)){case"object":return Ce(ke,Kt);case"array":return Ce(ke,{type:"array",value:Kt,compare:!1});case"boolean":return Ce(ke,{type:"boolean",value:Kt});case"number":return Ce(ke,{type:"number",value:Kt});case"function":return Ce(ke,{type:"function",value:Kt,compare:!0});default:return{name:ke,type:"unknown",value:Kt}}}function Ce(ke,Kt){return"type"in Kt?{name:ke,...dt[Kt.type],...Kt}:"value"in Kt?{name:ke,type:ae(Kt.value),...Kt}:{name:ke,type:"object",value:Kt}}function jt(ke){return Array.isArray(ke)||ArrayBuffer.isView(ke)}function ae(ke){return jt(ke)?"array":null===ke?"null":typeof ke}function Pe(ke){return Wt(ke,"_mergedDefaultProps")||(function He(ke){if(!ke.prototype)return;const ge=Object.getPrototypeOf(ke),Le=Pe(ge),rn=function Zt(ke){const Kt={},ge={},Le={};for(const[We,rn]of Object.entries(ke)){const bn=rn?.deprecatedFor;if(bn)Le[We]=Array.isArray(bn)?bn:[bn];else{const nn=Vt(We,rn);Kt[We]=nn,ge[We]=nn.value}}return{propTypes:Kt,defaultProps:ge,deprecatedProps:Le}}(Wt(ke,"defaultProps")||{}),bn=function de(ke,Kt,ge){const Le=Object.create(null);Object.assign(Le,Kt,ke);const We=function Nt(ke){const Kt=Wt(ke,"layerName")||Wt(ke,"componentName");return Kt||V.Z.once(0,"".concat(ke.name,".componentName not specified"))(),Kt||ke.name}(ge);return delete ke.id,Object.defineProperties(Le,{id:{writable:!0,value:We}}),Le}(rn.defaultProps,Le,ke),nn={...ge._propTypes,...rn.propTypes};!function Se(ke,Kt){const ge={},Le={};for(const We in Kt){const rn=Kt[We],{name:bn,value:nn}=rn;rn.async&&(ge[bn]=nn,Le[bn]=wt(bn))}ke[W.lY]=ge,ke[W.fO]={},Object.defineProperties(ke,Le)}(bn,nn);const wn={...ge._deprecatedProps,...rn.deprecatedProps};(function we(ke,Kt){for(const ge in Kt)Object.defineProperty(ke,ge,{enumerable:!1,set(Le){const We="".concat(this.id,": ").concat(ge);for(const rn of Kt[ge])Ht(this,rn)||(this[rn]=Le);V.Z.deprecated(We,Kt[ge].join("/"))()}})})(bn,wn),ke._mergedDefaultProps=bn,ke._propTypes=nn,ke._deprecatedProps=wn}(ke),ke._mergedDefaultProps)}function wt(ke){return{enumerable:!0,set(Kt){"string"==typeof Kt||Kt instanceof Promise||(0,Dt.D0)(Kt)?this[W.fO][ke]=Kt:this[W.bN][ke]=Kt},get(){if(this[W.bN]){if(ke in this[W.bN])return this[W.bN][ke]||this[W.lY][ke];if(ke in this[W.fO]){const Kt=this[W.fm]&&this[W.fm].internalState;if(Kt&&Kt.hasAsyncProp(ke))return Kt.getAsyncProp(ke)||this[W.lY][ke]}}return this[W.lY][ke]}}}function Ht(ke,Kt){return Object.prototype.hasOwnProperty.call(ke,Kt)}function Wt(ke,Kt){return Ht(ke,Kt)&&ke[Kt]}let ht=0;class At{constructor(...Kt){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"props",void 0),(0,J.Z)(this,"count",void 0),this.props=function ue(ke,Kt){const ge=Pe(ke.constructor),Le=Object.create(ge);Le[W.fm]=ke,Le[W.fO]={},Le[W.bN]={};for(let We=0;We<Kt.length;++We){const rn=Kt[We];for(const bn in rn)Le[bn]=rn[bn]}return Object.freeze(Le),Le}(this,Kt),this.id=this.props.id,this.count=ht++}clone(Kt){const{props:ge}=this,Le={};for(const We in ge[W.lY])We in ge[W.bN]?Le[We]=ge[W.bN][We]:We in ge[W.fO]&&(Le[We]=ge[W.fO][We]);return new this.constructor({...ge,...Le,...Kt})}}(0,J.Z)(At,"componentName","Component"),(0,J.Z)(At,"defaultProps",{});var vt=Z(5861),M=Z(6296);const P=Object.freeze({});class U{constructor(Kt){(0,J.Z)(this,"component",void 0),(0,J.Z)(this,"onAsyncPropUpdated",void 0),(0,J.Z)(this,"asyncProps",void 0),(0,J.Z)(this,"oldProps",void 0),(0,J.Z)(this,"oldAsyncProps",void 0),this.component=Kt,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const Kt in this.asyncProps){const ge=this.asyncProps[Kt];ge&&ge.type&&ge.type.release&&ge.type.release(ge.resolvedValue,ge.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||P}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(Kt){return Kt in this.asyncProps}getAsyncProp(Kt){const ge=this.asyncProps[Kt];return ge&&ge.resolvedValue}isAsyncPropLoading(Kt){if(Kt){const ge=this.asyncProps[Kt];return Boolean(ge&&ge.pendingLoadCount>0&&ge.pendingLoadCount!==ge.resolvedLoadCount)}for(const ge in this.asyncProps)if(this.isAsyncPropLoading(ge))return!0;return!1}reloadAsyncProp(Kt,ge){this._watchPromise(Kt,Promise.resolve(ge))}setAsyncProps(Kt){const ge=Kt[W.bN]||{},Le=Kt[W.fO]||Kt,We=Kt[W.lY]||{};for(const rn in ge){const bn=ge[rn];this._createAsyncPropData(rn,We[rn]),this._updateAsyncProp(rn,bn),ge[rn]=this.getAsyncProp(rn)}for(const rn in Le){const bn=Le[rn];this._createAsyncPropData(rn,We[rn]),this._updateAsyncProp(rn,bn)}}_fetch(Kt,ge){return null}_onResolve(Kt,ge){}_onError(Kt,ge){}_updateAsyncProp(Kt,ge){if(this._didAsyncInputValueChange(Kt,ge)){if("string"==typeof ge&&(ge=this._fetch(Kt,ge)),ge instanceof Promise)return void this._watchPromise(Kt,ge);if((0,Dt.D0)(ge))return void this._resolveAsyncIterable(Kt,ge);this._setPropValue(Kt,ge)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const Kt in this.asyncProps)Object.defineProperty(this.oldAsyncProps,Kt,{enumerable:!0,value:this.oldProps[Kt]})}}_didAsyncInputValueChange(Kt,ge){const Le=this.asyncProps[Kt];return ge!==Le.resolvedValue&&ge!==Le.lastValue&&(Le.lastValue=ge,!0)}_setPropValue(Kt,ge){this._freezeAsyncOldProps();const Le=this.asyncProps[Kt];Le&&(ge=this._postProcessValue(Le,ge),Le.resolvedValue=ge,Le.pendingLoadCount++,Le.resolvedLoadCount=Le.pendingLoadCount)}_setAsyncPropValue(Kt,ge,Le){const We=this.asyncProps[Kt];We&&Le>=We.resolvedLoadCount&&void 0!==ge&&(this._freezeAsyncOldProps(),We.resolvedValue=ge,We.resolvedLoadCount=Le,this.onAsyncPropUpdated(Kt,ge))}_watchPromise(Kt,ge){const Le=this.asyncProps[Kt];if(Le){Le.pendingLoadCount++;const We=Le.pendingLoadCount;ge.then(rn=>{rn=this._postProcessValue(Le,rn),this._setAsyncPropValue(Kt,rn,We),this._onResolve(Kt,rn)}).catch(rn=>{this._onError(Kt,rn)})}}_resolveAsyncIterable(Kt,ge){var Le=this;return(0,vt.Z)(function*(){if("data"!==Kt)return void Le._setPropValue(Kt,ge);const We=Le.asyncProps[Kt];if(!We)return;We.pendingLoadCount++;const rn=We.pendingLoadCount;let bn=[],nn=0;var Qt,wn=!1,zt=!1;try{for(var je,Ie=(0,M.Z)(ge);wn=!(je=yield Ie.next()).done;wn=!1){const tn=je.value;{const{dataTransform:Dn}=Le.component.props;bn=Dn?Dn(tn,bn):bn.concat(tn),Object.defineProperty(bn,"__diff",{enumerable:!1,value:[{startRow:nn,endRow:bn.length}]}),nn=bn.length,Le._setAsyncPropValue(Kt,bn,rn)}}}catch(tn){zt=!0,Qt=tn}finally{try{wn&&null!=Ie.return&&(yield Ie.return())}finally{if(zt)throw Qt}}Le._onResolve(Kt,bn)})()}_postProcessValue(Kt,ge){const Le=Kt.type;return Le&&(Le.release&&Le.release(Kt.resolvedValue,Le,this.component),Le.transform)?Le.transform(ge,Le,this.component):ge}_createAsyncPropData(Kt,ge){if(!this.asyncProps[Kt]){const We=this.component&&this.component.constructor._propTypes;this.asyncProps[Kt]={type:We&&We[Kt],lastValue:null,resolvedValue:ge,pendingLoadCount:0,resolvedLoadCount:0}}}}class pt extends U{constructor({attributeManager:Kt,layer:ge}){super(ge),(0,J.Z)(this,"attributeManager",void 0),(0,J.Z)(this,"needsRedraw",void 0),(0,J.Z)(this,"needsUpdate",void 0),(0,J.Z)(this,"subLayers",void 0),(0,J.Z)(this,"usesPickingColorCache",void 0),(0,J.Z)(this,"changeFlags",void 0),(0,J.Z)(this,"viewport",void 0),(0,J.Z)(this,"uniformTransitions",void 0),(0,J.Z)(this,"propsInTransition",void 0),this.attributeManager=Kt,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(Kt){this.component=Kt}_fetch(Kt,ge){const Le=this.component.props.fetch;return Le?Le(ge,{propName:Kt,layer:this.layer}):super._fetch(Kt,ge)}_onResolve(Kt,ge){const Le=this.component.props.onDataLoad;"data"===Kt&&Le&&Le(ge,{propName:Kt,layer:this.layer})}_onError(Kt,ge){this.layer.raiseError(ge,"loading ".concat(Kt," of ").concat(this.layer))}}var Et=Z(4698),Ot=Z(278);const ln=Object.freeze([]),fn=(0,Mt.Z)(({oldViewport:ke,viewport:Kt})=>ke.equals(Kt));let dn=new Uint8ClampedArray(0);const xn={data:{type:"data",value:ln,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:ke=>ke&&ke.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(ke,{propName:Kt,layer:ge,loaders:Le,loadOptions:We,signal:rn})=>{const{resourceManager:bn}=ge.context;var nn;We=We||ge.getLoadOptions(),Le=Le||ge.props.loaders,rn&&(We={...We,fetch:{...null===(nn=We)||void 0===nn?void 0:nn.fetch,signal:rn}});let wn=bn.contains(ke);return!wn&&!We&&(bn.add({resourceId:ke,data:(0,Ot.z)(ke,Le),persistent:!1}),wn=!0),wn?bn.subscribe({resourceId:ke,onChange:zt=>{var Qt;return null===(Qt=ge.internalState)||void 0===Qt?void 0:Qt.reloadAsyncProp(Kt,zt)},consumerId:ge.id,requestId:Kt}):(0,Ot.z)(ke,Le,We)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:rt.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:rt.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:ke})=>[0,100*-ke],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class cn extends At{constructor(...Kt){super(...Kt),(0,J.Z)(this,"internalState",null),(0,J.Z)(this,"lifecycle",W.dt.NO_STATE),(0,J.Z)(this,"context",void 0),(0,J.Z)(this,"state",void 0),(0,J.Z)(this,"parent",null)}get root(){let Kt=this;for(;Kt.parent;)Kt=Kt.parent;return Kt}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(Kt){(0,gt.Z)(this.internalState);const ge=this.internalState.viewport||this.context.viewport,Le=(0,q.T)(Kt,{viewport:ge,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[We,rn,bn]=(0,Et.aW)(Le,ge.pixelProjectionMatrix);return 2===Kt.length?[We,rn]:[We,rn,bn]}unproject(Kt){return(0,gt.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(Kt)}projectPosition(Kt,ge){return(0,gt.Z)(this.internalState),(0,q.D)(Kt,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...ge})}get isComposite(){return!1}setState(Kt){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,Kt),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(Kt){for(const ge of this.getModels())ge.updateModuleSettings(Kt)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:Kt}=this.props;return Kt===rt.Df.DEFAULT||Kt===rt.Df.LNGLAT||Kt===rt.Df.CARTESIAN}onHover(Kt,ge){return this.props.onHover&&this.props.onHover(Kt,ge)||!1}onClick(Kt,ge){return this.props.onClick&&this.props.onClick(Kt,ge)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(Kt,ge=[]){return ge[0]=Kt+1&255,ge[1]=Kt+1>>8&255,ge[2]=Kt+1>>8>>8&255,ge}decodePickingColor(Kt){(0,gt.Z)(Kt instanceof Uint8Array);const[ge,Le,We]=Kt;return ge+256*Le+65536*We-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:(0,nt.Q)(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var Kt;const ge=this.getAttributeManager();if(!ge)return null;const{positions:Le,instancePositions:We}=ge.attributes;return null===(Kt=Le||We)||void 0===Kt?void 0:Kt.getBounds()}getShaders(Kt){for(const ge of this.props.extensions)Kt=(0,Ct.l)(Kt,ge.getShaders.call(this,ge));return Kt}shouldUpdateState(Kt){return Kt.changeFlags.propsOrDataChanged}updateState(Kt){const ge=this.getAttributeManager(),{dataChanged:Le}=Kt.changeFlags;if(Le&&ge)if(Array.isArray(Le))for(const wn of Le)ge.invalidateAll(wn);else ge.invalidateAll();const{props:We,oldProps:rn}=Kt,bn=Number.isInteger(rn.highlightedObjectIndex)||rn.pickable,nn=Number.isInteger(We.highlightedObjectIndex)||We.pickable;if(bn!==nn&&ge){const{pickingColors:wn,instancePickingColors:zt}=ge.attributes,Qt=wn||zt;Qt&&(nn&&Qt.constant&&(Qt.constant=!1,ge.invalidate(Qt.id)),!Qt.value&&!nn&&(Qt.constant=!0,Qt.value=[0,0,0]))}}finalizeState(Kt){for(const Le of this.getModels())Le.delete();const ge=this.getAttributeManager();ge&&ge.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(Kt){for(const ge of this.getModels())ge.draw(Kt)}getPickingInfo({info:Kt}){const{index:We}=Kt;return We>=0&&Array.isArray(this.props.data)&&(Kt.object=this.props.data[We]),Kt}raiseError(Kt,ge){var Le,We,rn,bn;ge&&(Kt.message="".concat(ge,": ").concat(Kt.message)),null!==(Le=(We=this.props).onError)&&void 0!==Le&&Le.call(We,Kt)||null===(rn=this.context)||void 0===rn||null===(bn=rn.onError)||void 0===bn||bn.call(rn,Kt,this)}getNeedsRedraw(Kt={clearRedrawFlags:!1}){return this._getNeedsRedraw(Kt)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var Kt;return(null===(Kt=this.internalState)||void 0===Kt?void 0:Kt.uniformTransitions.active)||!1}activateViewport(Kt){if(!this.internalState)return;const ge=this.internalState.viewport;this.internalState.viewport=Kt,(!ge||!fn({oldViewport:ge,viewport:Kt}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(Kt="all"){const ge=this.getAttributeManager();ge&&("all"===Kt?ge.invalidateAll():ge.invalidate(Kt))}updateAttributes(Kt){for(const ge of this.getModels())this._setModelAttributes(ge,Kt)}_updateAttributes(){const Kt=this.getAttributeManager();if(!Kt)return;const ge=this.props,Le=this.getNumInstances(),We=this.getStartIndices();Kt.update({data:ge.data,numInstances:Le,startIndices:We,props:ge,transitions:ge.transitions,buffers:ge.data.attributes,context:this});const rn=Kt.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(rn)}_updateAttributeTransition(){const Kt=this.getAttributeManager();Kt&&Kt.updateTransition()}_updateUniformTransition(){const{uniformTransitions:Kt}=this.internalState;if(Kt.active){const ge=Kt.update(),Le=Object.create(this.props);for(const We in ge)Object.defineProperty(Le,We,{value:ge[We]});return Le}return this.props}calculateInstancePickingColors(Kt,{numInstances:ge}){if(Kt.constant)return;const Le=Math.floor(dn.length/3);if(this.internalState.usesPickingColorCache=!0,Le<ge){ge>16777215&&V.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),dn=Pt.Z.allocate(dn,ge,{size:3,copy:!0,maxCount:Math.max(ge,16777215)});const We=Math.floor(dn.length/3),rn=[];for(let bn=Le;bn<We;bn++)this.encodePickingColor(bn,rn),dn[3*bn+0]=rn[0],dn[3*bn+1]=rn[1],dn[3*bn+2]=rn[2]}Kt.value=dn.subarray(0,3*ge)}_setModelAttributes(Kt,ge){const rn=this.getAttributeManager().getShaderAttributes(ge,Kt.userData.excludeAttributes||{});Kt.setAttributes(rn)}disablePickingIndex(Kt){this._disablePickingIndex(Kt)}_disablePickingIndex(Kt){const{pickingColors:ge,instancePickingColors:Le}=this.getAttributeManager().attributes,We=ge||Le;if(!We)return;const rn=We.getVertexOffset(Kt),bn=We.getVertexOffset(Kt+1);We.buffer.subData({data:new Uint8Array(bn-rn),offset:rn})}restorePickingColors(){const{pickingColors:Kt,instancePickingColors:ge}=this.getAttributeManager().attributes,Le=Kt||ge;Le&&(this.internalState.usesPickingColorCache&&Le.value.buffer!==dn.buffer&&(Le.value=dn.subarray(0,Le.value.length)),Le.updateSubBuffer({startOffset:0}))}_initialize(){(0,gt.Z)(!this.internalState),(0,gt.Z)(Number.isFinite(this.props.coordinateSystem)),(0,z.Z)("layer.initialize",this);const Kt=this._getAttributeManager();Kt&&Kt.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new pt({attributeManager:Kt,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(V.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),Kt)}),this.internalState.layer=this,this.internalState.uniformTransitions=new X(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const ge of this.props.extensions)ge.initializeState.call(this,this.context,ge);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(Kt){(0,z.Z)("layer.matched",this,this===Kt);const{state:ge,internalState:Le}=Kt;this!==Kt&&(this.internalState=Le,this.internalState.layer=this,this.state=ge,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const Kt=this.needsUpdate();if((0,z.Z)("layer.update",this,Kt),!Kt)return;const ge=this.props,Le=this.context,We=this.internalState,rn=Le.viewport,bn=this._updateUniformTransition();We.propsInTransition=bn,Le.viewport=We.viewport||rn,this.props=bn;try{const nn=this._getUpdateParams(),wn=this.getModels();if(Le.gl)this.updateState(nn);else try{this.updateState(nn)}catch{}for(const Qt of this.props.extensions)Qt.updateState.call(this,nn,Qt);const zt=this.getModels()[0]!==wn[0];this._postUpdate(nn,zt)}finally{Le.viewport=rn,this.props=ge,this._clearChangeFlags(),We.needsUpdate=!1,We.resetOldProps()}}_finalize(){(0,z.Z)("layer.finalize",this),this.finalizeState(this.context);for(const Kt of this.props.extensions)Kt.finalizeState.call(this,Kt)}_drawLayer({moduleParameters:Kt=null,uniforms:ge={},parameters:Le={}}){this._updateAttributeTransition();const We=this.props,rn=this.context;this.props=this.internalState.propsInTransition||We,ge.opacity=Math.pow(this.props.opacity,1/2.2);try{Kt&&this.setModuleParameters(Kt);const{getPolygonOffset:nn}=this.props,wn=nn&&nn(ge)||[0,0];(0,ct.dR)(rn.gl,{polygonOffset:wn}),(0,ct.s8)(rn.gl,Le,()=>{const zt={moduleParameters:Kt,uniforms:ge,parameters:Le,context:rn};for(const Qt of this.props.extensions)Qt.draw.call(this,zt,Qt);this.draw(zt)})}finally{this.props=We}}getChangeFlags(){var Kt;return null===(Kt=this.internalState)||void 0===Kt?void 0:Kt.changeFlags}setChangeFlags(Kt){if(!this.internalState)return;const{changeFlags:ge}=this.internalState;for(const We in Kt)if(Kt[We]){let rn=!1;if("dataChanged"===We){const bn=Kt[We],nn=ge[We];bn&&Array.isArray(nn)&&(ge.dataChanged=Array.isArray(bn)?nn.concat(bn):bn,rn=!0)}ge[We]||(ge[We]=Kt[We],rn=!0),rn&&(0,z.Z)("layer.changeFlag",this,We,Kt)}const Le=Boolean(ge.dataChanged||ge.updateTriggersChanged||ge.propsChanged||ge.extensionsChanged);ge.propsOrDataChanged=Le,ge.somethingChanged=Le||ge.viewportChanged||ge.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(Kt,ge){const Le=(0,tt.Yt)(Kt,ge);if(Le.updateTriggersChanged)for(const rn in Le.updateTriggersChanged)Le.updateTriggersChanged[rn]&&this.invalidateAttribute(rn);if(Le.transitionsChanged)for(const rn in Le.transitionsChanged){var We;this.internalState.uniformTransitions.add(rn,ge[rn],Kt[rn],null===(We=Kt.transitions)||void 0===We?void 0:We[rn])}return this.setChangeFlags(Le)}validateProps(){(0,tt.eQ)(this.props)}updateAutoHighlight(Kt){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(Kt)}_updateAutoHighlight(Kt){const ge={pickingSelectedColor:Kt.picked?Kt.color:null},{highlightColor:Le}=this.props;Kt.picked&&"function"==typeof Le&&(ge.pickingHighlightColor=Le(Kt)),this.setModuleParameters(ge),this.setNeedsRedraw()}_getAttributeManager(){const Kt=this.context;return new F.Z(Kt.gl,{id:this.props.id,stats:Kt.stats,timeline:Kt.timeline})}_postUpdate(Kt,ge){const{props:Le,oldProps:We}=Kt;this.setNeedsRedraw(),this._updateAttributes();const{model:rn}=this.state;rn?.setInstanceCount(this.getNumInstances());const{autoHighlight:bn,highlightedObjectIndex:nn,highlightColor:wn}=Le;if(ge||We.autoHighlight!==bn||We.highlightedObjectIndex!==nn||We.highlightColor!==wn){const zt={};bn||(zt.pickingSelectedColor=null),Array.isArray(wn)&&(zt.pickingHighlightColor=wn),Number.isInteger(nn)&&(zt.pickingSelectedColor=Number.isFinite(nn)&&nn>=0?this.encodePickingColor(nn):null),this.setModuleParameters(zt)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(Kt){if(!this.internalState)return!1;let ge=!1;ge=ge||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!Kt.clearRedrawFlags;const Le=this.getAttributeManager(),We=!!Le&&Le.getNeedsRedraw(Kt);return ge=ge||We,ge}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(0,J.Z)(cn,"defaultProps",xn),(0,J.Z)(cn,"layerName","Layer")},4132:(Ye,oe,Z)=>{"use strict";Z.d(oe,{bN:()=>G,dt:()=>J,fO:()=>Y,fm:()=>rt,lY:()=>F});const J={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},rt=Symbol.for("component"),F=Symbol.for("asyncPropDefaults"),Y=Symbol.for("asyncPropOriginal"),G=Symbol.for("asyncPropResolved")},195:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Yt:()=>F,eQ:()=>rt,tg:()=>G});var J=Z(4132);function rt(N){const V=$(N);for(const bt in V){const X=V[bt],{validate:tt}=X;if(tt&&!tt(N[bt],X))throw new Error("Invalid prop ".concat(bt,": ").concat(N[bt]))}}function F(N,V){const bt=G({newProps:N,oldProps:V,propTypes:$(N),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),X=function Q(N,V){if(null===V)return"oldProps is null, initial diff";let bt=!1;const{dataComparator:X,_dataDiff:tt}=N;return X?X(N.data,V.data)||(bt="Data comparator detected a change"):N.data!==V.data&&(bt="A new data container was supplied"),bt&&tt&&(bt=tt(N.data,V.data)||bt),bt}(N,V);let tt=!1;return X||(tt=function ot(N,V){if(null===V)return{all:!0};if("all"in N.updateTriggers&&at(N,V,"all"))return{all:!0};const bt={};let X=!1;for(const tt in N.updateTriggers)"all"!==tt&&at(N,V,tt)&&(bt[tt]=!0,X=!0);return!!X&&bt}(N,V)),{dataChanged:X,propsChanged:bt,updateTriggersChanged:tt,extensionsChanged:st(N,V),transitionsChanged:Y(N,V)}}function Y(N,V){if(!N.transitions)return!1;const bt={},X=$(N);let tt=!1;for(const W in N.transitions){const nt=X[W],z=nt&&nt.type;("number"===z||"color"===z||"array"===z)&&O(N[W],V[W],nt)&&(bt[W]=!0,tt=!0)}return!!tt&&bt}function G({newProps:N,oldProps:V,ignoreProps:bt={},propTypes:X={},triggerName:tt="props"}){if(V===N)return!1;if("object"!=typeof N||null===N||"object"!=typeof V||null===V)return"".concat(tt," changed shallowly");for(const W of Object.keys(N))if(!(W in bt)){if(!(W in V))return"".concat(tt,".").concat(W," added");const nt=O(N[W],V[W],X[W]);if(nt)return"".concat(tt,".").concat(W," ").concat(nt)}for(const W of Object.keys(V))if(!(W in bt)){if(!(W in N))return"".concat(tt,".").concat(W," dropped");if(!Object.hasOwnProperty.call(N,W)){const nt=O(N[W],V[W],X[W]);if(nt)return"".concat(tt,".").concat(W," ").concat(nt)}}return!1}function O(N,V,bt){let X=bt&&bt.equal;return X&&!X(N,V,bt)||!X&&(X=N&&V&&N.equals,X&&!X.call(N,V))?"changed deeply":X||V===N?null:"changed shallowly"}function st(N,V){if(null===V)return!0;const bt=V.extensions,{extensions:X}=N;if(X===bt)return!1;if(!bt||!X||X.length!==bt.length)return!0;for(let tt=0;tt<X.length;tt++)if(!X[tt].equals(bt[tt]))return!0;return!1}function at(N,V,bt){let X=N.updateTriggers[bt];X=X??{};let tt=V.updateTriggers[bt];return tt=tt??{},G({oldProps:tt,newProps:X,triggerName:bt})}function $(N){const V=N[J.fm],bt=V&&V.constructor;return bt?bt._propTypes:{}}},9813:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Q});const rt={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},Q={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function F(){let ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;const st={};if(void 0!==ot.pickingSelectedColor)if(ot.pickingSelectedColor){const at=ot.pickingSelectedColor.slice(0,3);st.picking_uSelectedColorValid=1,st.picking_uSelectedColor=at}else st.picking_uSelectedColorValid=0;if(ot.pickingHighlightColor){const at=Array.from(ot.pickingHighlightColor,$=>$/255);Number.isFinite(at[3])||(at[3]=1),st.picking_uHighlightColor=at}return void 0!==ot.pickingActive&&(st.picking_uActive=Boolean(ot.pickingActive),st.picking_uAttribute=Boolean(ot.pickingAttribute)),st}}},6392:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>F});const F={name:"project32",dependencies:[Z(7517).Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},3127:(Ye,oe,Z)=>{"use strict";Z.d(oe,{D:()=>at,T:()=>st});var J=Z(9531),rt=Z(6231),F=Z(5174),Y=Z(9538),G=Z(3454),O=Z(4698);function Q($,N,V=!1){const bt=N.projectPosition($);if(V&&N instanceof F.Z){const[X,tt,W=0]=$,nt=N.getDistanceScales([X,tt]);bt[2]=W*nt.unitsPerMeter[2]}return bt}function st($,{viewport:N,modelMatrix:V,coordinateSystem:bt,coordinateOrigin:X,offsetMode:tt}){let[W,nt,z=0]=$;switch(V&&([W,nt,z]=Y.fF([],[W,nt,z,1],V)),bt){case J.Df.LNGLAT:return Q([W,nt,z],N,tt);case J.Df.LNGLAT_OFFSETS:return Q([W+X[0],nt+X[1],z+(X[2]||0)],N,tt);case J.Df.METER_OFFSETS:return Q((0,O.eG)(X,[W,nt,z]),N,tt);default:return N.isGeospatial?[W+X[0],nt+X[1],z+X[2]]:N.projectPosition([W,nt,z])}}function at($,N){const{viewport:V,coordinateSystem:bt,coordinateOrigin:X,modelMatrix:tt,fromCoordinateSystem:W,fromCoordinateOrigin:nt}=function ot($){const{viewport:N,modelMatrix:V,coordinateOrigin:bt}=$;let{coordinateSystem:X,fromCoordinateSystem:tt,fromCoordinateOrigin:W}=$;return X===J.Df.DEFAULT&&(X=N.isGeospatial?J.Df.LNGLAT:J.Df.CARTESIAN),void 0===tt&&(tt=X),void 0===W&&(W=bt),{viewport:N,coordinateSystem:X,coordinateOrigin:bt,modelMatrix:V,fromCoordinateSystem:tt,fromCoordinateOrigin:W}}(N),{geospatialOrigin:z,shaderCoordinateOrigin:ct,offsetMode:gt}=(0,rt.v)(V,bt,X),Mt=st($,{viewport:V,modelMatrix:tt,coordinateSystem:W,coordinateOrigin:nt,offsetMode:gt});if(gt){const Ct=V.projectPosition(z||ct);G.lu(Mt,Mt,Ct)}return Mt}},7517:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>X});const F="#define SMOOTH_EDGE_RADIUS 0.5",O={name:"geometry",vs:"\n".concat(F,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(F,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};var Q=Z(9531);const ot=Object.keys(Q.Df).map(tt=>"const int COORDINATE_SYSTEM_".concat(tt," = ").concat(Q.Df[tt],";")).join(""),st=Object.keys(Q.zG).map(tt=>"const int PROJECTION_MODE_".concat(tt," = ").concat(Q.zG[tt],";")).join(""),at=Object.keys(Q.iI).map(tt=>"const int UNIT_".concat(tt.toUpperCase()," = ").concat(Q.iI[tt],";")).join(""),$="".concat(ot,"\n").concat(st,"\n").concat(at,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');var N=Z(6231);const V={},X={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},O],vs:$,getUniforms:function bt(tt=V){return"viewport"in tt?(0,N.C)(tt):{}}}},6231:(Ye,oe,Z)=>{"use strict";Z.d(oe,{C:()=>V,v:()=>$});var J=Z(711),rt=Z(9538),F=Z(9531),Y=Z(7869);const G=[0,0,0,0],O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ot=[0,0,0],st=[0,0,0],at=(0,Y.Z)(function bt({viewport:X,devicePixelRatio:tt,coordinateSystem:W,coordinateOrigin:nt}){const{projectionCenter:z,viewProjectionMatrix:ct,originCommon:gt,cameraPosCommon:Mt,shaderCoordinateOrigin:Ct,geospatialOrigin:q}=function N(X,tt,W){const{viewMatrixUncentered:nt,projectionMatrix:z}=X;let{viewMatrix:ct,viewProjectionMatrix:gt}=X,Mt=G,Ct=G,q=X.cameraPosition;const{geospatialOrigin:Pt,shaderCoordinateOrigin:Dt,offsetMode:It}=$(X,tt,W);return It&&(Ct=X.projectPosition(Pt||Dt),q=[q[0]-Ct[0],q[1]-Ct[1],q[2]-Ct[2]],Ct[3]=1,Mt=rt.fF([],Ct,gt),ct=nt||ct,gt=J.Jp([],z,ct),gt=J.Jp([],gt,O)),{viewMatrix:ct,viewProjectionMatrix:gt,projectionCenter:Mt,originCommon:Ct,cameraPosCommon:q,shaderCoordinateOrigin:Dt,geospatialOrigin:Pt}}(X,W,nt),Pt=X.getDistanceScales(),Dt=[X.width*tt,X.height*tt],It=rt.fF([],[0,0,-X.focalDistance,1],X.projectionMatrix)[3]||1,ut={project_uCoordinateSystem:W,project_uProjectionMode:X.projectionMode,project_uCoordinateOrigin:Ct,project_uCommonOrigin:gt.slice(0,3),project_uCenter:z,project_uPseudoMeters:Boolean(X._pseudoMeters),project_uViewportSize:Dt,project_uDevicePixelRatio:tt,project_uFocalDistance:It,project_uCommonUnitsPerMeter:Pt.unitsPerMeter,project_uCommonUnitsPerWorldUnit:Pt.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:ot,project_uScale:X.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:ct,project_uModelMatrix:Q,project_uCameraPosition:Mt};if(q){const re=X.getDistanceScales(q);switch(W){case F.Df.METER_OFFSETS:ut.project_uCommonUnitsPerWorldUnit=re.unitsPerMeter,ut.project_uCommonUnitsPerWorldUnit2=re.unitsPerMeter2;break;case F.Df.LNGLAT:case F.Df.LNGLAT_OFFSETS:X._pseudoMeters||(ut.project_uCommonUnitsPerMeter=re.unitsPerMeter),ut.project_uCommonUnitsPerWorldUnit=re.unitsPerDegree,ut.project_uCommonUnitsPerWorldUnit2=re.unitsPerDegree2;break;case F.Df.CARTESIAN:ut.project_uCommonUnitsPerWorldUnit=[1,1,re.unitsPerMeter[2]],ut.project_uCommonUnitsPerWorldUnit2=[0,0,re.unitsPerMeter2[2]]}}return ut});function $(X,tt,W=st){W.length<3&&(W=[W[0],W[1],0]);let z,nt=W,ct=!0;switch(z=tt===F.Df.LNGLAT_OFFSETS||tt===F.Df.METER_OFFSETS?W:X.isGeospatial?[Math.fround(X.longitude),Math.fround(X.latitude),0]:null,X.projectionMode){case F.zG.WEB_MERCATOR:(tt===F.Df.LNGLAT||tt===F.Df.CARTESIAN)&&(z=[0,0,0],ct=!1);break;case F.zG.WEB_MERCATOR_AUTO_OFFSET:tt===F.Df.LNGLAT?nt=z:tt===F.Df.CARTESIAN&&(nt=[Math.fround(X.center[0]),Math.fround(X.center[1]),0],z=X.unprojectPosition(nt),nt[0]-=W[0],nt[1]-=W[1],nt[2]-=W[2]);break;case F.zG.IDENTITY:nt=X.position.map(Math.fround),nt[2]=nt[2]||0;break;case F.zG.GLOBE:ct=!1,z=null;break;default:ct=!1}return{geospatialOrigin:z,shaderCoordinateOrigin:nt,offsetMode:ct}}function V({viewport:X,devicePixelRatio:tt=1,modelMatrix:W=null,coordinateSystem:nt=F.Df.DEFAULT,coordinateOrigin:z=st,autoWrapLongitude:ct=!1}){nt===F.Df.DEFAULT&&(nt=X.isGeospatial?F.Df.LNGLAT:F.Df.CARTESIAN);const gt=at({viewport:X,devicePixelRatio:tt,coordinateSystem:nt,coordinateOrigin:z});return gt.project_uWrapLongitude=ct,gt.project_uModelMatrix=W||Q,gt}},8251:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>O});var J=Z(1180),rt=Z(2618),F=Z(4822);const Y=["longitude","latitude","zoom","bearing","pitch"],G=["longitude","latitude","zoom"];class O extends rt.Z{constructor(ot={}){const st=Array.isArray(ot)?ot:ot.transitionProps,at=Array.isArray(ot)?{}:ot;at.transitionProps=Array.isArray(st)?{compare:st,required:st}:st||{compare:Y,required:G},super(at.transitionProps),(0,J.Z)(this,"opts",void 0),this.opts=at}initializeProps(ot,st){const at=super.initializeProps(ot,st),{makeViewport:$,around:N}=this.opts;if($&&N){const V=$(ot),bt=$(st),X=V.unproject(N);at.start.around=N,Object.assign(at.end,{around:bt.project(X),aroundPosition:X,width:st.width,height:st.height})}return at}interpolateProps(ot,st,at){const $={};for(const N of this._propsToExtract)$[N]=(0,F.t7)(ot[N]||0,st[N]||0,at);if(st.aroundPosition&&this.opts.makeViewport){const N=this.opts.makeViewport({...st,...$});Object.assign($,N.panByPosition(st.aroundPosition,(0,F.t7)(ot.around,st.around,at)))}return $}}},2618:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Y});var J=Z(1180),rt=Z(4822),F=Z(406);class Y{constructor(O){(0,J.Z)(this,"_propsToCompare",void 0),(0,J.Z)(this,"_propsToExtract",void 0),(0,J.Z)(this,"_requiredProps",void 0);const{compare:Q,extract:ot,required:st}=O;this._propsToCompare=Q,this._propsToExtract=ot||Q,this._requiredProps=st}arePropsEqual(O,Q){for(const ot of this._propsToCompare)if(!(ot in O)||!(ot in Q)||!(0,rt.fS)(O[ot],Q[ot]))return!1;return!0}initializeProps(O,Q){const ot={},st={};for(const at of this._propsToExtract)(at in O||at in Q)&&(ot[at]=O[at],st[at]=Q[at]);return this._checkRequiredProps(ot),this._checkRequiredProps(st),{start:ot,end:st}}getDuration(O,Q){return Q.transitionDuration}_checkRequiredProps(O){this._requiredProps&&this._requiredProps.forEach(Q=>{const ot=O[Q];(0,F.Z)(Number.isFinite(ot)||Array.isArray(ot),"".concat(Q," is required for transition"))})}}},7922:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>rt});var J=Z(1180);class rt{constructor(Y){(0,J.Z)(this,"_inProgress",void 0),(0,J.Z)(this,"_handle",void 0),(0,J.Z)(this,"_timeline",void 0),(0,J.Z)(this,"time",void 0),(0,J.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=Y,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(Y){var G,O;this.cancel(),this.settings=Y,this._inProgress=!0,null===(G=(O=this.settings).onStart)||void 0===G||G.call(O,this)}end(){var Y,G;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(Y=(G=this.settings).onEnd)||void 0===Y||Y.call(G,this))}cancel(){var Y,G;this._inProgress&&(null===(Y=(G=this.settings).onInterrupt)||void 0===Y||Y.call(G,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var Y,G;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:O,settings:Q}=this;this._handle=O.addChannel({delay:O.getTime(),duration:Q.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(Y=(G=this.settings).onUpdate)||void 0===Y||Y.call(G,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},406:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(!rt)throw new Error(F||"deck.gl: assertion failed.")}Z.d(oe,{Z:()=>J})},4745:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Q:()=>F});const J="count(): argument not an object",rt="count(): argument not a container";function F(O){if(!function G(O){return null!==O&&"object"==typeof O}(O))throw new Error(J);if("function"==typeof O.count)return O.count();if(Number.isFinite(O.size))return O.size;if(Number.isFinite(O.length))return O.length;if(function Y(O){return null!==O&&"object"==typeof O&&O.constructor===Object}(O))return Object.keys(O).length;throw new Error(rt)}},7358:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(rt===F)return!0;if(!rt||!F)return!1;for(const Y in rt){const G=rt[Y],O=F[Y];if(!(G===O||Array.isArray(G)&&Array.isArray(O)&&J(G,O)))return!1}return!0}Z.d(oe,{v:()=>J})},5839:(Ye,oe,Z)=>{"use strict";function J(Y,G=(()=>!0)){return Array.isArray(Y)?rt(Y,G,[]):G(Y)?[Y]:[]}function rt(Y,G,O){let Q=-1;for(;++Q<Y.length;){const ot=Y[Q];Array.isArray(ot)?rt(ot,G,O):G(ot)&&O.push(ot)}return O}function F({target:Y,source:G,start:O=0,count:Q=1}){const ot=G.length,st=Q*ot;let at=0;for(let $=O;at<ot;at++)Y[$++]=G[at];for(;at<st;)at<st-at?(Y.copyWithin(O+at,O,O+at),at*=2):(Y.copyWithin(O+at,O,O+st-at),at=st);return Y}Z.d(oe,{k:()=>F,x:()=>J})},9088:(Ye,oe,Z)=>{"use strict";Z.d(oe,{D0:()=>Y,jB:()=>F,jr:()=>G});const J=[],rt=[];function F(O,Q=0,ot=1/0){let st=J;const at={index:-1,data:O,target:[]};return O?"function"==typeof O[Symbol.iterator]?st=O:O.length>0&&(rt.length=O.length,st=rt):st=J,(Q>0||Number.isFinite(ot))&&(st=(Array.isArray(st)?st:Array.from(st)).slice(Q,ot),at.index=Q-1),{iterable:st,objectInfo:at}}function Y(O){return O&&O[Symbol.asyncIterator]}function G(O,Q){const{size:ot,stride:st,offset:at,startIndices:$,nested:N}=Q,V=O.BYTES_PER_ELEMENT,bt=st?st/V:ot,X=at?at/V:0,tt=Math.floor((O.length-X)/bt);return(W,{index:nt,target:z})=>{if(!$){const Ct=nt*bt+X;for(let q=0;q<ot;q++)z[q]=O[Ct+q];return z}const ct=$[nt],gt=$[nt+1]||tt;let Mt;if(N){Mt=new Array(gt-ct);for(let Ct=ct;Ct<gt;Ct++){const q=Ct*bt+X;z=new Array(ot);for(let Pt=0;Pt<ot;Pt++)z[Pt]=O[q+Pt];Mt[Ct-ct]=z}}else if(bt===ot)Mt=O.subarray(ct*ot+X,gt*ot+X);else{Mt=new O.constructor((gt-ct)*ot);let Ct=0;for(let q=ct;q<gt;q++){const Pt=q*bt+X;for(let Dt=0;Dt<ot;Dt++)Mt[Ct++]=O[Pt+Dt]}}return Mt}}},967:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>rt});const rt=new(Z(787).Z)({id:"deck"})},8763:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Du:()=>O,Ks:()=>st,TK:()=>$,Xt:()=>G,bS:()=>F,wQ:()=>Y});var J=Z(144),rt=Z(3659);function F(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Y(N,V){const bt=N%V;return bt<0?V+bt:bt}function G(N){return[N[12],N[13],N[14]]}function O(N){return{left:ot(N[3]+N[0],N[7]+N[4],N[11]+N[8],N[15]+N[12]),right:ot(N[3]-N[0],N[7]-N[4],N[11]-N[8],N[15]-N[12]),bottom:ot(N[3]+N[1],N[7]+N[5],N[11]+N[9],N[15]+N[13]),top:ot(N[3]-N[1],N[7]-N[5],N[11]-N[9],N[15]-N[13]),near:ot(N[3]+N[2],N[7]+N[6],N[11]+N[10],N[15]+N[14]),far:ot(N[3]-N[2],N[7]-N[6],N[11]-N[10],N[15]-N[14])}}const Q=new rt.Z;function ot(N,V,bt,X){Q.set(N,V,bt);const tt=Q.len();return{distance:X/tt,normal:new rt.Z(-N/tt,-V/tt,-bt/tt)}}function st(N){return N-Math.fround(N)}let at;function $(N,V){const{size:bt=1,startIndex:X=0}=V,tt=void 0!==V.endIndex?V.endIndex:N.length,W=(tt-X)/bt;at=J.Z.allocate(at,W,{type:Float32Array,size:2*bt});let nt=X,z=0;for(;nt<tt;){for(let ct=0;ct<bt;ct++){const gt=N[nt++];at[z+ct]=gt,at[z+ct+bt]=st(gt)}z+=2*bt}return at.subarray(0,W*bt*2)}},7869:(Ye,oe,Z)=>{"use strict";function J(F,Y){if(F===Y)return!0;if(Array.isArray(F)){const G=F.length;if(!Y||Y.length!==G)return!1;for(let O=0;O<G;O++)if(F[O]!==Y[O])return!1;return!0}return!1}function rt(F){let G,Y={};return O=>{for(const Q in O)if(!J(O[Q],Y[Q])){G=F(O),Y=O;break}return G}}Z.d(oe,{Z:()=>rt})},2562:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(!F)return rt;const Y={...rt,...F};if("defines"in F&&(Y.defines={...rt.defines,...F.defines}),"modules"in F&&(Y.modules=(rt.modules||[]).concat(F.modules),F.modules.some(G=>"project64"===G.name))){const G=Y.modules.findIndex(O=>"project32"===O.name);G>=0&&Y.modules.splice(G,1)}if("inject"in F)if(rt.inject){const G={...rt.inject};for(const O in F.inject)G[O]=(G[O]||"")+F.inject[O];Y.inject=G}else Y.inject=F.inject;return Y}Z.d(oe,{l:()=>J})},5535:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>O});var J=Z(1180),rt=Z(9088),F=Z(144),Y=Z(406),G=Z(8775);class O{constructor(ot){(0,J.Z)(this,"opts",void 0),(0,J.Z)(this,"typedArrayManager",void 0),(0,J.Z)(this,"indexStarts",[0]),(0,J.Z)(this,"vertexStarts",[0]),(0,J.Z)(this,"vertexCount",0),(0,J.Z)(this,"instanceCount",0),(0,J.Z)(this,"attributes",void 0),(0,J.Z)(this,"_attributeDefs",void 0),(0,J.Z)(this,"data",void 0),(0,J.Z)(this,"getGeometry",void 0),(0,J.Z)(this,"geometryBuffer",void 0),(0,J.Z)(this,"buffers",void 0),(0,J.Z)(this,"positionSize",void 0),(0,J.Z)(this,"normalize",void 0);const{attributes:st={}}=ot;this.typedArrayManager=F.Z,this.attributes={},this._attributeDefs=st,this.opts=ot,this.updateGeometry(ot)}updateGeometry(ot){Object.assign(this.opts,ot);const{data:st,buffers:at={},getGeometry:$,geometryBuffer:N,positionFormat:V,dataChanged:bt,normalize:X=!0}=this.opts;if(this.data=st,this.getGeometry=$,this.positionSize=N&&N.size||("XY"===V?2:3),this.buffers=at,this.normalize=X,N&&((0,Y.Z)(st.startIndices),this.getGeometry=this.getGeometryFromBuffer(N),X||(at.positions=N)),this.geometryBuffer=at.positions,Array.isArray(bt))for(const tt of bt)this._rebuildGeometry(tt);else this._rebuildGeometry()}updatePartialGeometry({startRow:ot,endRow:st}){this._rebuildGeometry({startRow:ot,endRow:st})}getGeometryFromBuffer(ot){const st=ot.value||ot;return ArrayBuffer.isView(st)?(0,rt.jr)(st,{size:this.positionSize,offset:ot.offset,stride:ot.stride,startIndices:this.data.startIndices}):null}_allocate(ot,st){const{attributes:at,buffers:$,_attributeDefs:N,typedArrayManager:V}=this;for(const bt in N)if(bt in $)V.release(at[bt]),at[bt]=null;else{const X=N[bt];X.copy=st,at[bt]=V.allocate(at[bt],ot,X)}}_forEachGeometry(ot,st,at){const{data:$,getGeometry:N}=this,{iterable:V,objectInfo:bt}=(0,rt.jB)($,st,at);for(const X of V)bt.index++,ot(N?N(X,bt):null,bt.index)}_rebuildGeometry(ot){if(!this.data)return;let{indexStarts:st,vertexStarts:at,instanceCount:$}=this;const{data:N,geometryBuffer:V}=this,{startRow:bt=0,endRow:X=1/0}=ot||{},tt={};if(ot||(st=[0],at=[0]),this.normalize||!V)this._forEachGeometry((nt,z)=>{const ct=nt&&this.normalizeGeometry(nt);tt[z]=ct,at[z+1]=at[z]+(ct?this.getGeometrySize(ct):0)},bt,X),$=at[at.length-1];else if(at=N.startIndices,$=at[N.length]||0,ArrayBuffer.isView(V))$=$||V.length/this.positionSize;else if(V instanceof G.Z)$=$||V.byteLength/(V.accessor.stride||4*this.positionSize);else if(V.buffer)$=$||V.buffer.byteLength/(V.stride||4*this.positionSize);else if(V.value){const nt=V.value;$=$||nt.length/(V.stride/nt.BYTES_PER_ELEMENT||this.positionSize)}this._allocate($,Boolean(ot)),this.indexStarts=st,this.vertexStarts=at,this.instanceCount=$;const W={};this._forEachGeometry((nt,z)=>{const ct=tt[z]||nt;W.vertexStart=at[z],W.indexStart=st[z],W.geometrySize=(z<at.length-1?at[z+1]:$)-at[z],W.geometryIndex=z,this.updateGeometryAttributes(ct,W)},bt,X),this.vertexCount=st[st.length-1]}}},144:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>F});var J=Z(1180);const F=new class rt{constructor(G={}){(0,J.Z)(this,"_pool",[]),(0,J.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(G)}setOptions(G){Object.assign(this.opts,G)}allocate(G,O,{size:Q=1,type:ot,padding:st=0,copy:at=!1,initialize:$=!1,maxCount:N}){const V=ot||G&&G.constructor||Float32Array,bt=O*Q+st;if(ArrayBuffer.isView(G)){if(bt<=G.length)return G;if(bt*G.BYTES_PER_ELEMENT<=G.buffer.byteLength)return new V(G.buffer,0,bt)}let X=1/0;N&&(X=N*Q+st);const tt=this._allocate(V,bt,$,X);return G&&at?tt.set(G):$||tt.fill(0,0,4),this._release(G),tt}release(G){this._release(G)}_allocate(G,O,Q,ot){let st=Math.max(Math.ceil(O*this.opts.overAlloc),1);st>ot&&(st=ot);const at=this._pool,$=G.BYTES_PER_ELEMENT*st,N=at.findIndex(V=>V.byteLength>=$);if(N>=0){const V=new G(at.splice(N,1)[0],0,st);return Q&&V.fill(0),V}return new G(st)}_release(G){if(!ArrayBuffer.isView(G))return;const O=this._pool,{buffer:Q}=G,{byteLength:ot}=Q,st=O.findIndex(at=>at.byteLength>=ot);st<0?O.push(Q):(st>0||O.length<this.opts.poolSize)&&O.splice(st,0,Q),O.length>this.opts.poolSize&&O.shift()}}},3229:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>X});var J=Z(1180),rt=Z(967),F=Z(8763),Y=Z(9751),G=Z(4822),O=Z(3659),Q=Z(711),ot=Z(4698),st=Z(9531);const at=Math.PI/180,$=(0,F.bS)(),N=[0,0,0],V={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class X{constructor(W={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"x",void 0),(0,J.Z)(this,"y",void 0),(0,J.Z)(this,"width",void 0),(0,J.Z)(this,"height",void 0),(0,J.Z)(this,"isGeospatial",void 0),(0,J.Z)(this,"zoom",void 0),(0,J.Z)(this,"focalDistance",void 0),(0,J.Z)(this,"position",void 0),(0,J.Z)(this,"modelMatrix",void 0),(0,J.Z)(this,"distanceScales",void 0),(0,J.Z)(this,"scale",void 0),(0,J.Z)(this,"center",void 0),(0,J.Z)(this,"cameraPosition",void 0),(0,J.Z)(this,"projectionMatrix",void 0),(0,J.Z)(this,"viewMatrix",void 0),(0,J.Z)(this,"viewMatrixUncentered",void 0),(0,J.Z)(this,"viewMatrixInverse",void 0),(0,J.Z)(this,"viewProjectionMatrix",void 0),(0,J.Z)(this,"pixelProjectionMatrix",void 0),(0,J.Z)(this,"pixelUnprojectionMatrix",void 0),(0,J.Z)(this,"resolution",void 0),(0,J.Z)(this,"_frustumPlanes",{}),this.id=W.id||this.constructor.displayName||"viewport",this.x=W.x||0,this.y=W.y||0,this.width=W.width||1,this.height=W.height||1,this.zoom=W.zoom||0,this.distanceScales=W.distanceScales||V,this.focalDistance=W.focalDistance||1,this.position=W.position||N,this.modelMatrix=W.modelMatrix||null;const{longitude:nt,latitude:z}=W;this.isGeospatial=Number.isFinite(z)&&Number.isFinite(nt),this._initProps(W),this._initMatrices(W),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?st.zG.WEB_MERCATOR:st.zG.WEB_MERCATOR_AUTO_OFFSET:st.zG.IDENTITY}equals(W){return W instanceof X&&(this===W||W.width===this.width&&W.height===this.height&&W.scale===this.scale&&(0,G.fS)(W.projectionMatrix,this.projectionMatrix)&&(0,G.fS)(W.viewMatrix,this.viewMatrix))}project(W,{topLeft:nt=!0}={}){const z=this.projectPosition(W),ct=(0,ot.aW)(z,this.pixelProjectionMatrix),[gt,Mt]=ct,Ct=nt?Mt:this.height-Mt;return 2===W.length?[gt,Ct]:[gt,Ct,ct[2]]}unproject(W,{topLeft:nt=!0,targetZ:z}={}){const[ct,gt,Mt]=W,Pt=(0,ot.CT)([ct,nt?gt:this.height-gt,Mt],this.pixelUnprojectionMatrix,z&&z*this.distanceScales.unitsPerMeter[2]),[Dt,It,ut]=this.unprojectPosition(Pt);return Number.isFinite(Mt)?[Dt,It,ut]:Number.isFinite(z)?[Dt,It,z]:[Dt,It]}projectPosition(W){const[nt,z]=this.projectFlat(W);return[nt,z,(W[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(W){const[nt,z]=this.unprojectFlat(W);return[nt,z,(W[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(W){if(this.isGeospatial){const nt=(0,ot.w5)(W);return nt[1]=(0,G.uZ)(nt[1],-318,830),nt}return W}unprojectFlat(W){return this.isGeospatial?(0,ot.es)(W):W}getBounds(W={}){const nt={targetZ:W.z||0},z=this.unproject([0,0],nt),ct=this.unproject([this.width,0],nt),gt=this.unproject([0,this.height],nt),Mt=this.unproject([this.width,this.height],nt);return[Math.min(z[0],ct[0],gt[0],Mt[0]),Math.min(z[1],ct[1],gt[1],Mt[1]),Math.max(z[0],ct[0],gt[0],Mt[0]),Math.max(z[1],ct[1],gt[1],Mt[1])]}getDistanceScales(W){return W?(0,ot.ro)({longitude:W[0],latitude:W[1],highPrecision:!0}):this.distanceScales}containsPixel({x:W,y:nt,width:z=1,height:ct=1}){return W<this.x+this.width&&this.x<W+z&&nt<this.y+this.height&&this.y<nt+ct}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,F.Du)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(W,nt){return null}_initProps(W){const nt=W.longitude,z=W.latitude;this.isGeospatial&&(Number.isFinite(W.zoom)||(this.zoom=(0,ot.Bf)({latitude:z})+Math.log2(this.focalDistance)),this.distanceScales=W.distanceScales||(0,ot.ro)({latitude:z,longitude:nt}));const ct=Math.pow(2,this.zoom);this.scale=ct;const{position:gt,modelMatrix:Mt}=W;let Ct=N;if(gt&&(Ct=Mt?new Y.Z(Mt).transformAsVector(gt,[]):gt),this.isGeospatial){const q=this.projectPosition([nt,z,0]);this.center=new O.Z(Ct).scale(this.distanceScales.unitsPerMeter).add(q)}else this.center=this.projectPosition(Ct)}_initMatrices(W){const{viewMatrix:nt=$,projectionMatrix:z=null,orthographic:ct=!1,fovyRadians:gt,fovy:Mt=75,near:Ct=.1,far:q=1e3,padding:Pt=null,focalDistance:Dt=1}=W;this.viewMatrixUncentered=nt,this.viewMatrix=(new Y.Z).multiplyRight(nt).translate(new O.Z(this.center).negate()),this.projectionMatrix=z||function bt({width:tt,height:W,orthographic:nt,fovyRadians:z,focalDistance:ct,padding:gt,near:Mt,far:Ct}){const q=tt/W,Pt=nt?(new Y.Z).orthographic({fovy:z,aspect:q,focalDistance:ct,near:Mt,far:Ct}):(new Y.Z).perspective({fovy:z,aspect:q,near:Mt,far:Ct});if(gt){const{left:Dt=0,right:It=0,top:ut=0,bottom:re=0}=gt,se=(0,G.uZ)((Dt+tt-It)/2,0,tt)-tt/2,Tt=(0,G.uZ)((ut+W-re)/2,0,W)-W/2;Pt[8]-=2*se/tt,Pt[9]+=2*Tt/W}return Pt}({width:this.width,height:this.height,orthographic:ct,fovyRadians:gt||Mt*at,focalDistance:Dt,padding:Pt,near:Ct,far:q});const It=(0,F.bS)();Q.Jp(It,It,this.projectionMatrix),Q.Jp(It,It,this.viewMatrix),this.viewProjectionMatrix=It,this.viewMatrixInverse=Q.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,F.Xt)(this.viewMatrixInverse);const ut=(0,F.bS)(),re=(0,F.bS)();Q.bA(ut,ut,[this.width/2,-this.height/2,1]),Q.Iu(ut,ut,[1,-1,0]),Q.Jp(re,ut,this.viewProjectionMatrix),this.pixelProjectionMatrix=re,this.pixelUnprojectionMatrix=Q.U_((0,F.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||rt.Z.warn("Pixel project matrix not invertible")()}}(0,J.Z)(X,"displayName","Viewport")},5174:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>at});var J=Z(1180),rt=Z(3229),F=Z(4698),Y=Z(8235),G=Z(9751);const O=512,Q=4003e4,ot=Math.PI/180;function st($){const N=Math.cos($*ot);return O/Q/N}class at extends rt.Z{constructor(N={}){const{latitude:V=0,longitude:bt=0,zoom:X=0,pitch:tt=0,bearing:W=0,nearZMultiplier:nt=.1,farZMultiplier:z=1.01,orthographic:ct=!1,projectionMatrix:gt,repeat:Mt=!1,worldOffset:Ct=0,legacyMeterSizes:q=!1}=N;let{width:Pt,height:Dt,altitude:It=1.5}=N;const ut=Math.pow(2,X);Pt=Pt||1,Dt=Dt||1;let re,se=null;gt?(It=gt[5]/2,re=(0,F.Lu)(It)):(N.fovy?(re=N.fovy,It=(0,F.sj)(re)):re=(0,F.Lu)(It),se=(0,F.wl)({width:Pt,height:Dt,pitch:tt,fovy:re,nearZMultiplier:nt,farZMultiplier:z}));let Tt=(0,F.lf)({height:Dt,pitch:tt,bearing:W,scale:ut,altitude:It});Ct&&(Tt=(new G.Z).translate([512*Ct,0,0]).multiplyLeft(Tt)),super({...N,width:Pt,height:Dt,viewMatrix:Tt,longitude:bt,latitude:V,zoom:X,...se,fovy:re,focalDistance:It}),(0,J.Z)(this,"longitude",void 0),(0,J.Z)(this,"latitude",void 0),(0,J.Z)(this,"pitch",void 0),(0,J.Z)(this,"bearing",void 0),(0,J.Z)(this,"altitude",void 0),(0,J.Z)(this,"fovy",void 0),(0,J.Z)(this,"orthographic",void 0),(0,J.Z)(this,"_subViewports",void 0),(0,J.Z)(this,"_pseudoMeters",void 0),this.latitude=V,this.longitude=bt,this.zoom=X,this.pitch=tt,this.bearing=W,this.altitude=It,this.fovy=re,this.orthographic=ct,this._subViewports=Mt?[]:null,this._pseudoMeters=q,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const N=this.getBounds(),V=Math.floor((N[0]+180)/360),bt=Math.ceil((N[2]-180)/360);for(let X=V;X<=bt;X++){const tt=X?new at({...this,worldOffset:X}):this;this._subViewports.push(tt)}}return this._subViewports}projectPosition(N){if(this._pseudoMeters)return super.projectPosition(N);const[V,bt]=this.projectFlat(N);return[V,bt,(N[2]||0)*st(N[1])]}unprojectPosition(N){if(this._pseudoMeters)return super.unprojectPosition(N);const[V,bt]=this.unprojectFlat(N);return[V,bt,(N[2]||0)/st(bt)]}addMetersToLngLat(N,V){return(0,F.eG)(N,V)}panByPosition(N,V){const bt=(0,F.CT)(V,this.pixelUnprojectionMatrix),X=this.projectFlat(N),tt=Y.IH([],X,Y.tk([],bt)),W=Y.IH([],this.center,tt),[nt,z]=this.unprojectFlat(W);return{longitude:nt,latitude:z}}getBounds(N={}){const V=(0,F.zX)(this,N.z||0);return[Math.min(V[0][0],V[1][0],V[2][0],V[3][0]),Math.min(V[0][1],V[1][1],V[2][1],V[3][1]),Math.max(V[0][0],V[1][0],V[2][0],V[3][0]),Math.max(V[0][1],V[1][1],V[2][1],V[3][1])]}fitBounds(N,V={}){const{width:bt,height:X}=this,{longitude:tt,latitude:W,zoom:nt}=(0,F.Xg)({width:bt,height:X,bounds:N,...V});return new at({width:bt,height:X,longitude:tt,latitude:W,zoom:nt})}}(0,J.Z)(at,"displayName","WebMercatorViewport")},6962:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>G});var J=Z(1180),rt=Z(7389),F=Z(5174),Y=Z(4159);class G extends rt.Z{get ViewportType(){return F.Z}get ControllerType(){return Y.Z}}(0,J.Z)(G,"displayName","MapView")},7389:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>ot});var J=Z(1180),rt=Z(3229);const F=/([0-9]+\.?[0-9]*)(%|px)/;function Y(st){switch(typeof st){case"number":return{position:st,relative:!1};case"string":const at=F.exec(st);if(at&&at.length>=3){const $="%"===at[2],N=parseFloat(at[1]);return{position:$?N/100:N,relative:$}}default:throw new Error("Could not parse position string ".concat(st))}}function G(st,at){return st.relative?Math.round(st.position*at):st.position}var O=Z(7358),Q=Z(406);class ot{constructor(at){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"viewportInstance",void 0),(0,J.Z)(this,"_x",void 0),(0,J.Z)(this,"_y",void 0),(0,J.Z)(this,"_width",void 0),(0,J.Z)(this,"_height",void 0),(0,J.Z)(this,"_padding",void 0),(0,J.Z)(this,"props",void 0);const{id:$,x:N=0,y:V=0,width:bt="100%",height:X="100%",padding:tt=null,viewportInstance:W}=at||{};(0,Q.Z)(!W||W instanceof rt.Z),this.viewportInstance=W,this.id=$||this.constructor.displayName||"view",this.props={...at,id:this.id},this._x=Y(N),this._y=Y(V),this._width=Y(bt),this._height=Y(X),this._padding=tt&&{left:Y(tt.left||0),right:Y(tt.right||0),top:Y(tt.top||0),bottom:Y(tt.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(at){return this===at||(this.viewportInstance?!!at.viewportInstance&&this.viewportInstance.equals(at.viewportInstance):this.ViewportType===at.ViewportType&&(0,O.v)(this.props,at.props))}makeViewport({width:at,height:$,viewState:N}){if(this.viewportInstance)return this.viewportInstance;N=this.filterViewState(N);const V=this.getDimensions({width:at,height:$});return new this.ViewportType({...N,...this.props,...V})}getViewStateId(){const{viewState:at}=this.props;return"string"==typeof at?at:at?.id||this.id}filterViewState(at){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const $={...at};for(const N in this.props.viewState)"id"!==N&&($[N]=this.props.viewState[N]);return $}return at}getDimensions({width:at,height:$}){const N={x:G(this._x,at),y:G(this._y,$),width:G(this._width,at),height:G(this._height,$)};return this._padding&&(N.padding={left:G(this._padding.left,at),top:G(this._padding.top,$),right:G(this._padding.right,at),bottom:G(this._padding.bottom,$)}),N}get controller(){const at=this.props.controller;return at?!0===at?{type:this.ControllerType}:"function"==typeof at?{type:at}:{type:this.ControllerType,...at}:null}}},9049:(Ye,oe,Z)=>{"use strict";Z.d(oe,{D0:()=>Q,Ew:()=>st,Kn:()=>F,Lj:()=>$,Os:()=>W,Ss:()=>Y,TW:()=>O,zH:()=>N});const rt=z=>"function"==typeof z,F=z=>null!==z&&"object"==typeof z,Y=z=>F(z)&&z.constructor==={}.constructor,O=z=>z&&"function"==typeof z[Symbol.iterator],Q=z=>z&&"function"==typeof z[Symbol.asyncIterator],st=z=>typeof Response<"u"&&z instanceof Response||z&&z.arrayBuffer&&z.text&&z.json,$=z=>typeof Blob<"u"&&z instanceof Blob,N=z=>z&&"object"==typeof z&&z.isBuffer,W=z=>(z=>typeof ReadableStream<"u"&&z instanceof ReadableStream||F(z)&&rt(z.tee)&&rt(z.cancel)&&rt(z.getReader))(z)||(z=>F(z)&&rt(z.read)&&rt(z.pipe)&&(z=>"boolean"==typeof z)(z.readable))(z)},278:(Ye,oe,Z)=>{"use strict";Z.d(oe,{z:()=>Os});var J=Z(5861),rt=Z(9049),F=Z(3525),Y=Z(7624);function G(ie,Me){if(!ie)throw new Error(Me||"loaders.gl assertion failed.")}const Q="3.3.3";typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const X="object"!=typeof process||"[object process]"!==String(process)||process.browser,W=typeof window<"u"&&typeof window.orientation<"u",nt=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);nt&&parseFloat(nt[1]);var ct=Z(1180);class gt{terminate(){}}const Ct=new Map;function Dt(ie){const Me=new Blob([ie],{type:"application/javascript"});return URL.createObjectURL(Me)}function ut(ie){let Me=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Re=arguments.length>2?arguments[2]:void 0;const qe=Re||new Set;if(ie)if(re(ie))qe.add(ie);else if(re(ie.buffer))qe.add(ie.buffer);else if(!ArrayBuffer.isView(ie)&&Me&&"object"==typeof ie)for(const sn in ie)ut(ie[sn],Me,qe);return void 0===Re?Array.from(qe):[]}function re(ie){return!!ie&&(ie instanceof ArrayBuffer||typeof MessagePort<"u"&&ie instanceof MessagePort||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&ie instanceof OffscreenCanvas)}const Tt=()=>{};class _t{static isSupported(){return typeof Worker<"u"&&X||typeof gt<"u"&&!X}constructor(Me){(0,ct.Z)(this,"name",void 0),(0,ct.Z)(this,"source",void 0),(0,ct.Z)(this,"url",void 0),(0,ct.Z)(this,"terminated",!1),(0,ct.Z)(this,"worker",void 0),(0,ct.Z)(this,"onMessage",void 0),(0,ct.Z)(this,"onError",void 0),(0,ct.Z)(this,"_loadableURL","");const{name:Re,source:qe,url:sn}=Me;G(qe||sn),this.name=Re,this.source=qe,this.url=sn,this.onMessage=Tt,this.onError=Zn=>console.log(Zn),this.worker=X?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Tt,this.onError=Tt,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(Me,Re){Re=Re||ut(Me),this.worker.postMessage(Me,Re)}_getErrorFromErrorEvent(Me){let Re="Failed to load ";return Re+="worker ".concat(this.name," from ").concat(this.url,". "),Me.message&&(Re+="".concat(Me.message," in ")),Me.lineno&&(Re+=":".concat(Me.lineno,":").concat(Me.colno)),new Error(Re)}_createBrowserWorker(){this._loadableURL=function q(ie){G(ie.source&&!ie.url||!ie.source&&ie.url);let Me=Ct.get(ie.source||ie.url);return Me||(ie.url&&(Me=function Pt(ie){if(!ie.startsWith("http"))return ie;const Me=function It(ie){return"try {\n  importScripts('".concat(ie,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(ie);return Dt(Me)}(ie.url),Ct.set(ie.url,Me)),ie.source&&(Me=Dt(ie.source),Ct.set(ie.source,Me))),G(Me),Me}({source:this.source,url:this.url});const Me=new Worker(this._loadableURL,{name:this.name});return Me.onmessage=Re=>{Re.data?this.onMessage(Re.data):this.onError(new Error("No data received"))},Me.onerror=Re=>{this.onError(this._getErrorFromErrorEvent(Re)),this.terminated=!0},Me.onmessageerror=Re=>console.error(Re),Me}_createNodeWorker(){let Me;if(this.url){const qe=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);Me=new gt(qe,{eval:!1})}else{if(!this.source)throw new Error("no worker");Me=new gt(this.source,{eval:!0})}return Me.on("message",Re=>{this.onMessage(Re)}),Me.on("error",Re=>{this.onError(Re)}),Me.on("exit",Re=>{}),Me}}class dt{constructor(Me,Re){(0,ct.Z)(this,"name",void 0),(0,ct.Z)(this,"workerThread",void 0),(0,ct.Z)(this,"isRunning",!0),(0,ct.Z)(this,"result",void 0),(0,ct.Z)(this,"_resolve",()=>{}),(0,ct.Z)(this,"_reject",()=>{}),this.name=Me,this.workerThread=Re,this.result=new Promise((qe,sn)=>{this._resolve=qe,this._reject=sn})}postMessage(Me,Re){this.workerThread.postMessage({source:"loaders.gl",type:Me,payload:Re})}done(Me){G(this.isRunning),this.isRunning=!1,this._resolve(Me)}error(Me){G(this.isRunning),this.isRunning=!1,this._reject(Me)}}class St{static isSupported(){return _t.isSupported()}constructor(Me){(0,ct.Z)(this,"name","unnamed"),(0,ct.Z)(this,"source",void 0),(0,ct.Z)(this,"url",void 0),(0,ct.Z)(this,"maxConcurrency",1),(0,ct.Z)(this,"maxMobileConcurrency",1),(0,ct.Z)(this,"onDebug",()=>{}),(0,ct.Z)(this,"reuseWorkers",!0),(0,ct.Z)(this,"props",{}),(0,ct.Z)(this,"jobQueue",[]),(0,ct.Z)(this,"idleQueue",[]),(0,ct.Z)(this,"count",0),(0,ct.Z)(this,"isDestroyed",!1),this.source=Me.source,this.url=Me.url,this.setProps(Me)}destroy(){this.idleQueue.forEach(Me=>Me.destroy()),this.isDestroyed=!0}setProps(Me){this.props={...this.props,...Me},void 0!==Me.name&&(this.name=Me.name),void 0!==Me.maxConcurrency&&(this.maxConcurrency=Me.maxConcurrency),void 0!==Me.maxMobileConcurrency&&(this.maxMobileConcurrency=Me.maxMobileConcurrency),void 0!==Me.reuseWorkers&&(this.reuseWorkers=Me.reuseWorkers),void 0!==Me.onDebug&&(this.onDebug=Me.onDebug)}startJob(Me){var Re=arguments,qe=this;return(0,J.Z)(function*(){let sn=Re.length>1&&void 0!==Re[1]?Re[1]:(mi,_i,yo)=>mi.done(yo),Zn=Re.length>2&&void 0!==Re[2]?Re[2]:(mi,_i)=>mi.error(_i);const ui=new Promise(mi=>(qe.jobQueue.push({name:Me,onMessage:sn,onError:Zn,onStart:mi}),qe));return qe._startQueuedJob(),yield ui})()}_startQueuedJob(){var Me=this;return(0,J.Z)(function*(){if(!Me.jobQueue.length)return;const Re=Me._getAvailableWorker();if(!Re)return;const qe=Me.jobQueue.shift();if(qe){Me.onDebug({message:"Starting job",name:qe.name,workerThread:Re,backlog:Me.jobQueue.length});const sn=new dt(qe.name,Re);Re.onMessage=Zn=>qe.onMessage(sn,Zn.type,Zn.payload),Re.onError=Zn=>qe.onError(sn,Zn),qe.onStart(sn);try{yield sn.result}finally{Me.returnWorkerToQueue(Re)}}})()}returnWorkerToQueue(Me){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(Me.destroy(),this.count--):this.idleQueue.push(Me),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const Me="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new _t({name:Me,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return W?this.maxMobileConcurrency:this.maxConcurrency}}const Zt={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Vt{static isSupported(){return _t.isSupported()}static getWorkerFarm(){let Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vt._workerFarm=Vt._workerFarm||new Vt({}),Vt._workerFarm.setProps(Me),Vt._workerFarm}constructor(Me){(0,ct.Z)(this,"props",void 0),(0,ct.Z)(this,"workerPools",new Map),this.props={...Zt},this.setProps(Me),this.workerPools=new Map}destroy(){for(const Me of this.workerPools.values())Me.destroy();this.workerPools=new Map}setProps(Me){this.props={...this.props,...Me};for(const Re of this.workerPools.values())Re.setProps(this._getWorkerPoolProps())}getWorkerPool(Me){const{name:Re,source:qe,url:sn}=Me;let Zn=this.workerPools.get(Re);return Zn||(Zn=new St({name:Re,source:qe,url:sn}),Zn.setProps(this._getWorkerPoolProps()),this.workerPools.set(Re,Zn)),Zn}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,ct.Z)(Vt,"_workerFarm",void 0);const Ce="latest";function de(){return de=(0,J.Z)(function*(ie,Me,Re,qe,sn){const Zn=ie.id,ui=function ue(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Re=Me[ie.id]||{},qe="".concat(ie.id,"-worker.js");let sn=Re.workerUrl;if(!sn&&"compression"===ie.id&&(sn=Me.workerUrl),"test"===Me._workerType&&(sn="modules/".concat(ie.module,"/dist/").concat(qe)),!sn){let Zn=ie.version;"latest"===Zn&&(Zn=Ce);const ui=Zn?"@".concat(Zn):"";sn="https://unpkg.com/@loaders.gl/".concat(ie.module).concat(ui,"/dist/").concat(qe)}return G(sn),sn}(ie,Re),_i=Vt.getWorkerFarm(Re).getWorkerPool({name:Zn,url:ui});Re=JSON.parse(JSON.stringify(Re)),qe=JSON.parse(JSON.stringify(qe||{}));const yo=yield _i.startJob("process-on-worker",we.bind(null,sn));return yo.postMessage("process",{input:Me,options:Re,context:qe}),yield(yield yo.result).result}),de.apply(this,arguments)}function we(ie,Me,Re,qe){return Se.apply(this,arguments)}function Se(){return(Se=(0,J.Z)(function*(ie,Me,Re,qe){switch(Re){case"done":Me.done(qe);break;case"error":Me.error(new Error(qe.error));break;case"process":const{id:sn,input:Zn,options:ui}=qe;try{const mi=yield ie(Zn,ui);Me.postMessage("done",{id:sn,result:mi})}catch(mi){const _i=mi instanceof Error?mi.message:"unknown error";Me.postMessage("error",{id:sn,error:_i})}break;default:console.warn("parse-with-worker unknown message ".concat(Re))}})).apply(this,arguments)}var wt=Z(6296);function P(){return P=(0,J.Z)(function*(ie){const Me=[];var sn,Re=!1,qe=!1;try{for(var ui,Zn=(0,wt.Z)(ie);Re=!(ui=yield Zn.next()).done;Re=!1)Me.push(ui.value)}catch(mi){qe=!0,sn=mi}finally{try{Re&&null!=Zn.return&&(yield Zn.return())}finally{if(qe)throw sn}}return function Wt(){for(var ie=arguments.length,Me=new Array(ie),Re=0;Re<ie;Re++)Me[Re]=arguments[Re];const qe=Me.map(mi=>mi instanceof ArrayBuffer?new Uint8Array(mi):mi),sn=qe.reduce((mi,_i)=>mi+_i.byteLength,0),Zn=new Uint8Array(sn);let ui=0;for(const mi of qe)Zn.set(mi,ui),ui+=mi.byteLength;return Zn.buffer}(...Me)}),P.apply(this,arguments)}const Et=262144,pe=262144;function xe(ie,Me){this.v=ie,this.k=Me}function ze(ie){return new xe(ie,0)}function Je(ie){var Me,Re;function qe(Zn,ui){try{var mi=ie[Zn](ui),_i=mi.value,yo=_i instanceof xe;Promise.resolve(yo?_i.v:_i).then(function(Ns){if(yo){var pr="return"===Zn?"return":"next";if(!_i.k||Ns.done)return qe(pr,Ns);Ns=ie[pr](Ns).value}sn(mi.done?"return":"normal",Ns)},function(Ns){qe("throw",Ns)})}catch(Ns){sn("throw",Ns)}}function sn(Zn,ui){switch(Zn){case"return":Me.resolve({value:ui,done:!0});break;case"throw":Me.reject(ui);break;default:Me.resolve({value:ui,done:!1})}(Me=Me.next)?qe(Me.key,Me.arg):Re=null}this._invoke=function(Zn,ui){return new Promise(function(mi,_i){var yo={key:Zn,arg:ui,resolve:mi,reject:_i,next:null};Re?Re=Re.next=yo:(Me=Re=yo,qe(Zn,ui))})},"function"!=typeof ie.return&&(this.return=void 0)}function Ve(ie){return function(){return new Je(ie.apply(this,arguments))}}Je.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Je.prototype.next=function(ie){return this._invoke("next",ie)},Je.prototype.throw=function(ie){return this._invoke("throw",ie)},Je.prototype.return=function(ie){return this._invoke("return",ie)};const ln=1048576;function dn(){return(dn=Ve(function*(ie,Me){const Re=Me?.chunkSize||ln;let qe=0;for(;qe<ie.size;){const sn=qe+Re,Zn=yield ze(ie.slice(qe,sn).arrayBuffer());qe=sn,yield Zn}})).apply(this,arguments)}var xn=Z(5696),cn=Z(9521);function ge(ie){if(function ke(ie){return ie&&"object"==typeof ie&&ie.isBuffer}(ie))return cn.toArrayBuffer(ie);if(ie instanceof ArrayBuffer)return ie;if(ArrayBuffer.isView(ie))return 0===ie.byteOffset&&ie.byteLength===ie.buffer.byteLength?ie.buffer:ie.buffer.slice(ie.byteOffset,ie.byteOffset+ie.byteLength);if("string"==typeof ie){const Me=ie;return(new TextEncoder).encode(Me).buffer}if(ie&&"object"==typeof ie&&ie._toArrayBuffer)return ie._toArrayBuffer();throw new Error("toArrayBuffer")}function Le(ie,Me){return xn.jU?function We(ie,Me){return rn.apply(this,arguments)}(ie,Me):function bn(ie,Me){return nn.apply(this,arguments)}(ie,Me)}function rn(){return(rn=Ve(function*(ie,Me){const Re=ie.getReader();let qe;try{for(;;){const sn=qe||Re.read();null!=Me&&Me._streamReadAhead&&(qe=Re.read());const{done:Zn,value:ui}=yield ze(sn);if(Zn)return;yield ge(ui)}}catch{Re.releaseLock()}})).apply(this,arguments)}function nn(){return(nn=Ve(function*(ie,Me){var sn,Re=!1,qe=!1;try{for(var ui,Zn=(0,wt.Z)(ie);Re=!(ui=yield ze(Zn.next())).done;Re=!1){const mi=ui.value;yield ge(mi)}}catch(mi){qe=!0,sn=mi}finally{try{Re&&null!=Zn.return&&(yield ze(Zn.return()))}finally{if(qe)throw sn}}})).apply(this,arguments)}var zt=Z(6290);const Qt="Cannot convert supplied data type";function tn(){return tn=(0,J.Z)(function*(ie,Me,Re){const qe=ie instanceof ArrayBuffer||ArrayBuffer.isView(ie);if("string"==typeof ie||qe)return function Ie(ie,Me,Re){if(Me.text&&"string"==typeof ie)return ie;if((0,rt.zH)(ie)&&(ie=ie.buffer),ie instanceof ArrayBuffer){const qe=ie;return Me.text&&!Me.binary?new TextDecoder("utf8").decode(qe):qe}if(ArrayBuffer.isView(ie)){if(Me.text&&!Me.binary)return new TextDecoder("utf8").decode(ie);let qe=ie.buffer;const sn=ie.byteLength||ie.length;return(0!==ie.byteOffset||sn!==qe.byteLength)&&(qe=qe.slice(ie.byteOffset,ie.byteOffset+sn)),qe}throw new Error(Qt)}(ie,Me);if((0,rt.Lj)(ie)&&(ie=yield(0,zt.L1)(ie)),(0,rt.Ew)(ie)){const sn=ie;return yield(0,zt.mm)(sn),Me.binary?yield sn.arrayBuffer():yield sn.text()}if((0,rt.Os)(ie)&&(ie=function wn(ie,Me){if("string"==typeof ie)return function*Ot(ie,Me){const Re=Me?.chunkSize||Et;let qe=0;const sn=new TextEncoder;for(;qe<ie.length;){const Zn=Math.min(ie.length-qe,Re),ui=ie.slice(qe,qe+Zn);qe+=Zn,yield sn.encode(ui)}}(ie,Me);if(ie instanceof ArrayBuffer)return function*ye(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chunkSize:Re=pe}=Me;let qe=0;for(;qe<ie.byteLength;){const sn=Math.min(ie.byteLength-qe,Re),Zn=new ArrayBuffer(sn),ui=new Uint8Array(ie,qe,sn);new Uint8Array(Zn).set(ui),qe+=sn,yield Zn}}(ie,Me);if((0,rt.Lj)(ie))return function fn(ie,Me){return dn.apply(this,arguments)}(ie,Me);if((0,rt.Os)(ie))return Le(ie,Me);if((0,rt.Ew)(ie))return Le(ie.body,Me);throw new Error("makeIterator")}(ie,Re)),(0,rt.TW)(ie)||(0,rt.D0)(ie))return function M(ie){return P.apply(this,arguments)}(ie);throw new Error(Qt)}),tn.apply(this,arguments)}var Wo=Z(2970);const Fe=new(Z(787).Z)({id:"loaders.gl"});var en=Z(1460);const un=/\.([^.]+)$/;function ii(){return ii=(0,J.Z)(function*(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Re=arguments.length>2?arguments[2]:void 0,qe=arguments.length>3?arguments[3]:void 0;if(!Ri(ie))return null;let sn=Ii(ie,Me,{...Re,nothrow:!0},qe);if(sn)return sn;if((0,rt.Lj)(ie)&&(sn=Ii(ie=yield ie.slice(0,10).arrayBuffer(),Me,Re,qe)),!(sn||null!=Re&&Re.nothrow))throw new Error(hr(ie));return sn}),ii.apply(this,arguments)}function Ii(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Re=arguments.length>2?arguments[2]:void 0,qe=arguments.length>3?arguments[3]:void 0;if(!Ri(ie))return null;if(Me&&!Array.isArray(Me))return(0,F.T)(Me);let sn=[];Me&&(sn=sn.concat(Me)),null!=Re&&Re.ignoreRegisteredLoaders||sn.push(...(0,en.kO)()),function oo(ie){for(const Me of ie)(0,F.T)(Me)}(sn);const Zn=function Ci(ie,Me,Re,qe){const{url:sn,type:Zn}=(0,Wo.l)(ie),ui=sn||qe?.url;let mi=null,_i="";var yo;return null!=Re&&Re.mimeType&&(mi=bl(Me,Re?.mimeType),_i="match forced by supplied MIME type ".concat(Re?.mimeType)),mi=mi||function ho(ie,Me){const Re=Me&&un.exec(Me),qe=Re&&Re[1];return qe?function fa(ie,Me){Me=Me.toLowerCase();for(const Re of ie)for(const qe of Re.extensions)if(qe.toLowerCase()===Me)return Re;return null}(ie,qe):null}(Me,ui),_i=_i||(mi?"matched url ".concat(ui):""),mi=mi||bl(Me,Zn),_i=_i||(mi?"matched MIME type ".concat(Zn):""),mi=mi||function Li(ie,Me){if(!Me)return null;for(const Re of ie)if("string"==typeof Me){if(as(Me,Re))return Re}else if(ArrayBuffer.isView(Me)){if(Yi(Me.buffer,Me.byteOffset,Re))return Re}else if(Me instanceof ArrayBuffer&&Yi(Me,0,Re))return Re;return null}(Me,ie),_i=_i||(mi?"matched initial data ".concat(Ml(ie)):""),mi=mi||bl(Me,Re?.fallbackMimeType),_i=_i||(mi?"matched fallback MIME type ".concat(Zn):""),_i&&Fe.log(1,"selectLoader selected ".concat(null===(yo=mi)||void 0===yo?void 0:yo.name,": ").concat(_i,".")),mi}(ie,sn,Re,qe);if(!(Zn||null!=Re&&Re.nothrow))throw new Error(hr(ie));return Zn}function Ri(ie){return!(ie instanceof Response&&204===ie.status)}function hr(ie){const{url:Me,type:Re}=(0,Wo.l)(ie);let qe="No valid loader found (";qe+=Me?"".concat(function Vi(ie){const Me=ie&&ie.lastIndexOf("/");return Me>=0?ie.substr(Me+1):""}(Me),", "):"no url provided, ",qe+="MIME type: ".concat(Re?'"'.concat(Re,'"'):"not provided",", ");const sn=ie?Ml(ie):"";return qe+=sn?' first bytes: "'.concat(sn,'"'):"first bytes: not available",qe+=")",qe}function bl(ie,Me){for(const Re of ie)if(Re.mimeTypes&&Re.mimeTypes.includes(Me)||Me==="application/x.".concat(Re.id))return Re;return null}function as(ie,Me){return Me.testText?Me.testText(ie):(Array.isArray(Me.tests)?Me.tests:[Me.tests]).some(qe=>ie.startsWith(qe))}function Yi(ie,Me,Re){return(Array.isArray(Re.tests)?Re.tests:[Re.tests]).some(sn=>function Wr(ie,Me,Re,qe){if(qe instanceof ArrayBuffer)return function Ht(ie,Me,Re){if(ie.byteLength<(Re=Re||ie.byteLength)||Me.byteLength<Re)return!1;const qe=new Uint8Array(ie),sn=new Uint8Array(Me);for(let Zn=0;Zn<qe.length;++Zn)if(qe[Zn]!==sn[Zn])return!1;return!0}(qe,ie,qe.byteLength);switch(typeof qe){case"function":return qe(ie,Re);case"string":return qe===Ja(ie,Me,qe.length);default:return!1}}(ie,Me,Re,sn))}function Ml(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"string"==typeof ie?ie.slice(0,Me):ArrayBuffer.isView(ie)?Ja(ie.buffer,ie.byteOffset,Me):ie instanceof ArrayBuffer?Ja(ie,0,Me):""}function Ja(ie,Me,Re){if(ie.byteLength<Me+Re)return"";const qe=new DataView(ie);let sn="";for(let Zn=0;Zn<Re;Zn++)sn+=String.fromCharCode(qe.getUint8(Me+Zn));return sn}function ss(ie,Me,Re,qe){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,J.Z)(function*(ie,Me,Re,qe){G(!qe||"object"==typeof qe),Me&&!Array.isArray(Me)&&!(0,F.C)(Me)&&(qe=void 0,Re=Me,Me=void 0),ie=yield ie,Re=Re||{};const{url:sn}=(0,Wo.l)(ie),ui=function Ha(ie,Me){if(!Me&&ie&&!Array.isArray(ie))return ie;let Re;if(ie&&(Re=Array.isArray(ie)?ie:[ie]),Me&&Me.loaders){const qe=Array.isArray(Me.loaders)?Me.loaders:[Me.loaders];Re=Re?[...Re,...qe]:qe}return Re&&Re.length?Re:null}(Me,qe),mi=yield function Un(ie){return ii.apply(this,arguments)}(ie,ui,Re);return mi?(qe=function Po(ie,Me){let Re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Re)return Re;const qe={fetch:(0,Y.bV)(Me,ie),...ie};return Array.isArray(qe.loaders)||(qe.loaders=null),qe}({url:sn,parse:ss,loaders:ui},Re=(0,Y.GR)(Re,mi,ui,sn),qe),yield function Or(ie,Me,Re,qe){return fr.apply(this,arguments)}(mi,ie,Re,qe)):null}),Pr.apply(this,arguments)}function fr(){return fr=(0,J.Z)(function*(ie,Me,Re,qe){if(function ot(ie){let Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;G(ie,"no worker provided")}(ie),(0,rt.Ew)(Me)){const sn=Me,{ok:Zn,redirected:ui,status:mi,statusText:_i,type:yo,url:Ns}=sn,pr=Object.fromEntries(sn.headers.entries());qe.response={headers:pr,ok:Zn,redirected:ui,status:mi,statusText:_i,type:yo,url:Ns}}if(Me=yield function je(ie,Me,Re){return tn.apply(this,arguments)}(Me,ie,Re),ie.parseTextSync&&"string"==typeof Me)return Re.dataType="text",ie.parseTextSync(Me,Re,qe,ie);if(function Pe(ie,Me){return!(!Vt.isSupported()||!(X||null!=Me&&Me._nodeWorkers))&&ie.worker&&Me?.worker}(ie,Re))return yield function He(ie,Me,Re,qe,sn){return de.apply(this,arguments)}(ie,Me,Re,qe,ss);if(ie.parseText&&"string"==typeof Me)return yield ie.parseText(Me,Re,qe,ie);if(ie.parse)return yield ie.parse(Me,Re,qe,ie);throw G(!ie.parseSync),new Error("".concat(ie.id," loader - no parser found and worker is disabled"))}),fr.apply(this,arguments)}function Os(ie,Me,Re,qe){return kl.apply(this,arguments)}function kl(){return(kl=(0,J.Z)(function*(ie,Me,Re,qe){!Array.isArray(Me)&&!(0,F.C)(Me)&&(Re=Me,Me=void 0);const sn=(0,Y.bV)(Re);let Zn=ie;return"string"==typeof ie&&(Zn=yield sn(ie)),(0,rt.Lj)(ie)&&(Zn=yield sn(ie)),yield ss(Zn,Me,Re)})).apply(this,arguments)}},1460:(Ye,oe,Z)=>{"use strict";Z.d(oe,{fh:()=>Y,kO:()=>G});var J=Z(3525),rt=Z(7624);const F=()=>{const Q=(0,rt.rx)();return Q.loaderRegistry=Q.loaderRegistry||[],Q.loaderRegistry};function Y(Q){const ot=F();Q=Array.isArray(Q)?Q:[Q];for(const st of Q){const at=(0,J.T)(st);ot.find($=>at===$)||ot.unshift(at)}}function G(){return F()}},3525:(Ye,oe,Z)=>{"use strict";Z.d(oe,{C:()=>rt,T:()=>F});var J=Z(7702);function rt(Y){var G;return!!Y&&(Array.isArray(Y)&&(Y=Y[0]),Array.isArray(null===(G=Y)||void 0===G?void 0:G.extensions))}function F(Y){var G,O;let Q;return(0,J.h)(Y,"null loader"),(0,J.h)(rt(Y),"invalid loader"),Array.isArray(Y)&&(Q=Y[1],Y=Y[0],Y={...Y,options:{...Y.options,...Q}}),(null!==(G=Y)&&void 0!==G&&G.parseTextSync||null!==(O=Y)&&void 0!==O&&O.parseText)&&(Y.text=!0),Y.text||(Y.binary=!0),Y}},7624:(Ye,oe,Z)=>{"use strict";Z.d(oe,{bV:()=>q,rx:()=>ct,GR:()=>Ct});var J=Z(9049),rt=Z(5861);let F="";const Y={};var st=Z(6290);function at(Tt,_t){return $.apply(this,arguments)}function $(){return($=(0,rt.Z)(function*(Tt,_t){if("string"==typeof Tt){Tt=function ot(Tt){for(const _t in Y)Tt.startsWith(_t)&&(Tt=Tt.replace(_t,Y[_t]));return!Tt.startsWith("http://")&&!Tt.startsWith("https://")&&(Tt="".concat(F).concat(Tt)),Tt}(Tt);let dt=_t;return null!=_t&&_t.fetch&&"function"!=typeof _t?.fetch&&(dt=_t.fetch),yield fetch(Tt,dt)}return yield(0,st.L1)(Tt)})).apply(this,arguments)}var N=Z(1180);const bt=new(Z(787).Z)({id:"loaders.gl"});class X{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var W=Z(5696);const nt={fetch:null,mimeType:void 0,nothrow:!1,log:new class tt{constructor(){(0,N.Z)(this,"console",void 0),this.console=console}log(){for(var _t=arguments.length,dt=new Array(_t),St=0;St<_t;St++)dt[St]=arguments[St];return this.console.log.bind(this.console,...dt)}info(){for(var _t=arguments.length,dt=new Array(_t),St=0;St<_t;St++)dt[St]=arguments[St];return this.console.info.bind(this.console,...dt)}warn(){for(var _t=arguments.length,dt=new Array(_t),St=0;St<_t;St++)dt[St]=arguments[St];return this.console.warn.bind(this.console,...dt)}error(){for(var _t=arguments.length,dt=new Array(_t),St=0;St<_t;St++)dt[St]=arguments[St];return this.console.error.bind(this.console,...dt)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:W.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},z={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function ct(){globalThis.loaders=globalThis.loaders||{};const{loaders:Tt}=globalThis;return Tt._state=Tt._state||{},Tt._state}const gt=()=>{const Tt=ct();return Tt.globalOptions=Tt.globalOptions||{...nt},Tt.globalOptions};function Ct(Tt,_t,dt,St){return dt=dt||[],function Pt(Tt,_t){Dt(Tt,null,nt,z,_t);for(const dt of _t)Dt(Tt&&Tt[dt.id]||{},dt.id,dt.options&&dt.options[dt.id]||{},dt.deprecatedOptions&&dt.deprecatedOptions[dt.id]||{},_t)}(Tt,dt=Array.isArray(dt)?dt:[dt]),function ut(Tt,_t,dt){const Zt={...Tt.options||{}};return function se(Tt,_t){_t&&!("baseUri"in Tt)&&(Tt.baseUri=_t)}(Zt,dt),null===Zt.log&&(Zt.log=new X),re(Zt,gt()),re(Zt,_t),Zt}(_t,Tt,St)}function q(Tt,_t){const dt=gt(),St=Tt||dt;return"function"==typeof St.fetch?St.fetch:(0,J.Kn)(St.fetch)?Zt=>at(Zt,St):null!=_t&&_t.fetch?_t?.fetch:at}function Dt(Tt,_t,dt,St,Zt){const Vt=_t||"Top level",Ce=_t?"".concat(_t,"."):"";for(const jt in Tt){const ae=!_t&&(0,J.Kn)(Tt[jt]);if(!(jt in dt)&&("baseUri"!==jt||_t)&&("workerUrl"!==jt||!_t))if(jt in St)bt.warn("".concat(Vt," loader option '").concat(Ce).concat(jt,"' no longer supported, use '").concat(St[jt],"'"))();else if(!ae){const He=It(jt,Zt);bt.warn("".concat(Vt," loader option '").concat(Ce).concat(jt,"' not recognized. ").concat(He))()}}}function It(Tt,_t){const dt=Tt.toLowerCase();let St="";for(const Zt of _t)for(const Vt in Zt.options){if(Tt===Vt)return"Did you mean '".concat(Zt.id,".").concat(Vt,"'?");const Ce=Vt.toLowerCase();(dt.startsWith(Ce)||Ce.startsWith(dt))&&(St=St||"Did you mean '".concat(Zt.id,".").concat(Vt,"'?"))}return St}function re(Tt,_t){for(const dt in _t)dt in _t&&(Tt[dt]=(0,J.Ss)(_t[dt])&&(0,J.Ss)(Tt[dt])?{...Tt[dt],..._t[dt]}:_t[dt])}},2970:(Ye,oe,Z)=>{"use strict";Z.d(oe,{C:()=>ot,l:()=>Q});var J=Z(9049);const rt=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,F=/^([-\w.]+\/[-\w.+]+)/;function Y(at){const $=F.exec(at);return $?$[1]:at}function G(at){const $=rt.exec(at);return $?$[1]:""}const O=/\?.*/;function Q(at){if((0,J.Ew)(at)){const $=st(at.url||"");return{url:$,type:Y(at.headers.get("content-type")||"")||G($)}}return(0,J.Lj)(at)?{url:st(at.name||""),type:at.type||""}:"string"==typeof at?{url:st(at),type:G(at)}:{url:"",type:""}}function ot(at){return(0,J.Ew)(at)?at.headers["content-length"]||-1:(0,J.Lj)(at)?at.size:"string"==typeof at?at.length:at instanceof ArrayBuffer||ArrayBuffer.isView(at)?at.byteLength:-1}function st(at){return at.replace(O,"")}},6290:(Ye,oe,Z)=>{"use strict";Z.d(oe,{L1:()=>Y,mm:()=>O});var J=Z(5861),rt=Z(9049),F=Z(2970);function Y(bt){return G.apply(this,arguments)}function G(){return G=(0,J.Z)(function*(bt){if((0,rt.Ew)(bt))return bt;const X={},tt=(0,F.C)(bt);tt>=0&&(X["content-length"]=String(tt));const{url:W,type:nt}=(0,F.l)(bt);nt&&(X["content-type"]=nt);const z=yield function $(bt){return N.apply(this,arguments)}(bt);z&&(X["x-first-bytes"]=z),"string"==typeof bt&&(bt=(new TextEncoder).encode(bt));const ct=new Response(bt,{headers:X});return Object.defineProperty(ct,"url",{value:W}),ct}),G.apply(this,arguments)}function O(bt){return Q.apply(this,arguments)}function Q(){return Q=(0,J.Z)(function*(bt){if(!bt.ok){const X=yield function st(bt){return at.apply(this,arguments)}(bt);throw new Error(X)}}),Q.apply(this,arguments)}function at(){return(at=(0,J.Z)(function*(bt){let X="Failed to fetch resource ".concat(bt.url," (").concat(bt.status,"): ");try{const tt=bt.headers.get("Content-Type");let W=bt.statusText;tt.includes("application/json")&&(W+=" ".concat(yield bt.text())),X+=W,X=X.length>60?"".concat(X.slice(0,60),"..."):X}catch{}return X})).apply(this,arguments)}function N(){return(N=(0,J.Z)(function*(bt){if("string"==typeof bt)return"data:,".concat(bt.slice(0,5));if(bt instanceof Blob){const tt=bt.slice(0,5);return yield new Promise(W=>{const nt=new FileReader;nt.onload=z=>{var ct;return W(null==z||null===(ct=z.target)||void 0===ct?void 0:ct.result)},nt.readAsDataURL(tt)})}if(bt instanceof ArrayBuffer){const W=function V(bt){let X="";const tt=new Uint8Array(bt);for(let W=0;W<tt.byteLength;W++)X+=String.fromCharCode(tt[W]);return btoa(X)}(bt.slice(0,5));return"data:base64,".concat(W)}return null})).apply(this,arguments)}},4095:(Ye,oe,Z)=>{"use strict";Z.d(oe,{S:()=>At});var rt=Z(5861),F=Z(7702),Y=Z(5696);const{_parseImageNode:G}=globalThis,O=typeof Image<"u",Q=typeof ImageBitmap<"u",ot=Boolean(G),st=!!Y.jU||ot;function bt(M){const P=function W(M){return typeof ImageBitmap<"u"&&M instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&M instanceof Image?"image":M&&"object"==typeof M&&M.data&&M.width&&M.height?"data":null}(M);if(!P)throw new Error("Not an image");return P}const nt=/^data:image\/svg\+xml/,z=/\.svg((\?|#).*)?$/;function ct(M){return M&&(nt.test(M)||z.test(M))}function Mt(M,P){if(ct(P))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(M)])}function Ct(M,P,U){return q.apply(this,arguments)}function q(){return q=(0,rt.Z)(function*(M,P,U){const pt=function gt(M,P){if(ct(P)){let pt=(new TextDecoder).decode(M);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(pt=unescape(encodeURIComponent(pt)))}catch(Ot){throw new Error(Ot.message)}return"data:image/svg+xml;base64,".concat(btoa(pt))}return Mt(M,P)}(M,U),Et=self.URL||self.webkitURL,Ot="string"!=typeof pt&&Et.createObjectURL(pt);try{return yield function Pt(M,P){return Dt.apply(this,arguments)}(Ot||pt,P)}finally{Ot&&Et.revokeObjectURL(Ot)}}),q.apply(this,arguments)}function Dt(){return(Dt=(0,rt.Z)(function*(M,P){const U=new Image;return U.src=M,P.image&&P.image.decode&&U.decode?(yield U.decode(),U):yield new Promise((pt,Et)=>{try{U.onload=()=>pt(U),U.onerror=Ot=>Et(new Error("Could not load image ".concat(M,": ").concat(Ot)))}catch(Ot){Et(Ot)}})})).apply(this,arguments)}const It={};let ut=!0;function se(){return se=(0,rt.Z)(function*(M,P,U){let pt;pt=ct(U)?yield Ct(M,P,U):Mt(M,U);const Et=P&&P.imagebitmap;return yield function Tt(M){return _t.apply(this,arguments)}(pt,Et)}),se.apply(this,arguments)}function _t(){return _t=(0,rt.Z)(function*(M){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function dt(M){for(const P in M||It)return!1;return!0}(P)||!ut)&&(P=null),P)try{return yield createImageBitmap(M,P)}catch(U){console.warn(U),ut=!1}return yield createImageBitmap(M)}),_t.apply(this,arguments)}const St=!1,Zt=!0;function Vt(M){const P=He(M);return function Ce(M){const P=He(M);return P.byteLength>=24&&2303741511===P.getUint32(0,St)?{mimeType:"image/png",width:P.getUint32(16,St),height:P.getUint32(20,St)}:null}(P)||function ue(M){const P=He(M);if(!(P.byteLength>=3&&65496===P.getUint16(0,St)&&255===P.getUint8(2)))return null;const{tableMarkers:pt,sofMarkers:Et}=function Pe(){const M=new Set([65499,65476,65484,65501,65534]);for(let U=65504;U<65520;++U)M.add(U);return{tableMarkers:M,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let Ot=2;for(;Ot+9<P.byteLength;){const pe=P.getUint16(Ot,St);if(Et.has(pe))return{mimeType:"image/jpeg",height:P.getUint16(Ot+5,St),width:P.getUint16(Ot+7,St)};if(!pt.has(pe))return null;Ot+=2,Ot+=P.getUint16(Ot,St)}return null}(P)||function jt(M){const P=He(M);return P.byteLength>=10&&1195984440===P.getUint32(0,St)?{mimeType:"image/gif",width:P.getUint16(6,Zt),height:P.getUint16(8,Zt)}:null}(P)||function ae(M){const P=He(M);return P.byteLength>=14&&16973===P.getUint16(0,St)&&P.getUint32(2,Zt)===P.byteLength?{mimeType:"image/bmp",width:P.getUint32(18,Zt),height:P.getUint32(22,Zt)}:null}(P)}function He(M){if(M instanceof DataView)return M;if(ArrayBuffer.isView(M))return new DataView(M.buffer);if(M instanceof ArrayBuffer)return new DataView(M);throw new Error("toDataView")}function we(){return(we=(0,rt.Z)(function*(M,P){const{mimeType:U}=Vt(M)||{},pt=globalThis._parseImageNode;return(0,F.h)(pt),yield pt(M,U)})).apply(this,arguments)}function wt(){return wt=(0,rt.Z)(function*(M,P,U){const Et=((P=P||{}).image||{}).type||"auto",{url:Ot}=U||{},pe=function Ht(M){switch(M){case"auto":case"data":return function $(){if(Q)return"imagebitmap";if(O)return"image";if(st)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function at(M){switch(M){case"auto":return Q||O||st;case"imagebitmap":return Q;case"image":return O;case"data":return st;default:throw new Error("@loaders.gl/images: image ".concat(M," not supported in this environment"))}}(M),M}}(Et);let ye;switch(pe){case"imagebitmap":ye=yield function re(M,P,U){return se.apply(this,arguments)}(M,P,Ot);break;case"image":ye=yield Ct(M,P,Ot);break;case"data":ye=yield function de(M,P){return we.apply(this,arguments)}(M,P);break;default:(0,F.h)(!1)}return"data"===Et&&(ye=function tt(M){switch(bt(M)){case"data":return M;case"image":case"imagebitmap":const P=document.createElement("canvas"),U=P.getContext("2d");if(!U)throw new Error("getImageData");return P.width=M.width,P.height=M.height,U.drawImage(M,0,0),U.getImageData(0,0,M.width,M.height);default:throw new Error("getImageData")}}(ye)),ye}),wt.apply(this,arguments)}const At={id:"image",module:"images",name:"Images",version:"3.3.3",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function Se(M,P,U){return wt.apply(this,arguments)},tests:[M=>Boolean(Vt(new DataView(M)))],options:{image:{type:"auto",decode:!0}}}},7702:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(!rt)throw new Error(F||"loader assertion failed.")}Z.d(oe,{h:()=>J})},5696:(Ye,oe,Z)=>{"use strict";Z.d(oe,{jU:()=>O}),typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const O=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),ot=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);ot&&parseFloat(ot[1])},3184:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Y});var J=Z(3403),rt=Z(659);const F={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Y{static get DRAW_MODE(){return F}constructor(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:Q=(0,J.hQ)("geometry"),drawMode:ot=F.TRIANGLES,attributes:st={},indices:at=null,vertexCount:$=null}=O;this.id=Q,this.drawMode=0|ot,this.attributes={},this.userData={},this._setAttributes(st,at),this.vertexCount=$||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(O){return"Geometry ".concat(this.id," attribute ").concat(O)}_setAttributes(O,Q){Q&&(this.indices=ArrayBuffer.isView(Q)?{value:Q,size:1}:Q);for(const ot in O){let st=O[ot];st=ArrayBuffer.isView(st)?{value:st}:st,(0,rt.h)(ArrayBuffer.isView(st.value),"".concat(this._print(ot),": must be typed array or object with value as typed array")),("POSITION"===ot||"positions"===ot)&&!st.size&&(st.size=3),"indices"===ot?((0,rt.h)(!this.indices),this.indices=st):this.attributes[ot]=st}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(O,Q){if(Q)return Q.value.length;let ot=1/0;for(const st in O){const at=O[st],{value:$,size:N,constant:V}=at;!V&&$&&N>=1&&(ot=Math.min(ot,$.length/N))}return(0,rt.h)(Number.isFinite(ot)),ot}}},525:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>we});var J=Z(7591),rt=Z(6262),F=Z(3403),Y=Z(659),G=Z(7605),O=Z(2955),Q=Z(2563),ot=Z(8775),st=Z(6729);let at=null;var bt=Z(8325);class tt extends st.Z{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(wt){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||(0,J.D0)(wt)||"Chrome"===(0,bt.Z)()}static getDefaultArray(wt){return wt.luma=wt.luma||{},wt.luma.defaultVertexArray||(wt.luma.defaultVertexArray=new tt(wt,{handle:null,isDefaultArray:!0})),wt.luma.defaultVertexArray}static getMaxAttributes(wt){return tt.MAX_ATTRIBUTES=tt.MAX_ATTRIBUTES||wt.getParameter(34921),tt.MAX_ATTRIBUTES}static setConstant(wt,Ht,Wt){switch(Wt.constructor){case Float32Array:tt._setConstantFloatArray(wt,Ht,Wt);break;case Int32Array:tt._setConstantIntArray(wt,Ht,Wt);break;case Uint32Array:tt._setConstantUintArray(wt,Ht,Wt);break;default:(0,Y.h)(!1)}}constructor(wt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(wt,Object.assign({},Ht,{id:Ht.id||Ht.program&&Ht.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=Ht.isDefaultArray||!1,this.gl2=wt,this.initialize(Ht),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return tt.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(wt){return this}setElementBuffer(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,Y.h)(!wt||34963===wt.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,wt?wt.handle:null)}),this}setBuffer(wt,Ht,Wt){if(34963===Ht.target)return this.setElementBuffer(Ht,Wt);const{size:Nt,type:ht,stride:At,offset:vt,normalized:M,integer:P,divisor:U}=Wt,{gl:pt,gl2:Et}=this;return wt=Number(wt),this.bind(()=>{pt.bindBuffer(34962,Ht.handle),P?((0,Y.h)((0,J.D0)(pt)),Et.vertexAttribIPointer(wt,Nt,ht,At,vt)):pt.vertexAttribPointer(wt,Nt,ht,M,At,vt),pt.enableVertexAttribArray(wt),Et.vertexAttribDivisor(wt,U||0)}),this}enable(wt){let Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!Ht&&0===wt&&!tt.isSupported(this.gl,{constantAttributeZero:!0})||(wt=Number(wt),this.bind(()=>Ht?this.gl.enableVertexAttribArray(wt):this.gl.disableVertexAttribArray(wt))),this}getConstantBuffer(wt,Ht){const Wt=this._normalizeConstantArrayValue(Ht),Nt=Wt.byteLength*wt,ht=Wt.length*wt;let At=!this.buffer;if(this.buffer=this.buffer||new ot.Z(this.gl,Nt),At=At||this.buffer.reallocate(Nt),At=At||!this._compareConstantArrayValues(Wt,this.bufferValue),At){const vt=function N(Se,wt){const Ht=function $(Se){return(!at||at.byteLength<Se)&&(at=new ArrayBuffer(Se)),at}(Se.BYTES_PER_ELEMENT*wt);return new Se(Ht,0,wt)}(Ht.constructor,ht);(function V(Se){let{target:wt,source:Ht,start:Wt=0,count:Nt=1}=Se;const ht=Ht.length,At=Nt*ht;let vt=0;for(let M=Wt;vt<ht;vt++)wt[M++]=Ht[vt];for(;vt<At;)vt<At-vt?(wt.copyWithin(Wt+vt,Wt,Wt+vt),vt*=2):(wt.copyWithin(Wt+vt,Wt,Wt+At-vt),vt=At)})({target:vt,source:Wt,start:0,count:ht}),this.buffer.subData(vt),this.bufferValue=Ht}return this.buffer}_normalizeConstantArrayValue(wt){return Array.isArray(wt)?new Float32Array(wt):wt}_compareConstantArrayValues(wt,Ht){if(!wt||!Ht||wt.length!==Ht.length||wt.constructor!==Ht.constructor)return!1;for(let Wt=0;Wt<wt.length;++Wt)if(wt[Wt]!==Ht[Wt])return!1;return!0}static _setConstantFloatArray(wt,Ht,Wt){switch(Wt.length){case 1:wt.vertexAttrib1fv(Ht,Wt);break;case 2:wt.vertexAttrib2fv(Ht,Wt);break;case 3:wt.vertexAttrib3fv(Ht,Wt);break;case 4:wt.vertexAttrib4fv(Ht,Wt);break;default:(0,Y.h)(!1)}}static _setConstantIntArray(wt,Ht,Wt){switch((0,Y.h)((0,J.D0)(wt)),Wt.length){case 1:wt.vertexAttribI1iv(Ht,Wt);break;case 2:wt.vertexAttribI2iv(Ht,Wt);break;case 3:wt.vertexAttribI3iv(Ht,Wt);break;case 4:wt.vertexAttribI4iv(Ht,Wt);break;default:(0,Y.h)(!1)}}static _setConstantUintArray(wt,Ht,Wt){switch((0,Y.h)((0,J.D0)(wt)),Wt.length){case 1:wt.vertexAttribI1uiv(Ht,Wt);break;case 2:wt.vertexAttribI2uiv(Ht,Wt);break;case 3:wt.vertexAttribI3uiv(Ht,Wt);break;case 4:wt.vertexAttribI4uiv(Ht,Wt);break;default:(0,Y.h)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(wt){return this.gl2.deleteVertexArray(wt),[this.elements]}_bindHandle(wt){this.gl2.bindVertexArray(wt)}_getParameter(wt,Ht){let{location:Wt}=Ht;return(0,Y.h)(Number.isFinite(Wt)),this.bind(()=>34373===wt?this.gl.getVertexAttribOffset(Wt,wt):this.gl.getVertexAttrib(Wt,wt))}}var W=Z(2975);const z=/^(.+)__LOCATION_([0-9]+)$/,ct=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class gt{constructor(wt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=Ht.id||Ht.program&&Ht.program.id,this.gl=wt,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new tt(wt),(0,W.F)(this,"VertexArray","v6.0",ct),this.initialize(Ht),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(wt)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:wt}=this.vertexArrayObject;return this.values=new Array(wt).fill(null),this.accessors=new Array(wt).fill(null),this.unused={},this.drawParams=null,this}setProps(wt){return"program"in wt&&(this.configuration=wt.program&&wt.program.configuration),"configuration"in wt&&(this.configuration=wt.configuration),"attributes"in wt&&this.setAttributes(wt.attributes),"elements"in wt&&this.setElementBuffer(wt.elements),"bindOnUse"in wt&&(wt=wt.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(wt){return Object.assign(this.attributes,wt),this.vertexArrayObject.bind(()=>{for(const Ht in wt)this._setAttribute(Ht,wt[Ht]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=wt,this.elementsAccessor=Ht,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(wt,Ht),this}setBuffer(wt,Ht){let Wt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===Ht.target)return this.setElementBuffer(Ht,Wt);const{location:Nt,accessor:ht}=this._resolveLocationAndAccessor(wt,Ht,Ht.accessor,Wt);return Nt>=0&&(this.values[Nt]=Ht,this.accessors[Nt]=ht,this.clearDrawParams(),this.vertexArrayObject.setBuffer(Nt,Ht,ht)),this}setConstant(wt,Ht){let Wt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:Nt,accessor:ht}=this._resolveLocationAndAccessor(wt,Ht,Object.assign({size:Ht.length},Wt));return Nt>=0&&(Ht=this.vertexArrayObject._normalizeConstantArrayValue(Ht),this.values[Nt]=Ht,this.accessors[Nt]=ht,this.clearDrawParams(),this.vertexArrayObject.enable(Nt,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new ot.Z(this.gl,{accessor:{size:4}});for(let wt=0;wt<this.vertexArrayObject.MAX_ATTRIBUTES;wt++)this.values[wt]instanceof ot.Z&&(this.gl.disableVertexAttribArray(wt),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(wt,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let wt=0;wt<this.vertexArrayObject.MAX_ATTRIBUTES;wt++){const Ht=this.values[wt];Ht instanceof ot.Z&&this.setBuffer(wt,Ht)}}),this}bindForDraw(wt,Ht,Wt){let Nt;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(wt,Ht),Nt=Wt()}),Nt}_resolveLocationAndAccessor(wt,Ht,Wt,Nt){const ht={location:-1,accessor:null},{location:At,name:vt}=this._getAttributeIndex(wt);if(!Number.isFinite(At)||At<0)return this.unused[wt]=Ht,J.cM.once(3,()=>"unused value ".concat(wt," in ").concat(this.id))(),ht;const M=this._getAttributeInfo(vt||At);if(!M)return ht;const U=Q.Z.resolve(M.accessor,this.accessors[At]||{},Wt,Nt),{size:pt,type:Et}=U;return(0,Y.h)(Number.isFinite(pt)&&Number.isFinite(Et)),{location:At,accessor:U}}_getAttributeInfo(wt){return this.configuration&&this.configuration.getAttributeInfo(wt)}_getAttributeIndex(wt){const Ht=Number(wt);if(Number.isFinite(Ht))return{location:Ht};const Wt=z.exec(wt),Nt=Wt?Wt[1]:wt,ht=Wt?Number(Wt[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(Nt)+ht,name:Nt}:{location:-1}}_setAttribute(wt,Ht){if(Ht instanceof ot.Z)this.setBuffer(wt,Ht);else if(Array.isArray(Ht)&&Ht.length&&Ht[0]instanceof ot.Z)this.setBuffer(wt,Ht[0],Ht[1]);else if(ArrayBuffer.isView(Ht)||Array.isArray(Ht))this.setConstant(wt,Ht);else{if(!(Ht.buffer instanceof ot.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(wt,Ht.buffer,Ht)}}_setConstantAttributes(wt,Ht){const Wt=Math.max(0|wt,0|Ht);let Nt=this.values[0];ArrayBuffer.isView(Nt)&&this._setConstantAttributeZero(Nt,Wt);for(let ht=1;ht<this.vertexArrayObject.MAX_ATTRIBUTES;ht++)Nt=this.values[ht],ArrayBuffer.isView(Nt)&&this._setConstantAttribute(ht,Nt)}_setConstantAttributeZero(wt,Ht){if(tt.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,wt);const Wt=this.vertexArrayObject.getConstantBuffer(Ht,wt);this.vertexArrayObject.setBuffer(0,Wt,this.accessors[0])}_setConstantAttribute(wt,Ht){tt.setConstant(this.gl,wt,Ht)}_updateDrawParams(){const wt={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let Ht=0;Ht<this.vertexArrayObject.MAX_ATTRIBUTES;Ht++)this._updateDrawParamsForLocation(wt,Ht);return this.elements&&(wt.elementCount=this.elements.getElementCount(this.elements.accessor),wt.isIndexed=!0,wt.indexType=this.elementsAccessor.type||this.elements.accessor.type,wt.indexOffset=this.elementsAccessor.offset||0),wt.indexCount===1/0&&(wt.indexCount=0),wt.vertexCount===1/0&&(wt.vertexCount=0),wt.instanceCount===1/0&&(wt.instanceCount=0),wt}_updateDrawParamsForLocation(wt,Ht){const Wt=this.values[Ht],Nt=this.accessors[Ht];if(!Wt)return;const{divisor:ht}=Nt,At=ht>0;if(wt.isInstanced=wt.isInstanced||At,Wt instanceof ot.Z){const vt=Wt;if(At){const M=vt.getVertexCount(Nt);wt.instanceCount=Math.min(wt.instanceCount,M)}else{const M=vt.getVertexCount(Nt);wt.vertexCount=Math.min(wt.vertexCount,M)}}}setElements(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(wt,Ht)}}var Mt=Z(8023),Ct=Z(6742),q=Z(2676);function Dt(Se){let wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:Wt=!1}=wt;if(Array.isArray(Se)||ArrayBuffer.isView(Se))return function Pt(Se,wt){const{maxElts:Ht=16,size:Wt=1}=wt;let Nt="[";for(let At=0;At<Se.length&&At<Ht;++At)At>0&&(Nt+=",".concat(At%Wt==0?" ":"")),Nt+=Dt(Se[At],wt);const ht=Se.length>Ht?"...":"]";return"".concat(Nt).concat(ht)}(Se,wt);if(!Number.isFinite(Se))return String(Se);if(Math.abs(Se)<1e-16)return Wt?"0":"0.";if(Wt||Math.abs(Se)>100&&Math.abs(Se)<1e4)return Se.toFixed(0);const Nt=Se.toPrecision(2);return Nt.indexOf(".0")===Nt.length-2?Nt.slice(0,-1):Nt}function ut(Se,wt,Ht,Wt){const{gl:Nt}=Se;if(!wt)return{[Wt]:"null","Format ":"N/A"};let P,U,pt,ht="NOT PROVIDED",At=1,vt=0,M=0;if(Ht&&(ht=Ht.type,At=Ht.size,ht=String(ht).replace("Array",""),P=-1!==ht.indexOf("nt")),wt instanceof ot.Z){const Et=wt,{data:Ot,changed:pe}=Et.getDebugData();let ye;return U=pe?"*":"",pt=Ot,M=Et.byteLength,vt=M/Ot.BYTES_PER_ELEMENT/At,Ht?ye="".concat(Ht.divisor>0?"I ":"P "," ").concat(vt," (x").concat(At,"=").concat(M," bytes ").concat((0,Ct.km)(Nt,ht),")"):(P=!0,ye="".concat(M," bytes")),{[Wt]:"".concat(U).concat(Dt(pt,{size:At,isInteger:P})),"Format ":ye}}return pt=wt,At=wt.length,ht=String(wt.constructor.name).replace("Array",""),P=-1!==ht.indexOf("nt"),{[Wt]:"".concat(Dt(pt,{size:At,isInteger:P})," (constant)"),"Format ":"".concat(At,"x").concat(ht," (constant)")}}function re(Se,wt){const{type:Ht,size:Wt}=wt,Nt=(0,q.jG)(Ht,Wt);return Nt?"".concat(Se," (").concat(Nt.name,")"):Se}function se(Se){let{header:wt="Uniforms",program:Ht,uniforms:Wt,undefinedOnly:Nt=!1}=Se;(0,Y.h)(Ht);const At=".*Matrix",M={},P=Object.keys(Ht._uniformSetters).sort();let U=0;for(const Ot of P)!Ot.match(".*_.*")&&!Ot.match(At)&&Tt({table:M,header:wt,uniforms:Wt,uniformName:Ot,undefinedOnly:Nt})&&U++;for(const Ot of P)Ot.match(At)&&Tt({table:M,header:wt,uniforms:Wt,uniformName:Ot,undefinedOnly:Nt})&&U++;for(const Ot of P)M[Ot]||Tt({table:M,header:wt,uniforms:Wt,uniformName:Ot,undefinedOnly:Nt})&&U++;let pt=0;const Et={};if(!Nt)for(const Ot in Wt){const pe=Wt[Ot];M[Ot]||(pt++,Et[Ot]={Type:"NOT USED: ".concat(pe),[wt]:Dt(pe)})}return{table:M,count:U,unusedTable:Et,unusedCount:pt}}function Tt(Se){let{table:wt,header:Ht,uniforms:Wt,uniformName:Nt,undefinedOnly:ht}=Se;const At=Wt[Nt],vt=function _t(Se){return null!=Se}(At);return!(ht&&vt||(wt[Nt]={[Ht]:vt?Dt(At):"N/A","Uniform Type":vt?At:"NOT PROVIDED"},0))}function St(Se){const{type:wt,size:Ht}=Se.accessor,Wt=(0,q.jG)(wt,Ht);return Wt?"".concat(Wt.name," ").concat(Se.name):Se.name}const Zt={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function Ce(Se,wt){const{attributeMap:Ht=Zt}=wt||{};return Ht&&Ht[Se]||Se}function jt(Se,wt){let Ht;switch(Se){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":Ht="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":Ht="vectors"}switch(Ht){case"vectors":wt.size=wt.size||3;break;case"uvs":wt.size=wt.size||2}(0,Y.h)(Number.isFinite(wt.size),"attribute ".concat(Se," needs size"))}const He=()=>{},de={};class we{constructor(wt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:Wt=(0,F.hQ)("model")}=Ht;(0,Y.h)((0,J.UF)(wt)),this.id=Wt,this.gl=wt,this.id=Ht.id||(0,F.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(Ht)}initialize(wt){this.props={},this.programManager=wt.programManager||rt.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:Ht=null,vs:Wt,fs:Nt,modules:ht,defines:At,inject:vt,varyings:M,bufferMode:P,transpileToGLSL100:U}=wt;this.programProps={program:Ht,vs:Wt,fs:Nt,modules:ht,defines:At,inject:vt,varyings:M,bufferMode:P,transpileToGLSL100:U},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(wt.moduleSettings))),this.drawMode=void 0!==wt.drawMode?wt.drawMode:4,this.vertexCount=wt.vertexCount||0,this.geometryBuffers={},this.isInstanced=wt.isInstanced||wt.instanced||wt.instanceCount>0,this._setModelProps(wt),this.geometry={},(0,Y.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(wt){this._setModelProps(wt)}delete(){for(const wt in this._attributes)this._attributes[wt]!==this.attributes[wt]&&this._attributes[wt].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(wt){const{program:Ht,vs:Wt,fs:Nt,modules:ht,defines:At,inject:vt,varyings:M,bufferMode:P,transpileToGLSL100:U}=wt;this.programProps={program:Ht,vs:Wt,fs:Nt,modules:ht,defines:At,inject:vt,varyings:M,bufferMode:P,transpileToGLSL100:U},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(wt){return this.drawMode=wt,this}setVertexCount(wt){return(0,Y.h)(Number.isFinite(wt)),this.vertexCount=wt,this}setInstanceCount(wt){return(0,Y.h)(Number.isFinite(wt)),this.instanceCount=wt,this}setGeometry(wt){return this.drawMode=wt.drawMode,this.vertexCount=wt.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function Vt(Se,wt,Ht){const Wt={};let Nt=wt.indices;for(const ht in wt.attributes){const At=wt.attributes[ht],vt=Ce(ht,Ht);if("indices"===ht)Nt=At;else if(At.constant)Wt[vt]=At.value;else{const M=At.value,P={...At};delete P.value,Wt[vt]=[new ot.Z(Se,M),P],jt(ht,P)}}if(Nt){const ht=Nt.value||Nt;(0,Y.h)(ht instanceof Uint16Array||ht instanceof Uint32Array,'attribute array for "indices" must be of integer type');const At={size:1,isIndexed:void 0===Nt.isIndexed||Nt.isIndexed};Wt.indices=[new ot.Z(Se,{data:ht,target:34963}),At]}return Wt}(this.gl,wt),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,F.nK)(wt))return this;const Ht={};for(const Wt in wt){const Nt=wt[Wt];Ht[Wt]=Nt.getValue?Nt.getValue():Nt}return this.vertexArray.setAttributes(Ht),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(wt){this._checkProgram();const Ht=this.programManager.getUniforms(this.program);return Ht?Ht(wt):{}}updateModuleSettings(wt){const Ht=this.getModuleUniforms(wt||{});return this.setUniforms(Ht)}clear(wt){return(0,G.Z)(this.program.gl,wt),this}draw(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:Ht=null,framebuffer:Wt,uniforms:Nt={},attributes:ht={},transformFeedback:At=this.transformFeedback,parameters:vt={},vertexArray:M=this.vertexArray}=wt;let P;this.setAttributes(ht),this.updateModuleSettings(Ht),this.setUniforms(Nt),J.cM.priority>=2&&(P=this._logDrawCallStart(2));const U=this.vertexArray.getDrawParams(),{isIndexed:pt=U.isIndexed,indexType:Et=U.indexType,indexOffset:Ot=U.indexOffset,vertexArrayInstanced:pe=U.isInstanced}=this.props;pe&&!this.isInstanced&&J.cM.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:ye,instanceCount:xe}=this,{onBeforeRender:ze=He,onAfterRender:Je=He}=this.props;ze(),this.program.setUniforms(this.uniforms);const Ve=this.program.draw(Object.assign(de,wt,{logPriority:P,uniforms:null,framebuffer:Wt,parameters:vt,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:M,transformFeedback:At,isIndexed:pt,indexType:Et,isInstanced:ye,instanceCount:xe,offset:pt?Ot:0}));return Je(),J.cM.priority>=2&&this._logDrawCallEnd(P,M,Wt),Ve}transform(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:Ht=!0,feedbackBuffers:Wt,unbindModels:Nt=[]}=wt;let{parameters:ht}=wt;Wt&&this._setFeedbackBuffers(Wt),Ht&&(ht=Object.assign({},ht,{35977:Ht})),Nt.forEach(At=>At.vertexArray.unbindBuffers());try{this.draw(Object.assign({},wt,{parameters:ht}))}finally{Nt.forEach(At=>At.vertexArray.bindBuffers())}return this}render(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(wt).draw()}_setModelProps(wt){Object.assign(this.props,wt),"uniforms"in wt&&this.setUniforms(wt.uniforms),"pickable"in wt&&(this.pickable=wt.pickable),"instanceCount"in wt&&(this.instanceCount=wt.instanceCount),"geometry"in wt&&this.setGeometry(wt.geometry),"attributes"in wt&&this.setAttributes(wt.attributes),"_feedbackBuffers"in wt&&this._setFeedbackBuffers(wt._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:Ht}=this.programProps;if(Ht)this._managedProgram=!1;else{const{vs:Wt,fs:Nt,modules:ht,inject:At,defines:vt,varyings:M,bufferMode:P,transpileToGLSL100:U}=this.programProps;Ht=this.programManager.get({vs:Wt,fs:Nt,modules:ht,inject:At,defines:vt,varyings:M,bufferMode:P,transpileToGLSL100:U}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,Y.h)(Ht instanceof O.Z,"Model needs a program"),this._programDirty=!1,Ht!==this.program&&(this.program=Ht,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new gt(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const wt in this.geometryBuffers){const Ht=this.geometryBuffers[wt][0]||this.geometryBuffers[wt];Ht instanceof ot.Z&&Ht.delete()}}_setAnimationProps(wt){this.animated&&(0,Y.h)(wt,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,F.nK)(wt))return this;const{gl:Ht}=this.program;return this.transformFeedback=this.transformFeedback||new Mt.Z(Ht,{program:this.program}),this.transformFeedback.setBuffers(wt),this}_logDrawCallStart(wt){const Ht=wt>3?0:1e4;if(!(Date.now()-this.lastLogTime<Ht))return this.lastLogTime=Date.now(),J.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:J.cM.level<=2})(),wt}_logDrawCallEnd(wt,Ht,Wt,Nt){if(void 0===wt)return;const ht=function It(Se){let{vertexArray:wt,header:Ht="Attributes"}=Se;if(!wt.configuration)return{};const Wt={};wt.elements&&(Wt.ELEMENT_ARRAY_BUFFER=ut(wt,wt.elements,null,Ht));const Nt=wt.values;for(const ht in Nt){const At=wt._getAttributeInfo(ht);if(At){let vt="".concat(ht,": ").concat(At.name);const M=wt.accessors[At.location];M&&(vt="".concat(ht,": ").concat(re(At.name,M))),Wt[vt]=ut(wt,Nt[ht],M,Ht)}}return Wt}({vertexArray:Ht,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:At,unusedTable:vt,unusedCount:M}=se({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,Wt)}),{table:P,count:U}=se({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,Wt),undefinedOnly:!0});U>0&&J.cM.log("MISSING UNIFORMS",Object.keys(P))(),M>0&&J.cM.log("UNUSED UNIFORMS",Object.keys(vt))();const pt=function dt(Se){const wt={},Ht="Accessors for ".concat(Se.id);for(const Wt of Se.attributeInfos)if(Wt){const Nt=St(Wt);wt["in ".concat(Nt)]={[Ht]:JSON.stringify(Wt.accessor)}}for(const Wt of Se.varyingInfos)if(Wt){const Nt=St(Wt);wt["out ".concat(Nt)]={[Ht]:JSON.stringify(Wt.accessor)}}return wt}(this.vertexArray.configuration);J.cM.table(wt,ht)(),J.cM.table(wt,At)(),J.cM.table(wt+1,pt)(),Nt&&Nt.log({logLevel:2,message:"Rendered to ".concat(Nt.id)}),J.cM.groupEnd(2)()}}},6262:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>vt});var J=Z(6153),rt=Z(419),F=Z(1012);function Y(M){return function G(M){const P={},U={};return O({modules:M,level:0,moduleMap:P,moduleDepth:U}),Object.keys(U).sort((pt,Et)=>U[Et]-U[pt]).map(pt=>P[pt])}(Q(M))}function O(M){let{modules:P,level:U,moduleMap:pt,moduleDepth:Et}=M;if(U>=5)throw new Error("Possible loop in shader dependency graph");for(const Ot of P)pt[Ot.name]=Ot,(void 0===Et[Ot.name]||Et[Ot.name]<U)&&(Et[Ot.name]=U);for(const Ot of P)Ot.dependencies&&O({modules:Ot.dependencies,level:U+1,moduleMap:pt,moduleDepth:Et})}function Q(M,P){return M.map(U=>(U instanceof rt.Z||((0,F.Z)("string"!=typeof U,"Shader module use by name is deprecated. Import shader module '".concat(U,"' and use it directly.")),(0,F.Z)(U.name,"shader module has no name"),(U=new rt.Z(U)).dependencies=Q(U.dependencies)),U))}const at=7936,$=7937,N=7938,V=35724,bt={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},X={};function nt(M,P){return M.match(/NVIDIA/i)||P.match(/NVIDIA/i)?"NVIDIA":M.match(/INTEL/i)||P.match(/INTEL/i)?"INTEL":M.match(/AMD/i)||P.match(/AMD/i)||M.match(/ATI/i)||P.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(bt).forEach(M=>{X[M]=M});const z={};function ct(M,P){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const pt=bt[P];if((0,F.Z)(pt,P),!function st(){const P=typeof window<"u"&&window.navigator||{},U=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||P.userAgent||"",pt=-1!==U.indexOf("MSIE "),Et=-1!==U.indexOf("Trident/");return pt||Et}(U))return!0;if(P in z)return z[P];const Ot=U.behavior||"enable",pe="#extension GL_".concat(pt[0]," : ").concat(Ot,"\nvoid main(void) {}"),ye=M.createShader(35633);M.shaderSource(ye,pe),M.compileShader(ye);const xe=M.getShaderParameter(ye,35713);return M.deleteShader(ye),z[P]=xe,xe}function Mt(M,P){return(P=Array.isArray(P)?P:[P]).every(U=>function gt(M,P){const U=bt[P];(0,F.Z)(U,P);const pt=function tt(M){return typeof WebGL2RenderingContext<"u"&&M instanceof WebGL2RenderingContext||Boolean(M&&2===M._version)}(M)&&U[1]||U[0],Et="string"==typeof pt?Boolean(M.getExtension(pt)):pt;return(0,F.Z)(!1===Et||!0===Et),Et}(M,U))}var Pt=Z(618);function Dt(M){return new RegExp("\\b".concat(M,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const It=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ut=[...It,[Dt("attribute"),"in $1"],[Dt("varying"),"out $1"]],re=[...It,[Dt("varying"),"in $1"]],se=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Tt=[...se,[Dt("in"),"attribute $1"],[Dt("out"),"varying $1"]],_t=[...se,[Dt("in"),"varying $1"]],dt="gl_FragColor",St=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Zt=/void\s+main\s*\([^)]*\)\s*\{\n?/;function Ce(M,P){for(const[U,pt]of P)M=M.replace(U,pt);return M}const ue="\n\n".concat(Pt.O_,"\n\n"),Pe={[J.H]:"vertex",[J.Y]:"fragment"},He="precision highp float;\n\n";function we(M,P){let{id:U,source:pt,type:Et,modules:Ot,defines:pe={},hookFunctions:ye=[],inject:xe={},transpileToGLSL100:ze=!1,prologue:Je=!0,log:Ve}=P;(0,F.Z)("string"==typeof pt,"shader source must be a string");const ln=Et===J.H,fn=pt.split("\n");let dn=100,xn="",cn=pt;0===fn[0].indexOf("#version ")?(dn=300,xn=fn[0],cn=fn.slice(1).join("\n")):xn="#version ".concat(dn);const ke={};Ot.forEach(bn=>{Object.assign(ke,bn.getDefines())}),Object.assign(ke,pe);let Kt=Je?"".concat(xn,"\n").concat(function Ht(M){let{id:P,source:U,type:pt}=M;return P&&"string"==typeof P&&-1===U.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(P,"_").concat(Pe[pt],"\n\n"):""}({id:U,source:pt,type:Et}),"\n").concat(function wt(M){let{type:P}=M;return"\n#define SHADER_TYPE_".concat(Pe[P].toUpperCase(),"\n")}({type:Et}),"\n").concat(function Ct(M){switch(function W(M){const P=M.getExtension("WEBGL_debug_renderer_info"),U=M.getParameter(P&&P.UNMASKED_VENDOR_WEBGL||at),pt=M.getParameter(P&&P.UNMASKED_RENDERER_WEBGL||$);return{gpuVendor:nt(U,pt),vendor:U,renderer:pt,version:M.getParameter(N),shadingLanguageVersion:M.getParameter(V)}}(M).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(M),"\n").concat(function q(M,P,U){let pt="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return Mt(M,X.GLSL_FRAG_DEPTH)&&(pt+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Mt(M,X.GLSL_DERIVATIVES)&&ct(M,X.GLSL_DERIVATIVES)&&(pt+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),Mt(M,X.GLSL_FRAG_DATA)&&ct(M,X.GLSL_FRAG_DATA,{behavior:"require"})&&(pt+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),Mt(M,X.GLSL_TEXTURE_LOD)&&(pt+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),pt}(M),"\n").concat(function Wt(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=0,U="";for(const pt in M){0===P&&(U+="\n// APPLICATION DEFINES\n"),P++;const Et=M[pt];(Et||Number.isFinite(Et))&&(U+="#define ".concat(pt.toUpperCase()," ").concat(M[pt],"\n"))}return 0===P&&(U+="\n"),U}(ke),"\n").concat(ln?"":He,"\n"):"".concat(xn,"\n");const ge=function ht(M){const P={vs:{},fs:{}};return M.forEach(U=>{let pt;"string"!=typeof U?(pt=U,U=pt.hook):pt={},U=U.trim();const[Et,Ot]=U.split(":"),pe=U.replace(/\(.+/,"");P[Et][pe]=Object.assign(pt,{signature:Ot})}),P}(ye),Le={},We={},rn={};for(const bn in xe){const nn="string"==typeof xe[bn]?{injection:xe[bn],order:0}:xe[bn],wn=bn.match(/^(v|f)s:(#)?([\w-]+)$/);wn?wn[2]?"decl"===wn[3]?We[bn]=[nn]:rn[bn]=[nn]:Le[bn]=[nn]:rn[bn]=[nn]}for(const bn of Ot){Ve&&bn.checkDeprecations(cn,Ve),Kt+=bn.getModuleSource(Et,dn);const wn=bn.injections[Et];for(const zt in wn){const Qt=zt.match(/^(v|f)s:#([\w-]+)$/);if(Qt){const je="decl"===Qt[2]?We:rn;je[zt]=je[zt]||[],je[zt].push(wn[zt])}else Le[zt]=Le[zt]||[],Le[zt].push(wn[zt])}}return Kt+=ue,Kt=(0,Pt.ZP)(Kt,Et,We),Kt+=function Nt(M,P){let U="";for(const pt in M){const Et=M[pt];if(U+="void ".concat(Et.signature," {\n"),Et.header&&(U+="  ".concat(Et.header)),P[pt]){const Ot=P[pt];Ot.sort((pe,ye)=>pe.order-ye.order);for(const pe of Ot)U+="  ".concat(pe.injection,"\n")}Et.footer&&(U+="  ".concat(Et.footer)),U+="}\n"}return U}(ge[Et],Le),Kt+=cn,Kt=(0,Pt.ZP)(Kt,Et,rn),Kt=function Vt(M,P,U){switch(P){case 300:return U?Ce(M,ut):function jt(M){const P=(M=Ce(M,re)).match(St);if(P){const U=P[1];M=M.replace(new RegExp("\\b".concat(dt,"\\b"),"g"),U)}else{const U="fragmentColor";M=M.replace(Zt,pt=>"out vec4 ".concat(U,";\n").concat(pt)).replace(new RegExp("\\b".concat(dt,"\\b"),"g"),U)}return M}(M);case 100:return U?Ce(M,Tt):function ae(M){const P=(M=Ce(M,_t)).match(St);if(P){const U=P[1];M=M.replace(St,"").replace(new RegExp("\\b".concat(U,"\\b"),"g"),dt)}return M}(M);default:throw new Error("unknown GLSL version ".concat(P))}}(Kt,ze?100:dn,ln),Kt}function Se(M){return function(U){const pt={};for(const Et of M){const Ot=Et.getUniforms(U,pt);Object.assign(pt,Ot)}return pt}}var At=Z(2955);class vt{static getDefaultProgramManager(P){return P.luma=P.luma||{},P.luma.defaultProgramManager=P.luma.defaultProgramManager||new vt(P),P.luma.defaultProgramManager}constructor(P){this.gl=P,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(P){this._defaultModules.find(U=>U.name===P.name)||this._defaultModules.push(P),this.stateHash++}removeDefaultModule(P){const U="string"==typeof P?P:P.name;this._defaultModules=this._defaultModules.filter(pt=>pt.name!==U),this.stateHash++}addShaderHook(P,U){U&&(P=Object.assign(U,{hook:P})),this._hookFunctions.push(P),this.stateHash++}get(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:U="",fs:pt="",defines:Et={},inject:Ot={},varyings:pe=[],bufferMode:ye=35981,transpileToGLSL100:xe=!1}=P,ze=this._getModuleList(P.modules),Je=this._getHash(U),Ve=this._getHash(pt),ln=ze.map(ge=>this._getHash(ge.name)).sort(),fn=pe.map(ge=>this._getHash(ge)),dn=Object.keys(Et).sort(),xn=Object.keys(Ot).sort(),cn=[],ke=[];for(const ge of dn)cn.push(this._getHash(ge)),cn.push(this._getHash(Et[ge]));for(const ge of xn)ke.push(this._getHash(ge)),ke.push(this._getHash(Ot[ge]));const Kt="".concat(Je,"/").concat(Ve,"D").concat(cn.join("/"),"M").concat(ln.join("/"),"I").concat(ke.join("/"),"V").concat(fn.join("/"),"H").concat(this.stateHash,"B").concat(ye).concat(xe?"T":"");if(!this._programCache[Kt]){const ge=function de(M,P){const{vs:U,fs:pt}=P,Et=Y(P.modules||[]);return{gl:M,vs:we(M,Object.assign({},P,{source:U,type:J.H,modules:Et})),fs:we(M,Object.assign({},P,{source:pt,type:J.Y,modules:Et})),getUniforms:Se(Et)}}(this.gl,{vs:U,fs:pt,modules:ze,inject:Ot,defines:Et,hookFunctions:this._hookFunctions,transpileToGLSL100:xe});this._programCache[Kt]=new At.Z(this.gl,{hash:Kt,vs:ge.vs,fs:ge.fs,varyings:pe,bufferMode:ye}),this._getUniforms[Kt]=ge.getUniforms||(Le=>{}),this._useCounts[Kt]=0}return this._useCounts[Kt]++,this._programCache[Kt]}getUniforms(P){return this._getUniforms[P.hash]||null}release(P){const U=P.hash;this._useCounts[U]--,0===this._useCounts[U]&&(this._programCache[U].delete(),delete this._programCache[U],delete this._getUniforms[U],delete this._useCounts[U])}_getHash(P){return void 0===this._hashes[P]&&(this._hashes[P]=this._hashCounter++),this._hashes[P]}_getModuleList(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const U=new Array(this._defaultModules.length+P.length),pt={};let Et=0;for(let Ot=0,pe=this._defaultModules.length;Ot<pe;++Ot){const ye=this._defaultModules[Ot],xe=ye.name;U[Et++]=ye,pt[xe]=!0}for(let Ot=0,pe=P.length;Ot<pe;++Ot){const ye=P[Ot],xe=ye.name;pt[xe]||(U[Et++]=ye,pt[xe]=!0)}return U.length=Et,U}}},7591:(Ye,oe,Z)=>{"use strict";Z.d(oe,{KQ:()=>$,JD:()=>at,s9:()=>fi,JY:()=>nn,w:()=>bn,vd:()=>st,yW:()=>sr,UF:()=>Q,D0:()=>ot,cM:()=>rt,kL:()=>Le,aQ:()=>Qi,dR:()=>Kt,s8:()=>We});const rt=new(Z(787).Z)({id:"luma.gl"});function F(Ft,$t){if(!Ft)throw new Error($t||"luma.gl: assertion failed.")}const Y="Invalid WebGLRenderingContext",O="Requires WebGL2";function Q(Ft){return typeof WebGLRenderingContext<"u"&&Ft instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&Ft instanceof WebGL2RenderingContext||Boolean(Ft&&Number.isFinite(Ft._version))}function ot(Ft){return typeof WebGL2RenderingContext<"u"&&Ft instanceof WebGL2RenderingContext||Boolean(Ft&&2===Ft._version)}function st(Ft){return ot(Ft)?Ft:null}function at(Ft){return F(Q(Ft),Y),Ft}function $(Ft){return F(ot(Ft),O),Ft}const N={};const W=function Ft($t){const Fe=$t.gl;this.ext=$t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array($t.maxVertexAttribs);for(let en=0;en<this.attribs.length;en++){const un=new Ft.VertexAttrib(Fe);this.attribs[en]=un}this.maxAttrib=0};(W.VertexAttrib=function($t){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const nt=function($t){const Fe=this;this.gl=$t,function tt(Ft){const $t=Ft.getError;Ft.getError=function(){let en;do{en=$t.apply(Ft),0!==en&&(N[en]=!0)}while(0!==en);for(en in N)if(N[en])return delete N[en],parseInt(en,10);return 0}}($t);const en=this.original={getParameter:$t.getParameter,enableVertexAttribArray:$t.enableVertexAttribArray,disableVertexAttribArray:$t.disableVertexAttribArray,bindBuffer:$t.bindBuffer,getVertexAttrib:$t.getVertexAttrib,vertexAttribPointer:$t.vertexAttribPointer};$t.getParameter=function(Un){return Un===Fe.VERTEX_ARRAY_BINDING_OES?Fe.currentVertexArrayObject===Fe.defaultVertexArrayObject?null:Fe.currentVertexArrayObject:en.getParameter.apply(this,arguments)},$t.enableVertexAttribArray=function(Un){const ii=Fe.currentVertexArrayObject;return ii.maxAttrib=Math.max(ii.maxAttrib,Un),ii.attribs[Un].enabled=!0,en.enableVertexAttribArray.apply(this,arguments)},$t.disableVertexAttribArray=function(Un){const ii=Fe.currentVertexArrayObject;return ii.maxAttrib=Math.max(ii.maxAttrib,Un),ii.attribs[Un].enabled=!1,en.disableVertexAttribArray.apply(this,arguments)},$t.bindBuffer=function(Un,ii){switch(Un){case 34962:Fe.currentArrayBuffer=ii;break;case 34963:Fe.currentVertexArrayObject.elementArrayBuffer=ii}return en.bindBuffer.apply(this,arguments)},$t.getVertexAttrib=function(Un,ii){const Ci=Fe.currentVertexArrayObject.attribs[Un];switch(ii){case 34975:return Ci.buffer;case 34338:return Ci.enabled;case 34339:return Ci.size;case 34340:return Ci.stride;case 34341:return Ci.type;case 34922:return Ci.normalized;default:return en.getVertexAttrib.apply(this,arguments)}},$t.vertexAttribPointer=function(Un,ii,Ii,Ci,Ri,hr){const oo=Fe.currentVertexArrayObject;oo.maxAttrib=Math.max(oo.maxAttrib,Un);const ho=oo.attribs[Un];return ho.buffer=Fe.currentArrayBuffer,ho.size=ii,ho.type=Ii,ho.normalized=Ci,ho.stride=Ri,ho.offset=hr,ho.recache(),en.vertexAttribPointer.apply(this,arguments)},$t.instrumentExtension&&$t.instrumentExtension(this,"OES_vertex_array_object"),$t.canvas&&$t.canvas.addEventListener("webglcontextrestored",()=>{(function bt(Ft){globalThis.console&&globalThis.console.log&&globalThis.console.log(Ft)})("OESVertexArrayObject emulation library context restored"),Fe.reset_()},!0),this.reset_()};nt.prototype.VERTEX_ARRAY_BINDING_OES=34229,nt.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let en=0;en<this.vertexArrayObjects.length;++en)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new W(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},nt.prototype.createVertexArrayOES=function(){const $t=new W(this);return this.vertexArrayObjects.push($t),$t},nt.prototype.deleteVertexArrayOES=function($t){$t.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf($t),1),this.currentVertexArrayObject===$t&&this.bindVertexArrayOES(null)},nt.prototype.isVertexArrayOES=function($t){return!!($t&&$t instanceof W&&$t.hasBeenBound&&$t.ext===this)},nt.prototype.bindVertexArrayOES=function($t){const Fe=this.gl;if($t&&!$t.isAlive)return void function X(Ft,$t){N[Ft]=!0,void 0!==$t&&function V(Ft){globalThis.console&&globalThis.console.error&&globalThis.console.error(Ft)}($t)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const en=this.original,un=this.currentVertexArrayObject;this.currentVertexArrayObject=$t||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const Un=this.currentVertexArrayObject;if(un===Un)return;(!un||Un.elementArrayBuffer!==un.elementArrayBuffer)&&en.bindBuffer.call(Fe,34963,Un.elementArrayBuffer);let ii=this.currentArrayBuffer;const Ii=Math.max(un?un.maxAttrib:0,Un.maxAttrib);for(let Ci=0;Ci<=Ii;Ci++){const Ri=Un.attribs[Ci],hr=un?un.attribs[Ci]:null;if((!un||Ri.enabled!==hr.enabled)&&(Ri.enabled?en.enableVertexAttribArray.call(Fe,Ci):en.disableVertexAttribArray.call(Fe,Ci)),Ri.enabled){let oo=!1;(!un||Ri.buffer!==hr.buffer)&&(ii!==Ri.buffer&&(en.bindBuffer.call(Fe,34962,Ri.buffer),ii=Ri.buffer),oo=!0),(oo||Ri.cached!==hr.cached)&&en.vertexAttribPointer.call(Fe,Ci,Ri.size,Ri.type,Ri.normalized,Ri.stride,Ri.offset)}}this.currentArrayBuffer!==ii&&en.bindBuffer.call(Fe,34962,this.currentArrayBuffer)};const ct="OES_element_index",gt="WEBGL_draw_buffers",Pt="WEBGL_debug_renderer_info",_t=Ft=>ot(Ft)?void 0:0,dt={3074:Ft=>ot(Ft)?void 0:36064,35723:Ft=>ot(Ft)?void 0:4352,35977:_t,32937:_t,36795:(Ft,$t)=>{const Fe=ot(Ft)?Ft.getExtension("EXT_disjoint_timer_query_webgl2"):Ft.getExtension("EXT_disjoint_timer_query");return Fe&&Fe.GPU_DISJOINT_EXT?$t(Fe.GPU_DISJOINT_EXT):0},37445:(Ft,$t)=>{const Fe=Ft.getExtension(Pt);return $t(Fe&&Fe.UNMASKED_VENDOR_WEBGL||7936)},37446:(Ft,$t)=>{const Fe=Ft.getExtension(Pt);return $t(Fe&&Fe.UNMASKED_RENDERER_WEBGL||7937)},34047:(Ft,$t)=>{const Fe=Ft.luma.extensions.EXT_texture_filter_anisotropic;return Fe?$t(Fe.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:_t,35071:_t,37447:_t,36063:(Ft,$t)=>{if(!ot(Ft)){const Fe=Ft.getExtension(gt);return Fe?$t(Fe.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:_t,35374:_t,35377:_t,34852:Ft=>{if(!ot(Ft)){const $t=Ft.getExtension(gt);return $t?$t.MAX_DRAW_BUFFERS_WEBGL:0}},36203:Ft=>Ft.getExtension(ct)?2147483647:65535,33001:Ft=>Ft.getExtension(ct)?16777216:65535,33e3:Ft=>16777216,37157:_t,35373:_t,35657:_t,36183:_t,37137:_t,34045:_t,35978:_t,35979:_t,35968:_t,35376:_t,35375:_t,35659:_t,37154:_t,35371:_t,35658:_t,35076:_t,35077:_t,35380:_t},Vt="ANGLE_instanced_arrays",He={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{F(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[Vt]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(Ft,$t){F(0===$t,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{F(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{F(!1)},deleteQuery:()=>{F(!1)},beginQuery:()=>{F(!1)},endQuery:()=>{},getQuery(Ft,$t){return this.getQueryObject(Ft,$t)},getQueryParameter(Ft,$t){return this.getQueryObject(Ft,$t)},getQueryObject:()=>{}}},de={readBuffer:(Ft,$t,Fe)=>{ot(Ft)&&$t(Fe)},getVertexAttrib:(Ft,$t,Fe,en)=>{const{webgl2:un,ext:Un}=function Pe(Ft,$t){return{webgl2:ot(Ft),ext:Ft.getExtension($t)}}(Ft,Vt);let ii;switch(en){case 35069:ii=!!un&&void 0;break;case 35070:ii=un||Un?void 0:0}return void 0!==ii?ii:$t(Fe,en)},getProgramParameter:(Ft,$t,Fe,en)=>{if(!ot(Ft))switch(en){case 35967:return 35981;case 35971:case 35382:return 0}return $t(Fe,en)},getInternalformatParameter:(Ft,$t,Fe,en,un)=>ot(Ft)||32937!==un?Ft.getInternalformatParameter(Fe,en,un):new Int32Array([0]),getTexParameter(Ft,$t,Fe,en){if(34046===en){const{extensions:un}=Ft.luma,Un=un.EXT_texture_filter_anisotropic;en=Un&&Un.TEXTURE_MAX_ANISOTROPY_EXT||34046}return $t(Fe,en)},getParameter:function St(Ft,$t,Fe){const en=dt[Fe],un="function"==typeof en?en(Ft,$t,Fe):en;return void 0!==un?un:$t(Fe)},hint:(Ft,$t,Fe,en)=>$t(Fe,en)};function Wt(Ft,$t){let{extension:Fe,target:en,target2:un}=$t;const Un=He[Fe];F(Un);const{meta:ii={}}=Un,{suffix:Ii=""}=ii,Ci=Ft.getExtension(Fe);for(const Ri of Object.keys(Un)){const hr="".concat(Ri).concat(Ii);let oo=null;"meta"===Ri||"function"==typeof Ft[Ri]||(Ci&&"function"==typeof Ci[hr]?oo=function(){return Ci[hr](...arguments)}:"function"==typeof Un[Ri]&&(oo=Un[Ri].bind(en))),oo&&(en[Ri]=oo,un[Ri]=oo)}}globalThis.polyfillContext=function we(Ft){Ft.luma=Ft.luma||{};const{luma:$t}=Ft;return $t.polyfilled||(function z(Ft){if("function"==typeof Ft.createVertexArray)return;const $t=Ft.getSupportedExtensions;Ft.getSupportedExtensions=function(){const un=$t.call(this)||[];return un.indexOf("OES_vertex_array_object")<0&&un.push("OES_vertex_array_object"),un};const Fe=Ft.getExtension;Ft.getExtension=function(un){return Fe.call(this,un)||("OES_vertex_array_object"!==un?null:(Ft.__OESVertexArrayObject||(this.__OESVertexArrayObject=new nt(this)),this.__OESVertexArrayObject))}}(Ft),function Se(Ft){Ft.luma.extensions={};const $t=Ft.getSupportedExtensions()||[];for(const Fe of $t)Ft.luma[Fe]=Ft.getExtension(Fe)}(Ft),function Ht(Ft,$t){for(const Fe of Object.getOwnPropertyNames($t))"overrides"!==Fe&&Wt(Ft,{extension:Fe,target:Ft.luma,target2:Ft})}(Ft,He),function wt(Ft,$t){let{target:Fe,target2:en}=$t;Object.keys(de).forEach(un=>{if("function"==typeof de[un]){const Un=Ft[un]?Ft[un].bind(Ft):()=>{},ii=de[un].bind(null,Ft,Un);Fe[un]=ii,en[un]=ii}})}(Ft,{target:$t,target2:Ft}),$t.polyfilled=!0),Ft};const Nt={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},ht=(Ft,$t,Fe)=>$t?Ft.enable(Fe):Ft.disable(Fe),At=(Ft,$t,Fe)=>Ft.hint(Fe,$t),vt=(Ft,$t,Fe)=>Ft.pixelStorei(Fe,$t);function U(Ft){return Array.isArray(Ft)||ArrayBuffer.isView(Ft)}const pt={3042:ht,32773:(Ft,$t)=>Ft.blendColor(...$t),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(Ft,$t)=>Ft.clearColor(...$t),3107:(Ft,$t)=>Ft.colorMask(...$t),2884:ht,2885:(Ft,$t)=>Ft.cullFace($t),2929:ht,2931:(Ft,$t)=>Ft.clearDepth($t),2932:(Ft,$t)=>Ft.depthFunc($t),2928:(Ft,$t)=>Ft.depthRange(...$t),2930:(Ft,$t)=>Ft.depthMask($t),3024:ht,35723:At,36006:(Ft,$t)=>{const Fe=ot(Ft)?36009:36160;return Ft.bindFramebuffer(Fe,$t)},2886:(Ft,$t)=>Ft.frontFace($t),33170:At,2849:(Ft,$t)=>Ft.lineWidth($t),32823:ht,32824:"polygonOffset",10752:"polygonOffset",35977:ht,32938:"sampleCoverage",32939:"sampleCoverage",3089:ht,3088:(Ft,$t)=>Ft.scissor(...$t),2960:ht,2961:(Ft,$t)=>Ft.clearStencil($t),2968:(Ft,$t)=>Ft.stencilMaskSeparate(1028,$t),36005:(Ft,$t)=>Ft.stencilMaskSeparate(1029,$t),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(Ft,$t)=>Ft.viewport(...$t),3333:vt,3317:vt,37440:vt,37441:vt,37443:vt,3330:vt,3332:vt,3331:vt,36010:(Ft,$t)=>Ft.bindFramebuffer(36008,$t),3314:vt,32878:vt,3316:vt,3315:vt,32877:vt,framebuffer:(Ft,$t)=>Ft.bindFramebuffer(36160,$t&&"handle"in $t?$t.handle:$t),blend:(Ft,$t)=>$t?Ft.enable(3042):Ft.disable(3042),blendColor:(Ft,$t)=>Ft.blendColor(...$t),blendEquation:(Ft,$t)=>{$t=U($t)?$t:[$t,$t],Ft.blendEquationSeparate(...$t)},blendFunc:(Ft,$t)=>{$t=U($t)&&2===$t.length?[...$t,...$t]:$t,Ft.blendFuncSeparate(...$t)},clearColor:(Ft,$t)=>Ft.clearColor(...$t),clearDepth:(Ft,$t)=>Ft.clearDepth($t),clearStencil:(Ft,$t)=>Ft.clearStencil($t),colorMask:(Ft,$t)=>Ft.colorMask(...$t),cull:(Ft,$t)=>$t?Ft.enable(2884):Ft.disable(2884),cullFace:(Ft,$t)=>Ft.cullFace($t),depthTest:(Ft,$t)=>$t?Ft.enable(2929):Ft.disable(2929),depthFunc:(Ft,$t)=>Ft.depthFunc($t),depthMask:(Ft,$t)=>Ft.depthMask($t),depthRange:(Ft,$t)=>Ft.depthRange(...$t),dither:(Ft,$t)=>$t?Ft.enable(3024):Ft.disable(3024),derivativeHint:(Ft,$t)=>{Ft.hint(35723,$t)},frontFace:(Ft,$t)=>Ft.frontFace($t),mipmapHint:(Ft,$t)=>Ft.hint(33170,$t),lineWidth:(Ft,$t)=>Ft.lineWidth($t),polygonOffsetFill:(Ft,$t)=>$t?Ft.enable(32823):Ft.disable(32823),polygonOffset:(Ft,$t)=>Ft.polygonOffset(...$t),sampleCoverage:(Ft,$t)=>Ft.sampleCoverage(...$t),scissorTest:(Ft,$t)=>$t?Ft.enable(3089):Ft.disable(3089),scissor:(Ft,$t)=>Ft.scissor(...$t),stencilTest:(Ft,$t)=>$t?Ft.enable(2960):Ft.disable(2960),stencilMask:(Ft,$t)=>{$t=U($t)?$t:[$t,$t];const[Fe,en]=$t;Ft.stencilMaskSeparate(1028,Fe),Ft.stencilMaskSeparate(1029,en)},stencilFunc:(Ft,$t)=>{$t=U($t)&&3===$t.length?[...$t,...$t]:$t;const[Fe,en,un,Un,ii,Ii]=$t;Ft.stencilFuncSeparate(1028,Fe,en,un),Ft.stencilFuncSeparate(1029,Un,ii,Ii)},stencilOp:(Ft,$t)=>{$t=U($t)&&3===$t.length?[...$t,...$t]:$t;const[Fe,en,un,Un,ii,Ii]=$t;Ft.stencilOpSeparate(1028,Fe,en,un),Ft.stencilOpSeparate(1029,Un,ii,Ii)},viewport:(Ft,$t)=>Ft.viewport(...$t)};function Et(Ft,$t,Fe){return void 0!==$t[Ft]?$t[Ft]:Fe[Ft]}const Ot={blendEquation:(Ft,$t,Fe)=>Ft.blendEquationSeparate(Et(32777,$t,Fe),Et(34877,$t,Fe)),blendFunc:(Ft,$t,Fe)=>Ft.blendFuncSeparate(Et(32969,$t,Fe),Et(32968,$t,Fe),Et(32971,$t,Fe),Et(32970,$t,Fe)),polygonOffset:(Ft,$t,Fe)=>Ft.polygonOffset(Et(32824,$t,Fe),Et(10752,$t,Fe)),sampleCoverage:(Ft,$t,Fe)=>Ft.sampleCoverage(Et(32938,$t,Fe),Et(32939,$t,Fe)),stencilFuncFront:(Ft,$t,Fe)=>Ft.stencilFuncSeparate(1028,Et(2962,$t,Fe),Et(2967,$t,Fe),Et(2963,$t,Fe)),stencilFuncBack:(Ft,$t,Fe)=>Ft.stencilFuncSeparate(1029,Et(34816,$t,Fe),Et(36003,$t,Fe),Et(36004,$t,Fe)),stencilOpFront:(Ft,$t,Fe)=>Ft.stencilOpSeparate(1028,Et(2964,$t,Fe),Et(2965,$t,Fe),Et(2966,$t,Fe)),stencilOpBack:(Ft,$t,Fe)=>Ft.stencilOpSeparate(1029,Et(34817,$t,Fe),Et(34818,$t,Fe),Et(34819,$t,Fe))},pe={enable:(Ft,$t)=>Ft({[$t]:!0}),disable:(Ft,$t)=>Ft({[$t]:!1}),pixelStorei:(Ft,$t,Fe)=>Ft({[$t]:Fe}),hint:(Ft,$t,Fe)=>Ft({[$t]:Fe}),bindFramebuffer:(Ft,$t,Fe)=>{switch($t){case 36160:return Ft({36006:Fe,36010:Fe});case 36009:return Ft({36006:Fe});case 36008:return Ft({36010:Fe});default:return null}},blendColor:(Ft,$t,Fe,en,un)=>Ft({32773:new Float32Array([$t,Fe,en,un])}),blendEquation:(Ft,$t)=>Ft({32777:$t,34877:$t}),blendEquationSeparate:(Ft,$t,Fe)=>Ft({32777:$t,34877:Fe}),blendFunc:(Ft,$t,Fe)=>Ft({32969:$t,32968:Fe,32971:$t,32970:Fe}),blendFuncSeparate:(Ft,$t,Fe,en,un)=>Ft({32969:$t,32968:Fe,32971:en,32970:un}),clearColor:(Ft,$t,Fe,en,un)=>Ft({3106:new Float32Array([$t,Fe,en,un])}),clearDepth:(Ft,$t)=>Ft({2931:$t}),clearStencil:(Ft,$t)=>Ft({2961:$t}),colorMask:(Ft,$t,Fe,en,un)=>Ft({3107:[$t,Fe,en,un]}),cullFace:(Ft,$t)=>Ft({2885:$t}),depthFunc:(Ft,$t)=>Ft({2932:$t}),depthRange:(Ft,$t,Fe)=>Ft({2928:new Float32Array([$t,Fe])}),depthMask:(Ft,$t)=>Ft({2930:$t}),frontFace:(Ft,$t)=>Ft({2886:$t}),lineWidth:(Ft,$t)=>Ft({2849:$t}),polygonOffset:(Ft,$t,Fe)=>Ft({32824:$t,10752:Fe}),sampleCoverage:(Ft,$t,Fe)=>Ft({32938:$t,32939:Fe}),scissor:(Ft,$t,Fe,en,un)=>Ft({3088:new Int32Array([$t,Fe,en,un])}),stencilMask:(Ft,$t)=>Ft({2968:$t,36005:$t}),stencilMaskSeparate:(Ft,$t,Fe)=>Ft({[1028===$t?2968:36005]:Fe}),stencilFunc:(Ft,$t,Fe,en)=>Ft({2962:$t,2967:Fe,2963:en,34816:$t,36003:Fe,36004:en}),stencilFuncSeparate:(Ft,$t,Fe,en,un)=>Ft({[1028===$t?2962:34816]:Fe,[1028===$t?2967:36003]:en,[1028===$t?2963:36004]:un}),stencilOp:(Ft,$t,Fe,en)=>Ft({2964:$t,2965:Fe,2966:en,34817:$t,34818:Fe,34819:en}),stencilOpSeparate:(Ft,$t,Fe,en,un)=>Ft({[1028===$t?2964:34817]:Fe,[1028===$t?2965:34818]:en,[1028===$t?2966:34819]:un}),viewport:(Ft,$t,Fe,en,un)=>Ft({2978:[$t,Fe,en,un]})},ye=(Ft,$t)=>Ft.isEnabled($t),xe={3042:ye,2884:ye,2929:ye,3024:ye,32823:ye,32926:ye,32928:ye,3089:ye,2960:ye,35977:ye};function ze(Ft){for(const $t in Ft)return!1;return!0}function Je(Ft,$t){if(Ft===$t)return!0;const Fe=Array.isArray(Ft)||ArrayBuffer.isView(Ft),en=Array.isArray($t)||ArrayBuffer.isView($t);if(Fe&&en&&Ft.length===$t.length){for(let un=0;un<Ft.length;++un)if(Ft[un]!==$t[un])return!1;return!0}return!1}function Ve(Ft,$t){const Fe=Ft[$t].bind(Ft);Ft[$t]=function(){const un=arguments.length<=0?void 0:arguments[0];return un in Ft.state.cache&&Ft.state.enable?Ft.state.cache[un]:Fe(...arguments)},Object.defineProperty(Ft[$t],"name",{value:"".concat($t,"-from-cache"),configurable:!1})}function ln(Ft,$t,Fe){const en=Ft[$t].bind(Ft);Ft[$t]=function(){for(var Un=arguments.length,ii=new Array(Un),Ii=0;Ii<Un;Ii++)ii[Ii]=arguments[Ii];const{valueChanged:Ci,oldValue:Ri}=Fe(Ft.state._updateCache,...ii);return Ci&&en(...ii),Ri},Object.defineProperty(Ft[$t],"name",{value:"".concat($t,"-to-cache"),configurable:!1})}class dn{constructor($t){let{copyState:Fe=!1,log:en=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=$t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=Fe?function ge(Ft,$t){if("number"==typeof($t=$t||Nt)){const un=$t,Un=xe[un];return Un?Un(Ft,un):Ft.getParameter(un)}const Fe=Array.isArray($t)?$t:Object.keys($t),en={};for(const un of Fe){const Un=xe[un];en[un]=Un?Un(Ft,Number(un)):Ft.getParameter(Number(un))}return en}($t):Object.assign({},Nt),this.log=en,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){F(this.stateStack.length>0),Kt(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache($t){let en,Fe=!1;const un=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const Un in $t){F(void 0!==Un);const ii=$t[Un],Ii=this.cache[Un];Je(ii,Ii)||(Fe=!0,en=Ii,un&&!(Un in un)&&(un[Un]=Ii),this.cache[Un]=ii)}return{valueChanged:Fe,oldValue:en}}}function xn(Ft){let $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:Fe=!0,copyState:en}=$t;if(F(void 0!==en),!Ft.state){const{polyfillContext:un}=globalThis;un&&un(Ft),Ft.state=new dn(Ft,{copyState:en}),function fn(Ft){const $t=Ft.useProgram.bind(Ft);Ft.useProgram=function(en){Ft.state.program!==en&&($t(en),Ft.state.program=en)}}(Ft);for(const Un in pe)ln(Ft,Un,pe[Un]);Ve(Ft,"getParameter"),Ve(Ft,"isEnabled")}return Ft.state.enable=Fe,Ft}function ke(Ft){F(Ft.state),Ft.state.pop()}function Kt(Ft,$t){if(F(Q(Ft),"setParameters requires a WebGL context"),ze($t))return;const Fe={};for(const un in $t){const Un=Number(un),ii=pt[un];ii&&("string"==typeof ii?Fe[ii]=!0:ii(Ft,$t[un],Un))}const en=Ft.state&&Ft.state.cache;if(en)for(const un in Fe)(0,Ot[un])(Ft,$t,en)}function Le(Ft){Kt(Ft,Nt)}function We(Ft,$t,Fe){if(ze($t))return Fe(Ft);const{nocatch:en=!0}=$t;let un;if(function cn(Ft){Ft.state||xn(Ft,{copyState:!1}),Ft.state.push()}(Ft),Kt(Ft,$t),en)un=Fe(Ft),ke(Ft);else try{un=Fe(Ft)}finally{ke(Ft)}return un}function bn(Ft){const{luma:$t}=Ft;if(Ft.canvas&&$t){const{clientWidth:Fe}=$t.canvasSizeInfo;return Fe?Ft.drawingBufferWidth/Fe:1}return 1}function nn(Ft,$t){let Fe=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function zt(Ft,$t,Fe,en,un){const Un=Qt(Ft[0],$t,Fe);let ii=Ie(Ft[1],$t,en,un),Ii=Qt(Ft[0]+1,$t,Fe);const Ci=Ii===Fe-1?Ii:Ii-1;let Ri;return Ii=Ie(Ft[1]+1,$t,en,un),un?(Ii=0===Ii?Ii:Ii+1,Ri=ii,ii=Ii):Ri=Ii===en-1?Ii:Ii-1,{x:Un,y:ii,width:Math.max(Ci-Un+1,1),height:Math.max(Ri-ii+1,1)}}($t,bn(Ft),Ft.drawingBufferWidth,Ft.drawingBufferHeight,Fe)}function Qt(Ft,$t,Fe){return Math.min(Math.round(Ft*$t),Fe-1)}function Ie(Ft,$t,Fe,en){return en?Math.max(0,Fe-1-Math.round(Ft*$t)):Math.min(Math.round(Ft*$t),Fe-1)}const je=(0,Z(25).Z)(),tn=je&&typeof document<"u",Dn={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function fi(){let Ft=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(je,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),Ft=Object.assign({},Dn,Ft);const{width:$t,height:Fe}=Ft;function en(Ii){if(Ft.throwOnError)throw new Error(Ii);return console.error(Ii),null}let un;Ft.onError=en;const{canvas:Un}=Ft,ii=function Ha(Ft){let Un,{canvas:$t,width:Fe=800,height:en=600,onError:un}=Ft;return"string"==typeof $t?(tn&&"complete"===document.readyState||un("createGLContext called on canvas '".concat($t,"' before page was loaded")),Un=document.getElementById($t)):$t?Un=$t:(Un=document.createElement("canvas"),Un.id="lumagl-canvas",Un.style.width=Number.isFinite(Fe)?"".concat(Fe,"px"):"100%",Un.style.height=Number.isFinite(en)?"".concat(en,"px"):"100%",document.body.insertBefore(Un,document.body.firstChild)),Un}({canvas:Un,width:$t,height:Fe,onError:en});return un=function Po(Ft,$t){const{onError:Fe}=$t;let en=null;const un=Ci=>en=Ci.statusMessage||en;Ft.addEventListener("webglcontextcreationerror",un,!1);const{webgl1:Un=!0,webgl2:ii=!0}=$t;let Ii=null;return ii&&(Ii=Ii||Ft.getContext("webgl2",$t),Ii=Ii||Ft.getContext("experimental-webgl2",$t)),Un&&(Ii=Ii||Ft.getContext("webgl",$t),Ii=Ii||Ft.getContext("experimental-webgl",$t)),Ft.removeEventListener("webglcontextcreationerror",un,!1),Ii?($t.onContextLost&&Ft.addEventListener("webglcontextlost",$t.onContextLost,!1),$t.onContextRestored&&Ft.addEventListener("webglcontextrestored",$t.onContextRestored,!1),Ii):Fe("Failed to create ".concat(ii&&!Un?"WebGL2":"WebGL"," context: ").concat(en||"Unknown error"))}(ii,Ft),un?(un=sr(un,Ft),function Wo(Ft){const $t=ot(Ft)?"WebGL2":"WebGL1",Fe=function dr(Ft){const $t=Ft.getParameter(7936),Fe=Ft.getParameter(7937),en=Ft.getExtension("WEBGL_debug_renderer_info");return{vendor:en&&Ft.getParameter(en.UNMASKED_VENDOR_WEBGL||7936)||$t,renderer:en&&Ft.getParameter(en.UNMASKED_RENDERER_WEBGL||7937)||Fe,vendorMasked:$t,rendererMasked:Fe,version:Ft.getParameter(7938),shadingLanguageVersion:Ft.getParameter(35724)}}(Ft),en=Fe?"(".concat(Fe.vendor,",").concat(Fe.renderer,")"):"",un=Ft.debug?" debug":"";rt.info(1,"".concat($t).concat(un," context ").concat(en))()}(un),un):null}function sr(Ft){let $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ft||Ft._instrumented)return Ft;Ft._version=Ft._version||function Vi(Ft){return typeof WebGL2RenderingContext<"u"&&Ft instanceof WebGL2RenderingContext?2:1}(Ft),Ft.luma=Ft.luma||{},Ft.luma.canvasSizeInfo=Ft.luma.canvasSizeInfo||{},$t=Object.assign({},Dn,$t);const{manageState:Fe,debug:en}=$t;return Fe&&xn(Ft,{copyState:!1,log:function(){for(var un=arguments.length,Un=new Array(un),ii=0;ii<un;ii++)Un[ii]=arguments[ii];return rt.log(1,...Un)()}}),je&&en&&(globalThis.makeDebugContext?(Ft=globalThis.makeDebugContext(Ft,$t),rt.level=Math.max(rt.level,1)):rt.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),Ft._instrumented=!0,Ft}function Qi(Ft){let $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ft.canvas){const en=function wn(Ft){const $t=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(Ft)?Ft<=0?1:Ft:Ft?$t:1}($t.useDevicePixels);return void function sa(Ft,$t,Fe){let en="width"in Fe?Fe.width:Ft.canvas.clientWidth,un="height"in Fe?Fe.height:Ft.canvas.clientHeight;(!en||!un)&&(rt.log(1,"Canvas clientWidth/clientHeight is 0")(),$t=1,en=Ft.canvas.width||1,un=Ft.canvas.height||1),Ft.luma=Ft.luma||{},Ft.luma.canvasSizeInfo=Ft.luma.canvasSizeInfo||{};const Un=Ft.luma.canvasSizeInfo;if(Un.clientWidth!==en||Un.clientHeight!==un||Un.devicePixelRatio!==$t){let ii=$t;const Ii=Math.floor(en*ii),Ci=Math.floor(un*ii);Ft.canvas.width=Ii,Ft.canvas.height=Ci,(Ft.drawingBufferWidth!==Ii||Ft.drawingBufferHeight!==Ci)&&(rt.warn("Device pixel ratio clamped")(),ii=Math.min(Ft.drawingBufferWidth/en,Ft.drawingBufferHeight/un),Ft.canvas.width=Math.floor(en*ii),Ft.canvas.height=Math.floor(un*ii)),Object.assign(Ft.luma.canvasSizeInfo,{clientWidth:en,clientHeight:un,devicePixelRatio:$t})}}(Ft,en,$t)}const Fe=Ft.getExtension("STACKGL_resize_drawingbuffer");Fe&&"width"in $t&&"height"in $t&&Fe.resize($t.width,$t.height)}},6153:(Ye,oe,Z)=>{"use strict";Z.d(oe,{H:()=>J,Y:()=>rt});const J="vs",rt="fs"},618:(Ye,oe,Z)=>{"use strict";Z.d(oe,{O_:()=>O,Lm:()=>$,ZP:()=>at});var F=Z(6153),Y=Z(1012);const G={[F.H]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[F.Y]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},O="__LUMA_INJECT_DECLARATIONS__",Q=/void\s+main\s*\([^)]*\)\s*\{\n?/,ot=/}\n?[^{}]*$/,st=[];function at(N,V,bt){let X=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const tt=V===F.H;for(const W in bt){const nt=bt[W];nt.sort((ct,gt)=>ct.order-gt.order),st.length=nt.length;for(let ct=0,gt=nt.length;ct<gt;++ct)st[ct]=nt[ct].injection;const z="".concat(st.join("\n"),"\n");switch(W){case"vs:#decl":tt&&(N=N.replace(O,z));break;case"vs:#main-start":tt&&(N=N.replace(Q,ct=>ct+z));break;case"vs:#main-end":tt&&(N=N.replace(ot,ct=>z+ct));break;case"fs:#decl":tt||(N=N.replace(O,z));break;case"fs:#main-start":tt||(N=N.replace(Q,ct=>ct+z));break;case"fs:#main-end":tt||(N=N.replace(ot,ct=>z+ct));break;default:N=N.replace(W,ct=>ct+z)}}return N=N.replace(O,""),X&&(N=N.replace(/\}\s*$/,W=>W+G[V])),N}function $(N){const V={};return(0,Y.Z)(Array.isArray(N)&&N.length>1),N.forEach(bt=>{for(const X in bt)V[X]=V[X]?"".concat(V[X],"\n").concat(bt[X]):bt[X]}),V}},419:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>ot,v:()=>st});var J=Z(1012);const rt={number:{validate:($,N)=>Number.isFinite($)&&(!("max"in N)||$<=N.max)&&(!("min"in N)||$>=N.min)},array:{validate:($,N)=>Array.isArray($)||ArrayBuffer.isView($)}};function Y($){let N=G($);return"object"===N?$?"type"in $?Object.assign({},$,rt[$.type]):"value"in $?(N=G($.value),Object.assign({type:N},$,rt[N])):{type:"object",value:$}:{type:"object",value:null}:Object.assign({type:N,value:$},rt[N])}function G($){return Array.isArray($)||ArrayBuffer.isView($)?"array":typeof $}class ot{constructor(N){let{name:V,vs:bt,fs:X,dependencies:tt=[],uniforms:W,getUniforms:nt,deprecations:z=[],defines:ct={},inject:gt={},vertexShader:Mt,fragmentShader:Ct}=N;(0,J.Z)("string"==typeof V),this.name=V,this.vs=bt||Mt,this.fs=X||Ct,this.getModuleUniforms=nt,this.dependencies=tt,this.deprecations=this._parseDeprecationDefinitions(z),this.defines=ct,this.injections=function at($){const N={vs:{},fs:{}};for(const V in $){let bt=$[V];"string"==typeof bt&&(bt={order:0,injection:bt}),N[V.slice(0,2)][V]=bt}return N}(gt),W&&(this.uniforms=function F($){const N={};for(const V in $){const X=Y($[V]);N[V]=X}return N}(W))}getModuleSource(N){let V;switch(N){case"vs":V=this.vs||"";break;case"fs":V=this.fs||"";break;default:(0,J.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(V,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(N,V){return this.getModuleUniforms?this.getModuleUniforms(N,V):this.uniforms?this._defaultGetUniforms(N):{}}getDefines(){return this.defines}checkDeprecations(N,V){this.deprecations.forEach(bt=>{bt.regex.test(N)&&(bt.deprecated?V.deprecated(bt.old,bt.new)():V.removed(bt.old,bt.new)())})}_parseDeprecationDefinitions(N){return N.forEach(V=>{V.regex="function"===V.type?new RegExp("\\b".concat(V.old,"\\(")):new RegExp("".concat(V.type," ").concat(V.old,";"))}),N}_defaultGetUniforms(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const V={},bt=this.uniforms;for(const X in bt){const tt=bt[X];X in N&&!tt.private?(tt.validate&&(0,J.Z)(tt.validate(N[X],tt),"".concat(this.name,": invalid ").concat(X)),V[X]=N[X]):V[X]=tt.value}return V}}function st($){if(!$.normalized&&($.normalized=!0,$.uniforms&&!$.getUniforms)){const N=new ot($);$.getUniforms=N.getUniforms.bind(N)}return $}},8203:(Ye,oe,Z)=>{"use strict";Z.d(oe,{N:()=>$,s:()=>N});const J="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",rt={lightSources:{}};function F(){let{color:V=[0,0,0],intensity:bt=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return V.map(X=>X*bt/255)}const O={name:"lights",vs:J,fs:J,getUniforms:function G(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;if("lightSources"in V){const{ambientLight:bt,pointLights:X,directionalLights:tt}=V.lightSources||{};return bt||X&&X.length>0||tt&&tt.length>0?Object.assign({},function Y(V){let{ambientLight:bt,pointLights:X=[],directionalLights:tt=[]}=V;const W={};return W["lighting_uAmbientLight.color"]=bt?F(bt):[0,0,0],X.forEach((nt,z)=>{W["lighting_uPointLight[".concat(z,"].color")]=F(nt),W["lighting_uPointLight[".concat(z,"].position")]=nt.position,W["lighting_uPointLight[".concat(z,"].attenuation")]=nt.attenuation||[1,0,0]}),W.lighting_uPointLightCount=X.length,tt.forEach((nt,z)=>{W["lighting_uDirectionalLight[".concat(z,"].color")]=F(nt),W["lighting_uDirectionalLight[".concat(z,"].direction")]=nt.direction}),W.lighting_uDirectionalLightCount=tt.length,W}({ambientLight:bt,pointLights:X,directionalLights:tt}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in V){const bt={pointLights:[],directionalLights:[]};for(const X of V.lights||[])switch(X.type){case"ambient":bt.ambientLight=X;break;case"directional":bt.directionalLights.push(X);break;case"point":bt.pointLights.push(X)}return G({lightSources:bt})}return{}},defines:{MAX_LIGHTS:3}},Q="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",ot={};function at(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;if(!("material"in V))return{};const{material:bt}=V;return bt?function st(V){const{ambient:bt=.35,diffuse:X=.6,shininess:tt=32,specularColor:W=[30,30,30]}=V;return{lighting_uAmbient:bt,lighting_uDiffuse:X,lighting_uShininess:tt,lighting_uSpecularColor:W.map(nt=>nt/255)}}(bt):{lighting_uEnabled:!1}}const $={name:"gouraud-lighting",dependencies:[O],vs:Q,defines:{LIGHTING_VERTEX:1},getUniforms:at},N={name:"phong-lighting",dependencies:[O],fs:Q,defines:{LIGHTING_FRAGMENT:1},getUniforms:at}},1012:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(!rt)throw new Error(F||"shadertools: assertion failed.")}Z.d(oe,{Z:()=>J})},2563:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>O});var J=Z(8355),rt=Z(659),F=Z(5877);const Y={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},G={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class O{static getBytesPerElement(ot){return(0,J.vN)(ot.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(ot){return(0,rt.h)(ot.size),(0,J.vN)(ot.type||5126).BYTES_PER_ELEMENT*ot.size}static resolve(){for(var ot=arguments.length,st=new Array(ot),at=0;at<ot;at++)st[at]=arguments[at];return new O(Y,...st)}constructor(){for(var ot=arguments.length,st=new Array(ot),at=0;at<ot;at++)st[at]=arguments[at];st.forEach($=>this._assign($)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return O.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return O.getBytesPerVertex(this)}_assign(){let ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ot=(0,F.k)("Accessor",ot,G),void 0!==ot.type&&(this.type=ot.type,(5124===ot.type||5125===ot.type)&&(this.integer=!0)),void 0!==ot.size&&(this.size=ot.size),void 0!==ot.offset&&(this.offset=ot.offset),void 0!==ot.stride&&(this.stride=ot.stride),void 0!==ot.normalized&&(this.normalized=ot.normalized),void 0!==ot.integer&&(this.integer=ot.integer),void 0!==ot.divisor&&(this.divisor=ot.divisor),void 0!==ot.buffer&&(this.buffer=ot.buffer),void 0!==ot.index&&(this.index="boolean"==typeof ot.index?ot.index?1:0:ot.index),void 0!==ot.instanced&&(this.divisor=ot.instanced?1:0),void 0!==ot.isInstanced&&(this.divisor=ot.isInstanced?1:0),this}}},8775:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>$});var J=Z(6729),rt=Z(2563),F=Z(8355),Y=Z(7591),G=Z(659),O=Z(5877);const ot={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},st={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:ot},at={removedProps:ot};class $ extends J.Z{get[Symbol.toStringTag](){return"Buffer"}constructor(V){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(V,bt),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=bt.target||(this.gl.webgl2?36662:34962),this.initialize(bt),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/rt.Z.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/rt.Z.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(V)&&(V={data:V}),Number.isFinite(V)&&(V={byteLength:V}),V=(0,O.k)("Buffer",V,st),this.usage=V.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},V,V.accessor)),V.data?this._setData(V.data,V.offset,V.byteLength):this._setByteLength(V.byteLength||0),this}setProps(V){return"accessor"in(V=(0,O.k)("Buffer",V,at))&&this.setAccessor(V.accessor),this}setAccessor(V){return delete(V=Object.assign({},V)).buffer,this.accessor=new rt.Z(V),this}reallocate(V){return V>this.byteLength?(this._setByteLength(V),!0):(this.bytesUsed=V,!1)}setData(V){return this.initialize(V)}subData(V){ArrayBuffer.isView(V)&&(V={data:V});const{data:bt,offset:X=0,srcOffset:tt=0}=V,W=V.byteLength||V.length;(0,G.h)(bt);const nt=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(nt,this.handle),0!==tt||void 0!==W?((0,Y.KQ)(this.gl),this.gl.bufferSubData(this.target,X,bt,tt,W)):this.gl.bufferSubData(nt,X,bt),this.gl.bindBuffer(nt,null),this.debugData=null,this._inferType(bt),this}copyData(V){let{sourceBuffer:bt,readOffset:X=0,writeOffset:tt=0,size:W}=V;const{gl:nt}=this;return(0,Y.KQ)(nt),nt.bindBuffer(36662,bt.handle),nt.bindBuffer(36663,this.handle),nt.copyBufferSubData(36662,36663,X,tt,W),nt.bindBuffer(36662,null),nt.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:V=null,srcByteOffset:bt=0,dstOffset:X=0,length:tt=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Y.KQ)(this.gl);const W=(0,F.vN)(this.accessor.type||5126,{clamped:!1}),nt=this._getAvailableElementCount(bt),z=X;let ct,gt;V?(gt=V.length,ct=gt-z):(ct=Math.min(nt,tt||nt),gt=z+ct);const Mt=Math.min(nt,ct);return tt=tt||Mt,(0,G.h)(tt<=Mt),V=V||new W(gt),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,bt,V,X,tt),this.gl.bindBuffer(36662,null),V}bind(){let{target:V=this.target,index:bt=this.accessor&&this.accessor.index,offset:X=0,size:tt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===V||35982===V?void 0!==tt?this.gl.bindBufferRange(V,bt,this.handle,X,tt):((0,G.h)(0===X),this.gl.bindBufferBase(V,bt,this.handle)):this.gl.bindBuffer(V,this.handle),this}unbind(){let{target:V=this.target,index:bt=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===V||35982===V?this.gl.bindBufferBase(V,bt,null):this.gl.bindBuffer(V,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(V){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V.byteLength+bt;(0,G.h)(ArrayBuffer.isView(V)),this._trackDeallocatedMemory();const tt=this._getTarget();this.gl.bindBuffer(tt,this.handle),this.gl.bufferData(tt,X,this.usage),this.gl.bufferSubData(tt,bt,V),this.gl.bindBuffer(tt,null),this.debugData=V.slice(0,10),this.bytesUsed=X,this._trackAllocatedMemory(X);const W=(0,F.O)(V);return(0,G.h)(W),this.setAccessor(new rt.Z(this.accessor,{type:W})),this}_setByteLength(V){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,G.h)(V>=0),this._trackDeallocatedMemory();let X=V;0===V&&(X=new Float32Array(0));const tt=this._getTarget();return this.gl.bindBuffer(tt,this.handle),this.gl.bufferData(tt,X,bt),this.gl.bindBuffer(tt,null),this.usage=bt,this.debugData=null,this.bytesUsed=V,this._trackAllocatedMemory(V),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(V){const X=V/(0,F.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-X}_inferType(V){this.accessor.type||this.setAccessor(new rt.Z(this.accessor,{type:(0,F.O)(V)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(V){this.gl.bindBuffer(this.target,this.handle);const bt=this.gl.getBufferParameter(this.target,V);return this.gl.bindBuffer(this.target,null),bt}get type(){return Y.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Y.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(V){return Y.cM.deprecated("setByteLength","reallocate")(),this.reallocate(V)}updateAccessor(V){return Y.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new rt.Z(this.accessor,V),this}}},7605:(Ye,oe,Z)=>{"use strict";Z.d(oe,{$:()=>N,Z:()=>$});var J=Z(7591),rt=Z(659);const F=256,Y=1024,G=16384,O=6144,Q=6145,ot=6146,st=34041,at="clear: bad arguments";function $(V){let{framebuffer:bt=null,color:X=null,depth:tt=null,stencil:W=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const nt={};bt&&(nt.framebuffer=bt);let z=0;X&&(z|=G,!0!==X&&(nt.clearColor=X)),tt&&(z|=F,!0!==tt&&(nt.clearDepth=tt)),W&&(z|=Y,!0!==tt&&(nt.clearStencil=tt)),(0,rt.h)(0!==z,at),(0,J.s8)(V,nt,()=>{V.clear(z)})}function N(V){let{framebuffer:bt=null,buffer:X=O,drawBuffer:tt=0,value:W=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,J.KQ)(V),(0,J.s8)(V,{framebuffer:bt},()=>{switch(X){case O:switch(W.constructor){case Int32Array:V.clearBufferiv(X,tt,W);break;case Uint32Array:V.clearBufferuiv(X,tt,W);break;case Float32Array:default:V.clearBufferfv(X,tt,W)}break;case Q:V.clearBufferfv(Q,0,[W]);break;case ot:V.clearBufferiv(ot,0,[W]);break;case st:const[nt,z]=W;V.clearBufferfi(st,0,nt,z);break;default:(0,rt.h)(!1,at)}})}},1507:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Km:()=>$,Lv:()=>V,z6:()=>st});var J=Z(2778),rt=Z(7995),F=Z(7591),Y=Z(8355),G=Z(659),ot=Z(8100);function st(W){let nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:z=0,sourceY:ct=0,sourceFormat:gt=6408}=nt;let{sourceAttachment:Mt=36064,target:Ct=null,sourceWidth:q,sourceHeight:Pt,sourceType:Dt}=nt;const{framebuffer:It,deleteFramebuffer:ut}=X(W);(0,G.h)(It);const{gl:re,handle:se,attachments:Tt}=It;q=q||It.width,Pt=Pt||It.height,36064===Mt&&null===se&&(Mt=1028),(0,G.h)(Tt[Mt]),Dt=Dt||Tt[Mt].type,Ct=function tt(W,nt,z,ct,gt){if(W)return W;const Mt=(0,Y.vN)(nt=nt||5121,{clamped:!1}),Ct=function O(W){switch(W){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,G.h)(!1),0}}(z);return new Mt(ct*gt*Ct)}(Ct,Dt,gt,q,Pt),Dt=Dt||(0,Y.O)(Ct);const _t=re.bindFramebuffer(36160,se);return re.readPixels(z,ct,q,Pt,gt,Dt,Ct),re.bindFramebuffer(36160,_t||null),ut&&It.delete(),Ct}function $(W){let{sourceAttachment:nt=36064,targetMaxHeight:z=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ct=st(W,{sourceAttachment:nt}),{width:gt,height:Mt}=W;for(;Mt>z;)({data:ct,width:gt,height:Mt}=(0,Y.KS)({data:ct,width:gt,height:Mt}));(0,Y.c$)({data:ct,width:gt,height:Mt});const Ct=document.createElement("canvas");Ct.width=gt,Ct.height=Mt;const q=Ct.getContext("2d"),Pt=q.createImageData(gt,Mt);return Pt.data.set(ct),q.putImageData(Pt,0,0),Ct.toDataURL()}function V(W,nt){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:ct=0,sourceY:gt=0,targetMipmaplevel:Mt=0,targetInternalFormat:Ct=6408}=z;let{targetX:q,targetY:Pt,targetZ:Dt,width:It,height:ut}=z;const{framebuffer:re,deleteFramebuffer:se}=X(W);(0,G.h)(re);const{gl:Tt,handle:_t}=re,dt=typeof q<"u"||typeof Pt<"u"||typeof Dt<"u";q=q||0,Pt=Pt||0,Dt=Dt||0;const St=Tt.bindFramebuffer(36160,_t);(0,G.h)(nt);let Zt=null;if(nt instanceof rt.Z&&(Zt=nt,It=Number.isFinite(It)?It:Zt.width,ut=Number.isFinite(ut)?ut:Zt.height,Zt.bind(0),nt=Zt.target),dt)switch(nt){case 3553:case 34067:Tt.copyTexSubImage2D(nt,Mt,q,Pt,ct,gt,It,ut);break;case 35866:case 32879:(0,F.KQ)(Tt).copyTexSubImage3D(nt,Mt,q,Pt,Dt,ct,gt,It,ut)}else Tt.copyTexImage2D(nt,Mt,Ct,ct,gt,It,ut,0);return Zt&&Zt.unbind(),Tt.bindFramebuffer(36160,St||null),se&&re.delete(),Zt}function X(W){return W instanceof J.Z?{framebuffer:W,deleteFramebuffer:!1}:{framebuffer:(0,ot.Y)(W),deleteFramebuffer:!0}}},2778:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>$});var J=Z(7591),rt=Z(6729),F=Z(5702),Y=Z(1296),G=Z(7605),O=Z(1507),Q=Z(2378),ot=Z(6742),st=Z(659);const at="Multiple render targets not supported";class $ extends rt.Z{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(tt){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:nt,colorBufferHalfFloat:z}=W;let ct=!0;return nt&&(ct=Boolean(tt.getExtension("EXT_color_buffer_float")||tt.getExtension("WEBGL_color_buffer_float")||tt.getExtension("OES_texture_float"))),z&&(ct=ct&&Boolean(tt.getExtension("EXT_color_buffer_float")||tt.getExtension("EXT_color_buffer_half_float"))),ct}static getDefaultFramebuffer(tt){return tt.luma=tt.luma||{},tt.luma.defaultFramebuffer=tt.luma.defaultFramebuffer||new $(tt,{id:"default-framebuffer",handle:null,attachments:{}}),tt.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const tt=(0,J.KQ)(this.gl);return tt.getParameter(tt.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const tt=(0,J.KQ)(this.gl);return tt.getParameter(tt.MAX_DRAW_BUFFERS)}constructor(tt){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(tt,W),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(W),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(tt){let{width:W=1,height:nt=1,attachments:z=null,color:ct=!0,depth:gt=!0,stencil:Mt=!1,check:Ct=!0,readBuffer:q,drawBuffers:Pt}=tt;if((0,st.h)(W>=0&&nt>=0,"Width and height need to be integers"),this.width=W,this.height=nt,z)for(const Dt in z){const It=z[Dt];(Array.isArray(It)?It[0]:It).resize({width:W,height:nt})}else z=this._createDefaultAttachments(ct,gt,Mt,W,nt);this.update({clearAttachments:!0,attachments:z,readBuffer:q,drawBuffers:Pt}),z&&Ct&&this.checkStatus()}delete(){for(const tt of this.ownResources)tt.delete();return super.delete(),this}update(tt){let{attachments:W={},readBuffer:nt,drawBuffers:z,clearAttachments:ct=!1,resizeAttachments:gt=!0}=tt;this.attach(W,{clearAttachments:ct,resizeAttachments:gt});const{gl:Mt}=this,Ct=Mt.bindFramebuffer(36160,this.handle);return nt&&this._setReadBuffer(nt),z&&this._setDrawBuffers(z),Mt.bindFramebuffer(36160,Ct||null),this}resize(){let tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:W,height:nt}=tt;if(null===this.handle)return(0,st.h)(void 0===W&&void 0===nt),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===W&&(W=this.gl.drawingBufferWidth),void 0===nt&&(nt=this.gl.drawingBufferHeight),W!==this.width&&nt!==this.height&&J.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(W,"x").concat(nt))();for(const z in this.attachments)this.attachments[z].resize({width:W,height:nt});return this.width=W,this.height=nt,this}attach(tt){let{clearAttachments:W=!1,resizeAttachments:nt=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const z={};W&&Object.keys(this.attachments).forEach(gt=>{z[gt]=null}),Object.assign(z,tt);const ct=this.gl.bindFramebuffer(36160,this.handle);for(const gt in z){(0,st.h)(void 0!==gt,"Misspelled framebuffer binding point?");const Mt=Number(gt),Ct=z[Mt];let q=Ct;if(q)if(q instanceof Y.Z)this._attachRenderbuffer({attachment:Mt,renderbuffer:q});else if(Array.isArray(Ct)){const[Pt,Dt=0,It=0]=Ct;q=Pt,this._attachTexture({attachment:Mt,texture:Pt,layer:Dt,level:It})}else this._attachTexture({attachment:Mt,texture:q,layer:0,level:0});else this._unattach(Mt);nt&&q&&q.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,ct||null),Object.assign(this.attachments,tt),Object.keys(this.attachments).filter(gt=>!this.attachments[gt]).forEach(gt=>{delete this.attachments[gt]})}checkStatus(){const W=this.getStatus();if(36053!==W)throw new Error(function V(X){return($.STATUS||{})[X]||"Framebuffer error ".concat(X)}(W));return this}getStatus(){const{gl:tt}=this,W=tt.bindFramebuffer(36160,this.handle),nt=tt.checkFramebufferStatus(36160);return tt.bindFramebuffer(36160,W||null),nt}clear(){let tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:W,depth:nt,stencil:z,drawBuffers:ct=[]}=tt,gt=this.gl.bindFramebuffer(36160,this.handle);return(W||nt||z)&&(0,G.Z)(this.gl,{color:W,depth:nt,stencil:z}),ct.forEach((Mt,Ct)=>{(0,G.$)(this.gl,{drawBuffer:Ct,value:Mt})}),this.gl.bindFramebuffer(36160,gt||null),this}readPixels(){return J.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return J.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return J.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return J.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return J.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return J.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(tt){let{attachments:W=[],x:nt=0,y:z=0,width:ct,height:gt}=tt;const Mt=(0,J.KQ)(this.gl),Ct=Mt.bindFramebuffer(36008,this.handle);return 0===nt&&0===z&&void 0===ct&&void 0===gt?Mt.invalidateFramebuffer(36008,W):Mt.invalidateFramebuffer(36008,W,nt,z,ct,gt),Mt.bindFramebuffer(36008,Ct),this}getAttachmentParameter(tt,W,nt){let z=this._getAttachmentParameterFallback(W);return null===z&&(this.gl.bindFramebuffer(36160,this.handle),z=this.gl.getFramebufferAttachmentParameter(36160,tt,W),this.gl.bindFramebuffer(36160,null)),nt&&z>1e3&&(z=(0,ot.km)(this.gl,z)),z}getAttachmentParameters(){let tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,W=arguments.length>1?arguments[1]:void 0,nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const z={};for(const ct of nt)z[W?(0,ot.km)(this.gl,ct):ct]=this.getAttachmentParameter(tt,ct,W);return z}getParameters(){let tt=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const W=Object.keys(this.attachments),nt={};for(const z of W){const ct=Number(z);nt[tt?(0,ot.km)(this.gl,ct):ct]=this.getAttachmentParameters(ct,tt)}return nt}show(){return typeof window<"u"&&window.open((0,O.Km)(this),"luma-debug-texture"),this}log(){let tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt>J.cM.level||typeof window>"u")return this;W=W||"Framebuffer ".concat(this.id);const nt=(0,O.Km)(this,{targetMaxHeight:100});return J.cM.image({logLevel:tt,message:W,image:nt},W)(),this}bind(){let{target:tt=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(tt,this.handle),this}unbind(){let{target:tt=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(tt,null),this}_createDefaultAttachments(tt,W,nt,z,ct){let gt=null;return tt&&(gt=gt||{},gt[36064]=new F.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:z,height:ct,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(gt[36064])),W&&nt?(gt=gt||{},gt[33306]=new Y.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:z,height:111}),this.ownResources.push(gt[33306])):W?(gt=gt||{},gt[36096]=new Y.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:z,height:ct}),this.ownResources.push(gt[36096])):nt&&(0,st.h)(!1),gt}_unattach(tt){const W=this.attachments[tt];W&&(W instanceof Y.Z?this.gl.framebufferRenderbuffer(36160,tt,36161,null):this.gl.framebufferTexture2D(36160,tt,3553,null,0),delete this.attachments[tt])}_attachRenderbuffer(tt){let{attachment:W=36064,renderbuffer:nt}=tt;const{gl:z}=this;z.framebufferRenderbuffer(36160,W,36161,nt.handle),this.attachments[W]=nt}_attachTexture(tt){let{attachment:W=36064,texture:nt,layer:z,level:ct}=tt;const{gl:gt}=this;switch(gt.bindTexture(nt.target,nt.handle),nt.target){case 35866:case 32879:(0,J.KQ)(gt).framebufferTextureLayer(36160,W,nt.target,ct,z);break;case 34067:const Ct=function N(X){return X<34069?X+34069:X}(z);gt.framebufferTexture2D(36160,W,Ct,nt.handle,ct);break;case 3553:gt.framebufferTexture2D(36160,W,3553,nt.handle,ct);break;default:(0,st.h)(!1,"Illegal texture type")}gt.bindTexture(nt.target,null),this.attachments[W]=nt}_setReadBuffer(tt){const W=(0,J.vd)(this.gl);W?W.readBuffer(tt):(0,st.h)(36064===tt||1029===tt,at),this.readBuffer=tt}_setDrawBuffers(tt){const{gl:W}=this,nt=(0,J.KQ)(W);if(nt)nt.drawBuffers(tt);else{const z=W.getExtension("WEBGL_draw_buffers");z?z.drawBuffersWEBGL(tt):(0,st.h)(1===tt.length&&(36064===tt[0]||1029===tt[0]),at)}this.drawBuffers=tt}_getAttachmentParameterFallback(tt){const W=(0,Q.N$)(this.gl);switch(tt){case 36052:return W.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return W.WEBGL2?null:8;case 33297:return W.WEBGL2?null:5125;case 33296:return W.WEBGL2||W.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(tt){return this.gl.bindFramebuffer(36160,tt)}}$.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},2955:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Ht});var J=Z(6729),rt=Z(7995),F=Z(2778),Y=Z(7591),G=Z(1296),O=Z(659);const Q={5126:Ct.bind(null,"uniform1fv",V,1,q),35664:Ct.bind(null,"uniform2fv",V,2,q),35665:Ct.bind(null,"uniform3fv",V,3,q),35666:Ct.bind(null,"uniform4fv",V,4,q),5124:Ct.bind(null,"uniform1iv",bt,1,q),35667:Ct.bind(null,"uniform2iv",bt,2,q),35668:Ct.bind(null,"uniform3iv",bt,3,q),35669:Ct.bind(null,"uniform4iv",bt,4,q),35670:Ct.bind(null,"uniform1iv",bt,1,q),35671:Ct.bind(null,"uniform2iv",bt,2,q),35672:Ct.bind(null,"uniform3iv",bt,3,q),35673:Ct.bind(null,"uniform4iv",bt,4,q),35674:Ct.bind(null,"uniformMatrix2fv",V,4,Pt),35675:Ct.bind(null,"uniformMatrix3fv",V,9,Pt),35676:Ct.bind(null,"uniformMatrix4fv",V,16,Pt),35678:Mt,35680:Mt,5125:Ct.bind(null,"uniform1uiv",X,1,q),36294:Ct.bind(null,"uniform2uiv",X,2,q),36295:Ct.bind(null,"uniform3uiv",X,3,q),36296:Ct.bind(null,"uniform4uiv",X,4,q),35685:Ct.bind(null,"uniformMatrix2x3fv",V,6,Pt),35686:Ct.bind(null,"uniformMatrix2x4fv",V,8,Pt),35687:Ct.bind(null,"uniformMatrix3x2fv",V,6,Pt),35688:Ct.bind(null,"uniformMatrix3x4fv",V,12,Pt),35689:Ct.bind(null,"uniformMatrix4x2fv",V,8,Pt),35690:Ct.bind(null,"uniformMatrix4x3fv",V,12,Pt),35678:Mt,35680:Mt,35679:Mt,35682:Mt,36289:Mt,36292:Mt,36293:Mt,36298:Mt,36299:Mt,36300:Mt,36303:Mt,36306:Mt,36307:Mt,36308:Mt,36311:Mt},ot={},st={},at={},$=[0];function N(Wt,Nt,ht,At){1===Nt&&"boolean"==typeof Wt&&(Wt=Wt?1:0),Number.isFinite(Wt)&&($[0]=Wt,Wt=$);const vt=Wt.length;if(vt%Nt&&Y.cM.warn("Uniform size should be multiples of ".concat(Nt),Wt)(),Wt instanceof ht)return Wt;let M=At[vt];M||(M=new ht(vt),At[vt]=M);for(let P=0;P<vt;P++)M[P]=Wt[P];return M}function V(Wt,Nt){return N(Wt,Nt,Float32Array,ot)}function bt(Wt,Nt){return N(Wt,Nt,Int32Array,st)}function X(Wt,Nt){return N(Wt,Nt,Uint32Array,at)}function tt(Wt,Nt,ht){const At=Q[ht.type];if(!At)throw new Error("Unknown GLSL uniform type ".concat(ht.type));return At().bind(null,Wt,Nt)}function W(Wt){if("]"!==Wt[Wt.length-1])return{name:Wt,length:1,isArray:!1};const ht=Wt.match(/([^[]*)(\[[0-9]+\])?/);if(!ht||ht.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(Wt));return{name:ht[1],length:ht[2]||1,isArray:Boolean(ht[2])}}function z(Wt){return Array.isArray(Wt)||ArrayBuffer.isView(Wt)?function gt(Wt){if(0===Wt.length)return!1;const Nt=Math.min(Wt.length,16);for(let ht=0;ht<Nt;++ht)if(!Number.isFinite(Wt[ht]))return!1;return!0}(Wt):!!(isFinite(Wt)||!0===Wt||!1===Wt||Wt instanceof rt.Z||Wt instanceof G.Z)||Wt instanceof F.Z&&Boolean(Wt.texture)}function ct(Wt,Nt,ht){if(Array.isArray(ht)||ArrayBuffer.isView(ht))if(Wt[Nt]){const At=Wt[Nt];for(let vt=0,M=ht.length;vt<M;++vt)At[vt]=ht[vt]}else Wt[Nt]=ht.slice();else Wt[Nt]=ht}function Mt(){let Wt=null;return(Nt,ht,At)=>{const vt=Wt!==At;return vt&&(Nt.uniform1i(ht,At),Wt=At),vt}}function Ct(Wt,Nt,ht,At){let vt=null,M=null;return(P,U,pt)=>{const Et=Nt(pt,ht),Ot=Et.length;let pe=!1;if(null===vt)vt=new Float32Array(Ot),M=Ot,pe=!0;else{(0,O.h)(M===Ot,"Uniform length cannot change.");for(let ye=0;ye<Ot;++ye)if(Et[ye]!==vt[ye]){pe=!0;break}}return pe&&(At(P,Wt,U,Et),vt.set(Et)),pe}}function q(Wt,Nt,ht,At){Wt[Nt](ht,At)}function Pt(Wt,Nt,ht,At){Wt[Nt](ht,!1,At)}function Dt(Wt){let Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const At=Wt.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return At?At[1]:Nt}const It=35632,ut=35633;function _t(Wt,Nt){let ht="";for(let At=0;At<Nt.length;At++)if((Wt[At+3]||Wt[At+2]||Wt[At+1])&&(ht+="".concat(Nt[At],"\n"),Wt[At+1])){const M=Wt[At+1],P=M.split(":",3),U=P[0],pt=parseInt(P[1],10)||0,Et=M.substring(P.join(":").length+1).trim();ht+=St("^^^ ".concat(U,": ").concat(Et,"\n\n"),pt)}return ht}function St(Wt,Nt){let ht="";for(let At=0;At<Nt;++At)ht+=" ";return"".concat(ht).concat(Wt)}var Zt=Z(3403);class Ce extends J.Z{get[Symbol.toStringTag](){return"Shader"}static getTypeName(Nt){switch(Nt){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,O.h)(!1),"unknown"}}constructor(Nt,ht){(0,Y.JD)(Nt),(0,O.h)("string"==typeof ht.source,"Shader: GLSL source code must be a JavaScript string"),super(Nt,{id:Dt(ht.source,null)||ht.id||(0,Zt.hQ)("unnamed ".concat(Ce.getTypeName(ht.shaderType)))}),this.shaderType=ht.shaderType,this.source=ht.source,this.initialize(ht)}initialize(Nt){let{source:ht}=Nt;const At=Dt(ht,null);At&&(this.id=(0,Zt.hQ)(At)),this._compile(ht)}getParameter(Nt){return this.gl.getShaderParameter(this.handle,Nt)}toString(){return"".concat(Ce.getTypeName(this.shaderType),":").concat(this.id)}getName(){return Dt(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const Nt=this.gl.getExtension("WEBGL_debug_shaders");return Nt?Nt.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(Nt.startsWith("#version ")||(Nt="#version 100\n".concat(Nt)),this.source=Nt,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const At=this.gl.getShaderInfoLog(this.handle),{shaderName:vt,errors:M,warnings:P}=function Tt(Wt,Nt,ht,At){const vt=Wt.split(/\r?\n/),M={},P={},U=At||Dt(Nt)||"(unnamed)",pt="".concat(function re(Wt){switch(Wt){case It:return"fragment";case ut:return"vertex";default:return"unknown type"}}(ht)," shader ").concat(U);for(let Ot=0;Ot<vt.length;Ot++){const pe=vt[Ot];if(pe.length<=1)continue;const ye=pe.split(":"),xe=ye[0],ze=parseInt(ye[2],10);if(isNaN(ze))throw new Error("GLSL compilation error in ".concat(pt,": ").concat(Wt));"WARNING"!==xe?M[ze]=pe:P[ze]=pe}const Et=function dt(Wt){let Nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const At=Wt.split(/\r?\n/),vt=String(At.length+Nt-1).length;return At.map((M,P)=>{const U=String(P+Nt);return St(U,vt-U.length)+ht+M})}(Nt);return{shaderName:pt,errors:_t(M,Et),warnings:_t(P,Et)}}(At,this.source,this.shaderType,this.id);throw Y.cM.error("GLSL compilation errors in ".concat(vt,"\n").concat(M))(),Y.cM.warn("GLSL compilation warnings in ".concat(vt,"\n").concat(P))(),new Error("GLSL compilation errors in ".concat(vt))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class jt extends Ce{get[Symbol.toStringTag](){return"VertexShader"}constructor(Nt,ht){"string"==typeof ht&&(ht={source:ht}),super(Nt,Object.assign({},ht,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class ae extends Ce{get[Symbol.toStringTag](){return"FragmentShader"}constructor(Nt,ht){"string"==typeof ht&&(ht={source:ht}),super(Nt,Object.assign({},ht,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}var ue=Z(2563),Pe=Z(2676);class He{constructor(Nt){this.id=Nt.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(Nt),this._readVaryingsFromProgram(Nt)}getAttributeInfo(Nt){const ht=Number(Nt);return Number.isFinite(ht)?this.attributeInfosByLocation[ht]:this.attributeInfosByName[Nt]||null}getAttributeLocation(Nt){const ht=this.getAttributeInfo(Nt);return ht?ht.location:-1}getAttributeAccessor(Nt){const ht=this.getAttributeInfo(Nt);return ht?ht.accessor:null}getVaryingInfo(Nt){const ht=Number(Nt);return Number.isFinite(ht)?this.varyingInfos[ht]:this.varyingInfosByName[Nt]||null}getVaryingIndex(Nt){const ht=this.getVaryingInfo();return ht?ht.location:-1}getVaryingAccessor(Nt){const ht=this.getVaryingInfo();return ht?ht.accessor:null}_readAttributesFromProgram(Nt){const{gl:ht}=Nt,At=ht.getProgramParameter(Nt.handle,35721);for(let vt=0;vt<At;vt++){const{name:M,type:P,size:U}=ht.getActiveAttrib(Nt.handle,vt),pt=ht.getAttribLocation(Nt.handle,M);pt>=0&&this._addAttribute(pt,M,P,U)}this.attributeInfos.sort((vt,M)=>vt.location-M.location)}_readVaryingsFromProgram(Nt){const{gl:ht}=Nt;if(!(0,Y.D0)(ht))return;const At=ht.getProgramParameter(Nt.handle,35971);for(let vt=0;vt<At;vt++){const{name:M,type:P,size:U}=ht.getTransformFeedbackVarying(Nt.handle,vt);this._addVarying(vt,M,P,U)}this.varyingInfos.sort((vt,M)=>vt.location-M.location)}_addAttribute(Nt,ht,At,vt){const{type:M,components:P}=(0,Pe.hJ)(At),U={type:M,size:vt*P};this._inferProperties(Nt,ht,U);const pt={location:Nt,name:ht,accessor:new ue.Z(U)};this.attributeInfos.push(pt),this.attributeInfosByLocation[Nt]=pt,this.attributeInfosByName[pt.name]=pt}_inferProperties(Nt,ht,At){/instance/i.test(ht)&&(At.divisor=1)}_addVarying(Nt,ht,At,vt){const{type:M,components:P}=(0,Pe.hJ)(At),pt={location:Nt,name:ht,accessor:new ue.Z({type:M,size:vt*P})};this.varyingInfos.push(pt),this.varyingInfosByName[pt.name]=pt}}var de=Z(6742);const Se=35981,wt=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class Ht extends J.Z{get[Symbol.toStringTag](){return"Program"}constructor(Nt){let ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(Nt,ht),this.stubRemovedMethods("Program","v6.0",wt),this._isCached=!1,this.initialize(ht),Object.seal(this),this._setId(ht.id)}initialize(){let Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:ht,vs:At,fs:vt,varyings:M,bufferMode:P=Se}=Nt;return this.hash=ht||"",this.vs="string"==typeof At?new jt(this.gl,{id:"".concat(Nt.id,"-vs"),source:At}):At,this.fs="string"==typeof vt?new ae(this.gl,{id:"".concat(Nt.id,"-fs"),source:vt}):vt,(0,O.h)(this.vs instanceof jt),(0,O.h)(this.fs instanceof ae),this.uniforms={},this._textureUniforms={},M&&M.length>0&&((0,Y.KQ)(this.gl),this.varyings=M,this.gl2.transformFeedbackVaryings(this.handle,M,P)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new He(this),this.setProps(Nt)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(Nt){return"uniforms"in Nt&&this.setUniforms(Nt.uniforms),this}draw(Nt){let{logPriority:ht,drawMode:At=4,vertexCount:vt,offset:M=0,start:P,end:U,isIndexed:pt=!1,indexType:Et=5123,instanceCount:Ot=0,isInstanced:pe=Ot>0,vertexArray:ye=null,transformFeedback:xe,framebuffer:ze,parameters:Je={},uniforms:Ve,samplers:ln}=Nt;if((Ve||ln)&&(Y.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(Ve||{})),Y.cM.priority>=ht){const fn=ze?ze.id:"default",dn="mode=".concat((0,de.km)(this.gl,At)," verts=").concat(vt," ")+"instances=".concat(Ot," indexType=").concat((0,de.km)(this.gl,Et)," ")+"isInstanced=".concat(pe," isIndexed=").concat(pt," ")+"Framebuffer=".concat(fn);Y.cM.log(ht,dn)()}return(0,O.h)(ye),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===vt||pe&&0===Ot||(ye.bindForDraw(vt,Ot,()=>{if(void 0!==ze&&(Je=Object.assign({},Je,{framebuffer:ze})),xe){const fn=(0,Pe.$Z)(At);xe.begin(fn)}this._bindTextures(),(0,Y.s8)(this.gl,Je,()=>{pt&&pe?this.gl2.drawElementsInstanced(At,vt,Et,M,Ot):pt&&(0,Y.D0)(this.gl)&&!isNaN(P)&&!isNaN(U)?this.gl2.drawRangeElements(At,P,U,vt,Et,M):pt?this.gl.drawElements(At,vt,Et,M):pe?this.gl2.drawArraysInstanced(At,M,vt,Ot):this.gl.drawArrays(At,M,vt)}),xe&&xe.end()}),0))}setUniforms(){let Nt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Y.cM.priority>=2&&function nt(Wt,Nt,ht){for(const At in Wt){const vt=Wt[At];if((!ht||Boolean(ht[At]))&&!z(vt))throw Nt=Nt?"".concat(Nt," "):"",console.error("".concat(Nt," Bad uniform ").concat(At),vt),new Error("".concat(Nt," Bad uniform ").concat(At))}}(Nt,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const ht in Nt){const At=Nt[ht],vt=this._uniformSetters[ht];if(vt){let M=At,P=!1;if(M instanceof F.Z&&(M=M.texture),M instanceof rt.Z)if(P=this.uniforms[ht]!==At,P){void 0===vt.textureIndex&&(vt.textureIndex=this._textureIndexCounter++);const U=M,{textureIndex:pt}=vt;U.bind(pt),M=pt,this._textureUniforms[ht]=U}else M=vt.textureIndex;else this._textureUniforms[ht]&&delete this._textureUniforms[ht];(vt(M)||P)&&ct(this.uniforms,ht,At)}}return this}_areTexturesRenderable(){let Nt=!0;for(const ht in this._textureUniforms){const At=this._textureUniforms[ht];At.update(),Nt=Nt&&At.loaded}return Nt}_bindTextures(){for(const Nt in this._textureUniforms)this._textureUniforms[Nt].bind(this._uniformSetters[Nt].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(Nt){const ht=this.gl.getAttachedShaders(Nt),At={};for(const vt of ht)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:At.vs=new jt({handle:vt});break;case 35632:At.fs=new ae({handle:vt})}return At}_getParameter(Nt){return this.gl.getProgramParameter(this.handle,Nt)}_setId(Nt){if(!Nt){const ht=this._getName();this.id=(0,Zt.hQ)(ht)}}_getName(){let Nt=this.vs.getName()||this.fs.getName();return Nt=Nt.replace(/shader/i,""),Nt=Nt?"".concat(Nt,"-program"):"program",Nt}_compileAndLink(){const{gl:Nt}=this;if(Nt.attachShader(this.handle,this.vs.handle),Nt.attachShader(this.handle,this.fs.handle),Y.cM.time(4,"linkProgram for ".concat(this._getName()))(),Nt.linkProgram(this.handle),Y.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),Nt.debug||Y.cM.level>0){if(!Nt.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(Nt.getProgramInfoLog(this.handle)));if(Nt.validateProgram(this.handle),!Nt.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(Nt.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:Nt}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let ht=0;ht<this._uniformCount;ht++){const At=this.gl.getActiveUniform(this.handle,ht),{name:vt}=W(At.name);let M=Nt.getUniformLocation(this.handle,vt);if(this._uniformSetters[vt]=tt(Nt,M,At),At.size>1)for(let P=0;P<At.size;P++)M=Nt.getUniformLocation(this.handle,"".concat(vt,"[").concat(P,"]")),this._uniformSetters["".concat(vt,"[").concat(P,"]")]=tt(Nt,M,At)}this._textureIndexCounter=0}getActiveUniforms(Nt,ht){return this.gl2.getActiveUniforms(this.handle,Nt,ht)}getUniformBlockIndex(Nt){return this.gl2.getUniformBlockIndex(this.handle,Nt)}getActiveUniformBlockParameter(Nt,ht){return this.gl2.getActiveUniformBlockParameter(this.handle,Nt,ht)}uniformBlockBinding(Nt,ht){this.gl2.uniformBlockBinding(this.handle,Nt,ht)}}},1296:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Q});var J=Z(6729);const rt="EXT_color_buffer_float",F={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:rt,bpp:2},33327:{gl2:rt,bpp:4},34842:{gl2:rt,bpp:8},33326:{gl2:rt,bpp:4},33328:{gl2:rt,bpp:8},34836:{gl2:rt,bpp:16},35898:{gl2:rt,bpp:4}};var Y=Z(7591),G=Z(659);class Q extends J.Z{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(st){let{format:at}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!at||function O(ot,st,at){const $=at[st];if(!$)return!1;const N=(0,Y.D0)(ot)&&$.gl2||$.gl1;return"string"==typeof N?ot.getExtension(N):N}(st,at,F)}static getSamplesForFormat(st,at){let{format:$}=at;return st.getInternalformatParameter(36161,$,32937)}constructor(st){let at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(st,at),this.initialize(at),Object.seal(this)}initialize(st){let{format:at,width:$=1,height:N=1,samples:V=0}=st;return(0,G.h)(at,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==V&&(0,Y.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,V,at,$,N):this.gl.renderbufferStorage(36161,at,$,N),this.format=at,this.width=$,this.height=N,this.samples=V,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*F[this.format].bpp),this}resize(st){let{width:at,height:$}=st;return at!==this.width||$!==this.height?this.initialize({width:at,height:$,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(st){this.gl.bindRenderbuffer(36161,st)}_syncHandle(st){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(st){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,st)}}},6729:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>ot});var J=Z(7591),rt=Z(1528),F=Z(6742),Y=Z(659),G=Z(3403),O=Z(2975);const Q="Resource subclass must define virtual methods";class ot{get[Symbol.toStringTag](){return"Resource"}constructor(at){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,J.JD)(at);const{id:N,userData:V={}}=$;this.gl=at,this.gl2=at,this.id=N||(0,G.hQ)(this[Symbol.toStringTag]),this.userData=V,this._bound=!1,this._handle=$.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:at=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const $=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,$&&at&&$.filter(Boolean).forEach(N=>N.delete()),this}bind(){let $,at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof at?(this._bindHandle(at),this):(this._bound?$=at():(this._bindHandle(this.handle),this._bound=!0,$=at(),this._bound=!1,this._bindHandle(null)),$)}unbind(){this.bind(null)}getParameter(at){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};at=(0,F.sF)(this.gl,at),(0,Y.h)(at);const V=(this.constructor.PARAMETERS||{})[at];if(V){const bt=(0,J.D0)(this.gl);if("webgl2"in V&&!bt||"extension"in V&&!this.gl.getExtension(V.extension))return bt&&"webgl2"in V?V.webgl2:V.webgl1}return this._getParameter(at,$)}getParameters(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:$,keys:N}=at,V=this.constructor.PARAMETERS||{},bt=(0,J.D0)(this.gl),X={},tt=$||Object.keys(V);for(const W of tt){const nt=V[W];if(nt&&(!("webgl2"in nt)||bt)&&(!("extension"in nt)||this.gl.getExtension(nt.extension))){const ct=N?(0,F.km)(this.gl,W):W;X[ct]=this.getParameter(W,at),N&&"GLenum"===nt.type&&(X[ct]=(0,F.km)(this.gl,X[ct]))}}return X}setParameter(at,$){at=(0,F.sF)(this.gl,at),(0,Y.h)(at);const V=(this.constructor.PARAMETERS||{})[at];if(V){const bt=(0,J.D0)(this.gl);if("webgl2"in V&&!bt||"extension"in V&&!this.gl.getExtension(V.extension))throw new Error("Parameter not available on this platform");"GLenum"===V.type&&($=(0,F.sF)($))}return this._setParameter(at,$),this}setParameters(at){for(const $ in at)this.setParameter($,at[$]);return this}stubRemovedMethods(at,$,N){return(0,O.F)(this,at,$,N)}initialize(at){}_createHandle(){throw new Error(Q)}_deleteHandle(){throw new Error(Q)}_bindHandle(at){throw new Error(Q)}_getOptsFromHandle(){throw new Error(Q)}_getParameter(at,$){throw new Error(Q)}_setParameter(at,$){throw new Error(Q)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const at=this[Symbol.toStringTag],$=rt.lR.get("Resource Counts");$.get("Resources Created").incrementCount(),$.get("".concat(at,"s Created")).incrementCount(),$.get("".concat(at,"s Active")).incrementCount()}_removeStats(){const at=this[Symbol.toStringTag];rt.lR.get("Resource Counts").get("".concat(at,"s Active")).decrementCount()}_trackAllocatedMemory(at){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(at,$),this._trackAllocatedMemoryForContext(at,$,this.gl.canvas&&this.gl.canvas.id),this.byteLength=at}_trackAllocatedMemoryForContext(at){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const V=rt.lR.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));V.get("GPU Memory").addCount(at),V.get("".concat($," Memory")).addCount(at)}_trackDeallocatedMemory(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(at),this._trackDeallocatedMemoryForContext(at,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const N=rt.lR.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));N.get("GPU Memory").subtractCount(this.byteLength),N.get("".concat(at," Memory")).subtractCount(this.byteLength)}}},5702:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>ot});var J=Z(7591),rt=Z(7995),F=Z(659);let Y="";function Q(st,at){return(0,F.h)("string"==typeof st),st=Y+st,new Promise(($,N)=>{try{const V=new Image;V.onload=()=>$(V),V.onerror=()=>N(new Error("Could not load image ".concat(st,"."))),V.crossOrigin=at&&at.crossOrigin||"anonymous",V.src=st}catch(V){N(V)}})}class ot extends rt.Z{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(at,$){return rt.Z.isSupported(at,$)}constructor(at){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,J.JD)(at),($ instanceof Promise||"string"==typeof $)&&($={data:$}),"string"==typeof $.data&&($=Object.assign({},$,{data:Q($.data)})),super(at,Object.assign({},$,{target:3553})),this.initialize($),Object.seal(this)}}},2172:(Ye,oe,Z)=>{"use strict";Z.d(oe,{C:()=>F,KR:()=>O,ae:()=>rt,br:()=>G,pH:()=>Y});var J=Z(7591);const rt={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},F={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},Y={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function G(Q,ot){const st=rt[ot];if(!st)return!1;if(void 0===st.gl1&&void 0===st.gl2)return!0;const at=(0,J.D0)(Q)&&st.gl2||st.gl1;return"string"==typeof at?Q.getExtension(at):at}function O(Q,ot){const st=rt[ot];switch(st&&st.types[0]){case 5126:return Q.getExtension("OES_texture_float_linear");case 5131:return Q.getExtension("OES_texture_half_float_linear");default:return!0}}},7995:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>st});var J=Z(7591),rt=Z(6729),F=Z(8775),Y=Z(2172),G=Z(659),O=Z(3403);const Q=[9729,9728],ot=globalThis.WebGLBuffer||function(){};class st extends rt.Z{get[Symbol.toStringTag](){return"Texture"}static isSupported($){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:V,linearFiltering:bt}=N;let X=!0;return V&&(X=X&&(0,Y.br)($,V),X=X&&(!bt||(0,Y.KR)($,V))),X}constructor($,N){const{id:V=(0,O.hQ)("texture"),handle:bt,target:X}=N;super($,{id:V,handle:bt}),this.target=X,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=$.data;if(N instanceof Promise)return N.then(ut=>this.initialize(Object.assign({},$,{pixels:ut,data:ut}))),this;const V=typeof HTMLVideoElement<"u"&&N instanceof HTMLVideoElement;if(V&&N.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,N.addEventListener("loadeddata",()=>this.initialize($)),this;const{pixels:bt=null,format:X=6408,border:tt=0,recreate:W=!1,parameters:nt={},pixelStore:z={},textureUnit:ct}=$;N||(N=bt);let{width:gt,height:Mt,dataFormat:Ct,type:q,compressed:Pt=!1,mipmaps:Dt=!0}=$;const{depth:It=0}=$;return({width:gt,height:Mt,compressed:Pt,dataFormat:Ct,type:q}=this._deduceParameters({format:X,type:q,dataFormat:Ct,compressed:Pt,data:N,width:gt,height:Mt})),this.width=gt,this.height=Mt,this.depth=It,this.format=X,this.type=q,this.dataFormat=Ct,this.border=tt,this.textureUnit=ct,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),Dt&&this._isNPOT()&&(J.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),Dt=!1,this._updateForNPOT(nt)),this.mipmaps=Dt,this.setImageData({data:N,width:gt,height:Mt,depth:It,format:X,type:q,dataFormat:Ct,border:tt,mipmaps:Dt,parameters:z,compressed:Pt}),Dt&&this.generateMipmap(),this.setParameters(nt),W&&(this.data=N),V&&(this._video={video:N,parameters:nt,lastTime:N.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?N.currentTime:-1}),this}update(){if(this._video){const{video:$,parameters:N,lastTime:V}=this._video;if(V===$.currentTime||$.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:$,parameters:N}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=$.currentTime}}resize($){let{height:N,width:V,mipmaps:bt=!1}=$;return V!==this.width||N!==this.height?this.initialize({width:V,height:N,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:bt}):this}generateMipmap(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(J.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,J.s8)(this.gl,$,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData($){this._trackDeallocatedMemory("Texture");const{target:N=this.target,pixels:V=null,level:bt=0,format:X=this.format,border:tt=this.border,offset:W=0,parameters:nt={}}=$;let{data:z=null,type:ct=this.type,width:gt=this.width,height:Mt=this.height,dataFormat:Ct=this.dataFormat,compressed:q=!1}=$;z||(z=V),({type:ct,dataFormat:Ct,compressed:q,width:gt,height:Mt}=this._deduceParameters({format:X,type:ct,dataFormat:Ct,compressed:q,data:z,width:gt,height:Mt}));const{gl:Pt}=this;Pt.bindTexture(this.target,this.handle);let Dt=null;({data:z,dataType:Dt}=this._getDataType({data:z,compressed:q}));let It,ut=0;return(0,J.s8)(this.gl,nt,()=>{switch(Dt){case"null":Pt.texImage2D(N,bt,X,gt,Mt,tt,Ct,ct,z);break;case"typed-array":Pt.texImage2D(N,bt,X,gt,Mt,tt,Ct,ct,z,W);break;case"buffer":It=(0,J.KQ)(Pt),It.bindBuffer(35052,z.handle||z),It.texImage2D(N,bt,X,gt,Mt,tt,Ct,ct,W),It.bindBuffer(35052,null);break;case"browser-object":(0,J.D0)(Pt)?Pt.texImage2D(N,bt,X,gt,Mt,tt,Ct,ct,z):Pt.texImage2D(N,bt,X,Ct,ct,z);break;case"compressed":for(const[re,se]of z.entries())Pt.compressedTexImage2D(N,re,se.format,se.width,se.height,tt,se.data),ut+=se.levelSize;break;default:(0,G.h)(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===Dt?ut:z&&z.byteLength?z.byteLength:this.width*this.height*(Y.C[this.dataFormat]||4)*(Y.pH[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData($){let{target:N=this.target,pixels:V=null,data:bt=null,x:X=0,y:tt=0,width:W=this.width,height:nt=this.height,level:z=0,format:ct=this.format,type:gt=this.type,dataFormat:Mt=this.dataFormat,compressed:Ct=!1,offset:q=0,border:Pt=this.border,parameters:Dt={}}=$;if(({type:gt,dataFormat:Mt,compressed:Ct,width:W,height:nt}=this._deduceParameters({format:ct,type:gt,dataFormat:Mt,compressed:Ct,data:bt,width:W,height:nt})),(0,G.h)(0===this.depth,"texSubImage not supported for 3D textures"),bt||(bt=V),bt&&bt.data){const It=bt;bt=It.data,W=It.shape[0],nt=It.shape[1]}bt instanceof F.Z&&(bt=bt.handle),this.gl.bindTexture(this.target,this.handle),(0,J.s8)(this.gl,Dt,()=>{if(Ct)this.gl.compressedTexSubImage2D(N,z,X,tt,W,nt,ct,bt);else if(null===bt)this.gl.texSubImage2D(N,z,X,tt,W,nt,Mt,gt,null);else if(ArrayBuffer.isView(bt))this.gl.texSubImage2D(N,z,X,tt,W,nt,Mt,gt,bt,q);else if(bt instanceof ot){const It=(0,J.KQ)(this.gl);It.bindBuffer(35052,bt),It.texSubImage2D(N,z,X,tt,W,nt,Mt,gt,q),It.bindBuffer(35052,null)}else(0,J.D0)(this.gl)?(0,J.KQ)(this.gl).texSubImage2D(N,z,X,tt,W,nt,Mt,gt,bt):this.gl.texSubImage2D(N,z,X,tt,Mt,gt,bt)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return J.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:N}=this;return void 0!==$&&(this.textureUnit=$,N.activeTexture(33984+$)),N.bindTexture(this.target,this.handle),$}unbind(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:N}=this;return void 0!==$&&(this.textureUnit=$,N.activeTexture(33984+$)),N.bindTexture(this.target,null),$}_getDataType($){let{data:N,compressed:V=!1}=$;return V?{data:N,dataType:"compressed"}:null===N?{data:N,dataType:"null"}:ArrayBuffer.isView(N)?{data:N,dataType:"typed-array"}:N instanceof F.Z?{data:N.handle,dataType:"buffer"}:N instanceof ot?{data:N,dataType:"buffer"}:{data:N,dataType:"browser-object"}}_deduceParameters($){const{format:N,data:V}=$;let{width:bt,height:X,dataFormat:tt,type:W,compressed:nt}=$;const z=Y.ae[N];return tt=tt||z&&z.dataFormat,W=W||z&&z.types[0],nt=nt||z&&z.compressed,({width:bt,height:X}=this._deduceImageSize(V,bt,X)),{dataFormat:tt,type:W,compressed:nt,width:bt,height:X,format:N,data:V}}_deduceImageSize($,N,V){let bt;return bt=typeof ImageData<"u"&&$ instanceof ImageData?{width:$.width,height:$.height}:typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?{width:$.naturalWidth,height:$.naturalHeight}:typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap?{width:$.width,height:$.height}:typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement?{width:$.videoWidth,height:$.videoHeight}:$?{width:N,height:V}:{width:N>=0?N:1,height:V>=0?V:1},(0,G.h)(bt,"Could not deduced texture size"),(0,G.h)(void 0===N||bt.width===N,"Deduced texture width does not match supplied width"),(0,G.h)(void 0===V||bt.height===V,"Deduced texture height does not match supplied height"),bt}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter($){switch($){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const N=this.gl.getTexParameter(this.target,$);return this.gl.bindTexture(this.target,null),N}}_setParameter($,N){switch(this.gl.bindTexture(this.target,this.handle),N=this._getNPOTParam($,N),$){case 33082:case 33083:this.gl.texParameterf(this.handle,$,N);break;case 4096:case 4097:(0,G.h)(!1);break;default:this.gl.texParameteri(this.target,$,N)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!((0,J.D0)(this.gl)||!this.width||!this.height||(0,O.wt)(this.width)&&(0,O.wt)(this.height))}_updateForNPOT($){void 0===$[this.gl.TEXTURE_MIN_FILTER]&&($[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===$[this.gl.TEXTURE_WRAP_S]&&($[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===$[this.gl.TEXTURE_WRAP_T]&&($[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam($,N){if(this._isNPOT())switch($){case 10241:-1===Q.indexOf(N)&&(N=9729);break;case 10242:case 10243:33071!==N&&(N=33071)}return N}}},8023:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>G});var J=Z(7591),rt=Z(6729),F=Z(8775),Y=Z(3403);class G extends rt.Z{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(Q){return(0,J.D0)(Q)}constructor(Q){let ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,J.KQ)(Q),super(Q,ot),this.initialize(ot),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,Y.nK)(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(Q),this}setProps(Q){"program"in Q&&(this.configuration=Q.program&&Q.program.configuration),"configuration"in Q&&(this.configuration=Q.configuration),"bindOnUse"in Q&&(Q=Q.bindOnUse),"buffers"in Q&&this.setBuffers(Q.buffers)}setBuffers(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const ot in Q)this.setBuffer(ot,Q[ot])}),this}setBuffer(Q,ot){const st=this._getVaryingIndex(Q),{buffer:at,byteSize:$,byteOffset:N}=this._getBufferParams(ot);return st<0?(this.unused[Q]=at,J.cM.warn("".concat(this.id," unused varying buffer ").concat(Q))(),this):(this.buffers[st]=ot,this.bindOnUse||this._bindBuffer(st,at,N,$),this)}begin(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(Q),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(Q){let ot,st,at;return Q instanceof F.Z?at=Q:(at=Q.buffer,st=Q.byteSize,ot=Q.byteOffset),(void 0!==ot||void 0!==st)&&(ot=ot||0,st=st||at.byteLength-ot),{buffer:at,byteOffset:ot,byteSize:st}}_getVaryingInfo(Q){return this.configuration&&this.configuration.getVaryingInfo(Q)}_getVaryingIndex(Q){if(this.configuration)return this.configuration.getVaryingInfo(Q).location;const ot=Number(Q);return Number.isFinite(ot)?ot:-1}_bindBuffers(){if(this.bindOnUse)for(const Q in this.buffers){const{buffer:ot,byteSize:st,byteOffset:at}=this._getBufferParams(this.buffers[Q]);this._bindBuffer(Q,ot,at,st)}}_unbindBuffers(){if(this.bindOnUse)for(const Q in this.buffers)this._bindBuffer(Q,null)}_bindBuffer(Q,ot){let at=arguments.length>3?arguments[3]:void 0;const $=ot&&ot.handle;return $&&void 0!==at?this.gl.bindBufferRange(35982,Q,$,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,at):this.gl.bindBufferBase(35982,Q,$),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(Q){this.gl.bindTransformFeedback(36386,this.handle)}}},2378:(Ye,oe,Z)=>{"use strict";Z.d(oe,{N$:()=>Q,U6:()=>G,ag:()=>O});var J=Z(7552),rt=Z(7591),F=Z(659);const Y=2;function G(at,$){return O(at,$)}function O(at,$){return($=Array.isArray($)?$:[$]).every(N=>ot(at,N))}function Q(at){at.luma=at.luma||{},at.luma.caps=at.luma.caps||{};for(const $ in J.Z)void 0===at.luma.caps[$]&&(at.luma.caps[$]=ot(at,$));return at.luma.caps}function ot(at,$){return at.luma=at.luma||{},at.luma.caps=at.luma.caps||{},void 0===at.luma.caps[$]&&(at.luma.caps[$]=function st(at,$){const N=J.Z[$];let V;(0,F.h)(N,$);const bt=(0,rt.D0)(at)&&N[1]||N[0];if("function"==typeof bt)V=bt(at);else if(Array.isArray(bt)){V=!0;for(const X of bt)V=V&&Boolean(at.getExtension(X))}else"string"==typeof bt?V=Boolean(at.getExtension(bt)):"boolean"==typeof bt?V=bt:(0,F.h)(!1);return V}(at,$)),at.luma.caps[$]||rt.cM.log(Y,"Feature: ".concat($," not supported"))(),at.luma.caps[$]}},7552:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>G,h:()=>F});var J=Z(2778),rt=Z(5702);const F={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"},G={[F.WEBGL2]:[!1,!0],[F.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[F.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[F.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[F.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[F.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[F.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[F.FLOAT_BLEND]:["EXT_float_blend"],[F.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[F.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[F.TEXTURE_FLOAT]:["OES_texture_float",!0],[F.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[F.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[F.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[F.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[F.COLOR_ATTACHMENT_RGBA32F]:[function Y(O){const Q=new rt.Z(O,{format:6408,type:5126,dataFormat:6408}),ot=new J.Z(O,{id:"test-framebuffer",check:!1,attachments:{36064:Q}}),st=ot.getStatus();return Q.delete(),ot.delete(),36053===st},"EXT_color_buffer_float"],[F.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[F.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[F.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[F.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[F.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[F.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},1528:(Ye,oe,Z)=>{"use strict";Z.d(oe,{lR:()=>Q});var J=Z(7591),rt=Z(5651),F=Z(25);const Y="8.5.19",Q=new class O{constructor(){this.stats=new Map}get(at){return this.stats.has(at)||this.stats.set(at,new rt.Z({id:at})),this.stats.get(at)}};if(globalThis.luma&&globalThis.luma.VERSION!==Y)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(Y));globalThis.luma||((0,F.Z)()&&J.cM.log(1,"luma.gl ".concat(Y," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:Y,version:Y,log:J.cM,stats:Q,globals:{modules:{},nodeIO:{}}}),globalThis},659:(Ye,oe,Z)=>{"use strict";function J(rt,F){if(!rt)throw new Error(F||"luma.gl: assertion failed.")}Z.d(oe,{h:()=>J})},5877:(Ye,oe,Z)=>{"use strict";Z.d(oe,{k:()=>rt});var J=Z(7591);function rt(F,Y,G){const{removedProps:O={},deprecatedProps:Q={},replacedProps:ot={}}=G;for(const at in O)if(at in Y){const N=O[at]?"".concat(F,".").concat(O[at]):"N/A";J.cM.removed("".concat(F,".").concat(at),N)()}for(const at in Q)if(at in Y){const $=Q[at];J.cM.deprecated("".concat(F,".").concat(at),"".concat(F,".").concat($))()}let st=null;for(const at in ot)if(at in Y){const $=ot[at];J.cM.deprecated("".concat(F,".").concat(at),"".concat(F,".").concat($))(),st=st||Object.assign({},Y),st[$]=Y[at],delete st[at]}return st||Y}},2975:(Ye,oe,Z)=>{"use strict";Z.d(oe,{F:()=>rt});var J=Z(7591);function rt(F,Y,G,O){const Q="See luma.gl ".concat(G," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),ot=Object.getPrototypeOf(F);O.forEach(st=>{ot.methodName||(ot[st]=()=>{throw J.cM.removed("Calling removed method ".concat(Y,".").concat(st,": "),Q)(),new Error(st)})})}},3403:(Ye,oe,Z)=>{"use strict";Z.d(oe,{hQ:()=>F,nK:()=>G,wt:()=>Y});var J=Z(659);const rt={};function F(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";rt[O]=rt[O]||1;const Q=rt[O]++;return"".concat(O,"-").concat(Q)}function Y(O){return(0,J.h)("number"==typeof O,"Input must be a number"),O&&0==(O&O-1)}function G(O){let Q=!0;for(const ot in O){Q=!1;break}return Q}},2676:(Ye,oe,Z)=>{"use strict";Z.d(oe,{$Z:()=>ae,hJ:()=>He,jG:()=>de});var J=Z(659);const rt=5120,F=5121,Y=5122,G=5123,O=0,Q=1,ot=2,st=3,at=4,$=5,N=6,V=5126,W=5124,gt=5125,jt={[V]:[V,1,"float"],35664:[V,2,"vec2"],35665:[V,3,"vec3"],35666:[V,4,"vec4"],[W]:[W,1,"int"],35667:[W,2,"ivec2"],35668:[W,3,"ivec3"],35669:[W,4,"ivec4"],[gt]:[gt,1,"uint"],36294:[gt,2,"uvec2"],36295:[gt,3,"uvec3"],36296:[gt,4,"uvec4"],35670:[V,1,"bool"],35671:[V,2,"bvec2"],35672:[V,3,"bvec3"],35673:[V,4,"bvec4"],35674:[V,8,"mat2"],35685:[V,8,"mat2x3"],35686:[V,8,"mat2x4"],35675:[V,12,"mat3"],35687:[V,12,"mat3x2"],35688:[V,12,"mat3x4"],35676:[V,16,"mat4"],35689:[V,16,"mat4x2"],35690:[V,16,"mat4x3"]};function ae(we){switch(we){case O:return O;case Q:case st:case ot:return Q;case at:case $:case N:return at;default:return(0,J.h)(!1),0}}function He(we){const Se=jt[we];if(!Se)return null;const[wt,Ht]=Se;return{type:wt,components:Ht}}function de(we,Se){switch(we){case rt:case F:case Y:case G:we=V}for(const wt in jt){const[Ht,Wt,Nt]=jt[wt];if(Ht===we&&Wt===Se)return{glType:wt,name:Nt}}return null}},6742:(Ye,oe,Z)=>{"use strict";Z.d(oe,{km:()=>F,sF:()=>rt});var J=Z(659);function rt(G,O){if("string"!=typeof O)return O;const Q=Number(O);if(!isNaN(Q))return Q;const ot=G[O=O.replace(/^.*\./,"")];return(0,J.h)(void 0!==ot,"Accessing undefined constant GL.".concat(O)),ot}function F(G,O){O=Number(O);for(const Q in G)if(G[Q]===O)return"GL.".concat(Q);return String(O)}},8100:(Ye,oe,Z)=>{"use strict";Z.d(oe,{h:()=>N,Y:()=>V});var J=Z(5702),rt=Z(5861),F=Z(7591),Y=Z(7995);const G=[34069,34070,34071,34072,34073,34074];let O=(()=>{class bt extends Y.Z{get[Symbol.toStringTag](){return"TextureCube"}constructor(tt){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,F.JD)(tt),super(tt,Object.assign({},W,{target:34067})),this.initialize(W),Object.seal(this)}initialize(){let tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:W=!0,parameters:nt={}}=tt;return this.opts=tt,this.setCubeMapImageData(tt).then(()=>{this.loaded=!0,W&&this.generateMipmap(tt),this.setParameters(nt)}),this}subImage(tt){let{face:W,data:nt,x:z=0,y:ct=0,mipmapLevel:gt=0}=tt;return this._subImage({target:W,data:nt,x:z,y:ct,mipmapLevel:gt})}setCubeMapImageData(tt){var W=this;return(0,rt.Z)(function*(){let{width:nt,height:z,pixels:ct,data:gt,border:Mt=0,format:Ct=6408,type:q=5121}=tt;const{gl:Pt}=W,Dt=ct||gt,It=yield Promise.all(G.map(ut=>{const re=Dt[ut];return Promise.all(Array.isArray(re)?re:[re])}));W.bind(),G.forEach((ut,re)=>{It[re].length>1&&!1!==W.opts.mipmaps&&F.cM.warn("".concat(W.id," has mipmap and multiple LODs."))(),It[re].forEach((se,Tt)=>{nt&&z?Pt.texImage2D(ut,Tt,Ct,nt,z,Mt,Ct,q,se):Pt.texImage2D(ut,Tt,Ct,Ct,q,se)})}),W.unbind()})()}setImageDataForFace(tt){const{face:W,width:nt,height:z,pixels:ct,data:gt,border:Mt=0,format:Ct=6408,type:q=5121}=tt,{gl:Pt}=this,Dt=ct||gt;return this.bind(),Dt instanceof Promise?Dt.then(It=>this.setImageDataForFace(Object.assign({},tt,{face:W,data:It,pixels:It}))):this.width||this.height?Pt.texImage2D(W,0,Ct,nt,z,Mt,Ct,q,Dt):Pt.texImage2D(W,0,Ct,Ct,q,Dt),this}}return bt.FACES=G,bt})();var Q=Z(2172),ot=Z(8775);class st extends Y.Z{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(X){return(0,F.D0)(X)}constructor(X){let tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,F.KQ)(X),tt=Object.assign({depth:1},tt,{target:32879,unpackFlipY:!1}),super(X,tt),this.initialize(tt),Object.seal(this)}setImageData(X){let{level:tt=0,dataFormat:W=6408,width:nt,height:z,depth:ct=1,border:gt=0,format:Mt,type:Ct=5121,offset:q=0,data:Pt,parameters:Dt={}}=X;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,F.s8)(this.gl,Dt,()=>{ArrayBuffer.isView(Pt)&&this.gl.texImage3D(this.target,tt,W,nt,z,ct,gt,Mt,Ct,Pt),Pt instanceof ot.Z&&(this.gl.bindBuffer(35052,Pt.handle),this.gl.texImage3D(this.target,tt,W,nt,z,ct,gt,Mt,Ct,q))}),this._trackAllocatedMemory(Pt&&Pt.byteLength?Pt.byteLength:this.width*this.height*this.depth*(Q.C[this.dataFormat]||4)*(Q.pH[this.type]||1),"Texture"),this.loaded=!0,this}}var at=Z(2778),$=Z(659);function N(bt,X){(0,$.h)(bt instanceof J.Z||bt instanceof O||bt instanceof st);const tt=bt.constructor,{gl:W,width:nt,height:z,format:ct,type:gt,dataFormat:Mt,border:Ct,mipmaps:q}=bt;return new tt(W,Object.assign({width:nt,height:z,format:ct,type:gt,dataFormat:Mt,border:Ct,mipmaps:q},X))}function V(bt,X){const{gl:tt,width:W,height:nt,id:z}=bt;return new at.Z(tt,Object.assign({},X,{id:"framebuffer-for-".concat(z),width:W,height:nt,attachments:{36064:bt}}))}},8355:(Ye,oe,Z)=>{"use strict";Z.d(oe,{KS:()=>G,O:()=>rt,c$:()=>Y,vN:()=>F});const J="Failed to deduce GL constant from typed array";function rt(O){switch(ArrayBuffer.isView(O)?O.constructor:O){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(J)}}function F(O){let{clamped:Q=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(O){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Q?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function Y(O){let{data:Q,width:ot,height:st,bytesPerPixel:at=4,temp:$}=O;const N=ot*at;$=$||new Uint8Array(N);for(let V=0;V<st/2;++V){const bt=V*N,X=(st-V-1)*N;$.set(Q.subarray(bt,bt+N)),Q.copyWithin(bt,X,X+N),Q.set($,X)}}function G(O){let{data:Q,width:ot,height:st}=O;const at=Math.round(ot/2),$=Math.round(st/2),N=new Uint8Array(at*$*4);for(let V=0;V<$;V++)for(let bt=0;bt<at;bt++)for(let X=0;X<4;X++)N[4*(V*at+bt)+X]=Q[4*(2*V*ot+2*bt)+X];return{data:N,width:at,height:$}}},1803:Ye=>{"use strict";Ye.exports=Z,Ye.exports.default=Z;var oe=1e20;function Z(G,O,Q,ot,st,at){this.fontSize=G||24,this.buffer=void 0===O?3:O,this.cutoff=ot||.25,this.fontFamily=st||"sans-serif",this.fontWeight=at||"normal",this.radius=Q||8;var $=this.size=this.fontSize+2*this.buffer,N=$+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=$,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round($/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function F(G,O,Q,ot,st,at){for(var $=0;$<O;$++)Y(G,$,O,Q,ot,st,at);for(var N=0;N<Q;N++)Y(G,N*O,1,O,ot,st,at)}function Y(G,O,Q,ot,st,at,$){var N,V,bt,X;for(at[0]=0,$[0]=-oe,$[1]=oe,N=0;N<ot;N++)st[N]=G[O+N*Q];for(N=1,V=0,bt=0;N<ot;N++){do{bt=(st[N]-st[X=at[V]]+N*N-X*X)/(N-X)/2}while(bt<=$[V]&&--V>-1);at[++V]=N,$[V]=bt,$[V+1]=oe}for(N=0,V=0;N<ot;N++){for(;$[V+1]<N;)V++;G[O+N*Q]=st[X=at[V]]+(N-X)*(N-X)}}Z.prototype._draw=function(G,O){var at,$,N,V,bt,X,tt,W,nt,Q=this.ctx.measureText(G),ot=Q.width,st=2*this.buffer;O&&this.useMetrics?(bt=Math.floor(Q.actualBoundingBoxAscent),W=this.buffer+Math.ceil(Q.actualBoundingBoxAscent),X=this.buffer,tt=this.buffer,at=($=Math.min(this.size,Math.ceil(Q.actualBoundingBoxRight-Q.actualBoundingBoxLeft)))+st,N=(V=Math.min(this.size-X,Math.ceil(Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent)))+st,this.ctx.textBaseline="alphabetic"):(at=$=this.size,N=V=this.size,bt=19*this.fontSize/24,X=tt=0,W=this.middle,this.ctx.textBaseline="middle"),$&&V&&(this.ctx.clearRect(tt,X,$,V),this.ctx.fillText(G,this.buffer,W),nt=this.ctx.getImageData(tt,X,$,V));var z=new Uint8ClampedArray(at*N);return function J(G,O,Q,ot,st,at,$){at.fill(oe,0,O*Q),$.fill(0,0,O*Q);for(var N=(O-ot)/2,V=0;V<st;V++)for(var bt=0;bt<ot;bt++){var X=(V+N)*O+bt+N,tt=G.data[4*(V*ot+bt)+3]/255;if(1===tt)at[X]=0,$[X]=oe;else if(0===tt)at[X]=oe,$[X]=0;else{var W=Math.max(0,.5-tt),nt=Math.max(0,tt-.5);at[X]=W*W,$[X]=nt*nt}}}(nt,at,N,$,V,this.gridOuter,this.gridInner),F(this.gridOuter,at,N,this.f,this.v,this.z),F(this.gridInner,at,N,this.f,this.v,this.z),function rt(G,O,Q,ot,st,at,$){for(var N=0;N<O*Q;N++){var V=Math.sqrt(ot[N])-Math.sqrt(st[N]);G[N]=Math.round(255-255*(V/at+$))}}(z,at,N,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:z,metrics:{width:$,height:V,sdfWidth:at,sdfHeight:N,top:bt,left:0,advance:ot}}},Z.prototype.draw=function(G){return this._draw(G,!1).data},Z.prototype.drawWithMetrics=function(G){return this._draw(G,!0)}},997:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>F});var J=Z(4822);class F extends(function rt(Y){function G(){var O=Reflect.construct(Y,Array.from(arguments));return Object.setPrototypeOf(O,Object.getPrototypeOf(this)),O}return G.prototype=Object.create(Y.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(G,Y):G.__proto__=Y,G}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(G,O=0){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=G[Q+O];return this.check()}toArray(G=[],O=0){for(let Q=0;Q<this.ELEMENTS;++Q)G[O+Q]=this[Q];return G}from(G){return Array.isArray(G)?this.copy(G):this.fromObject(G)}to(G){return G===this?this:(0,J.kJ)(G)?this.toArray(G):this.toObject(G)}toTarget(G){return G?this.to(G):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(J.vc)}formatString(G){let O="";for(let Q=0;Q<this.ELEMENTS;++Q)O+=(Q>0?", ":"")+(0,J.Bw)(this[Q],G);return"".concat(G.printTypes?this.constructor.name:"","[").concat(O,"]")}equals(G){if(!G||this.length!==G.length)return!1;for(let O=0;O<this.ELEMENTS;++O)if(!(0,J.fS)(this[O],G[O]))return!1;return!0}exactEquals(G){if(!G||this.length!==G.length)return!1;for(let O=0;O<this.ELEMENTS;++O)if(this[O]!==G[O])return!1;return!0}negate(){for(let G=0;G<this.ELEMENTS;++G)this[G]=-this[G];return this.check()}lerp(G,O,Q){if(void 0===Q)return this.lerp(this,G,O);for(let ot=0;ot<this.ELEMENTS;++ot){const st=G[ot];this[ot]=st+Q*(O[ot]-st)}return this.check()}min(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=Math.min(G[O],this[O]);return this.check()}max(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=Math.max(G[O],this[O]);return this.check()}clamp(G,O){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min(Math.max(this[Q],G[Q]),O[Q]);return this.check()}add(...G){for(const O of G)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]+=O[Q];return this.check()}subtract(...G){for(const O of G)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]-=O[Q];return this.check()}scale(G){if("number"==typeof G)for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;else for(let O=0;O<this.ELEMENTS&&O<G.length;++O)this[O]*=G[O];return this.check()}multiplyByScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;return this.check()}check(){if(J.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let G=this.length===this.ELEMENTS;for(let O=0;O<this.ELEMENTS;++O)G=G&&Number.isFinite(this[O]);return G}sub(G){return this.subtract(G)}setScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=G;return this.check()}addScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]+=G;return this.check()}subScalar(G){return this.addScalar(-G)}multiplyScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;return this.check()}divideScalar(G){return this.multiplyByScalar(1/G)}clampScalar(G,O){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min(Math.max(this[Q],G),O);return this.check()}get elements(){return this}}},9751:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>tt});var J=Z(997),rt=Z(3345),F=Z(4822);class Y extends J.Z{toString(){let q="[";if(F.vc.printRowMajor){q+="row-major:";for(let Pt=0;Pt<this.RANK;++Pt)for(let Dt=0;Dt<this.RANK;++Dt)q+=" ".concat(this[Dt*this.RANK+Pt])}else{q+="column-major:";for(let Pt=0;Pt<this.ELEMENTS;++Pt)q+=" ".concat(this[Pt])}return q+="]",q}getElementIndex(q,Pt){return Pt*this.RANK+q}getElement(q,Pt){return this[Pt*this.RANK+q]}setElement(q,Pt,Dt){return this[Pt*this.RANK+q]=(0,rt.u5)(Dt),this}getColumn(q,Pt=new Array(this.RANK).fill(-0)){const Dt=q*this.RANK;for(let It=0;It<this.RANK;++It)Pt[It]=this[Dt+It];return Pt}setColumn(q,Pt){const Dt=q*this.RANK;for(let It=0;It<this.RANK;++It)this[Dt+It]=Pt[It];return this}}var G=Z(8230),O=Z(711),Q=Z(8235),ot=Z(3454),st=Z(9538),at=(()=>{return(Ct=at||(at={}))[Ct.COL0ROW0=0]="COL0ROW0",Ct[Ct.COL0ROW1=1]="COL0ROW1",Ct[Ct.COL0ROW2=2]="COL0ROW2",Ct[Ct.COL0ROW3=3]="COL0ROW3",Ct[Ct.COL1ROW0=4]="COL1ROW0",Ct[Ct.COL1ROW1=5]="COL1ROW1",Ct[Ct.COL1ROW2=6]="COL1ROW2",Ct[Ct.COL1ROW3=7]="COL1ROW3",Ct[Ct.COL2ROW0=8]="COL2ROW0",Ct[Ct.COL2ROW1=9]="COL2ROW1",Ct[Ct.COL2ROW2=10]="COL2ROW2",Ct[Ct.COL2ROW3=11]="COL2ROW3",Ct[Ct.COL3ROW0=12]="COL3ROW0",Ct[Ct.COL3ROW1=13]="COL3ROW1",Ct[Ct.COL3ROW2=14]="COL3ROW2",Ct[Ct.COL3ROW3=15]="COL3ROW3",at;var Ct})();const $=45*Math.PI/180,N=1,V=.1,bt=500,X=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class tt extends Y{static get IDENTITY(){return function ct(){return nt||(nt=new tt,Object.freeze(nt)),nt}()}static get ZERO(){return function z(){return W||(W=new tt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(W)),W}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return at}constructor(q){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(q)?this.copy(q):this.identity()}copy(q){return this[0]=q[0],this[1]=q[1],this[2]=q[2],this[3]=q[3],this[4]=q[4],this[5]=q[5],this[6]=q[6],this[7]=q[7],this[8]=q[8],this[9]=q[9],this[10]=q[10],this[11]=q[11],this[12]=q[12],this[13]=q[13],this[14]=q[14],this[15]=q[15],this.check()}set(q,Pt,Dt,It,ut,re,se,Tt,_t,dt,St,Zt,Vt,Ce,jt,ae){return this[0]=q,this[1]=Pt,this[2]=Dt,this[3]=It,this[4]=ut,this[5]=re,this[6]=se,this[7]=Tt,this[8]=_t,this[9]=dt,this[10]=St,this[11]=Zt,this[12]=Vt,this[13]=Ce,this[14]=jt,this[15]=ae,this.check()}setRowMajor(q,Pt,Dt,It,ut,re,se,Tt,_t,dt,St,Zt,Vt,Ce,jt,ae){return this[0]=q,this[1]=ut,this[2]=_t,this[3]=Vt,this[4]=Pt,this[5]=re,this[6]=dt,this[7]=Ce,this[8]=Dt,this[9]=se,this[10]=St,this[11]=jt,this[12]=It,this[13]=Tt,this[14]=Zt,this[15]=ae,this.check()}toRowMajor(q){return q[0]=this[0],q[1]=this[4],q[2]=this[8],q[3]=this[12],q[4]=this[1],q[5]=this[5],q[6]=this[9],q[7]=this[13],q[8]=this[2],q[9]=this[6],q[10]=this[10],q[11]=this[14],q[12]=this[3],q[13]=this[7],q[14]=this[11],q[15]=this[15],q}identity(){return this.copy(X)}fromObject(q){return this.check()}fromQuaternion(q){return O.en(this,q),this.check()}frustum(q){const{left:Pt,right:Dt,bottom:It,top:ut,near:re=V,far:se=bt}=q;return se===1/0?function Mt(Ct,q,Pt,Dt,It,ut){const se=2*ut/(It-Dt),Tt=(Pt+q)/(Pt-q),_t=(It+Dt)/(It-Dt),Zt=-2*ut;Ct[0]=2*ut/(Pt-q),Ct[1]=0,Ct[2]=0,Ct[3]=0,Ct[4]=0,Ct[5]=se,Ct[6]=0,Ct[7]=0,Ct[8]=Tt,Ct[9]=_t,Ct[10]=-1,Ct[11]=-1,Ct[12]=0,Ct[13]=0,Ct[14]=Zt,Ct[15]=0}(this,Pt,Dt,It,ut,re):O.oy(this,Pt,Dt,It,ut,re,se),this.check()}lookAt(q){const{eye:Pt,center:Dt=[0,0,0],up:It=[0,1,0]}=q;return O.zB(this,Pt,Dt,It),this.check()}ortho(q){const{left:Pt,right:Dt,bottom:It,top:ut,near:re=V,far:se=bt}=q;return O.M5(this,Pt,Dt,It,ut,re,se),this.check()}orthographic(q){const{fovy:Pt=$,aspect:Dt=N,focalDistance:It=1,near:ut=V,far:re=bt}=q;gt(Pt);const Tt=It*Math.tan(Pt/2),_t=Tt*Dt;return this.ortho({left:-_t,right:_t,bottom:-Tt,top:Tt,near:ut,far:re})}perspective(q){const{fovy:Pt=45*Math.PI/180,aspect:Dt=1,near:It=.1,far:ut=500}=q;return gt(Pt),O.G3(this,Pt,Dt,It,ut),this.check()}determinant(){return O.GH(this)}getScale(q=[-0,-0,-0]){return q[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),q[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),q[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),q}getTranslation(q=[-0,-0,-0]){return q[0]=this[12],q[1]=this[13],q[2]=this[14],q}getRotation(q,Pt){q=q||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const Dt=this.getScale(Pt=Pt||[-0,-0,-0]),It=1/Dt[0],ut=1/Dt[1],re=1/Dt[2];return q[0]=this[0]*It,q[1]=this[1]*ut,q[2]=this[2]*re,q[3]=0,q[4]=this[4]*It,q[5]=this[5]*ut,q[6]=this[6]*re,q[7]=0,q[8]=this[8]*It,q[9]=this[9]*ut,q[10]=this[10]*re,q[11]=0,q[12]=0,q[13]=0,q[14]=0,q[15]=1,q}getRotationMatrix3(q,Pt){q=q||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const Dt=this.getScale(Pt=Pt||[-0,-0,-0]),It=1/Dt[0],ut=1/Dt[1],re=1/Dt[2];return q[0]=this[0]*It,q[1]=this[1]*ut,q[2]=this[2]*re,q[3]=this[4]*It,q[4]=this[5]*ut,q[5]=this[6]*re,q[6]=this[8]*It,q[7]=this[9]*ut,q[8]=this[10]*re,q}transpose(){return O.p4(this,this),this.check()}invert(){return O.U_(this,this),this.check()}multiplyLeft(q){return O.Jp(this,q,this),this.check()}multiplyRight(q){return O.Jp(this,this,q),this.check()}rotateX(q){return O.lM(this,this,q),this.check()}rotateY(q){return O.uD(this,this,q),this.check()}rotateZ(q){return O.jI(this,this,q),this.check()}rotateXYZ(q){return this.rotateX(q[0]).rotateY(q[1]).rotateZ(q[2])}rotateAxis(q,Pt){return O.U1(this,this,q,Pt),this.check()}scale(q){return O.bA(this,this,Array.isArray(q)?q:[q,q,q]),this.check()}translate(q){return O.Iu(this,this,q),this.check()}transform(q,Pt){return 4===q.length?(Pt=st.fF(Pt||[-0,-0,-0,-0],q,this),(0,rt.IL)(Pt,4),Pt):this.transformAsPoint(q,Pt)}transformAsPoint(q,Pt){const{length:Dt}=q;let It;switch(Dt){case 2:It=Q.fF(Pt||[-0,-0],q,this);break;case 3:It=ot.fF(Pt||[-0,-0,-0],q,this);break;default:throw new Error("Illegal vector")}return(0,rt.IL)(It,q.length),It}transformAsVector(q,Pt){let Dt;switch(q.length){case 2:Dt=(0,G.pb)(Pt||[-0,-0],q,this);break;case 3:Dt=(0,G.pL)(Pt||[-0,-0,-0],q,this);break;default:throw new Error("Illegal vector")}return(0,rt.IL)(Dt,q.length),Dt}transformPoint(q,Pt){return this.transformAsPoint(q,Pt)}transformVector(q,Pt){return this.transformAsPoint(q,Pt)}transformDirection(q,Pt){return this.transformAsVector(q,Pt)}makeRotationX(q){return this.identity().rotateX(q)}makeTranslation(q,Pt,Dt){return this.identity().translate([q,Pt,Dt])}}let W,nt;function gt(Ct){if(Ct>2*Math.PI)throw Error("expected radians")}},3659:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>at});var J=Z(997),rt=Z(3345);function F($,N){if(!$)throw new Error("math.gl assertion ".concat(N))}class Y extends J.Z{get x(){return this[0]}set x(N){this[0]=(0,rt.u5)(N)}get y(){return this[1]}set y(N){this[1]=(0,rt.u5)(N)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let N=0;for(let V=0;V<this.ELEMENTS;++V)N+=this[V]*this[V];return N}magnitudeSquared(){return this.lengthSquared()}distance(N){return Math.sqrt(this.distanceSquared(N))}distanceSquared(N){let V=0;for(let bt=0;bt<this.ELEMENTS;++bt){const X=this[bt]-N[bt];V+=X*X}return(0,rt.u5)(V)}dot(N){let V=0;for(let bt=0;bt<this.ELEMENTS;++bt)V+=this[bt]*N[bt];return(0,rt.u5)(V)}normalize(){const N=this.magnitude();if(0!==N)for(let V=0;V<this.ELEMENTS;++V)this[V]/=N;return this.check()}multiply(...N){for(const V of N)for(let bt=0;bt<this.ELEMENTS;++bt)this[bt]*=V[bt];return this.check()}divide(...N){for(const V of N)for(let bt=0;bt<this.ELEMENTS;++bt)this[bt]/=V[bt];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(N){return this.distance(N)}distanceToSquared(N){return this.distanceSquared(N)}getComponent(N){return F(N>=0&&N<this.ELEMENTS,"index is out of range"),(0,rt.u5)(this[N])}setComponent(N,V){return F(N>=0&&N<this.ELEMENTS,"index is out of range"),this[N]=V,this.check()}addVectors(N,V){return this.copy(N).add(V)}subVectors(N,V){return this.copy(N).subtract(V)}multiplyVectors(N,V){return this.copy(N).multiply(V)}addScaledVector(N,V){return this.add(new this.constructor(N).multiplyScalar(V))}}var G=Z(4822),O=Z(3454),Q=Z(8230);const ot=[0,0,0];let st;class at extends Y{static get ZERO(){return st||(st=new at(0,0,0),Object.freeze(st)),st}constructor(N=0,V=0,bt=0){super(-0,-0,-0),1===arguments.length&&(0,G.kJ)(N)?this.copy(N):(G.vc.debug&&((0,rt.u5)(N),(0,rt.u5)(V),(0,rt.u5)(bt)),this[0]=N,this[1]=V,this[2]=bt)}set(N,V,bt){return this[0]=N,this[1]=V,this[2]=bt,this.check()}copy(N){return this[0]=N[0],this[1]=N[1],this[2]=N[2],this.check()}fromObject(N){return G.vc.debug&&((0,rt.u5)(N.x),(0,rt.u5)(N.y),(0,rt.u5)(N.z)),this[0]=N.x,this[1]=N.y,this[2]=N.z,this.check()}toObject(N){return N.x=this[0],N.y=this[1],N.z=this[2],N}get ELEMENTS(){return 3}get z(){return this[2]}set z(N){this[2]=(0,rt.u5)(N)}angle(N){return O.EU(this,N)}cross(N){return O.kC(this,this,N),this.check()}rotateX({radians:N,origin:V=ot}){return O.lM(this,this,V,N),this.check()}rotateY({radians:N,origin:V=ot}){return O.uD(this,this,V,N),this.check()}rotateZ({radians:N,origin:V=ot}){return O.jI(this,this,V,N),this.check()}transform(N){return this.transformAsPoint(N)}transformAsPoint(N){return O.fF(this,this,N),this.check()}transformAsVector(N){return(0,Q.pL)(this,this,N),this.check()}transformByMatrix3(N){return O.kK(this,this,N),this.check()}transformByMatrix2(N){return(0,Q.eQ)(this,this,N),this.check()}transformByQuaternion(N){return O.VC(this,this,N),this.check()}}},4822:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Bw:()=>G,RW:()=>$,fS:()=>ct,kJ:()=>O,t7:()=>z,uR:()=>at,uZ:()=>nt,vc:()=>F});const J=1/Math.PI*180,rt=1/180*Math.PI,F={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function G(Dt,{precision:It=F.precision}={}){return Dt=function Ct(Dt){return Math.round(Dt/F.EPSILON)*F.EPSILON}(Dt),"".concat(parseFloat(Dt.toPrecision(It)))}function O(Dt){return Array.isArray(Dt)||ArrayBuffer.isView(Dt)&&!(Dt instanceof DataView)}function at(Dt,It){return Pt(Dt,ut=>ut*rt,It)}function $(Dt,It){return Pt(Dt,ut=>ut*J,It)}function nt(Dt,It,ut){return Pt(Dt,re=>Math.max(It,Math.min(ut,re)))}function z(Dt,It,ut){return O(Dt)?Dt.map((re,se)=>z(re,It[se],ut)):ut*It+(1-ut)*Dt}function ct(Dt,It,ut){const re=F.EPSILON;ut&&(F.EPSILON=ut);try{if(Dt===It)return!0;if(O(Dt)&&O(It)){if(Dt.length!==It.length)return!1;for(let se=0;se<Dt.length;++se)if(!ct(Dt[se],It[se]))return!1;return!0}return Dt&&Dt.equals?Dt.equals(It):It&&It.equals?It.equals(Dt):"number"==typeof Dt&&"number"==typeof It&&Math.abs(Dt-It)<=F.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(It))}finally{F.EPSILON=re}}function Pt(Dt,It,ut){if(O(Dt)){const re=Dt;ut=ut||function q(Dt){return Dt.clone?Dt.clone():new Array(Dt.length)}(re);for(let se=0;se<ut.length&&se<re.length;++se)ut[se]=It(Dt[se],se,ut);return ut}return It(Dt)}},8230:(Ye,oe,Z)=>{"use strict";function J(O,Q,ot){const st=Q[0],at=Q[1],$=ot[3]*st+ot[7]*at||1;return O[0]=(ot[0]*st+ot[4]*at)/$,O[1]=(ot[1]*st+ot[5]*at)/$,O}function rt(O,Q,ot){const st=Q[0],at=Q[1],$=Q[2],N=ot[3]*st+ot[7]*at+ot[11]*$||1;return O[0]=(ot[0]*st+ot[4]*at+ot[8]*$)/N,O[1]=(ot[1]*st+ot[5]*at+ot[9]*$)/N,O[2]=(ot[2]*st+ot[6]*at+ot[10]*$)/N,O}function F(O,Q,ot){const st=Q[0],at=Q[1];return O[0]=ot[0]*st+ot[2]*at,O[1]=ot[1]*st+ot[3]*at,O[2]=Q[2],O}Z.d(oe,{eQ:()=>F,pL:()=>rt,pb:()=>J})},3345:(Ye,oe,Z)=>{"use strict";Z.d(oe,{IL:()=>Y,u5:()=>F});var J=Z(4822);function F(Q){if(!Number.isFinite(Q))throw new Error("Invalid number ".concat(Q));return Q}function Y(Q,ot,st=""){if(J.vc.debug&&!function rt(Q,ot){if(Q.length!==ot)return!1;for(let st=0;st<Q.length;++st)if(!Number.isFinite(Q[st]))return!1;return!0}(Q,ot))throw new Error("math.gl: ".concat(st," some fields set to invalid numbers'"));return Q}},4698:(Ye,oe,Z)=>{"use strict";Z.d(oe,{eG:()=>ut,Lu:()=>_t,Xg:()=>Vt,if:()=>Ht,sj:()=>dt,zX:()=>ae,ro:()=>It,up:()=>Wt,Bf:()=>Pt,wl:()=>se,lf:()=>re,w5:()=>Ct,QA:()=>de,CT:()=>Zt,es:()=>q,aW:()=>St});var J=Z(9538);function F(ht,At){const vt=(0,J.fF)([],At,ht);return(0,J.bA)(vt,vt,1/vt[3]),vt}function Y(ht,At){const vt=ht%At;return vt<0?At+vt:vt}function G(ht,At,vt){return vt*At+(1-vt)*ht}function O(ht,At,vt){return ht<At?At:ht>vt?vt:ht}const ot=Math.log2||function Q(ht){return Math.log(ht)*Math.LOG2E};var st=Z(711),at=Z(8235),$=Z(3454);function N(ht,At){if(!ht)throw new Error(At||"@math.gl/web-mercator: assertion failed.")}const V=Math.PI,bt=V/4,X=V/180,tt=180/V,W=512,nt=4003e4,z=85.051129,ct=1.5;function gt(ht){return Math.pow(2,ht)}function Mt(ht){return ot(ht)}function Ct(ht){const[At,vt]=ht;return N(Number.isFinite(At)),N(Number.isFinite(vt)&&vt>=-90&&vt<=90,"invalid latitude"),[W*(At*X+V)/(2*V),W*(V+Math.log(Math.tan(bt+vt*X*.5)))/(2*V)]}function q(ht){const[At,vt]=ht,M=At/W*(2*V)-V,P=2*(Math.atan(Math.exp(vt/W*(2*V)-V))-bt);return[M*tt,P*tt]}function Pt(ht){const{latitude:At}=ht;N(Number.isFinite(At));const vt=Math.cos(At*X);return Mt(nt*vt)-9}function It(ht){const{latitude:At,longitude:vt,highPrecision:M=!1}=ht;N(Number.isFinite(At)&&Number.isFinite(vt));const P=W,U=Math.cos(At*X),pt=P/360,Et=pt/U,Ot=P/nt/U,pe={unitsPerMeter:[Ot,Ot,Ot],metersPerUnit:[1/Ot,1/Ot,1/Ot],unitsPerDegree:[pt,Et,Ot],degreesPerUnit:[1/pt,1/Et,1/Ot]};if(M){const ye=X*Math.tan(At*X)/U,ze=P/nt*ye,Je=ze/Et*Ot;pe.unitsPerDegree2=[0,pt*ye/2,ze],pe.unitsPerMeter2=[Je,0,Je]}return pe}function ut(ht,At){const[vt,M,P]=ht,[U,pt,Et]=At,{unitsPerMeter:Ot,unitsPerMeter2:pe}=It({longitude:vt,latitude:M,highPrecision:!0}),ye=Ct(ht);ye[0]+=U*(Ot[0]+pe[0]*pt),ye[1]+=pt*(Ot[1]+pe[1]*pt);const xe=q(ye),ze=(P||0)+(Et||0);return Number.isFinite(P)||Number.isFinite(Et)?[xe[0],xe[1],ze]:xe}function re(ht){const{height:At,pitch:vt,bearing:M,altitude:P,scale:U,center:pt}=ht,Et=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];st.Iu(Et,Et,[0,0,-P]),st.lM(Et,Et,-vt*X),st.jI(Et,Et,M*X);const Ot=U/At;return st.bA(Et,Et,[Ot,Ot,Ot]),pt&&st.Iu(Et,Et,$.tk([],pt)),Et}function se(ht){const{width:At,height:vt,altitude:M,pitch:P=0,offset:U,center:pt,scale:Et,nearZMultiplier:Ot=1,farZMultiplier:pe=1}=ht;let{fovy:ye=_t(ct)}=ht;void 0!==M&&(ye=_t(M));const xe=ye*X,ze=P*X,Je=dt(ye);let Ve=Je;pt&&(Ve+=pt[2]*Et/Math.cos(ze)/vt);const ln=xe*(.5+(U?U[1]:0)/vt),fn=Math.sin(ln)*Ve/Math.sin(O(Math.PI/2-ze-ln,.01,Math.PI-.01)),dn=Math.sin(ze)*fn+Ve;return{fov:xe,aspect:At/vt,focalDistance:Je,near:Ot,far:Math.min(dn*pe,10*Ve)}}function _t(ht){return 2*Math.atan(.5/ht)*tt}function dt(ht){return.5/Math.tan(.5*ht*X)}function St(ht,At){const[vt,M,P=0]=ht;return N(Number.isFinite(vt)&&Number.isFinite(M)&&Number.isFinite(P)),F(At,[vt,M,P,1])}function Zt(ht,At,vt=0){const[M,P,U]=ht;if(N(Number.isFinite(M)&&Number.isFinite(P),"invalid pixel coordinate"),Number.isFinite(U))return F(At,[M,P,U,1]);const pt=F(At,[M,P,0,1]),Et=F(At,[M,P,1,1]),Ot=pt[2],pe=Et[2];return at.t7([],pt,Et,Ot===pe?0:((vt||0)-Ot)/(pe-Ot))}function Vt(ht){const{width:At,height:vt,bounds:M,minExtent:P=0,maxZoom:U=24,offset:pt=[0,0]}=ht,[[Et,Ot],[pe,ye]]=M,xe=function Ce(ht=0){return"number"==typeof ht?{top:ht,bottom:ht,left:ht,right:ht}:(N(Number.isFinite(ht.top)&&Number.isFinite(ht.bottom)&&Number.isFinite(ht.left)&&Number.isFinite(ht.right)),ht)}(ht.padding),ze=Ct([Et,O(ye,-z,z)]),Je=Ct([pe,O(Ot,-z,z)]),Ve=[Math.max(Math.abs(Je[0]-ze[0]),P),Math.max(Math.abs(Je[1]-ze[1]),P)],ln=[At-xe.left-xe.right-2*Math.abs(pt[0]),vt-xe.top-xe.bottom-2*Math.abs(pt[1])];N(ln[0]>0&&ln[1]>0);const fn=ln[0]/Ve[0],dn=ln[1]/Ve[1],Kt=q([(Je[0]+ze[0])/2+(xe.right-xe.left)/2/fn,(Je[1]+ze[1])/2+(xe.top-xe.bottom)/2/dn]),ge=Math.min(U,ot(Math.abs(Math.min(fn,dn))));return N(Number.isFinite(ge)),{longitude:Kt[0],latitude:Kt[1],zoom:ge}}const jt=Math.PI/180;function ae(ht,At=0){const{width:vt,height:M,unproject:P}=ht,U={targetZ:At},pt=P([0,M],U),Et=P([vt,M],U);let Ot,pe;return(ht.fovy?.5*ht.fovy*jt:Math.atan(.5/ht.altitude))>(90-ht.pitch)*jt-.01?(Ot=ue(ht,0,At),pe=ue(ht,vt,At)):(Ot=P([0,0],U),pe=P([vt,0],U)),[pt,Et,pe,Ot]}function ue(ht,At,vt){const{pixelUnprojectionMatrix:M}=ht,P=F(M,[At,0,1,1]),U=F(M,[At,ht.height,1,1]),pe=q(at.t7([],P,U,(vt*ht.distanceScales.unitsPerMeter[2]-P[2])/(U[2]-P[2])));return pe.push(vt),pe}const He=512;function de(ht){const{width:At,height:vt,pitch:M=0}=ht;let{longitude:P,latitude:U,zoom:pt,bearing:Et=0}=ht;(P<-180||P>180)&&(P=Y(P+180,360)-180),(Et<-180||Et>180)&&(Et=Y(Et+180,360)-180);const Ot=ot(vt/He);if(pt<=Ot)pt=Ot,U=0;else{const pe=vt/2/Math.pow(2,pt),ye=q([0,pe])[1];if(U<ye)U=ye;else{const xe=q([0,He-pe])[1];U>xe&&(U=xe)}}return{width:At,height:vt,longitude:P,latitude:U,zoom:pt,pitch:M,bearing:Et}}const we=.01,Se=["longitude","latitude","zoom"],wt={curve:1.414,speed:1.2};function Ht(ht,At,vt,M){const{startZoom:P,startCenterXY:U,uDelta:pt,w0:Et,u1:Ot,S:pe,rho:ye,rho2:xe,r0:ze}=Nt(ht,At,M);if(Ot<we){const ke={};for(const Kt of Se)ke[Kt]=G(ht[Kt],At[Kt],vt);return ke}const Je=vt*pe,Ve=Math.cosh(ze)/Math.cosh(ze+ye*Je),ln=Et*((Math.cosh(ze)*Math.tanh(ze+ye*Je)-Math.sinh(ze))/xe)/Ot,dn=P+Mt(1/Ve),xn=at.bA([],pt,ln);at.IH(xn,xn,U);const cn=q(xn);return{longitude:cn[0],latitude:cn[1],zoom:dn}}function Wt(ht,At,vt){const M={...wt,...vt},{screenSpeed:P,speed:U,maxDuration:pt}=M,{S:Et,rho:Ot}=Nt(ht,At,M),pe=1e3*Et;let ye;return ye=Number.isFinite(P)?pe/(P/Ot):pe/U,Number.isFinite(pt)&&ye>pt?0:ye}function Nt(ht,At,vt){const M=(vt=Object.assign({},wt,vt)).curve,P=ht.zoom,U=[ht.longitude,ht.latitude],pt=gt(P),Ot=[At.longitude,At.latitude],pe=gt(At.zoom-P),ye=Ct(U),xe=Ct(Ot),ze=at.lu([],xe,ye),Je=Math.max(ht.width,ht.height),Ve=Je/pe,ln=at.kE(ze)*pt,fn=Math.max(ln,we),dn=M*M,xn=(Ve*Ve-Je*Je+dn*dn*fn*fn)/(2*Je*dn*fn),cn=(Ve*Ve-Je*Je-dn*dn*fn*fn)/(2*Ve*dn*fn),ke=Math.log(Math.sqrt(xn*xn+1)-xn),Kt=Math.log(Math.sqrt(cn*cn+1)-cn);return{startZoom:P,startCenterXY:ye,uDelta:ze,w0:Je,u1:ln,S:(Kt-ke)/M,rho:M,rho2:dn,r0:ke,r1:Kt}}},6787:(Ye,oe,Z)=>{"use strict";var J={};Z.r(J),Z.d(J,{Arc:()=>k3,BezierCurve:()=>uI,BoundingRect:()=>$r,Circle:()=>Mp,CompoundPath:()=>R3,Ellipse:()=>I3,Group:()=>br,Image:()=>Uu,IncrementalDisplayable:()=>KOt,Line:()=>wu,LinearGradient:()=>Tp,OrientedBoundingRect:()=>fI,Path:()=>vo,Point:()=>Hr,Polygon:()=>$d,Polyline:()=>qd,RadialGradient:()=>vJ,Rect:()=>aa,Ring:()=>cI,Sector:()=>Xd,Text:()=>da,applyTransform:()=>Bf,clipPointsByRect:()=>wJ,clipRectByRect:()=>iNt,createIcon:()=>VS,extendPath:()=>tNt,extendShape:()=>QOt,getShapeClass:()=>O3,getTransform:()=>oy,groupTransition:()=>BS,initProps:()=>Cl,isElementRemoved:()=>Ob,lineLineIntersect:()=>SJ,linePolygonIntersect:()=>zS,makeImage:()=>_J,makePath:()=>gI,mergePath:()=>Qh,registerShape:()=>Ff,removeElement:()=>Xg,removeElementWithFadeOut:()=>wS,resizePath:()=>bJ,setTooltipConfig:()=>Kb,subPixelOptimize:()=>vI,subPixelOptimizeLine:()=>qb,subPixelOptimizeRect:()=>eNt,transformDirection:()=>_I,traverseElements:()=>Jg,updateProps:()=>va});var rt={};Z.r(rt),Z.d(rt,{areaFactors:()=>ok,bearingToAzimuth:()=>Fy,convertArea:()=>Rct,convertLength:()=>By,degreesToRadians:()=>iu,earthRadius:()=>nu,factors:()=>rk,feature:()=>zc,featureCollection:()=>Ur,geometry:()=>Dct,geometryCollection:()=>Y4,isNumber:()=>ru,isObject:()=>Cs,lengthToDegrees:()=>ak,lengthToRadians:()=>Ny,lineString:()=>ys,lineStrings:()=>Pct,multiLineString:()=>vv,multiPoint:()=>Ax,multiPolygon:()=>dd,point:()=>Ho,points:()=>Act,polygon:()=>Xo,polygons:()=>Ict,radiansToDegrees:()=>_v,radiansToLength:()=>Ix,round:()=>kct,unitsFactors:()=>Tct,validateBBox:()=>Lct,validateId:()=>Oct});var F={};Z.r(F),Z.d(F,{coordAll:()=>Px,coordEach:()=>Kl,coordReduce:()=>X4,featureEach:()=>os,featureReduce:()=>q4,findPoint:()=>Vct,findSegment:()=>Bct,flattenEach:()=>fu,flattenReduce:()=>Fct,geomEach:()=>th,geomReduce:()=>K4,lineEach:()=>J4,lineReduce:()=>tU,propEach:()=>$4,propReduce:()=>Nct,segmentEach:()=>Xm,segmentReduce:()=>Q4});var Y={};Z.r(Y),Z.d(Y,{collectionOf:()=>$m,containsNumber:()=>nU,featureOf:()=>ZC,geojsonType:()=>zct,getCoord:()=>Hs,getCoords:()=>qr,getGeom:()=>ul,getType:()=>Id});var G={};Z.r(G),Z.d(G,{toMercator:()=>Ddt,toWgs84:()=>jU});var O={};Z.r(O),Z.d(O,{randomLineString:()=>Ldt,randomPoint:()=>kdt,randomPolygon:()=>Rdt,randomPosition:()=>oM});var Q={};Z.r(Q),Z.d(Q,{applyFilter:()=>Mk,clusterEach:()=>WU,clusterReduce:()=>Bdt,createBins:()=>ZU,filterProperties:()=>Vdt,getCluster:()=>Fdt,propertiesContainsFilter:()=>YU});var ot={};function st(n){return"function"==typeof n}function at(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Z.r(ot),Z.d(ot,{along:()=>yut,angle:()=>dee,applyFilter:()=>Mk,area:()=>mk,areaFactors:()=>ok,bbox:()=>Uc,bboxClip:()=>wQt,bboxPolygon:()=>gU,bearing:()=>qm,bearingToAngle:()=>Fy,bearingToAzimuth:()=>Fy,bezier:()=>out,bezierSpline:()=>out,booleanClockwise:()=>_k,booleanContains:()=>lte,booleanCrosses:()=>yte,booleanDisjoint:()=>idt,booleanEqual:()=>wte,booleanIntersects:()=>udt,booleanOverlap:()=>bte,booleanParallel:()=>Pte,booleanPointInPolygon:()=>Rs,booleanPointOnLine:()=>eh,booleanWithin:()=>Sut,buffer:()=>Ane,center:()=>dk,centerMean:()=>HU,centerMedian:()=>see,centerOfMass:()=>uKt,centroid:()=>yv,circle:()=>vU,cleanCoords:()=>zy,clone:()=>Su,clusterEach:()=>WU,clusterReduce:()=>Bdt,clusters:()=>Q,clustersDbscan:()=>Mte,clustersKmeans:()=>Dte,collect:()=>Lqt,collectionOf:()=>$m,combine:()=>hKt,concave:()=>kqt,containsNumber:()=>nU,convertArea:()=>Rct,convertDistance:()=>By,convertLength:()=>By,convex:()=>jct,coordAll:()=>Px,coordEach:()=>Kl,coordReduce:()=>X4,createBins:()=>ZU,degrees2radians:()=>iu,degreesToRadians:()=>iu,destination:()=>Np,difference:()=>Mee,dissolve:()=>Rne,distance:()=>Ms,distanceToDegrees:()=>ak,distanceToRadians:()=>Ny,distanceWeight:()=>Edt,earthRadius:()=>nu,ellipse:()=>Sdt,envelope:()=>aut,explode:()=>hk,factors:()=>rk,feature:()=>zc,featureCollection:()=>Ur,featureEach:()=>os,featureOf:()=>ZC,featureReduce:()=>q4,filterProperties:()=>Vdt,findPoint:()=>Vct,findSegment:()=>Bct,flatten:()=>bU,flattenEach:()=>fu,flattenReduce:()=>Fct,flip:()=>Nqt,geojsonType:()=>zct,geomEach:()=>th,geomReduce:()=>K4,geometry:()=>Dct,geometryCollection:()=>Y4,getCluster:()=>Fdt,getCoord:()=>Hs,getCoords:()=>qr,getGeom:()=>ul,getType:()=>Id,greatCircle:()=>pQt,helpers:()=>rt,hexGrid:()=>uft,inside:()=>Rs,interpolate:()=>Wne,intersect:()=>vM,invariant:()=>Y,isNumber:()=>ru,isObject:()=>Cs,isobands:()=>IJt,isolines:()=>W$t,kinks:()=>LKt,length:()=>gk,lengthToDegrees:()=>ak,lengthToRadians:()=>Ny,lineArc:()=>Rut,lineChunk:()=>oQt,lineDistance:()=>gk,lineEach:()=>J4,lineIntersect:()=>Km,lineOffset:()=>jJt,lineOverlap:()=>Uut,lineReduce:()=>tU,lineSegment:()=>Uy,lineSlice:()=>zKt,lineSliceAlong:()=>but,lineSplit:()=>gQt,lineString:()=>ys,lineStringToPolygon:()=>Vut,lineStrings:()=>Pct,lineToPolygon:()=>Vut,mask:()=>zne,meta:()=>F,midpoint:()=>sKt,moranIndex:()=>vee,multiLineString:()=>vv,multiPoint:()=>Ax,multiPolygon:()=>dd,nearest:()=>YC,nearestPoint:()=>YC,nearestPointOnLine:()=>Qm,nearestPointToLine:()=>PKt,planepoint:()=>RKt,point:()=>Ho,pointGrid:()=>Cut,pointOnFeature:()=>mut,pointOnLine:()=>Qm,pointOnSurface:()=>mut,pointToLineDistance:()=>fut,points:()=>Act,pointsWithinPolygon:()=>oU,polygon:()=>Xo,polygonSmooth:()=>mee,polygonTangents:()=>kQt,polygonToLine:()=>KC,polygonToLineString:()=>KC,polygonize:()=>ete,polygons:()=>Ict,projection:()=>G,propEach:()=>$4,propReduce:()=>Nct,propertiesContainsFilter:()=>YU,radians2degrees:()=>_v,radiansToDegrees:()=>_v,radiansToDistance:()=>Ix,radiansToLength:()=>Ix,random:()=>O,randomLineString:()=>Ldt,randomPoint:()=>kdt,randomPolygon:()=>Rdt,randomPosition:()=>oM,rewind:()=>LQt,rhumbBearing:()=>Gy,rhumbDestination:()=>Lx,rhumbDistance:()=>pk,round:()=>kct,sample:()=>eKt,sector:()=>MQt,segmentEach:()=>Xm,segmentReduce:()=>Q4,shortestPath:()=>Ote,simplify:()=>Wqt,square:()=>sut,squareGrid:()=>hft,standardDeviationalEllipse:()=>cee,tag:()=>Qqt,tesselate:()=>vKt,tin:()=>Zct,toMercator:()=>Ddt,toWgs84:()=>jU,transformRotate:()=>Xut,transformScale:()=>qut,transformTranslate:()=>OJt,triangleGrid:()=>fft,truncate:()=>Mut,union:()=>Pne,unitsFactors:()=>Tct,unkinkPolygon:()=>hQt,validateBBox:()=>Lct,validateId:()=>Oct,voronoi:()=>iee,within:()=>oU});const $=at(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function N(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class V{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(st(i))try{i()}catch(o){e=o instanceof $?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{tt(o)}catch(a){e=e??[],a instanceof $?e=[...e,...a.errors]:e.push(a)}}if(e)throw new $(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tt(e);else{if(e instanceof V){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&N(t,e)}remove(e){const{_finalizers:t}=this;t&&N(t,e),e instanceof V&&e._removeParent(this)}}V.EMPTY=(()=>{const n=new V;return n.closed=!0,n})();const bt=V.EMPTY;function X(n){return n instanceof V||n&&"closed"in n&&st(n.remove)&&st(n.add)&&st(n.unsubscribe)}function tt(n){st(n)?n():n.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nt={setTimeout(n,e,...t){const{delegate:i}=nt;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=nt;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function z(n){nt.setTimeout(()=>{const{onUnhandledError:e}=W;if(!e)throw n;e(n)})}function ct(){}const gt=q("C",void 0,void 0);function q(n,e,t){return{kind:n,value:e,error:t}}let Pt=null;function Dt(n){if(W.useDeprecatedSynchronousErrorHandling){const e=!Pt;if(e&&(Pt={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Pt;if(Pt=null,t)throw i}}else n()}class ut extends V{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,X(e)&&e.add(this)):this.destination=Vt}static create(e,t,i){return new _t(e,t,i)}next(e){this.isStopped?Zt(function Ct(n){return q("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zt(function Mt(n){return q("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zt(gt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function se(n,e){return re.call(n,e)}class Tt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){dt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){dt(i)}else dt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dt(t)}}}class _t extends ut{constructor(e,t,i){let r;if(super(),st(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&W.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&se(e.next,o),error:e.error&&se(e.error,o),complete:e.complete&&se(e.complete,o)}):r=e}this.destination=new Tt(r)}}function dt(n){W.useDeprecatedSynchronousErrorHandling?function It(n){W.useDeprecatedSynchronousErrorHandling&&Pt&&(Pt.errorThrown=!0,Pt.error=n)}(n):z(n)}function Zt(n,e){const{onStoppedNotification:t}=W;t&&nt.setTimeout(()=>t(n,e))}const Vt={closed:!0,next:ct,error:function St(n){throw n},complete:ct},Ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function jt(n){return n}function ue(n){return 0===n.length?jt:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function we(n){return n&&n instanceof ut||function de(n){return n&&st(n.next)&&st(n.error)&&st(n.complete)}(n)&&X(n)}(t)?t:new _t(t,i,r);return Dt(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=He(i))((r,o)=>{const a=new _t({next:s=>{try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Ce](){return this}pipe(...t){return ue(t)(this)}toPromise(t){return new(t=He(t))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=e=>new n(e),n})();function He(n){var e;return null!==(e=n??W.Promise)&&void 0!==e?e:Promise}const Se=at(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let wt=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Ht(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Se}next(t){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?bt:(this.currentObservers=null,o.push(t),new V(()=>{this.currentObservers=null,N(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new Ht(e,t),n})();class Ht extends wt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:bt}}function Wt(n){return st(n?.lift)}function Nt(n){return e=>{if(Wt(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,e,t,i,r){return new At(n,e,t,i,r)}class At extends ut{constructor(e,t,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(l){e.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vt(n,e){return Nt((t,i)=>{let r=0;t.subscribe(ht(i,o=>{i.next(n.call(e,o,r++))}))})}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function bn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function xn(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(s,l){!function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}const Dn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fi(n){return st(n?.then)}function sr(n){return st(n[Ce])}function dr(n){return Symbol.asyncIterator&&st(n?.[Symbol.asyncIterator])}function Qi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ha=function Po(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wo(n){return st(n?.[Ha])}function Vi(n){return function We(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(p){return new Promise(function(g,y){o.push([h,p,g,y])>1||s(h,p)})})}function s(h,p){try{!function l(h){h.value instanceof Le?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(g){d(o[0][3],g)}}function c(h){s("next",h)}function u(h){s("throw",h)}function d(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Le(t.read());if(r)return yield Le(void 0);yield yield Le(i)}}finally{t.releaseLock()}})}function sa(n){return st(n?.getReader)}function Ft(n){if(n instanceof Pe)return n;if(null!=n){if(sr(n))return function $t(n){return new Pe(e=>{const t=n[Ce]();if(st(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dn(n))return function Fe(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fi(n))return function en(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,z)})}(n);if(dr(n))return Un(n);if(Wo(n))return function un(n){return new Pe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(sa(n))return function ii(n){return Un(Vi(n))}(n)}throw Qi(n)}function Un(n){return new Pe(e=>{(function Ii(n,e){var t,i,r,o;return function Ve(n,e,t,i){return new(t||(t=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=bn(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ci(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function hr(n,e,t=1/0){return st(e)?hr((i,r)=>vt((o,a)=>e(i,o,r,a))(Ft(n(i,r))),t):("number"==typeof e&&(t=e),Nt((i,r)=>function Ri(n,e,t,i,r,o,a,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=y=>c<i?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let b=!1;Ft(t(y,u++)).subscribe(ht(e,w=>{r?.(w),o?p(w):e.next(w)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){const w=l.shift();a?Ci(e,a,()=>g(w)):g(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(ht(e,p,()=>{d=!0,h()})),()=>{s?.()}}(i,r,n,t)))}function oo(n=1/0){return hr(jt,n)}const ho=new Pe(n=>n.complete());function Li(n){return n&&st(n.schedule)}function as(n){return n[n.length-1]}function Yi(n){return st(as(n))?n.pop():void 0}function Wr(n){return Li(as(n))?n.pop():void 0}function Ja(n,e=0){return Nt((t,i)=>{t.subscribe(ht(i,r=>Ci(i,n,()=>i.next(r),e),()=>Ci(i,n,()=>i.complete(),e),r=>Ci(i,n,()=>i.error(r),e)))})}function ss(n,e=0){return Nt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function kl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{Ci(t,e,()=>{const i=n[Symbol.asyncIterator]();Ci(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Re(n,e){return e?function Me(n,e){if(null!=n){if(sr(n))return function Pr(n,e){return Ft(n).pipe(ss(e),Ja(e))}(n,e);if(Dn(n))return function fr(n,e){return new Pe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(fi(n))return function Or(n,e){return Ft(n).pipe(ss(e),Ja(e))}(n,e);if(dr(n))return kl(n,e);if(Wo(n))return function Os(n,e){return new Pe(t=>{let i;return Ci(t,e,()=>{i=n[Ha](),Ci(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void t.error(a)}o?t.complete():t.next(r)},0,!0)}),()=>st(i?.return)&&i.return()})}(n,e);if(sa(n))return function ie(n,e){return kl(Vi(n),e)}(n,e)}throw Qi(n)}(n,e):Ft(n)}function qe(...n){const e=Wr(n),t=function Ml(n,e){return"number"==typeof as(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ft(i[0]):oo(t)(Re(i,e)):ho}function sn(n={}){const{connector:e=(()=>new wt),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},p=()=>{h(),a=l=void 0,u=d=!1},g=()=>{const y=a;p(),y?.unsubscribe()};return Nt((y,b)=>{c++,!d&&!u&&h();const w=l=l??e();b.add(()=>{c--,0===c&&!d&&!u&&(s=Zn(g,r))}),w.subscribe(b),!a&&c>0&&(a=new _t({next:C=>w.next(C),error:C=>{d=!0,h(),s=Zn(p,t,C),w.error(C)},complete:()=>{u=!0,h(),s=Zn(p,i),w.complete()}}),Ft(y).subscribe(a))})(o)}}function Zn(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new _t({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function ui(n){for(let e in n)if(n[e]===ui)return e;throw Error("Could not find renamed property on target object.")}function mi(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _i(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_i).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function yo(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ns=ui({__forward_ref__:ui});function pr(n){return n.__forward_ref__=pr,n.toString=function(){return _i(this())},n}function Gt(n){return Te(n)?n():n}function Te(n){return"function"==typeof n&&n.hasOwnProperty(Ns)&&n.__forward_ref__===pr}function Ue(n){return n&&!!n.\u0275providers}const Hn="https://g.co/ng/security#xss";class Ke extends Error{constructor(e,t){super(Ti(e,t)),this.code=e}}function Ti(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Pn(n){return"string"==typeof n?n:null==n?"":String(n)}function Hc(n,e){throw new Ke(-201,!1)}function Bo(n,e){null==n&&function $o(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function $e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function On(n){return{providers:n.providers||[],imports:n.imports||[]}}function fo(n){return ts(n,Cc)||ts(n,Tu)}function ts(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fs(n){return n&&(n.hasOwnProperty(Ko)||n.hasOwnProperty(ps))?n[Ko]:null}const Cc=ui({\u0275prov:ui}),Ko=ui({\u0275inj:ui}),Tu=ui({ngInjectableDef:ui}),ps=ui({ngInjectorDef:ui});var Bn=(()=>((Bn=Bn||{})[Bn.Default=0]="Default",Bn[Bn.Host=1]="Host",Bn[Bn.Self=2]="Self",Bn[Bn.SkipSelf=4]="SkipSelf",Bn[Bn.Optional=8]="Optional",Bn))();let Du;function ir(n){const e=Du;return Du=n,e}function ec(n,e,t){const i=fo(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Bn.Optional?null:void 0!==e?e:void Hc(_i(n))}const Zo=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tl={},Co="__NG_DI_FLAG__",ms="ngTempTokenPath",wl="ngTokenPath",Iu=/\n/gm,Dr="\u0275",gu="__source";let ko;function mc(n){const e=ko;return ko=n,e}function el(n,e=Bn.Default){if(void 0===ko)throw new Ke(-203,!1);return null===ko?ec(n,void 0,e):ko.get(n,e&Bn.Optional?null:void 0,e)}function on(n,e=Bn.Default){return(function pc(){return Du}()||el)(Gt(n),e)}function di(n,e=Bn.Default){return on(n,bo(e))}function bo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vl(n){const e=[];for(let t=0;t<n.length;t++){const i=Gt(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Ke(900,!1);let r,o=Bn.Default;for(let a=0;a<i.length;a++){const s=i[a],l=Ts(s);"number"==typeof l?-1===l?r=s.token:o|=l:r=s}e.push(on(r,o))}else e.push(on(i))}return e}function nc(n,e){return n[Co]=e,n.prototype[Co]=e,n}function Ts(n){return n[Co]}function zl(n){return{toString:n}.toString()}var au=(()=>((au=au||{})[au.OnPush=0]="OnPush",au[au.Default=1]="Default",au))(),Ds=(()=>{return(n=Ds||(Ds={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ds;var n})();const xo={},lr=[],fl=ui({\u0275cmp:ui}),Dl=ui({\u0275dir:ui}),ic=ui({\u0275pipe:ui}),Rl=ui({\u0275mod:ui}),As=ui({\u0275fac:ui}),es=ui({__NG_ELEMENT_ID__:ui});let Od=0;function Pi(n){return zl(()=>{const e=gc(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===au.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ds.Emulated,id:"c"+Od++,styles:n.styles||lr,_:null,schemas:n.schemas||null,tView:null};Bs(t);const i=n.dependencies;return t.directiveDefs=xs(i,!1),t.pipeDefs=xs(i,!0),t})}function Mc(n){return Yo(n)||Xs(n)}function nl(n){return null!==n}function yi(n){return zl(()=>({type:n.type,bootstrap:n.bootstrap||lr,declarations:n.declarations||lr,imports:n.imports||lr,exports:n.exports||lr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xu(n,e){if(null==n)return xo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Cn(n){return zl(()=>{const e=gc(n);return Bs(e),e})}function il(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yo(n){return n[fl]||null}function Xs(n){return n[Dl]||null}function us(n){return n[ic]||null}function he(n,e){const t=n[Rl]||null;if(!t&&!0===e)throw new Error(`Type ${_i(n)} does not have '\u0275mod' property.`);return t}function gc(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||lr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xu(n.inputs,e),outputs:Xu(n.outputs)}}function Bs(n){n.features?.forEach(e=>e(n))}function xs(n,e){if(!n)return null;const t=e?us:Mc;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(nl)}const wr=0,Si=1,mr=2,po=3,ds=4,Ro=5,Ao=6,Qo=7,ns=8,Ul=9,Ec=10,Hi=11,Is=12,pl=13,Gl=14,hs=15,gs=16,Vs=17,Jo=18,ws=19,ma=20,Pu=21,Fr=22,ml=1,Hl=2,Tc=7,ta=8,vc=9,Lo=10;function mo(n){return Array.isArray(n)&&"object"==typeof n[ml]}function jl(n){return Array.isArray(n)&&!0===n[ml]}function jc(n){return 0!=(4&n.flags)}function is(n){return n.componentOffset>-1}function $a(n){return 1==(1&n.flags)}function Wl(n){return!!n.template}function v(n){return 0!=(256&n[mr])}function Yt(n,e){return n.hasOwnProperty(As)?n[As]:null}class le{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ve(){return Ae}function Ae(n){return n.type.prototype.ngOnChanges&&(n.setInput=kn),gn}function gn(){const n=ei(this),e=n?.current;if(e){const t=n.previous;if(t===xo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function kn(n,e,t,i){const r=this.declaredInputs[t],o=ei(n)||function Oi(n,e){return n[Vn]=e}(n,{previous:xo,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[r];a[r]=new le(l&&l.currentValue,e,s===xo),n[i]=e}ve.ngInherit=!0;const Vn="__ngSimpleChanges__";function ei(n){return n[Vn]||null}const Sr=function(n,e,t){},Vo="svg";function m(n){for(;Array.isArray(n);)n=n[wr];return n}function x(n,e){return m(e[n])}function D(n,e){return m(e[n.index])}function xt(n,e){return n.data[e]}function qt(n,e){return n[e]}function _e(n,e){const t=e[n];return mo(t)?t:t[wr]}function mn(n){return 64==(64&n[mr])}function qn(n,e){return null==e?null:n[e]}function ai(n){n[Jo]=0}function gi(n,e){n[Ro]+=e;let t=n,i=n[po];for(;null!==i&&(1===e&&1===t[Ro]||-1===e&&0===t[Ro]);)i[Ro]+=e,t=i,i=i[po]}const Jn={lFrame:Qp(null),bindingsEnabled:!0};function $p(){return Jn.bindingsEnabled}function Xn(){return Jn.lFrame.lView}function na(){return Jn.lFrame.tView}function Fd(n){return Jn.lFrame.contextLView=n,n[ns]}function Bd(n){return Jn.lFrame.contextLView=null,n}function Wc(){let n=qp();for(;null!==n&&64===n.type;)n=n.parent;return n}function qp(){return Jn.lFrame.currentTNode}function rh(n,e){const t=Jn.lFrame;t.currentTNode=n,t.isParent=e}function o0(){return Jn.lFrame.isParent}function dg(){Jn.lFrame.isParent=!1}function Zc(){const n=Jn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Kp(){return Jn.lFrame.bindingIndex++}function pf(n,e){const t=Jn.lFrame;t.bindingIndex=t.bindingRootIndex=n,s0(e)}function s0(n){Jn.lFrame.currentDirectiveIndex=n}function ow(n){const e=Jn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function aw(){return Jn.lFrame.currentQueryIndex}function ah(n){Jn.lFrame.currentQueryIndex=n}function sw(n){const e=n[Si];return 2===e.type?e.declTNode:1===e.type?n[Ao]:null}function l0(n,e,t){if(t&Bn.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Bn.Host||(r=sw(o),null===r||(o=o[hs],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Jn.lFrame=Lv();return i.currentTNode=e,i.lView=n,!0}function Rv(n){const e=Lv(),t=n[Si];Jn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Lv(){const n=Jn.lFrame,e=null===n?null:n.child;return null===e?Qp(n):e}function Qp(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Gr(){const n=Jn.lFrame;return Jn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ov=Gr;function Nv(){const n=Gr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vu(){return Jn.lFrame.selectedIndex}function Yl(n){Jn.lFrame.selectedIndex=n}function Al(){const n=Jn.lFrame;return xt(n.tView,n.selectedIndex)}function mf(){Jn.lFrame.currentNamespace=Vo}function gd(){!function Ru(){Jn.lFrame.currentNamespace=null}()}function c0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??(n.contentHooks=[])).push(-t,a),s&&((n.contentHooks??(n.contentHooks=[])).push(t,s),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,s)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function Yf(n,e,t){dw(n,e,3,t)}function Fv(n,e,t,i){(3&n[mr])===t&&dw(n,e,t,i)}function u0(n,e){let t=n[mr];(3&t)===e&&(t&=2047,t+=1,n[mr]=t)}function dw(n,e,t,i){const o=i??-1,a=e.length-1;let s=0;for(let l=void 0!==i?65535&n[Jo]:0;l<a;l++)if("number"==typeof e[l+1]){if(s=e[l],null!=i&&s>=i)break}else e[l]<0&&(n[Jo]+=65536),(s<o||-1==o)&&(nE(n,t,e,l),n[Jo]=(4294901760&n[Jo])+l+2),l++}function nE(n,e,t,i){const r=t[i]<0,o=t[i+1],s=n[r?-t[i]:t[i]];if(r){if(n[mr]>>11<n[Jo]>>16&&(3&n[mr])===e){n[mr]+=2048,Sr(4,s,o);try{o.call(s)}finally{Sr(5,s,o)}}}else{Sr(4,s,o);try{o.call(s)}finally{Sr(5,s,o)}}}const hg=-1;class tm{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function vf(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],a=t[i++],s=t[i++];n.setAttribute(e,a,s,o)}else{const o=r,a=t[++i];oE(o)?n.setProperty(e,o,a):n.setAttribute(e,o,a),i++}}return i}function hw(n){return 3===n||4===n||6===n}function oE(n){return 64===n.charCodeAt(0)}function Vv(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||aE(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function aE(n,e,t,i,r){let o=0,a=n.length;if(-1===e)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function fw(n){return n!==hg}function zv(n){return 32767&n}function Uv(n,e){let t=function sE(n){return n>>16}(n),i=e;for(;t>0;)i=i[hs],t--;return i}let pw=!0;function f0(n){const e=pw;return pw=n,e}const vd=255,lE=5;let cE=0;const Ah={};function p0(n,e){const t=uE(n,e);if(-1!==t)return t;const i=e[Si];i.firstCreatePass&&(n.injectorIndex=e.length,gw(i.data,n),gw(e,null),gw(i.blueprint,null));const r=Gv(n,e),o=n.injectorIndex;if(fw(r)){const a=zv(r),s=Uv(r,e),l=s[Si].data;for(let c=0;c<8;c++)e[o+c]=s[a+c]|l[a+c]}return e[o+8]=r,o}function gw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function uE(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Gv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=_E(r),null===i)return hg;if(t++,r=r[hs],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return hg}function m0(n,e,t){!function mw(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(es)&&(i=t[es]),null==i&&(i=t[es]=cE++);const r=i&vd;e.data[n+(r>>lE)]|=1<<r}(n,e,t)}function dE(n,e,t){if(t&Bn.Optional||void 0!==n)return n;Hc()}function hE(n,e,t,i){if(t&Bn.Optional&&void 0===i&&(i=null),!(t&(Bn.Self|Bn.Host))){const r=n[Ul],o=ir(void 0);try{return r?r.get(e,i,t&Bn.Optional):ec(e,i,t&Bn.Optional)}finally{ir(o)}}return dE(i,0,t)}function fE(n,e,t,i=Bn.Default,r){if(null!==n){if(1024&e[mr]){const a=function DL(n,e,t,i,r){let o=n,a=e;for(;null!==o&&null!==a&&1024&a[mr]&&!(256&a[mr]);){const s=pE(o,a,t,i|Bn.Self,Ah);if(s!==Ah)return s;let l=o.parent;if(!l){const c=a[Pu];if(c){const u=c.get(t,Ah,i);if(u!==Ah)return u}l=_E(a),a=a[hs]}o=l}return r}(n,e,t,i,Ah);if(a!==Ah)return a}const o=pE(n,e,t,i,Ah);if(o!==Ah)return o}return hE(e,t,i,r)}function pE(n,e,t,i,r){const o=function TL(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(es)?n[es]:void 0;return"number"==typeof e?e>=0?e&vd:vE:e}(t);if("function"==typeof o){if(!l0(e,n,i))return i&Bn.Host?dE(r,0,i):hE(e,t,i,r);try{const a=o(i);if(null!=a||i&Bn.Optional)return a;Hc()}finally{Ov()}}else if("number"==typeof o){let a=null,s=uE(n,e),l=hg,c=i&Bn.Host?e[gs][Ao]:null;for((-1===s||i&Bn.SkipSelf)&&(l=-1===s?Gv(n,e):e[s+8],l!==hg&&gE(i,!1)?(a=e[Si],s=zv(l),e=Uv(l,e)):s=-1);-1!==s;){const u=e[Si];if(mE(o,s,u.data)){const d=EL(s,e,t,a,i,c);if(d!==Ah)return d}l=e[s+8],l!==hg&&gE(i,e[Si].data[s+8]===c)&&mE(o,s,e)?(a=u,s=zv(l),e=Uv(l,e)):s=-1}}return r}function EL(n,e,t,i,r,o){const a=e[Si],s=a.data[n+8],u=Hv(s,a,t,null==i?is(s)&&pw:i!=a&&0!=(3&s.type),r&Bn.Host&&o===s);return null!==u?Ih(e,a,u,s):Ah}function Hv(n,e,t,i,r){const o=n.providerIndexes,a=e.data,s=1048575&o,l=n.directiveStart,u=o>>20,h=r?s+u:n.directiveEnd;for(let p=i?s:s+u;p<h;p++){const g=a[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(r){const p=a[l];if(p&&Wl(p)&&p.type===t)return l}return null}function Ih(n,e,t,i){let r=n[t];const o=e.data;if(function iE(n){return n instanceof tm}(r)){const a=r;a.resolving&&function Rr(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ci(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pn(n)}(o[t]));const s=f0(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?ir(a.injectImpl):null;l0(n,i,Bn.Default);try{r=n[t]=a.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function uw(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const a=Ae(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,a)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&ir(l),f0(s),a.resolving=!1,Ov()}}return r}function mE(n,e,t){return!!(t[e+(n>>lE)]&1<<n)}function gE(n,e){return!(n&Bn.Self||n&Bn.Host&&e)}class fg{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return fE(this._tNode,this._lView,e,bo(i),t)}}function vE(){return new fg(Wc(),Xn())}function Br(n){return zl(()=>{const e=n.prototype.constructor,t=e[As]||vw(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[As]||vw(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function vw(n){return Te(n)?()=>{const e=vw(Gt(n));return e&&e()}:Yt(n)}function _E(n){const e=n[Si],t=e.type;return 2===t?e.declTNode:1===t?n[Ao]:null}function Yc(n){return function ML(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(hw(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Wc(),n)}const mg="__parameters__";function Xf(n,e,t){return zl(()=>{const i=function g0(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return s.annotation=a,s;function s(l,c,u){const d=l.hasOwnProperty(mg)?l[mg]:Object.defineProperty(l,mg,{value:[]})[mg];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class hn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qu(n,e){n.forEach(t=>Array.isArray(t)?Qu(t,e):e(t))}function xE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function gg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _d(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ju(n,e,t){let i=Ph(n,e);return i>=0?n[1|i]=t:(i=~i,function Ll(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function v0(n,e){const t=Ph(n,e);if(t>=0)return n[1|t]}function Ph(n,e){return function ww(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),a=n[o<<t];if(e===a)return o<<t;a>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const em=nc(Xf("Inject",n=>({token:n})),-1),gl=nc(Xf("Optional"),8),zo=nc(Xf("SkipSelf"),4);var td=(()=>((td=td||{})[td.Important=1]="Important",td[td.DashCase=2]="DashCase",td))();const Rw=new Map;let OE=0;const Zv="__ngContext__";function _u(n,e){mo(e)?(n[Zv]=e[ma],function WL(n){Rw.set(n[ma],n)}(e)):n[Zv]=e}let jn;function Wn(n,e){return jn(n,e)}function Ji(n){const e=n[po];return jl(e)?e[po]:e}function $n(n){return Qr(n[pl])}function li(n){return Qr(n[ds])}function Qr(n){for(;null!==n&&!jl(n);)n=n[ds];return n}function ji(n,e,t,i,r){if(null!=i){let o,a=!1;jl(i)?o=i:mo(i)&&(a=!0,i=i[wr]);const s=m(i);0===n&&null!==t?null==r?qv(e,t,s):xf(e,t,s,r||null,!0):1===n&&null!==t?xf(e,t,s,r||null,!0):2===n?function $L(n,e,t){const i=rm(n,e);i&&function VE(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,s,a):3===n&&e.destroyNode(s),null!=o&&function s_t(n,e,t,i,r){const o=t[Tc];o!==m(t)&&ji(e,n,i,o,r);for(let s=Lo;s<t.length;s++){const l=t[s];Bw(l[Si],l,n,e,i,o)}}(e,n,o,t,r)}}function Tr(n,e,t){return n.createElement(e,t)}function bf(n,e){const t=n[vc],i=t.indexOf(e),r=e[po];512&e[mr]&&(e[mr]&=-513,gi(r,-1)),t.splice(i,1)}function im(n,e){if(n.length<=Lo)return;const t=Lo+e,i=n[t];if(i){const r=i[Vs];null!==r&&r!==n&&bf(r,i),e>0&&(n[t-1][ds]=i[ds]);const o=gg(n,Lo+e);!function Jr(n,e){Bw(n,e,e[Hi],2,null,null),e[wr]=null,e[Ao]=null}(i[Si],i);const a=o[ws];null!==a&&a.detachView(o[Si]),i[po]=null,i[ds]=null,i[mr]&=-65}return i}function Xv(n,e){if(!(128&e[mr])){const t=e[Hi];t.destroyNode&&Bw(n,e,t,3,null,null),function kh(n){let e=n[pl];if(!e)return Kf(n[Si],n);for(;e;){let t=null;if(mo(e))t=e[pl];else{const i=e[Lo];i&&(t=i)}if(!t){for(;e&&!e[ds]&&e!==n;)mo(e)&&Kf(e[Si],e),e=e[po];null===e&&(e=n),mo(e)&&Kf(e[Si],e),t=e&&e[ds]}e=t}}(e)}}function Kf(n,e){if(!(128&e[mr])){e[mr]&=-65,e[mr]|=128,function BE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof tm)){const o=t[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=r[o[a]],l=o[a+1];Sr(4,s,l);try{l.call(s)}finally{Sr(5,s,l)}}else{Sr(4,r,o);try{o.call(r)}finally{Sr(5,r,o)}}}}}(n,e),function Qf(n,e){const t=n.cleanup,i=e[Qo];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const a=t[o+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),o+=2}else{const a=i[r=t[o+1]];t[o].call(a)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[Qo]=null}}(n,e),1===e[Si].type&&e[Hi].destroy();const t=e[Vs];if(null!==t&&jl(e[po])){t!==e[po]&&bf(t,e);const i=e[ws];null!==i&&i.detachView(n)}!function Lw(n){Rw.delete(n[ma])}(e)}}function Nw(n,e,t){return function $v(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[wr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ds.None||o===Ds.Emulated)return null}return D(i,t)}}(n,e.parent,t)}function xf(n,e,t,i,r){n.insertBefore(e,t,i,r)}function qv(n,e,t){n.appendChild(e,t)}function Kv(n,e,t,i,r){null!==i?xf(n,e,t,i,r):qv(n,e,t)}function rm(n,e){return n.parentNode(e)}function XG(n,e,t){return qG(n,e,t)}let YL,GE,QL,HE,qG=function $G(n,e,t){return 40&n.type?D(n,t):null};function zE(n,e,t,i){const r=Nw(n,i,e),o=e[Hi],s=XG(i.parent||e[Ao],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Kv(o,r,t[l],s,!1);else Kv(o,r,t,s,!1);void 0!==YL&&YL(o,i,e,t,r)}function UE(n,e){if(null!==e){const t=e.type;if(3&t)return D(e,n);if(4&t)return XL(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return UE(n,i);{const r=n[e.index];return jl(r)?XL(-1,r):m(r)}}if(32&t)return Wn(e,n)()||m(n[e.index]);{const i=QG(n,e);return null!==i?Array.isArray(i)?i[0]:UE(Ji(n[gs]),i):UE(n,e.next)}}return null}function QG(n,e){return null!==e?n[gs][Ao].projection[e.projection]:null}function XL(n,e){const t=Lo+n+1;if(t<e.length){const i=e[t],r=i[Si].firstChild;if(null!==r)return UE(i,r)}return e[Tc]}function qL(n,e,t,i,r,o,a){for(;null!=t;){const s=i[t.index],l=t.type;if(a&&0===e&&(s&&_u(m(s),i),t.flags|=2),32!=(32&t.flags))if(8&l)qL(n,e,t.child,i,r,o,!1),ji(e,n,r,s,o);else if(32&l){const c=Wn(t,i);let u;for(;u=c();)ji(e,n,r,u,o);ji(e,n,r,s,o)}else 16&l?JG(n,e,i,t,r,o):ji(e,n,r,s,o);t=a?t.projectionNext:t.next}}function Bw(n,e,t,i,r,o){qL(t,i,n.firstChild,e,r,o,!1)}function JG(n,e,t,i,r,o){const a=t[gs],l=a[Ao].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ji(e,n,r,l[c],o);else qL(n,e,l,a[po],r,o,!0)}function tH(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eH(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&vf(n,e,i),null!==r&&tH(n,e,r),null!==o&&function c_t(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function S0(n){return function KL(){if(void 0===GE&&(GE=null,Zo.trustedTypes))try{GE=Zo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return GE}()?.createHTML(n)||n}function oH(n){return function JL(){if(void 0===HE&&(HE=null,Zo.trustedTypes))try{HE=Zo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return HE}()?.createScriptURL(n)||n}class Qv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hn})`}}class p_t extends Qv{getTypeName(){return"HTML"}}class m_t extends Qv{getTypeName(){return"Style"}}class g_t extends Qv{getTypeName(){return"Script"}}class v_t extends Qv{getTypeName(){return"URL"}}class __t extends Qv{getTypeName(){return"ResourceURL"}}function lh(n){return n instanceof Qv?n.changingThisBreaksApplicationSecurity:n}function Jf(n,e){const t=function y_t(n){return n instanceof Qv&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Hn})`)}return t===e}class M_t{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(S0(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class E_t{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=S0(e),t}}const D_t=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jE(n){return(n=String(n)).match(D_t)?n:"unsafe:"+n}function om(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Vw(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const sH=om("area,br,col,hr,img,wbr"),lH=om("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cH=om("rp,rt"),t2=Vw(sH,Vw(lH,om("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vw(cH,om("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vw(cH,lH)),e2=om("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uH=Vw(e2,om("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),om("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A_t=om("script,style,template");class I_t{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!t2.hasOwnProperty(t))return this.sanitizedSomething=!0,!A_t.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),a=o.name,s=a.toLowerCase();if(!uH.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;e2[s]&&(l=jE(l)),this.buf.push(" ",a,'="',dH(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();t2.hasOwnProperty(t)&&!sH.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dH(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const P_t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k_t=/([^\#-~ |!])/g;function dH(n){return n.replace(/&/g,"&amp;").replace(P_t,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(k_t,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let WE;function hH(n,e){let t=null;try{WE=WE||function aH(n){const e=new E_t(n);return function T_t(){try{return!!(new window.DOMParser).parseFromString(S0(""),"text/html")}catch{return!1}}()?new M_t(e):e}(n);let i=e?String(e):"";t=WE.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=WE.getInertBodyElement(i)}while(i!==o);return S0((new I_t).sanitizeChildren(n2(t)||t))}finally{if(t){const i=n2(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function n2(n){return"content"in n&&function R_t(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Us=(()=>((Us=Us||{})[Us.NONE=0]="NONE",Us[Us.HTML=1]="HTML",Us[Us.STYLE=2]="STYLE",Us[Us.SCRIPT=3]="SCRIPT",Us[Us.URL=4]="URL",Us[Us.RESOURCE_URL=5]="RESOURCE_URL",Us))();function fH(n){const e=zw();return e?e.sanitize(Us.URL,n)||"":Jf(n,"URL")?lh(n):jE(Pn(n))}function pH(n){const e=zw();if(e)return oH(e.sanitize(Us.RESOURCE_URL,n)||"");if(Jf(n,"ResourceURL"))return oH(lh(n));throw new Ke(904,!1)}function zw(){const n=Xn();return n&&n[Is]}const C0=new hn("ENVIRONMENT_INITIALIZER"),gH=new hn("INJECTOR",-1),vH=new hn("INJECTOR_DEF_TYPES");class _H{get(e,t=Tl){if(t===Tl){const i=new Error(`NullInjectorError: No provider for ${_i(e)}!`);throw i.name="NullInjectorError",i}return t}}function U_t(...n){return{\u0275providers:yH(0,n),\u0275fromNgModule:!0}}function yH(n,...e){const t=[],i=new Set;let r;return Qu(e,o=>{const a=o;r2(a,t,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&bH(r,t),t}function bH(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];o2(r,o=>{e.push(o)})}}function r2(n,e,t,i){if(!(n=Gt(n)))return!1;let r=null,o=Fs(n);const a=!o&&Yo(n);if(o||a){if(a&&!a.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Fs(l),!o)return!1;r=l}const s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)r2(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;i.add(r);try{Qu(o.imports,u=>{r2(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&bH(c,e)}if(!s){const c=Yt(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:lr},{provide:vH,useValue:r,multi:!0},{provide:C0,useValue:()=>on(r),multi:!0})}const l=o.providers;null==l||s||o2(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function o2(n,e){for(let t of n)Ue(t)&&(t=t.\u0275providers),Array.isArray(t)?o2(t,e):e(t)}const G_t=ui({provide:String,useValue:ui});function a2(n){return null!==n&&"object"==typeof n&&G_t in n}function Jv(n){return"function"==typeof n}const s2=new hn("Set Injector scope."),ZE={},j_t={};let l2;function YE(){return void 0===l2&&(l2=new _H),l2}class tp{}class SH extends tp{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,u2(e,a=>this.processProvider(a)),this.records.set(gH,M0(void 0,this)),r.has("environment")&&this.records.set(tp,M0(void 0,this));const o=this.records.get(s2);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vH.multi,lr,Bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=mc(this),i=ir(void 0);try{return e()}finally{mc(t),ir(i)}}get(e,t=Tl,i=Bn.Default){this.assertNotDestroyed(),i=bo(i);const r=mc(this),o=ir(void 0);try{if(!(i&Bn.SkipSelf)){let s=this.records.get(e);if(void 0===s){const l=function $_t(n){return"function"==typeof n||"object"==typeof n&&n instanceof hn}(e)&&fo(e);s=l&&this.injectableDefInScope(l)?M0(c2(e),ZE):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}return(i&Bn.Self?YE():this.parent).get(e,t=i&Bn.Optional&&t===Tl?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ms]=a[ms]||[]).unshift(_i(e)),r)throw a;return function Ys(n,e,t,i){const r=n[ms];throw e[gu]&&r.unshift(e[gu]),n.message=function hl(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Dr?n.slice(2):n;let r=_i(e);if(Array.isArray(e))r=e.map(_i).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):_i(s)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Iu,"\n  ")}`}("\n"+n.message,r,t,i),n[wl]=r,n[ms]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ir(o),mc(r)}}resolveInjectorInitializers(){const e=mc(this),t=ir(void 0);try{const i=this.get(C0.multi,lr,Bn.Self);for(const r of i)r()}finally{mc(e),ir(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(_i(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(e){let t=Jv(e=Gt(e))?e:Gt(e&&e.provide);const i=function Z_t(n){return a2(n)?M0(void 0,n.useValue):M0(CH(n),ZE)}(e);if(Jv(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=M0(void 0,ZE,!0),r.factory=()=>Vl(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===ZE&&(t.value=j_t,t.value=t.factory()),"object"==typeof t.value&&t.value&&function X_t(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Gt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function c2(n){const e=fo(n),t=null!==e?e.factory:Yt(n);if(null!==t)return t;if(n instanceof hn)throw new Ke(204,!1);if(n instanceof Function)return function W_t(n){const e=n.length;if(e>0)throw _d(e,"?"),new Ke(204,!1);const t=function qo(n){return n&&(n[Cc]||n[Tu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ke(204,!1)}function CH(n,e,t){let i;if(Jv(n)){const r=Gt(n);return Yt(r)||c2(r)}if(a2(n))i=()=>Gt(n.useValue);else if(function wH(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Vl(n.deps||[]));else if(function xH(n){return!(!n||!n.useExisting)}(n))i=()=>on(Gt(n.useExisting));else{const r=Gt(n&&(n.useClass||n.provide));if(!function Y_t(n){return!!n.deps}(n))return Yt(r)||c2(r);i=()=>new r(...Vl(n.deps))}return i}function M0(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function u2(n,e){for(const t of n)Array.isArray(t)?u2(t,e):t&&Ue(t)?u2(t.\u0275providers,e):e(t)}class q_t{}class MH{}class Q_t{resolveComponentFactory(e){throw function K_t(n){const e=Error(`No component factory found for ${_i(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let t_=(()=>{class n{}return n.NULL=new Q_t,n})();function J_t(){return E0(Wc(),Xn())}function E0(n,e){return new Ni(D(n,e))}let Ni=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=J_t,n})();function tyt(n){return n instanceof Ni?n.nativeElement:n}class Uw{}let am=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function eyt(){const n=Xn(),t=_e(Wc().index,n);return(mo(t)?t:n)[Hi]}(),n})(),nyt=(()=>{class n{}return n.\u0275prov=$e({token:n,providedIn:"root",factory:()=>null}),n})();class e_{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iyt=new e_("15.2.8"),d2={},h2="ngOriginalError";function f2(n){return n[h2]}class sm{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&f2(e);for(;t&&f2(t);)t=f2(t);return t||null}}function lm(n){return n instanceof Function?n():n}function DH(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const AH="ng-template";function pyt(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const a=n[i++];if(t&&"class"===o&&-1!==DH(a.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function IH(n){return 4===n.type&&n.value!==AH}function myt(n,e,t){return e===(4!==n.type||t?n.value:AH)}function gyt(n,e,t){let i=4;const r=n.attrs||[],o=function yyt(n){for(let e=0;e<n.length;e++)if(hw(n[e]))return e;return n.length}(r);let a=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!myt(n,l,t)||""===l&&1===e.length){if(wf(i))return!1;a=!0}}else{const c=8&i?l:e[++s];if(8&i&&null!==n.attrs){if(!pyt(n.attrs,c,t)){if(wf(i))return!1;a=!0}continue}const d=vyt(8&i?"class":l,r,IH(n),t);if(-1===d){if(wf(i))return!1;a=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==DH(p,c,0)||2&i&&c!==h){if(wf(i))return!1;a=!0}}}}else{if(!a&&!wf(i)&&!wf(l))return!1;if(a&&wf(l))continue;a=!1,i=l|1&i}}return wf(i)||a}function wf(n){return 0==(1&n)}function vyt(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=e[++r];for(;"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function byt(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function PH(n,e,t=!1){for(let i=0;i<e.length;i++)if(gyt(n,e[i],t))return!0;return!1}function xyt(n,e){t:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue t;return!0}}return!1}function kH(n,e){return n?":not("+e.trim()+")":e}function wyt(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const s=n[++t];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!wf(a)&&(e+=kH(o,r),r=""),i=a,o=o||!wf(i);t++}return""!==r&&(e+=kH(o,r)),e}const No={};function bi(n){RH(na(),Xn(),vu()+n,!1)}function RH(n,e,t,i){if(!i)if(3==(3&e[mr])){const o=n.preOrderCheckHooks;null!==o&&Yf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Fv(e,o,0,t)}Yl(t)}function FH(n,e=null,t=null,i){const r=BH(n,e,t,i);return r.resolveInjectorInitializers(),r}function BH(n,e=null,t=null,i,r=new Set){const o=[t||lr,U_t(n)];return i=i||("object"==typeof n?void 0:_i(n)),new SH(o,e||YE(),i||null,r)}let Fu=(()=>{class n{static create(t,i){if(Array.isArray(t))return FH({name:""},i,t,"");{const r=t.name??"";return FH({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Tl,n.NULL=new _H,n.\u0275prov=$e({token:n,providedIn:"any",factory:()=>on(gH)}),n.__NG_ELEMENT_ID__=-1,n})();function ee(n,e=Bn.Default){const t=Xn();return null===t?on(n,e):fE(Wc(),t,Gt(n),e)}function _g(){throw new Error("invalid")}function WH(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];ah(t[i]),a.contentQueries(2,e[o],o)}}}function $E(n,e,t,i,r,o,a,s,l,c,u){const d=e.blueprint.slice();return d[wr]=r,d[mr]=76|i,(null!==u||n&&1024&n[mr])&&(d[mr]|=1024),ai(d),d[po]=d[hs]=n,d[ns]=t,d[Ec]=a||n&&n[Ec],d[Hi]=s||n&&n[Hi],d[Is]=l||n&&n[Is]||null,d[Ul]=c||n&&n[Ul]||null,d[Ao]=o,d[ma]=function jL(){return OE++}(),d[Pu]=u,d[gs]=2==e.type?n[gs]:d,d}function A0(n,e,t,i,r){let o=n.data[e];if(null===o)o=function _2(n,e,t,i,r){const o=qp(),a=o0(),l=n.data[e]=function Xyt(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function xL(){return Jn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const a=function ff(){const n=Jn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return rh(o,!0),o}function Gw(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function y2(n,e,t){Rv(e);try{const i=n.viewQuery;null!==i&&D2(1,i,t);const r=n.template;null!==r&&ZH(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WH(n,e),n.staticViewQueries&&D2(2,n.viewQuery,t);const o=n.components;null!==o&&function Wyt(n,e){for(let t=0;t<e.length;t++)p0t(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[mr]&=-5,Nv()}}function qE(n,e,t,i){const r=e[mr];if(128!=(128&r)){Rv(e);try{ai(e),function kv(n){return Jn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ZH(n,e,t,2,i);const a=3==(3&r);if(a){const c=n.preOrderCheckHooks;null!==c&&Yf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Fv(e,c,0,null),u0(e,0)}if(function h0t(n){for(let e=$n(n);null!==e;e=li(e)){if(!e[Hl])continue;const t=e[vc];for(let i=0;i<t.length;i++){const r=t[i];512&r[mr]||gi(r[po],1),r[mr]|=512}}}(e),function d0t(n){for(let e=$n(n);null!==e;e=li(e))for(let t=Lo;t<e.length;t++){const i=e[t],r=i[Si];mn(i)&&qE(r,i,r.template,i[ns])}}(e),null!==n.contentQueries&&WH(n,e),a){const c=n.contentCheckHooks;null!==c&&Yf(e,c)}else{const c=n.contentHooks;null!==c&&Fv(e,c,1),u0(e,1)}!function Hyt(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Yl(~r);else{const o=r,a=t[++i],s=t[++i];pf(a,o),s(2,e[o])}}}finally{Yl(-1)}}(n,e);const s=n.components;null!==s&&function jyt(n,e){for(let t=0;t<e.length;t++)f0t(n,e[t])}(e,s);const l=n.viewQuery;if(null!==l&&D2(2,l,i),a){const c=n.viewCheckHooks;null!==c&&Yf(e,c)}else{const c=n.viewHooks;null!==c&&Fv(e,c,2),u0(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[mr]&=-41,512&e[mr]&&(e[mr]&=-513,gi(e[po],-1))}finally{Nv()}}}function ZH(n,e,t,i,r){const o=vu(),a=2&i;try{Yl(-1),a&&e.length>Fr&&RH(n,e,Fr,!1),Sr(a?2:0,r),t(i,r)}finally{Yl(o),Sr(a?3:1,r)}}function b2(n,e,t){if(jc(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}}function x2(n,e,t){$p()&&(function e0t(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;is(t)&&function l0t(n,e,t){const i=D(e,n),r=YH(t),o=n[Ec],a=KE(n,$E(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||p0(t,e),_u(i,e);const a=t.initialInputs;for(let s=r;s<o;s++){const l=n.data[s],c=Ih(e,n,s,t);_u(c,e),null!==a&&c0t(0,s-r,c,l,0,a),Wl(l)&&(_e(t.index,e)[ns]=Ih(e,n,s,t))}}(n,e,t,D(t,e)),64==(64&t.flags)&&QH(n,e,t))}function w2(n,e,t=D){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],s=-1===a?t(e,n):n[a];n[r++]=s}}}function YH(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=S2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function S2(n,e,t,i,r,o,a,s,l,c){const u=Fr+i,d=u+r,h=function Zyt(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:No);return t}(u,d),p="function"==typeof c?c():c;return h[Si]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function XH(n,e,t,i){const r=tj(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&ej(n).push(i,r.length-1))}function $H(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?qH(t,e,r,o):i.hasOwnProperty(r)&&qH(t,e,i[r],o)}return t}function qH(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ch(n,e,t,i,r,o,a,s){const l=D(e,t);let u,c=e.inputs;!s&&null!=c&&(u=c[i])?(A2(n,t,u,i,r),is(e)&&function Kyt(n,e){const t=_e(e,n);16&t[mr]||(t[mr]|=32)}(t,e.index)):3&e.type&&(i=function qyt(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,o.setProperty(l,i,r))}function C2(n,e,t,i){if($p()){const r=null===i?null:{"":-1},o=function i0t(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const a=t[o];if(PH(e,a.selectors,!1))if(i||(i=[]),Wl(a))if(null!==a.findHostDirectiveDefs){const s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),i.unshift(...s,a),M2(n,e,s.length)}else i.unshift(a),M2(n,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,t);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&KH(n,e,t,a,r,s),r&&function r0t(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Ke(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Vv(t.mergedAttrs,t.attrs)}function KH(n,e,t,i,r,o){for(let c=0;c<i.length;c++)m0(p0(t,e),n,i[c].type);!function a0t(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=Gw(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Vv(t.mergedAttrs,u.hostAttrs),s0t(n,t,e,l,u),o0t(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),s=!0),l++}!function $yt(n,e,t){const r=e.directiveEnd,o=n.data,a=e.attrs,s=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,g=h?h.outputs:null;l=$H(d.inputs,u,l,h?h.inputs:null),c=$H(d.outputs,u,c,g);const y=null===l||null===a||IH(e)?null:u0t(l,u,a);s.push(y)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=l,e.outputs=c}(n,t,o)}function QH(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=function eE(){return Jn.lFrame.currentDirectiveIndex}();try{Yl(o);for(let s=i;s<r;s++){const l=n.data[s],c=e[s];s0(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&n0t(l,c)}}finally{Yl(-1),s0(a)}}function n0t(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function M2(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function o0t(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Wl(e)&&(t[""]=n)}}function s0t(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Yt(r.type)),a=new tm(o,Wl(r),ee);n.blueprint[i]=a,t[i]=a,function Jyt(n,e,t,i,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const s=~e.index;(function t0t(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=s&&a.push(s),a.push(t,i,o)}}(n,e,i,Gw(n,t,r.hostVars,No),r)}function ep(n,e,t,i,r,o){const a=D(n,e);!function E2(n,e,t,i,r,o,a){if(null==o)n.removeAttribute(e,r,t);else{const s=null==a?Pn(o):a(o,i||"",r);n.setAttribute(e,r,s,t)}}(e[Hi],a,o,n.value,t,i,r)}function c0t(n,e,t,i,r,o){const a=o[e];if(null!==a){const s=i.setInput;for(let l=0;l<a.length;){const c=a[l++],u=a[l++],d=a[l++];null!==s?i.setInput(t,d,c,u):t[u]=d}}}function u0t(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const a=n[o];for(let s=0;s<a.length;s+=2)if(a[s]===e){i.push(o,a[s+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function JH(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function f0t(n,e){const t=_e(e,n);if(mn(t)){const i=t[Si];48&t[mr]?qE(i,t,i.template,t[ns]):t[Ro]>0&&T2(t)}}function T2(n){for(let i=$n(n);null!==i;i=li(i))for(let r=Lo;r<i.length;r++){const o=i[r];if(mn(o))if(512&o[mr]){const a=o[Si];qE(a,o,a.template,o[ns])}else o[Ro]>0&&T2(o)}const t=n[Si].components;if(null!==t)for(let i=0;i<t.length;i++){const r=_e(t[i],n);mn(r)&&r[Ro]>0&&T2(r)}}function p0t(n,e){const t=_e(e,n),i=t[Si];(function m0t(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),y2(i,t,t[ns])}function KE(n,e){return n[pl]?n[Gl][ds]=e:n[pl]=e,n[Gl]=e,e}function QE(n){for(;n;){n[mr]|=32;const e=Ji(n);if(v(n)&&!e)return n;n=e}return null}function JE(n,e,t,i=!0){const r=e[Ec];r.begin&&r.begin();try{qE(n,e,n.template,t)}catch(a){throw i&&ij(e,a),a}finally{r.end&&r.end()}}function D2(n,e,t){ah(0),e(n,t)}function tj(n){return n[Qo]||(n[Qo]=[])}function ej(n){return n.cleanup||(n.cleanup=[])}function nj(n,e,t){return(null===n||Wl(n))&&(t=function _(n){for(;Array.isArray(n);){if("object"==typeof n[ml])return n;n=n[wr]}return null}(t[e.index])),t[Hi]}function ij(n,e){const t=n[Ul],i=t?t.get(sm,null):null;i&&i.handleError(e)}function A2(n,e,t,i,r){for(let o=0;o<t.length;){const a=t[o++],s=t[o++],l=e[a],c=n.data[a];null!==c.setInput?c.setInput(l,r,i,s):l[s]=r}}function tT(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const s=e[a];"number"==typeof s?o=s:1==o?r=yo(r,s):2==o&&(i=yo(i,s+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function eT(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(m(o)),jl(o))for(let s=Lo;s<o.length;s++){const l=o[s],c=l[Si].firstChild;null!==c&&eT(l[Si],l,c,i)}const a=t.type;if(8&a)eT(n,e,t.child,i);else if(32&a){const s=Wn(t,e);let l;for(;l=s();)i.push(l)}else if(16&a){const s=QG(e,t);if(Array.isArray(s))i.push(...s);else{const l=Ji(e[gs]);eT(l[Si],l,s,i,!0)}}t=r?t.projectionNext:t.next}return i}class Hw{get rootNodes(){const e=this._lView,t=e[Si];return eT(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ns]}set context(e){this._lView[ns]=e}get destroyed(){return 128==(128&this._lView[mr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[po];if(jl(e)){const t=e[ta],i=t?t.indexOf(this):-1;i>-1&&(im(e,i),gg(t,i))}this._attachedToViewContainer=!1}Xv(this._lView[Si],this._lView)}onDestroy(e){XH(this._lView[Si],this._lView,null,e)}markForCheck(){QE(this._cdRefInjectingView||this._lView)}detach(){this._lView[mr]&=-65}reattach(){this._lView[mr]|=64}detectChanges(){JE(this._lView[Si],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nu(n,e){Bw(n,e,e[Hi],2,null,null)}(this._lView[Si],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=e}}class g0t extends Hw{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;JE(e[Si],e,e[ns],!1)}checkNoChanges(){}get context(){return null}}class rj extends t_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Yo(e);return new jw(t,this.ngModule)}}function oj(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _0t{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=bo(i);const r=this.injector.get(e,d2,i);return r!==d2||t===d2?r:this.parentInjector.get(e,t,i)}}class jw extends MH{get inputs(){return oj(this.componentDef.inputs)}get outputs(){return oj(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Syt(n){return n.map(wyt).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof tp?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new _0t(e,o):e,s=a.get(Uw,null);if(null===s)throw new Ke(407,!1);const l=a.get(nyt,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function Yyt(n,e,t){return n.selectRootElement(e,t===Ds.ShadowDom)}(c,i,this.componentDef.encapsulation):Tr(c,u,function v0t(n){const e=n.toLowerCase();return"svg"===e?Vo:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=S2(0,null,null,1,0,null,null,null,null,null),g=$E(null,p,null,h,null,null,s,c,l,a,null);let y,b;Rv(g);try{const w=this.componentDef;let C,E=null;w.findHostDirectiveDefs?(C=[],E=new Map,w.findHostDirectiveDefs(w,C,E),C.push(w)):C=[w];const k=function b0t(n,e){const t=n[Si],i=Fr;return n[i]=e,A0(t,i,2,"#host",null)}(g,d),j=function x0t(n,e,t,i,r,o,a,s){const l=r[Si];!function w0t(n,e,t,i){for(const r of n)e.mergedAttrs=Vv(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(tT(e,e.mergedAttrs,!0),null!==t&&eH(i,t,e))}(i,n,e,a);const c=o.createRenderer(e,t),u=$E(r,YH(t),null,t.onPush?32:16,r[n.index],n,o,c,s||null,null,null);return l.firstCreatePass&&M2(l,n,i.length-1),KE(r,u),r[n.index]=u}(k,d,w,C,g,s,c);b=xt(p,Fr),d&&function C0t(n,e,t,i){if(i)vf(n,t,["ng-version",iyt.full]);else{const{attrs:r,classes:o}=function Cyt(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!wf(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&vf(n,t,r),o&&o.length>0&&tH(n,t,o.join(" "))}}(c,w,d,i),void 0!==t&&function M0t(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,t),y=function S0t(n,e,t,i,r,o){const a=Wc(),s=r[Si],l=D(a,r);KH(s,r,a,t,null,i);for(let u=0;u<t.length;u++)_u(Ih(r,s,a.directiveStart+u,a),r);QH(s,r,a),l&&_u(l,r);const c=Ih(r,s,a.directiveStart+a.componentOffset,a);if(n[ns]=r[ns]=c,null!==o)for(const u of o)u(c,e);return b2(s,a,n),c}(j,w,C,E,g,[E0t]),y2(p,g,null)}finally{Nv()}return new y0t(this.componentType,y,E0(b,g),g,b)}}class y0t extends q_t{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new g0t(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;A2(o[Si],o,r,e,t),QE(_e(this._tNode.index,o))}}get injector(){return new fg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function E0t(){const n=Wc();c0(Xn()[Si],n)}function ti(n){let e=function aj(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Wl(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ke(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=I2(n.inputs),a.declaredInputs=I2(n.declaredInputs),a.outputs=I2(n.outputs);const s=r.hostBindings;s&&I0t(n,s);const l=r.viewQuery,c=r.contentQueries;if(l&&D0t(n,l),c&&A0t(n,c),mi(n.inputs,r.inputs),mi(n.declaredInputs,r.declaredInputs),mi(n.outputs,r.outputs),Wl(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===ti&&(t=!1)}}e=Object.getPrototypeOf(e)}!function T0t(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Vv(r.hostAttrs,t=Vv(t,r.hostAttrs))}}(i)}function I2(n){return n===xo?{}:n===lr?[]:n}function D0t(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function A0t(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function I0t(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function nT(n){return!!P2(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function P2(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function nd(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Mr(n,e,t,i){const r=Xn();return nd(r,Kp(),e)&&(na(),ep(Al(),r,n,e,t,i)),Mr}function co(n,e,t,i,r,o,a,s){const l=Xn(),c=na(),u=n+Fr,d=c.firstCreatePass?function z0t(n,e,t,i,r,o,a,s,l){const c=e.consts,u=A0(e,n,4,a||null,qn(c,s));C2(e,t,u,qn(c,l)),c0(e,u);const d=u.tView=S2(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,a):c.data[u];rh(d,!1);const h=l[Hi].createComment("");zE(c,l,h,d),_u(h,l),KE(l,l[u]=JH(h,l,h,d)),$a(d)&&x2(c,l,d),null!=a&&w2(l,d,s)}function id(n){return qt(function tE(){return Jn.lFrame.contextLView}(),Fr+n)}function Mi(n,e,t){const i=Xn();return nd(i,Kp(),e)&&ch(na(),Al(),i,n,e,i[Hi],t,!1),Mi}function k2(n,e,t,i,r){const a=r?"class":"style";A2(n,t,e.inputs[a],a,i)}function Rn(n,e,t,i){const r=Xn(),o=na(),a=Fr+n,s=r[Hi],l=o.firstCreatePass?function G0t(n,e,t,i,r,o){const a=e.consts,l=A0(e,n,2,i,qn(a,r));return C2(e,t,l,qn(a,o)),null!==l.attrs&&tT(l,l.attrs,!1),null!==l.mergedAttrs&&tT(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(a,o,r,e,t,i):o.data[a],c=r[a]=Tr(s,e,function cw(){return Jn.lFrame.currentNamespace}()),u=$a(l);return rh(l,!0),eH(s,c,l),32!=(32&l.flags)&&zE(o,r,c,l),0===function oc(){return Jn.lFrame.elementDepthCount}()&&_u(c,r),function $u(){Jn.lFrame.elementDepthCount++}(),u&&(x2(o,r,l),b2(o,l,r)),null!==i&&w2(r,l),Rn}function Gn(){let n=Wc();o0()?dg():(n=n.parent,rh(n,!1));const e=n;!function Nd(){Jn.lFrame.elementDepthCount--}();const t=na();return t.firstCreatePass&&(c0(t,n),jc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function rE(n){return 0!=(8&n.flags)}(e)&&k2(t,e,Xn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function h0(n){return 0!=(16&n.flags)}(e)&&k2(t,e,Xn(),e.stylesWithoutHost,!1),Gn}function kr(n,e,t,i){return Rn(n,e,t,i),Gn(),kr}function yg(n,e,t){const i=Xn(),r=na(),o=n+Fr,a=r.firstCreatePass?function H0t(n,e,t,i,r){const o=e.consts,a=qn(o,i),s=A0(e,n,8,"ng-container",a);return null!==a&&tT(s,a,!0),C2(e,t,s,qn(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,t):r.data[o];rh(a,!0);const s=i[o]=i[Hi].createComment("");return zE(r,i,s,a),_u(s,i),$a(a)&&(x2(r,i,a),b2(r,a,i)),null!=t&&w2(i,a),yg}function bg(){let n=Wc();const e=na();return o0()?dg():(n=n.parent,rh(n,!1)),e.firstCreatePass&&(c0(e,n),jc(n)&&e.queries.elementEnd(n)),bg}function rd(n,e,t){return yg(n,e,t),bg(),rd}function xg(){return Xn()}function Zw(n){return!!n&&"function"==typeof n.then}function yj(n){return!!n&&"function"==typeof n.subscribe}const R2=yj;function gr(n,e,t,i){const r=Xn(),o=na(),a=Wc();return bj(o,r,r[Hi],a,n,e,i),gr}function L2(n,e){const t=Wc(),i=Xn(),r=na();return bj(r,i,nj(ow(r.data),t,i),t,n,e),L2}function bj(n,e,t,i,r,o,a){const s=$a(i),c=n.firstCreatePass&&ej(n),u=e[ns],d=tj(e);let h=!0;if(3&i.type||a){const y=D(i,e),b=a?a(y):y,w=d.length,C=a?k=>a(m(k[i.index])):i.index;let E=null;if(!a&&s&&(E=function j0t(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===t&&r[o+1]===i){const s=e[Qo],l=r[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,e,r,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=wj(i,e,u,o,!1);const k=t.listen(b,r,o);d.push(o,k),c&&c.push(r,C,w,w+1)}}else o=wj(i,e,u,o,!1);const p=i.outputs;let g;if(h&&null!==p&&(g=p[r])){const y=g.length;if(y)for(let b=0;b<y;b+=2){const j=e[g[b]][g[b+1]].subscribe(o),H=d.length;d.push(o,j),c&&c.push(r,i.index,H,-(H+1))}}}function xj(n,e,t,i){try{return Sr(6,e,t),!1!==t(i)}catch(r){return ij(n,r),!1}finally{Sr(7,e,t)}}function wj(n,e,t,i,r){return function o(a){if(a===Function)return i;QE(n.componentOffset>-1?_e(n.index,e):e);let l=xj(e,t,i,a),c=o.__ngNextListenerFn__;for(;c;)l=xj(e,t,c,a)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function qs(n=1){return function Jp(n){return(Jn.lFrame.contextLView=function lw(n,e){for(;n>0;)e=e[hs],n--;return e}(n,Jn.lFrame.contextLView))[ns]}(n)}function W0t(n,e){let t=null;const i=function _yt(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?PH(n,o,!0):xyt(i,o))return r}else t=r}return t}function qa(n){const e=Xn()[gs][Ao];if(!e.projection){const i=e.projection=_d(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const a=n?W0t(o,n):0;null!==a&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function qi(n,e=0,t){const i=Xn(),r=na(),o=A0(r,Fr+n,16,null,t||null);null===o.projection&&(o.projection=e),dg(),32!=(32&o.flags)&&function a_t(n,e,t){JG(e[Hi],0,e,t,Nw(n,t,e),XG(t.parent||e[Ao],t,e))}(r,i,o)}function rT(n,e){return n<<17|e<<2}function wg(n){return n>>17&32767}function N2(n){return 2|n}function i_(n){return(131068&n)>>2}function F2(n,e){return-131069&n|e<<2}function B2(n){return 1|n}function kj(n,e,t,i,r){const o=n[t+1],a=null===e;let s=i?wg(o):i_(o),l=!1;for(;0!==s&&(!1===l||a);){const u=n[s+1];K0t(n[s],e)&&(l=!0,n[s+1]=i?B2(u):N2(u)),s=i?wg(u):i_(u)}l&&(n[t+1]=i?N2(o):B2(o))}function K0t(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ph(n,e)>=0}function Vd(n,e,t){return Sf(n,e,t,!1),Vd}function no(n,e){return Sf(n,e,null,!0),no}function Sf(n,e,t,i){const r=Xn(),o=na(),a=function oh(n){const e=Jn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function zj(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[vu()],a=function Vj(n,e){return e>=n.expandoStartIndex}(n,t);(function jj(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!a&&(e=!1),e=function abt(n,e,t,i){const r=ow(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Yw(t=V2(null,n,e,t,i),e.attrs,i),o=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=V2(r,n,e,t,i),null===o){let l=function sbt(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==i_(i))return n[wg(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=V2(null,n,e,l[1],i),l=Yw(l,e.attrs,i),function lbt(n,e,t,i){n[wg(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function cbt(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Yw(i,n[o].hostAttrs,t);return Yw(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function $0t(n,e,t,i,r,o){let a=o?e.classBindings:e.styleBindings,s=wg(a),l=i_(a);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ph(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=wg(n[s+1]);n[i+1]=rT(h,s),0!==h&&(n[h+1]=F2(n[h+1],i)),n[s+1]=function Y0t(n,e){return 131071&n|e<<17}(n[s+1],i)}else n[i+1]=rT(s,0),0!==s&&(n[s+1]=F2(n[s+1],i)),s=i;else n[i+1]=rT(l,0),0===s?s=i:n[l+1]=F2(n[l+1],i),l=i;c&&(n[i+1]=N2(n[i+1])),kj(n,u,i,!0),kj(n,u,i,!1),function q0t(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ph(o,e)>=0&&(t[i+1]=B2(t[i+1]))}(e,u,n,i,o),a=rT(s,l),o?e.classBindings=a:e.styleBindings=a}(r,o,e,t,a,i)}}(o,n,a,i),e!==No&&nd(r,a,e)&&function Gj(n,e,t,i,r,o,a,s){if(!(3&e.type))return;const l=n.data,c=l[s+1],u=function X0t(n){return 1==(1&n)}(c)?Hj(l,e,t,r,i_(c),a):void 0;oT(u)||(oT(o)||function Z0t(n){return 2==(2&n)}(c)&&(o=Hj(l,null,t,r,s,a)),function l_t(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:td.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=td.Important),n.setStyle(t,i,r,o))}}(i,a,x(vu(),t),r,o))}(o,o.data[vu()],r,r[Hi],n,r[a+1]=function fbt(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=_i(lh(n)))),n}(e,t),i,a)}function V2(n,e,t,i,r){let o=null;const a=t.directiveEnd;let s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<a&&(o=e[s],i=Yw(i,o.hostAttrs,r),o!==n);)s++;return null!==n&&(t.directiveStylingLast=s),i}function Yw(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ju(n,a,!!t||e[++o]))}return void 0===n?null:n}function Hj(n,e,t,i,r,o){const a=null===e;let s;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===No&&(h=d?lr:void 0);let p=d?v0(h,i):u===i?h:void 0;if(c&&!oT(p)&&(p=v0(l,i)),oT(p)&&(s=p,a))return s;const g=n[r+1];r=a?wg(g):i_(g)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(s=v0(l,i))}return s}function oT(n){return void 0!==n}function ao(n,e=""){const t=Xn(),i=na(),r=n+Fr,o=i.firstCreatePass?A0(i,r,1,e,null):i.data[r],a=t[r]=function Zr(n,e){return n.createText(e)}(t[Hi],e);zE(i,t,a,o),rh(o,!1)}function z0(n){return op("",n,""),z0}function op(n,e,t){const i=Xn(),r=function P0(n,e,t,i){return nd(n,Kp(),t)?e+Pn(t)+i:No}(i,n,e,t);return r!==No&&function cm(n,e,t){const i=x(e,n);!function eo(n,e,t){n.setValue(e,t)}(n[Hi],i,t)}(i,vu(),r),op}function Lh(n,e,t){const i=Xn();return nd(i,Kp(),e)&&ch(na(),Al(),i,n,e,i[Hi],t,!0),Lh}function z2(n,e,t){const i=Xn();if(nd(i,Kp(),e)){const o=na(),a=Al();ch(o,a,i,n,e,nj(ow(o.data),a,i),t,!0)}return z2}const G0="en-US";let uW=G0;function H2(n,e,t,i,r){if(n=Gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)H2(n[o],e,t,i,r);else{const o=na(),a=Xn();let s=Jv(n)?n:Gt(n.provide),l=CH(n);const c=Wc(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Jv(n)||!n.multi){const p=new tm(l,r,ee),g=W2(s,e,r?u:u+h,d);-1===g?(m0(p0(c,a),o,s),j2(o,n,e.length),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(p),a.push(p)):(t[g]=p,a[g]=p)}else{const p=W2(s,e,u+h,d),g=W2(s,e,u,u+h),b=g>=0&&t[g];if(r&&!b||!r&&!(p>=0&&t[p])){m0(p0(c,a),o,s);const w=function Pxt(n,e,t,i,r){const o=new tm(n,t,ee);return o.multi=[],o.index=e,o.componentProviders=0,OW(o,r,i&&!t),o}(r?Ixt:Axt,t.length,r,i,l);!r&&b&&(t[g].providerFactory=w),j2(o,n,e.length,0),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(w),a.push(w)}else j2(o,n,p>-1?p:g,OW(t[r?g:p],l,!r&&i));!r&&i&&b&&t[g].componentProviders++}}}function j2(n,e,t,i){const r=Jv(e),o=function H_t(n){return!!n.useClass}(e);if(r||o){const l=(o?Gt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function OW(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function W2(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Axt(n,e,t,i){return Z2(this.multi,[])}function Ixt(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=Ih(t,t[Si],this.providerFactory.index,i);o=s.slice(0,a),Z2(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],Z2(r,o);return o}function Z2(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ai(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Dxt(n,e,t){const i=na();if(i.firstCreatePass){const r=Wl(n);H2(t,i.data,i.blueprint,r,!0),H2(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class H0{}class NW{}class FW extends H0{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rj(this);const i=he(e);this._bootstrapComponents=lm(i.bootstrap),this._r3Injector=BH(e,t,[{provide:H0,useValue:this},{provide:t_,useValue:this.componentFactoryResolver}],_i(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Y2 extends NW{constructor(e){super(),this.moduleType=e}create(e){return new FW(this.moduleType,e)}}class Rxt extends H0{constructor(e,t,i){super(),this.componentFactoryResolver=new rj(this),this.instance=null;const r=new SH([...e,{provide:H0,useValue:this},{provide:t_,useValue:this.componentFactoryResolver}],t||YE(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uT(n,e,t=null){return new Rxt(n,e,t).injector}let Lxt=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=yH(0,t.type),r=i.length>0?uT([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$e({token:n,providedIn:"environment",factory:()=>new n(on(tp))}),n})();function X2(n){n.getStandaloneInjector=e=>e.get(Lxt).getOrCreateStandaloneInjector(n)}function WW(n,e,t,i,r,o){const a=e+t;return nd(n,a,r)?function np(n,e,t){return n[e]=t}(n,a+1,o?i.call(o,r):i(r)):function Jw(n,e){const t=n[e];return t===No?void 0:t}(n,a+1)}function dT(n,e){const t=na();let i;const r=n+Fr;t.firstCreatePass?(i=function Qxt(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Yt(i.type)),a=ir(ee);try{const s=f0(!1),l=o();return f0(s),function U0t(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Xn(),r,l),l}finally{ir(a)}}function hT(n,e,t){const i=n+Fr,r=Xn(),o=qt(r,i);return function t1(n,e){return n[Si].data[e].pure}(r,i)?WW(r,Zc(),e,o.transform,t,o):o.transform(t)}function q2(n){return e=>{setTimeout(n,void 0,e)}}const _r=class iwt extends wt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),a=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=q2(o),r&&(r=q2(r)),a&&(a=q2(a)));const s=super.subscribe({next:r,error:o,complete:a});return e instanceof V&&e.add(s),s}};function rwt(){return this._results[Symbol.iterator]()}class um{get changes(){return this._changes||(this._changes=new _r)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=um.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=rwt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function vs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Ku(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ic=(()=>{class n{}return n.__NG_ELEMENT_ID__=swt,n})();const owt=Ic,awt=class extends owt{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=$E(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Vs]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[ws];return null!==a&&(r[ws]=a.createEmbeddedView(i)),y2(i,r,e),new Hw(r)}};function swt(){return fT(Wc(),Xn())}function fT(n,e){return 4&n.type?new awt(e,n,E0(n,e)):null}let yc=(()=>{class n{}return n.__NG_ELEMENT_ID__=lwt,n})();function lwt(){return QW(Wc(),Xn())}const cwt=yc,qW=class extends cwt{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return E0(this._hostTNode,this._hostLView)}get injector(){return new fg(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gv(this._hostTNode,this._hostLView);if(fw(e)){const t=Uv(e,this._hostLView),i=zv(e);return new fg(t[Si].data[i+8],t)}return new fg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=KW(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Lo}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedView(t||{},o);return this.insert(a,r),a}createComponent(e,t,i,r,o){const a=e&&!function jv(n){return"function"==typeof n}(e);let s;if(a)s=t;else{const d=t||{};s=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=a?e:new jw(Yo(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(a?c:this.parentInjector).get(tp,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,s),u}insert(e,t){const i=e._lView,r=i[Si];if(function En(n){return jl(n[po])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[po],h=new qW(d,d[Ao],d[po]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;!function Ac(n,e,t,i){const r=Lo+i,o=t.length;i>0&&(t[r-1][ds]=e),i<o-Lo?(e[ds]=t[r],xE(t,Lo+i,e)):(t.push(e),e[ds]=null),e[po]=t;const a=e[Vs];null!==a&&t!==a&&function yf(n,e){const t=n[vc];e[gs]!==e[po][po][gs]&&(n[Hl]=!0),null===t?n[vc]=[e]:t.push(e)}(a,e);const s=e[ws];null!==s&&s.insertView(n),e[mr]|=64}(r,i,a,o);const s=XL(o,a),l=i[Hi],c=rm(l,a[Tc]);return null!==c&&function Dc(n,e,t,i,r,o){i[wr]=r,i[Ao]=e,Bw(n,i,t,1,r,o)}(r,a[Ao],l,i,c,s),e.attachToViewContainerRef(),xE(K2(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=KW(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=im(this._lContainer,t);i&&(gg(K2(this._lContainer),t),Xv(i[Si],i))}detach(e){const t=this._adjustIndex(e,-1),i=im(this._lContainer,t);return i&&null!=gg(K2(this._lContainer),t)?new Hw(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function KW(n){return n[ta]}function K2(n){return n[ta]||(n[ta]=[])}function QW(n,e){let t;const i=e[n.index];if(jl(i))t=i;else{let r;if(8&n.type)r=m(i);else{const o=e[Hi];r=o.createComment("");const a=D(n,e);xf(o,rm(o,a),r,function o_t(n,e){return n.nextSibling(e)}(o,a),!1)}e[n.index]=t=JH(i,e,r,n),KE(e,t)}return new qW(t,n,e)}class Q2{constructor(e){this.queryList=e,this.matches=null}clone(){return new Q2(this.queryList)}setDirty(){this.queryList.setDirty()}}class J2{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const a=t.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new J2(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==iZ(e,t).matches&&this.queries[t].setDirty()}}class JW{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class tO{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new tO(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class eO{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new eO(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,uwt(t,o)),this.matchTNodeWithReadOption(e,t,Hv(t,e,o,!1,!1))}else i===Ic?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hv(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ni||r===yc||r===Ic&&4&t.type)this.addMatch(t.index,-2);else{const o=Hv(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function uwt(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function hwt(n,e,t,i){return-1===t?function dwt(n,e){return 11&n.type?E0(n,e):4&n.type?fT(n,e):null}(e,n):-2===t?function fwt(n,e,t){return t===Ni?E0(e,n):t===Ic?fT(e,n):t===yc?QW(e,n):void 0}(n,e,i):Ih(n,n[Si],t,e)}function tZ(n,e,t,i){const r=e[ws].queries[i];if(null===r.matches){const o=n.data,a=t.matches,s=[];for(let l=0;l<a.length;l+=2){const c=a[l];s.push(c<0?null:hwt(e,o[c],a[l+1],t.metadata.read))}r.matches=s}return r.matches}function nO(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const a=tZ(n,e,r,t);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)i.push(a[s/2]);else{const c=o[s+1],u=e[-l];for(let d=Lo;d<u.length;d++){const h=u[d];h[Vs]===h[po]&&nO(h[Si],h,c,i)}if(null!==u[vc]){const d=u[vc];for(let h=0;h<d.length;h++){const p=d[h];nO(p[Si],p,c,i)}}}}}return i}function Fi(n){const e=Xn(),t=na(),i=aw();ah(i+1);const r=iZ(t,i);if(n.dirty&&function Ge(n){return 4==(4&n[mr])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?nO(t,e,i,[]):tZ(t,e,r,i);n.reset(o,tyt),n.notifyOnChanges()}return!0}return!1}function fs(n,e,t){const i=na();i.firstCreatePass&&(nZ(i,new JW(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),eZ(i,Xn(),e)}function Uo(n,e,t,i){const r=na();if(r.firstCreatePass){const o=Wc();nZ(r,new JW(e,t,i),o.index),function mwt(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}eZ(r,Xn(),t)}function Bi(){return function pwt(n,e){return n[ws].queries[e].queryList}(Xn(),aw())}function eZ(n,e,t){const i=new um(4==(4&t));XH(n,e,i,i.destroy),null===e[ws]&&(e[ws]=new J2),e[ws].queries.push(new Q2(i))}function nZ(n,e,t){null===n.queries&&(n.queries=new tO),n.queries.track(new eO(e,t))}function iZ(n,e){return n.queries.getByIndex(e)}function j0(n,e){return fT(n,e)}function mT(...n){}const gT=new hn("Application Initializer");let vT=(()=>{class n{constructor(t){this.appInits=t,this.resolve=mT,this.reject=mT,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Zw(o))t.push(o);else if(R2(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});t.push(a)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(on(gT,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n1=new hn("AppId",{providedIn:"root",factory:function xZ(){return`${lO()}${lO()}${lO()}`}});function lO(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wZ=new hn("Platform Initializer"),_T=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$c=new hn("AnimationModuleType");let Owt=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ap=new hn("LocaleId",{providedIn:"root",factory:()=>di(ap,Bn.Optional|Bn.SkipSelf)||function Nwt(){return typeof $localize<"u"&&$localize.locale||G0}()});class Bwt{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let SZ=(()=>{class n{compileModuleSync(t){return new Y2(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=lm(he(t).declarations).reduce((a,s)=>{const l=Yo(s);return l&&a.push(new jw(l)),a},[]);return new Bwt(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uwt=(()=>Promise.resolve(0))();function cO(n){typeof Zone>"u"?Uwt.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _r(!1),this.onMicrotaskEmpty=new _r(!1),this.onStable=new _r(!1),this.onError=new _r(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Gwt(){let n=Zo.requestAnimationFrame,e=Zo.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Wwt(n){const e=()=>{!function jwt(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zo,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,dO(n),n.isCheckStableRunning=!0,uO(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),dO(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,a,s)=>{try{return EZ(n),t.invokeTask(r,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),TZ(n)}},onInvoke:(t,i,r,o,a,s,l)=>{try{return EZ(n),t.invoke(r,o,a,s,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),TZ(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,dO(n),uO(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vr.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(vr.isInAngularZone())throw new Ke(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,Hwt,mT,mT);try{return o.runTask(a,t,i)}finally{o.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Hwt={};function uO(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dO(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EZ(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TZ(n){n._nesting--,uO(n)}class Zwt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _r,this.onMicrotaskEmpty=new _r,this.onStable=new _r,this.onError=new _r}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const DZ=new hn(""),yT=new hn("");let pO,hO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pO||(function Ywt(n){pO=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vr.assertNotInAngularZone(),cO(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cO(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(on(vr),on(fO),on(yT))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),fO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return pO?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const dm=!1;let Sg=null;const AZ=new hn("AllowMultipleToken"),mO=new hn("PlatformDestroyListeners"),IZ=new hn("appBootstrapListener");class PZ{constructor(e,t){this.name=e,this.token=t}}function RZ(n,e,t=[]){const i=`Platform: ${e}`,r=new hn(i);return(o=[])=>{let a=gO();if(!a||a.injector.get(AZ,!1)){const s=[...t,...o,{provide:r,useValue:!0}];n?n(s):function qwt(n){if(Sg&&!Sg.get(AZ,!1))throw new Ke(400,!1);Sg=n;const e=n.get(OZ);(function kZ(n){const e=n.get(wZ,null);e&&e.forEach(t=>t())})(n)}(function LZ(n=[],e){return Fu.create({name:e,providers:[{provide:s2,useValue:"platform"},{provide:mO,useValue:new Set([()=>Sg=null])},...n]})}(s,i))}return function Qwt(n){const e=gO();if(!e)throw new Ke(401,!1);return e}()}}function gO(){return Sg?.get(OZ)??null}let OZ=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function FZ(n,e){let t;return t="noop"===n?new Zwt:("zone.js"===n?void 0:n)||new vr(e),t}(i?.ngZone,function NZ(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:vr,useValue:r}];return r.run(()=>{const a=Fu.create({providers:o,parent:this.injector,name:t.moduleType.name}),s=t.create(a),l=s.injector.get(sm,null);if(!l)throw new Ke(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});s.onDestroy(()=>{bT(this._modules,s),c.unsubscribe()})}),function BZ(n,e,t){try{const i=t();return Zw(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=s.injector.get(vT);return c.runInitializers(),c.donePromise.then(()=>(function dW(n){Bo(n,"Expected localeId to be defined"),"string"==typeof n&&(uW=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ap,G0)||G0),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=VZ({},i);return function Xwt(n,e,t){const i=new Y2(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Y0);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Ke(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(mO,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(on(Fu))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function VZ(n,e){return Array.isArray(e)?e.reduce(VZ,n):{...n,...e}}let Y0=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Pe(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),a=new Pe(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{vr.assertNotInAngularZone(),cO(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=qe(o,a.pipe(sn()))}bootstrap(t,i){const r=t instanceof MH;if(!this._injector.get(vT).done){!r&&function $s(n){const e=Yo(n)||Xs(n)||us(n);return null!==e&&e.standalone}(t);throw new Ke(405,dm)}let a;a=r?t:this._injector.get(t_).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const s=function $wt(n){return n.isBoundToModule}(a)?void 0:this._injector.get(H0),c=a.create(Fu.NULL,[],i||a.selector,s),u=c.location.nativeElement,d=c.injector.get(DZ,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),bT(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;bT(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(IZ,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bT(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ke(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(on(vr),on(tp),on(sm))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Gs=(()=>{class n{}return n.__NG_ELEMENT_ID__=t1t,n})();function t1t(n){return function e1t(n,e,t){if(is(n)&&!t){const i=_e(n.index,e);return new Hw(i,i)}return 47&n.type?new Hw(e[gs],e):null}(Wc(),Xn(),16==(16&n))}class WZ{constructor(){}supports(e){return nT(e)}create(e){return new s1t(e)}}const a1t=(n,e)=>e;class s1t{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a1t}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const a=!i||t&&t.currentIndex<YZ(i,r,o)?t:i,s=YZ(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{o||(o=[]);const c=s-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,g=p+h;u<=g&&g<c&&(o[h]=p+1)}o[a.previousIndex]=u-c}}s!==l&&e(a,s,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!nT(e))throw new Ke(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)o=e[s],a=this._trackByFn(s,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,s)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,s),i=!0),t=t._next}else r=0,function F0t(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,s=>{a=this._trackByFn(r,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,r)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new l1t(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZZ),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZZ),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class l1t{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class c1t{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ZZ{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new c1t,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YZ(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class XZ{constructor(){}supports(e){return e instanceof Map||P2(e)}create(){return new u1t}}class u1t{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||P2(e)))throw new Ke(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new d1t(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class d1t{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $Z(){return new Oh([new WZ])}let Oh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||$Z()),deps:[[n,new zo,new gl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Ke(901,!1)}}return n.\u0275prov=$e({token:n,providedIn:"root",factory:$Z}),n})();function qZ(){return new r1([new XZ])}let r1=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||qZ()),deps:[[n,new zo,new gl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Ke(901,!1)}}return n.\u0275prov=$e({token:n,providedIn:"root",factory:qZ}),n})();const p1t=RZ(null,"core",[]);let m1t=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(on(Y0))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();function X0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let xO=null;function hm(){return xO}class _1t{}const io=new hn("DocumentToken");let wO=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return function y1t(){return on(KZ)}()},providedIn:"platform"}),n})();const b1t=new hn("Location Initialized");let KZ=(()=>{class n extends wO{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hm().getBaseHref(this._doc)}onPopState(t){const i=hm().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=hm().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){QZ()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){QZ()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:function(){return function x1t(){return new KZ(on(io))}()},providedIn:"platform"}),n})();function QZ(){return!!window.history.pushState}function SO(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function JZ(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fm(n){return n&&"?"!==n[0]?"?"+n:n}let a_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return di(e9)},providedIn:"root"}),n})();const t9=new hn("appBaseHref");let e9=(()=>{class n extends a_{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??di(io).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return SO(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+fm(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const a=this.prepareExternalUrl(r+fm(o));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){const a=this.prepareExternalUrl(r+fm(o));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(on(wO),on(t9,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w1t=(()=>{class n extends a_{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=SO(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+fm(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+fm(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(on(wO),on(t9,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),o1=(()=>{class n{constructor(t){this._subject=new _r,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function M1t(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(JZ(n9(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+fm(i))}normalize(t){return n.stripTrailingSlash(function C1t(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,n9(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fm(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fm(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=fm,n.joinWithSlash=SO,n.stripTrailingSlash=JZ,n.\u0275fac=function(t){return new(t||n)(on(a_))},n.\u0275prov=$e({token:n,factory:function(){return function S1t(){return new o1(on(a_))}()},providedIn:"root"}),n})();function n9(n){return n.replace(/\/index.html$/,"")}function h9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const RO=/\s+/,f9=[];let p9=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=f9,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(RO):f9}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(RO):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(RO).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(ee(Oh),ee(r1),ee(Ni),ee(am))},n.\u0275dir=Cn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class cSt{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let LO=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new cSt(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const s=i.get(o);i.move(s,a),v9(s,r)}});for(let r=0,o=i.length;r<o;r++){const s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{v9(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ee(yc),ee(Ic),ee(Oh))},n.\u0275dir=Cn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function v9(n,e){n.context.$implicit=e.item}let Tf=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dSt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_9("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_9("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ee(yc),ee(Ic))},n.\u0275dir=Cn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dSt{constructor(){this.$implicit=null,this.ngIf=null}}function _9(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${_i(e)}'.`)}let NO=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ee(yc))},n.\u0275dir=Cn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ve]}),n})();function Df(n,e){return new Ke(2100,!1)}class mSt{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class gSt{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const vSt=new gSt,_St=new mSt;let FO=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Zw(t))return vSt;if(yj(t))return _St;throw Df()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(ee(Gs,16))},n.\u0275pipe=il({name:"async",type:n,pure:!1,standalone:!0}),n})();const bSt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let x9=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Df();return t.replace(bSt,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=il({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();const S9="browser";let VSt=(()=>{class n{}return n.\u0275prov=$e({token:n,providedIn:"root",factory:()=>new zSt(on(io),window)}),n})();class zSt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function USt(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=C9(this.window.history)||C9(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function C9(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class M9{}class pCt extends _1t{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class GO extends pCt{static makeCurrent(){!function v1t(n){xO||(xO=n)}(new GO)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mCt(){return c1=c1||document.querySelector("base"),c1?c1.getAttribute("href"):null}();return null==t?null:function gCt(n){OT=OT||document.createElement("a"),OT.setAttribute("href",n);const e=OT.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){c1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return h9(document.cookie,e)}}let OT,c1=null;const I9=new hn("TRANSITION_ID"),_Ct=[{provide:gT,useFactory:function vCt(n,e,t){return()=>{t.get(vT).donePromise.then(()=>{const i=hm(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[I9,io,Fu],multi:!0}];let bCt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const NT=new hn("EventManagerPlugins");let FT=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(on(NT),on(vr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class P9{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=hm().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let k9=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),u1=(()=>{class n extends k9{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const HO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jO=/%COMP%/g,O9=new hn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function N9(n,e){return e.flat(100).map(t=>t.replace(jO,n))}function F9(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let BT=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new WO(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof z9?r.applyToHost(t):r instanceof ZO&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const a=this.eventManager,s=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case Ds.Emulated:o=new z9(a,s,i,this.appId,l);break;case Ds.ShadowDom:return new TCt(a,s,t,i);default:o=new ZO(a,s,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(on(FT),on(u1),on(n1),on(O9))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class WO{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(HO[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(V9(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(V9(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=HO[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=HO[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(td.DashCase|td.Important)?e.style.setProperty(t,i,r&td.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&td.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,F9(i)):this.eventManager.addEventListener(e,t,F9(i))}}function V9(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class TCt extends WO{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=N9(r.id,r.styles);for(const a of o){const s=document.createElement("style");s.textContent=a,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZO extends WO{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=N9(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class z9 extends ZO{constructor(e,t,i,r,o){const a=r+"-"+i.id;super(e,t,i,o,a),this.contentAttr=function CCt(n){return"_ngcontent-%COMP%".replace(jO,n)}(a),this.hostAttr=function MCt(n){return"_nghost-%COMP%".replace(jO,n)}(a)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let DCt=(()=>{class n extends P9{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const U9=["alt","control","meta","shift"],ACt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ICt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let PCt=(()=>{class n extends P9{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hm().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),U9.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(t,i){let r=ACt[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),U9.forEach(a=>{a!==r&&(0,ICt[a])(t)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const H9=[{provide:_T,useValue:S9},{provide:wZ,useValue:function kCt(){GO.makeCurrent()},multi:!0},{provide:io,useFactory:function LCt(){return function f_t(n){QL=n}(document),document},deps:[]}],OCt=RZ(p1t,"browser",H9),j9=new hn(""),W9=[{provide:yT,useClass:class yCt{addToWindow(e){Zo.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Zo.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zo.getAllAngularRootElements=()=>e.getAllRootElements(),Zo.frameworkStabilizers||(Zo.frameworkStabilizers=[]),Zo.frameworkStabilizers.push(i=>{const r=Zo.getAllAngularTestabilities();let o=r.length,a=!1;const s=function(l){a=a||l,o--,0==o&&i(a)};r.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?hm().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:DZ,useClass:hO,deps:[vr,fO,yT]},{provide:hO,useClass:hO,deps:[vr,fO,yT]}],Z9=[{provide:s2,useValue:"root"},{provide:sm,useFactory:function RCt(){return new sm},deps:[]},{provide:NT,useClass:DCt,multi:!0,deps:[io,vr,_T]},{provide:NT,useClass:PCt,multi:!0,deps:[io]},{provide:BT,useClass:BT,deps:[FT,u1,n1,O9]},{provide:Uw,useExisting:BT},{provide:k9,useExisting:u1},{provide:u1,useClass:u1,deps:[io]},{provide:FT,useClass:FT,deps:[NT,vr]},{provide:M9,useClass:bCt,deps:[]},[]];let Y9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:n1,useValue:t.appId},{provide:I9,useExisting:n1},_Ct]}}}return n.\u0275fac=function(t){return new(t||n)(on(j9,12))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[...Z9,...W9],imports:[lc,m1t]}),n})(),X9=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:function(t){let i=null;return i=t?new t:function FCt(){return new X9(on(io))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let $O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(t){let i=null;return i=t?new(t||n):on(K9),i},providedIn:"root"}),n})(),K9=(()=>{class n extends $O{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Us.NONE:return i;case Us.HTML:return Jf(i,"HTML")?lh(i):hH(this._doc,String(i)).toString();case Us.STYLE:return Jf(i,"Style")?lh(i):i;case Us.SCRIPT:if(Jf(i,"Script"))return lh(i);throw new Error("unsafe value used in a script context");case Us.URL:return Jf(i,"URL")?lh(i):jE(String(i));case Us.RESOURCE_URL:if(Jf(i,"ResourceURL"))return lh(i);throw new Error(`unsafe value used in a resource URL context (see ${Hn})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Hn})`)}}bypassSecurityTrustHtml(t){return function b_t(n){return new p_t(n)}(t)}bypassSecurityTrustStyle(t){return function x_t(n){return new m_t(n)}(t)}bypassSecurityTrustScript(t){return function w_t(n){return new g_t(n)}(t)}bypassSecurityTrustUrl(t){return function S_t(n){return new v_t(n)}(t)}bypassSecurityTrustResourceUrl(t){return function C_t(n){return new __t(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:function(t){let i=null;return i=t?new t:function GCt(n){return new K9(n.get(io))}(on(Fu)),i},providedIn:"root"}),n})();function nr(...n){return Re(n,Wr(n))}class Rc extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const VT=at(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:HCt}=Array,{getPrototypeOf:jCt,prototype:WCt,keys:ZCt}=Object;function Q9(n){if(1===n.length){const e=n[0];if(HCt(e))return{args:e,keys:null};if(function YCt(n){return n&&"object"==typeof n&&jCt(n)===WCt}(e)){const t=ZCt(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:XCt}=Array;function qO(n){return vt(e=>function $Ct(n,e){return XCt(e)?n(...e):n(e)}(n,e))}function J9(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function s_(...n){const e=Wr(n),t=Yi(n),{args:i,keys:r}=Q9(n);if(0===i.length)return Re([],e);const o=new Pe(function qCt(n,e,t=jt){return i=>{t7(e,()=>{const{length:r}=n,o=new Array(r);let a=r,s=r;for(let l=0;l<r;l++)t7(e,()=>{const c=Re(n[l],e);let u=!1;c.subscribe(ht(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(t(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>J9(r,a):jt));return t?o.pipe(qO(t)):o}function t7(n,e,t){n?Ci(t,n,e):e()}function d1(...n){return function KCt(){return oo(1)}()(Re(n,Wr(n)))}function h1(n){return new Pe(e=>{Ft(n()).subscribe(e)})}function $0(n,e){const t=st(n)?n:()=>n,i=r=>r.error(t());return new Pe(e?r=>e.schedule(i,0,r):i)}function KO(){return Nt((n,e)=>{let t=null;n._refCount++;const i=ht(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class QO extends Pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new V;const t=this.getSubject();e.add(this.source.subscribe(ht(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=V.EMPTY)}return e}refCount(){return KO()(this)}}function od(n,e){return Nt((t,i)=>{let r=null,o=0,a=!1;const s=()=>a&&!r&&i.complete();t.subscribe(ht(i,l=>{r?.unsubscribe();let c=0;const u=o++;Ft(n(l,u)).subscribe(r=ht(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Ks(n){return n<=0?()=>ho:Nt((e,t)=>{let i=0;e.subscribe(ht(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Bu(...n){const e=Wr(n);return Nt((t,i)=>{(e?d1(n,t,e):d1(n,t)).subscribe(i)})}function go(n,e){return Nt((t,i)=>{let r=0;t.subscribe(ht(i,o=>n.call(e,o,r++)&&i.next(o)))})}function zT(n){return Nt((e,t)=>{let i=!1;e.subscribe(ht(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function e7(n=QCt){return Nt((e,t)=>{let i=!1;e.subscribe(ht(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function QCt(){return new VT}function Mg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?go((r,o)=>n(r,o,i)):jt,Ks(1),t?zT(e):e7(()=>new VT))}function Eg(n,e){return st(e)?hr(n,e,1):hr(n,1)}function Xl(n,e,t){const i=st(n)||e||t?{next:n,error:e,complete:t}:n;return i?Nt((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let s=!0;r.subscribe(ht(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):jt}function mm(n){return Nt((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ht(t,void 0,void 0,a=>{o=Ft(n(a,mm(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function UT(n,e){return Nt(function JCt(n,e,t,i,r){return(o,a)=>{let s=t,l=e,c=0;o.subscribe(ht(a,u=>{const d=c++;l=s?n(l,u,d):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}(n,e,arguments.length>=2,!0))}function JO(n){return n<=0?()=>ho:Nt((e,t)=>{let i=[];e.subscribe(ht(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function n7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?go((r,o)=>n(r,o,i)):jt,JO(1),t?zT(e):e7(()=>new VT))}function GT(n){return vt(()=>n)}function HT(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Go="primary",f1=Symbol("RouteTitle");class eMt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function q0(n){return new eMt(n)}function nMt(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],s=n[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function sp(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!r7(n[r],e[r]))return!1;return!0}function r7(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function o7(n){return Array.prototype.concat.apply([],n)}function a7(n){return n.length>0?n[n.length-1]:null}function Vu(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Tg(n){return R2(n)?n:Zw(n)?Re(Promise.resolve(n)):nr(n)}const jT=!1,rMt={exact:function c7(n,e,t){if(!l_(n.segments,e.segments)||!WT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!c7(n.children[i],e.children[i],t))return!1;return!0},subset:u7},s7={exact:function oMt(n,e){return sp(n,e)},subset:function aMt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>r7(n[t],e[t]))},ignored:()=>!0};function l7(n,e,t){return rMt[t.paths](n.root,e.root,t.matrixParams)&&s7[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function u7(n,e,t){return d7(n,e,e.segments,t)}function d7(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!l_(r,t)||e.hasChildren()||!WT(r,t,i))}if(n.segments.length===t.length){if(!l_(n.segments,t)||!WT(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!u7(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(l_(n.segments,r)&&WT(n.segments,r,i)&&n.children[Go])&&d7(n.children[Go],e,o,i)}}function WT(n,e,t){return e.every((i,r)=>s7[t](n[r].parameters,i.parameters))}class Dg{constructor(e=new ga([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=q0(this.queryParams)),this._queryParamMap}toString(){return cMt.serialize(this)}}class ga{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Vu(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ZT(this)}}class p1{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=q0(this.parameters)),this._parameterMap}toString(){return p7(this)}}function l_(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let m1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return new tN},providedIn:"root"}),n})();class tN{parse(e){const t=new _Mt(e);return new Dg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${g1(e.root,!0)}`,i=function hMt(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${YT(t)}=${YT(r)}`).join("&"):`${YT(t)}=${YT(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function uMt(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cMt=new tN;function ZT(n){return n.segments.map(e=>p7(e)).join("/")}function g1(n,e){if(!n.hasChildren())return ZT(n);if(e){const t=n.children[Go]?g1(n.children[Go],!1):"",i=[];return Vu(n.children,(r,o)=>{o!==Go&&i.push(`${o}:${g1(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function lMt(n,e){let t=[];return Vu(n.children,(i,r)=>{r===Go&&(t=t.concat(e(i,r)))}),Vu(n.children,(i,r)=>{r!==Go&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Go?[g1(n.children[Go],!1)]:[`${r}:${g1(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Go]?`${ZT(n)}/${t[0]}`:`${ZT(n)}/(${t.join("//")})`}}function h7(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function YT(n){return h7(n).replace(/%3B/gi,";")}function eN(n){return h7(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function XT(n){return decodeURIComponent(n)}function f7(n){return XT(n.replace(/\+/g,"%20"))}function p7(n){return`${eN(n.path)}${function dMt(n){return Object.keys(n).map(e=>`;${eN(e)}=${eN(n[e])}`).join("")}(n.parameters)}`}const fMt=/^[^\/()?;=#]+/;function $T(n){const e=n.match(fMt);return e?e[0]:""}const pMt=/^[^=?&#]+/,gMt=/^[^&#]+/;class _Mt{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ga([],{}):new ga([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Go]=new ga(e,t)),i}parseSegment(){const e=$T(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ke(4009,jT);return this.capture(e),new p1(XT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$T(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=$T(this.remaining);r&&(i=r,this.capture(i))}e[XT(t)]=XT(i)}parseQueryParam(e){const t=function mMt(n){const e=n.match(pMt);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function vMt(n){const e=n.match(gMt);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=f7(t),o=f7(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$T(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Ke(4010,jT);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Go);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[Go]:new ga([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ke(4011,jT)}}function nN(n){return n.segments.length>0?new ga([],{[Go]:n}):n}function qT(n){const e={};for(const i of Object.keys(n.children)){const o=qT(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function yMt(n){if(1===n.numberOfChildren&&n.children[Go]){const e=n.children[Go];return new ga(n.segments.concat(e.segments),e.children)}return n}(new ga(n.segments,e))}function c_(n){return n instanceof Dg}const iN=!1;function bMt(n,e,t,i,r){if(0===t.length)return K0(e.root,e.root,e.root,i,r);const o=function y7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _7(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Vu(o.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?t=!0:".."===s?e++:""!=s&&r.push(s))}),r):[...r,o]},[]);return new _7(t,e,i)}(t);return o.toRoot()?K0(e.root,e.root,new ga([],{}),i,r):function a(l){const c=function wMt(n,e,t,i){if(n.isAbsolute)return new Q0(e.root,!0,0);if(-1===i)return new Q0(t,t===e.root,0);return function b7(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Ke(4005,iN&&"Invalid number of '../'");r=i.segments.length}return new Q0(i,!1,r-o)}(t,i+(v1(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?J0(c.segmentGroup,c.index,o.commands):rN(c.segmentGroup,c.index,o.commands);return K0(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function v1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _1(n){return"object"==typeof n&&null!=n&&n.outlets}function K0(n,e,t,i,r){let a,o={};i&&Vu(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),a=n===e?t:v7(n,e,t);const s=nN(qT(a));return new Dg(s,o,r)}function v7(n,e,t){const i={};return Vu(n.children,(r,o)=>{i[o]=r===e?t:v7(r,e,t)}),new ga(n.segments,i)}class _7{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&v1(i[0]))throw new Ke(4003,iN&&"Root segment cannot have matrix parameters");const r=i.find(_1);if(r&&r!==a7(i))throw new Ke(4004,iN&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Q0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function rN(n,e,t){if(n||(n=new ga([],{})),0===n.segments.length&&n.hasChildren())return J0(n,e,t);const i=function CMt(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const a=n.segments[r],s=t[i];if(_1(s))break;const l=`${s}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!w7(l,c,a))return o;i+=2}else{if(!w7(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ga(n.segments.slice(0,i.pathIndex),{});return o.children[Go]=new ga(n.segments.slice(i.pathIndex),n.children),J0(o,0,r)}return i.match&&0===r.length?new ga(n.segments,{}):i.match&&!n.hasChildren()?oN(n,e,t):i.match?J0(n,0,r):oN(n,e,t)}function J0(n,e,t){if(0===t.length)return new ga(n.segments,{});{const i=function SMt(n){return _1(n[0])?n[0].outlets:{[Go]:n}}(t),r={};if(!i[Go]&&n.children[Go]&&1===n.numberOfChildren&&0===n.children[Go].segments.length){const o=J0(n.children[Go],e,t);return new ga(n.segments,o.children)}return Vu(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=rN(n.children[a],e,o))}),Vu(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new ga(n.segments,r)}}function oN(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(_1(o)){const l=MMt(o.outlets);return new ga(i,l)}if(0===r&&v1(t[0])){i.push(new p1(n.segments[e].path,x7(t[0]))),r++;continue}const a=_1(o)?o.outlets[Go]:`${o}`,s=r<t.length-1?t[r+1]:null;a&&s&&v1(s)?(i.push(new p1(a,x7(s))),r+=2):(i.push(new p1(a,{})),r++)}return new ga(i,{})}function MMt(n){const e={};return Vu(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=oN(new ga([],{}),0,t))}),e}function x7(n){const e={};return Vu(n,(t,i)=>e[i]=`${t}`),e}function w7(n,e,t){return n==t.path&&sp(e,t.parameters)}const y1="imperative";class lp{constructor(e,t){this.id=e,this.url=t}}class aN extends lp{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class u_ extends lp{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KT extends lp{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QT extends lp{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class sN extends lp{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EMt extends lp{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TMt extends lp{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DMt extends lp{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AMt extends lp{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IMt extends lp{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PMt{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kMt{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RMt{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LMt{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OMt{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NMt{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S7{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let VMt=(()=>{class n{createUrlTree(t,i,r,o,a,s){return bMt(t||i.root,r,o,a,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),UMt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(e){return VMt.\u0275fac(e)},providedIn:"root"}),n})();class C7{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=lN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return cN(e,this._root).map(t=>t.value)}}function lN(n,e){if(n===e.value)return e;for(const t of e.children){const i=lN(n,t);if(i)return i}return null}function cN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=cN(n,t);if(i.length)return i.unshift(e),i}return[]}class gm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tb(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class M7 extends C7{constructor(e,t){super(e),this.snapshot=t,uN(this,e)}toString(){return this.snapshot.toString()}}function E7(n,e){const t=function GMt(n,e){const a=new JT([],{},{},"",{},Go,e,null,n.root,-1,{});return new D7("",new gm(a,[]))}(n,e),i=new Rc([new p1("",{})]),r=new Rc({}),o=new Rc({}),a=new Rc({}),s=new Rc(""),l=new eb(i,r,a,s,o,Go,e,t.root);return l.snapshot=t.root,new M7(new gm(l,[]),t)}class eb{constructor(e,t,i,r,o,a,s,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.title=this.data?.pipe(vt(c=>c[f1]))??nr(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vt(e=>q0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vt(e=>q0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T7(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function HMt(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class JT{get title(){return this.data?.[f1]}constructor(e,t,i,r,o,a,s,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=q0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=q0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D7 extends C7{constructor(e,t){super(t),this.url=e,uN(this,t)}toString(){return A7(this._root)}}function uN(n,e){e.value._routerState=n,e.children.forEach(t=>uN(n,t))}function A7(n){const e=n.children.length>0?` { ${n.children.map(A7).join(", ")} } `:"";return`${n.value}${e}`}function dN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,sp(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),sp(e.params,t.params)||n.params.next(t.params),function iMt(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!sp(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),sp(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hN(n,e){const t=sp(n.params,e.params)&&function sMt(n,e){return l_(n,e)&&n.every((t,i)=>sp(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hN(n.parent,e.parent))}function b1(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function WMt(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return b1(n,i,r);return b1(n,i)})}(n,e,t);return new gm(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>b1(n,s)),a}}const i=function ZMt(n){return new eb(new Rc(n.url),new Rc(n.params),new Rc(n.queryParams),new Rc(n.fragment),new Rc(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>b1(n,o));return new gm(i,r)}}const fN="ngNavigationCancelingError";function I7(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=c_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=P7(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function P7(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[fN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function k7(n){return R7(n)&&c_(n.url)}function R7(n){return n&&n[fN]}class YMt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new x1,this.attachRef=null}}let x1=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new YMt,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tD=!1;let pN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Go,this.activateEvents=new _r,this.deactivateEvents=new _r,this.attachEvents=new _r,this.detachEvents=new _r,this.parentContexts=di(x1),this.location=di(yc),this.changeDetector=di(Gs),this.environmentInjector=di(tp)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ke(4012,tD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ke(4012,tD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ke(4012,tD);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Ke(4013,tD);this._activatedRoute=t;const r=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new XMt(t,s,r.injector);if(i&&function $Mt(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(a);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ve]}),n})();class XMt{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===eb?this.route:e===x1?this.childContexts:this.parent.get(e,t)}}let mN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pi({type:n,selectors:[["ng-component"]],standalone:!0,features:[X2],decls:1,vars:0,template:function(t,i){1&t&&kr(0,"router-outlet")},dependencies:[pN],encapsulation:2}),n})();function L7(n,e){return n.providers&&!n._injector&&(n._injector=uT(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vN(n){const e=n.children&&n.children.map(vN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Go&&(t.component=mN),t}function Bh(n){return n.outlet||Go}function O7(n,e){const t=n.filter(i=>Bh(i)===e);return t.push(...n.filter(i=>Bh(i)!==e)),t}function w1(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tEt{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),dN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=tb(t);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Vu(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=tb(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=tb(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=tb(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new NMt(o.value.snapshot))}),e.children.length&&this.forwardEvent(new LMt(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(dN(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),dN(s.route.value),this.activateChildRoutes(e,null,a.children)}else{const s=w1(r.snapshot),l=s?.get(t_)??null;a.attachRef=null,a.route=r,a.resolver=l,a.injector=s,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class N7{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class eD{constructor(e,t){this.component=e,this.route=t}}function eEt(n,e,t){const i=n._root;return S1(i,e?e._root:null,t,[i.value])}function nb(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function dl(n){return null!==fo(n)}(n)?e.get(n):n:i}function S1(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=tb(e);return n.children.forEach(a=>{(function iEt(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function rEt(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!l_(n.url,e.url);case"pathParamsOrQueryParamsChange":return!l_(n.url,e.url)||!sp(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hN(n,e)||!sp(n.queryParams,e.queryParams);default:return!hN(n,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new N7(i)):(o.data=a.data,o._resolvedData=a._resolvedData),S1(n,e,o.component?s?s.children:null:t,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new eD(s.outlet.component,a))}else a&&C1(e,s,r),r.canActivateChecks.push(new N7(i)),S1(n,null,o.component?s?s.children:null:t,i,r)})(a,o[a.value.outlet],t,i.concat([a.value]),r),delete o[a.value.outlet]}),Vu(o,(a,s)=>C1(a,t.getContext(s),r)),r}function C1(n,e,t){const i=tb(n),r=n.value;Vu(i,(o,a)=>{C1(o,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new eD(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function M1(n){return"function"==typeof n}function _N(n){return n instanceof VT||"EmptyError"===n?.name}const nD=Symbol("INITIAL_VALUE");function ib(){return od(n=>s_(n.map(e=>e.pipe(Ks(1),Bu(nD)))).pipe(vt(e=>{for(const t of e)if(!0!==t){if(t===nD)return nD;if(!1===t||t instanceof Dg)return t}return!0}),go(e=>e!==nD),Ks(1)))}function F7(n){return function ae(...n){return ue(n)}(Xl(e=>{if(c_(e))throw I7(0,e)}),vt(e=>!0===e))}const yN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B7(n,e,t,i,r){const o=bN(n,e,t);return o.matched?function xEt(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?nr(r.map(a=>{const s=nb(a,n);return Tg(function uEt(n){return n&&M1(n.canMatch)}(s)?s.canMatch(e,t):n.runInContext(()=>s(e,t)))})).pipe(ib(),F7()):nr(!0)}(i=L7(e,i),e,t).pipe(vt(a=>!0===a?o:{...yN})):nr(o)}function bN(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nMt)(t,n,e);if(!r)return{...yN};const o={};Vu(r.posParams,(s,l)=>{o[l]=s.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function iD(n,e,t,i){if(t.length>0&&function CEt(n,e,t){return t.some(i=>rD(n,e,i)&&Bh(i)!==Go)}(n,t,i)){const o=new ga(e,function SEt(n,e,t,i){const r={};r[Go]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Bh(o)!==Go){const a=new ga([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[Bh(o)]=a}return r}(n,e,i,new ga(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function MEt(n,e,t){return t.some(i=>rD(n,e,i))}(n,t,i)){const o=new ga(n.segments,function wEt(n,e,t,i,r){const o={};for(const a of i)if(rD(n,t,a)&&!r[Bh(a)]){const s=new ga([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Bh(a)]=s}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new ga(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function rD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function V7(n,e,t,i){return!!(Bh(n)===i||i!==Go&&rD(e,t,n))&&("**"===n.path||bN(e,n,t).matched)}function z7(n,e,t){return 0===e.length&&!n.children[t]}const oD=!1;class aD{constructor(e){this.segmentGroup=e||null}}class U7{constructor(e){this.urlTree=e}}function E1(n){return $0(new aD(n))}function G7(n){return $0(new U7(n))}class AEt{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=iD(this.urlTree.root,[],[],this.config).segmentGroup,t=new ga(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Go).pipe(vt(o=>this.createUrlTree(qT(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mm(o=>{if(o instanceof U7)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof aD?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Go).pipe(vt(r=>this.createUrlTree(qT(r),e.queryParams,e.fragment))).pipe(mm(r=>{throw r instanceof aD?this.noMatchError(r):r}))}noMatchError(e){return new Ke(4002,oD)}createUrlTree(e,t,i){const r=nN(e);return new Dg(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(vt(o=>new ga([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Re(r).pipe(Eg(o=>{const a=i.children[o],s=O7(t,o);return this.expandSegmentGroup(e,s,a,o).pipe(vt(l=>({segment:l,outlet:o})))}),UT((o,a)=>(o[a.outlet]=a.segment,o),{}),n7())}expandSegment(e,t,i,r,o,a){return Re(i).pipe(Eg(s=>this.expandSegmentAgainstRoute(e,t,i,s,r,o,a).pipe(mm(c=>{if(c instanceof aD)return nr(null);throw c}))),Mg(s=>!!s),mm((s,l)=>{if(_N(s))return z7(t,r,o)?nr(new ga([],{})):E1(t);throw s}))}expandSegmentAgainstRoute(e,t,i,r,o,a,s){return V7(r,t,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,a):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a):E1(t):E1(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?G7(o):this.lineralizeSegments(i,o).pipe(hr(a=>{const s=new ga(a,{});return this.expandSegment(e,s,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=bN(t,r,o);if(!s)return E1(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?G7(d):this.lineralizeSegments(r,d).pipe(hr(h=>this.expandSegment(e,t,i,h.concat(c),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=L7(i,e),i.loadChildren?(i._loadedRoutes?nr({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(vt(s=>(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,new ga(r,{})))):nr(new ga(r,{}))):B7(t,i,r,e).pipe(od(({matched:a,consumedSegments:s,remainingSegments:l})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe(hr(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:p,slicedSegments:g}=iD(t,s,l,h),y=new ga(p.segments,p.children);if(0===g.length&&y.hasChildren())return this.expandChildren(d,h,y).pipe(vt(E=>new ga(s,E)));if(0===h.length&&0===g.length)return nr(new ga(s,{}));const b=Bh(i)===o;return this.expandSegment(d,y,h,g,b?Go:o,!0).pipe(vt(C=>new ga(s.concat(C.segments),C.children)))})):E1(t)))}getChildConfig(e,t,i){return t.children?nr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nr({routes:t._loadedRoutes,injector:t._loadedInjector}):function bEt(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?nr(!0):nr(r.map(a=>{const s=nb(a,n);return Tg(function aEt(n){return n&&M1(n.canLoad)}(s)?s.canLoad(e,t):n.runInContext(()=>s(e,t)))})).pipe(ib(),F7())}(e,t,i).pipe(hr(r=>r?this.configLoader.loadChildren(e,t).pipe(Xl(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function TEt(n){return $0(P7(oD,3))}())):nr({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nr(i);if(r.numberOfChildren>1||!r.children[Go])return e.redirectTo,$0(new Ke(4e3,oD));r=r.children[Go]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Dg(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Vu(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const s=r.substring(1);i[o]=t[s]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let a={};return Vu(t.children,(s,l)=>{a[l]=this.createSegmentGroup(e,s,i,r)}),new ga(o,a)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Ke(4001,oD);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class PEt{}class LEt{constructor(e,t,i,r,o,a,s){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s}recognize(){const e=iD(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Go).pipe(vt(t=>{if(null===t)return null;const i=new JT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Go,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gm(i,t),o=new D7(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=T7(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Re(Object.keys(i.children)).pipe(Eg(r=>{const o=i.children[r],a=O7(t,r);return this.processSegmentGroup(e,a,o,r)}),UT((r,o)=>r&&o?(r.push(...o),r):null),function tMt(n,e=!1){return Nt((t,i)=>{let r=0;t.subscribe(ht(i,o=>{const a=n(o,r++);(a||e)&&i.next(o),!a&&i.complete()}))})}(r=>null!==r),zT(null),n7(),vt(r=>{if(null===r)return null;const o=j7(r);return function OEt(n){n.sort((e,t)=>e.value.outlet===Go?-1:t.value.outlet===Go?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return Re(t).pipe(Eg(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,o)),Mg(a=>!!a),mm(a=>{if(_N(a))return z7(i,r,o)?nr([]):nr(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!V7(t,i,r,o))return nr(null);let a;if("**"===t.path){const s=r.length>0?a7(r).parameters:{},l=Z7(i)+r.length;a=nr({snapshot:new JT(r,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y7(t),Bh(t),t.component??t._loadedComponent??null,t,W7(i),l,X7(t)),consumedSegments:[],remainingSegments:[]})}else a=B7(i,t,r,e).pipe(vt(({matched:s,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!s)return null;const d=Z7(i)+l.length;return{snapshot:new JT(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y7(t),Bh(t),t.component??t._loadedComponent??null,t,W7(i),d,X7(t)),consumedSegments:l,remainingSegments:c}}));return a.pipe(od(s=>{if(null===s)return nr(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=s;e=t._injector??e;const d=t._loadedInjector??e,h=function NEt(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:g}=iD(i,c,u,h.filter(b=>void 0===b.redirectTo));if(0===g.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(vt(b=>null===b?null:[new gm(l,b)]));if(0===h.length&&0===g.length)return nr([new gm(l,[])]);const y=Bh(t)===o;return this.processSegment(d,h,p,g,y?Go:o).pipe(vt(b=>null===b?null:[new gm(l,b)]))}))}}function FEt(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j7(n){const e=[],t=new Set;for(const i of n){if(!FEt(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=j7(i.children);e.push(new gm(i.value,r))}return e.filter(i=>!t.has(i))}function W7(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z7(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Y7(n){return n.data||{}}function X7(n){return n.resolve||{}}function $7(n){return"string"==typeof n.title||null===n.title}function xN(n){return od(e=>{const t=n(e);return t?Re(t).pipe(vt(()=>e)):nr(e)})}const rb=new hn("ROUTES");let wN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=di(SZ)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Tg(t.loadComponent()).pipe(vt(K7),Xl(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),HT(()=>{this.componentLoaders.delete(t)})),r=new QO(i,()=>new wt).pipe(KO());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return nr({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(s)?c=s:(l=s.create(t).injector,c=o7(l.get(rb,[],Bn.Self|Bn.Optional)));return{routes:c.map(vN),injector:l}}),HT(()=>{this.childrenLoaders.delete(i)})),a=new QO(o,()=>new wt).pipe(KO());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return Tg(t()).pipe(vt(K7),hr(i=>i instanceof NW||Array.isArray(i)?nr(i):Re(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K7(n){return function WEt(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.configLoader=di(wN),this.environmentInjector=di(tp),this.urlSerializer=di(m1),this.rootContexts=di(x1),this.navigationId=0,this.afterPreactivation=()=>nr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new kMt(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new PMt(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Rc({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:y1,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(go(i=>0!==i.id),vt(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),od(i=>{let r=!1,o=!1;return nr(i).pipe(Xl(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),od(a=>{const s=t.browserUrlTree.toString(),l=!t.navigated||a.extractedUrl.toString()!==s||s!==t.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new QT(a.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),ho}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Q7(a.source)&&(t.browserUrlTree=a.extractedUrl),nr(a).pipe(od(u=>{const d=this.transitions?.getValue();return this.events.next(new aN(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?ho:Promise.resolve(u)}),function IEt(n,e,t,i){return od(r=>function DEt(n,e,t,i,r){return new AEt(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(vt(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Xl(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function VEt(n,e,t,i,r){return hr(o=>function REt(n,e,t,i,r,o,a="emptyOnly"){return new LEt(n,e,t,i,r,a,o).recognize().pipe(od(s=>null===s?function kEt(n){return new Pe(e=>e.error(n))}(new PEt):nr(s)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(vt(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Xl(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new EMt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:p,extras:g}=a,y=new aN(u,this.urlSerializer.serialize(d),h,p);this.events.next(y);const b=E7(d,this.rootComponentType).snapshot;return nr(i={...a,targetSnapshot:b,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new QT(a.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),ho}}),Xl(a=>{const s=new TMt(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),vt(a=>i={...a,guards:eEt(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function hEt(n,e){return hr(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?nr({...t,guardsResult:!0}):function fEt(n,e,t,i){return Re(n).pipe(hr(r=>function yEt(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?nr(o.map(s=>{const l=w1(e)??r,c=nb(s,l);return Tg(function cEt(n){return n&&M1(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Mg())})).pipe(ib()):nr(!0)}(r.component,r.route,t,e,i)),Mg(r=>!0!==r,!0))}(a,i,r,n).pipe(hr(s=>s&&function oEt(n){return"boolean"==typeof n}(s)?function pEt(n,e,t,i){return Re(e).pipe(Eg(r=>d1(function gEt(n,e){return null!==n&&e&&e(new RMt(n)),nr(!0)}(r.route.parent,i),function mEt(n,e){return null!==n&&e&&e(new OMt(n)),nr(!0)}(r.route,i),function _Et(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function nEt(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>h1(()=>nr(a.guards.map(l=>{const c=w1(a.node)??t,u=nb(l,c);return Tg(function lEt(n){return n&&M1(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Mg())})).pipe(ib())));return nr(o).pipe(ib())}(n,r.path,t),function vEt(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return nr(!0);const r=i.map(o=>h1(()=>{const a=w1(e)??t,s=nb(o,a);return Tg(function sEt(n){return n&&M1(n.canActivate)}(s)?s.canActivate(e,n):a.runInContext(()=>s(e,n))).pipe(Mg())}));return nr(r).pipe(ib())}(n,r.route,t))),Mg(r=>!0!==r,!0))}(i,o,n,e):nr(s)),vt(s=>({...t,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),Xl(a=>{if(i.guardsResult=a.guardsResult,c_(a.guardsResult))throw I7(0,a.guardsResult);const s=new DMt(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),go(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),xN(a=>{if(a.guards.canActivateChecks.length)return nr(a).pipe(Xl(s=>{const l=new AMt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),od(s=>{let l=!1;return nr(s).pipe(function zEt(n,e){return hr(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return nr(t);let o=0;return Re(r).pipe(Eg(a=>function UEt(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!$7(r)&&(o[f1]=r.title),function GEt(n,e,t,i){const r=function HEt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return nr({});const o={};return Re(r).pipe(hr(a=>function jEt(n,e,t,i){const r=w1(e)??i,o=nb(n,r);return Tg(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[a],e,t,i).pipe(Mg(),Xl(s=>{o[a]=s}))),JO(1),GT(o),mm(a=>_N(a)?ho:$0(a)))}(o,n,e,i).pipe(vt(a=>(n._resolvedData=a,n.data=T7(n,t).resolve,r&&$7(r)&&(n.data[f1]=r.title),null)))}(a.route,i,n,e)),Xl(()=>o++),JO(1),hr(a=>o===r.length?nr(t):ho))})}(t.paramsInheritanceStrategy,this.environmentInjector),Xl({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),Xl(s=>{const l=new IMt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),xN(a=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Xl(u=>{l.component=u}),vt(()=>{})));for(const u of l.children)c.push(...s(u));return c};return s_(s(a.targetSnapshot.root)).pipe(zT(),Ks(1))}),xN(()=>this.afterPreactivation()),vt(a=>{const s=function jMt(n,e,t){const i=b1(n,e._root,t?t._root:void 0);return new M7(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:s}}),Xl(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>vt(i=>(new tEt(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a)),Ks(1),Xl({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new u_(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),HT(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),mm(a=>{if(o=!0,R7(a)){k7(a)||(t.navigated=!0,t.restoreHistory(i,!0));const s=new KT(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(s),k7(a)){const l=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Q7(i.source)};t.scheduleNavigation(l,y1,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const s=new sN(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(s);try{i.resolve(t.errorHandler(a))}catch(l){i.reject(l)}}return ho}))}))}cancelNavigationTransition(t,i,r){const o=new KT(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q7(n){return n!==y1}let J7=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Go);return i}getResolvedTitleForRoute(t){return t.data[f1]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return di(ZEt)},providedIn:"root"}),n})(),ZEt=(()=>{class n extends J7{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(on(X9))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YEt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return di($Et)},providedIn:"root"}),n})();class XEt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $Et=(()=>{class n extends XEt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cD=new hn("",{providedIn:"root",factory:()=>({})});let KEt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:function(){return di(QEt)},providedIn:"root"}),n})(),QEt=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JEt(n){throw n}function tTt(n,e,t){return e.parse("/")}const eTt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nTt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let uh=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=di(Owt),this.isNgZoneEnabled=!1,this.options=di(cD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||JEt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tTt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=di(KEt),this.routeReuseStrategy=di(YEt),this.urlCreationStrategy=di(UMt),this.titleStrategy=di(J7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=o7(di(rb,{optional:!0})??[]),this.navigationTransitions=di(lD),this.urlSerializer=di(m1),this.location=di(o1),this.isNgZoneEnabled=di(vr)instanceof vr&&vr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E7(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),y1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(t);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(vN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a;let u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=c_(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,y1,null,i)}navigate(t,i={skipLocationChange:!1}){return function iTt(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Ke(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...eTt}:!1===i?{...nTt}:i,c_(t))return l7(this.currentUrlTree,t,r);const o=this.parseUrl(t);return l7(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c,u;return a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uD=(()=>{class n{constructor(t,i,r,o,a,s){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new wt;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof u_&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=X0(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=X0(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=X0(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function mH(n,e,t){return function V_t(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?pH:fH}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(ee(uh),ee(eb),Yc("tabindex"),ee(am),ee(Ni),ee(a_))},n.\u0275dir=Cn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&gr("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Mr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ve]}),n})();class tY{}let aTt=(()=>{class n{constructor(t,i,r,o,a){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(go(t=>t instanceof u_),Eg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=uT(o.providers,t,`Route: ${o.path}`));const a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Re(r).pipe(oo())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):nr(null);const o=r.pipe(hr(a=>null===a?nr(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return i.loadComponent&&!i._loadedComponent?Re([o,this.loader.loadComponent(i)]).pipe(oo()):o})}}return n.\u0275fac=function(t){return new(t||n)(on(uh),on(SZ),on(tp),on(tY),on(wN))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CN=new hn("");let eY=(()=>{class n{constructor(t,i,r,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof aN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof u_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof S7&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new S7(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){_g()},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();var dh=(()=>((dh=dh||{})[dh.COMPLETE=0]="COMPLETE",dh[dh.FAILED=1]="FAILED",dh[dh.REDIRECTING=2]="REDIRECTING",dh))();const ob=!1;function Ag(n,e){return{\u0275kind:n,\u0275providers:e}}const MN=new hn("",{providedIn:"root",factory:()=>!1});function iY(){const n=di(Fu);return e=>{const t=n.get(Y0);if(e!==t.components[0])return;const i=n.get(uh),r=n.get(rY);1===n.get(EN)&&i.initialNavigation(),n.get(oY,null,Bn.Optional)?.setUpPreloading(),n.get(CN,null,Bn.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rY=new hn(ob?"bootstrap done indicator":"",{factory:()=>new wt}),EN=new hn(ob?"initial navigation":"",{providedIn:"root",factory:()=>1});function dTt(){let n=[];return n=ob?[{provide:C0,multi:!0,useFactory:()=>{const e=di(uh);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function FMt(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ag(1,n)}const oY=new hn(ob?"router preloader":"");function hTt(n){return Ag(0,[{provide:oY,useExisting:aTt},{provide:tY,useExisting:n}])}const T1=!1,aY=new hn(T1?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),fTt=[o1,{provide:m1,useClass:tN},uh,x1,{provide:eb,useFactory:function nY(n){return n.routerState.root},deps:[uh]},wN,T1?{provide:MN,useValue:!0}:[]];function pTt(){return new PZ("Router",uh)}let sY=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[fTt,T1&&i?.enableTracing?dTt().\u0275providers:[],{provide:rb,multi:!0,useValue:t},{provide:aY,useFactory:_Tt,deps:[[uh,new gl,new zo]]},{provide:cD,useValue:i||{}},i?.useHash?{provide:a_,useClass:w1t}:{provide:a_,useClass:e9},{provide:CN,useFactory:()=>{const n=di(VSt),e=di(vr),t=di(cD),i=di(lD),r=di(m1);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eY(r,i,n,e,t)}},i?.preloadingStrategy?hTt(i.preloadingStrategy).\u0275providers:[],{provide:PZ,multi:!0,useFactory:pTt},i?.initialNavigation?yTt(i):[],[{provide:lY,useFactory:iY},{provide:IZ,multi:!0,useExisting:lY}]]}}static forChild(t){return{ngModule:n,providers:[{provide:rb,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(on(aY,8))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[mN]}),n})();function _Tt(n){if(T1&&n)throw new Ke(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yTt(n){return["disabled"===n.initialNavigation?Ag(3,[{provide:gT,multi:!0,useFactory:()=>{const e=di(uh);return()=>{e.setUpLocationChangeListener()}}},{provide:EN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ag(2,[{provide:EN,useValue:0},{provide:gT,multi:!0,deps:[Fu],useFactory:e=>{const t=e.get(b1t,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(uh),o=e.get(rY);(function sTt(n,e){n.events.pipe(go(t=>t instanceof u_||t instanceof KT||t instanceof sN||t instanceof QT),vt(t=>t instanceof u_||t instanceof QT?dh.COMPLETE:t instanceof KT&&(0===t.code||1===t.code)?dh.REDIRECTING:dh.FAILED),go(t=>t!==dh.REDIRECTING),Ks(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(lD).afterPreactivation=()=>(i(!0),o.closed?nr(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const lY=new hn(T1?"Router Initializer":"");function vm(n,e=jt){return n=n??xTt,Nt((t,i)=>{let r,o=!0;t.subscribe(ht(i,a=>{const s=e(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function xTt(n,e){return n===e}function rr(n){return null!=n&&"false"!=`${n}`}function Ol(n,e=0){return function wTt(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function dD(n){return Array.isArray(n)?n:[n]}function Qc(n){return null==n?"":"string"==typeof n?n:`${n}px`}function d_(n){return n instanceof Ni?n.nativeElement:n}function cY(n){return go((e,t)=>n<=t)}class STt extends V{constructor(e,t){super()}schedule(e,t=0){return this}}const hD={setInterval(n,e,...t){const{delegate:i}=hD;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=hD;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class fD extends STt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return hD.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&hD.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,N(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const TN={now:()=>(TN.delegate||Date).now(),delegate:void 0};class D1{constructor(e,t=D1.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}D1.now=TN.now;class pD extends D1{constructor(e,t=D1.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const mD=new pD(fD),CTt=mD;function yu(n,e=mD){return Nt((t,i)=>{let r=null,o=null,a=null;const s=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=a+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);s()}t.subscribe(ht(i,c=>{o=c,a=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function ja(n){return Nt((e,t)=>{Ft(n).subscribe(ht(t,()=>t.complete(),ct)),!t.closed&&e.subscribe(t)})}let DN;try{DN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{DN=!1}let A1,gD,h_,AN,Lc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function BSt(n){return n===S9}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(on(_T))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ig(n){return function MTt(){if(null==A1&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A1=!0}))}finally{A1=A1||!1}return A1}()?n:!!n.capture}function dY(){if(null==h_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return h_=!1,h_;if("scrollBehavior"in document.documentElement.style)h_=!0;else{const n=Element.prototype.scrollTo;h_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return h_}function I1(){if("object"!=typeof document||!document)return 0;if(null==gD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),gD=0,0===n.scrollLeft&&(n.scrollLeft=1,gD=0===n.scrollLeft?1:2),n.remove()}return gD}function vD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function _m(n){return n.composedPath?n.composedPath()[0]:n.target}function IN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let DTt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();const hY=new Set;let sb,ATt=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):PTt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ITt(n){if(!hY.has(n))try{sb||(sb=document.createElement("style"),sb.setAttribute("type","text/css"),document.head.appendChild(sb)),sb.sheet&&(sb.sheet.insertRule(`@media ${n} {body{ }}`,0),hY.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(on(Lc))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PTt(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _D=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new wt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fY(dD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=s_(fY(dD(t)).map(a=>this._registerQuery(a).observable));return o=d1(o.pipe(Ks(1)),o.pipe(cY(1),yu(0))),o.pipe(vt(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Pe(a=>{const s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(Bu(i),vt(({matches:a})=>({query:t,matches:a})),ja(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(on(ATt),on(vr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fY(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const lb={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Ud(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}let mY=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WTt=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=d_(t);return new Pe(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new wt,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(on(mY))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gY=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ol(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new _r,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ee(WTt),ee(Ni),ee(vr))},n.\u0275dir=Cn({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),wD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[mY]}),n})();class XTt{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new wt,this._typeaheadSubscription=V.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new wt,this.change=new wt,e instanceof um&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Xl(t=>this._pressedLetters.push(t)),yu(e),go(()=>this._pressedLetters.length>0),vt(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((r||Ud(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof um?this._items.toArray():this._items}}class SD extends XTt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let k1=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function qTt(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function $Tt(n){try{return n.frameElement}catch{return null}}(function rDt(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===bY(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=bY(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function nDt(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function iDt(n){return!function QTt(n){return function tDt(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function KTt(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function JTt(n){return function eDt(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||yY(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(on(Lc))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yY(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function bY(n){if(!yY(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class oDt{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ks(1)).subscribe(e)}}let CD=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new oDt(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(on(k1),on(vr),on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ON(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const aDt=new hn("cdk-input-modality-detector-options"),sDt={ignoreKeys:[18,17,224,91,16]},ub=Ig({passive:!0,capture:!0});let lDt=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Rc(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_m(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(LN(a)?"keyboard":"mouse"),this._mostRecentTarget=_m(a))},this._onTouchstart=a=>{ON(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_m(a))},this._options={...sDt,...o},this.modalityDetected=this._modality.pipe(cY(1)),this.modalityChanged=this.modalityDetected.pipe(vm()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ub),r.addEventListener("mousedown",this._onMousedown,ub),r.addEventListener("touchstart",this._onTouchstart,ub)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ub),document.removeEventListener("mousedown",this._onMousedown,ub),document.removeEventListener("touchstart",this._onTouchstart,ub))}}return n.\u0275fac=function(t){return new(t||n)(on(Lc),on(vr),on(io),on(aDt,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uDt=new hn("cdk-focus-monitor-default-options"),MD=Ig({passive:!0,capture:!0});let hh=(()=>{class n{constructor(t,i,r,o,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new wt,this._rootNodeFocusAndBlurListener=s=>{for(let c=_m(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(t,i=!1){const r=d_(t);if(!this._platform.isBrowser||1!==r.nodeType)return nr(null);const o=function TTt(n){if(function ETt(){if(null==AN){const n=typeof document<"u"?document.head:null;AN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const s={checkChildren:i,subject:new wt,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const i=d_(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=d_(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=_m(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,MD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,MD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ja(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(on(vr),on(Lc),on(lDt),on(io,8),on(uDt,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wY="cdk-high-contrast-black-on-white",SY="cdk-high-contrast-white-on-black",NN="cdk-high-contrast-active";let CY=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=di(_D).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(NN,wY,SY),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(NN,wY):2===i&&t.add(NN,SY)}}}return n.\u0275fac=function(t){return new(t||n)(on(Lc),on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R1=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(on(CY))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[wD]}),n})();const dDt=new hn("cdk-dir-doc",{providedIn:"root",factory:function hDt(){return di(io)}}),fDt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Gd=(()=>{class n{constructor(t){this.value="ltr",this.change=new _r,t&&(this.value=function pDt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?fDt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(on(dDt,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),db=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();const _Dt=new hn("mat-sanity-checks",{providedIn:"root",factory:function vDt(){return!0}});let yr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!IN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(on(CY),on(_Dt,8),on(io))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[db,db]}),n})();function hb(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=rr(e)}constructor(...e){super(...e),this._disabled=!1}}}function f_(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function p_(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function kg(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ol(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}const bDt=new hn("MAT_DATE_LOCALE",{providedIn:"root",factory:function xDt(){return di(ap)}});class cp{constructor(){this._localeChanges=new wt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const FN=new hn("mat-date-formats"),wDt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function BN(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let SDt=(()=>{class n extends cp{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return BN(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return BN(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return BN(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(wDt.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(on(bDt,8),on(Lc))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const CDt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let MDt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[{provide:cp,useClass:SDt}]}),n})(),EDt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[{provide:FN,useValue:CDt}],imports:[MDt]}),n})(),VN=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,yr]}),n})();class TDt{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const DY=Ig({passive:!0,capture:!0});class DDt{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=_m(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,DY)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,DY)))}}const AY={enterDuration:225,exitDuration:150},IY=Ig({passive:!0,capture:!0}),PY=["mousedown","touchstart"],kY=["mouseup","mouseleave","touchend","touchcancel"];class fb{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=d_(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...AY,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function IDt(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),s=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,g="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===r.width&&0===r.height,y=new TDt(this,u,i,g);u.style.transform="scale3d(1, 1, 1)",y.state=0,i.persistent||(this._mostRecentTransientRipple=y);let b=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const w=()=>this._finishRippleTransition(y),C=()=>this._destroyRipple(y);u.addEventListener("transitionend",w),u.addEventListener("transitioncancel",C),b={onTransitionEnd:w,onTransitionCancel:C}}),this._activeRipples.set(y,b),(g||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...AY,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=d_(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,PY.forEach(i=>{fb._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kY.forEach(t=>{this._triggerElement.addEventListener(t,this,IY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=LN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ON(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(PY.forEach(t=>fb._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&kY.forEach(t=>e.removeEventListener(t,this,IY)))}}fb._eventManager=new DDt;const pb=new hn("mat-ripple-global-options");let fh=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new fb(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(vr),ee(Lc),ee(pb,8),ee($c,8))},n.\u0275dir=Cn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&no("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,yr]}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr]}),n})(),ED=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[Vh,lc,yr,RY]}),n})();const LDt=["mat-button",""],ODt=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],NDt=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],BDt=["mat-icon-button",""],VDt=["*"],zDt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],UDt=f_(hb(p_(class{constructor(n){this._elementRef=n}})));let UN,LY=(()=>{class n extends UDt{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=di(hh),this._isFab=!1;const a=t.nativeElement.classList;for(const s of zDt)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{a.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){_g()},n.\u0275dir=Cn({type:n,viewQuery:function(t,i){if(1&t&&fs(fh,5),2&t){let r;Fi(r=Bi())&&(i.ripple=r.first)}},features:[ti]}),n})(),HDt=(()=>{class n extends LY{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Lc),ee(vr),ee($c,8))},n.\u0275cmp=Pi({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Mr("disabled",i.disabled||null),no("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ti],attrs:LDt,ngContentSelectors:NDt,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(qa(ODt),kr(0,"span",0),qi(1),Rn(2,"span",1),qi(3,1),Gn(),qi(4,2),kr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(no("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),bi(6),Mi("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[fh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),zN=(()=>{class n extends LY{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Lc),ee(vr),ee($c,8))},n.\u0275cmp=Pi({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Mr("disabled",i.disabled||null),no("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ti],attrs:BDt,ngContentSelectors:VDt,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(qa(),kr(0,"span",0),qi(1),kr(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(bi(3),Mi("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[fh],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),O1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,Vh,yr]}),n})(),WDt=1;const TD={};function OY(n){return n in TD&&(delete TD[n],!0)}const ZDt={setImmediate(n){const e=WDt++;return TD[e]=!0,UN||(UN=Promise.resolve()),UN.then(()=>OY(e)&&n()),e},clearImmediate(n){OY(n)}},{setImmediate:YDt,clearImmediate:XDt}=ZDt,DD={setImmediate(...n){const{delegate:e}=DD;return(e?.setImmediate||YDt)(...n)},clearImmediate(n){const{delegate:e}=DD;return(e?.clearImmediate||XDt)(n)},delegate:void 0},GN=new class qDt extends pD{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class $Dt extends fD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=DD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(DD.clearImmediate(t),e._scheduled=void 0)}});function NY(n,e){return e?t=>d1(e.pipe(Ks(1),function KDt(){return Nt((n,e)=>{n.subscribe(ht(e,ct))})}()),t.pipe(NY(n))):hr((t,i)=>n(t,i).pipe(Ks(1),GT(t)))}function FY(n=0,e,t=CTt){let i=-1;return null!=e&&(Li(e)?t=e:i=e),new Pe(r=>{let o=function QDt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function AD(n,e=mD){const t=FY(n,e);return NY(()=>t)}class HN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ID extends HN{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class N1 extends HN{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class JDt extends HN{constructor(e){super(),this.element=e instanceof Ni?e.nativeElement:e}}class jN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ID?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof N1?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof JDt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tAt extends jN{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Fu.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let PD=(()=>{class n extends jN{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new _r,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ee(t_),ee(yc),ee(io))},n.\u0275dir=Cn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ti]}),n})(),ym=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();class BY{}class eAt{}const bm="*";function cc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qa(n,e=null){return{type:4,styles:e,timings:n}}function VY(n,e=null){return{type:2,steps:n,options:e}}function tr(n){return{type:6,styles:n,offset:null}}function la(n,e,t){return{type:0,name:n,styles:e,options:t}}function Wa(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function zY(n){Promise.resolve().then(n)}class F1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zY(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class UY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?zY(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ZN="!",nAt=["addListener","removeListener"],iAt=["addEventListener","removeEventListener"],rAt=["on","off"];function Rg(n,e,t,i){if(st(t)&&(i=t,t=void 0),i)return Rg(n,e,t).pipe(qO(i));const[r,o]=function sAt(n){return st(n.addEventListener)&&st(n.removeEventListener)}(n)?iAt.map(a=>s=>n[a](e,s,t)):function oAt(n){return st(n.addListener)&&st(n.removeListener)}(n)?nAt.map(GY(n,e)):function aAt(n){return st(n.on)&&st(n.off)}(n)?rAt.map(GY(n,e)):[];if(!r&&Dn(n))return hr(a=>Rg(a,e,t))(Ft(n));if(!r)throw new TypeError("Invalid event target");return new Pe(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function GY(n,e){return t=>i=>n[t](e,i)}const B1={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=B1;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new V(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=B1;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=B1;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},uAt=new class cAt extends pD{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lAt extends fD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=B1.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(B1.cancelAnimationFrame(t),e._scheduled=void 0)}});function YN(n,e=mD){return function dAt(n){return Nt((e,t)=>{let i=!1,r=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}a&&t.complete()},l=()=>{o=null,a&&t.complete()};e.subscribe(ht(t,c=>{i=!0,r=c,o||Ft(n(c)).subscribe(o=ht(t,s,l))},()=>{a=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>FY(n,e))}const hAt=["contentWrapper"],fAt=["*"],pAt=new hn("VIRTUAL_SCROLL_STRATEGY");let gb=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new wt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Pe(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(YN(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(go(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=d_(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(on(vr),on(Lc),on(io,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m_=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new wt,this._elementScrolled=new Pe(a=>this.ngZone.runOutsideAngular(()=>Rg(this.elementRef.nativeElement,"scroll").pipe(ja(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=I1()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==I1()?t.left=t.right:1==I1()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;dY()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?r:i:"end"==t&&(t=a?i:r),a&&2==I1()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==I1()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(gb),ee(vr),ee(Gd,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),vb=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new wt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(YN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(on(Lc),on(vr),on(io,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HY=new hn("VIRTUAL_SCROLLABLE");let vAt=(()=>{class n extends m_{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(gb),ee(vr),ee(Gd,8))},n.\u0275dir=Cn({type:n,features:[ti]}),n})();const yAt=typeof requestAnimationFrame<"u"?uAt:GN;let bAt=(()=>{class n extends vAt{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=rr(t)}constructor(t,i,r,o,a,s,l,c){super(t,s,r,a),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=c,this._platform=di(Lc),this._detachedSubject=new wt,this._renderedRangeSubject=new wt,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Pe(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=V.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Bu(null),YN(0,yAt)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ja(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function _At(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,a=o?"X":"Y";let l=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",a="rtl"==this.dir?.value;i="start"==t?a?o:r:"end"==t?a?r:o:t||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-s}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Gs),ee(vr),ee(pAt,8),ee(Gd,8),ee(gb),ee(vb),ee(HY,8))},n.\u0275cmp=Pi({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&fs(hAt,7),2&t){let r;Fi(r=Bi())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&no("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ai([{provide:m_,useFactory:(e,t)=>e||t,deps:[[new gl,new em(HY)],n]}]),ti,X2],ngContentSelectors:fAt,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(qa(),Rn(0,"div",0,1),qi(2),Gn(),kr(3,"div",2)),2&t&&(bi(3),Vd("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),xm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),XN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[db,xm,bAt,db,xm]}),n})();const jY=dY();class xAt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qc(-this._previousScrollPosition.left),e.style.top=Qc(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),jY&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jY&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class wAt{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(go(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class WY{enable(){}disable(){}attach(){}}function $N(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ZY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class SAt{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$N(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let CAt=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new WY,this.close=a=>new wAt(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new xAt(this._viewportRuler,this._document),this.reposition=a=>new SAt(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(on(gb),on(vb),on(vr),on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LD{constructor(e){if(this.scrollStrategy=new WY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class MAt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let YY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EAt=(()=>{class n extends YY{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(on(io),on(vr,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TAt=(()=>{class n extends YY{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=_m(o)},this._clickListener=o=>{const a=_m(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(on(io),on(Lc),on(vr,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OD=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||IN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),IN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(on(io),on(Lc))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class V1{constructor(e,t,i,r,o,a,s,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new wt,this._attachments=new wt,this._detachments=new wt,this._locationChanges=V.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new wt,this._outsidePointerEvents=new wt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ks(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Qc(this._config.width),e.height=Qc(this._config.height),e.minWidth=Qc(this._config.minWidth),e.minHeight=Qc(this._config.minHeight),e.maxWidth=Qc(this._config.maxWidth),e.maxHeight=Qc(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=dD(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ja(qe(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const XY="cdk-overlay-connected-position-bounding-box",DAt=/([A-Za-z%]+)$/;class AAt{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wt,this._resizeSubscription=V.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(XY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,r,s),c=this._getOverlayPoint(l,t,s),u=this._getOverlayFit(c,t,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:t})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&g_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;r="start"==i.originX?a:s}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=qY(t);let{x:a,y:s}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let h=0-s,p=s+o.height-i.height,g=this._subtractOverflows(o.width,0-a,a+o.width-i.width),y=this._subtractOverflows(o.height,h,p),b=g*y;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,a=$Y(this._overlayRef.getConfig().minHeight),s=$Y(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=r)&&(e.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=qY(t),o=this._viewportRect,a=Math.max(e.x+r.width-o.width,0),s=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-a:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-s:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new MAt(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,a,s,u,d,h;if("top"===t.overlayY)a=e.y,o=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)s=i.height-e.y+2*this._viewportMargin,o=i.height-s+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;o=2*p,a=e.y-p,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-g/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;u=2*p,d=e.x-p,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-g/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Qc(i.height),r.top=Qc(i.top),r.bottom=Qc(i.bottom),r.width=Qc(i.width),r.left=Qc(i.left),r.right=Qc(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Qc(o)),a&&(r.maxWidth=Qc(a))}this._lastBoundingBoxSize=i,g_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){g_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){g_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();g_(i,this._getExactOverlayY(t,e,u)),g_(i,this._getExactOverlayX(t,e,u))}else i.position="static";let s="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Qc(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Qc(a.maxWidth):o&&(i.maxWidth="")),g_(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Qc(o.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Qc(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZY(e,i),isOriginOutsideView:$N(e,i),isOverlayClipped:ZY(t,i),isOverlayOutsideView:$N(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&dD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ni)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function g_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $Y(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(DAt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const KY="cdk-global-overlay-wrapper";class IAt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(KY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",g="",y="";l?y="flex-start":"center"===u?(y="center",h?g=d:p=d):h?"left"===u||"end"===u?(y="flex-end",p=d):("right"===u||"start"===u)&&(y="flex-start",g=d):"left"===u||"start"===u?(y="flex-start",p=d):("right"===u||"end"===u)&&(y="flex-end",g=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(KY),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let PAt=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new IAt}flexibleConnectedTo(t){return new AAt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(on(vb),on(io),on(Lc),on(OD))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kAt=0,Hd=(()=>{class n{constructor(t,i,r,o,a,s,l,c,u,d,h,p){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new LD(t);return a.direction=a.direction||this._directionality.value,new V1(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kAt++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Y0)),new tAt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(on(CAt),on(OD),on(t_),on(PAt),on(EAt),on(Fu),on(vr),on(io),on(Gd),on(o1),on(TAt),on($c,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OAt={provide:new hn("cdk-connected-overlay-scroll-strategy"),deps:[Hd],useFactory:function LAt(n){return()=>n.scrollStrategies.reposition()}};let up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Hd,OAt],imports:[db,ym,XN,XN]}),n})();const NAt=["mat-menu-item",""];function FAt(n,e){1&n&&(mf(),Rn(0,"svg",3),kr(1,"polygon",4),Gn())}const BAt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],VAt=["mat-icon, [matMenuItemIcon]","*"];function zAt(n,e){if(1&n){const t=xg();Rn(0,"div",0),gr("keydown",function(r){return Fd(t),Bd(qs()._handleKeydown(r))})("click",function(){return Fd(t),Bd(qs().closed.emit("click"))})("@transformMenu.start",function(r){return Fd(t),Bd(qs()._onAnimationStart(r))})("@transformMenu.done",function(r){return Fd(t),Bd(qs()._onAnimationDone(r))}),Rn(1,"div",1),qi(2),Gn()()}if(2&n){const t=qs();Mi("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Mr("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const UAt=["*"],qN=new hn("MAT_MENU_PANEL"),GAt=p_(hb(class{}));let ND=(()=>{class n extends GAt{constructor(t,i,r,o,a){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new wt,this._focused=new wt,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(io),ee(hh),ee(qN,8),ee(Gs))},n.\u0275cmp=Pi({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,i){1&t&&gr("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Mr("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),no("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ti],attrs:NAt,ngContentSelectors:VAt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(qa(BAt),qi(0),Rn(1,"span",0),qi(2,1),Gn(),kr(3,"div",1),co(4,FAt,2,0,"svg",2)),2&t&&(bi(3),Mi("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),bi(1),Mi("ngIf",i._triggersSubmenu))},dependencies:[Tf,fh],encapsulation:2,changeDetection:0}),n})();const HAt=new hn("MatMenuContent"),FD={transformMenu:cc("transformMenu",[la("void",tr({opacity:0,transform:"scale(0.8)"})),Wa("void => enter",Qa("120ms cubic-bezier(0, 0, 0.2, 1)",tr({opacity:1,transform:"scale(1)"}))),Wa("* => void",Qa("100ms 25ms linear",tr({opacity:0})))]),fadeInItems:cc("fadeInItems",[la("showing",tr({opacity:1})),Wa("void => *",[tr({opacity:0}),Qa("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jAt=0;const QY=new hn("mat-menu-default-options",{providedIn:"root",factory:function WAt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let z1=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=rr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rr(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new um,this._classList={},this._panelAnimationState="void",this._animationDone=new wt,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _r,this.close=this.closed,this.panelId="mat-menu-panel-"+jAt++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new SD(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bu(this._directDescendantItems),od(t=>qe(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Bu(this._directDescendantItems),od(i=>qe(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Ud(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ks(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Bu(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(vr),ee(QY),ee(Gs))},n.\u0275dir=Cn({type:n,contentQueries:function(t,i,r){if(1&t&&(Uo(r,HAt,5),Uo(r,ND,5),Uo(r,ND,4)),2&t){let o;Fi(o=Bi())&&(i.lazyContent=o.first),Fi(o=Bi())&&(i._allItems=o),Fi(o=Bi())&&(i.items=o)}},viewQuery:function(t,i){if(1&t&&fs(Ic,5),2&t){let r;Fi(r=Bi())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),ZAt=(()=>{class n extends z1{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(vr),ee(QY),ee(Gs))},n.\u0275cmp=Pi({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Mr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ai([{provide:qN,useExisting:n}]),ti],ngContentSelectors:UAt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,i){1&t&&(qa(),co(0,zAt,3,6,"ng-template"))},dependencies:[p9],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[FD.transformMenu,FD.fadeInItems]},changeDetection:0}),n})();const JY=new hn("mat-menu-scroll-strategy"),XAt={provide:JY,deps:[Hd],useFactory:function YAt(n){return()=>n.scrollStrategies.reposition()}},tX=Ig({passive:!0});let $At=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,a,s,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=s,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=V.EMPTY,this._hoverSubscription=V.EMPTY,this._menuCloseSubscription=V.EMPTY,this._changeDetectorRef=di(Gs),this._handleTouchStart=d=>{ON(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _r,this.onMenuOpen=this.menuOpened,this.menuClosed=new _r,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof z1?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,tX)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,tX),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof z1&&(t._startAnimation(),t._directDescendantItems.changes.pipe(ja(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof z1?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(go(r=>"void"===r.toState),Ks(1),ja(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new LD({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,a)):t.setPositionClasses(o,a)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[a,s]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,d]=[r,o],h=0;if(this.triggersSubmenu()){if(d=r="before"===t.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===a?"bottom":"top",c="top"===s?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:a,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:s,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:s,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return qe(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:nr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(go(a=>a!==this._menuItemInstance),go(()=>this._menuOpen)):nr(),i)}_handleMousedown(t){LN(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(go(t=>t===this._menuItemInstance&&!t.disabled),AD(0,GN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof z1&&this.menu._isAnimating?this.menu._animationDone.pipe(Ks(1),AD(0,GN),ja(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new N1(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(ee(Hd),ee(Ni),ee(yc),ee(JY),ee(qN,8),ee(ND,10),ee(Gd,8),ee(hh),ee(vr))},n.\u0275dir=Cn({type:n,hostVars:3,hostBindings:function(t,i){1&t&&gr("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&Mr("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),qAt=(()=>{class n extends $At{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[ti]}),n})(),eX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[XAt],imports:[lc,Vh,yr,up,xm,yr]}),n})();const nX=["*"];class QAt{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new JAt(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class JAt{constructor(e,t){this.row=e,this.col=t}}const iX=new hn("MAT_GRID_LIST");let rX=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Ol(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Ol(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(iX,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&Mr("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:nX,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(qa(),Rn(0,"div",0),qi(1),Gn())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const tIt=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class KN{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=oX(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":v_(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(e,i,r,o),this.setRowStyles(e,t,r,o)}setColStyles(e,t,i,r){let o=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,t)),e._setStyle("width",v_(this.getTileSize(o,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class eIt extends KN{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=oX(this.fixedRowHeight),tIt.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",v_(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",v_(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class nIt extends KN{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",v_(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",v_(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class iIt extends KN{setRowStyles(e,t){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(o,t)),e._setStyle("height",v_(this.getTileSize(o,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function v_(n){return`calc(${n})`}function oX(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let oIt=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Ol(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new iIt:t&&t.indexOf(":")>-1?new nIt(t):new eIt(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new QAt);const t=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((o,a)=>{const s=t.positions[a];this._tileStyler.setStyle(o,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Gd,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,rX,5),2&t){let o;Fi(o=Bi())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&Mr("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Ai([{provide:iX,useExisting:n}])],ngContentSelectors:nX,decls:2,vars:0,template:function(t,i){1&t&&(qa(),Rn(0,"div"),qi(1),Gn())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),aX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[TY,yr,TY,yr]}),n})();const aIt=["*"],cIt=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uIt=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],dIt=new hn("MAT_CARD_CONFIG");let sX=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(ee(dIt,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&no("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:aIt,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),lX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),cX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),uX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pi({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:uIt,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(qa(cIt),qi(0),Rn(1,"div",0),qi(2,1),Gn(),qi(3,2))},encapsulation:2,changeDetection:0}),n})(),dX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,lc,yr]}),n})();function QN(...n){const e=Yi(n),{args:t,keys:i}=Q9(n),r=new Pe(o=>{const{length:a}=t;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let d=!1;Ft(t[u]).subscribe(ht(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?J9(i,s):s),o.complete())}))}});return e?r.pipe(qO(e)):r}class BD{}class JN{}class wm{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class wIt{encodeKey(e){return hX(e)}encodeValue(e){return hX(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const CIt=/%(\d[a-f0-9])/gi,MIt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hX(n){return encodeURIComponent(n).replace(CIt,(e,t)=>MIt[t]??e)}function VD(n){return`${n}`}class Lg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wIt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function SIt(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,s]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(a)||[];l.push(s),t.set(a,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(VD):[VD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(VD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(VD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class EIt{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fX(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pX(n){return typeof Blob<"u"&&n instanceof Blob}function mX(n){return typeof FormData<"u"&&n instanceof FormData}class U1{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function TIt(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wm),this.context||(this.context=new EIt),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+a}}else this.params=new Lg,this.urlWithParams=t}serializeBody(){return null===this.body?null:fX(this.body)||pX(this.body)||mX(this.body)||function DIt(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mX(this.body)?null:pX(this.body)?this.body.type||null:fX(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new U1(t,i,o,{params:c,headers:l,context:u,reportProgress:s,responseType:r,withCredentials:a})}}var Jc=(()=>((Jc=Jc||{})[Jc.Sent=0]="Sent",Jc[Jc.UploadProgress=1]="UploadProgress",Jc[Jc.ResponseHeader=2]="ResponseHeader",Jc[Jc.DownloadProgress=3]="DownloadProgress",Jc[Jc.Response=4]="Response",Jc[Jc.User=5]="User",Jc))();class tF{constructor(e,t=200,i="OK"){this.headers=e.headers||new wm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class eF extends tF{constructor(e={}){super(e),this.type=Jc.ResponseHeader}clone(e={}){return new eF({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zD extends tF{constructor(e={}){super(e),this.type=Jc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gX extends tF{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let G1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof U1)o=t;else{let l,c;l=r.headers instanceof wm?r.headers:new wm(r.headers),r.params&&(c=r.params instanceof Lg?r.params:new Lg({fromObject:r.params})),o=new U1(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=nr(o).pipe(Eg(l=>this.handler.handle(l)));if(t instanceof U1||"events"===r.observe)return a;const s=a.pipe(go(l=>l instanceof zD));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(vt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(vt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(vt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(vt(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Lg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,nF(r,i))}post(t,i,r={}){return this.request("POST",t,nF(r,i))}put(t,i,r={}){return this.request("PUT",t,nF(r,i))}}return n.\u0275fac=function(t){return new(t||n)(on(BD))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function vX(n,e){return e(n)}function AIt(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const PIt=new hn("HTTP_INTERCEPTORS"),H1=new hn("HTTP_INTERCEPTOR_FNS");function kIt(){let n=null;return(e,t)=>(null===n&&(n=(di(PIt,{optional:!0})??[]).reduceRight(AIt,vX)),n(e,t))}let _X=(()=>{class n extends BD{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(H1)));this.chain=i.reduceRight((r,o)=>function IIt(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),vX)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(on(JN),on(tp))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const NIt=/^\)\]\}',?\n/;let bX=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((p,g)=>r.setRequestHeader(p,g.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&r.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();r.responseType="json"!==p?p:"text"}const o=t.serializeBody();let a=null;const s=()=>{if(null!==a)return a;const p=r.statusText||"OK",g=new wm(r.getAllResponseHeaders()),y=function FIt(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new eF({headers:g,status:r.status,statusText:p,url:y}),a},l=()=>{let{headers:p,status:g,statusText:y,url:b}=s(),w=null;204!==g&&(w=typeof r.response>"u"?r.responseText:r.response),0===g&&(g=w?200:0);let C=g>=200&&g<300;if("json"===t.responseType&&"string"==typeof w){const E=w;w=w.replace(NIt,"");try{w=""!==w?JSON.parse(w):null}catch(k){w=E,C&&(C=!1,w={error:k,text:w})}}C?(i.next(new zD({body:w,headers:p,status:g,statusText:y,url:b||void 0})),i.complete()):i.error(new gX({error:w,headers:p,status:g,statusText:y,url:b||void 0}))},c=p=>{const{url:g}=s(),y=new gX({error:p,status:r.status||0,statusText:r.statusText||"Unknown Error",url:g||void 0});i.error(y)};let u=!1;const d=p=>{u||(i.next(s()),u=!0);let g={type:Jc.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),"text"===t.responseType&&r.responseText&&(g.partialText=r.responseText),i.next(g)},h=p=>{let g={type:Jc.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),i.next(g)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",h)),r.send(o),i.next({type:Jc.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(on(M9))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const iF=new hn("XSRF_ENABLED"),xX=new hn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),wX=new hn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class SX{}let zIt=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=h9(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(on(io),on(_T),on(xX))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function UIt(n,e){const t=n.url.toLowerCase();if(!di(iF)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=di(SX).getToken(),r=di(wX);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Oc=(()=>((Oc=Oc||{})[Oc.Interceptors=0]="Interceptors",Oc[Oc.LegacyInterceptors=1]="LegacyInterceptors",Oc[Oc.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Oc[Oc.NoXsrfProtection=3]="NoXsrfProtection",Oc[Oc.JsonpSupport=4]="JsonpSupport",Oc[Oc.RequestsMadeViaParent=5]="RequestsMadeViaParent",Oc))();function _b(n,e){return{\u0275kind:n,\u0275providers:e}}function GIt(...n){const e=[G1,bX,_X,{provide:BD,useExisting:_X},{provide:JN,useExisting:bX},{provide:H1,useValue:UIt,multi:!0},{provide:iF,useValue:!0},{provide:SX,useClass:zIt}];for(const t of n)e.push(...t.\u0275providers);return function z_t(n){return{\u0275providers:n}}(e)}const CX=new hn("LEGACY_INTERCEPTOR_FN");let jIt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[GIt(_b(Oc.LegacyInterceptors,[{provide:CX,useFactory:kIt},{provide:H1,useExisting:CX,multi:!0}]))]}),n})();const WIt=["*"];let UD;function j1(n){return function ZIt(){if(void 0===UD&&(UD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(UD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return UD}()?.createHTML(n)||n}function MX(n){return Error(`Unable to find icon with the name "${n}"`)}function EX(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TX(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class __{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let GD=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new __(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const a=this._sanitizer.sanitize(Us.HTML,r);if(!a)throw TX(r);const s=j1(a);return this._addSvgIconConfig(t,i,new __("",s,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new __(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Us.HTML,i);if(!o)throw TX(i);const a=j1(o);return this._addSvgIconSetConfig(t,new __("",a,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Us.RESOURCE_URL,t);if(!i)throw EX(t);const r=this._cachedIconsByUrl.get(i);return r?nr(HD(r)):this._loadSvgIconFromConfig(new __(t,null)).pipe(Xl(o=>this._cachedIconsByUrl.set(i,o)),vt(o=>HD(o)))}getNamedSvgIcon(t,i=""){const r=DX(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):$0(MX(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nr(HD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(vt(i=>HD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?nr(r):QN(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(mm(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Us.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),nr(null)})))).pipe(vt(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw MX(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,t,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Xl(i=>t.svgText=i),vt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nr(null):this._fetchIcon(t).pipe(Xl(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const s=this._svgElementFromString(j1("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(j1("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:a,value:s}=r[o];"id"!==a&&i.setAttribute(a,s)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function YIt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Us.RESOURCE_URL,i);if(!a)throw EX(i);const s=this._inProgressUrlFetches.get(a);if(s)return s;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(vt(c=>j1(c)),HT(()=>this._inProgressUrlFetches.delete(a)),sn());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(DX(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return $It(o)?new __(o.url,null,o.options):new __(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(on(G1,8),on($O),on(io,8),on(sm))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HD(n){return n.cloneNode(!0)}function DX(n,e){return n+":"+e}function $It(n){return!(!n.url||!n.options)}const qIt=f_(class{constructor(n){this._elementRef=n}}),KIt=new hn("MAT_ICON_DEFAULT_OPTIONS"),QIt=new hn("mat-icon-location",{providedIn:"root",factory:function JIt(){const n=di(io),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),AX=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tPt=AX.map(n=>`[${n}]`).join(", "),ePt=/^url\(['"]?#(.*?)['"]?\)$/;let jD=(()=>{class n extends qIt{get inline(){return this._inline}set inline(t){this._inline=rr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,a,s){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=V.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(tPt),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)AX.forEach(a=>{const s=i[o],l=s.getAttribute(a),c=l?l.match(ePt):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ks(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(GD),Yc("aria-hidden"),ee(QIt),ee(sm),ee(KIt,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Mr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),no("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ti],ngContentSelectors:WIt,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,yr]}),n})();var oF=function(n,e){return(oF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function vn(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}oF(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var rPt=function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},y_=new function n(){this.browser=new rPt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(y_.wxa=!0,y_.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?y_.worker=!0:typeof navigator>"u"?(y_.node=!0,y_.svgSupported=!0):function aPt(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,y_);const ca=y_;var n,e,aF=12,RX="sans-serif",Og=aF+"px "+RX,dPt=function uPt(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Af={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(t,i){if(!n){var r=Af.createCanvas();n=r&&r.getContext("2d")}if(n)return e!==i&&(e=n.font=i||Og),n.measureText(t);t=t||"";var o=/(\d+)px/.exec(i=i||Og),a=o&&+o[1]||aF,s=0;if(i.indexOf("mono")>=0)s=a*t.length;else for(var l=0;l<t.length;l++){var c=dPt[t[l]];s+=null==c?a:c*a}return{width:s}},loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}},LX=dp(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),OX=dp(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),yb=Object.prototype.toString,ZD=Array.prototype,hPt=ZD.forEach,fPt=ZD.filter,sF=ZD.slice,pPt=ZD.map,NX=function(){}.constructor,YD=NX?NX.prototype:null,lF="__proto__",mPt=2311;function FX(){return mPt++}function cF(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function ur(n){if(null==n||"object"!=typeof n)return n;var e=n,t=yb.call(n);if("[object Array]"===t){if(!Y1(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=ur(n[i])}}else if(OX[t]){if(!Y1(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),i=0,r=n.length;i<r;i++)e[i]=n[i]}}else if(!LX[t]&&!Y1(n)&&!W1(n))for(var a in e={},n)n.hasOwnProperty(a)&&a!==lF&&(e[a]=ur(n[a]));return e}function Yr(n,e,t){if(!or(e)||!or(n))return t?ur(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==lF){var r=n[i],o=e[i];!or(o)||!or(r)||Ln(o)||Ln(r)||W1(o)||W1(r)||BX(o)||BX(r)||Y1(o)||Y1(r)?(t||!(i in n))&&(n[i]=ur(e[i])):Yr(r,o,t)}return n}function uF(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=Yr(t,n[i],e);return t}function An(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==lF&&(n[t]=e[t]);return n}function er(n,e,t){for(var i=Io(e),r=0;r<i.length;r++){var o=i[r];(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}return n}function so(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function Nc(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}else er(n,e,t)}function ad(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function Xt(n,e,t){if(n&&e)if(n.forEach&&n.forEach===hPt)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function Nn(n,e,t){if(!n)return[];if(!e)return hF(n);if(n.map&&n.map===pPt)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function dp(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function Ss(n,e,t){if(!n)return[];if(!e)return hF(n);if(n.filter&&n.filter===fPt)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function Io(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var vi=YD&&Ki(YD.bind)?YD.call.bind(YD.bind):function _Pt(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(sF.call(arguments)))}};function Lr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(sF.call(arguments)))}}function Ln(n){return Array.isArray?Array.isArray(n):"[object Array]"===yb.call(n)}function Ki(n){return"function"==typeof n}function si(n){return"string"==typeof n}function dF(n){return"[object String]"===yb.call(n)}function ua(n){return"number"==typeof n}function or(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function BX(n){return!!LX[yb.call(n)]}function ph(n){return!!OX[yb.call(n)]}function W1(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function XD(n){return null!=n.colorStops}function Z1(n){return n!=n}function bu(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(null!=n[t])return n[t]}function Xr(n,e){return n??e}function Sm(n,e,t){return n??e??t}function hF(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return sF.apply(n,e)}function fF(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function Sd(n,e){if(!n)throw new Error(e)}function If(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var VX="__ec_primitive__";function $D(n){n[VX]=!0}function Y1(n){return n[VX]}var xPt=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Io(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),zX="function"==typeof Map,SPt=function(){function n(e){var t=Ln(e);this.data=function wPt(){return zX?new Map:new xPt}();var i=this;function r(o,a){t?i.set(o,a):i.set(a,o)}e instanceof n?e.each(r):e&&Xt(e,r)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return zX?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Wi(n){return new SPt(n)}function qD(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function KD(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&An(t,e),t}function UX(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function xi(n,e){return n.hasOwnProperty(e)}function bc(){}var QD=180/Math.PI,pF=function(n,e){return(pF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function vl(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}pF(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function b_(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function Cd(n,e){return n[0]=e[0],n[1]=e[1],n}function Cm(n){return[n[0],n[1]]}function EPt(n,e,t){return n[0]=e,n[1]=t,n}function WX(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function mF(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function x_(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function gF(n){return Math.sqrt(function TPt(n){return n[0]*n[0]+n[1]*n[1]}(n))}function tA(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function bb(n,e){var t=gF(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function vF(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Ng=vF,w_=function DPt(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])};function eA(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function zu(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function Fg(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Bg(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var xb=function n(e,t){this.target=e,this.topTarget=t&&t.topTarget},APt=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new xb(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,t.drift(o,a,e),this.handler.dispatchToElement(new xb(t,e),"drag",e.event);var s=this.handler.findHover(i,r,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new xb(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new xb(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new xb(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new xb(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const IPt=APt;var PPt=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!e)return this;var a=this._$eventProcessor;null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===i)return this;var l={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=o[e].length-1,u=o[e][c];return u&&u.callAtLast?o[e].splice(c,0,l):o[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,a=i[e].length;o<a;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!o||!o.filter||null==c.query||o.filter(e,c.query))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,s=t[a-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!o||!o.filter||null==u.query||o.filter(e,u.query))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}();const zh=PPt;var kPt=Math.log(2);function _F(n,e,t,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/kPt);return n[t][l]}for(var c=i|1<<t,u=t+1;i&1<<u;)u++;for(var d=0,h=0,p=0;h<s;h++){var g=1<<h;g&r||(d+=(p%2?-1:1)*n[t][h]*_F(n,e-1,u,c,r|g,o),p++)}return o[a]=d,d}function ZX(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=_F(t,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*_F(t,7,0===a?1:0,1<<a,1<<s,i)/r*e[a];return function(l,c,u){var d=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/d,l[1]=(c*o[3]+u*o[4]+o[5])/d}}}var YX="___zrEVENTSAVED",yF=[];function bF(n,e,t,i,r){if(e.getBoundingClientRect&&ca.domSupported&&!XX(e)){var o=e[YX]||(e[YX]={}),a=function LPt(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),l=o%2,c=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),n.appendChild(a),t.push(a)}return t}(e,o),s=function OPt(n,e,t){for(var i=t?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,h=u.left,p=u.top;a.push(h,p),l=l&&o&&h===o[d]&&p===o[d+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=t?ZX(s,a):ZX(a,s))}(a,o,r);if(s)return s(n,t,i),!0}return!1}function XX(n){return"CANVAS"===n.nodeName.toUpperCase()}var NPt=/([&<>"'])/g,FPt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function jd(n){return null==n?"":(n+"").replace(NPt,function(e,t){return FPt[t]})}var BPt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xF=[],VPt=ca.browser.firefox&&+ca.browser.version.split(".")[0]<39;function wF(n,e,t,i){return t=t||{},i?$X(n,e,t):VPt&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):$X(n,e,t),t}function $X(n,e,t){if(ca.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(XX(n)){var o=n.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(bF(xF,n,i,r))return t.zrX=xF[0],void(t.zrY=xF[1])}t.zrX=t.zrY=0}function SF(n){return n||window.event}function Uh(n,e,t){if(null!=(e=SF(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var a="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];a&&wF(n,a,e,t)}else{wF(n,e,e,t);var o=function zPt(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;return null==t||null==i?e:3*Math.abs(0!==i?i:t)*(i>0?-1:i<0?1:t>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&BPt.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function CF(n,e,t,i){n.addEventListener(e,t,i)}function UPt(n,e,t,i){n.removeEventListener(e,t,i)}var Mm=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function qX(n){return 2===n.which||3===n.which}var GPt=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},a=0,s=r.length;a<s;a++){var l=r[a],c=wF(i,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in MF)if(MF.hasOwnProperty(t)){var i=MF[t](this._track,e);if(i)return i}},n}();function KX(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var MF={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,r=(n[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=KX(i)/KX(r);!isFinite(o)&&(o=1),e.pinchScale=o;var a=function HPt(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(i);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:n[0].target,event:e}}}}};function nA(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function EF(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Em(n,e,t){var r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function hp(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function S_(n,e,t){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(t),u=Math.cos(t);return n[0]=i*u+a*c,n[1]=-i*c+a*u,n[2]=r*u+s*c,n[3]=-r*c+u*s,n[4]=u*o+c*l,n[5]=u*l-c*o,n}function TF(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function wb(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=t*a-o*i;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-i*l,n[3]=t*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-t*s)*l,n):null}var WPt=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}();const Hr=WPt;var iA=Math.min,rA=Math.max,C_=new Hr,M_=new Hr,E_=new Hr,T_=new Hr,X1=new Hr,$1=new Hr,ZPt=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=iA(e.x,this.x),i=iA(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?rA(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?rA(e.y+e.height,this.y+this.height)-i:e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=[1,0,0,1,0,0];return hp(o,o,[-t.x,-t.y]),TF(o,o,[i,r]),hp(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,h=!(o<l||c<r||s<u||d<a);if(t){var p=1/0,g=0,y=Math.abs(o-l),b=Math.abs(c-r),w=Math.abs(s-u),C=Math.abs(d-a),E=Math.min(y,b),k=Math.min(w,C);o<l||c<r?E>g&&(g=E,Hr.set($1,y<b?-y:b,0)):E<p&&(p=E,Hr.set(X1,y<b?y:-b,0)),s<u||d<a?k>g&&(g=k,Hr.set($1,0,w<C?-w:C)):E<p&&(p=E,Hr.set(X1,0,w<C?w:-C))}return t&&Hr.copy(t,h?X1:$1),h},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[5];return e.x=t.x*r+i[4],e.y=t.y*o+s,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}C_.x=E_.x=t.x,C_.y=T_.y=t.y,M_.x=T_.x=t.x+t.width,M_.y=E_.y=t.y+t.height,C_.transform(i),T_.transform(i),M_.transform(i),E_.transform(i),e.x=iA(C_.x,M_.x,E_.x,T_.x),e.y=iA(C_.y,M_.y,E_.y,T_.y);var l=rA(C_.x,M_.x,E_.x,T_.x),c=rA(C_.y,M_.y,E_.y,T_.y);e.width=l-e.x,e.height=c-e.y}else e!==t&&n.copy(e,t)},n}();const $r=ZPt;var QX="silent";function XPt(){Mm(this.event)}var $Pt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return vl(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(zh),q1=function n(e,t){this.x=e,this.y=t},qPt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],DF=new $r(0,0,0,0),JX=function(n){function e(t,i,r,o,a){var s=n.call(this)||this;return s._hovered=new q1(0,0),s.storage=t,s.painter=i,s.painterRoot=o,s._pointerSize=a,r=r||new $Pt,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new IPt(s),s}return vl(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Xt(qPt,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=e$(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new q1(i,r):this.findHover(i,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new q1(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+i,s=function YPt(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:XPt}}(i,t,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},e.prototype.findHover=function(t,i,r){var o=this.storage.getDisplayList(),a=new q1(t,i);if(t$(o,a,t,i,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new $r(t-c,i-c,l,l),d=o.length-1;d>=0;d--){var h=o[d];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(DF.copy(h.getBoundingRect()),h.transform&&DF.applyTransform(h.transform),DF.intersect(u)&&s.push(h))}if(s.length)for(var g=Math.PI/12,y=2*Math.PI,b=0;b<c;b+=4)for(var w=0;w<y;w+=g)if(t$(s,a,t+b*Math.cos(w),i+b*Math.sin(w),r),a.target)return a}return a},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new GPt);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;t.gestureEvent=a;var s=new q1;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e}(zh);function KPt(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,t))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||QX}return!1}function t$(n,e,t,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],s=void 0;if(a!==r&&!a.ignore&&(s=KPt(a,t,i))&&(!e.topTarget&&(e.topTarget=a),s!==QX)){e.target=a;break}}}function e$(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}Xt(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){JX.prototype[n]=function(e){var o,a,t=e.zrX,i=e.zrY,r=e$(this,t,i);if(("mouseup"!==n||!r)&&(a=(o=this.findHover(t,i)).target),"mousedown"===n)this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if("mouseup"===n)this._upEl=a;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Ng(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,e)}});const QPt=JX;var n$=32,K1=7;function r$(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;!function tkt(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function o$(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var l,o=n[i],a=e,s=i;a<s;)r(o,n[l=a+s>>>1])<0?s=l:a=l+1;var c=i-a;switch(c){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;c>0;)n[a+c]=n[a+c-1],c--}n[a]=o}}function AF(n,e,t,i,r,o){var a=0,s=0,l=1;if(o(n,e[t+r])>0){for(s=i-r;l<s&&o(n,e[t+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,e[t+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])>0?a=u+1:l=u}return l}function IF(n,e,t,i,r,o){var a=0,s=0,l=1;if(o(n,e[t+r])<0){for(s=r+1;l<s&&o(n,e[t+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(n,e[t+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])<0?l=u:a=u+1}return l}function oA(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<n$)return void o$(n,t,i,t+(o=r$(n,t,i,e)),e);var a=function ekt(n,e){var a,s,t=K1,l=0,c=[];function p(b){var w=a[b],C=s[b],E=a[b+1],k=s[b+1];s[b]=C+k,b===l-3&&(a[b+1]=a[b+2],s[b+1]=s[b+2]),l--;var j=IF(n[E],n,w,C,0,e);w+=j,0!=(C-=j)&&0!==(k=AF(n[w+C-1],n,E,k,k-1,e))&&(C<=k?function g(b,w,C,E){var k=0;for(k=0;k<w;k++)c[k]=n[b+k];var j=0,H=C,it=b;if(n[it++]=n[H++],0!=--E)if(1!==w){for(var lt,Lt,kt,yt=t;;){lt=0,Lt=0,kt=!1;do{if(e(n[H],c[j])<0){if(n[it++]=n[H++],Lt++,lt=0,0==--E){kt=!0;break}}else if(n[it++]=c[j++],lt++,Lt=0,1==--w){kt=!0;break}}while((lt|Lt)<yt);if(kt)break;do{if(0!==(lt=IF(n[H],c,j,w,0,e))){for(k=0;k<lt;k++)n[it+k]=c[j+k];if(it+=lt,j+=lt,(w-=lt)<=1){kt=!0;break}}if(n[it++]=n[H++],0==--E){kt=!0;break}if(0!==(Lt=AF(c[j],n,H,E,0,e))){for(k=0;k<Lt;k++)n[it+k]=n[H+k];if(it+=Lt,H+=Lt,0==(E-=Lt)){kt=!0;break}}if(n[it++]=c[j++],1==--w){kt=!0;break}yt--}while(lt>=K1||Lt>=K1);if(kt)break;yt<0&&(yt=0),yt+=2}if((t=yt)<1&&(t=1),1===w){for(k=0;k<E;k++)n[it+k]=n[H+k];n[it+E]=c[j]}else{if(0===w)throw new Error;for(k=0;k<w;k++)n[it+k]=c[j+k]}}else{for(k=0;k<E;k++)n[it+k]=n[H+k];n[it+E]=c[j]}else for(k=0;k<w;k++)n[it+k]=c[j+k]}(w,C,E,k):function y(b,w,C,E){var k=0;for(k=0;k<E;k++)c[k]=n[C+k];var j=b+w-1,H=E-1,it=C+E-1,yt=0,lt=0;if(n[it--]=n[j--],0!=--w)if(1!==E){for(var Lt=t;;){var kt=0,Jt=0,ne=!1;do{if(e(c[H],n[j])<0){if(n[it--]=n[j--],kt++,Jt=0,0==--w){ne=!0;break}}else if(n[it--]=c[H--],Jt++,kt=0,1==--E){ne=!0;break}}while((kt|Jt)<Lt);if(ne)break;do{if(0!=(kt=w-IF(c[H],n,b,w,w-1,e))){for(w-=kt,lt=1+(it-=kt),yt=1+(j-=kt),k=kt-1;k>=0;k--)n[lt+k]=n[yt+k];if(0===w){ne=!0;break}}if(n[it--]=c[H--],1==--E){ne=!0;break}if(0!=(Jt=E-AF(n[j],c,0,E,E-1,e))){for(E-=Jt,lt=1+(it-=Jt),yt=1+(H-=Jt),k=0;k<Jt;k++)n[lt+k]=c[yt+k];if(E<=1){ne=!0;break}}if(n[it--]=n[j--],0==--w){ne=!0;break}Lt--}while(kt>=K1||Jt>=K1);if(ne)break;Lt<0&&(Lt=0),Lt+=2}if((t=Lt)<1&&(t=1),1===E){for(lt=1+(it-=w),yt=1+(j-=w),k=w-1;k>=0;k--)n[lt+k]=n[yt+k];n[it]=c[H]}else{if(0===E)throw new Error;for(yt=it-(E-1),k=0;k<E;k++)n[yt+k]=c[k]}}else{for(lt=1+(it-=w),yt=1+(j-=w),k=w-1;k>=0;k--)n[lt+k]=n[yt+k];n[it]=c[H]}else for(yt=it-(E-1),k=0;k<E;k++)n[yt+k]=c[k]}(w,C,E,k))}return a=[],s=[],{mergeRuns:function d(){for(;l>1;){var b=l-2;if(b>=1&&s[b-1]<=s[b]+s[b+1]||b>=2&&s[b-2]<=s[b]+s[b-1])s[b-1]<s[b+1]&&b--;else if(s[b]>s[b+1])break;p(b)}},forceMergeRuns:function h(){for(;l>1;){var b=l-2;b>0&&s[b-1]<s[b+1]&&b--,p(b)}},pushRun:function u(b,w){a[l]=b,s[l]=w,l+=1}}}(n,e),s=function JPt(n){for(var e=0;n>=n$;)e|=1&n,n>>=1;return n+e}(r);do{if((o=r$(n,t,i,e))<s){var l=r;l>s&&(l=s),o$(n,t,t+l,t+o,e),o=l}a.pushRun(t,o),a.mergeRuns(),r-=o,t+=o}while(0!==r);a.forceMergeRuns()}}var mh=1,Sb=4,a$=!1;function PF(){a$||(a$=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function s$(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var nkt=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=s$}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,oA(i,s$)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=mh),this._updateAndAddDisplayable(c,t,i)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(PF(),u.z=0),isNaN(u.z2)&&(PF(),u.z2=0),isNaN(u.zlevel)&&(PF(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,i);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,i);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=so(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const ikt=nkt;var l$;l$=ca.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const kF=l$;var aA={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-aA.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*aA.bounceIn(2*n):.5*aA.bounceOut(2*n-1)+.5}};const c$=aA;var sA=Math.pow,Vg=Math.sqrt,lA=1e-8,u$=1e-4,d$=Vg(3),cA=1/3,fp=b_(),Hh=b_(),Cb=b_();function zg(n){return n>-lA&&n<lA}function h$(n){return n>lA||n<-lA}function cu(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function f$(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function uA(n,e,t,i,r,o){var a=i+3*(e-t)-n,s=3*(t-2*e+n),l=3*(e-n),c=n-r,u=s*s-3*a*l,d=s*l-9*a*c,h=l*l-3*s*c,p=0;if(zg(u)&&zg(d))zg(s)?o[0]=0:(g=-l/s)>=0&&g<=1&&(o[p++]=g);else{var y=d*d-4*u*h;if(zg(y)){var b=d/u,w=-b/2;(g=-s/a+b)>=0&&g<=1&&(o[p++]=g),w>=0&&w<=1&&(o[p++]=w)}else if(y>0){var C=Vg(y),E=u*s+1.5*a*(-d+C),k=u*s+1.5*a*(-d-C);(g=(-s-((E=E<0?-sA(-E,cA):sA(E,cA))+(k=k<0?-sA(-k,cA):sA(k,cA))))/(3*a))>=0&&g<=1&&(o[p++]=g)}else{var j=(2*u*s-3*a*d)/(2*Vg(u*u*u)),H=Math.acos(j)/3,it=Vg(u),yt=Math.cos(H),g=(-s-2*it*yt)/(3*a),lt=(w=(-s+it*(yt+d$*Math.sin(H)))/(3*a),(-s+it*(yt-d$*Math.sin(H)))/(3*a));g>=0&&g<=1&&(o[p++]=g),w>=0&&w<=1&&(o[p++]=w),lt>=0&&lt<=1&&(o[p++]=lt)}}return p}function p$(n,e,t,i,r){var o=6*t-12*e+6*n,a=9*e+3*i-3*n-9*t,s=3*e-3*n,l=0;if(zg(a))h$(o)&&(c=-s/o)>=0&&c<=1&&(r[l++]=c);else{var u=o*o-4*a*s;if(zg(u))r[0]=-o/(2*a);else if(u>0){var c,d=Vg(u),h=(-o-d)/(2*a);(c=(-o+d)/(2*a))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}function Ug(n,e,t,i,r,o){var a=(e-n)*r+n,s=(t-e)*r+e,l=(i-t)*r+t,c=(s-a)*r+a,u=(l-s)*r+s,d=(u-c)*r+c;o[0]=n,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=i}function m$(n,e,t,i,r,o,a,s,l,c,u){var d,g,y,b,w,h=.005,p=1/0;fp[0]=l,fp[1]=c;for(var C=0;C<1;C+=.05)Hh[0]=cu(n,t,r,a,C),Hh[1]=cu(e,i,o,s,C),(b=w_(fp,Hh))<p&&(d=C,p=b);p=1/0;for(var E=0;E<32&&!(h<u$);E++)y=d+h,Hh[0]=cu(n,t,r,a,g=d-h),Hh[1]=cu(e,i,o,s,g),b=w_(Hh,fp),g>=0&&b<p?(d=g,p=b):(Cb[0]=cu(n,t,r,a,y),Cb[1]=cu(e,i,o,s,y),w=w_(Cb,fp),y<=1&&w<p?(d=y,p=w):h*=.5);return u&&(u[0]=cu(n,t,r,a,d),u[1]=cu(e,i,o,s,d)),Vg(p)}function rkt(n,e,t,i,r,o,a,s,l){for(var c=n,u=e,d=0,h=1/l,p=1;p<=l;p++){var g=p*h,y=cu(n,t,r,a,g),b=cu(e,i,o,s,g),w=y-c,C=b-u;d+=Math.sqrt(w*w+C*C),c=y,u=b}return d}function xu(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function RF(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function g$(n,e,t){var i=n+t-2*e;return 0===i?.5:(n-e)/i}function J1(n,e,t,i,r){var o=(e-n)*i+n,a=(t-e)*i+e,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=t}function v$(n,e,t,i,r,o,a,s,l){var c,u=.005,d=1/0;fp[0]=a,fp[1]=s;for(var h=0;h<1;h+=.05)Hh[0]=xu(n,t,r,h),Hh[1]=xu(e,i,o,h),(p=w_(fp,Hh))<d&&(c=h,d=p);d=1/0;for(var g=0;g<32&&!(u<u$);g++){var y=c-u,b=c+u;Hh[0]=xu(n,t,r,y),Hh[1]=xu(e,i,o,y);var p=w_(Hh,fp);if(y>=0&&p<d)c=y,d=p;else{Cb[0]=xu(n,t,r,b),Cb[1]=xu(e,i,o,b);var w=w_(Cb,fp);b<=1&&w<d?(c=b,d=w):u*=.5}}return l&&(l[0]=xu(n,t,r,c),l[1]=xu(e,i,o,c)),Vg(d)}function akt(n,e,t,i,r,o,a){for(var s=n,l=e,c=0,u=1/a,d=1;d<=a;d++){var h=d*u,p=xu(n,t,r,h),g=xu(e,i,o,h),y=p-s,b=g-l;c+=Math.sqrt(y*y+b*b),s=p,l=g}return c}var skt=/cubic-bezier\(([0-9,\.e ]+)\)/;function LF(n){var e=n&&skt.exec(n);if(e){var t=e[1].split(","),i=+If(t[0]),r=+If(t[1]),o=+If(t[2]),a=+If(t[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:uA(0,i,o,1,l,s)&&cu(0,r,a,1,s[0])}}}var lkt=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||bc,this.ondestroy=e.ondestroy||bc,this.onrestart=e.onrestart||bc,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),1===o){if(!this.loop)return!0;this._startTime=e-r%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ki(e)?e:c$[e]||LF(e)},n}();const ckt=lkt;var _$=function n(e){this.value=e},ukt=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new _$(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),dkt=function(){function n(e){this._list=new ukt,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(null==r[e]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new _$(t),s.key=e,i.insertEntry(s),r[e]=s}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const tS=dkt;var y$={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pf(n){return(n=Math.round(n))<0?0:n>255?255:n}function eS(n){return n<0?0:n>1?1:n}function OF(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Pf(parseFloat(e)/100*255):Pf(parseInt(e,10))}function D_(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?eS(parseFloat(e)/100):eS(parseFloat(e))}function NF(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function Gg(n,e,t){return n+(e-n)*t}function jh(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function FF(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var b$=new tS(20),dA=null;function Mb(n,e){dA&&FF(dA,e),dA=b$.put(n,dA||e.slice())}function Wd(n,e){if(n){e=e||[];var t=b$.get(n);if(t)return FF(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in y$)return FF(e,y$[i]),Mb(n,e),e;var o,r=i.length;if("#"===i.charAt(0))return 4===r||5===r?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?(jh(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===r?parseInt(i.slice(4),16)/15:1),Mb(n,e),e):void jh(e,0,0,0,1):7===r||9===r?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?(jh(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===r?parseInt(i.slice(7),16)/255:1),Mb(n,e),e):void jh(e,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===r){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?jh(e,+c[0],+c[1],+c[2],1):jh(e,0,0,0,1);u=D_(c.pop());case"rgb":return c.length>=3?(jh(e,OF(c[0]),OF(c[1]),OF(c[2]),3===c.length?u:D_(c[3])),Mb(n,e),e):void jh(e,0,0,0,1);case"hsla":return 4!==c.length?void jh(e,0,0,0,1):(c[3]=D_(c[3]),BF(c,e),Mb(n,e),e);case"hsl":return 3!==c.length?void jh(e,0,0,0,1):(BF(c,e),Mb(n,e),e);default:return}}jh(e,0,0,0,1)}}function BF(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=D_(n[1]),r=D_(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return jh(e=e||[],Pf(255*NF(a,o,t+1/3)),Pf(255*NF(a,o,t)),Pf(255*NF(a,o,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function VF(n,e){var t=Wd(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return pp(t,4===t.length?"rgba":"rgb")}}function zF(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],s=e[o],l=i-r;return t[0]=Pf(Gg(a[0],s[0],l)),t[1]=Pf(Gg(a[1],s[1],l)),t[2]=Pf(Gg(a[2],s[2],l)),t[3]=eS(Gg(a[3],s[3],l)),t}}function nS(n,e,t,i){var r=Wd(n);if(n)return r=function fkt(n){if(n){var l,c,e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),a=o-r,s=(o+r)/2;if(0===a)l=0,c=0;else{c=s<.5?a/(o+r):a/(2-o-r);var u=((o-e)/6+a/2)/a,d=((o-t)/6+a/2)/a,h=((o-i)/6+a/2)/a;e===o?l=h-d:t===o?l=1/3+u-h:i===o&&(l=2/3+d-u),l<0&&(l+=1),l>1&&(l-=1)}var p=[360*l,c,s];return null!=n[3]&&p.push(n[3]),p}}(r),null!=e&&(r[0]=function hkt(n){return(n=Math.round(n))<0?0:n>360?360:n}(e)),null!=t&&(r[1]=D_(t)),null!=i&&(r[2]=D_(i)),pp(BF(r),"rgba")}function hA(n,e){var t=Wd(n);if(t&&null!=e)return t[3]=eS(e),pp(t,"rgba")}function pp(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(t+=","+n[3]),e+"("+t+")"}}function fA(n,e){var t=Wd(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var iS=Math.round;function rS(n){var e;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var t=Wd(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}var x$=1e-4;function Hg(n){return n<x$&&n>-x$}function pA(n){return iS(1e3*n)/1e3}function UF(n){return iS(1e4*n)/1e4}var gkt={left:"start",right:"end",center:"middle",middle:"middle"};function w$(n){return n&&!!n.image}function GF(n){return w$(n)||function bkt(n){return n&&!!n.svgElement}(n)}function S$(n){return"linear"===n.type}function C$(n){return"radial"===n.type}function M$(n){return n&&("linear"===n.type||"radial"===n.type)}function mA(n){return"url(#"+n+")"}function E$(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function T$(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*QD,r=Xr(n.scaleX,1),o=Xr(n.scaleY,1),a=n.skewX||0,s=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),i&&l.push("rotate("+i+")"),(1!==r||1!==o)&&l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+iS(a*QD)+"deg, "+iS(s*QD)+"deg)"),l.join(" ")}var xkt=ca.hasGlobalWindow&&Ki(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},HF=Array.prototype.slice;function Tm(n,e,t){return(e-n)*t+n}function jF(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=Tm(e[o],t[o],i);return n}function gA(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function D$(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=e[a][s]+t[a][s]*i}return n}function Skt(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,o=Math.min(t,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(t,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function Ckt(n,e,t){var i=n,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var l=o;l<a;l++)i.push(1===t?r[l]:HF.call(r[l]));var c=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(1===t)isNaN(i[l])&&(i[l]=r[l]);else for(var u=0;u<c;u++)isNaN(i[l][u])&&(i[l][u]=r[l][u])}}function oS(n){if(ad(n)){var e=n.length;if(ad(n[0])){for(var t=[],i=0;i<e;i++)t.push(HF.call(n[i]));return t}return HF.call(n)}return n}function vA(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}var yA=1,A$=2,WF=4,ZF=5;function P$(n){return n===WF||n===ZF}function bA(n){return n===yA||n===A$}var sS=[0,0,0,0],Ekt=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,s=6,l=t;if(ad(t)){var c=function Mkt(n){return ad(n&&n[0])?2:1}(t);s=c,(1===c&&!ua(t[0])||2===c&&!ua(t[0][0]))&&(a=!0)}else if(ua(t)&&!Z1(t))s=0;else if(si(t))if(isNaN(+t)){var u=Wd(t);u&&(l=u,s=3)}else s=0;else if(XD(t)){var d=An({},l);d.colorStops=Nn(t.colorStops,function(p){return{offset:p.offset,color:Wd(p.color)}}),S$(t)?s=WF:C$(t)&&(s=ZF),l=d}0===o?this.valType=s:(s!==this.valType||6===s)&&(a=!0),this.discrete=this.discrete||a;var h={time:e,value:l,rawValue:t,percent:0};return i&&(h.easing=i,h.easingFunc=Ki(i)?i:c$[i]||LF(i)),r.push(h),h},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(y,b){return y.time-b.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=bA(r),c=P$(r),u=0;u<o;u++){var d=i[u],h=d.value,p=a.value;d.percent=d.time/e,s||(l&&u!==o-1?Ckt(h,p,r):c&&Skt(h.colorStops,p.colorStops))}if(!s&&r!==ZF&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var g=i[0].value;for(u=0;u<o;u++)0===r?i[u].additiveValue=i[u].value-g:3===r?i[u].additiveValue=gA([],i[u].value,g,-1):bA(r)&&(i[u].additiveValue=r===yA?gA([],i[u].value,g,-1):D$([],i[u].value,g,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,p,g,i=null!=this._additiveTrack,r=i?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=3===o,d=this._lastFr,h=Math.min;if(1===s)p=g=a[0];else{if(t<0)u=0;else if(t<this._lastFrP){for(u=h(d+1,s-1);u>=0&&!(a[u].percent<=t);u--);u=h(u,s-2)}else{for(u=d;u<s&&!(a[u].percent>t);u++);u=h(u-1,s-2)}g=a[u+1],p=a[u]}if(p&&g){this._lastFr=u,this._lastFrP=t;var b=g.percent-p.percent,w=0===b?1:h((t-p.percent)/b,1);g.easingFunc&&(w=g.easingFunc(w));var C=i?this._additiveValue:c?sS:e[l];if((bA(o)||c)&&!C&&(C=this._additiveValue=[]),this.discrete)e[l]=w<1?p.rawValue:g.rawValue;else if(bA(o))o===yA?jF(C,p[r],g[r],w):function wkt(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=Tm(e[a][s],t[a][s],i)}}(C,p[r],g[r],w);else if(P$(o)){var E=p[r],k=g[r],j=o===WF;e[l]={type:j?"linear":"radial",x:Tm(E.x,k.x,w),y:Tm(E.y,k.y,w),colorStops:Nn(E.colorStops,function(it,yt){var lt=k.colorStops[yt];return{offset:Tm(it.offset,lt.offset,w),color:vA(jF([],it.color,lt.color,w))}}),global:k.global},j?(e[l].x2=Tm(E.x2,k.x2,w),e[l].y2=Tm(E.y2,k.y2,w)):e[l].r=Tm(E.r,k.r,w)}else if(c)jF(C,p[r],g[r],w),i||(e[l]=vA(C));else{var H=Tm(p[r],g[r],w);i?this._additiveValue=H:e[l]=H}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;0===t?e[i]=e[i]+r:3===t?(Wd(e[i],sS),gA(sS,sS,r,1),e[i]=vA(sS)):t===yA?gA(e[i],e[i],r,1):t===A$&&D$(e[i],e[i],r,1)},n}(),Tkt=function(){function n(e,t,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?cF("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Io(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new Ekt(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,h=d[d.length-1];c=h&&h.value,3===u.valType&&c&&(c=vA(c))}else c=this._target[s];if(null==c)continue;e>0&&l.addKeyframe(0,oS(c),r),this._trackKeys.push(s)}l.addKeyframe(e,oS(t[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=c[u-1];d&&(t._target[s.propName]=d.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var h=new ckt({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var g=t._additiveAnimators;if(g){for(var y=!1,b=0;b<g.length;b++)if(g[b]._clip){y=!0;break}y||(t._additiveAnimators=null)}for(b=0;b<i.length;b++)i[b].step(t._target,p);var w=t._onframeCbs;if(w)for(b=0;b<w.length;b++)w[b](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return Nn(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var a=i[e[o]];a&&!a.isFinished()&&(t?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var o=t[r],a=this._tracks[o];if(a&&!a.isFinished()){var s=a.keyframes,l=s[i?0:s.length-1];l&&(e[o]=oS(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Io(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();const YF=Tkt;function Eb(){return(new Date).getTime()}var Dkt=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i}return vl(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=Eb()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,kF(function i(){t._running&&(kF(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=Eb(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Eb(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Eb()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new YF(t,i.loop);return this.addAnimator(r),r},e}(zh);const Akt=Dkt;var XF=ca.domSupported,$F=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:Nn(n,function(r){var o=r.replace("mouse","pointer");return t.hasOwnProperty(o)?o:r})}}(),k$={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},R$=!1;function qF(n){var e=n.pointerType;return"pen"===e||"touch"===e}function KF(n){n&&(n.zrByTouch=!0)}function L$(n,e){for(var t=e,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var Rkt=function n(e,t){this.stopPropagation=bc,this.stopImmediatePropagation=bc,this.preventDefault=bc,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},kf={mousedown:function(n){n=Uh(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Uh(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Uh(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){L$(this,(n=Uh(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){R$=!0,n=Uh(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){R$||(n=Uh(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){KF(n=Uh(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),kf.mousemove.call(this,n),kf.mousedown.call(this,n)},touchmove:function(n){KF(n=Uh(this.dom,n)),this.handler.processGesture(n,"change"),kf.mousemove.call(this,n)},touchend:function(n){KF(n=Uh(this.dom,n)),this.handler.processGesture(n,"end"),kf.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&kf.click.call(this,n)},pointerdown:function(n){kf.mousedown.call(this,n)},pointermove:function(n){qF(n)||kf.mousemove.call(this,n)},pointerup:function(n){kf.mouseup.call(this,n)},pointerout:function(n){qF(n)||kf.mouseout.call(this,n)}};Xt(["click","dblclick","contextmenu"],function(n){kf[n]=function(e){e=Uh(this.dom,e),this.trigger(n,e)}});var QF={pointermove:function(n){qF(n)||QF.mousemove.call(this,n)},pointerup:function(n){QF.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function xA(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,CF(n.domTarget,e,t,i)}function JF(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&UPt(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var O$=function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},Nkt=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new O$(t,kf),XF&&(r._globalHandlerScope=new O$(document,QF)),function Lkt(n,e){var t=e.domHandlers;ca.pointerEventsSupported?Xt($F.pointer,function(i){xA(e,i,function(r){t[i].call(n,r)})}):(ca.touchEventsSupported&&Xt($F.touch,function(i){xA(e,i,function(r){t[i].call(n,r),function Pkt(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(e)})}),Xt($F.mouse,function(i){xA(e,i,function(r){r=SF(r),e.touching||t[i].call(n,r)})}))}(r,r._localHandlerScope),r}return vl(e,n),e.prototype.dispose=function(){JF(this._localHandlerScope),XF&&JF(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,XF&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function Okt(n,e){function t(i){xA(e,i,function r(o){o=SF(o),L$(n,o.target)||(o=function kkt(n,e){return Uh(n.dom,new Rkt(n,e),!0)}(n,o),e.domHandlers[i].call(n,o))},{capture:!0})}ca.pointerEventsSupported?Xt(k$.pointer,t):ca.touchEventsSupported||Xt(k$.mouse,t)}(this,i):JF(i)}},e}(zh);const Fkt=Nkt;var N$=1;ca.hasGlobalWindow&&(N$=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var wA=N$,eB="#333",nB="#ccc",F$=nA,B$=5e-5;function A_(n){return n>B$||n<-B$}var I_=[],Tb=[],iB=[1,0,0,1,0,0],rB=Math.abs,Vkt=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return A_(this.rotation)||A_(this.x)||A_(this.y)||A_(this.scaleX-1)||A_(this.scaleY-1)||A_(this.skewX)||A_(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):F$(i),e&&(t?Em(i,e,i):EF(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&F$(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(I_);var i=I_[0]<0?-1:1,r=I_[1]<0?-1:1,o=((I_[0]-i)*t+i)/I_[0]||0,a=((I_[1]-r)*t+r)/I_[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],wb(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Em(Tb,e.invTransform,t),t=Tb);var i=this.originX,r=this.originY;(i||r)&&(iB[4]=i,iB[5]=r,Em(Tb,t,iB),Tb[4]-=i,Tb[5]-=r,t=Tb),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&zu(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&zu(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&rB(e[0]-1)>1e-10&&rB(e[3]-1)>1e-10?Math.sqrt(rB(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){V$(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(i||r||s||l){var g=i+s,y=r+l;t[4]=-g*o-h*y*a,t[5]=-y*a-p*g*o}else t[4]=t[5]=0;return t[0]=o,t[3]=a,t[1]=p*o,t[2]=h*a,c&&S_(t,t,c),t[4]+=i+u,t[5]+=r+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),mp=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function V$(n,e){for(var t=0;t<mp.length;t++){var i=mp[t];n[i]=e[i]}}const Dm=Vkt;var z$={};function gh(n,e){var t=z$[e=e||Og];t||(t=z$[e]=new tS(500));var i=t.get(n);return null==i&&(i=Af.measureText(n,e).width,t.put(n,i)),i}function U$(n,e,t,i){var r=gh(n,e),o=SA(e),a=cS(0,r,t),s=Db(0,o,i);return new $r(a,s,r,o)}function lS(n,e,t,i){var r=((n||"")+"").split("\n");if(1===r.length)return U$(r[0],e,t,i);for(var a=new $r(0,0,0,0),s=0;s<r.length;s++){var l=U$(r[s],e,t,i);0===s?a.copy(l):a.union(l)}return a}function cS(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function Db(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function SA(n){return gh("\u56fd",n)}function Rf(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function CA(n,e,t){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=t.height,a=t.width,s=o/2,l=t.x,c=t.y,u="left",d="top";if(i instanceof Array)l+=Rf(i[0],t.width),c+=Rf(i[1],t.height),u=null,d=null;else switch(i){case"left":l-=r,c+=s,u="right",d="middle";break;case"right":l+=r+a,c+=s,d="middle";break;case"top":l+=a/2,c-=r,u="center",d="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",d="middle";break;case"insideLeft":l+=r,c+=s,d="middle";break;case"insideRight":l+=a-r,c+=s,u="right",d="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",d="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,d="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",d="bottom"}return(n=n||{}).x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var oB="__zr_normal__",aB=mp.concat(["ignore"]),zkt=dp(mp,function(n,e){return n[e]=!0,n},{ignore:!1}),Ab={},Ukt=new $r(0,0,0,0),sB=function(){function n(e){this.id=FX(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(t),null!=i.position){var u=Ukt;u.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ab,i,u):CA(Ab,i,u),o.x=Ab.x,o.y=Ab.y,a=Ab.align,s=Ab.verticalAlign;var d=i.origin;if(d&&null!=i.rotation){var h=void 0,p=void 0;"center"===d?(h=.5*u.width,p=.5*u.height):(h=Rf(d[0],u.width),p=Rf(d[1],u.height)),c=!0,o.originX=-o.x+h+(r?0:u.x),o.originY=-o.y+p+(r?0:u.y)}}null!=i.rotation&&(o.rotation=i.rotation);var g=i.offset;g&&(o.x+=g[0],o.y+=g[1],c||(o.originX=-g[0],o.originY=-g[1]));var y=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,C=void 0,E=void 0;y&&this.canBeInsideText()?(C=i.insideStroke,(null==(w=i.insideFill)||"auto"===w)&&(w=this.getInsideTextFill()),(null==C||"auto"===C)&&(C=this.getInsideTextStroke(w),E=!0)):(C=i.outsideStroke,(null==(w=i.outsideFill)||"auto"===w)&&(w=this.getOutsideFill()),(null==C||"auto"===C)&&(C=this.getOutsideStroke(w),E=!0)),((w=w||"#000")!==b.fill||C!==b.stroke||E!==b.autoStroke||a!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=w,b.stroke=C,b.autoStroke=E,b.align=a,b.verticalAlign=s,t.setDefaultTextStyle(b)),t.__dirty|=mh,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?nB:eB},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&Wd(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,pp(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},An(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(or(e))for(var r=Io(e),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,e[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==oB)){var a=r.targetName;r.saveTo(a?t[a]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,aB)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];null!=e[o]&&!(o in t)&&(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(oB,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===oB;if(this.hasState()||!o){var s=this.currentStates,l=this.stateTransition;if(!(so(s,e)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!o)return void cF("State "+e+" not exists.");o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(e,t,i,u),h&&h.useState(e,t,i,u),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~mh),c}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],o=this.currentStates,a=e.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&r.push(u)}var d=r[a-1],h=!!(d&&d.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&g&&g.duration>0,g);var y=this._textContent,b=this._textGuide;y&&y.useStates(e,t,h),b&&b.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~mh)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=so(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=so(r,e),a=so(r,t)>=0;o>=0?a?r.splice(o,1):r[o]=t:i&&!a&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var i,t={},r=0;r<e.length;r++){var o=e[r];An(t,o),o.textConfig&&An(i=i||{},o.textConfig)}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,r,o,a){var s=!(t&&r);t&&t.textConfig?(this.textConfig=An({},r?this.textConfig:i.textConfig),An(this.textConfig,t.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},c=!1,u=0;u<aB.length;u++){var d=aB[u],h=o&&zkt[d];t&&null!=t[d]?h?(c=!0,l[d]=t[d]):this[d]=t[d]:s&&null!=i[d]&&(h?(c=!0,l[d]=i[d]):this[d]=i[d])}if(!o)for(u=0;u<this.animators.length;u++){var p=this.animators[u],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(t||i)[g]:t||i)}c&&this._transitionState(e,l,a)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Dm,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),An(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=mh;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var o=new YF(e?this[e]:this,t,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,a=so(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];e&&e!==s.scope?o.push(s):s.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){lB(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){lB(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=lB(this,t,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;function r(o,a,s,l){function c(u,d){Object.defineProperty(d,0,{get:function(){return u[s]},set:function(h){u[s]=h}}),Object.defineProperty(d,1,{get:function(){return u[l]},set:function(h){u[l]=h}})}Object.defineProperty(e,o,{get:function(){return this[a]||c(this,this[a]=[]),this[a]},set:function(u){this[s]=u[0],this[l]=u[1],this[a]=u,c(this,u)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=mh,Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function lB(n,e,t,i,r){var o=[];G$(n,"",n,e,t=t||{},i,o,r);var a=o.length,s=!1,l=t.done,c=t.aborted,u=function(){s=!0,--a<=0&&(s?l&&l():c&&c())},d=function(){--a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&t.during&&o[0].during(function(g,y){t.during(y)});for(var h=0;h<o.length;h++){var p=o[h];u&&p.done(u),d&&p.aborted(d),t.force&&p.duration(t.duration),p.start(t.easing)}return o}function cB(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function Hkt(n,e,t){if(ad(e[t]))if(ad(n[t])||(n[t]=[]),ph(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),cB(n[t],e[t],i))}else{var r=e[t],o=n[t],a=r.length;if(function Gkt(n){return ad(n[0])}(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?cB(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else cB(o,r,a);o.length=r.length}else n[t]=e[t]}function G$(n,e,t,i,r,o,a,s){for(var l=Io(i),c=r.duration,u=r.delay,d=r.additive,h=r.setToFinal,p=!or(o),g=n.animators,y=[],b=0;b<l.length;b++){var C=i[w=l[b]];if(null!=C&&null!=t[w]&&(p||o[w]))if(!or(C)||ad(C)||XD(C))y.push(w);else{if(e){s||(t[w]=C,n.updateDuringAnimation(e));continue}G$(n,w,t[w],C,r,o&&o[w],a,s)}else s||(t[w]=C,n.updateDuringAnimation(e),y.push(w))}var E=y.length;if(!d&&E)for(var k=0;k<g.length;k++)if((j=g[k]).targetName===e&&j.stopTracks(y)){var it=so(g,j);g.splice(it,1)}if(r.force||(y=Ss(y,function(kt){return!function jkt(n,e){return n===e||ad(n)&&ad(e)&&function Wkt(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}(n,e)}(i[kt],t[kt])}),E=y.length),E>0||r.force&&!a.length){var j,yt=void 0,lt=void 0,Lt=void 0;if(s)for(lt={},h&&(yt={}),k=0;k<E;k++)lt[w=y[k]]=t[w],h?yt[w]=i[w]:t[w]=i[w];else if(h)for(Lt={},k=0;k<E;k++){var w;Lt[w=y[k]]=oS(t[w]),Hkt(t,i,w)}(j=new YF(t,!1,!1,d?Ss(g,function(Jt){return Jt.targetName===e}):null)).targetName=e,r.scope&&(j.scope=r.scope),h&&yt&&j.whenWithKeys(0,yt,y),Lt&&j.whenWithKeys(0,Lt,y),j.whenWithKeys(c??500,s?lt:i,y).delay(u||0),n.addAnimator(j,e),a.push(j)}}Nc(sB,zh),Nc(sB,Dm);const H$=sB;var j$=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return vl(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=so(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=so(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++)t.call(i,r[o],o);return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=t.call(i,o);o.isGroup&&!a&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new $r(0,0,0,0),r=t||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?($r.applyTransform(i,c,u),(a=a||i.clone()).union(i)):(a=a||c.clone()).union(c)}}return a||i},e}(H$);j$.prototype.type="group";const br=j$;var MA={},P_={},Xkt=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new ikt,a=i.renderer||"canvas";MA[a]||(a=Io(MA)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new MA[a](t,o,i,e),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var p,c=ca.node||ca.worker||l?null:new Fkt(s.getViewportRoot(),s.root),u=i.useCoarsePointer;(null==u||"auto"===u?ca.touchEventsSupported:!!u)&&(p=Xr(i.pointerSize,44)),this.handler=new QPt(o,s,c,s.root,p),this.animation=new Akt({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function Ykt(n){if(!n)return!1;if("string"==typeof n)return fA(n,1)<.4;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,r=0;r<i;r++)t+=fA(e[r].color,1);return(t/=i)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=Eb();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=Eb();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof br&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function Zkt(n){delete P_[n]}(this.id)},n}();function W$(n,e){var t=new Xkt(FX(),n,e);return P_[t.id]=t,t}var Z$=1e-4,Y$=20;function _s(n,e,t,i){var r=e[0],o=e[1],a=t[0],s=t[1],l=o-r,c=s-a;if(0===l)return 0===c?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*c+a}function ni(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return si(n)?function qkt(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n}function uc(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),Y$),n=(+n).toFixed(e),t?n:+n}function Wh(n){return n.sort(function(e,t){return e-t}),n}function gp(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return function Kkt(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}(n)}function X$(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Qkt(n,e){var t=Math.max(gp(n),gp(e)),i=n+e;return t>Y$?i:uc(i,t)}var q$=9007199254740991;function K$(n){var e=2*Math.PI;return(n%e+e)%e}function EA(n){return n>-Z$&&n<Z$}var Jkt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function vp(n){if(n instanceof Date)return n;if(si(n)){var e=Jkt.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function uB(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Q$(n,e){var t=uB(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function dB(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function J$(n){n.sort(function(l,c){return s(l,c,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-t),e=r[a],t=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]==(u?-1:1)||!u&&s(l,c,1))}}function Am(n){var e=parseFloat(n);return e==n&&(0!==e||!si(n)||n.indexOf("x")<=0)?e:NaN}function tq(n){return!isNaN(Am(n))}function eq(){return Math.round(9*Math.random())}function nq(n,e){return 0===e?n:nq(e,n%e)}function iq(n,e){return null==n?e:null==e?n:n*e/nq(n,e)}function rq(n,e,t){return(e-n)*t+n}var oq="series\0",aq="\0_ec_\0";function Ps(n){return n instanceof Array?n:null==n?[]:[n]}function k_(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var sq=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ib(n){return!or(n)||Ln(n)||n instanceof Date?n:n.value}function eRt(n){return or(n)&&!(n instanceof Array)}function lq(n,e,t){var i="normalMerge"===t,r="replaceMerge"===t,o="replaceAll"===t;n=n||[],e=(e||[]).slice();var a=Wi();Xt(e,function(l,c){or(l)||(e[c]=null)});var s=function nRt(n,e,t){var i=[];if("replaceAll"===t)return i;for(var r=0;r<n.length;r++){var o=n[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===t||dS(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(n,a,t);return(i||r)&&function iRt(n,e,t,i){Xt(i,function(r,o){if(r&&null!=r.id){var a=uS(r.id),s=t.get(a);if(null!=s){var l=n[s];Sd(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}})}(s,n,a,e),i&&function rRt(n,e){Xt(e,function(t,i){if(t&&null!=t.name)for(var r=0;r<n.length;r++){var o=n[r].existing;if(!n[r].newOption&&o&&(null==o.id||null==t.id)&&!dS(t)&&!dS(o)&&cq("name",o,t))return n[r].newOption=t,void(e[i]=null)}})}(s,e),i||r?function oRt(n,e,t){Xt(e,function(i){if(i){for(var r,o=0;(r=n[o])&&(r.newOption||dS(r.existing)||r.existing&&null!=i.id&&!cq("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),o++}})}(s,e,r):o&&function aRt(n,e){Xt(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,e),function sRt(n){var e=Wi();Xt(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),Xt(n,function(t){var i=t.newOption;Sd(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Xt(n,function(t,i){var r=t.existing,o=t.newOption,a=t.keyInfo;if(or(o)){if(a.name=null!=o.name?uS(o.name):r?r.name:oq+i,r)a.id=uS(r.id);else if(null!=o.id)a.id=uS(o.id);else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(e.get(a.id))}e.set(a.id,t)}})}(s),s}function cq(n,e,t){var i=tu(e[n],null),r=tu(t[n],null);return null!=i&&null!=r&&i===r}function uS(n){return tu(n,"")}function tu(n,e){return null==n?e:si(n)?n:ua(n)||dF(n)?n+"":e}function hB(n){var e=n.name;return!(!e||!e.indexOf(oq))}function dS(n){return n&&null!=n.id&&0===uS(n.id).indexOf(aq)}function R_(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Ln(e.dataIndex)?Nn(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?Ln(e.name)?Nn(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function oa(){var n="__ec_inner_"+hRt++;return function(e){return e[n]||(e[n]={})}}var hRt=eq();function hS(n,e,t){var i=fB(e,t),o=i.queryOptionMap,s=i.others,l=t?t.defaultMainType:null;return!i.mainTypeSpecified&&l&&o.set(l,{}),o.each(function(c,u){var d=fS(n,u,c,{useDefault:l===u,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[u+"Models"]=d.models,s[u+"Model"]=d.models[0]}),s}function fB(n,e){var t;if(si(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=Wi(),o={},a=!1;return Xt(t,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();!u||!d||e&&e.includeMainTypes&&so(e.includeMainTypes,u)<0||(a=a||!!u,(r.get(u)||r.set(u,{}))[d]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var Fc={useDefault:!0,enableAll:!1,enableNone:!1},fRt={useDefault:!1,enableAll:!0,enableNone:!0};function fS(n,e,t,i){i=i||Fc;var r=t.index,o=t.id,a=t.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(Sd(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(Sd(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function uq(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function pB(n,e){var t=Wi(),i=[];return Xt(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function dq(n,e,t,i,r){var o=null==e||"auto"===e;if(null==i)return i;if(ua(i))return uc(a=rq(t||0,i,r),o?Math.max(gp(t||0),gp(i)):e);if(si(i))return r<1?t:i;for(var s=[],l=t,c=i,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var h=n.getDimensionInfo(d);if(h&&"ordinal"===h.type)s[d]=(r<1&&l?l:c)[d];else{var p=l&&l[d]?l[d]:0,g=c[d],a=rq(p,g,r);s[d]=uc(a,o?Math.max(gp(p),gp(g)):e)}}return s}var gRt=".",L_="___EC__COMPONENT__CONTAINER___",hq="___EC__EXTENDED_CLASS___";function _p(n){var e={main:"",sub:""};if(n){var t=n.split(gRt);e.main=t[0]||"",e.sub=t[1]||""}return e}function mB(n,e){n.$constructor=n,n.extend=function(t){var r,i=this;return function yRt(n){return Ki(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(i)?r=function(o){function a(){return o.apply(this,arguments)||this}return vn(a,o),a}(i):(r=function(){(t.$constructor||i).apply(this,arguments)},function gPt(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}(r,this)),An(r.prototype,t),r[hq]=!0,r.extend=this.extend,r.superCall=wRt,r.superApply=SRt,r.superClass=i,r}}function fq(n,e){n.extend=e.extend}var bRt=Math.round(10*Math.random());function wRt(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function SRt(n,e,t){return this.superClass.prototype[e].apply(n,t)}function TA(n){var e={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){(function vRt(n){Sd(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(r),i.prototype.type=r;var o=_p(r);if(o.sub){if(o.sub!==L_){var a=function t(i){var r=e[i.main];return(!r||!r[L_])&&((r=e[i.main]={})[L_]=!0),r}(o);a[o.sub]=i}}else e[o.main]=i}return i},n.getClass=function(i,r,o){var a=e[i];if(a&&a[L_]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return a},n.getClassesByMainType=function(i){var r=_p(i),o=[],a=e[r.main];return a&&a[L_]?Xt(a,function(s,l){l!==L_&&o.push(s)}):o.push(a),o},n.hasClass=function(i){var r=_p(i);return!!e[r.main]},n.getAllClassMainTypes=function(){var i=[];return Xt(e,function(r,o){i.push(o)}),i},n.hasSubTypes=function(i){var r=_p(i),o=e[r.main];return o&&o[L_]}}function O_(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&so(r,l)>=0||o&&so(o,l)<0)){var c=i.getShallow(l,e);null!=c&&(a[n[s][0]]=c)}}return a}}var MRt=O_([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),ERt=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return MRt(this,e,t)},n}(),gB=new tS(50);function TRt(n){if("string"==typeof n){var e=gB.get(n);return e&&e.image}return n}function vB(n,e,t,i,r){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var o=gB.get(n),a={hostEl:t,cb:i,cbPayload:r};return o?!DA(e=o.image)&&o.pending.push(a):((e=Af.loadImage(n,pq,pq)).__zrImageSrc=n,gB.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}return n}return e}function pq(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function DA(n){return n&&n.width&&n.height}var _B=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function DRt(n,e,t,i,r){if(!e)return"";var o=(n+"").split("\n");r=mq(e,t,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=gq(o[a],r);return o.join("\n")}function mq(n,e,t,i){var r=An({},i=i||{});r.font=e,t=Xr(t,"..."),r.maxIterations=Xr(i.maxIterations,2);var o=r.minChar=Xr(i.minChar,0);r.cnCharWidth=gh("\u56fd",e);var a=r.ascCharWidth=gh("a",e);r.placeholder=Xr(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var c=gh(t,e);return c>s&&(t="",c=0),s=n-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=n,r}function gq(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=gh(n,i);if(o<=t)return n;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){n+=e.ellipsis;break}var s=0===a?ARt(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=gh(n=n.substr(0,s),i)}return""===n&&(n=e.placeholder),n}function ARt(n,e,t,i){for(var r=0,o=0,a=n.length;o<a&&r<e;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?t:i}return o}var PRt=function n(){},vq=function n(e){this.tokens=[],e&&(this.tokens=e)},kRt=function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function yB(n,e,t,i,r){var u,d,o=""===e,a=r&&t.rich[r]||{},s=n.lines,l=a.font||t.font,c=!1;if(i){var h=a.padding,p=h?h[1]+h[3]:0;if(null!=a.width&&"auto"!==a.width){var g=Rf(a.width,i.width)+p;s.length>0&&g+i.accumWidth>i.width&&(u=e.split("\n"),c=!0),i.accumWidth=g}else{var y=_q(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=y.accumWidth+p,d=y.linesWidths,u=y.lines}}else u=e.split("\n");for(var b=0;b<u.length;b++){var w=u[b],C=new PRt;if(C.styleName=r,C.text=w,C.isLineHolder=!w&&!o,C.width="number"==typeof a.width?a.width:d?d[b]:gh(w,l),b||c)s.push(new vq([C]));else{var E=(s[s.length-1]||(s[0]=new vq)).tokens,k=E.length;1===k&&E[0].isLineHolder?E[0]=C:(w||!k||o)&&E.push(C)}}}var ORt=dp(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function NRt(n){return!function LRt(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(n)||!!ORt[n]}function _q(n,e,t,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,d=0;d<n.length;d++){var h=n.charAt(d);if("\n"!==h){var p=gh(h,e),g=!i&&!NRt(h);(o.length?u+p>t:r+u+p>t)?u?(s||l)&&(g?(s||(s=l,l="",u=c=0),o.push(s),a.push(u-c),l+=h,s="",u=c+=p):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=h,u=p)):g?(o.push(l),a.push(c),l=h,c=p):(o.push(h),a.push(p)):(u+=p,g?(l+=h,c+=p):(l&&(s+=l,l="",c=0),s+=h))}else l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0}return!o.length&&!s&&(s=n,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),1===o.length&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var bB="__zr_style_"+Math.round(10*Math.random()),N_={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},AA={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};N_[bB]=!0;var yq=["z","z2","invisible"],FRt=["invisible"],BRt=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype._init=function(t){for(var i=Io(t),r=0;r<i.length;r++){var o=i[r];"style"===o?this.useStyle(t[o]):n.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,r,o){var a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function VRt(n,e,t){return xB.copy(n.getBoundingRect()),n.transform&&xB.applyTransform(n.transform),wB.width=e,wB.height=t,!xB.intersect(wB)}(this,t,i)||a&&!a[0]&&!a[3])return!1;if(r&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new $r(0,0,0,0)),i?$r.applyTransform(t,r,i):t.copy(r),(a||s||l)&&(t.width+=2*a+Math.abs(s),t.height+=2*a+Math.abs(l),t.x=Math.min(t.x,t.x+s-a),t.y=Math.min(t.y,t.y+l-a));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new $r(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){"style"!==t?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return"string"==typeof t?this.style[t]=i:An(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return KD(N_,t)},e.prototype.useStyle=function(t){t[bB]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[bB]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,yq)},e.prototype._applyStateObj=function(t,i,r,o,a,s){n.prototype._applyStateObj.call(this,t,i,r,o,a,s);var c,l=!(i&&o);if(i&&i.style?a?o?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(c,i.style)):l&&(c=r.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=Io(u),h=0;h<d.length;h++)(p=d[h])in c&&(c[p]=c[p],this.style[p]=u[p]);var g=Io(c);for(h=0;h<g.length;h++)this.style[p=g[h]]=this.style[p];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var y=this.__inHover?FRt:yq;for(h=0;h<y.length;h++){var p=y[h];i&&null!=i[p]?this[p]=i[p]:l&&null!=r[p]&&(this[p]=r[p])}},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.style&&this._mergeStyle(r=r||{},a.style)}return r&&(i.style=r),i},e.prototype._mergeStyle=function(t,i){return An(t,i),t},e.prototype.getAnimationStyleProps=function(){return AA},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=2|mh)),e;var t}(H$),xB=new $r(0,0,0,0),wB=new $r(0,0,0,0);const Zh=BRt;var Zd=Math.min,Yd=Math.max,SB=Math.sin,CB=Math.cos,F_=2*Math.PI,IA=b_(),PA=b_(),kA=b_();function RA(n,e,t){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<n.length;l++)r=Zd(r,(i=n[l])[0]),o=Yd(o,i[0]),a=Zd(a,i[1]),s=Yd(s,i[1]);e[0]=r,e[1]=a,t[0]=o,t[1]=s}}function bq(n,e,t,i,r,o){r[0]=Zd(n,t),r[1]=Zd(e,i),o[0]=Yd(n,t),o[1]=Yd(e,i)}var xq=[],wq=[];function zRt(n,e,t,i,r,o,a,s,l,c){var u=p$,d=cu,h=u(n,t,r,a,xq);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<h;p++){var g=d(n,t,r,a,xq[p]);l[0]=Zd(g,l[0]),c[0]=Yd(g,c[0])}for(h=u(e,i,o,s,wq),p=0;p<h;p++){var y=d(e,i,o,s,wq[p]);l[1]=Zd(y,l[1]),c[1]=Yd(y,c[1])}l[0]=Zd(n,l[0]),c[0]=Yd(n,c[0]),l[0]=Zd(a,l[0]),c[0]=Yd(a,c[0]),l[1]=Zd(e,l[1]),c[1]=Yd(e,c[1]),l[1]=Zd(s,l[1]),c[1]=Yd(s,c[1])}function URt(n,e,t,i,r,o,a,s){var l=g$,c=xu,u=Yd(Zd(l(n,t,r),1),0),d=Yd(Zd(l(e,i,o),1),0),h=c(n,t,r,u),p=c(e,i,o,d);a[0]=Zd(n,r,h),a[1]=Zd(e,o,p),s[0]=Yd(n,r,h),s[1]=Yd(e,o,p)}function GRt(n,e,t,i,r,o,a,s,l){var c=Fg,u=Bg,d=Math.abs(r-o);if(d%F_<1e-4&&d>1e-4)return s[0]=n-t,s[1]=e-i,l[0]=n+t,void(l[1]=e+i);if(IA[0]=CB(r)*t+n,IA[1]=SB(r)*i+e,PA[0]=CB(o)*t+n,PA[1]=SB(o)*i+e,c(s,IA,PA),u(l,IA,PA),(r%=F_)<0&&(r+=F_),(o%=F_)<0&&(o+=F_),r>o&&!a?o+=F_:r<o&&a&&(r+=F_),a){var h=o;o=r,r=h}for(var p=0;p<o;p+=Math.PI/2)p>r&&(kA[0]=CB(p)*t+n,kA[1]=SB(p)*i+e,c(s,kA,s),u(l,kA,l))}var Qs={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},B_=[],V_=[],yp=[],jg=[],bp=[],xp=[],MB=Math.min,EB=Math.max,z_=Math.cos,U_=Math.sin,Im=Math.abs,TB=Math.PI,Wg=2*TB,DB=typeof Float32Array<"u",pS=[];function AB(n){return Math.round(n/TB*1e8)/1e8%2*TB}function Sq(n,e){var t=AB(n[0]);t<0&&(t+=Wg);var r=n[1];r+=t-n[0],!e&&r-t>=Wg?r=t+Wg:e&&t-r>=Wg?r=t-Wg:!e&&t>r?r=t+(Wg-AB(t-r)):e&&t<r&&(r=t-(Wg-AB(r-t))),n[0]=t,n[1]=r}var HRt=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=Im(i/wA/e)||0,this._uy=Im(i/wA/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Qs.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=Im(e-this._xi),r=Im(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(Qs.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){return this._drawPendingPt(),this.addData(Qs.C,e,t,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(Qs.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,a){return this._drawPendingPt(),pS[0]=r,pS[1]=o,Sq(pS,a),this.addData(Qs.A,e,t,i,i,r=pS[0],(o=pS[1])-r,0,a?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,a),this._xi=z_(o)*i+e,this._yi=U_(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(Qs.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Qs.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;(!this.data||this.data.length!==t)&&DB&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();for(DB&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(e,t,i,r,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,DB&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){yp[0]=yp[1]=bp[0]=bp[1]=Number.MAX_VALUE,jg[0]=jg[1]=xp[0]=xp[1]=-Number.MAX_VALUE;var a,e=this.data,t=0,i=0,r=0,o=0;for(a=0;a<this._len;){var s=e[a++],l=1===a;switch(l&&(r=t=e[a],o=i=e[a+1]),s){case Qs.M:t=r=e[a++],i=o=e[a++],bp[0]=r,bp[1]=o,xp[0]=r,xp[1]=o;break;case Qs.L:bq(t,i,e[a],e[a+1],bp,xp),t=e[a++],i=e[a++];break;case Qs.C:zRt(t,i,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],bp,xp),t=e[a++],i=e[a++];break;case Qs.Q:URt(t,i,e[a++],e[a++],e[a],e[a+1],bp,xp),t=e[a++],i=e[a++];break;case Qs.A:var c=e[a++],u=e[a++],d=e[a++],h=e[a++],p=e[a++],g=e[a++]+p;a+=1;var y=!e[a++];l&&(r=z_(p)*d+c,o=U_(p)*h+u),GRt(c,u,d,h,p,g,y,bp,xp),t=z_(g)*d+c,i=U_(g)*h+u;break;case Qs.R:bq(r=t=e[a++],o=i=e[a++],r+e[a++],o+e[a++],bp,xp);break;case Qs.Z:t=r,i=o}Fg(yp,yp,bp),Bg(jg,jg,xp)}return 0===a&&(yp[0]=yp[1]=jg[0]=jg[1]=0),new $r(yp[0],yp[1],jg[0]-yp[0],jg[1]-yp[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,h=0;h<t;){var p=e[h++],g=1===h;g&&(s=o=e[h],l=a=e[h+1]);var y=-1;switch(p){case Qs.M:o=s=e[h++],a=l=e[h++];break;case Qs.L:var b=e[h++],E=(w=e[h++])-a;(Im(C=b-o)>i||Im(E)>r||h===t-1)&&(y=Math.sqrt(C*C+E*E),o=b,a=w);break;case Qs.C:var k=e[h++],j=e[h++],w=(b=e[h++],e[h++]),H=e[h++],it=e[h++];y=rkt(o,a,k,j,b,w,H,it,10),o=H,a=it;break;case Qs.Q:y=akt(o,a,k=e[h++],j=e[h++],b=e[h++],w=e[h++],10),o=b,a=w;break;case Qs.A:var yt=e[h++],lt=e[h++],Lt=e[h++],kt=e[h++],Jt=e[h++],ne=e[h++],ce=ne+Jt;h+=1,h++,g&&(s=z_(Jt)*Lt+yt,l=U_(Jt)*kt+lt),y=EB(Lt,kt)*MB(Wg,Math.abs(ne)),o=z_(ce)*Lt+yt,a=U_(ce)*kt+lt;break;case Qs.R:s=o=e[h++],l=a=e[h++],y=2*e[h++]+2*e[h++];break;case Qs.Z:var C=s-o;E=l-a,y=Math.sqrt(C*C+E*E),o=s,a=l}y>=0&&(c[d++]=y,u+=y)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var s,l,c,u,d,h,g,C,k,j,i=this.data,r=this._ux,o=this._uy,a=this._len,p=t<1,b=0,w=0,E=0;if(!p||(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,C=t*this._pathLen))t:for(var H=0;H<a;){var it=i[H++],yt=1===H;switch(yt&&(s=c=i[H],l=u=i[H+1]),it!==Qs.L&&E>0&&(e.lineTo(k,j),E=0),it){case Qs.M:s=c=i[H++],l=u=i[H++],e.moveTo(c,u);break;case Qs.L:d=i[H++],h=i[H++];var lt=Im(d-c),Lt=Im(h-u);if(lt>r||Lt>o){if(p){if(b+(kt=g[w++])>C){e.lineTo(c*(1-(Jt=(C-b)/kt))+d*Jt,u*(1-Jt)+h*Jt);break t}b+=kt}e.lineTo(d,h),c=d,u=h,E=0}else{var ne=lt*lt+Lt*Lt;ne>E&&(k=d,j=h,E=ne)}break;case Qs.C:var ce=i[H++],Ee=i[H++],be=i[H++],Be=i[H++],Ne=i[H++],Qe=i[H++];if(p){if(b+(kt=g[w++])>C){Ug(c,ce,be,Ne,Jt=(C-b)/kt,B_),Ug(u,Ee,Be,Qe,Jt,V_),e.bezierCurveTo(B_[1],V_[1],B_[2],V_[2],B_[3],V_[3]);break t}b+=kt}e.bezierCurveTo(ce,Ee,be,Be,Ne,Qe),c=Ne,u=Qe;break;case Qs.Q:if(ce=i[H++],Ee=i[H++],be=i[H++],Be=i[H++],p){if(b+(kt=g[w++])>C){J1(c,ce,be,Jt=(C-b)/kt,B_),J1(u,Ee,Be,Jt,V_),e.quadraticCurveTo(B_[1],V_[1],B_[2],V_[2]);break t}b+=kt}e.quadraticCurveTo(ce,Ee,be,Be),c=be,u=Be;break;case Qs.A:var In=i[H++],Fn=i[H++],Kn=i[H++],Qn=i[H++],zn=i[H++],zi=i[H++],to=i[H++],Ui=!i[H++],Gi=Kn>Qn?Kn:Qn,ar=Im(Kn-Qn)>.001,Er=zn+zi,Ei=!1;if(p&&(b+(kt=g[w++])>C&&(Er=zn+zi*(C-b)/kt,Ei=!0),b+=kt),ar&&e.ellipse?e.ellipse(In,Fn,Kn,Qn,to,zn,Er,Ui):e.arc(In,Fn,Gi,zn,Er,Ui),Ei)break t;yt&&(s=z_(zn)*Kn+In,l=U_(zn)*Qn+Fn),c=z_(Er)*Kn+In,u=U_(Er)*Qn+Fn;break;case Qs.R:s=c=i[H],l=u=i[H+1],d=i[H++],h=i[H++];var Vr=i[H++],yl=i[H++];if(p){if(b+(kt=g[w++])>C){var jo=C-b;e.moveTo(d,h),e.lineTo(d+MB(jo,Vr),h),(jo-=Vr)>0&&e.lineTo(d+Vr,h+MB(jo,yl)),(jo-=yl)>0&&e.lineTo(d+EB(Vr-jo,0),h+yl),(jo-=Vr)>0&&e.lineTo(d,h+EB(yl-jo,0));break t}b+=kt}e.rect(d,h,Vr,yl);break;case Qs.Z:if(p){var kt;if(b+(kt=g[w++])>C){var Jt;e.lineTo(c*(1-(Jt=(C-b)/kt))+s*Jt,u*(1-Jt)+l*Jt);break t}b+=kt}e.closePath(),c=s,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Qs,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const wp=HRt;function Zg(n,e,t,i,r,o,a){if(0===r)return!1;var l,s=r;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>n+s&&o>t+s||o<n-s&&o<t-s)return!1;if(n===t)return Math.abs(o-n)<=s/2;var u=(l=(e-i)/(n-t))*o-a+(n*i-t*e)/(n-t);return u*u/(l*l+1)<=s/2*s/2}function jRt(n,e,t,i,r,o,a,s,l,c,u){if(0===l)return!1;var d=l;return!(u>e+d&&u>i+d&&u>o+d&&u>s+d||u<e-d&&u<i-d&&u<o-d&&u<s-d||c>n+d&&c>t+d&&c>r+d&&c>a+d||c<n-d&&c<t-d&&c<r-d&&c<a-d)&&m$(n,e,t,i,r,o,a,s,c,u,null)<=d/2}function Cq(n,e,t,i,r,o,a,s,l){if(0===a)return!1;var c=a;return!(l>e+c&&l>i+c&&l>o+c||l<e-c&&l<i-c&&l<o-c||s>n+c&&s>t+c&&s>r+c||s<n-c&&s<t-c&&s<r-c)&&v$(n,e,t,i,r,o,s,l,null)<=c/2}var Mq=2*Math.PI;function Pm(n){return(n%=Mq)<0&&(n+=Mq),n}var mS=2*Math.PI;function WRt(n,e,t,i,r,o,a,s,l){if(0===a)return!1;var c=a;s-=n,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(i-r)%mS<1e-4)return!0;if(o){var d=i;i=Pm(r),r=Pm(d)}else i=Pm(i),r=Pm(r);i>r&&(r+=mS);var h=Math.atan2(l,s);return h<0&&(h+=mS),h>=i&&h<=r||h+mS>=i&&h+mS<=r}function km(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;(1===a||0===a)&&(s=i<e?.5:-.5);var l=a*(t-n)+n;return l===r?1/0:l>r?s:0}var Yg=wp.CMD,G_=2*Math.PI,ZRt=1e-4,Md=[-1,-1,-1],Yh=[-1,-1];function XRt(){var n=Yh[0];Yh[0]=Yh[1],Yh[1]=n}function $Rt(n,e,t,i,r,o,a,s,l,c){if(c>e&&c>i&&c>o&&c>s||c<e&&c<i&&c<o&&c<s)return 0;var u=uA(e,i,o,s,c,Md);if(0===u)return 0;for(var d=0,h=-1,p=void 0,g=void 0,y=0;y<u;y++){var b=Md[y],w=0===b||1===b?.5:1;cu(n,t,r,a,b)<l||(h<0&&(h=p$(e,i,o,s,Yh),Yh[1]<Yh[0]&&h>1&&XRt(),p=cu(e,i,o,s,Yh[0]),h>1&&(g=cu(e,i,o,s,Yh[1]))),d+=2===h?b<Yh[0]?p<e?w:-w:b<Yh[1]?g<p?w:-w:s<g?w:-w:b<Yh[0]?p<e?w:-w:s<p?w:-w)}return d}function qRt(n,e,t,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=function okt(n,e,t,i,r){var o=n-2*e+t,a=2*(e-n),s=n-i,l=0;if(zg(o))h$(a)&&(c=-s/a)>=0&&c<=1&&(r[l++]=c);else{var u=a*a-4*o*s;if(zg(u))(c=-a/(2*o))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,d=Vg(u),h=(-a-d)/(2*o);(c=(-a+d)/(2*o))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}(e,i,o,s,Md);if(0===l)return 0;var c=g$(e,i,o);if(c>=0&&c<=1){for(var u=0,d=xu(e,i,o,c),h=0;h<l;h++){var p=0===Md[h]||1===Md[h]?.5:1;xu(n,t,r,Md[h])<a||(u+=Md[h]<c?d<e?p:-p:o<d?p:-p)}return u}return p=0===Md[0]||1===Md[0]?.5:1,xu(n,t,r,Md[0])<a?0:o<e?p:-p}function KRt(n,e,t,i,r,o,a,s){if((s-=e)>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);Md[0]=-l,Md[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=G_-1e-4){i=0,r=G_;var u=o?1:-1;return a>=Md[0]+n&&a<=Md[1]+n?u:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=G_,r+=G_);for(var h=0,p=0;p<2;p++){var g=Md[p];if(g+n>a){var y=Math.atan2(s,g);u=o?1:-1,y<0&&(y=G_+y),(y>=i&&y<=r||y+G_>=i&&y+G_<=r)&&(y>Math.PI/2&&y<1.5*Math.PI&&(u=-u),h+=u)}}return h}function Eq(n,e,t,i,r){for(var h,p,o=n.data,a=n.len(),s=0,l=0,c=0,u=0,d=0,g=0;g<a;){var y=o[g++],b=1===g;switch(y===Yg.M&&g>1&&(t||(s+=km(l,c,u,d,i,r))),b&&(u=l=o[g],d=c=o[g+1]),y){case Yg.M:l=u=o[g++],c=d=o[g++];break;case Yg.L:if(t){if(Zg(l,c,o[g],o[g+1],e,i,r))return!0}else s+=km(l,c,o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case Yg.C:if(t){if(jRt(l,c,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else s+=$Rt(l,c,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case Yg.Q:if(t){if(Cq(l,c,o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else s+=qRt(l,c,o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case Yg.A:var w=o[g++],C=o[g++],E=o[g++],k=o[g++],j=o[g++],H=o[g++];g+=1;var it=!!(1-o[g++]);h=Math.cos(j)*E+w,p=Math.sin(j)*k+C,b?(u=h,d=p):s+=km(l,c,h,p,i,r);var yt=(i-w)*k/E+w;if(t){if(WRt(w,C,k,j,j+H,it,e,yt,r))return!0}else s+=KRt(w,C,k,j,j+H,it,yt,r);l=Math.cos(j+H)*E+w,c=Math.sin(j+H)*k+C;break;case Yg.R:if(u=l=o[g++],d=c=o[g++],h=u+o[g++],p=d+o[g++],t){if(Zg(u,d,h,d,e,i,r)||Zg(h,d,h,p,e,i,r)||Zg(h,p,u,p,e,i,r)||Zg(u,p,u,d,e,i,r))return!0}else s+=km(h,d,h,p,i,r),s+=km(u,p,u,d,i,r);break;case Yg.Z:if(t){if(Zg(l,c,u,d,e,i,r))return!0}else s+=km(l,c,u,d,i,r);l=u,c=d}}return!t&&!function YRt(n,e){return Math.abs(n-e)<ZRt}(c,d)&&(s+=km(l,c,u,d,i,r)||0),0!==s}var LA=er({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},N_),tLt={style:er({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},AA.style)},IB=mp.concat(["invisible","culling","z","z2","zlevel","parent"]),eLt=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<IB.length;++s)r[IB[s]]=this[IB[s]];r.__dirty|=mh}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=Io(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var a=i[o],s=t[a];"style"===a?this.style?An(this.style,s):this.useStyle(s):"shape"===a?An(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(si(t)){var i=fA(t,0);return i>.5?eB:i>.2?"#eee":nB}if(t)return nB}return eB},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(si(i)){var r=this.__zr;if(!(!r||!r.isDarkMode())==fA(t,0)<.4)return i}},e.prototype.buildPath=function(t,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~Sb},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new wp(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(null==i||"none"===i||!(t.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&Sb)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),t=a.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){s.copy(t);var l=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return t},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect(),a=this.style;if(o.contain(t=r[0],i=r[1])){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function JRt(n,e,t,i){return Eq(n,e,!0,t,i)}(s,l/c,t,i)))return!0}if(this.hasFill())return function QRt(n,e,t){return Eq(n,0,!1,e,t)}(s,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Sb,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=i:An(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Sb)},e.prototype.createStyle=function(t){return KD(LA,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=An({},this.shape))},e.prototype._applyStateObj=function(t,i,r,o,a,s){n.prototype._applyStateObj.call(this,t,i,r,o,a,s);var c,l=!(i&&o);if(i&&i.shape?a?o?c=i.shape:(c=An({},r.shape),An(c,i.shape)):(c=An({},o?this.shape:r.shape),An(c,i.shape)):l&&(c=r.shape),c)if(a){this.shape=An({},this.shape);for(var u={},d=Io(c),h=0;h<d.length;h++){var p=d[h];"object"==typeof c[p]?this.shape[p]=c[p]:u[p]=c[p]}this._transitionState(t,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.shape&&this._mergeStyle(r=r||{},a.shape)}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return tLt},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(o){function a(s){var l=o.call(this,s)||this;return t.init&&t.init.call(l,s),l}return vl(a,o),a.prototype.getDefaultStyle=function(){return ur(t.style)},a.prototype.getDefaultShape=function(){return ur(t.shape)},a}(e);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=2|mh|Sb)),e;var t}(Zh);const vo=eLt;var nLt=er({strokeFirst:!0,font:Og,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},LA),Tq=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vl(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.createStyle=function(t){return KD(nLt,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var r=lS(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Zh);Tq.prototype.type="tspan";const gS=Tq;var iLt=er({x:0,y:0},N_),rLt={style:er({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},AA.style)},Dq=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vl(e,n),e.prototype.createStyle=function(t){return KD(iLt,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(null!=r)return r;var o=function oLt(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(i.image)?i.image:this.__image;if(!o)return 0;var a="width"===t?"height":"width",s=i[a];return null==s?o[t]:o[t]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return rLt},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new $r(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Zh);Dq.prototype.type="image";const Uu=Dq;var Pb=Math.round;function Aq(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=t&&t.lineWidth;return s&&(Pb(2*i)===Pb(2*r)&&(n.x1=n.x2=H_(i,s,!0)),Pb(2*o)===Pb(2*a)&&(n.y1=n.y2=H_(o,s,!0))),n}}function Iq(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=t&&t.lineWidth;return s&&(n.x=H_(i,s,!0),n.y=H_(r,s,!0),n.width=Math.max(H_(i+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(H_(r+a,s,!1)-n.y,0===a?0:1)),n}}function H_(n,e,t){if(!e)return n;var i=Pb(2*n);return(i+Pb(e))%2==0?i/2:(i+(t?1:-1))/2}var sLt=function n(){this.x=0,this.y=0,this.width=0,this.height=0},lLt={},Pq=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new sLt},e.prototype.buildPath=function(t,i){var r,o,a,s;if(this.subPixelOptimize){var l=Iq(lLt,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?function aLt(n,e){var s,l,c,u,d,t=e.x,i=e.y,r=e.width,o=e.height,a=e.r;r<0&&(t+=r,r=-r),o<0&&(i+=o,o=-o),"number"==typeof a?s=l=c=u=a:a instanceof Array?1===a.length?s=l=c=u=a[0]:2===a.length?(s=c=a[0],l=u=a[1]):3===a.length?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0,s+l>r&&(s*=r/(d=s+l),l*=r/d),c+u>r&&(c*=r/(d=c+u),u*=r/d),l+c>o&&(l*=o/(d=l+c),c*=o/d),s+u>o&&(s*=o/(d=s+u),u*=o/d),n.moveTo(t+s,i),n.lineTo(t+r-l,i),0!==l&&n.arc(t+r-l,i+l,l,-Math.PI/2,0),n.lineTo(t+r,i+o-c),0!==c&&n.arc(t+r-c,i+o-c,c,0,Math.PI/2),n.lineTo(t+u,i+o),0!==u&&n.arc(t+u,i+o-u,u,Math.PI/2,Math.PI),n.lineTo(t,i+s),0!==s&&n.arc(t+s,i+s,s,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(vo);Pq.prototype.type="rect";const aa=Pq;var kq={fill:"#000"},cLt={style:er({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},AA.style)},Lq=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=kq,i.attr(t),i}return vl(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,function hLt(n){Vq(n),Xt(n.rich,Vq)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new $r(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(t.copy(l),t.applyTransform(c),(o=o||t.clone()).union(t)):(o=o||l.clone()).union(l)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||kq},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return An(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=Io(i),o=0;o<r.length;o++){var a=r[o];t[a]=t[a]||{},An(t[a],i[a])}},e.prototype.getAnimationStyleProps=function(){return cLt},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||Og,r=t.padding,a=function IRt(n,e){null!=n&&(n+="");var d,t=e.overflow,i=e.padding,r=e.font,o="truncate"===t,a=SA(r),s=Xr(e.lineHeight,a),l=!!e.backgroundColor,c="truncate"===e.lineOverflow,u=e.width,h=(d=null==u||"break"!==t&&"breakAll"!==t?n?n.split("\n"):[]:n?_q(n,e.font,u,"breakAll"===t,0).lines:[]).length*s,p=Xr(e.height,h);if(h>p&&c){var g=Math.floor(p/s);d=d.slice(0,g)}if(n&&o&&null!=u)for(var y=mq(u,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),b=0;b<d.length;b++)d[b]=gq(d[b],y);var w=p,C=0;for(b=0;b<d.length;b++)C=Math.max(gh(d[b],r),C);null==u&&(u=C);var E=C;return i&&(w+=i[0]+i[2],E+=i[1]+i[3],u+=i[1]+i[3]),l&&(E=u),{lines:d,height:p,outerWidth:E,outerHeight:w,lineHeight:s,calculatedLineHeight:a,contentWidth:C,contentHeight:h,width:u}}(Hq(t),t),s=PB(t),l=!!t.backgroundColor,c=a.outerHeight,u=a.outerWidth,d=a.contentWidth,h=a.lines,p=a.lineHeight,g=this._defaultStyle,y=t.x||0,b=t.y||0,w=t.align||g.align||"left",C=t.verticalAlign||g.verticalAlign||"top",E=y,k=Db(b,a.contentHeight,C);if(s||r){var j=cS(y,u,w),H=Db(b,c,C);s&&this._renderBackground(t,t,j,H,u,c)}k+=p/2,r&&(E=Gq(y,w,r),"top"===C?k+=r[0]:"bottom"===C&&(k-=r[2]));for(var it=0,yt=!1,lt=(Uq("fill"in t?t.fill:(yt=!0,g.fill))),Lt=(zq("stroke"in t?t.stroke:l||g.autoStroke&&!yt?null:(it=2,g.stroke))),kt=t.textShadowBlur>0,Jt=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),ne=a.calculatedLineHeight,ce=0;ce<h.length;ce++){var Ee=this._getOrCreateChild(gS),be=Ee.createStyle();Ee.useStyle(be),be.text=h[ce],be.x=E,be.y=k,w&&(be.textAlign=w),be.textBaseline="middle",be.opacity=t.opacity,be.strokeFirst=!0,kt&&(be.shadowBlur=t.textShadowBlur||0,be.shadowColor=t.textShadowColor||"transparent",be.shadowOffsetX=t.textShadowOffsetX||0,be.shadowOffsetY=t.textShadowOffsetY||0),be.stroke=Lt,be.fill=lt,Lt&&(be.lineWidth=t.lineWidth||it,be.lineDash=t.lineDash,be.lineDashOffset=t.lineDashOffset||0),be.font=i,Fq(be,t),k+=p,Jt&&Ee.setBoundingRect(new $r(cS(be.x,t.width,be.textAlign),Db(be.y,ne,be.textBaseline),d,ne))}},e.prototype._updateRichTexts=function(){var t=this.style,r=function RRt(n,e){var t=new kRt;if(null!=n&&(n+=""),!n)return t;for(var l,i=e.width,r=e.height,o=e.overflow,a="break"!==o&&"breakAll"!==o||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===o},s=_B.lastIndex=0;null!=(l=_B.exec(n));){var c=l.index;c>s&&yB(t,n.substring(s,c),e,a),yB(t,l[2],e,a,l[1]),s=_B.lastIndex}s<n.length&&yB(t,n.substring(s,n.length),e,a);var u=[],d=0,h=0,p=e.padding,g="truncate"===o,y="truncate"===e.lineOverflow;function b(Ne,Qe,In){Ne.width=Qe,Ne.lineHeight=In,d+=In,h=Math.max(h,Qe)}t:for(var w=0;w<t.lines.length;w++){for(var C=t.lines[w],E=0,k=0,j=0;j<C.tokens.length;j++){var it=(H=C.tokens[j]).styleName&&e.rich[H.styleName]||{},yt=H.textPadding=it.padding,lt=yt?yt[1]+yt[3]:0,Lt=H.font=it.font||e.font;H.contentHeight=SA(Lt);var kt=Xr(it.height,H.contentHeight);if(H.innerHeight=kt,yt&&(kt+=yt[0]+yt[2]),H.height=kt,H.lineHeight=Sm(it.lineHeight,e.lineHeight,kt),H.align=it&&it.align||e.align,H.verticalAlign=it&&it.verticalAlign||"middle",y&&null!=r&&d+H.lineHeight>r){j>0?(C.tokens=C.tokens.slice(0,j),b(C,k,E),t.lines=t.lines.slice(0,w+1)):t.lines=t.lines.slice(0,w);break t}var Jt=it.width,ne=null==Jt||"auto"===Jt;if("string"==typeof Jt&&"%"===Jt.charAt(Jt.length-1))H.percentWidth=Jt,u.push(H),H.contentWidth=gh(H.text,Lt);else{if(ne){var ce=it.backgroundColor,Ee=ce&&ce.image;Ee&&DA(Ee=TRt(Ee))&&(H.width=Math.max(H.width,Ee.width*kt/Ee.height))}var be=g&&null!=i?i-k:null;null!=be&&be<H.width?!ne||be<lt?(H.text="",H.width=H.contentWidth=0):(H.text=DRt(H.text,be-lt,Lt,e.ellipsis,{minChar:e.truncateMinChar}),H.width=H.contentWidth=gh(H.text,Lt)):H.contentWidth=gh(H.text,Lt)}H.width+=lt,k+=H.width,it&&(E=Math.max(E,H.lineHeight))}b(C,k,E)}for(t.outerWidth=t.width=Xr(i,h),t.outerHeight=t.height=Xr(r,d),t.contentHeight=d,t.contentWidth=h,p&&(t.outerWidth+=p[1]+p[3],t.outerHeight+=p[0]+p[2]),w=0;w<u.length;w++){var H;(H=u[w]).width=parseInt(H.percentWidth,10)/100*t.width}return t}(Hq(t),t),o=r.width,a=r.outerWidth,s=r.outerHeight,l=t.padding,u=t.y||0,d=this._defaultStyle,p=t.verticalAlign||d.verticalAlign,g=cS(t.x||0,a,t.align||d.align),y=Db(u,s,p),b=g,w=y;l&&(b+=l[3],w+=l[0]);var C=b+o;PB(t)&&this._renderBackground(t,t,g,y,a,s);for(var E=!!t.backgroundColor,k=0;k<r.lines.length;k++){for(var j=r.lines[k],H=j.tokens,it=H.length,yt=j.lineHeight,lt=j.width,Lt=0,kt=b,Jt=C,ne=it-1,ce=void 0;Lt<it&&(!(ce=H[Lt]).align||"left"===ce.align);)this._placeToken(ce,t,yt,w,kt,"left",E),lt-=ce.width,kt+=ce.width,Lt++;for(;ne>=0&&"right"===(ce=H[ne]).align;)this._placeToken(ce,t,yt,w,Jt,"right",E),lt-=ce.width,Jt-=ce.width,ne--;for(kt+=(o-(kt-b)-(C-Jt)-lt)/2;Lt<=ne;)this._placeToken(ce=H[Lt],t,yt,w,kt+ce.width/2,"center",E),kt+=ce.width,Lt++;w+=yt}},e.prototype._placeToken=function(t,i,r,o,a,s,l){var c=i.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=o+r/2;"top"===u?d=o+t.height/2:"bottom"===u&&(d=o+r-t.height/2),!t.isLineHolder&&PB(c)&&this._renderBackground(c,i,"right"===s?a-t.width:"center"===s?a-t.width/2:a,d-t.height/2,t.width,t.height);var p=!!c.backgroundColor,g=t.textPadding;g&&(a=Gq(a,s,g),d-=t.height/2-g[0]-t.innerHeight/2);var y=this._getOrCreateChild(gS),b=y.createStyle();y.useStyle(b);var w=this._defaultStyle,C=!1,E=0,k=Uq("fill"in c?c.fill:"fill"in i?i.fill:(C=!0,w.fill)),j=zq("stroke"in c?c.stroke:"stroke"in i?i.stroke:p||l||w.autoStroke&&!C?null:(E=2,w.stroke)),H=c.textShadowBlur>0||i.textShadowBlur>0;b.text=t.text,b.x=a,b.y=d,H&&(b.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,b.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",b.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,b.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=t.font||Og,b.opacity=Sm(c.opacity,i.opacity,1),Fq(b,c),j&&(b.lineWidth=Sm(c.lineWidth,i.lineWidth,E),b.lineDash=Xr(c.lineDash,i.lineDash),b.lineDashOffset=i.lineDashOffset||0,b.stroke=j),k&&(b.fill=k);var it=t.contentWidth,yt=t.contentHeight;y.setBoundingRect(new $r(cS(b.x,it,b.textAlign),Db(b.y,yt,b.textBaseline),it,yt))},e.prototype._renderBackground=function(t,i,r,o,a,s){var y,b,C,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,h=l&&!d,p=t.borderRadius,g=this;if(h||t.lineHeight||c&&u){(y=this._getOrCreateChild(aa)).useStyle(y.createStyle()),y.style.fill=null;var w=y.shape;w.x=r,w.y=o,w.width=a,w.height=s,w.r=p,y.dirtyShape()}if(h)(C=y.style).fill=l||null,C.fillOpacity=Xr(t.fillOpacity,1);else if(d){(b=this._getOrCreateChild(Uu)).onload=function(){g.dirtyStyle()};var E=b.style;E.image=l.image,E.x=r,E.y=o,E.width=a,E.height=s}c&&u&&((C=y.style).lineWidth=c,C.stroke=u,C.strokeOpacity=Xr(t.strokeOpacity,1),C.lineDash=t.borderDash,C.lineDashOffset=t.borderDashOffset||0,y.strokeContainThreshold=0,y.hasFill()&&y.hasStroke()&&(C.strokeFirst=!0,C.lineWidth*=2));var k=(y||b).style;k.shadowBlur=t.shadowBlur||0,k.shadowColor=t.shadowColor||"transparent",k.shadowOffsetX=t.shadowOffsetX||0,k.shadowOffsetY=t.shadowOffsetY||0,k.opacity=Sm(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return Bq(t)&&(i=[t.fontStyle,t.fontWeight,Nq(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&If(i)||t.textFont||t.font},e}(Zh),uLt={left:!0,right:1,center:1},dLt={top:1,bottom:1,middle:1},Oq=["fontStyle","fontWeight","fontSize","fontFamily"];function Nq(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?aF+"px":n+"px":n}function Fq(n,e){for(var t=0;t<Oq.length;t++){var i=Oq[t],r=e[i];null!=r&&(n[i]=r)}}function Bq(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function Vq(n){if(n){n.font=Lq.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||uLt[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||dLt[t]?t:"top",n.padding&&(n.padding=fF(n.padding))}}function zq(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function Uq(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function Gq(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function Hq(n){var e=n.text;return null!=e&&(e+=""),e}function PB(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const da=Lq;var Ar=oa(),kB=function(n,e,t,i){if(i){var r=Ar(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=Ar(o);a.seriesIndex=n,a.dataIndex=t,a.dataType=e})}},jq=1,Wq={},Zq=oa(),RB=oa(),LB=0,vS=1,OA=2,Ed=["emphasis","blur","select"],_S=["normal","emphasis","blur","select"],kb=10,fLt=9,j_="highlight",NA="downplay",yS="select",FA="unselect",bS="toggleSelect";function Rb(n){return null!=n&&"none"!==n}var Yq=new tS(100);function Xq(n){if(si(n)){var e=Yq.get(n);return e||(e=VF(n,-.1),Yq.put(n,e)),e}if(XD(n)){var t=An({},n);return t.colorStops=Nn(n.colorStops,function(i){return{offset:i.offset,color:VF(i.color,-.1)}}),t}return n}function BA(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function $q(n){BA(n,"emphasis",OA)}function qq(n){n.hoverState===OA&&BA(n,"normal",LB)}function OB(n){BA(n,"blur",vS)}function Kq(n){n.hoverState===vS&&BA(n,"normal",LB)}function pLt(n){n.selected=!0}function mLt(n){n.selected=!1}function Qq(n,e,t){e(n,t)}function Rm(n,e,t){Qq(n,e,t),n.isGroup&&n.traverse(function(i){Qq(i,e,t)})}function VA(n,e){switch(e){case"emphasis":n.hoverState=OA;break;case"normal":n.hoverState=LB;break;case"blur":n.hoverState=vS;break;case"select":n.selected=!0}}function NB(n,e){var t=this.states[n];if(this.style){if("emphasis"===n)return function vLt(n,e,t,i){var r=t&&so(t,"select")>=0,o=!1;if(n instanceof vo){var a=Zq(n),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Rb(s)||Rb(l)){var c=(i=i||{}).style||{};"inherit"===c.fill?(o=!0,i=An({},i),(c=An({},c)).fill=s):!Rb(c.fill)&&Rb(s)?(o=!0,i=An({},i),(c=An({},c)).fill=Xq(s)):!Rb(c.stroke)&&Rb(l)&&(o||(i=An({},i),c=An({},c)),c.stroke=Xq(l)),i.style=c}}return i&&null==i.z2&&(o||(i=An({},i)),i.z2=n.z2+(n.z2EmphasisLift??kb)),i}(this,0,e,t);if("blur"===n)return function yLt(n,e,t){var i=so(n.currentStates,e)>=0,r=n.style.opacity,o=i?null:function gLt(n,e,t,i){for(var r=n.style,o={},a=0;a<e.length;a++){var s=e[a];o[s]=r[s]??(i&&i[s])}for(a=0;a<n.animators.length;a++){var c=n.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(o,e)}return o}(n,["opacity"],e,{opacity:1}),a=(t=t||{}).style||{};return null==a.opacity&&(t=An({},t),a=An({opacity:i?r:.1*o.opacity},a),t.style=a),t}(this,n,t);if("select"===n)return function _Lt(n,e,t){return t&&null==t.z2&&((t=An({},t)).z2=n.z2+(n.z2SelectLift??fLt)),t}(this,0,t)}return t}function W_(n){n.stateProxy=NB;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=NB),t&&(t.stateProxy=NB)}function Jq(n,e){!rK(n,e)&&!n.__highByOuter&&Rm(n,$q)}function tK(n,e){!rK(n,e)&&!n.__highByOuter&&Rm(n,qq)}function Lm(n,e){n.__highByOuter|=1<<(e||0),Rm(n,$q)}function Om(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Rm(n,qq)}function eK(n){Rm(n,OB)}function FB(n){Rm(n,Kq)}function nK(n){Rm(n,pLt)}function iK(n){Rm(n,mLt)}function rK(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function oK(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,o){var a=RB(o),s="series"===r,l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(c){Kq(c)}),s&&t.push(o)),a.isBlured=!1}),Xt(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function BB(n,e,t,i){var r=i.getModel();function o(c,u){for(var d=0;d<u.length;d++){var h=c.getItemGraphicEl(u[d]);h&&FB(h)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=a===c,d=c.coordinateSystem;if(d&&d.master&&(d=d.master),!("series"===t&&!u||"coordinateSystem"===t&&!(d&&s?d===s:u)||"series"===e&&u)){if(i.getViewOfSeriesModel(c).group.traverse(function(b){OB(b)}),ad(e))o(c.getData(),e);else if(or(e))for(var g=Io(e),y=0;y<g.length;y++)o(c.getData(g[y]),e[g[y]]);l.push(c),RB(c).isBlured=!0}}),r.eachComponent(function(c,u){if("series"!==c){var d=i.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function VB(n,e,t){if(null!=n&&null!=e){var i=t.getModel().getComponent(n,e);if(i){RB(i).isBlured=!0;var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){OB(o)})}}}function zB(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var l,s=a.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===Ar(s[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function aK(n){Xt(n.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(o,a){n.isSelected(a,r)?nK(o):iK(o)})})}function CLt(n){var e=[];return n.eachSeries(function(t){Xt(t.getAllData(),function(r){var a=r.type,s=t.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:t.seriesIndex};null!=a&&(l.dataType=a),e.push(l)}})}),e}function Z_(n,e,t){Y_(n,!0),Rm(n,W_),UB(n,e,t)}function $l(n,e,t,i){i?function MLt(n){Y_(n,!1)}(n):Z_(n,e,t)}function UB(n,e,t){var i=Ar(n);null!=e?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var sK=["emphasis","blur","select"],ELt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Gu(n,e,t,i){t=t||"itemStyle";for(var r=0;r<sK.length;r++){var o=sK[r],a=e.getModel([o,t]);n.ensureState(o).style=i?i(a):a[ELt[t]]()}}function Y_(n,e){var t=!1===e,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function xS(n){return!(!n||!n.__highDownDispatcher)}function GB(n){var e=n.type;return e===yS||e===FA||e===bS}function lK(n){var e=n.type;return e===j_||e===NA}var cK=oa();function Lb(n,e,t,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var l="update"===n;if(e&&e.isAnimationEnabled()){var c=void 0,u=void 0,d=void 0;return i?(c=Xr(i.duration,200),u=Xr(i.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(c=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(d=o.delay)),Ki(d)&&(d=d(t,r)),Ki(c)&&(c=c(t)),{duration:c||0,delay:d,easing:u}}return null}function HB(n,e,t,i,r,o,a){var l,s=!1;Ki(r)?(a=o,o=r,r=null):or(r)&&(o=r.cb,a=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c="leave"===n;c||e.stopAnimation("leave");var u=Lb(n,i,r,c?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(u&&u.duration>0){var g={duration:u.duration,delay:u.delay||0,easing:u.easing,done:o,force:!!o||!!a,setToFinal:!c,scope:n,during:a};s?e.animateFrom(t,g):e.animateTo(t,g)}else e.stopAnimation(),!s&&e.attr(t),a&&a(1),o&&o()}function va(n,e,t,i,r,o){HB("update",n,e,t,i,r,o)}function Cl(n,e,t,i,r,o){HB("enter",n,e,t,i,r,o)}function Ob(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("leave"===n.animators[e].scope)return!0;return!1}function Xg(n,e,t,i,r,o){Ob(n)||HB("leave",n,e,t,i,r,o)}function uK(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),Xg(n,{style:{opacity:0}},e,t,i)}function wS(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||uK(r,e,t,i)}):uK(n,e,t,i)}function Lf(n){cK(n).oldStyle=n.style}var zA={};function dK(n,e){for(var t=0;t<Ed.length;t++){var i=Ed[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function jB(n,e,t){var s,i=n.labelFetcher,r=n.labelDataIndex,o=n.labelDimIndex,a=e.normal;i&&(s=i.getFormattedLabel(r,"normal",null,o,a&&a.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=Ki(n.defaultText)?n.defaultText(r,n,t):n.defaultText);for(var l={normal:s},c=0;c<Ed.length;c++){var u=Ed[c],d=e[u];l[u]=Xr(i?i.getFormattedLabel(r,u,null,o,d&&d.get("formatter")):null,s)}return l}function Hu(n,e,t,i){t=t||zA;for(var r=n instanceof da,o=!1,a=0;a<_S.length;a++)if((s=e[_S[a]])&&s.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new da,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=jB(t,e),u=e.normal,d=!!u.getShallow("show"),h=al(u,i&&i.normal,t,!1,!r);for(h.text=c.normal,r||n.setTextConfig(UA(u,t,!1)),a=0;a<Ed.length;a++){var s,p=Ed[a];if(s=e[p]){var g=l.ensureState(p),y=!!Xr(s.getShallow("show"),d);y!==d&&(g.ignore=!y),g.style=al(s,i&&i[p],t,!0,!r),g.style.text=c[p],r||(n.ensureState(p).textConfig=UA(s,t,!0))}}l.silent=!!u.getShallow("silent"),null!=l.style.x&&(h.x=l.style.x),null!=l.style.y&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Nb(l).setLabelText=function(w){var C=jB(t,e,w);dK(l,C)})}else l&&(l.ignore=!0);n.dirty()}function uu(n,e){for(var t={normal:n.getModel(e=e||"label")},i=0;i<Ed.length;i++){var r=Ed[i];t[r]=n.getModel([r,e])}return t}function al(n,e,t,i,r){var o={};return function PLt(n,e,t,i,r){t=t||zA;var l,o=e.ecModel,a=o&&o.option.textStyle,s=function kLt(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||zA).rich;if(t){e=e||{};for(var i=Io(t),r=0;r<i.length;r++)e[i[r]]=1}n=n.parentModel}return e}(e);if(s)for(var c in l={},s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);mK(l[c]={},u,a,t,i,r,!1,!0)}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var h=e.get("minMargin");null!=h&&(n.margin=h),mK(n,e,a,t,i,r,!0,!1)}(o,n,t,i,r),e&&An(o,e),o}function UA(n,e,t){e=e||{};var r,i={},o=n.getShallow("rotate"),a=Xr(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return"outside"===(r=n.getShallow("position")||(t?null:"inside"))&&(r=e.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",i}var hK=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],fK=["align","lineHeight","width","height","tag","verticalAlign"],pK=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function mK(n,e,t,i,r,o,a,s){t=!r&&t||zA;var l=i&&i.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=Xr(e.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=l||null),("inherit"===u||"auto"===u)&&(u=l||null),o||(c=c||t.color,u=u||t.textBorderColor),null!=c&&(n.fill=c),null!=u&&(n.stroke=u);var h=Xr(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=h&&(n.lineWidth=h);var p=Xr(e.getShallow("textBorderType"),t.textBorderType);null!=p&&(n.lineDash=p);var g=Xr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=g&&(n.lineDashOffset=g),!r&&null==d&&!s&&(d=i&&i.defaultOpacity),null!=d&&(n.opacity=d),!r&&!o&&null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var y=0;y<hK.length;y++)null!=(w=Xr(e.getShallow(b=hK[y]),t[b]))&&(n[b]=w);for(y=0;y<fK.length;y++)null!=(w=e.getShallow(b=fK[y]))&&(n[b]=w);if(null==n.verticalAlign){var C=e.getShallow("baseline");null!=C&&(n.verticalAlign=C)}if(!a||!i.disableBox){for(y=0;y<pK.length;y++){var b,w;null!=(w=e.getShallow(b=pK[y]))&&(n[b]=w)}var E=e.getShallow("borderType");null!=E&&(n.borderDash=E),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&l&&(n.backgroundColor=l),("auto"===n.borderColor||"inherit"===n.borderColor)&&l&&(n.borderColor=l)}}function gK(n,e){var t=e&&e.getModel("textStyle");return If([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Nb=oa();function vK(n,e,t,i){if(n){var r=Nb(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function _K(n,e,t,i,r){var o=Nb(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=Xr(o.interpolatedValue,o.prevValue),l=o.value;n.percent=0,(null==o.prevValue?Cl:va)(n,{percent:1},i,e,null,function c(u){var d=dq(t,o.precision,s,l,u);o.interpolatedValue=1===u?null:d;var h=jB({labelDataIndex:e,labelFetcher:r,defaultText:a?a(d):d+""},o.statesModels,d);dK(n,h)})}}var RLt=["textStyle","color"],WB=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],ZB=new da,LLt=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(RLt):null)},n.prototype.getFont=function(){return gK({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<WB.length;i++)t[WB[i]]=this.getShallow(WB[i]);return ZB.useStyle(t),ZB.update(),ZB.getBoundingRect()},n}();const OLt=LLt;var yK=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],NLt=O_(yK),FLt=function(){function n(){}return n.prototype.getLineStyle=function(e){return NLt(this,e)},n}(),bK=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],BLt=O_(bK),VLt=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return BLt(this,e,t)},n}(),X_=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){Yr(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=null==i?i:i[e];if(null==r&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=null!=e,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(ur(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!ca.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||null!=(i=i&&"object"==typeof i?i[e[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();mB(X_),function xRt(n){var e=["__\0is_clz",bRt++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!(!t||!t[e])}}(X_),Nc(X_,FLt),Nc(X_,VLt),Nc(X_,ERt),Nc(X_,OLt);const sl=X_;var zLt=Math.round(10*Math.random());function Fb(n){return[n||"",zLt++].join("_")}function $g(n,e){return Yr(Yr({},n,!0),e,!0)}var GA="ZH",YB="EN",SS=YB,HA={},XB={},xK=ca.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(GA)>-1?GA:SS;function wK(n,e){n=n.toUpperCase(),XB[n]=new sl(e),HA[n]=e}function $B(n){return XB[n]}wK(YB,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),wK(GA,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var qB=1e3,KB=60*qB,CS=60*KB,Xh=24*CS,SK=365*Xh,MS={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},jA="{yyyy}-{MM}-{dd}",CK={year:"{yyyy}",month:"{yyyy}-{MM}",day:jA,hour:jA+" "+MS.hour,minute:jA+" "+MS.minute,second:jA+" "+MS.second,millisecond:MS.none},QB=["year","month","day","hour","minute","second","millisecond"],MK=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $_(n,e){return"0000".substr(0,e-(n+="").length)+n}function Bb(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function YLt(n){return n===Bb(n)}function WA(n,e,t,i){var r=vp(n),o=r[JB(t)](),a=r[Vb(t)]()+1,s=Math.floor((a-1)/3)+1,l=r[ZA(t)](),c=r["get"+(t?"UTC":"")+"Day"](),u=r[ES(t)](),d=(u-1)%12+1,h=r[YA(t)](),p=r[XA(t)](),g=r[$A(t)](),b=(i instanceof sl?i:$B(i||xK)||function ZLt(){return XB[SS]}()).getModel("time"),w=b.get("month"),C=b.get("monthAbbr"),E=b.get("dayOfWeek"),k=b.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,w[a-1]).replace(/{MMM}/g,C[a-1]).replace(/{MM}/g,$_(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,$_(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[c]).replace(/{ee}/g,k[c]).replace(/{e}/g,c+"").replace(/{HH}/g,$_(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,$_(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,$_(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,$_(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,$_(g,3)).replace(/{S}/g,g+"")}function EK(n,e){var t=vp(n),i=t[Vb(e)]()+1,r=t[ZA(e)](),o=t[ES(e)](),a=t[YA(e)](),s=t[XA(e)](),c=0===t[$A(e)](),u=c&&0===s,d=u&&0===a,h=d&&0===o,p=h&&1===r;return p&&1===i?"year":p?"month":h?"day":d?"hour":u?"minute":c?"second":"millisecond"}function TK(n,e,t){var i=ua(n)?vp(n):n;switch(e=e||EK(n,t)){case"year":return i[JB(t)]();case"half-year":return i[Vb(t)]()>=6?1:0;case"quarter":return Math.floor((i[Vb(t)]()+1)/4);case"month":return i[Vb(t)]();case"day":return i[ZA(t)]();case"half-day":return i[ES(t)]()/24;case"hour":return i[ES(t)]();case"minute":return i[YA(t)]();case"second":return i[XA(t)]();case"millisecond":return i[$A(t)]()}}function JB(n){return n?"getUTCFullYear":"getFullYear"}function Vb(n){return n?"getUTCMonth":"getMonth"}function ZA(n){return n?"getUTCDate":"getDate"}function ES(n){return n?"getUTCHours":"getHours"}function YA(n){return n?"getUTCMinutes":"getMinutes"}function XA(n){return n?"getUTCSeconds":"getSeconds"}function $A(n){return n?"getUTCMilliseconds":"getMilliseconds"}function qLt(n){return n?"setUTCFullYear":"setFullYear"}function DK(n){return n?"setUTCMonth":"setMonth"}function AK(n){return n?"setUTCDate":"setDate"}function IK(n){return n?"setUTCHours":"setHours"}function PK(n){return n?"setUTCMinutes":"setMinutes"}function kK(n){return n?"setUTCSeconds":"setSeconds"}function RK(n){return n?"setUTCMilliseconds":"setMilliseconds"}function LK(n){if(!tq(n))return si(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function OK(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var zb=fF;function t3(n,e,t){function r(u){return u&&If(u)?u:"-"}function o(u){return!(null==u||isNaN(u)||!isFinite(u))}var a="time"===e,s=n instanceof Date;if(a||s){var l=a?vp(n):n;if(!isNaN(+l))return WA(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===e)return dF(n)?r(n):ua(n)&&o(n)?n+"":"-";var c=Am(n);return o(c)?LK(c):dF(n)?r(n):"boolean"==typeof n?n+"":"-"}var NK=["a","b","c","d","e","f","g"],e3=function(n,e){return"{"+n+(e??"")+"}"};function FK(n,e,t){Ln(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=NK[o];n=n.replace(e3(a),e3(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=e[s][r[l]];n=n.replace(e3(NK[l],s),t?jd(c):c)}return n}function q_(n,e){return e=e||"transparent",si(n)?n:or(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function qA(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var KA=Xt,BK=["left","right","top","bottom","width","height"],K_=[["width","left","right"],["height","top","bottom"]];function n3(n,e,t,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(l,c){var p,g,u=l.getBoundingRect(),d=e.childAt(c+1),h=d&&d.getBoundingRect();if("horizontal"===n){var y=u.width+(h?-h.x+u.x:0);(p=o+y)>i||l.newline?(o=0,p=y,a+=s+t,s=u.height):s=Math.max(s,u.height)}else{var b=u.height+(h?-h.y+u.y:0);(g=a+b)>r||l.newline?(o+=s+t,a=0,g=b,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=p+t:a=g+t)})}var Q_=n3;function eu(n,e,t){t=zb(t||0);var i=e.width,r=e.height,o=ni(n.left,i),a=ni(n.top,r),s=ni(n.right,i),l=ni(n.bottom,r),c=ni(n.width,i),u=ni(n.height,r),d=t[2]+t[0],h=t[1]+t[3],p=n.aspect;switch(isNaN(c)&&(c=i-s-h-o),isNaN(u)&&(u=r-l-d-a),null!=p&&(isNaN(c)&&isNaN(u)&&(p>i/r?c=.8*i:u=.8*r),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(o)&&(o=i-s-c-h),isNaN(a)&&(a=r-l-u-d),n.left||n.right){case"center":o=i/2-c/2-t[3];break;case"right":o=i-c-h}switch(n.top||n.bottom){case"middle":case"center":a=r/2-u/2-t[0];break;case"bottom":a=r-u-d}o=o||0,a=a||0,isNaN(c)&&(c=i-h-o-(s||0)),isNaN(u)&&(u=r-d-a-(l||0));var g=new $r(o+t[3],a+t[0],c,u);return g.margin=t,g}function QA(n,e,t,i,r,o){var c,a=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!a&&!s)return!1;if("raw"===l)c="group"===n.type?new $r(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(c=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();(c=c.clone()).applyTransform(u)}var d=eu(er({width:c.width,height:c.height},e),t,i),h=a?d.x-c.x:0,p=s?d.y-c.y:0;return"raw"===l?(o.x=h,o.y=p):(o.x+=h,o.y+=p),o===n&&n.markRedraw(),!0}function TS(n){var e=n.layoutMode||n.constructor.layoutMode;return or(e)?e:e?{type:e}:null}function qg(n,e,t){var i=t&&t.ignoreSize;!Ln(i)&&(i=[i,i]);var r=a(K_[0],0),o=a(K_[1],1);function a(u,d){var h={},p=0,g={},y=0;if(KA(u,function(E){g[E]=n[E]}),KA(u,function(E){s(e,E)&&(h[E]=g[E]=e[E]),l(h,E)&&p++,l(g,E)&&y++}),i[d])return l(e,u[1])?g[u[2]]=null:l(e,u[2])&&(g[u[1]]=null),g;if(2===y||!p)return g;if(p>=2)return h;for(var w=0;w<u.length;w++){var C=u[w];if(!s(h,C)&&s(n,C)){h[C]=n[C];break}}return h}function s(u,d){return u.hasOwnProperty(d)}function l(u,d){return null!=u[d]&&"auto"!==u[d]}function c(u,d,h){KA(u,function(p){d[p]=h[p]})}c(K_[0],n,r),c(K_[1],n,o)}function Ub(n){return VK({},n)}function VK(n,e){return e&&n&&KA(BK,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}Lr(n3,"vertical"),Lr(n3,"horizontal");var e2t=oa(),Gb=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=Fb("ec_cpt_model"),o}return vn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=TS(this),o=r?Ub(t):{};Yr(t,i.getTheme().get(this.mainType)),Yr(t,this.getDefaultOption()),r&&qg(t,o,r)},e.prototype.mergeOption=function(t,i){Yr(this.option,t,!0);var r=TS(this);r&&qg(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function _Rt(n){return!(!n||!n[hq])}(t))return t.defaultOption;var i=e2t(this);if(!i.defaultOption){for(var r=[],o=t;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=Yr(s,r[l],!0);i.defaultOption=s}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var o=t+"Id";return fS(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((t=e.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),e;var t}(sl);fq(Gb,sl),TA(Gb),function ULt(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=_p(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=_p(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r}}(Gb),function GLt(n,e){function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}n.topologicalTravel=function(o,a,s,l){if(o.length){var c=function t(o){var a={},s=[];return Xt(o,function(l){var c=i(a,l),d=function r(o,a){var s=[];return Xt(o,function(l){so(a,l)>=0&&s.push(l)}),s}(c.originalDeps=e(l),o);c.entryCount=d.length,0===c.entryCount&&s.push(l),Xt(d,function(h){so(c.predecessor,h)<0&&c.predecessor.push(h);var p=i(a,h);so(p.successor,h)<0&&p.successor.push(l)})}),{graph:a,noEntryList:s}}(a),u=c.graph,d=c.noEntryList,h={};for(Xt(o,function(C){h[C]=!0});d.length;){var p=d.pop(),g=u[p],y=!!h[p];y&&(s.call(l,p,g.originalDeps.slice()),delete h[p]),Xt(g.successor,y?w:b)}Xt(h,function(){throw new Error("")})}function b(C){u[C].entryCount--,0===u[C].entryCount&&d.push(C)}function w(C){h[C]=!0,b(C)}}}(Gb,function n2t(n){var e=[];return Xt(Gb.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Nn(e,function(t){return _p(t).main}),"dataset"!==n&&so(e,"dataset")<=0&&e.unshift("dataset"),e});const ha=Gb;var zK="";typeof navigator<"u"&&(zK=navigator.platform||"");var Hb="rgba(0, 0, 0, 0.2)";const i2t={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Hb,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Hb,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Hb,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Hb,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Hb,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Hb,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:zK.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var UK=Wi(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),$h="original",sd="arrayRows",qh="objectRows",Sp="keyedColumns",Nm="typedArray",GK="unknown",Cp="column",jb="row",ju={Must:1,Might:2,Not:3},HK=oa();function jK(n,e,t){var i={},r=o3(e);if(!r||!n)return i;var u,d,o=[],a=[],l=HK(e.ecModel).datasetMap,c=r.uid+"_"+t.seriesLayoutBy;Xt(n=n.slice(),function(y,b){var w=or(y)?y:n[b]={name:y};"ordinal"===w.type&&null==u&&(u=b,d=g(w)),i[w.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});function p(y,b,w){for(var C=0;C<w;C++)y.push(b+C)}function g(y){var b=y.dimsDef;return b?b.length:1}return Xt(n,function(y,b){var w=y.name,C=g(y);if(null==u)p(i[w],E=h.valueWayDim,C),p(a,E,C),h.valueWayDim+=C;else if(u===b)p(i[w],0,C),p(o,0,C);else{var E;p(i[w],E=h.categoryWayDim,C),p(a,E,C),h.categoryWayDim+=C}}),o.length&&(i.itemName=o),a.length&&(i.seriesName=a),i}function r3(n,e,t){var i={};if(!o3(n))return i;var s,o=e.sourceFormat,a=e.dimensionsDefine;(o===qh||o===Sp)&&Xt(a,function(u,d){"name"===(or(u)?u.name:u)&&(s=d)});var l=function(){for(var u={},d={},h=[],p=0,g=Math.min(5,t);p<g;p++){var y=ZK(e.data,o,e.seriesLayoutBy,a,e.startIndex,p);h.push(y);var b=y===ju.Not;if(b&&null==u.v&&p!==s&&(u.v=p),(null==u.n||u.n===u.v||!b&&h[u.n]===ju.Not)&&(u.n=p),w(u)&&h[u.n]!==ju.Not)return u;b||(y===ju.Might&&null==d.v&&p!==s&&(d.v=p),(null==d.n||d.n===d.v)&&(d.n=p))}function w(C){return null!=C.v&&null!=C.n}return w(u)?u:w(d)?d:null}();if(l){i.value=[l.v];var c=s??l.n;i.itemName=[c],i.seriesName=[c]}return i}function o3(n){if(!n.get("data",!0))return fS(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Fc).models[0]}function WK(n,e){return ZK(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function ZK(n,e,t,i,r,o){var a,l,c;if(ph(n))return ju.Not;if(i){var u=i[o];or(u)?(l=u.name,c=u.type):si(u)&&(l=u)}if(null!=c)return"ordinal"===c?ju.Must:ju.Not;if(e===sd){var d=n;if(t===jb){for(var h=d[o],p=0;p<(h||[]).length&&p<5;p++)if(null!=(a=k(h[r+p])))return a}else for(p=0;p<d.length&&p<5;p++){var g=d[r+p];if(g&&null!=(a=k(g[o])))return a}}else if(e===qh){var y=n;if(!l)return ju.Not;for(p=0;p<y.length&&p<5;p++)if((b=y[p])&&null!=(a=k(b[l])))return a}else if(e===Sp){if(!l)return ju.Not;if(!(h=n[l])||ph(h))return ju.Not;for(p=0;p<h.length&&p<5;p++)if(null!=(a=k(h[p])))return a}else if(e===$h){var C=n;for(p=0;p<C.length&&p<5;p++){var b,E=Ib(b=C[p]);if(!Ln(E))return ju.Not;if(null!=(a=k(E[o])))return a}}function k(j){var H=si(j);return null!=j&&isFinite(j)&&""!==j?H?ju.Might:ju.Not:H&&"-"!==j?ju.Must:void 0}return ju.Not}var a3=Wi(),YK=oa(),l2t=oa(),s3=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=Ps(this.get("color",!0)),o=this.get("colorLayer",!0);return XK(this,YK,r,o,e,t,i)},n.prototype.clearColorPalette=function(){!function u2t(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}(this,YK)},n}();function l3(n,e,t,i){var r=Ps(n.get(["aria","decal","decals"]));return XK(n,l2t,r,null,e,t,i)}function XK(n,e,t,i,r,o,a){var s=e(o=o||n),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=null!=a&&i?function c2t(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}(i,a):t;if((u=u||t)&&u.length){var d=u[l];return r&&(c[r]=d),s.paletteIdx=(l+1)%u.length,d}}var JA,DS,$K,qK="\0_ec_inner",QK=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.init=function(t,i,r,o,a,s){o=o||{},this.option=null,this._theme=new sl(o),this._locale=new sl(a),this._optionManager=s},e.prototype.setOption=function(t,i,r){var o=eQ(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,eQ(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||"recreate"===t){var a=o.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(a,i)):$K(this,a),r=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!t||"recreate"===t||"media"===t){var l=o.getMediaOption(this);l.length&&Xt(l,function(c){r=!0,this._mergeOption(c,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Wi(),c=i&&i.replaceMergeMainTypeMap;(function r2t(n){HK(n).datasetMap=Wi()})(this),Xt(t,function(d,h){null!=d&&(ha.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=null==r[h]?ur(d):Yr(r[h],d,!0))}),c&&c.each(function(d,h){ha.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),ha.topologicalTravel(s,ha.getAllClassMainTypes(),function u(d){var h=function s2t(n,e,t){var i=a3.get(e);if(!i)return t;var r=i(n);return r?t.concat(r):t}(this,d,Ps(t[d])),p=o.get(d),y=lq(p,h,p?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll");(function cRt(n,e,t){Xt(n,function(i){var r=i.newOption;or(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=function uRt(n,e,t,i){return e.type?e.type:t?t.subType:i.determineSubType(n,e)}(e,r,i.existing,t))})})(y,d,ha),r[d]=null,o.set(d,null),a.set(d,0);var E,b=[],w=[],C=0;Xt(y,function(j,H){var it=j.existing,yt=j.newOption;if(yt){var Lt=ha.getClass(d,j.keyInfo.subType,!("series"===d));if(!Lt)return;if("tooltip"===d){if(E)return;E=!0}if(it&&it.constructor===Lt)it.name=j.keyInfo.name,it.mergeOption(yt,this),it.optionUpdated(yt,!1);else{var ne=An({componentIndex:H},j.keyInfo);An(it=new Lt(yt,this,this,ne),ne),j.brandNew&&(it.__requireNewView=!0),it.init(yt,this,this),it.optionUpdated(null,!0)}}else it&&(it.mergeOption({},this),it.optionUpdated({},!1));it?(b.push(it.option),w.push(it),C++):(b.push(void 0),w.push(void 0))},this),r[d]=b,o.set(d,w),a.set(d,C),"series"===d&&JA(this)},this),this._seriesIndices||JA(this)},e.prototype.getOption=function(){var t=ur(this.option);return Xt(t,function(i,r){if(ha.hasClass(r)){for(var o=Ps(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!dS(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,t[r]=o}}),delete t[qK],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var l,r=t.index,o=t.id,a=t.name,s=this._componentsMap.get(i);return s&&s.length?(null!=r?(l=[],Xt(Ps(r),function(c){s[c]&&l.push(s[c])})):l=null!=o?JK("id",o,s):null!=a?JK("name",a,s):Ss(s,function(c){return!!c}),tQ(l,t)):[]},e.prototype.findComponents=function(t){var r=t.mainType,o=function s(c){var u=r+"Index",d=r+"Id",h=r+"Name";return!c||null==c[u]&&null==c[d]&&null==c[h]?null:{mainType:r,index:c[u],id:c[d],name:c[h]}}(t.query);return function l(c){return t.filter?Ss(c,t.filter):c}(tQ(o?this.queryComponents(o):Ss(this._componentsMap.get(r),function(c){return!!c}),t))},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(Ki(t)){var a=i,s=t;o.each(function(d,h){for(var p=0;d&&p<d.length;p++){var g=d[p];g&&s.call(a,h,g,g.componentIndex)}})}else for(var l=si(t)?o.get(t):or(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&i.call(r,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=tu(t,null);return Ss(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ss(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return Ss(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){DS(this),Xt(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){Xt(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){DS(this),Xt(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===t&&i.call(r,a,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return Xt(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return DS(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){DS(this);var r=[];Xt(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Wi(r)},e.prototype.restoreData=function(t){JA(this);var i=this._componentsMap,r=[];i.each(function(o,a){ha.hasClass(a)&&r.push(a)}),ha.topologicalTravel(r,ha.getAllClassMainTypes(),function(o){Xt(i.get(o),function(a){a&&("series"!==o||!function f2t(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=t&&n.componentIndex!==t||null!=i&&n.id!==i||null!=r&&n.name!==r}}(a,t))&&a.restoreData()})})},e.internalField=(JA=function(t){var i=t._seriesIndices=[];Xt(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=Wi(i)},DS=function(t){},void($K=function(t,i){t.option={},t.option[qK]=1,t._componentsMap=Wi({series:[]}),t._componentsCount=Wi();var r=i.aria;or(r)&&null==r.enabled&&(r.enabled=!0),function p2t(n,e){var t=n.color&&!n.colorLayer;Xt(e,function(i,r){"colorLayer"===r&&t||ha.hasClass(r)||("object"==typeof i?n[r]=n[r]?Yr(n[r],i,!1):ur(i):null==n[r]&&(n[r]=i))})}(i,t._theme.option),Yr(i,i2t,!1),t._mergeOption(i,null)})),e}(sl);function JK(n,e,t){if(Ln(e)){var i=Wi();return Xt(e,function(o){null!=o&&null!=tu(o,null)&&i.set(o,!0)}),Ss(t,function(o){return o&&i.get(o[n])})}var r=tu(e,null);return Ss(t,function(o){return o&&null!=r&&o[n]===r})}function tQ(n,e){return e.hasOwnProperty("subType")?Ss(n,function(t){return t&&t.subType===e.subType}):n}function eQ(n){var e=Wi();return n&&Xt(Ps(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Nc(QK,s3);const nQ=QK;var m2t=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const iQ=function n(e){Xt(m2t,function(t){this[t]=vi(e[t],e)},this)};var c3={},v2t=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];Xt(c3,function(r,o){var a=r.create(e,t);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){Xt(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){c3[e]=t},n.get=function(e){return c3[e]},n}();const AS=v2t;var _2t=/^(min|max)?(.+)$/,y2t=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(Xt(Ps(e.series),function(a){a&&a.data&&ph(a.data)&&$D(a.data)}),Xt(Ps(e.dataset),function(a){a&&a.source&&ph(a.source)&&$D(a.source)})),e=ur(e);var r=this._optionBackup,o=function b2t(n,e,t){var r,o,i=[],a=n.baseOption,s=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||s||a&&a.timeline);function h(p){Xt(e,function(g){g(p,t)})}return a?(o=a).timeline||(o.timeline=s):((d||u)&&(n.options=n.media=null),o=n),u&&Ln(c)&&Xt(c,function(p){p&&p.option&&(p.query?i.push(p):r||(r=p))}),h(o),Xt(l,function(p){return h(p)}),Xt(i,function(p){return h(p.option)}),{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ur(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=ur(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!r.length&&!o)return s;for(var l=0,c=r.length;l<c;l++)x2t(r[l].query,t,i)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!function S2t(n,e){return n.join(",")===e.join(",")}(a,this._currentMediaIndices)&&(s=Nn(a,function(u){return ur(-1===u?o.option:r[u].option)})),this._currentMediaIndices=a,s},n}();function x2t(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return Xt(n,function(o,a){var s=a.match(_2t);if(s&&s[1]&&s[2]){var l=s[1],c=s[2].toLowerCase();(function w2t(n,e,t){return"min"===t?n>=e:"max"===t?n<=e:n===e})(i[c],o,l)||(r=!1)}}),r}const C2t=y2t;var Of=Xt,IS=or,rQ=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function u3(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=rQ.length;t<i;t++){var r=rQ[t],o=e.normal,a=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?Yr(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?Yr(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function ld(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,er(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function PS(n){ld(n,"itemStyle"),ld(n,"lineStyle"),ld(n,"areaStyle"),ld(n,"label"),ld(n,"labelLine"),ld(n,"upperLabel"),ld(n,"edgeLabel")}function Bc(n,e){var t=IS(n)&&n[e],i=IS(t)&&t.textStyle;if(i)for(var r=0,o=sq.length;r<o;r++){var a=sq[r];i.hasOwnProperty(a)&&(t[a]=i[a])}}function Kh(n){n&&(PS(n),Bc(n,"label"),n.emphasis&&Bc(n.emphasis,"label"))}function Fm(n){return Ln(n)?n:n?[n]:[]}function oQ(n){return(Ln(n)?n[0]:n)||{}}function aQ(n){n&&Xt(A2t,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var A2t=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],I2t=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],d3=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function kS(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<d3.length;t++){var i=d3[t][1];null!=e[i]&&(e[d3[t][0]]=e[i])}}function sQ(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function lQ(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function cQ(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&cQ(n[t].children,e)}function uQ(n,e){(function E2t(n,e){Of(Fm(n.series),function(i){IS(i)&&function M2t(n){if(IS(n)){u3(n),PS(n),Bc(n,"label"),Bc(n,"upperLabel"),Bc(n,"edgeLabel"),n.emphasis&&(Bc(n.emphasis,"label"),Bc(n.emphasis,"upperLabel"),Bc(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(u3(e),Kh(e));var t=n.markLine;t&&(u3(t),Kh(t));var i=n.markArea;i&&Kh(i);var r=n.data;if("graph"===n.type){r=r||n.nodes;var o=n.links||n.edges;if(o&&!ph(o))for(var a=0;a<o.length;a++)Kh(o[a]);Xt(n.categories,function(c){PS(c)})}if(r&&!ph(r))for(a=0;a<r.length;a++)Kh(r[a]);if((e=n.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)Kh(s[a])}if((t=n.markLine)&&t.data){var l=t.data;for(a=0;a<l.length;a++)Ln(l[a])?(Kh(l[a][0]),Kh(l[a][1])):Kh(l[a])}"gauge"===n.type?(Bc(n,"axisLabel"),Bc(n,"title"),Bc(n,"detail")):"treemap"===n.type?(ld(n.breadcrumb,"itemStyle"),Xt(n.levels,function(c){PS(c)})):"tree"===n.type&&PS(n.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Of(t,function(i){Of(Fm(n[i]),function(r){r&&(Bc(r,"axisLabel"),Bc(r.axisPointer,"label"))})}),Of(Fm(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Bc(r,"axisLabel"),Bc(r&&r.axisPointer,"label")}),Of(Fm(n.calendar),function(i){ld(i,"itemStyle"),Bc(i,"dayLabel"),Bc(i,"monthLabel"),Bc(i,"yearLabel")}),Of(Fm(n.radar),function(i){Bc(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Of(Fm(n.geo),function(i){IS(i)&&(Kh(i),Of(Fm(i.regions),function(r){Kh(r)}))}),Of(Fm(n.timeline),function(i){Kh(i),ld(i,"label"),ld(i,"itemStyle"),ld(i,"controlStyle",!0);var r=i.data;Ln(r)&&Xt(r,function(o){or(o)&&(ld(o,"label"),ld(o,"itemStyle"))})}),Of(Fm(n.toolbox),function(i){ld(i,"iconStyle"),Of(i.feature,function(r){ld(r,"iconStyle")})}),Bc(oQ(n.axisPointer),"label"),Bc(oQ(n.tooltip).axisPointer,"label")})(n,e),n.series=Ps(n.series),Xt(n.series,function(t){if(or(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),sQ(t.label),(r=t.data)&&!ph(r))for(var o=0;o<r.length;o++)sQ(r[o]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var a=function T2t(n,e){for(var t=e.split(","),i=n,r=0;r<t.length&&null!=(i=i&&i[t[r]]);r++);return i}(t,"pointer.color");null!=a&&function D2t(n,e,t,i){for(var a,r=e.split(","),o=n,s=0;s<r.length-1;s++)null==o[a=r[s]]&&(o[a]={}),o=o[a];(i||null==o[r[s]])&&(o[r[s]]=t)}(t,"itemStyle.color",a)}else if("bar"===i){var r;if(kS(t),kS(t.backgroundStyle),kS(t.emphasis),(r=t.data)&&!ph(r))for(o=0;o<r.length;o++)"object"==typeof r[o]&&(kS(r[o]),kS(r[o]&&r[o].emphasis))}else if("sunburst"===i){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),lQ(t),cQ(t.data,lQ)}else"graph"===i||"sankey"===i?function P2t(n){n&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(t):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&er(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),aQ(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Xt(I2t,function(t){var i=n[t];i&&(Ln(i)||(i=[i]),Xt(i,function(r){aQ(r)}))})}function R2t(n){Xt(n,function(e,t){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,d){var p,g,h=a.get(e.stackedDimension,d);if(isNaN(h))return r;s?g=a.getRawIndex(d):p=a.get(e.stackedByDimension,d);for(var y=NaN,b=t-1;b>=0;b--){var w=n[b];if(s||(g=w.data.rawIndexOf(w.stackedByDimension,p)),g>=0){var C=w.data.getByRawIndex(w.stackResultDimension,g);if("all"===l||"positive"===l&&C>0||"negative"===l&&C<0||"samesign"===l&&h>=0&&C>0||"samesign"===l&&h<=0&&C<0){h=Qkt(h,C),y=C;break}}}return i[0]=h,i[1]=y,i})})}var tI=function n(e){this.data=e.data||(e.sourceFormat===Sp?{}:[]),this.sourceFormat=e.sourceFormat||GK,this.seriesLayoutBy=e.seriesLayoutBy||Cp,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];null==r.type&&WK(this,i)===ju.Must&&(r.type="ordinal")}};function h3(n){return n instanceof tI}function f3(n,e,t){t=t||dQ(n);var i=e.seriesLayoutBy,r=function O2t(n,e,t,i,r){var o,a;if(!n)return{dimensionsDefine:hQ(r),startIndex:a,dimensionsDetectedCount:o};if(e===sd){var s=n;"auto"===i||null==i?fQ(function(c){null!=c&&"-"!==c&&(si(c)?null==a&&(a=1):a=0)},t,s,10):a=ua(i)?i:i?1:0,!r&&1===a&&(r=[],fQ(function(c,u){r[u]=null!=c?c+"":""},t,s,1/0)),o=r?r.length:t===jb?s.length:s[0]?s[0].length:null}else if(e===qh)r||(r=function N2t(n){for(var t,e=0;e<n.length&&!(t=n[e++]););if(t)return Io(t)}(n));else if(e===Sp)r||(r=[],Xt(n,function(c,u){r.push(u)}));else if(e===$h){var l=Ib(n[0]);o=Ln(l)&&l.length||1}return{startIndex:a,dimensionsDefine:hQ(r),dimensionsDetectedCount:o}}(n,t,i,e.sourceHeader,e.dimensions);return new tI({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:ur(e)})}function p3(n){return new tI({data:n,sourceFormat:ph(n)?Nm:$h})}function L2t(n){return new tI({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:ur(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function dQ(n){var e=GK;if(ph(n))e=Nm;else if(Ln(n)){0===n.length&&(e=sd);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(null!=r){if(Ln(r)){e=sd;break}if(or(r)){e=qh;break}}}}else if(or(n))for(var o in n)if(xi(n,o)&&ad(n[o])){e=Sp;break}return e}function hQ(n){if(n){var e=Wi();return Nn(n,function(t,i){var r={name:(t=or(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function fQ(n,e,t,i){if(e===jb)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function pQ(n){var e=n.sourceFormat;return e===qh||e===Sp}var J_,ty,ey,mQ,gQ,vQ=function(){function n(e,t){var i=h3(e)?e:p3(e);this._source=i;var r=this._data=i.data;i.sourceFormat===Nm&&(this._offset=0,this._dimSize=t,this._data=r),gQ(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;gQ=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine;if(An(a,mQ[g3(c,u)]),c===Nm)a.getItem=t,a.count=r,a.fillStorage=i;else{var g=yQ(c,u);a.getItem=vi(g,null,s,d,h);var y=xQ(c,u);a.count=vi(y,null,s,d,h)}};var t=function(a,s){s=s||[];for(var l=this._data,c=this._dimSize,u=c*(a-=this._offset),d=0;d<c;d++)s[d]=l[u+d];return s},i=function(a,s,l,c){for(var u=this._data,d=this._dimSize,h=0;h<d;h++){for(var p=c[h],g=null==p[0]?1/0:p[0],y=null==p[1]?-1/0:p[1],b=s-a,w=l[h],C=0;C<b;C++){var E=u[C*d+h];w[a+C]=E,E<g&&(g=E),E>y&&(y=E)}p[0]=g,p[1]=y}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(e={})[sd+"_"+Cp]={pure:!0,appendData:o},e[sd+"_"+jb]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[qh]={pure:!0,appendData:o},e[Sp]={pure:!0,appendData:function(a){var s=this._data;Xt(a,function(l,c){for(var u=s[c]||(s[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[$h]={appendData:o},e[Nm]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},mQ=e}(),n}(),_Q=function(n,e,t,i){return n[i]},F2t=((J_={})[sd+"_"+Cp]=function(n,e,t,i){return n[i+e]},J_[sd+"_"+jb]=function(n,e,t,i,r){i+=e;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},J_[qh]=_Q,J_[Sp]=function(n,e,t,i,r){for(var o=r||[],a=0;a<t.length;a++){var l=n[t[a].name];o[a]=l?l[i]:null}return o},J_[$h]=_Q,J_);function yQ(n,e){return F2t[g3(n,e)]}var bQ=function(n,e,t){return n.length},B2t=((ty={})[sd+"_"+Cp]=function(n,e,t){return Math.max(0,n.length-e)},ty[sd+"_"+jb]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},ty[qh]=bQ,ty[Sp]=function(n,e,t){var r=n[t[0].name];return r?r.length:0},ty[$h]=bQ,ty);function xQ(n,e){return B2t[g3(n,e)]}var m3=function(n,e,t){return n[e]},V2t=((ey={})[sd]=m3,ey[qh]=function(n,e,t){return n[t]},ey[Sp]=m3,ey[$h]=function(n,e,t){var i=Ib(n);return i instanceof Array?i[e]:i},ey[Nm]=m3,ey);function wQ(n){return V2t[n]}function g3(n,e){return n===sd?n+"_"+e:n}function Wb(n,e,t){if(n){var i=n.getRawDataItem(e);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=t){var a=n.getDimensionIndex(t),s=r.getDimensionProperty(a);return wQ(o)(i,a,s)}var l=i;return o===$h&&(l=Ib(i)),l}}}var z2t=/\{@(.+?)\}/g,v3=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),a=i.getName(e),s=i.getRawDataItem(e),l=i.getItemVisual(e,"style"),c=l&&l[i.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,h="series"===d,p=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:r,color:c,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,a){t=t||"normal";var s=this.getData(i),l=this.getDataParams(e,i);return a&&(l.value=a.interpolatedValue),null!=r&&Ln(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Ki(o)?(l.status=t,l.dimensionIndex=r,o(l)):si(o)?FK(o,l).replace(z2t,function(d,h){var p=h.length,g=h;"["===g.charAt(0)&&"]"===g.charAt(p-1)&&(g=+g.slice(1,p-1));var y=Wb(s,e,g);if(a&&Ln(a.interpolatedValue)){var b=s.getDimensionIndex(g);b>=0&&(y=a.interpolatedValue[b])}return null!=y?y+"":""}):void 0},n.prototype.getRawValue=function(e,t){return Wb(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function SQ(n){var e,t;return or(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function RS(n){return new U2t(n)}var U2t=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var o,t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(o=this._plan(this.context));var d,a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;function u(C){return!(C>=1)&&(C=1),C}(a!==l||s!==c)&&(o="reset"),(this._dirty||"reset"===o)&&(this._dirty=!1,d=this._doReset(i)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(d||p<g)){var y=this._progress;if(Ln(y))for(var b=0;b<y.length;b++)this._doProgress(y[b],p,g,l,c);else this._doProgress(y,p,g,l,c)}this._dueIndex=g,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){CQ.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:CQ.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),Ln(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),CQ=function(){var n,e,t,i,r,o={reset:function(l,c,u,d){e=l,n=c,t=u,i=d,r=Math.ceil(i/t),o.next=t>1&&i>0?s:a}};return o;function a(){return e<n?e++:null}function s(){var l=e%r*t+Math.ceil(e/r),c=e>=n?null:l<i?l:e;return e++,c}}();function rs(n){throw new Error(n)}function Kg(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&!ua(n)&&null!=n&&"-"!==n&&(n=+vp(n)),null==n||""===n?NaN:+n)}typeof console<"u"&&console.warn&&console;var W2t=Wi({number:function(n){return parseFloat(n)},time:function(n){return+vp(n)},trim:function(n){return si(n)?If(n):n}});function EQ(n){return W2t.get(n)}var TQ={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},Z2t=function(){function n(e,t){ua(t)||rs(""),this._opFn=TQ[e],this._rvalFloat=Am(t)}return n.prototype.evaluate=function(e){return ua(e)?this._opFn(e,this._rvalFloat):this._opFn(Am(e),this._rvalFloat)},n}(),DQ=function(){function n(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=ua(e)?e:Am(e),r=ua(t)?t:Am(t),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=si(e),l=si(t);s&&(i=l?e:0),l&&(r=s?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),Y2t=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Am(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(t=Am(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function X2t(n,e){return"eq"===n||"ne"===n?new Y2t("eq"===n,e):xi(TQ,n)?new Z2t(n,e):null}var $2t=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Kg(e,t)},n}();function K2t(n){return y3(n.sourceFormat)||rs(""),n.data}function Q2t(n){var e=n.sourceFormat,t=n.data;if(y3(e)||rs(""),e===sd){for(var r=[],o=0,a=t.length;o<a;o++)r.push(t[o].slice());return r}if(e===qh){for(r=[],o=0,a=t.length;o<a;o++)r.push(An({},t[o]));return r}}function J2t(n,e,t){if(null!=t){if(ua(t)||!isNaN(t)&&!xi(e,t))return n[t];if(xi(e,t))return e[t]}}function tOt(n){return ur(n)}var AQ=Wi();function iOt(n,e,t,i){e.length||rs(""),or(n)||rs("");var a=AQ.get(n.type);a||rs("");var s=Nn(e,function(u){return function q2t(n,e){var t=new $2t,i=n.data,r=t.sourceFormat=n.sourceFormat,o=n.startIndex;n.seriesLayoutBy!==Cp&&rs("");var s=[],l={},c=n.dimensionsDefine;if(c)Xt(c,function(y,b){var w=y.name,C={index:b,name:w,displayName:y.displayName};s.push(C),null!=w&&(xi(l,w)&&rs(""),l[w]=C)});else for(var u=0;u<n.dimensionsDetectedCount;u++)s.push({index:u});var d=yQ(r,Cp);e.__isBuiltIn&&(t.getRawDataItem=function(y){return d(i,o,s,y)},t.getRawData=vi(K2t,null,n)),t.cloneRawData=vi(Q2t,null,n);var h=xQ(r,Cp);t.count=vi(h,null,i,o,s);var p=wQ(r);t.retrieveValue=function(y,b){var w=d(i,o,s,y);return g(w,b)};var g=t.retrieveValueFromItem=function(y,b){if(null!=y){var w=s[b];if(w)return p(y,b,w.name)}};return t.getDimensionInfo=vi(J2t,null,s,l),t.cloneAllDimensionInfo=vi(tOt,null,s),t}(u,a)});return Nn(Ps(a.transform({upstream:s[0],upstreamList:s,config:ur(n.config)})),function(u,d){or(u)||rs(""),u.data||rs(""),y3(dQ(u.data))||rs("");var g,y=e[0];if(y&&0===d&&!u.dimensions){var b=y.startIndex;b&&(u.data=y.data.slice(0,b).concat(u.data)),g={seriesLayoutBy:Cp,sourceHeader:b,dimensions:y.metaRawOption.dimensions}}else g={seriesLayoutBy:Cp,sourceHeader:0,dimensions:u.dimensions};return f3(u.data,g,null)})}function y3(n){return n===sd||n===qh}var b3,eI="undefined",rOt=typeof Uint32Array===eI?Array:Uint32Array,oOt=typeof Uint16Array===eI?Array:Uint16Array,IQ=typeof Int32Array===eI?Array:Int32Array,PQ=typeof Float64Array===eI?Array:Float64Array,kQ={float:PQ,int:IQ,ordinal:Array,number:Array,time:PQ};function LS(n){return n>65535?rOt:oOt}function aOt(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function RQ(n,e,t,i,r){var o=kQ[t||"float"];if(r){var a=n[e],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];n[e]=l}}else n[e]=new o(i)}var sOt=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Wi()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=b3[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],pQ(r),this._dimensions=Nn(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(null!=o){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new kQ[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;0===a&&(o[e]=[1/0,-1/0]);for(var l=o[e],c=a;c<s;c++){var u=i[c]=t.parseAndCollect(i[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),c=0;c<o;c++)RQ(i,c,r[c].type,l,!0);for(var d=[],h=s;h<l;h++)for(var p=h-s,g=0;g<o;g++){var y=b3.arrayRows.call(this,e[p]||d,r[g].property,p,g);i[g][h]=y;var b=a[g];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=Nn(a,function(C){return C.property}),u=0;u<s;u++){var d=a[u];l[u]||(l[u]=[1/0,-1/0]),RQ(o,u,d.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,l);else for(var h=[],p=e;p<t;p++){h=r.getItem(p,h);for(var g=0;g<s;g++){var y=o[g],b=this._dimValueGetter(h,c[g],p,g);y[p]=b;var w=l[g];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(null==t){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var i=0;if(this._chunks[e])for(var r=0,o=this.count();r<o;r++){var a=this.get(e,r);isNaN(a)||(i+=a)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var o=this._chunks[e],a=[];if(!o)return a;null==i&&(i=1/0);for(var s=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var p=t-o[this.getRawIndex(u)],g=Math.abs(p);g<=i&&((g<s||g===s&&p>=0&&l<0)&&(s=g,l=p,c=0),p===l&&(a[c++]=u))}return a.length=c,a},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=this._count;if((i=t.constructor)===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else{var i;for(e=new(i=LS(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),a=new(LS(i._rawCount))(r),s=[],l=e.length,c=0,u=e[0],d=i._chunks,h=0;h<r;h++){var p=void 0,g=i.getRawIndex(h);if(0===l)p=t(h);else if(1===l)p=t(d[u][g],h);else{for(var b=0;b<l;b++)s[b]=d[e[b]][g];s[b]=h,p=t.apply(null,s)}p&&(a[c++]=g)}return c<r&&(i._indices=a),i._count=c,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Io(e),o=r.length;if(!o)return this;var a=t.count(),l=new(LS(t._rawCount))(a),c=0,u=r[0],d=e[u][0],h=e[u][1],p=t._chunks,g=!1;if(!t._indices){var y=0;if(1===o){for(var b=p[r[0]],w=0;w<i;w++)((C=b[w])>=d&&C<=h||isNaN(C))&&(l[c++]=y),y++;g=!0}else if(2===o){b=p[r[0]];var E=p[r[1]],k=e[r[1]][0],j=e[r[1]][1];for(w=0;w<i;w++){var H=E[w];((C=b[w])>=d&&C<=h||isNaN(C))&&(H>=k&&H<=j||isNaN(H))&&(l[c++]=y),y++}g=!0}}if(!g)if(1===o)for(w=0;w<a;w++){var it=t.getRawIndex(w);((C=p[r[0]][it])>=d&&C<=h||isNaN(C))&&(l[c++]=it)}else for(w=0;w<a;w++){for(var yt=!0,lt=(it=t.getRawIndex(w),0);lt<o;lt++){var C,Lt=r[lt];((C=p[Lt][it])<e[Lt][0]||C>e[Lt][1])&&(yt=!1)}yt&&(l[c++]=t.getRawIndex(w))}return c<a&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],a=t.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=[1/0,-1/0];for(var d=0;d<s;d++){for(var h=e.getRawIndex(d),p=0;p<a;p++)l[p]=r[t[p]][h];l[a]=d;var g=i&&i.apply(null,l);if(null!=g)for("object"!=typeof g&&(o[0]=g,g=o),u=0;u<g.length;u++){var y=t[u],b=g[u],w=c[y],C=r[y];C&&(C[h]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}},n.prototype.lttbDownSample=function(e,t){var u,d,h,i=this.clone([e],!0),o=i._chunks[e],a=this.count(),s=0,l=Math.floor(1/t),c=this.getRawIndex(0),p=new(LS(this._rawCount))(Math.min(2*(Math.ceil(a/l)+2),a));p[s++]=c;for(var g=1;g<a-1;g+=l){for(var y=Math.min(g+l,a-1),b=Math.min(g+2*l,a),w=(b+y)/2,C=0,E=y;E<b;E++){var j=o[k=this.getRawIndex(E)];isNaN(j)||(C+=j)}C/=b-y;var H=g,it=Math.min(g+l,a),yt=g-1,lt=o[c];u=-1,h=H;var Lt=-1,kt=0;for(E=H;E<it;E++){var k;j=o[k=this.getRawIndex(E)],isNaN(j)?(kt++,Lt<0&&(Lt=k)):(d=Math.abs((yt-w)*(j-lt)-(yt-E)*(C-lt)))>u&&(u=d,h=k)}kt>0&&kt<it-H&&(p[s++]=Math.min(Lt,h),h=Math.max(Lt,h)),p[s++]=h,c=h}return p[s++]=this.getRawIndex(a-1),i._count=s,i._indices=p,i.getRawIndex=this._getRawIdx,i},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/t),c=a[e],u=this.count(),d=o._rawExtent[e]=[1/0,-1/0],h=new(LS(this._rawCount))(Math.ceil(u/l)),p=0,g=0;g<u;g+=l){l>u-g&&(s.length=l=u-g);for(var y=0;y<l;y++){var b=this.getRawIndex(g+y);s[y]=c[b]}var w=i(s),C=this.getRawIndex(Math.min(g+r(s,w)||0,u-1));c[C]=w,w<d[0]&&(d[0]=w),w>d[1]&&(d[1]=w),h[p++]=C}return o._count=p,o._indices=h,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][s],o);break;case 2:t(r[e[0]][s],r[e[1]][s],o);break;default:for(var l=0,c=[];l<i;l++)c[l]=r[e[l]][s];c[l]=o,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var a,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(a=this._extent[e])return a.slice();for(var s=(a=i)[0],l=a[1],c=0;c<r;c++){var d=t[this.getRawIndex(c)];d<s&&(s=d),d>l&&(l=d)}return this._extent[e]=a=[s,l],a},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i=new n,r=this._chunks,o=e&&dp(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?aOt(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ur(this._extent),e._rawExtent=ur(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return Kg(t[o],this._dimensions[o])}b3={arrayRows:e,objectRows:function(t,i,r,o){return Kg(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var a=t&&(null==t.value?t:t.value);return Kg(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}();const x3=sOt;var LQ=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var r,o,e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length;if(nI(e)){var a=e,s=void 0,l=void 0,c=void 0;if(i){var u=t[0];u.prepareSource(),s=(c=u.getSource()).data,l=c.sourceFormat,o=[u._getVersionSign()]}else l=ph(s=a.get("data",!0))?Nm:$h,o=[];var d=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},p=Xr(d.seriesLayoutBy,h.seriesLayoutBy)||null,g=Xr(d.sourceHeader,h.sourceHeader),y=Xr(d.dimensions,h.dimensions);r=p!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||y?[f3(s,{seriesLayoutBy:p,sourceHeader:g,dimensions:y},l)]:[]}else{var w=e;if(i){var C=this._applyTransform(t);r=C.sourceList,o=C.upstreamSignList}else r=[f3(w.get("source",!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(r,o)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);null!=r&&1!==e.length&&NQ("");var a,s=[],l=[];return Xt(e,function(c){c.prepareSource();var u=c.getSource(r||0);null!=r&&!u&&NQ(""),s.push(u),l.push(c._getVersionSign())}),i?a=function nOt(n,e,t){var i=Ps(n),r=i.length;r||rs("");for(var a=0,s=r;a<s;a++)e=iOt(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s):null!=r&&(a=[L2t(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var o=this._storeList,a=o[0];a||(a=o[0]={});var s=a[i];if(!s){var l=this._getUpstreamSourceManagers()[0];nI(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,i):(s=new x3).initData(new vQ(t,e.length),e),a[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(nI(e)){var t=o3(e);return t?[t.getSourceManager()]:[]}return Nn(function o2t(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?fS(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Fc).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,i,r,e=this._sourceHost;if(nI(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;t=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},n}();function OQ(n){n.option.transform&&$D(n.option.transform)}function nI(n){return"series"===n.mainType}function NQ(n){throw new Error(n)}var FQ="line-height:1";function BQ(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+jd(i+"")+"px;color:"+jd(t)+";font-weight:"+jd(r+""),valueStyle:"font-size:"+jd(a+"")+"px;color:"+jd(o)+";font-weight:"+jd(s+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var lOt=[0,10,20,30],cOt=["","\n","\n\n","\n\n\n"];function du(n,e){return e.type=n,e}function w3(n){return"section"===n.type}function VQ(n){return w3(n)?uOt:dOt}function zQ(n){if(w3(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return Xt(n.blocks,function(r){var o=zQ(r);o>=e&&(e=o+ +(i&&(!o||w3(r)&&!r.noHeader)))}),e}return 0}function uOt(n,e,t,i){var r=e.noHeader,o=function hOt(n){return{html:lOt[n],richText:cOt[n]}}(zQ(e)),a=[],s=e.blocks||[];Sd(!s||Ln(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(xi(c,l)){var u=new DQ(c[l],null);s.sort(function(g,y){return u.evaluate(g.sortParam,y.sortParam)})}else"seriesDesc"===l&&s.reverse()}Xt(s,function(g,y){var b=e.valueFormatter,w=VQ(g)(b?An(An({},n),{valueFormatter:b}):n,g,y>0?o.html:0,i);null!=w&&a.push(w)});var d="richText"===n.renderMode?a.join(o.richText):S3(a.join(""),r?t:o.html);if(r)return d;var h=t3(e.header,"ordinal",n.useUTC),p=BQ(i,n.renderMode).nameStyle;return"richText"===n.renderMode?GQ(n,h,p)+o.richText+d:S3('<div style="'+p+";"+FQ+';">'+jd(h)+"</div>"+d,t)}function dOt(n,e,t,i){var r=n.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(k){return Nn(k=Ln(k)?k:[k],function(j,H){return t3(j,Ln(p)?p[H]:p,c)})};if(!o||!a){var d=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),h=o?"":t3(l,"ordinal",c),p=e.valueType,g=a?[]:u(e.value),y=!s||!o,b=!s&&o,w=BQ(i,r),C=w.nameStyle,E=w.valueStyle;return"richText"===r?(s?"":d)+(o?"":GQ(n,h,C))+(a?"":function mOt(n,e,t,i,r){var o=[r];return t&&o.push({padding:[0,0,0,i?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Ln(e)?e.join("  "):e,o)}(n,g,y,b,E)):S3((s?"":d)+(o?"":function fOt(n,e,t){return'<span style="'+t+";"+(e?"margin-left:2px":"")+'">'+jd(n)+"</span>"}(h,!s,C))+(a?"":function pOt(n,e,t,i){return'<span style="'+(e?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+i+'">'+Nn(n=Ln(n)?n:[n],function(a){return jd(a)}).join("&nbsp;&nbsp;")+"</span>"}(g,y,b,E)),t)}}function UQ(n,e,t,i,r,o){if(n)return VQ(n)({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,o)}function S3(n,e){return'<div style="margin: '+e+"px 0 0;"+FQ+';">'+n+'<div style="clear:both"></div></div>'}function GQ(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function HQ(n,e){return q_(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function jQ(n,e){return n.get("padding")??("richText"===e?[8,10]:10)}var C3=function(){function n(){this.richTextStyles={},this._nextStyleNameId=eq()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r="richText"===i?this._generateStyleName():null,o=function QLt(n,e){var t=si(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+jd(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+jd(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:i,markerId:r});return si(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};Ln(t)?Xt(t,function(o){return An(i,o)}):An(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function WQ(n){var u,d,h,p,e=n.series,t=n.dataIndex,i=n.multipleSeries,r=e.getData(),o=r.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(t),l=Ln(s),c=HQ(e,t);if(a>1||l&&!a){var g=function gOt(n,e,t,i,r){var o=e.getData(),a=dp(n,function(d,h,p){var g=o.getDimensionInfo(p);return d||g&&!1!==g.tooltip&&null!=g.displayName},!1),s=[],l=[],c=[];function u(d,h){var p=o.getDimensionInfo(h);!p||!1===p.otherDims.tooltip||(a?c.push(du("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return i.length?Xt(i,function(d){u(Wb(o,t,d),d)}):Xt(n,u),{inlineValues:s,inlineValueTypes:l,blocks:c}}(s,e,t,o,c);u=g.inlineValues,d=g.inlineValueTypes,h=g.blocks,p=g.inlineValues[0]}else if(a){var y=r.getDimensionInfo(o[0]);p=u=Wb(r,t,o[0]),d=y.type}else p=u=l?s[0]:s;var b=hB(e),w=b&&e.name||"",C=r.getName(t),E=i?w:C;return du("section",{header:w,noHeader:i||!b,sortParam:p,blocks:[du("nameValue",{markerType:"item",markerColor:c,name:E,noName:!If(E),value:u,valueType:d})].concat(h||[])})}var Qg=oa();function iI(n,e){return n.getName(e)||n.getId(e)}var rI="__universalTransitionEnabled",oI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return vn(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=RS({count:_Ot,reset:yOt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(Qg(this).sourceManager=new LQ(this)).prepareSource();var a=this.getInitialData(t,r);YQ(a,this),this.dataTask.context.data=a,Qg(this).dataBeforeProcessed=a,ZQ(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=TS(this),o=r?Ub(t):{},a=this.subType;ha.hasClass(a)&&(a+="Series"),Yr(t,i.getTheme().get(this.subType)),Yr(t,this.getDefaultOption()),k_(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&qg(t,o,r)},e.prototype.mergeOption=function(t,i){t=Yr(this.option,t,!0),this.fillDataTextStyle(t.data);var r=TS(this);r&&qg(this.option,t,r);var o=Qg(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(t,i);YQ(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Qg(this).dataBeforeProcessed=a,ZQ(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!ph(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&k_(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=M3(this);if(i){var r=i.context.data;return null==t?r:r.getLinkedData(t)}return Qg(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=M3(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}Qg(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Wi(t)},e.prototype.getSourceManager=function(){return Qg(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Qg(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return WQ({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(ca.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,a=s3.prototype.getColorFromPalette.call(this,t,i,r);return a||(a=o.getColorFromPalette(t,i,r)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if("series"===o||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=iI(a,t[s]);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Io(t),r=[],o=0;o<i.length;o++){var a=t[i[o]];a>=0&&r.push(a)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return("all"===r||r[iI(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[rI])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(s&&l)if("series"===s)a.selectedMap="all";else if("multiple"===s){or(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var d=i[u];c[h=iI(t,d)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(d)}}else if("single"===s||!0===s){var p=i[l-1],h=iI(t,p);a.selectedMap=((r={})[h]=!0,r),this._selectedDataIndicesMap=((o={})[h]=t.getRawIndex(p),o)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return ha.registerClass(t)},e.protoInitialize=((t=e.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),e;var t}(ha);function ZQ(n){var e=n.name;hB(n)||(n.name=function vOt(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return Xt(t,function(r){var o=e.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}(n)||e)}function _Ot(n){return n.model.getRawData().count()}function yOt(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),bOt}function bOt(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function YQ(n,e){Xt(qD(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Lr(xOt,e))})}function xOt(n,e){var t=M3(n);return t&&t.setOutputEnd((e||this).count()),e}function M3(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}Nc(oI,v3),Nc(oI,s3),fq(oI,ha);const Pl=oI;var E3=function(){function n(){this.group=new br,this.uid=Fb("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();mB(E3),TA(E3);const ql=E3;function Yb(){var n=oa();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,a=t.large=!(!i||!i.large),s=t.progressiveRender=!(!i||!i.progressiveRender);return(r!==a||o!==s)&&"reset"}}var Xb=wp.CMD,wOt=[[],[],[]],XQ=Math.sqrt,SOt=Math.atan2;function $Q(n,e){if(e){var r,o,a,s,l,c,t=n.data,i=n.len(),u=Xb.M,d=Xb.C,h=Xb.L,p=Xb.R,g=Xb.A,y=Xb.Q;for(a=0,s=0;a<i;){switch(r=t[a++],s=a,o=0,r){case u:case h:o=1;break;case d:o=3;break;case y:o=2;break;case g:var b=e[4],w=e[5],C=XQ(e[0]*e[0]+e[1]*e[1]),E=XQ(e[2]*e[2]+e[3]*e[3]),k=SOt(-e[1]/E,e[0]/C);t[a]*=C,t[a++]+=b,t[a]*=E,t[a++]+=w,t[a++]*=C,t[a++]*=E,t[a++]+=k,t[a++]+=k,s=a+=2;break;case p:c[0]=t[a++],c[1]=t[a++],zu(c,c,e),t[s++]=c[0],t[s++]=c[1],c[0]+=t[a++],c[1]+=t[a++],zu(c,c,e),t[s++]=c[0],t[s++]=c[1]}for(l=0;l<o;l++){var j=wOt[l];j[0]=t[a++],j[1]=t[a++],zu(j,j,e),t[s++]=j[0],t[s++]=j[1]}}n.increaseVersion()}}var T3=Math.sqrt,aI=Math.sin,sI=Math.cos,OS=Math.PI;function qQ(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function D3(n,e){return(n[0]*e[0]+n[1]*e[1])/(qQ(n)*qQ(e))}function KQ(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(D3(n,e))}function QQ(n,e,t,i,r,o,a,s,l,c,u){var d=l*(OS/180),h=sI(d)*(n-t)/2+aI(d)*(e-i)/2,p=-1*aI(d)*(n-t)/2+sI(d)*(e-i)/2,g=h*h/(a*a)+p*p/(s*s);g>1&&(a*=T3(g),s*=T3(g));var y=(r===o?-1:1)*T3((a*a*(s*s)-a*a*(p*p)-s*s*(h*h))/(a*a*(p*p)+s*s*(h*h)))||0,b=y*a*p/s,w=y*-s*h/a,C=(n+t)/2+sI(d)*b-aI(d)*w,E=(e+i)/2+aI(d)*b+sI(d)*w,k=KQ([1,0],[(h-b)/a,(p-w)/s]),j=[(h-b)/a,(p-w)/s],H=[(-1*h-b)/a,(-1*p-w)/s],it=KQ(j,H);if(D3(j,H)<=-1&&(it=OS),D3(j,H)>=1&&(it=0),it<0){var yt=Math.round(it/OS*1e6)/1e6;it=2*OS+yt%2*OS}u.addData(c,C,E,a,s,k,it,d,o)}var COt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,MOt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,JQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vl(e,n),e.prototype.applyTransform=function(t){},e}(vo);function tJ(n){return null!=n.setData}function eJ(n,e){var t=function EOt(n){var e=new wp;if(!n)return e;var a,t=0,i=0,r=t,o=i,s=wp.CMD,l=n.match(COt);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),h=void 0,p=u.match(MOt)||[],g=p.length,y=0;y<g;y++)p[y]=parseFloat(p[y]);for(var b=0;b<g;){var w=void 0,C=void 0,E=void 0,k=void 0,j=void 0,H=void 0,it=void 0,yt=t,lt=i,Lt=void 0,kt=void 0;switch(d){case"l":t+=p[b++],i+=p[b++],e.addData(h=s.L,t,i);break;case"L":t=p[b++],i=p[b++],e.addData(h=s.L,t,i);break;case"m":t+=p[b++],i+=p[b++],e.addData(h=s.M,t,i),r=t,o=i,d="l";break;case"M":t=p[b++],i=p[b++],e.addData(h=s.M,t,i),r=t,o=i,d="L";break;case"h":t+=p[b++],e.addData(h=s.L,t,i);break;case"H":t=p[b++],e.addData(h=s.L,t,i);break;case"v":i+=p[b++],e.addData(h=s.L,t,i);break;case"V":i=p[b++],e.addData(h=s.L,t,i);break;case"C":e.addData(h=s.C,p[b++],p[b++],p[b++],p[b++],p[b++],p[b++]),t=p[b-2],i=p[b-1];break;case"c":e.addData(h=s.C,p[b++]+t,p[b++]+i,p[b++]+t,p[b++]+i,p[b++]+t,p[b++]+i),t+=p[b-2],i+=p[b-1];break;case"S":w=t,C=i,Lt=e.len(),kt=e.data,a===s.C&&(w+=t-kt[Lt-4],C+=i-kt[Lt-3]),yt=p[b++],lt=p[b++],t=p[b++],i=p[b++],e.addData(h=s.C,w,C,yt,lt,t,i);break;case"s":w=t,C=i,Lt=e.len(),kt=e.data,a===s.C&&(w+=t-kt[Lt-4],C+=i-kt[Lt-3]),yt=t+p[b++],lt=i+p[b++],t+=p[b++],i+=p[b++],e.addData(h=s.C,w,C,yt,lt,t,i);break;case"Q":yt=p[b++],lt=p[b++],t=p[b++],i=p[b++],e.addData(h=s.Q,yt,lt,t,i);break;case"q":yt=p[b++]+t,lt=p[b++]+i,t+=p[b++],i+=p[b++],e.addData(h=s.Q,yt,lt,t,i);break;case"T":w=t,C=i,Lt=e.len(),kt=e.data,a===s.Q&&(w+=t-kt[Lt-4],C+=i-kt[Lt-3]),t=p[b++],i=p[b++],e.addData(h=s.Q,w,C,t,i);break;case"t":w=t,C=i,Lt=e.len(),kt=e.data,a===s.Q&&(w+=t-kt[Lt-4],C+=i-kt[Lt-3]),t+=p[b++],i+=p[b++],e.addData(h=s.Q,w,C,t,i);break;case"A":E=p[b++],k=p[b++],j=p[b++],H=p[b++],it=p[b++],QQ(yt=t,lt=i,t=p[b++],i=p[b++],H,it,E,k,j,h=s.A,e);break;case"a":E=p[b++],k=p[b++],j=p[b++],H=p[b++],it=p[b++],QQ(yt=t,lt=i,t+=p[b++],i+=p[b++],H,it,E,k,j,h=s.A,e)}}("z"===d||"Z"===d)&&(e.addData(h=s.Z),t=r,i=o),a=h}return e.toStatic(),e}(n),i=An({},e);return i.buildPath=function(r){var o;tJ(r)?(r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1)):t.rebuildPath(o=r,1)},i.applyTransform=function(r){$Q(t,r),this.dirtyShape()},i}function nJ(n,e){return new JQ(eJ(n,e))}function A3(n,e){e=e||{};var t=new vo;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?$Q(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var AOt=function n(){this.cx=0,this.cy=0,this.r=0},iJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new AOt},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(vo);iJ.prototype.type="circle";const Mp=iJ;var IOt=function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},rJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new IOt},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,c=s*r,u=l*r;t.moveTo(o-s,a),t.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),t.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),t.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),t.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),t.closePath()},e}(vo);rJ.prototype.type="ellipse";const I3=rJ;var oJ=Math.PI,P3=2*oJ,ny=Math.sin,$b=Math.cos,POt=Math.acos,cd=Math.atan2,aJ=Math.abs,NS=Math.sqrt,FS=Math.max,Ep=Math.min,Nf=1e-4;function lI(n,e,t,i,r,o,a){var s=n-t,l=e-i,c=(a?o:-o)/NS(s*s+l*l),u=c*l,d=-c*s,h=n+u,p=e+d,g=t+u,y=i+d,b=(h+g)/2,w=(p+y)/2,C=g-h,E=y-p,k=C*C+E*E,j=r-o,H=h*y-g*p,it=(E<0?-1:1)*NS(FS(0,j*j*k-H*H)),yt=(H*E-C*it)/k,lt=(-H*C-E*it)/k,Lt=(H*E+C*it)/k,kt=(-H*C+E*it)/k,Jt=yt-b,ne=lt-w,ce=Lt-b,Ee=kt-w;return Jt*Jt+ne*ne>ce*ce+Ee*Ee&&(yt=Lt,lt=kt),{cx:yt,cy:lt,x0:-u,y0:-d,x1:yt*(r/j-1),y1:lt*(r/j-1)}}var OOt=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},sJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new OOt},e.prototype.buildPath=function(t,i){!function LOt(n,e){var t,i=FS(e.r,0),r=FS(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var l=e.startAngle,c=e.endAngle;if(!isNaN(l)&&!isNaN(c)){var u=e.cx,d=e.cy,h=!!e.clockwise,p=aJ(c-l),g=p>P3&&p%P3;if(g>Nf&&(p=g),i>Nf)if(p>P3-Nf)n.moveTo(u+i*$b(l),d+i*ny(l)),n.arc(u,d,i,l,c,!h),r>Nf&&(n.moveTo(u+r*$b(c),d+r*ny(c)),n.arc(u,d,r,c,l,h));else{var y=void 0,b=void 0,w=void 0,C=void 0,E=void 0,k=void 0,j=void 0,H=void 0,it=void 0,yt=void 0,lt=void 0,Lt=void 0,kt=void 0,Jt=void 0,ne=void 0,ce=void 0,Ee=i*$b(l),be=i*ny(l),Be=r*$b(c),Ne=r*ny(c),Qe=p>Nf;if(Qe){var In=e.cornerRadius;In&&(t=function ROt(n){var e;if(Ln(n)){var t=n.length;if(!t)return n;e=1===t?[n[0],n[0],0,0]:2===t?[n[0],n[0],n[1],n[1]]:3===t?n.concat(n[2]):n}else e=[n,n,n,n];return e}(In),y=t[0],b=t[1],w=t[2],C=t[3]);var Fn=aJ(i-r)/2;if(E=Ep(Fn,w),k=Ep(Fn,C),j=Ep(Fn,y),H=Ep(Fn,b),lt=it=FS(E,k),Lt=yt=FS(j,H),(it>Nf||yt>Nf)&&(kt=i*$b(c),Jt=i*ny(c),ne=r*$b(l),ce=r*ny(l),p<oJ)){var Kn=function kOt(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=d*l-u*c;if(!(h*h<Nf))return[n+(h=(u*(e-o)-d*(n-r))/h)*l,e+h*c]}(Ee,be,ne,ce,kt,Jt,Be,Ne);if(Kn){var Qn=Ee-Kn[0],zn=be-Kn[1],zi=kt-Kn[0],to=Jt-Kn[1],Ui=1/ny(POt((Qn*zi+zn*to)/(NS(Qn*Qn+zn*zn)*NS(zi*zi+to*to)))/2),Gi=NS(Kn[0]*Kn[0]+Kn[1]*Kn[1]);lt=Ep(it,(i-Gi)/(Ui+1)),Lt=Ep(yt,(r-Gi)/(Ui-1))}}}if(Qe)if(lt>Nf){var ar=Ep(w,lt),Er=Ep(C,lt),Ei=lI(ne,ce,Ee,be,i,ar,h),Vr=lI(kt,Jt,Be,Ne,i,Er,h);n.moveTo(u+Ei.cx+Ei.x0,d+Ei.cy+Ei.y0),lt<it&&ar===Er?n.arc(u+Ei.cx,d+Ei.cy,lt,cd(Ei.y0,Ei.x0),cd(Vr.y0,Vr.x0),!h):(ar>0&&n.arc(u+Ei.cx,d+Ei.cy,ar,cd(Ei.y0,Ei.x0),cd(Ei.y1,Ei.x1),!h),n.arc(u,d,i,cd(Ei.cy+Ei.y1,Ei.cx+Ei.x1),cd(Vr.cy+Vr.y1,Vr.cx+Vr.x1),!h),Er>0&&n.arc(u+Vr.cx,d+Vr.cy,Er,cd(Vr.y1,Vr.x1),cd(Vr.y0,Vr.x0),!h))}else n.moveTo(u+Ee,d+be),n.arc(u,d,i,l,c,!h);else n.moveTo(u+Ee,d+be);r>Nf&&Qe?Lt>Nf?(ar=Ep(y,Lt),Ei=lI(Be,Ne,kt,Jt,r,-(Er=Ep(b,Lt)),h),Vr=lI(Ee,be,ne,ce,r,-ar,h),n.lineTo(u+Ei.cx+Ei.x0,d+Ei.cy+Ei.y0),Lt<yt&&ar===Er?n.arc(u+Ei.cx,d+Ei.cy,Lt,cd(Ei.y0,Ei.x0),cd(Vr.y0,Vr.x0),!h):(Er>0&&n.arc(u+Ei.cx,d+Ei.cy,Er,cd(Ei.y0,Ei.x0),cd(Ei.y1,Ei.x1),!h),n.arc(u,d,r,cd(Ei.cy+Ei.y1,Ei.cx+Ei.x1),cd(Vr.cy+Vr.y1,Vr.cx+Vr.x1),h),ar>0&&n.arc(u+Vr.cx,d+Vr.cy,ar,cd(Vr.y1,Vr.x1),cd(Vr.y0,Vr.x0),!h))):(n.lineTo(u+Be,d+Ne),n.arc(u,d,r,c,l,h)):n.lineTo(u+Be,d+Ne)}else n.moveTo(u,d);n.closePath()}}}(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(vo);sJ.prototype.type="sector";const Xd=sJ;var NOt=function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0},lJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new NOt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,a,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,a,!0)},e}(vo);lJ.prototype.type="ring";const cI=lJ;function cJ(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function FOt(n,e,t,i){var l,c,u,d,r=[],o=[],a=[],s=[];if(i){u=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,p=n.length;h<p;h++)Fg(u,u,n[h]),Bg(d,d,n[h]);Fg(u,u,i[0]),Bg(d,d,i[1])}for(h=0,p=n.length;h<p;h++){var g=n[h];if(t)l=n[h?h-1:p-1],c=n[(h+1)%p];else{if(0===h||h===p-1){r.push(Cm(n[h]));continue}l=n[h-1],c=n[h+1]}x_(o,c,l),tA(o,o,e);var y=vF(g,l),b=vF(g,c),w=y+b;0!==w&&(y/=w,b/=w),tA(a,o,-y),tA(s,o,b);var C=WX([],g,a),E=WX([],g,s);i&&(Bg(C,C,u),Fg(C,C,d),Bg(E,E,u),Fg(E,E,d)),r.push(C),r.push(E)}return t&&r.push(r.shift()),r}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(t?a:a-1);s++){var l=o[2*s],c=o[2*s+1],u=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(r[0][0],r[0][1]),s=1;for(var d=r.length;s<d;s++)n.lineTo(r[s][0],r[s][1])}t&&n.closePath()}}var BOt=function n(){this.points=null,this.smooth=0,this.smoothConstraint=null},uJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultShape=function(){return new BOt},e.prototype.buildPath=function(t,i){cJ(t,i,!0)},e}(vo);uJ.prototype.type="polygon";const $d=uJ;var VOt=function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},dJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new VOt},e.prototype.buildPath=function(t,i){cJ(t,i,!1)},e}(vo);dJ.prototype.type="polyline";const qd=dJ;var zOt={},UOt=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},hJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new UOt},e.prototype.buildPath=function(t,i){var r,o,a,s;if(this.subPixelOptimize){var l=Aq(zOt,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var c=i.percent;0!==c&&(t.moveTo(r,o),c<1&&(a=r*(1-c)+a*c,s=o*(1-c)+s*c),t.lineTo(a,s))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(vo);hJ.prototype.type="line";const wu=hJ;var Kd=[],GOt=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function fJ(n,e,t){return null!=n.cpx2||null!=n.cpy2?[(t?f$:cu)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?f$:cu)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?RF:xu)(n.x1,n.cpx1,n.x2,e),(t?RF:xu)(n.y1,n.cpy1,n.y2,e)]}var pJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new GOt},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,c=i.cpy1,u=i.cpx2,d=i.cpy2,h=i.percent;0!==h&&(t.moveTo(r,o),null==u||null==d?(h<1&&(J1(r,l,a,h,Kd),l=Kd[1],a=Kd[2],J1(o,c,s,h,Kd),c=Kd[1],s=Kd[2]),t.quadraticCurveTo(l,c,a,s)):(h<1&&(Ug(r,l,u,a,h,Kd),l=Kd[1],u=Kd[2],a=Kd[3],Ug(o,c,d,s,h,Kd),c=Kd[1],d=Kd[2],s=Kd[3]),t.bezierCurveTo(l,c,u,d,a,s)))},e.prototype.pointAt=function(t){return fJ(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=fJ(this.shape,t,!0);return bb(i,i)},e}(vo);pJ.prototype.type="bezier-curve";const uI=pJ;var HOt=function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},mJ=function(n){function e(t){return n.call(this,t)||this}return vl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new HOt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,c=i.clockwise,u=Math.cos(s),d=Math.sin(s);t.moveTo(u*a+r,d*a+o),t.arc(r,o,a,s,l,!c)},e}(vo);mJ.prototype.type="arc";const k3=mJ;var jOt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return vl(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),vo.prototype.getBoundingRect.call(this)},e}(vo);const R3=jOt;var WOt=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const gJ=WOt;var ZOt=function(n){function e(t,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=t??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return vl(e,n),e}(gJ);const Tp=ZOt;var YOt=function(n){function e(t,i,r,o,a){var s=n.call(this,o)||this;return s.x=t??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return vl(e,n),e}(gJ);const vJ=YOt;var iy=[0,0],ry=[0,0],dI=new Hr,hI=new Hr,XOt=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Hr;for(i=0;i<2;i++)this._axes[i]=new Hr;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),t)for(var c=0;c<4;c++)i[c].transform(t);for(Hr.sub(r[0],i[1],i[0]),Hr.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return dI.set(1/0,1/0),hI.set(0,0),!this._intersectCheckOneSide(this,e,dI,hI,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,dI,hI,r,-1)&&(i=!1,r)||r||Hr.copy(t,i?dI:hI),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,iy),this._getProjMinMaxOnAxis(l,t._corners,ry),iy[1]<ry[0]||iy[0]>ry[1]){if(s=!1,o)return s;var u=Math.abs(ry[0]-iy[1]),d=Math.abs(iy[0]-ry[1]);Math.min(u,d)>r.len()&&Hr.scale(r,c,u<d?-u*a:d*a)}else i&&(u=Math.abs(ry[0]-iy[1]),d=Math.abs(iy[0]-ry[1]),Math.min(u,d)<i.len()&&Hr.scale(i,c,u<d?u*a:-d*a))}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,a=t[0].dot(r)+o[e],s=a,l=a,c=1;c<t.length;c++){var u=t[c].dot(r)+o[e];s=Math.min(u,s),l=Math.max(u,l)}i[0]=s,i[1]=l},n}();const fI=XOt;var $Ot=[],qOt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return vl(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new $r(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform($Ot)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,i))return!0;return!1},e}(Zh);const KOt=qOt;var pI=Math.max,mI=Math.min,L3={};function QOt(n){return vo.extend(n)}var JOt=function TOt(n,e){var t=eJ(n,e);return function(r){function o(a){var s=r.call(this,a)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return vl(o,r),o}(JQ)};function tNt(n,e){return JOt(n,e)}function Ff(n,e){L3[n]=e}function O3(n){if(L3.hasOwnProperty(n))return L3[n]}function gI(n,e,t,i){var r=nJ(n,e);return t&&("center"===i&&(t=yJ(t,r.getBoundingRect())),bJ(r,t)),r}function _J(n,e,t){var i=new Uu({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){"center"===t&&i.setStyle(yJ(e,{width:r.width,height:r.height}))}});return i}function yJ(n,e){var r,t=e.width/e.height,i=n.height*t;return r=i<=n.width?n.height:(i=n.width)/t,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-r/2,width:i,height:r}}var Qh=function DOt(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push(n[r].getUpdatedPathProxy(!0));var a=new vo(e);return a.createPathProxy(),a.buildPath=function(s){if(tJ(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function bJ(n,e){if(n.applyTransform){var i=n.getBoundingRect().calculateTransform(e);n.applyTransform(i)}}function qb(n,e){return Aq(n,n,{lineWidth:e}),n}function eNt(n){return Iq(n.shape,n.shape,n.style),n}var vI=H_;function oy(n,e){for(var t=nA([]);n&&n!==e;)Em(t,n.getLocalTransform(),t),n=n.parent;return t}function Bf(n,e,t){return e&&!ad(e)&&(e=Dm.getLocalTransform(e)),t&&(e=wb([],e)),zu([],n,e)}function _I(n,e,t){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=Bf(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function xJ(n){return!n.isGroup}function BS(n,e,t){if(n&&e){var o=function i(a){var s={};return a.traverse(function(l){xJ(l)&&l.anid&&(s[l.anid]=l)}),s}(n);e.traverse(function(a){if(xJ(a)&&a.anid){var s=o[a.anid];if(s){var l=r(a);a.attr(r(s)),va(a,l,t,Ar(a).dataIndex)}}})}function r(a){var s={x:a.x,y:a.y,rotation:a.rotation};return function nNt(n){return null!=n.shape}(a)&&(s.shape=An({},a.shape)),s}}function wJ(n,e){return Nn(n,function(t){var i=t[0];i=pI(i,e.x),i=mI(i,e.x+e.width);var r=t[1];return r=pI(r,e.y),[i,r=mI(r,e.y+e.height)]})}function iNt(n,e){var t=pI(n.x,e.x),i=mI(n.x+n.width,e.x+e.width),r=pI(n.y,e.y),o=mI(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function VS(n,e,t){var i=An({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),er(r,t),new Uu(i)):gI(n.replace("path://",""),i,t,"center")}function zS(n,e,t,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(SJ(n,e,t,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function SJ(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=N3(u,d,l,c);if(function rNt(n){return n<=1e-6&&n>=-1e-6}(h))return!1;var p=n-r,g=e-o,y=N3(p,g,l,c)/h;if(y<0||y>1)return!1;var b=N3(p,g,u,d)/h;return!(b<0||b>1)}function N3(n,e,t,i){return n*i-t*e}function Kb(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=si(e)?{formatter:e}:e,o=t.mainType,a=t.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&Xt(Io(l),function(u){xi(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=Ar(n.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:er({content:i,formatterParams:s},r)}}function CJ(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Jg(n,e){if(n)if(Ln(n))for(var t=0;t<n.length;t++)CJ(n[t],e);else CJ(n,e)}Ff("circle",Mp),Ff("ellipse",I3),Ff("sector",Xd),Ff("ring",cI),Ff("polygon",$d),Ff("polyline",qd),Ff("rect",aa),Ff("line",wu),Ff("bezierCurve",uI),Ff("arc",k3);var MJ=oa(),oNt=Yb(),F3=function(){function n(){this.group=new br,this.uid=Fb("viewChart"),this.renderTask=RS({plan:aNt,reset:sNt}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&TJ(o,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&TJ(o,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){Jg(this.group,e)},n.markUpdateMethod=function(e,t){MJ(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function EJ(n,e,t){n&&xS(n)&&("emphasis"===e?Lm:Om)(n,t)}function TJ(n,e,t){var i=R_(n,e),r=e&&null!=e.highlightKey?function DLt(n){var e=Wq[n];return null==e&&jq<=32&&(e=Wq[n]=jq++),e}(e.highlightKey):null;null!=i?Xt(Ps(i),function(o){EJ(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){EJ(o,t,r)})}function aNt(n){return oNt(n.model)}function sNt(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,a=n.view,s=r&&MJ(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,t,i,r),lNt[l]}mB(F3),TA(F3);var lNt={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const ll=F3;var yI="\0__throttleOriginMethod",DJ="\0__throttleRate",AJ="\0__throttleType";function B3(n,e,t){var i,s,l,c,u,r=0,o=0,a=null;function d(){o=(new Date).getTime(),a=null,n.apply(l,c||[])}e=e||0;var h=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];i=(new Date).getTime(),l=this,c=p;var y=u||e,b=u||t;u=null,s=i-(b?r:o)-y,clearTimeout(a),b?a=setTimeout(d,y):s>=0?d():a=setTimeout(d,-s),r=i};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(p){u=p},h}function Qb(n,e,t,i){var r=n[e];if(r){var o=r[yI]||r;if(r[DJ]!==t||r[AJ]!==i){if(null==t||!i)return n[e]=o;(r=n[e]=B3(o,t,"debounce"===i))[yI]=o,r[AJ]=i,r[DJ]=t}return r}}function US(n,e){var t=n[e];t&&t[yI]&&(t.clear&&t.clear(),n[e]=t[yI])}var IJ=oa(),PJ={itemStyle:O_(bK,!0),lineStyle:O_(yK,!0)},cNt={lineStyle:"stroke",itemStyle:"fill"};function kJ(n,e){return n.visualStyleMapper||PJ[e]||(console.warn("Unknown style type '"+e+"'."),PJ.itemStyle)}function RJ(n,e){return n.visualDrawType||cNt[e]||(console.warn("Unknown style type '"+e+"'."),"fill")}var uNt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),a=kJ(n,i)(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=RJ(n,i),c=a[l],u=Ki(c)?c:null;if(!a[l]||u||"auto"===a.fill||"auto"===a.stroke){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());a[l]||(a[l]=h,t.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||Ki(a.fill)?h:a.fill,a.stroke="auto"===a.stroke||Ki(a.stroke)?h:a.stroke}if(t.setVisual("style",a),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var y=n.getDataParams(g),b=An({},a);b[l]=u(y),p.setItemVisual(g,"style",b)}}}},GS=new sl,dNt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=kJ(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){GS.option=l[i];var c=r(GS);An(a.ensureUniqueItemVisual(s,"style"),c),GS.option.decal&&(a.setItemVisual(s,"decal",GS.option.decal),GS.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},hNt={performRawSeries:!0,overallReset:function(n){var e=Wi();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||e.set(r,o={}),IJ(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),a=IJ(t).scope,l=RJ(t,t.visualStyleAccessPath||"itemStyle");o.each(function(c){var u=o.getRawIndex(c);r[u]=c}),i.each(function(c){var u=r[c];if(o.getItemVisual(u,"colorFromPalette")){var h=o.ensureUniqueItemVisual(u,"style"),p=i.getName(c)||c+"",g=i.count();h[l]=t.getColorFromPalette(p,a,g)}})}})}},bI=Math.PI,pNt=function(){function n(e,t,i,r){this._stageTaskMap=Wi(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,a=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,s=r&&r.modDataCount;return{step:a,modBy:null!=s?Math.ceil(s/a):null,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),o=e.getData().count(),a=i.progressiveEnabled&&t.incrementalPrepareRender&&o>=i.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l="mod"===e.get("progressiveChunkMode")?o:null;e.pipelineContext=i.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=Wi();e.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;Xt(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{});Sd(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=i,a.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,a=this;function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}Xt(e,function(l,c){if(!r.visualType||r.visualType===l.visualType){var u=a._stageTaskMap.get(l.uid),d=u.seriesTaskMap,h=u.overallTask;if(h){var p,g=h.agentStubMap;g.each(function(b){s(r,b)&&(b.dirty(),p=!0)}),p&&h.dirty(),a.updatePayload(h,i);var y=a.getPerformArgs(h,r.block);g.each(function(b){b.perform(y)}),h.perform(y)&&(o=!0)}else d&&d.each(function(b,w){s(r,b)&&b.dirty();var C=a.getPerformArgs(b,r.block);C.skip=!l.performRawSeries&&t.isSeriesFiltered(b.context.model),a.updatePayload(b,i),b.perform(C)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,a=t.seriesTaskMap,s=t.seriesTaskMap=Wi(),l=e.seriesType,c=e.getTargetSeries;function u(d){var h=d.uid,p=s.set(h,a&&a.get(h)||RS({plan:yNt,reset:bNt,count:wNt}));p.context={model:d,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(d,p)}e.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,r).each(u)},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,a=t.overallTask=t.overallTask||RS({reset:mNt});a.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Wi(),c=e.seriesType,u=e.getTargetSeries,d=!0,h=!1;function g(y){var b=y.uid,w=l.set(b,s&&s.get(b)||(h=!0,RS({reset:gNt,onDirty:_Nt})));w.context={model:y,overallProgress:d},w.agent=a,w.__block=d,o._pipe(y,w)}Sd(!e.createOnAllSeries,""),c?i.eachRawSeriesByType(c,g):u?u(i,r).each(g):(d=!1,Xt(i.getSeries(),g)),h&&a.dirty()},n.prototype._pipe=function(e,t){var r=this._pipelineMap.get(e.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return Ki(e)&&(e={overallReset:e,seriesType:SNt(e)}),e.uid=Fb("stageHandler"),t&&(e.visualType=t),e},n}();function mNt(n){n.overallReset(n.ecModel,n.api,n.payload)}function gNt(n){return n.overallProgress&&vNt}function vNt(){this.agent.dirty(),this.getDownstream().dirty()}function _Nt(){this.agent&&this.agent.dirty()}function yNt(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function bNt(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Ps(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?Nn(e,function(t,i){return LJ(i)}):xNt}var xNt=LJ(0);function LJ(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function wNt(n){return n.data.count()}function SNt(n){xI=null;try{n(HS,OJ)}catch{}return xI}var xI,HS={},OJ={};function NJ(n,e){for(var t in e.prototype)n[t]=bc}NJ(HS,nQ),NJ(OJ,iQ),HS.eachSeriesByType=HS.eachRawSeriesByType=function(n){xI=n},HS.eachComponent=function(n){"series"===n.mainType&&n.subType&&(xI=n.subType)};const FJ=pNt;var BJ=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const CNt={color:BJ,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],BJ]};var Td="#B9B8CE",VJ="#100C2A",wI=function(){return{axisLine:{lineStyle:{color:Td}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},zJ=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],UJ={darkMode:!0,color:zJ,backgroundColor:VJ,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Td}},textStyle:{color:Td},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Td}},dataZoom:{borderColor:"#71708A",textStyle:{color:Td},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Td}},timeline:{lineStyle:{color:Td},label:{color:Td},controlStyle:{color:Td,borderColor:Td}},calendar:{itemStyle:{color:VJ},dayLabel:{color:Td},monthLabel:{color:Td},yearLabel:{color:Td}},timeAxis:wI(),logAxis:wI(),valueAxis:wI(),categoryAxis:wI(),line:{symbol:"circle"},graph:{color:zJ},gauge:{title:{color:Td},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Td},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};UJ.categoryAxis.splitLine.show=!1;const MNt=UJ;var ENt=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(si(e)){var o=_p(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Xt(e,function(l,c){for(var u=!1,d=0;d<a.length;d++){var h=a[d],p=c.lastIndexOf(h);if(p>0&&p===c.length-h.length){var g=c.slice(0,p);"data"!==g&&(t.mainType=g,t[h.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(i[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,o));function u(d,h,p,g){return null==d[p]||h[g||p]===d[p]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),V3=["symbol","symbolSize","symbolRotate","symbolOffset"],GJ=V3.concat(["symbolKeepAspect"]),TNt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<V3.length;a++){var s=V3[a],l=n.get(s);Ki(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(An({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var c=Io(r);return{dataEach:o?function u(d,h){for(var p=n.getRawValue(h),g=n.getDataParams(h),y=0;y<c.length;y++){var b=c[y];d.setItemVisual(h,b,r[b](p,g))}}:null}}}}},DNt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function i(r,o){for(var a=r.getItemModel(o),s=0;s<GJ.length;s++){var l=GJ[s],c=a.getShallow(l,!0);null!=c&&r.setItemVisual(o,l,c)}}:null}}};function z3(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function jS(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function HJ(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function jJ(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}Xt([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,a){r=An({},r),a.dispatchAction(An(r,{type:i[1],seriesIndex:t(o,r)}))})})}function Jb(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var d=a.getData(),h=R_(d,r.fromActionPayload);t.trigger(o,{type:o,seriesId:a.id,name:Ln(h)?d.getName(h[0]):d.getName(h),selected:si(l)?l:An({},l)})}})}function ay(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var INt=Math.round(9*Math.random()),PNt="function"==typeof Object.defineProperty,kNt=function(){function n(){this._id="__ec_inner_"+INt++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return PNt?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const RNt=kNt;var LNt=vo.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),ONt=vo.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),NNt=vo.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),h=Math.cos(c),p=.6*a,g=.7*a;n.moveTo(t-u,l+s),n.arc(t,l,a,Math.PI-c,2*Math.PI+c),n.bezierCurveTo(t+u-d*p,l+s+h*p,t,i-g,t,i),n.bezierCurveTo(t,i-g,t-u+d*p,l+s+h*p,t-u,l+s),n.closePath()}}),FNt=vo.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.x,o=e.y,a=e.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-a,o+t),n.lineTo(r,o),n.closePath()}}),VNt={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},SI={};Xt({line:wu,rect:aa,roundRect:aa,square:aa,circle:Mp,diamond:ONt,pin:NNt,arrow:FNt,triangle:LNt},function(n,e){SI[e]=new n});var zNt=vo.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=CA(n,e,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if("none"!==i){var r=SI[i];r||(r=SI[i="rect"]),VNt[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function UNt(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function Vc(n,e,t,i,r,o,a){var l,s=0===n.indexOf("empty");return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?_J(n.slice(8),new $r(e,t,i,r),a?"center":"cover"):0===n.indexOf("path://")?gI(n.slice(7),{},new $r(e,t,i,r),a?"center":"cover"):new zNt({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=s,l.setColor=UNt,o&&l.setColor(o),l}function WS(n){return Ln(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function tx(n,e){if(null!=n)return Ln(n)||(n=[n,n]),[ni(n[0],e[0])||0,ni(Xr(n[1],n[0]),e[1])||0]}function sy(n){return isFinite(n)}function U3(n,e,t){for(var i="radial"===e.type?function HNt(n,e,t){var i=t.width,r=t.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+t.x,s=s*r+t.y,l*=o),a=sy(a)?a:.5,s=sy(s)?s:.5,l=l>=0&&sy(l)?l:.5,n.createRadialGradient(a,s,0,a,s,l)}(n,e,t):function GNt(n,e,t){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*t.width+t.x,r=r*t.width+t.x,o=o*t.height+t.y,a=a*t.height+t.y),i=sy(i)?i:0,r=sy(r)?r:1,o=sy(o)?o:0,a=sy(a)?a:0,n.createLinearGradient(i,o,r,a)}(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function CI(n){return parseInt(n,10)}function ex(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||CI(s[i])||CI(n.style[i]))-(CI(s[o])||0)-(CI(s[a])||0)|0}function G3(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&function WNt(n,e){return n&&"solid"!==n&&e>0?"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:ua(n)?[n]:Ln(n)?n:null:null}(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var r=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&1!==r&&(t=Nn(t,function(o){return o/r}),i/=r)}return[t,i]}var ZNt=new wp(!0);function MI(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function WJ(n){return"string"==typeof n&&"none"!==n}function EI(n){var e=n.fill;return null!=e&&"none"!==e}function ZJ(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function YJ(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function H3(n,e,t){var i=vB(e.image,e.__image,t);if(DA(i)){var r=n.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*QD),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var XJ=["shadowBlur","shadowOffsetX","shadowOffsetY"],$J=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function qJ(n,e,t,i,r){var o=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){Qd(n,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?N_.opacity:a}(i||e.blend!==t.blend)&&(o||(Qd(n,r),o=!0),n.globalCompositeOperation=e.blend||N_.blend);for(var s=0;s<XJ.length;s++){var l=XJ[s];(i||e[l]!==t[l])&&(o||(Qd(n,r),o=!0),n[l]=n.dpr*(e[l]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Qd(n,r),o=!0),n.shadowColor=e.shadowColor||N_.shadowColor),o}function KJ(n,e,t,i,r){var o=ZS(e,r.inHover),a=i?null:t&&ZS(t,r.inHover)||{};if(o===a)return!1;var s=qJ(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Qd(n,r),s=!0),WJ(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Qd(n,r),s=!0),WJ(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Qd(n,r),s=!0),n.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var c=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(s||(Qd(n,r),s=!0),n.lineWidth=c)}for(var u=0;u<$J.length;u++){var d=$J[u],h=d[0];(i||o[h]!==a[h])&&(s||(Qd(n,r),s=!0),n[h]=o[h]||d[1])}return s}function QJ(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}var JJ=1,ttt=2,ett=3,ntt=4;function Qd(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function ZS(n,e){return e&&n.__hoverStyle||n.style}function itt(n,e){ly(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ly(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=~mh,void(e.__isRendered=!1);var o=e.__clipPaths,a=t.prevElClipPaths,s=!1,l=!1;if((!a||function jNt(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}(o,a))&&(a&&a.length&&(Qd(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Qd(n,t),n.save(),function KNt(n,e,t){for(var i=!1,r=0;r<n.length;r++){var o=n[r];i=i||o.isZeroArea(),QJ(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}t.allClipped=i}(o,n,t),s=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=s=!0);var u=e instanceof vo&&e.autoBatch&&function JNt(n){var e=EI(n),t=MI(n);return!(n.lineDash||!(+e^+t)||e&&"string"!=typeof n.fill||t&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(e.style);s||function QNt(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}(r,c.transform)?(Qd(n,t),QJ(n,e)):u||Qd(n,t);var d=ZS(e,t.inHover);e instanceof vo?(t.lastDrawType!==JJ&&(l=!0,t.lastDrawType=JJ),KJ(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),function YNt(n,e,t,i){var r,o=MI(t),a=EI(t),s=t.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||ZNt,d=e.__dirty;if(!i){var h=t.fill,p=t.stroke,g=a&&!!h.colorStops,y=o&&!!p.colorStops,b=a&&!!h.image,w=o&&!!p.image,C=void 0,E=void 0,k=void 0,j=void 0,H=void 0;(g||y)&&(H=e.getBoundingRect()),g&&(C=d?U3(n,h,H):e.__canvasFillGradient,e.__canvasFillGradient=C),y&&(E=d?U3(n,p,H):e.__canvasStrokeGradient,e.__canvasStrokeGradient=E),b&&(k=d||!e.__canvasFillPattern?H3(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=k),w&&(j=d||!e.__canvasStrokePattern?H3(n,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=k),g?n.fillStyle=C:b&&(k?n.fillStyle=k:a=!1),y?n.strokeStyle=E:w&&(j?n.strokeStyle=j:o=!1)}var yt,lt,it=e.getGlobalScale();u.setScale(it[0],it[1],e.segmentIgnoreThreshold),n.setLineDash&&t.lineDash&&(yt=(r=G3(e))[0],lt=r[1]);var Lt=!0;(c||d&Sb)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),Lt=!1),u.reset(),e.buildPath(u,e.shape,i),u.toStatic(),e.pathUpdated()),Lt&&u.rebuildPath(n,l?s:1),yt&&(n.setLineDash(yt),n.lineDashOffset=lt),i||(t.strokeFirst?(o&&YJ(n,t),a&&ZJ(n,t)):(a&&ZJ(n,t),o&&YJ(n,t))),yt&&n.setLineDash([])}(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof gS?(t.lastDrawType!==ett&&(l=!0,t.lastDrawType=ett),KJ(n,e,c,l,t),function $Nt(n,e,t){var i,r=t.text;if(null!=r&&(r+=""),r){n.font=t.font||Og,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var o=void 0,a=void 0;n.setLineDash&&t.lineDash&&(o=(i=G3(e))[0],a=i[1]),o&&(n.setLineDash(o),n.lineDashOffset=a),t.strokeFirst?(MI(t)&&n.strokeText(r,t.x,t.y),EI(t)&&n.fillText(r,t.x,t.y)):(EI(t)&&n.fillText(r,t.x,t.y),MI(t)&&n.strokeText(r,t.x,t.y)),o&&n.setLineDash([])}}(n,e,d)):e instanceof Uu?(t.lastDrawType!==ttt&&(l=!0,t.lastDrawType=ttt),function qNt(n,e,t,i,r){qJ(n,ZS(e,r.inHover),t&&ZS(t,r.inHover),i,r)}(n,e,c,l,t),function XNt(n,e,t){var i=e.__image=vB(t.image,e.__image,e,e.onload);if(i&&DA(i)){var r=t.x||0,o=t.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),t.sWidth&&t.sHeight)n.drawImage(i,c=t.sx||0,u=t.sy||0,t.sWidth,t.sHeight,r,o,a,s);else if(t.sx&&t.sy){var c,u;n.drawImage(i,c=t.sx,u=t.sy,a-c,s-u,r,o,a,s)}else n.drawImage(i,r,o,a,s)}}(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==ntt&&(l=!0,t.lastDrawType=ntt),function tFt(n,e,t){var i=e.getDisplayables(),r=e.getTemporalDisplayables();n.save();var a,s,o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(a=e.getCursor(),s=i.length;a<s;a++)(l=i[a]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ly(n,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l;for(var c=0,u=r.length;c<u;c++){var l;(l=r[c]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ly(n,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}(n,e,t)),u&&i&&Qd(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var j3=new RNt,rtt=new tS(100),ott=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function nx(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;n.dirty&&j3.delete(n);var o=j3.get(n);if(o)return o;var a=er(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function l(c){for(var u=[t],d=!0,h=0;h<ott.length;++h){var p=a[ott[h]];if(null!=p&&!Ln(p)&&!si(p)&&!ua(p)&&"boolean"!=typeof p){d=!1;break}u.push(p)}var g;if(d){g=u.join(",")+(r?"-svg":"");var y=rtt.get(g);y&&(r?c.svgElement=y:c.image=y)}var yt,b=stt(a.dashArrayX),w=function eFt(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(ua(n)){var e=Math.ceil(n);return[e,e]}var t=Nn(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}(a.dashArrayY),C=att(a.symbol),E=function nFt(n){return Nn(n,function(e){return ltt(e)})}(b),k=ltt(w),j=!r&&Af.createCanvas(),H=r&&{tag:"g",attrs:{},key:"dcl",children:[]},it=function lt(){for(var kt=1,Jt=0,ne=E.length;Jt<ne;++Jt)kt=iq(kt,E[Jt]);var ce=1;for(Jt=0,ne=C.length;Jt<ne;++Jt)ce=iq(ce,C[Jt].length);kt*=ce;var Ee=k*E.length*C.length;return{width:Math.max(1,Math.min(kt,a.maxTileWidth)),height:Math.max(1,Math.min(Ee,a.maxTileHeight))}}();j&&(j.width=it.width*t,j.height=it.height*t,yt=j.getContext("2d")),function Lt(){yt&&(yt.clearRect(0,0,j.width,j.height),a.backgroundColor&&(yt.fillStyle=a.backgroundColor,yt.fillRect(0,0,j.width,j.height)));for(var kt=0,Jt=0;Jt<w.length;++Jt)kt+=w[Jt];if(!(kt<=0))for(var ne=-k,ce=0,Ee=0,be=0;ne<it.height;){if(ce%2==0){for(var Be=Ee/2%C.length,Ne=0,Qe=0,In=0;Ne<2*it.width;){var Fn=0;for(Jt=0;Jt<b[be].length;++Jt)Fn+=b[be][Jt];if(Fn<=0)break;if(Qe%2==0){var Kn=.5*(1-a.symbolSize);Gi(Ne+b[be][Qe]*Kn,ne+w[ce]*Kn,b[be][Qe]*a.symbolSize,w[ce]*a.symbolSize,C[Be][In/2%C[Be].length])}Ne+=b[be][Qe],++In,++Qe===b[be].length&&(Qe=0)}++be===b.length&&(be=0)}ne+=w[ce],++Ee,++ce===w.length&&(ce=0)}function Gi(ar,Er,Ei,Vr,yl){var jo=r?1:t,Nl=Vc(yl,ar*jo,Er*jo,Ei*jo,Vr*jo,a.color,a.symbolKeepAspect);if(r){var Jl=i.painter.renderOneToVNode(Nl);Jl&&H.children.push(Jl)}else itt(yt,Nl)}}(),d&&rtt.put(g,j||H),c.image=j,c.svgElement=H,c.svgWidth=it.width,c.svgHeight=it.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/t,j3.set(n,s),n.dirty=!1,s}function att(n){if(!n||0===n.length)return[["rect"]];if(si(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!si(n[t])){e=!1;break}if(e)return att([n]);var i=[];for(t=0;t<n.length;++t)si(n[t])?i.push([n[t]]):i.push(n[t]);return i}function stt(n){if(!n||0===n.length)return[[0,0]];if(ua(n))return[[e=Math.ceil(n),e]];for(var t=!0,i=0;i<n.length;++i)if(!ua(n[i])){t=!1;break}if(t)return stt([n]);var r=[];for(i=0;i<n.length;++i)if(ua(n[i])){var e=Math.ceil(n[i]);r.push([e,e])}else e=Nn(n[i],function(s){return Math.ceil(s)}),r.push(e.length%2==1?e.concat(e):e);return r}function ltt(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}const Vf=new zh;var ctt={},dFt=2e3,dtt=3e3,_Ft={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:dtt,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ud="__flagInMainProcess",Jd="__pendingUpdate",Z3="__needsUpdateStatus",ftt=/^[a-zA-Z0-9_]+$/,Y3="__connectUpdateStatus";function mtt(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return vtt(this,n,e)}}function gtt(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vtt(this,n,e)}}function vtt(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),zh.prototype[e].apply(n,t)}var _tt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e}(zh),ytt=_tt.prototype;ytt.on=gtt("on"),ytt.off=gtt("off");var ix,X3,DI,tv,$3,q3,K3,YS,XS,btt,xtt,Q3,wtt,AI,Stt,Ctt,Jh,Mtt,II=function(n){function e(t,i,r){var o=n.call(this,new ENt)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},si(i)&&(i=Ett[i]),o._dom=t;var d=o._zr=W$(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Xr(r.useDirtyRect,!1),useCoarsePointer:Xr(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=B3(vi(d.flush,d),17),(i=ur(i))&&uQ(i,!0),o._theme=i,o._locale=function WLt(n){if(si(n)){var e=HA[n.toUpperCase()]||{};return n===GA||n===YB?ur(e):Yr(ur(e),ur(HA[SS]),!1)}return Yr(ur(n),ur(HA[SS]),!1)}(r.locale||xK),o._coordSysMgr=new AS;var h=o._api=Stt(o);function p(g,y){return g.__prio-y.__prio}return oA(kI,p),oA(tV,p),o._scheduler=new FJ(o,h,tV,kI),o._messageCenter=new _tt,o._initEvents(),o.resize=vi(o.resize,o),d.animation.on("frame",o._onframe,o),btt(d,o),xtt(d,o),$D(o),o}return vn(e,n),e.prototype._onframe=function(){if(!this._disposed){Mtt(this);var t=this._scheduler;if(this[Jd]){var i=this[Jd].silent;this[ud]=!0;try{ix(this),tv.update.call(this,null,this[Jd].updateParams)}catch(l){throw this[ud]=!1,this[Jd]=null,l}this._zr.flush(),this[ud]=!1,this[Jd]=null,YS.call(this,i),XS.call(this,i)}else if(t.unfinished){var r=1,o=this._model,a=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),q3(this,o),t.performVisualTasks(o),AI(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[ud]){if(this._disposed)return;var o,a,s;if(or(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this[ud]=!0,!this._model||i){var l=new C2t(this._api),c=this._theme,u=this._model=new nQ;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:a},eV);var d={seriesTransition:s,optionChanged:!0};if(r)this[Jd]={silent:o,updateParams:d},this[ud]=!1,this.getZr().wakeUp();else{try{ix(this),tv.update.call(this,null,d)}catch(h){throw this[Jd]=null,this[ud]=!1,h}this._ssr||this._zr.flush(),this[Jd]=null,this[ud]=!1,YS.call(this,o),XS.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ca.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},e.prototype.getSvgDataURL=function(){if(ca.svgSupported){var t=this._zr;return Xt(t.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var r=this._model,o=[],a=this;Xt((t=t||{}).excludeComponents,function(l){r.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Xt(o,function(l){l.group.ignore=!1}),s}},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i="svg"===t.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(RI[r]){var l=s,c=s,u=-s,d=-s,h=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();Xt(cy,function(E,k){if(E.group===r){var j=i?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(ur(t)),H=E.getDom().getBoundingClientRect();l=o(H.left,l),c=o(H.top,c),u=a(H.right,u),d=a(H.bottom,d),h.push({dom:j,left:H.left,top:H.top})}});var g=(u*=p)-(l*=p),y=(d*=p)-(c*=p),b=Af.createCanvas(),w=W$(b,{renderer:i?"svg":"canvas"});if(w.resize({width:g,height:y}),i){var C="";return Xt(h,function(E){C+='<g transform="translate('+(E.left-l)+","+(E.top-c)+')">'+E.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=C,t.connectedBackgroundColor&&w.painter.setBackgroundColor(t.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}return t.connectedBackgroundColor&&w.add(new aa({shape:{x:0,y:0,width:g,height:y},style:{fill:t.connectedBackgroundColor}})),Xt(h,function(E){var k=new Uu({style:{x:E.left*p-l,y:E.top*p-c,image:E.dom}});w.add(k)}),w.refreshImmediately(),b.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,i){return $3(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return $3(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var o;if(!this._disposed)return Xt(hS(this._model,t),function(s,l){l.indexOf("Models")>=0&&Xt(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(i);else if("seriesModels"===l){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},e.prototype.getVisual=function(t,i){var o=hS(this._model,t,{defaultMainType:"series"}),s=o.seriesModel.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return null!=l?z3(s,l,i):jS(s,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Xt(xFt,function(i){var r=function(o){var l,a=t.getModel(),s=o.target;if("globalout"===i?l={}:s&&ay(s,function(g){var y=Ar(g);if(y&&null!=y.dataIndex){var b=y.dataModel||a.getSeriesByIndex(y.seriesIndex);return l=b&&b.getDataParams(y.dataIndex,y.dataType)||{},!0}if(y.eventData)return l=An({},y.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;("markLine"===u||"markPoint"===u||"markArea"===u)&&(u="series",d=l.seriesIndex);var h=u&&null!=d&&a.getComponent(u,d),p=h&&t["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=i,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:p},t.trigger(i,l)}};r.zrEventfulCallAtLast=!0,t._zr.on(i,r,t)}),Xt($S,function(i,r){t._messageCenter.on(r,function(o){this.trigger(r,o)},t)}),Xt(["selectchanged"],function(i){t._messageCenter.on(i,function(r){this.trigger(i,r)},t)}),function ANt(n,e,t){n.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(Jb("map","selectchanged",e,r,i),Jb("pie","selectchanged",e,r,i)):"select"===i.fromAction?(Jb("map","selected",e,r,i),Jb("pie","selected",e,r,i)):"unselect"===i.fromAction&&(Jb("map","unselected",e,r,i),Jb("pie","unselected",e,r,i))})}(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&uq(this.getDom(),iV,"");var i=this,r=i._api,o=i._model;Xt(i._componentsViews,function(a){a.dispose(o,r)}),Xt(i._chartsViews,function(a){a.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete cy[i.id]}},e.prototype.resize=function(t){if(!this[ud]){if(this._disposed)return;this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this[Jd]&&(null==o&&(o=this[Jd].silent),r=!0,this[Jd]=null),this[ud]=!0;try{r&&ix(this),tv.update.call(this,{type:"resize",animation:An({duration:0},t&&t.animation)})}catch(a){throw this[ud]=!1,a}this[ud]=!1,YS.call(this,o),XS.call(this,o)}}},e.prototype.showLoading=function(t,i){if(!this._disposed&&(or(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),nV[t])){var r=nV[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=An({},t);return i.type=$S[t.type],i},e.prototype.dispatchAction=function(t,i){if(!this._disposed&&(or(i)||(i={silent:!!i}),PI[t.type]&&this._model)){if(this[ud])return void this._pendingActions.push(t);var r=i.silent;K3.call(this,t,r);var o=i.flush;o?this._zr.flush():!1!==o&&ca.browser.weChat&&this._throttledZrFlush(),YS.call(this,r),XS.call(this,r)}},e.prototype.updateLabelLayout=function(){Vf.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(!this._disposed){var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function r(d){for(var h=[],p=d.currentStates,g=0;g<p.length;g++){var y=p[g];"emphasis"===y||"blur"===y||"select"===y||h.push(y)}d.selected&&d.states.select&&h.push("select"),d.hoverState===OA&&d.states.emphasis?h.push("emphasis"):d.hoverState===vS&&d.states.blur&&h.push("blur"),d.useStates(h)}function s(d,h){if(!d.preventAutoZ){var p=d.get("z")||0,g=d.get("zlevel")||0;h.eachRendered(function(y){return l(y,p,g,-1/0),!0})}}function l(d,h,p,g){var y=d.getTextContent(),b=d.getTextGuideLine();if(d.isGroup)for(var C=d.childrenRef(),E=0;E<C.length;E++)g=Math.max(l(C[E],h,p,g),g);else d.z=h,d.zlevel=p,g=Math.max(d.z2,g);if(y&&(y.z=h,y.zlevel=p,isFinite(g)&&(y.z2=g+2)),b){var k=d.textGuideLineConfig;b.z=h,b.zlevel=p,isFinite(g)&&(b.z2=g+(k&&k.showAbove?1:-1))}return g}function c(d,h){h.eachRendered(function(p){if(!Ob(p)){var g=p.getTextContent(),y=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function u(d,h){var p=d.getModel("stateAnimation"),g=d.isAnimationEnabled(),y=p.get("duration"),b=y>0?{duration:y,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(w){if(w.states&&w.states.emphasis){if(Ob(w))return;if(w instanceof vo&&function ALt(n){var e=Zq(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}(w),w.__dirty){var C=w.prevStates;C&&w.useStates(C)}if(g){w.stateTransition=b;var E=w.getTextContent(),k=w.getTextGuideLine();E&&(E.stateTransition=b),k&&(k.stateTransition=b)}w.__dirty&&r(w)}})}ix=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),X3(d,!0),X3(d,!1),h.plan()},X3=function(d,h){for(var p=d._model,g=d._scheduler,y=h?d._componentsViews:d._chartsViews,b=h?d._componentsMap:d._chartsMap,w=d._zr,C=d._api,E=0;E<y.length;E++)y[E].__alive=!1;function k(H){var it=H.__requireNewView;H.__requireNewView=!1;var yt="_ec_"+H.id+"_"+H.type,lt=!it&&b[yt];if(!lt){var Lt=_p(H.type);(lt=new(h?ql.getClass(Lt.main,Lt.sub):ll.getClass(Lt.sub))).init(p,C),b[yt]=lt,y.push(lt),w.add(lt.group)}H.__viewId=lt.__id=yt,lt.__alive=!0,lt.__model=H,lt.group.__ecComponentInfo={mainType:H.mainType,index:H.componentIndex},!h&&g.prepareView(lt,H,p,C)}for(h?p.eachComponent(function(H,it){"series"!==H&&k(it)}):p.eachSeries(k),E=0;E<y.length;){var j=y[E];j.__alive?E++:(!h&&j.renderTask.dispose(),w.remove(j.group),j.dispose(p,C),y.splice(E,1),b[j.__id]===j&&delete b[j.__id],j.__id=j.group.__ecComponentInfo=null)}},DI=function(d,h,p,g,y){var b=d._model;if(b.setUpdatePayload(p),g){var w={};w[g+"Id"]=p[g+"Id"],w[g+"Index"]=p[g+"Index"],w[g+"Name"]=p[g+"Name"];var C={mainType:g,query:w};y&&(C.subType=y);var k,E=p.excludeSeriesId;null!=E&&(k=Wi(),Xt(Ps(E),function(H){var it=tu(H,null);null!=it&&k.set(it,!0)})),b&&b.eachComponent(C,function(H){if(!k||null==k.get(H.id))if(lK(p))if(H instanceof Pl)p.type===j_&&!p.notBlur&&!H.get(["emphasis","disabled"])&&function bLt(n,e,t){var i=n.seriesIndex,r=n.getData(e.dataType);if(r){var o=R_(r,e);o=(Ln(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=Ar(a);BB(i,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);null!=u&&BB(i,u,d,t)}}}(H,p,d._api);else{var yt=zB(H.mainType,H.componentIndex,p.name,d._api),Lt=yt.dispatchers;p.type===j_&&yt.focusSelf&&!p.notBlur&&VB(H.mainType,H.componentIndex,d._api),Lt&&Xt(Lt,function(kt){p.type===j_?Lm(kt):Om(kt)})}else GB(p)&&H instanceof Pl&&(function SLt(n,e,t){if(GB(e)){var i=e.dataType,o=R_(n.getData(i),e);Ln(o)||(o=[o]),n[e.type===bS?"toggleSelect":e.type===yS?"select":"unselect"](o,i)}}(H,p),aK(H),Jh(d))},d),b&&b.eachComponent(C,function(H){k&&null!=k.get(H.id)||j(d["series"===g?"_chartsMap":"_componentsMap"][H.__viewId])},d)}else Xt([].concat(d._componentsViews).concat(d._chartsViews),j);function j(H){H&&H.__alive&&H[h]&&H[h](H.__model,b,d._api,p)}},tv={prepareAndUpdate:function(d){ix(this),tv.update.call(this,d,{optionChanged:null!=d.newOption})},update:function(d,h){var p=this._model,g=this._api,y=this._zr,b=this._coordSysMgr,w=this._scheduler;if(p){p.setUpdatePayload(d),w.restoreData(p,d),w.performSeriesTasks(p),b.create(p,g),w.performDataProcessorTasks(p,d),q3(this,p),b.update(p,g),t(p),w.performVisualTasks(p,d),Q3(this,p,g,d,h);var C=p.get("backgroundColor")||"transparent",E=p.get("darkMode");y.setBackgroundColor(C),null!=E&&"auto"!==E&&y.setDarkMode(E),Vf.trigger("afterupdate",p,g)}},updateTransform:function(d){var h=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(d);var y=[];p.eachComponent(function(w,C){if("series"!==w){var E=h.getViewOfComponentModel(C);if(E&&E.__alive)if(E.updateTransform){var k=E.updateTransform(C,p,g,d);k&&k.update&&y.push(E)}else y.push(E)}});var b=Wi();p.eachSeries(function(w){var C=h._chartsMap[w.__viewId];if(C.updateTransform){var E=C.updateTransform(w,p,g,d);E&&E.update&&b.set(w.uid,1)}else b.set(w.uid,1)}),t(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:b}),AI(this,p,g,d,{},b),Vf.trigger("afterupdate",p,g)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),ll.markUpdateMethod(d,"updateView"),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),Q3(this,h,this._api,d,{}),Vf.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(g){g.getData().clearAllVisual()}),ll.markUpdateMethod(d,"updateVisual"),t(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,y){if("series"!==g){var b=h.getViewOfComponentModel(y);b&&b.__alive&&b.updateVisual(y,p,h._api,d)}}),p.eachSeries(function(g){h._chartsMap[g.__viewId].updateVisual(g,p,h._api,d)}),Vf.trigger("afterupdate",p,this._api))},updateLayout:function(d){tv.update.call(this,d)}},$3=function(d,h,p,g){if(!d._disposed)for(var w,y=d._model,b=d._coordSysMgr.getCoordinateSystems(),C=hS(y,p),E=0;E<b.length;E++){var k=b[E];if(k[h]&&null!=(w=k[h](y,C,g)))return w}},q3=function(d,h){var p=d._chartsMap,g=d._scheduler;h.eachSeries(function(y){g.updateStreamModes(y,p[y.__viewId])})},K3=function(d,h){var p=this,g=this.getModel(),y=d.type,b=d.escapeConnect,w=PI[y],C=w.actionInfo,E=(C.update||"update").split(":"),k=E.pop(),j=null!=E[0]&&_p(E[0]);this[ud]=!0;var H=[d],it=!1;d.batch&&(it=!0,H=Nn(d.batch,function(ce){return(ce=er(An({},ce),d)).batch=null,ce}));var lt,yt=[],Lt=GB(d),kt=lK(d);if(kt&&oK(this._api),Xt(H,function(ce){if((lt=(lt=w.action(ce,p._model,p._api))||An({},ce)).type=C.event||lt.type,yt.push(lt),kt){var Ee=fB(d),Ne=Ee.mainTypeSpecified?Ee.queryOptionMap.keys()[0]:"series";DI(p,k,ce,Ne),Jh(p)}else Lt?(DI(p,k,ce,"series"),Jh(p)):j&&DI(p,k,ce,j.main,j.sub)}),"none"!==k&&!kt&&!Lt&&!j)try{this[Jd]?(ix(this),tv.update.call(this,d),this[Jd]=null):tv[k].call(this,d)}catch(ce){throw this[ud]=!1,ce}if(lt=it?{type:C.event||y,escapeConnect:b,batch:yt}:yt[0],this[ud]=!1,!h){var Jt=this._messageCenter;if(Jt.trigger(lt.type,lt),Lt){var ne={type:"selectchanged",escapeConnect:b,selected:CLt(g),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};Jt.trigger(ne.type,ne)}}},YS=function(d){for(var h=this._pendingActions;h.length;){var p=h.shift();K3.call(this,p,d)}},XS=function(d){!d&&this.trigger("updated")},btt=function(d,h){d.on("rendered",function(p){h.trigger("rendered",p),d.animation.isFinished()&&!h[Jd]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},xtt=function(d,h){d.on("mouseover",function(p){var y=ay(p.target,xS);y&&(function xLt(n,e,t){var i=Ar(n),r=zB(i.componentMainType,i.componentIndex,i.componentHighDownName,t),o=r.dispatchers;o?(r.focusSelf&&VB(i.componentMainType,i.componentIndex,t),Xt(o,function(s){return Jq(s,e)})):(BB(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&VB(i.componentMainType,i.componentIndex,t),Jq(n,e))}(y,p,h._api),Jh(h))}).on("mouseout",function(p){var y=ay(p.target,xS);y&&(function wLt(n,e,t){oK(t);var i=Ar(n),r=zB(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?Xt(r,function(o){return tK(o,e)}):tK(n,e)}(y,p,h._api),Jh(h))}).on("click",function(p){var y=ay(p.target,function(C){return null!=Ar(C).dataIndex},!0);if(y){var b=y.selected?"unselect":"select",w=Ar(y);h._api.dispatchAction({type:b,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})},Q3=function(d,h,p,g,y){(function i(d){var h=[],p=[],g=!1;if(d.eachComponent(function(C,E){var k=E.get("zlevel")||0,j=E.get("z")||0,H=E.getZLevelKey();g=g||!!H,("series"===C?p:h).push({zlevel:k,z:j,idx:E.componentIndex,type:C,key:H})}),g){var b,w,y=h.concat(p);oA(y,function(C,E){return C.zlevel===E.zlevel?C.z-E.z:C.zlevel-E.zlevel}),Xt(y,function(C){var E=d.getComponent(C.type,C.idx),k=C.zlevel,j=C.key;null!=b&&(k=Math.max(b,k)),j?(k===b&&j!==w&&k++,w=j):w&&(k===b&&k++,w=""),b=k,E.setZLevel(k)})}})(h),wtt(d,h,p,g,y),Xt(d._chartsViews,function(b){b.__alive=!1}),AI(d,h,p,g,y),Xt(d._chartsViews,function(b){b.__alive||b.remove(h,p)})},wtt=function(d,h,p,g,y,b){Xt(b||d._componentsViews,function(w){var C=w.__model;c(0,w),w.render(C,h,p,g),s(C,w),u(C,w)})},AI=function(d,h,p,g,y,b){var w=d._scheduler;y=An(y||{},{updatedSeries:h.getSeries()}),Vf.trigger("series:beforeupdate",h,p,y);var C=!1;h.eachSeries(function(E){var k=d._chartsMap[E.__viewId];k.__alive=!0;var j=k.renderTask;w.updatePayload(j,g),c(0,k),b&&b.get(E.uid)&&j.dirty(),j.perform(w.getPerformArgs(j))&&(C=!0),k.group.silent=!!E.get("silent"),function a(d,h){var p=d.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}(E,k),aK(E)}),w.unfinished=C||w.unfinished,Vf.trigger("series:layoutlabels",h,p,y),Vf.trigger("series:transition",h,p,y),h.eachSeries(function(E){var k=d._chartsMap[E.__viewId];s(E,k),u(E,k)}),function o(d,h){var y=0;d._zr.storage.traverse(function(b){b.isGroup||y++}),y>h.get("hoverLayerThreshold")&&!ca.node&&!ca.worker&&h.eachSeries(function(b){if(!b.preventUsingHoverLayer){var w=d._chartsMap[b.__viewId];w.__alive&&w.eachRendered(function(C){C.states.emphasis&&(C.states.emphasis.hoverLayer=!0)})}})}(d,h),Vf.trigger("series:afterupdate",h,p,y)},Jh=function(d){d[Z3]=!0,d.getZr().wakeUp()},Mtt=function(d){d[Z3]&&(d.getZr().storage.traverse(function(h){Ob(h)||r(h)}),d[Z3]=!1)},Stt=function(d){return new(function(h){function p(){return null!==h&&h.apply(this,arguments)||this}return vn(p,h),p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var y=g.__ecComponentInfo;if(null!=y)return d._model.getComponent(y.mainType,y.index);g=g.parent}},p.prototype.enterEmphasis=function(g,y){Lm(g,y),Jh(d)},p.prototype.leaveEmphasis=function(g,y){Om(g,y),Jh(d)},p.prototype.enterBlur=function(g){eK(g),Jh(d)},p.prototype.leaveBlur=function(g){FB(g),Jh(d)},p.prototype.enterSelect=function(g){nK(g),Jh(d)},p.prototype.leaveSelect=function(g){iK(g),Jh(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(g){return d.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return d.getViewOfSeriesModel(g)},p}(iQ))(d)},Ctt=function(d){function h(p,g){for(var y=0;y<p.length;y++)p[y][Y3]=g}Xt($S,function(p,g){d._messageCenter.on(g,function(y){if(RI[d.group]&&0!==d[Y3]){if(y&&y.escapeConnect)return;var b=d.makeActionFromEvent(y),w=[];Xt(cy,function(C){C!==d&&C.group===d.group&&w.push(C)}),h(w,0),Xt(w,function(C){1!==C[Y3]&&C.dispatchAction(b)}),h(w,2)}})})}}(),e}(zh),J3=II.prototype;J3.on=mtt("on"),J3.off=mtt("off"),J3.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(n,r)},t)};var xFt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],PI={},$S={},tV=[],eV=[],kI=[],Ett={},nV={},cy={},RI={},wFt=+new Date-0,iV="_echarts_instance_";function Ttt(n,e,t){var i=!(t&&t.ssr);if(i){var r=function Dtt(n){return cy[function pRt(n,e){return n.getAttribute?n.getAttribute(e):n[e]}(n,iV)]}(n);if(r)return r}var o=new II(n,e,t);return o.id="ec_"+wFt++,cy[o.id]=o,i&&uq(n,iV,o.id),Ctt(o),Vf.trigger("afterinit",o),o}function Att(n,e){Ett[n]=e}function Itt(n){so(eV,n)<0&&eV.push(n)}function Ptt(n,e){oV(tV,n,e,dFt)}function rV(n,e){Vf.on(n,e)}function Dp(n,e,t){Ki(e)&&(t=e,e="");var i=or(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),!$S[e=n.event]&&(Sd(ftt.test(i)&&ftt.test(e)),PI[i]||(PI[i]={action:t,actionInfo:n}),$S[e]=i)}function uy(n,e){oV(kI,n,e,dtt,"visual")}var ktt=[];function oV(n,e,t,i,r){if((Ki(e)||or(e))&&(t=e,e=i),!(so(ktt,t)>=0)){ktt.push(t);var o=FJ.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function Rtt(n,e){nV[n]=e}uy(2e3,uNt),uy(4500,dNt),uy(4500,hNt),uy(2e3,TNt),uy(4500,DNt),uy(7e3,function iFt(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(a){var s=i.getItemVisual(a,"decal");s&&(i.ensureUniqueItemVisual(a,"style").decal=nx(s,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=nx(r,e))}})}),Itt(uQ),Ptt(900,function k2t(n){var e=Wi();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(R2t)}),Rtt("default",function fNt(n,e){er(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new br,i=new aa({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var a,r=new da({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new aa({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(o),e.showSpinner&&((a=new k3({shape:{startAngle:-bI/2,endAngle:-bI/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*bI/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*bI/2}).delay(300).start("circularInOut"),t.add(a)),t.resize=function(){var s=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-2*l-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=n.getHeight()/2;e.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Dp({type:j_,event:j_,update:j_},bc),Dp({type:NA,event:NA,update:NA},bc),Dp({type:yS,event:yS,update:yS},bc),Dp({type:FA,event:FA,update:FA},bc),Dp({type:bS,event:bS,update:bS},bc),Att("light",CNt),Att("dark",MNt);var Ltt=[],IFt={registerPreprocessor:Itt,registerProcessor:Ptt,registerPostInit:function CFt(n){rV("afterinit",n)},registerPostUpdate:function MFt(n){rV("afterupdate",n)},registerUpdateLifecycle:rV,registerAction:Dp,registerCoordinateSystem:function EFt(n,e){AS.register(n,e)},registerLayout:function TFt(n,e){oV(kI,n,e,1e3,"layout")},registerVisual:uy,registerTransform:function eOt(n){var e=(n=ur(n)).type;e||rs("");var i=e.split(":");2!==i.length&&rs("");var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),n.__isBuiltIn=r,AQ.set(e,n)},registerLoading:Rtt,registerMap:function DFt(n,e,t){var i=function aFt(n){return ctt[n]}("registerMap");i&&i(n,e,t)},registerImpl:function oFt(n,e){ctt[n]=e},PRIORITY:_Ft,ComponentModel:ha,ComponentView:ql,SeriesModel:Pl,ChartView:ll,registerComponentModel:function(n){ha.registerClass(n)},registerComponentView:function(n){ql.registerClass(n)},registerSeriesModel:function(n){Pl.registerClass(n)},registerChartView:function(n){ll.registerClass(n)},registerSubTypeDefaulter:function(n,e){ha.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){!function $kt(n,e){MA[n]=e}(n,e)}};function lo(n){Ln(n)?Xt(n,function(e){lo(e)}):so(Ltt,n)>=0||(Ltt.push(n),Ki(n)&&(n={install:n}),n.install(IFt))}var qS=2*Math.PI,dy=wp.CMD,PFt=["top","right","bottom","left"];function kFt(n,e,t,i,r){var o=t.width,a=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+a+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+a/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+a/2),r.set(1,0)}}function RFt(n,e,t,i,r,o,a,s,l){a-=n,s-=e;var c=Math.sqrt(a*a+s*s),u=(a/=c)*t+n,d=(s/=c)*t+e;if(Math.abs(i-r)%qS<1e-4)return l[0]=u,l[1]=d,c-t;if(o){var h=i;i=Pm(r),r=Pm(h)}else i=Pm(i),r=Pm(r);i>r&&(r+=qS);var p=Math.atan2(s,a);if(p<0&&(p+=qS),p>=i&&p<=r||p+qS>=i&&p+qS<=r)return l[0]=u,l[1]=d,c-t;var g=t*Math.cos(i)+n,y=t*Math.sin(i)+e,b=t*Math.cos(r)+n,w=t*Math.sin(r)+e,C=(g-a)*(g-a)+(y-s)*(y-s),E=(b-a)*(b-a)+(w-s)*(w-s);return C<E?(l[0]=g,l[1]=y,Math.sqrt(C)):(l[0]=b,l[1]=w,Math.sqrt(E))}function LI(n,e,t,i,r,o,a,s){var l=r-n,c=o-e,u=t-n,d=i-e,h=Math.sqrt(u*u+d*d),g=(l*(u/=h)+c*(d/=h))/h;s&&(g=Math.min(Math.max(g,0),1));var y=a[0]=n+(g*=h)*u,b=a[1]=e+g*d;return Math.sqrt((y-r)*(y-r)+(b-o)*(b-o))}function Ott(n,e,t,i,r,o,a){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var s=n+t,l=e+i,c=a[0]=Math.min(Math.max(r,n),s),u=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((c-r)*(c-r)+(u-o)*(u-o))}var zf=[];function LFt(n,e,t){var i=Ott(e.x,e.y,e.width,e.height,n.x,n.y,zf);return t.set(zf[0],zf[1]),i}function OFt(n,e,t){for(var s,l,i=0,r=0,o=0,a=0,c=1/0,u=e.data,d=n.x,h=n.y,p=0;p<u.length;){var g=u[p++];1===p&&(o=i=u[p],a=r=u[p+1]);var y=c;switch(g){case dy.M:i=o=u[p++],r=a=u[p++];break;case dy.L:y=LI(i,r,u[p],u[p+1],d,h,zf,!0),i=u[p++],r=u[p++];break;case dy.C:y=m$(i,r,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],d,h,zf),i=u[p++],r=u[p++];break;case dy.Q:y=v$(i,r,u[p++],u[p++],u[p],u[p+1],d,h,zf),i=u[p++],r=u[p++];break;case dy.A:var b=u[p++],w=u[p++],C=u[p++],E=u[p++],k=u[p++],j=u[p++];p+=1;var H=!!(1-u[p++]);s=Math.cos(k)*C+b,l=Math.sin(k)*E+w,p<=1&&(o=s,a=l),y=RFt(b,w,E,k,k+j,H,(d-b)*E/C+b,h,zf),i=Math.cos(k+j)*C+b,r=Math.sin(k+j)*E+w;break;case dy.R:y=Ott(o=i=u[p++],a=r=u[p++],u[p++],u[p++],d,h,zf);break;case dy.Z:y=LI(i,r,o,a,d,h,zf,!0),i=o,r=a}y<c&&(c=y,t.set(zf[0],zf[1]))}return c}var Uf=new Hr,cl=new Hr,xc=new Hr,Ap=new Hr,Ip=new Hr;function Ntt(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||PFt,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,c=r.anchor,u=n.getComputedTransform(),d=u&&wb([],u),h=e.get("length2")||0;c&&xc.copy(c);for(var p=0;p<a.length;p++){kFt(a[p],0,s,Uf,Ap),Hr.scaleAndAdd(cl,Uf,Ap,h),cl.transform(d);var y=n.getBoundingRect(),b=c?c.distance(cl):n instanceof vo?OFt(cl,n.path,xc):LFt(cl,y,xc);b<l&&(l=b,cl.transform(u),xc.transform(u),xc.toArray(o[0]),cl.toArray(o[1]),Uf.toArray(o[2]))}Ftt(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var OI=[],Dd=new Hr;function Ftt(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Uf.fromArray(n[0]),cl.fromArray(n[1]),xc.fromArray(n[2]),Hr.sub(Ap,Uf,cl),Hr.sub(Ip,xc,cl);var t=Ap.len(),i=Ip.len();if(!(t<.001||i<.001)){Ap.scale(1/t),Ip.scale(1/i);var r=Ap.dot(Ip);if(Math.cos(e)<r){var a=LI(cl.x,cl.y,xc.x,xc.y,Uf.x,Uf.y,OI,!1);Dd.fromArray(OI),Dd.scaleAndAdd(Ip,a/Math.tan(Math.PI-e));var s=xc.x!==cl.x?(Dd.x-cl.x)/(xc.x-cl.x):(Dd.y-cl.y)/(xc.y-cl.y);if(isNaN(s))return;s<0?Hr.copy(Dd,cl):s>1&&Hr.copy(Dd,xc),Dd.toArray(n[1])}}}}function NFt(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Uf.fromArray(n[0]),cl.fromArray(n[1]),xc.fromArray(n[2]),Hr.sub(Ap,cl,Uf),Hr.sub(Ip,xc,cl);var i=Ap.len(),r=Ip.len();if(!(i<.001||r<.001)&&(Ap.scale(1/i),Ip.scale(1/r),Ap.dot(e)<Math.cos(t))){var s=LI(cl.x,cl.y,xc.x,xc.y,Uf.x,Uf.y,OI,!1);Dd.fromArray(OI);var l=Math.PI/2,u=l+Math.acos(Ip.dot(e))-t;if(u>=l)Hr.copy(Dd,xc);else{Dd.scaleAndAdd(Ip,s/Math.tan(Math.PI/2-u));var d=xc.x!==cl.x?(Dd.x-cl.x)/(xc.x-cl.x):(Dd.y-cl.y)/(xc.y-cl.y);if(isNaN(d))return;d<0?Hr.copy(Dd,cl):d>1&&Hr.copy(Dd,xc)}Dd.toArray(n[1])}}}function Btt(n,e,t,i){var r="normal"===t,o=r?n:n.ensureState(t);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):o.style=s}function FFt(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Ng(i[0],i[1]),o=Ng(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*t,s=eA([],i[1],i[0],a/r),l=eA([],i[1],i[2],a/o),c=eA([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var u=1;u<i.length;u++)n.lineTo(i[u][0],i[u][1])}function aV(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<_S.length;l++){var c=_S[l],u=e[c],d="normal"===c;if(u){var h=u.get("show");if((d?s:Xr(r.states[c]&&r.states[c].ignore,s))||!Xr(h,a)){var g=d?i:i&&i.states[c];g&&(g.ignore=!0);continue}i||(i=new qd,n.setTextGuideLine(i),!d&&(s||!a)&&Btt(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),Btt(i,!1,c,u)}}if(i){er(i.style,t),i.style.fill=null;var y=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=y||!1,i.buildPath=FFt}}else i&&n.removeTextGuideLine()}function sV(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},i=0;i<Ed.length;i++){var r=Ed[i];t[r]=n.getModel([r,e])}return t}function Vtt(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new fI(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:c,localRect:a,obb:u,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function ztt(n,e,t,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(lt,Lt){return lt.rect[e]-Lt.rect[e]});for(var l,s=0,c=!1,u=[],d=0,h=0;h<a;h++){var p=n[h],g=p.rect;(l=g[e]-s)<0&&(g[e]-=l,p.label[e]-=l,c=!0);var y=Math.max(-l,0);u.push(y),d+=y,s=g[e]+g[t]}d>0&&o&&H(-d/a,0,a);var C,E,b=n[0],w=n[a-1];return k(),C<0&&it(-C,.8),E<0&&it(E,.8),k(),j(C,E,1),j(E,C,-1),k(),C<0&&yt(-C),E<0&&yt(E),c}function k(){C=b.rect[e]-i,E=r-w.rect[e]-w.rect[t]}function j(lt,Lt,kt){if(lt<0){var Jt=Math.min(Lt,-lt);if(Jt>0){H(Jt*kt,0,a);var ne=Jt+lt;ne<0&&it(-ne*kt,1)}else it(-lt*kt,1)}}function H(lt,Lt,kt){0!==lt&&(c=!0);for(var Jt=Lt;Jt<kt;Jt++){var ne=n[Jt];ne.rect[e]+=lt,ne.label[e]+=lt}}function it(lt,Lt){for(var kt=[],Jt=0,ne=1;ne<a;ne++){var ce=n[ne-1].rect,Ee=Math.max(n[ne].rect[e]-ce[e]-ce[t],0);kt.push(Ee),Jt+=Ee}if(Jt){var be=Math.min(Math.abs(lt)/Jt,Lt);if(lt>0)for(ne=0;ne<a-1;ne++)H(kt[ne]*be,0,ne+1);else for(ne=a-1;ne>0;ne--)H(-kt[ne-1]*be,ne,a)}}function yt(lt){var Lt=lt<0?-1:1;lt=Math.abs(lt);for(var kt=Math.ceil(lt/(a-1)),Jt=0;Jt<a-1;Jt++)if(Lt>0?H(kt,0,Jt+1):H(-kt,a-Jt-1,a),(lt-=kt)<=0)return}}function Utt(n,e,t,i){return ztt(n,"y","height",e,t,i)}function Gtt(n){var e=[];n.sort(function(y,b){return b.priority-y.priority});var t=new $r(0,0,0,0);function i(y){if(!y.ignore){var b=y.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}y.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=o.obb,h=!1,p=0;p<e.length;p++){var g=e[p];if(t.intersect(g.rect)){if(a&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new fI(g.localRect,g.transform)),d||(d=new fI(s,l)),d.intersect(g.obb)){h=!0;break}}}h?(i(c),u&&i(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function VFt(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function zFt(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:VFt(i&&i.shape.points)}}var Htt=["align","verticalAlign","width","height","fontSize"],vh=new Dm,lV=oa(),UFt=oa();function NI(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];null!=e[r]&&(n[r]=e[r])}}var FI=["x","y","rotation"],GFt=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var a=r.style,l=r.__hostTarget.textConfig||{},c=r.getComputedTransform(),u=r.getBoundingRect().plain();$r.applyTransform(u,u,c),c?vh.setLocalTransform(c):(vh.x=vh.y=vh.rotation=vh.originX=vh.originY=0,vh.scaleX=vh.scaleY=1);var h,d=r.__hostTarget;if(d){h=d.getBoundingRect().plain();var p=d.getComputedTransform();$r.applyTransform(h,h,p)}var g=h&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:vh.x,y:vh.y,scaleX:vh.scaleX,scaleY:vh.scaleY,rotation:vh.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(Ki(r)||Io(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=Ar(o);a&&!a.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(E,k){return function(){Ntt(E,k)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,c=a.defaultAttr,u=void 0;u=Ki(a.layoutOption)?a.layoutOption(zFt(a,l)):a.layoutOption,a.computedLayoutOption=u=u||{};var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*d:c.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(null!=u.x?(s.x=ni(u.x,t),s.setStyle("x",0),h=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=u.y?(s.y=ni(u.y,i),s.setStyle("y",0),h=!0):(s.y=c.y,s.setStyle("y",c.style.y)),u.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),h=!1)}lV(s).needsUpdateLabelLine=h,s.rotation=null!=u.rotate?u.rotate*d:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var y=0;y<Htt.length;y++){var b=Htt[y];s.setStyle(b,null!=u[b]?u[b]:c.style[b])}if(u.draggable){if(s.draggable=!0,s.cursor="move",l){var w=a.seriesModel;null!=a.dataIndex&&(w=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,w.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=Vtt(this._labelList),o=Ss(r,function(l){return"shiftX"===l.layoutOption.moveOverlap}),a=Ss(r,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function BFt(n,e,t,i){ztt(n,"x","width",e,t,i)})(o,0,t),Utt(a,0,i),Gtt(Ss(r,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;Xt(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=lV(l).needsUpdateLabelLine),s&&e._updateLabelLine(a,i),o&&e._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=Ar(e),o=r.dataIndex;if(i&&null!=o){var a=t.getData(r.dataType),s=a.getItemModel(o),l={},c=a.getItemVisual(o,"style"),u=a.getVisual("drawType");l.stroke=c[u];var d=s.getModel("labelLine");aV(e,sV(s),l),Ntt(e,d)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!Ob(e))){var a=(o=lV(i)).oldLayout,s=Ar(e),l=s.dataIndex,c={x:i.x,y:i.y,rotation:i.rotation},u=t.getData(s.dataType);if(a){i.attr(a);var h=e.prevStates;h&&(so(h,"select")>=0&&i.attr(o.oldLayoutSelect),so(h,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),va(i,c,t,l)}else if(i.attr(c),!Nb(i).valueAnimation){var d=Xr(i.style.opacity,1);i.style.opacity=0,Cl(i,{style:{opacity:d}},t,l)}if(o.oldLayout=c,i.states.select){var p=o.oldLayoutSelect={};NI(p,c,FI),NI(p,i.states.select,FI)}if(i.states.emphasis){var g=o.oldLayoutEmphasis={};NI(g,c,FI),NI(g,i.states.emphasis,FI)}_K(i,l,u,t,t)}if(r&&!r.ignore&&!r.invisible){var o=UFt(r),y={points:r.shape.points};(a=o.oldLayout)?(r.attr({shape:a}),va(r,{shape:y},t)):(r.setShape(y),r.style.strokePercent=0,Cl(r,{style:{strokePercent:1}},t)),o.oldLayout=y}},n}();const HFt=GFt;var cV=oa();function jtt(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=cV(t).labelManager;r||(r=cV(t).labelManager=new HFt),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=cV(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}function Wtt(n,e,t){var i=Af.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}lo(jtt);var jFt=function(n){function e(t,i,r){var a,o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||wA,"string"==typeof t?a=Wtt(t,i,r):or(t)&&(t=(a=t).id),o.id=t,o.dom=a;var s=a.style;return s&&(UX(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return vl(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Wtt("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var b,a=[],s=this.maxRepaintRectCount,l=!1,c=new $r(0,0,0,0);function u(C){if(C.isFinite()&&!C.isZero())if(0===a.length)(E=new $r(0,0,0,0)).copy(C),a.push(E);else{for(var k=!1,j=1/0,H=0,it=0;it<a.length;++it){var yt=a[it];if(yt.intersect(C)){var lt=new $r(0,0,0,0);lt.copy(yt),lt.union(C),a[it]=lt,k=!0;break}if(l){c.copy(C),c.union(yt);var ne=c.width*c.height-C.width*C.height-yt.width*yt.height;ne<j&&(j=ne,H=it)}}var E;l&&(a[H].union(C),k=!0),k||((E=new $r(0,0,0,0)).copy(C),a.push(E)),l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d)if(h=t[d]){var p=h.shouldBePainted(r,o,!0,!0);(g=h.__isRendered&&(h.__dirty&mh||!p)?h.getPrevPaintRect():null)&&u(g);var y=p&&(h.__dirty&mh||!h.__isRendered)?h.getPaintRect():null;y&&u(y)}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h,g;p=(h=i[d]).shouldBePainted(r,o,!0,!0),!h||p&&h.__zr||!h.__isRendered||(g=h.getPrevPaintRect())&&u(g)}do{for(b=!1,d=0;d<a.length;)if(a[d].isZero())a.splice(d,1);else{for(var w=d+1;w<a.length;)a[d].intersect(a[w])?(b=!0,a[d].union(a[w]),a.splice(w,1)):w++;d++}}while(b);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=t+"px",a.height=i+"px"),o.width=t*r,o.height=i*r,s&&(s.width=t*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var p=this.domBack;function g(y,b,w,C){if(a.clearRect(y,b,w,C),i&&"transparent"!==i){var E=void 0;XD(i)?(E=(i.global||i.__width===w&&i.__height===C)&&i.__canvasGradient||U3(a,i,{x:0,y:0,width:w,height:C}),i.__canvasGradient=E,i.__width=w,i.__height=C):function yPt(n){return null!=n.image}(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,E=H3(a,i,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),a.save(),a.fillStyle=E||i,a.fillRect(y,b,w,C),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(p,y,b,w,C),a.restore())}!r||c?g(0,0,s,l):r.length&&Xt(r,function(y){g(y.x*d,y.y*d,y.width*d,y.height*d)})},e}(zh);const uV=jFt;var hy=314159,XFt=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=An({},i||{}),this.dpr=i.devicePixelRatio||wA,this._singleCanvas=o,this.root=e,e.style&&(UX(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,d=u.width,h=u.height;null!=i.width&&(d=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,u.width=d*this.dpr,u.height=h*this.dpr,this._width=d,this._height=h;var p=new uV(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[hy]=p,p.zlevel=hy,s.push(hy),this._domRoot=e}else{this._width=ex(e,0,i),this._height=ex(e,1,i);var c=this._domRoot=function YFt(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var o,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var s=e[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),o||(o=i.ctx).save(),ly(o,s,r,a===t-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){itt(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;kF(function(){l._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(hy).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,d=!1,h=function(y){var b=o[y],w=b.ctx,C=a&&b.createRepaintRects(e,t,p._width,p._height),E=i?b.__startIndex:b.__drawIndex,k=!i&&b.incremental&&Date.now,j=k&&Date.now(),H=b.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,H,C);else if(E===b.__startIndex){var it=e[E];(!it.incremental||!it.notClear||i)&&b.clear(!1,H,C)}-1===E&&(console.error("For some unknown reason. drawIndex is -1"),E=b.__startIndex);var yt,lt=function(ne){var ce={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(yt=E;yt<b.__endIndex;yt++){var Ee=e[yt];if(Ee.__inHover&&(d=!0),r._doPaintEl(Ee,b,a,ne,ce,yt===b.__endIndex-1),k&&Date.now()-j>15)break}ce.prevElClipPaths&&w.restore()};if(C)if(0===C.length)yt=b.__endIndex;else for(var Lt=p.dpr,kt=0;kt<C.length;++kt){var Jt=C[kt];w.save(),w.beginPath(),w.rect(Jt.x*Lt,Jt.y*Lt,Jt.width*Lt,Jt.height*Lt),w.clip(),lt(Jt),w.restore()}else w.save(),lt(),w.restore();b.__drawIndex=yt,b.__drawIndex<b.__endIndex&&(u=!1)},p=this,g=0;g<o.length;g++)h(g);return ca.wxa&&Xt(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,i,r,o,a){var s=t.ctx;if(i){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(ly(s,e,o,a),e.setPrevPaintRect(l))}else ly(s,e,o,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=hy);var i=this._layers[e];return i||((i=new uV("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?Yr(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&Yr(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[e]&&function ZFt(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(t)){if(o>0&&e>r[0]){for(l=0;l<o-1&&!(r[l]<e&&r[l+1]>e);l++);s=i[r[l]]}if(r.splice(l+1,0,e),i[e]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(t.dom,c.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((r=e[i]).zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}var s,l,o=null,a=0;for(l=0;l<e.length;l++){var r,c=(r=e[l]).zlevel,u=void 0;s!==c&&(s=c,a=0),r.incremental?((u=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(c+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||cF("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.__drawIndex=u.incremental?-1:l,t(l),o=u),r.__dirty&mh&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Xt(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?Yr(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];o!==e&&o!==e+.01||Yr(this._layers[o],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(so(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=ex(o,0,r),t=ex(o,1,r),i.style.display="",this._width!==e||t!==this._height){for(var a in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(hy).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[hy].dom;var t=new uV("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,r,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++)ly(i,s[l],a,l===c-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const $Ft=XFt;var dV=Math.sin,hV=Math.cos,Ytt=Math.PI,fy=2*Math.PI,KFt=180/Ytt,QFt=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){this._add("C",e,t,i,r,o,a)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,a){this.ellipse(e,t,i,i,0,r,o,a)},n.prototype.ellipse=function(e,t,i,r,o,a,s,l){var g,c=s-a,u=!l,d=Math.abs(c),h=Hg(d-fy)||(u?c>=fy:-c>=fy),p=c>0?c%fy:c%fy+fy;g=!!h||!Hg(d)&&p>=Ytt==!!u;var y=e+i*hV(a),b=t+r*dV(a);this._start&&this._add("M",y,b);var w=Math.round(o*KFt);if(h){var C=1/this._p,E=(u?1:-1)*(fy-C);this._add("A",i,r,w,1,+u,e+i*hV(a+E),t+r*dV(a+E)),C>.01&&this._add("A",i,r,w,0,+u,y,b)}else{var k=e+i*hV(s),j=t+r*dV(s);this._add("A",i,r,w,+g,+u,k,j)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,a,s,l,c){for(var u=[],d=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p))return void(this._invalid=!0);u.push(Math.round(p*d)/d)}this._d.push(e+u.join(" ")),this._start="Z"===e},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const Xtt=QFt;var KS="none",JFt=Math.round,fV=["lineCap","miterLimit","lineJoin"],nBt=Nn(fV,function(n){return"stroke-"+n.toLowerCase()});var $tt="http://www.w3.org/2000/svg",qtt="http://www.w3.org/1999/xlink",rBt="http://www.w3.org/2000/xmlns/",oBt="http://www.w3.org/XML/1998/namespace";function Ktt(n){return document.createElementNS($tt,n)}function hu(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function pV(n,e){var t=(e=e||{}).newline?"\n":"";return function i(r){var o=r.children,a=r.tag,l=r.text;return function aBt(n,e){var t=[];if(e)for(var i in e){var r=e[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),t.push(o))}return"<"+n+" "+t.join(" ")+">"}(a,r.attrs)+("style"!==a?jd(l):l||"")+(o?""+t+Nn(o,function(c){return i(c)}).join(t)+t:"")+function sBt(n){return"</"+n+">"}(a)}(n)}function mV(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Qtt(n,e,t,i){return hu("svg","root",{width:n,height:e,xmlns:$tt,"xmlns:xlink":qtt,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var Jtt={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},py="transform-origin";function cBt(n,e,t){var i=An({},n.shape);An(i,e),n.buildPath(t,i);var r=new Xtt;return r.reset(E$(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function uBt(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[py]=t+"px "+i+"px")}var dBt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function tet(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function eet(n){return si(n)?Jtt[n]?"cubic-bezier("+Jtt[n]+")":LF(n)?n:"":""}function VI(n,e,t,i){var r=n.animators,o=r.length,a=[];if(n instanceof R3){var s=function hBt(n,e,t){var o,a,r={};if(Xt(n.shape.paths,function(l){var c=mV(t.zrId);c.animation=!0,VI(l,{},c,!0);var u=c.cssAnims,d=c.cssNodes,h=Io(u),p=h.length;if(p){var g=u[a=h[p-1]];for(var y in g){var b=g[y];r[y]=r[y]||{d:""},r[y].d+=b.d||""}for(var w in d){var C=d[w].animation;C.indexOf(a)>=0&&(o=C)}}}),o){e.d=!1;var s=tet(r,t);return o.replace(a,s)}}(n,e,t);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},c=0;c<o;c++){var u=r[c],d=[u.getMaxTime()/1e3+"s"],h=eet(u.getClip().easing),p=u.getDelay();d.push(h||"linear"),p&&d.push(p/1e3+"s"),u.getLoop()&&d.push("infinite");var g=d.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(u)}function y(C){var E=C[1],k=E.length,j={},H={},it={},yt="animation-timing-function";function lt(Gi,ar,Er){for(var Ei=Gi.getTracks(),Vr=Gi.getMaxTime(),yl=0;yl<Ei.length;yl++){var jo=Ei[yl];if(jo.needsAnimate()){var Nl=jo.keyframes,Jl=jo.propName;if(Er&&(Jl=Er(Jl)),Jl)for(var fd=0;fd<Nl.length;fd++){var ug=Nl[fd],ih=Math.round(ug.time/Vr*100)+"%",bL=eet(ug.easing),Pv=ug.rawValue;(si(Pv)||ua(Pv))&&(ar[ih]=ar[ih]||{},ar[ih][Jl]=ug.rawValue,bL&&(ar[ih][yt]=bL))}}}}for(var Lt=0;Lt<k;Lt++)(Jt=(kt=E[Lt]).targetName)?"shape"===Jt&&lt(kt,H):!i&&lt(kt,j);for(var ne in j){var ce={};V$(ce,n),An(ce,j[ne]);var Ee=T$(ce),be=j[ne][yt];it[ne]=Ee?{transform:Ee}:{},uBt(it[ne],ce),be&&(it[ne][yt]=be)}var Be,Ne=!0;for(var ne in H){it[ne]=it[ne]||{};var Qe=!Be;be=H[ne][yt],Qe&&(Be=new wp);var In=Be.len();Be.reset(),it[ne].d=cBt(n,H[ne],Be);var Fn=Be.len();if(!Qe&&In!==Fn){Ne=!1;break}be&&(it[ne][yt]=be)}if(!Ne)for(var ne in it)delete it[ne].d;if(!i)for(Lt=0;Lt<k;Lt++){var kt,Jt;"style"===(Jt=(kt=E[Lt]).targetName)&&lt(kt,it,function(Ei){return dBt[Ei]})}var zn,Kn=Io(it),Qn=!0;for(Lt=1;Lt<Kn.length;Lt++){var zi=Kn[Lt-1];if(it[zi][py]!==it[Kn[Lt]][py]){Qn=!1;break}zn=it[zi][py]}if(Qn&&zn){for(var ne in it)it[ne][py]&&delete it[ne][py];e[py]=zn}if(Ss(Kn,function(Gi){return Io(it[Gi]).length>0}).length)return tet(it,t)+" "+C[0]+" both"}for(var b in l)(s=y(l[b]))&&a.push(s);if(a.length){var w=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+w]={animation:a.join(",")},e.class=w}}var QS=Math.round;function net(n){return n&&si(n.src)}function iet(n){return n&&Ki(n.toDataURL)}function gV(n,e,t,i){(function iBt(n,e,t,i){var r=null==e.opacity?1:e.opacity;if(t instanceof Uu)n("opacity",r);else{if(function tBt(n){var e=n.fill;return null!=e&&e!==KS}(e)){var o=rS(e.fill);n("fill",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",KS);if(function eBt(n){var e=n.stroke;return null!=e&&e!==KS}(e)){var s=rS(e.stroke);n("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,d=e.strokeFirst;if((i||1!==c)&&n("stroke-width",c),(i||d)&&n("paint-order",d?"stroke":"fill"),(i||u<1)&&n("stroke-opacity",u),e.lineDash){var h=G3(t),p=h[0],g=h[1];p&&(g=JFt(g||0),n("stroke-dasharray",p.join(",")),(g||i)&&n("stroke-dashoffset",g))}else i&&n("stroke-dasharray",KS);for(var y=0;y<fV.length;y++){var b=fV[y];if(i||e[b]!==LA[b]){var w=e[b]||LA[b];w&&n(nBt[y],w)}}}else i&&n("stroke",KS)}})(function(r,o){var a="fill"===r||"stroke"===r;a&&M$(o)?uet(e,n,r,i):a&&GF(o)?det(t,n,r,i):n[r]=o},e,t,!1),function yBt(n,e,t){var i=n.style;if(function _kt(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(i)){var r=function ykt(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(n),o=t.shadowCache,a=o[r];if(!a){var s=n.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=i.shadowOffsetX||0,d=i.shadowOffsetY||0,h=i.shadowBlur,p=rS(i.shadowColor),g=p.opacity,y=p.color,C=h/2/l+" "+h/2/c;a=t.zrId+"-s"+t.shadowIdx++,t.defs[a]=hu("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[hu("feDropShadow","",{dx:u/l,dy:d/c,stdDeviation:C,"flood-color":y,"flood-opacity":g})]),o[r]=a}e.filter=mA(a)}}(t,n,i)}function ret(n){return Hg(n[0]-1)&&Hg(n[1])&&Hg(n[2])&&Hg(n[3]-1)}function vV(n,e,t){if(e&&(!function fBt(n){return Hg(n[4])&&Hg(n[5])}(e)||!ret(e))){var i=t?10:1e4;n.transform=ret(e)?"translate("+QS(e[4]*i)/i+" "+QS(e[5]*i)/i+")":function mkt(n){return"matrix("+pA(n[0])+","+pA(n[1])+","+pA(n[2])+","+pA(n[3])+","+UF(n[4])+","+UF(n[5])+")"}(e)}}function oet(n,e,t){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(QS(i[o][0]*t)/t),r.push(QS(i[o][1]*t)/t);e.points=r.join(" ")}function aet(n){return!n.smooth}var mBt={circle:[function pBt(n){var e=Nn(n,function(t){return"string"==typeof t?[t,t]:t});return function(t,i,r){for(var o=0;o<e.length;o++){var a=e[o],s=t[a[0]];null!=s&&(i[a[1]]=QS(s*r)/r)}}}(["cx","cy","r"])],polyline:[oet,aet],polygon:[oet,aet]};function set(n,e){var t=n.style,i=n.shape,r=mBt[n.type],o={},a=e.animation,s="path",l=n.style.strokePercent,c=e.compress&&E$(n)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function gBt(n){for(var e=n.animators,t=0;t<e.length;t++)if("shape"===e[t].targetName)return!0;return!1}(n)||l<1){var d=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;d&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var p=h.getVersion(),g=n,y=g.__svgPathBuilder;(g.__svgPathVersion!==p||!y||l!==g.__svgPathStrokePercent)&&(y||(y=g.__svgPathBuilder=new Xtt),y.reset(c),h.rebuildPath(y,l),y.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),o.d=y.getStr()}else{s=n.type;var u=Math.pow(10,c);r[0](i,o,u)}return vV(o,n.transform),gV(o,t,n,e),e.animation&&VI(n,o,e),hu(s,n.id+"",o)}function cet(n,e){return n instanceof vo?set(n,e):n instanceof Uu?function vBt(n,e){var t=n.style,i=t.image;if(i&&!si(i)&&(net(i)?i=i.src:iet(i)&&(i=i.toDataURL())),i){var r=t.x||0,o=t.y||0,l={href:i,width:t.width,height:t.height};return r&&(l.x=r),o&&(l.y=o),vV(l,n.transform),gV(l,t,n,e),e.animation&&VI(n,l,e),hu("image",n.id+"",l)}}(n,e):n instanceof gS?function _Bt(n,e){var t=n.style,i=t.text;if(null!=i&&(i+=""),i&&!isNaN(t.x)&&!isNaN(t.y)){var r=t.font||Og,o=t.x||0,a=function vkt(n,e,t){return"top"===t?n+=e/2:"bottom"===t&&(n-=e/2),n}(t.y||0,SA(r),t.textBaseline),l={"dominant-baseline":"central","text-anchor":gkt[t.textAlign]||t.textAlign};if(Bq(t)){var c="",u=t.fontStyle,d=Nq(t.fontSize);if(!parseFloat(d))return;var p=t.fontWeight;c+="font-size:"+d+";font-family:"+(t.fontFamily||RX)+";",u&&"normal"!==u&&(c+="font-style:"+u+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+r;return i.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),a&&(l.y=a),vV(l,n.transform),gV(l,t,n,e),e.animation&&VI(n,l,e),hu("text",n.id+"",l,void 0,i)}}(n,e):void 0}function uet(n,e,t,i){var o,r=n[t],a={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(S$(r))o="linearGradient",a.x1=r.x,a.y1=r.y,a.x2=r.x2,a.y2=r.y2;else{if(!C$(r))return;o="radialGradient",a.cx=Xr(r.x,.5),a.cy=Xr(r.y,.5),a.r=Xr(r.r,.5)}for(var s=r.colorStops,l=[],c=0,u=s.length;c<u;++c){var d=100*UF(s[c].offset)+"%",p=rS(s[c].color),y=p.opacity,b={offset:d};b["stop-color"]=p.color,y<1&&(b["stop-opacity"]=y),l.push(hu("stop",c+"",b))}var C=pV(hu(o,"",a,l)),E=i.gradientCache,k=E[C];k||(k=i.zrId+"-g"+i.gradientIdx++,E[C]=k,a.id=k,i.defs[k]=hu(o,k,a,l)),e[t]=mA(k)}function det(n,e,t,i){var d,r=n.style[t],o=n.getBoundingRect(),a={},s=r.repeat,l="no-repeat"===s,c="repeat-x"===s,u="repeat-y"===s;if(w$(r)){var h=r.imageWidth,p=r.imageHeight,g=void 0,y=r.image;if(si(y)?g=y:net(y)?g=y.src:iet(y)&&(g=y.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";Sd(h,b),Sd(p,b)}else if(null==h||null==p){var w=function(Lt,kt){if(Lt){var Jt=Lt.elm,ne=h||kt.width,ce=p||kt.height;"pattern"===Lt.tag&&(c?(ce=1,ne/=o.width):u&&(ne=1,ce/=o.height)),Lt.attrs.width=ne,Lt.attrs.height=ce,Jt&&(Jt.setAttribute("width",ne),Jt.setAttribute("height",ce))}},C=vB(g,null,n,function(Lt){l||w(H,Lt),w(d,Lt)});C&&C.width&&C.height&&(h=h||C.width,p=p||C.height)}d=hu("image","img",{href:g,width:h,height:p}),a.width=h,a.height=p}else r.svgElement&&(d=ur(r.svgElement),a.width=r.svgWidth,a.height=r.svgHeight);if(d){var E,k;l?E=k=1:c?(k=1,E=a.width/o.width):u?(E=1,k=a.height/o.height):a.patternUnits="userSpaceOnUse",null!=E&&!isNaN(E)&&(a.width=E),null!=k&&!isNaN(k)&&(a.height=k);var j=T$(r);j&&(a.patternTransform=j);var H=hu("pattern","",a,[d]),it=pV(H),yt=i.patternCache,lt=yt[it];lt||(lt=i.zrId+"-p"+i.patternIdx++,yt[it]=lt,a.id=lt,H=i.defs[lt]=hu("pattern",lt,a,[d])),e[t]=mA(lt)}}function bBt(n,e,t){var i=t.clipPathCache,r=t.defs,o=i[n.id];if(!o){var a={id:o=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=o,r[o]=hu("clipPath",o,a,[set(n,t)])}e["clip-path"]=mA(o)}function het(n){return document.createTextNode(n)}function my(n,e,t){n.insertBefore(e,t)}function fet(n,e){n.removeChild(e)}function pet(n,e){n.appendChild(e)}function met(n){return n.parentNode}function get(n){return n.nextSibling}function _V(n,e){n.textContent=e}var vet=58,xBt=120,wBt=hu("","");function yV(n){return void 0===n}function Pp(n){return void 0!==n}function SBt(n,e,t){for(var i={},r=e;r<=t;++r){var o=n[r].key;void 0!==o&&(i[o]=r)}return i}function JS(n,e){return n.tag===e.tag&&n.key===e.key}function tC(n){var e,t=n.children,i=n.tag;if(Pp(i)){var r=n.elm=Ktt(i);if(bV(wBt,n),Ln(t))for(e=0;e<t.length;++e){var o=t[e];null!=o&&pet(r,tC(o))}else Pp(n.text)&&!or(n.text)&&pet(r,het(n.text))}else n.elm=het(n.text);return n.elm}function _et(n,e,t,i,r){for(;i<=r;++i){var o=t[i];null!=o&&my(n,tC(o),e)}}function zI(n,e,t,i){for(;t<=i;++t){var r=e[t];null!=r&&(Pp(r.tag)?fet(met(r.elm),r.elm):fet(n,r.elm))}}function bV(n,e){var t,i=e.elm,r=n&&n.attrs||{},o=e.attrs||{};if(r!==o){for(t in o){var a=o[t];r[t]!==a&&(!0===a?i.setAttribute(t,""):!1===a?i.removeAttribute(t):t.charCodeAt(0)!==xBt?i.setAttribute(t,a):"xmlns:xlink"===t||"xmlns"===t?i.setAttributeNS(rBt,t,a):t.charCodeAt(3)===vet?i.setAttributeNS(oBt,t,a):t.charCodeAt(5)===vet?i.setAttributeNS(qtt,t,a):i.setAttribute(t,a))}for(t in r)t in o||i.removeAttribute(t)}}function rx(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(bV(n,e),yV(e.text)?Pp(i)&&Pp(r)?i!==r&&function CBt(n,e,t){for(var d,h,p,i=0,r=0,o=e.length-1,a=e[0],s=e[o],l=t.length-1,c=t[0],u=t[l];i<=o&&r<=l;)null==a?a=e[++i]:null==s?s=e[--o]:null==c?c=t[++r]:null==u?u=t[--l]:JS(a,c)?(rx(a,c),a=e[++i],c=t[++r]):JS(s,u)?(rx(s,u),s=e[--o],u=t[--l]):JS(a,u)?(rx(a,u),my(n,a.elm,get(s.elm)),a=e[++i],u=t[--l]):JS(s,c)?(rx(s,c),my(n,s.elm,a.elm),s=e[--o],c=t[++r]):(yV(d)&&(d=SBt(e,i,o)),yV(h=d[c.key])||(p=e[h]).tag!==c.tag?my(n,tC(c),a.elm):(rx(p,c),e[h]=void 0,my(n,p.elm,a.elm)),c=t[++r]);(i<=o||r<=l)&&(i>o?_et(n,null==t[l+1]?null:t[l+1].elm,t,r,l):zI(n,e,i,o))}(t,i,r):Pp(r)?(Pp(n.text)&&_V(t,""),_et(t,null,r,0,r.length-1)):Pp(i)?zI(t,i,0,i.length-1):Pp(n.text)&&_V(t,""):n.text!==e.text&&(Pp(i)&&zI(t,i,0,i.length-1),_V(t,e.text)))}var EBt=0,TBt=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=i=An({},i),this.root=e,this._id="zr"+EBt++,this._oldVNode=Qtt(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=Ktt("svg");bV(null,this._oldVNode),r.appendChild(o),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function MBt(n,e){if(JS(n,e))rx(n,e);else{var t=n.elm,i=met(t);tC(e),null!==i&&(my(i,e.elm,get(t)),zI(i,[n],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return cet(e,mV(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=mV(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[],s=this._bgVNode=function DBt(n,e,t,i){var r;if(t&&"none"!==t)if(r=hu("rect","bg",{width:n,height:e,x:"0",y:"0",id:"0"}),M$(t))uet({fill:t},r.attrs,"fill",i);else if(GF(t))det({style:{fill:t},dirty:bc,getBoundingRect:function(){return{width:n,height:e}}},r.attrs,"fill",i);else{var o=rS(t),s=o.opacity;r.attrs.fill=o.color,s<1&&(r.attrs["fill-opacity"]=s)}return r}(i,r,this._backgroundColor,o);s&&a.push(s);var l=e.compress?null:this._mainVNode=hu("g","main",{},[]);this._paintList(t,o,l?l.children:a),l&&a.push(l);var c=Nn(Io(o.defs),function(h){return o.defs[h]});if(c.length&&a.push(hu("defs","defs",{},c)),e.animation){var u=function lBt(n,e,t){var i=(t=t||{}).newline?"\n":"",r=" {"+i,o=i+"}",a=Nn(Io(n),function(l){return l+r+Nn(Io(n[l]),function(c){return c+":"+n[l][c]+";"}).join(i)+o}).join(i),s=Nn(Io(e),function(l){return"@keyframes "+l+r+Nn(Io(e[l]),function(c){return c+r+Nn(Io(e[l][c]),function(u){var d=e[l][c][u];return"d"===u&&(d='path("'+d+'")'),u+":"+d+";"}).join(i)+o}).join(i)+o}).join(i);return a||s?["<![CDATA[",a,s,"]]>"].join(i):""}(o.cssNodes,o.cssAnims,{newline:!0});if(u){var d=hu("style","stl",{},[],u);a.push(d)}}return Qtt(i,r,a,e.useViewBox)},n.prototype.renderToString=function(e){return pV(this.renderToVNode({animation:Xr((e=e||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Xr(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var s,l,r=e.length,o=[],a=0,c=0,u=0;u<r;u++){var d=e[u];if(!d.invisible){var h=d.__clipPaths,p=h&&h.length||0,g=l&&l.length||0,y=void 0;for(y=Math.max(p-1,g-1);y>=0&&(!h||!l||h[y]!==l[y]);y--);for(var b=g-1;b>y;b--)s=o[--a-1];for(var w=y+1;w<p;w++){var C={};bBt(h[w],C,t);var E=hu("g","clip-g-"+c++,C,[]);(s?s.children:i).push(E),o[a++]=E,s=E}l=h;var k=cet(d,t);k&&(s?s.children:i).push(k)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,o=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),r&&o&&(o.style.display="none",e=ex(r,0,i),t=ex(r,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var a=o.style;a.width=e+"px",a.height=t+"px"}if(GF(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=xkt(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();const ABt=TBt;function eC(n){return null==n?0:n.length||1}function bet(n){return n}var PBt=function(){function n(e,t,i,r,o,a){this._old=e,this._new=t,this._oldKeyGetter=i||bet,this._newKeyGetter=r||bet,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=r[a],l=i[s],c=eC(l);if(c>1){var u=l.shift();1===l.length&&(i[s]=l[0]),this._update&&this._update(u,a)}else 1===c?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var t=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=i[l],u=r[l],d=eC(c),h=eC(u);if(d>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(1===d&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(1===d&&1===h)this._update&&this._update(u,c),r[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],a=eC(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[r](e[a],a);if(o||(i[a]=s),t){var l=t[s],c=eC(l);0===c?(t[s]=a,o&&i.push(s)):1===c?t[s]=[l,a]:l.push(a)}}},n}();const Bm=PBt;var kBt=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function xV(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function UI(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const GI=function n(e){this.otherDims={},null!=e&&An(this,e)};var NBt=oa(),FBt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xet=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Met(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Xr(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=pQ(this.source),i=!Eet(e),r="",o=[],a=0,s=0;a<e;a++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=t?d.name:null,c=d.type,u=d.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=t?h.name:null,c=h.type)}o.push({property:l,type:c,ordinalMeta:u}),t&&null!=l&&(!d||!d.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=FBt[c]||"f",u&&(r+=u.uid),r+="$"}var p=this.source;return{dimensions:o,hash:[p.seriesLayoutBy,p.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function wet(n){return n instanceof xet}function Cet(n){for(var e=Wi(),t=0;t<(n||[]).length;t++){var i=n[t],r=or(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,t)}return e}function Met(n){var e=NBt(n);return e.dimNameMap||(e.dimNameMap=Cet(n.dimensionsDefine))}function Eet(n){return n>30}var Det,HI,iC,rC,wV,jI,SV,nC=or,ev=Nn,BBt=typeof Int32Array>"u"?Array:Int32Array,zBt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],UBt=["_approximateExtent"],GBt=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;wet(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<i.length;u++){var d=i[u],h=si(d)?new GI({name:d}):d instanceof GI?d:new GI(d),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};a.push(p),o[p]=h,null!=c[p]&&(l=!0),h.createInvertedIndices&&(s[p]=[]),0===g.itemName&&(this._nameDimIdx=u),0===g.itemId&&(this._idDimIdx=u),r&&(h.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=Wi();Xt(a,function(b){y.set(o[b].storeDimIndex,b)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(ua(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var o,r=this;if(e instanceof x3&&(o=e),!o){var a=this.dimensions,s=h3(e)||ad(e)?new vQ(e,a.length):e;o=new x3;var l=ev(a,function(c){return{type:r._dimInfos[c].type,property:c}});o.initData(s,l,i)}this._store=o,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function RBt(n,e){var t={},i=t.encode={},r=Wi(),o=[],a=[],s={};Xt(n.dimensions,function(h){var p=n.getDimensionInfo(h),g=p.coordDim;if(g){var y=p.coordDimIndex;xV(i,g)[y]=h,p.isExtraCoord||(r.set(g,1),function LBt(n){return!("ordinal"===n||"time"===n)}(p.type)&&(o[0]=h),xV(s,g)[y]=n.getDimensionIndex(p.name)),p.defaultTooltip&&a.push(h)}UK.each(function(b,w){var C=xV(i,w),E=p.otherDims[w];null!=E&&!1!==E&&(C[E]=p.name)})});var l=[],c={};r.each(function(h,p){var g=i[p];c[p]=g[0],l=l.concat(g)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Nn(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var d=i.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,t.userOutput=new kBt(s,e),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<o;s++)this._nameList[s]=t[s-r],a&&SV(this,s)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Nm&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList;if(r.getSource().sourceFormat===$h&&!r.pure)for(var c=[],u=e;u<t;u++){var d=r.getItem(u,c);if(!this.hasItemOption&&eRt(d)&&(this.hasItemOption=!0),d){var h=d.name;null==o[u]&&null!=h&&(o[u]=tu(h,null));var p=d.id;null==a[u]&&null!=p&&(a[u]=tu(p,null))}}if(this._shouldMakeIdFromName())for(u=e;u<t;u++)SV(this,u);Det(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){nC(e)?An(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=iC(this,this._nameDimIdx,t)),null==i&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return HI(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._dimInfos[e];if(r)return this._store.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._dimInfos[e];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return Ln(e)?r.getValues(ev(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=(e&&this._invertedIndicesMap[e])[t];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=i||this,o=ev(rC(e),this._getStoreDimIndex,this);this._store.each(o,r?vi(t,r):t)},n.prototype.filterSelf=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=i||this,o=ev(rC(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?vi(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={},r=Io(e),o=[];return Xt(r,function(a){var s=t._getStoreDimIndex(a);i[s]=e[a],o.push(s)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i=i||this),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,a=ev(rC(e),this._getStoreDimIndex,this),s=jI(this);return s._store=this._store.map(a,o?vi(t,o):t),s},n.prototype.modify=function(e,t,i,r){var a=i||r||this,s=ev(rC(e),this._getStoreDimIndex,this);this._store.modify(s,a?vi(t,a):t)},n.prototype.downSample=function(e,t,i,r){var o=jI(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=jI(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new sl(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Bm(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return HI(e,i)},function(i){return HI(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},nC(e)?An(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e];return(i&&i[t])??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return null==o&&(Ln(o=this.getVisual(t))?o=o.slice():nC(o)&&(o=An({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,nC(t)?An(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){nC(e)?An(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?An(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){kB(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Xt(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:ev(this.dimensions,this._getDimInfo,this),this.hostModel)),wV(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];Ki(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(hF(arguments)))})},n.internalField=(Det=function(e){var t=e._invertedIndicesMap;Xt(t,function(i,r){var o=e._dimInfos[r],a=o.ordinalMeta,s=e._store;if(a){i=t[r]=new BBt(a.categories.length);for(var l=0;l<i.length;l++)i[l]=-1;for(l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},iC=function(e,t,i){return tu(e._getCategory(t,i),null)},HI=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=iC(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},rC=function(e){return Ln(e)||(e=null!=e?[e]:[]),e},jI=function(e){var t=new n(e._schema?e._schema:ev(e.dimensions,e._getDimInfo,e),e.hostModel);return wV(t,e),t},wV=function(e,t){Xt(zBt.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,Xt(UBt,function(i){e[i]=ur(t[i])}),e._calculationInfo=An({},t._calculationInfo)},void(SV=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=i[t],l=r[t];if(null==s&&null!=o&&(i[t]=s=iC(e,o,t)),null==l&&null!=a&&(r[t]=l=iC(e,a,t)),null==l&&null!=s){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[t]=l}})),n}();const Ad=GBt;function ox(n,e){h3(n)||(n=p3(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=Wi(),o=[],a=function jBt(n,e,t,i){var r=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return Xt(e,function(o){var a;or(o)&&(a=o.dimsDef)&&(r=Math.max(r,a.length))}),r}(n,t,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Eet(a),l=i===n.dimensionsDefine,c=l?Met(n):Cet(i),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,a));for(var d=Wi(u),h=new IQ(a),p=0;p<h.length;p++)h[p]=-1;function g(lt){var Lt=h[lt];if(Lt<0){var kt=i[lt],Jt=or(kt)?kt:{name:kt},ne=new GI,ce=Jt.name;return null!=ce&&null!=c.get(ce)&&(ne.name=ne.displayName=ce),null!=Jt.type&&(ne.type=Jt.type),null!=Jt.displayName&&(ne.displayName=Jt.displayName),h[lt]=o.length,ne.storeDimIndex=lt,o.push(ne),ne}return o[Lt]}if(!s)for(p=0;p<a;p++)g(p);d.each(function(lt,Lt){var kt=Ps(lt).slice();if(1===kt.length&&!si(kt[0])&&kt[0]<0)d.set(Lt,!1);else{var Jt=d.set(Lt,[]);Xt(kt,function(ne,ce){var Ee=si(ne)?c.get(ne):ne;null!=Ee&&Ee<a&&(Jt[ce]=Ee,b(g(Ee),Lt,ce))})}});var y=0;function b(lt,Lt,kt){null!=UK.get(Lt)?lt.otherDims[Lt]=kt:(lt.coordDim=Lt,lt.coordDimIndex=kt,r.set(Lt,!0))}Xt(t,function(lt){var Lt,kt,Jt,ne;if(si(lt))Lt=lt,ne={};else{Lt=(ne=lt).name;var ce=ne.ordinalMeta;ne.ordinalMeta=null,(ne=An({},ne)).ordinalMeta=ce,kt=ne.dimsDef,Jt=ne.otherDims,ne.name=ne.coordDim=ne.coordDimIndex=ne.dimsDef=ne.otherDims=null}var Ee=d.get(Lt);if(!1!==Ee){if(!(Ee=Ps(Ee)).length)for(var be=0;be<(kt&&kt.length||1);be++){for(;y<a&&null!=g(y).coordDim;)y++;y<a&&Ee.push(y++)}Xt(Ee,function(Be,Ne){var Qe=g(Be);if(l&&null!=ne.type&&(Qe.type=ne.type),b(er(Qe,ne),Lt,Ne),null==Qe.name&&kt){var In=kt[Ne];!or(In)&&(In={name:In}),Qe.name=Qe.displayName=In.name,Qe.defaultTooltip=In.defaultTooltip}Jt&&er(Qe.otherDims,Jt)})}});var w=e.generateCoord,C=e.generateCoordCount,E=null!=C;C=w?C||1:0;var k=w||"value";function j(lt){null==lt.name&&(lt.name=lt.coordDim)}if(s)Xt(o,function(lt){j(lt)}),o.sort(function(lt,Lt){return lt.storeDimIndex-Lt.storeDimIndex});else for(var H=0;H<a;H++){var it=g(H);null==it.coordDim&&(it.coordDim=WBt(k,r,E),it.coordDimIndex=0,(!w||C<=0)&&(it.isExtraCoord=!0),C--),j(it),null==it.type&&(WK(n,H)===ju.Must||it.isExtraCoord&&(null!=it.otherDims.itemName||null!=it.otherDims.seriesName))&&(it.type="ordinal")}return function HBt(n){for(var e=Wi(),t=0;t<n.length;t++){var i=n[t],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}(o),new xet({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function WBt(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var ZBt=function n(e){this.coordSysDims=[],this.axisMap=Wi(),this.categoryAxisMap=Wi(),this.coordSysName=e},XBt={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",Fc).models[0],o=n.getReferringComponents("yAxis",Fc).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),ax(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),ax(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",Fc).models[0];e.coordSysDims=["single"],t.set("single",r),ax(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",Fc).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",a),ax(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),ax(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();Xt(o.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=a[l];t.set(u,c),ax(c)&&(i.set(u,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=l))})}};function ax(n){return"category"===n.get("type")}function nv(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function Aet(n,e){return nv(n,e)?n.getCalculationInfo("stackResultDimension"):e}const Vm=function JBt(n,e,t){t=t||{};var r,i=e.getSourceManager(),o=!1;n?(o=!0,r=p3(n)):o=(r=i.getSource()).sourceFormat===$h;var a=function YBt(n){var e=n.get("coordinateSystem"),t=new ZBt(e),i=XBt[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}(e),s=function KBt(n,e){var r,t=n.get("coordinateSystem"),i=AS.get(t);return e&&e.coordSysDims&&(r=Nn(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=UI(l)}return a})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}(e,a),l=t.useEncodeDefaulter,c=Ki(l)?l:l?Lr(jK,s,e):null,d=ox(r,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o}),h=function QBt(n,e,t){var i,r;return t&&Xt(n,function(o,a){var l=t.categoryAxisMap.get(o.coordDim);l&&(null==i&&(i=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(r=!0)}),!r&&null!=i&&(n[i].otherDims.itemName=0),i}(d.dimensions,t.createInvertedIndices,a),p=o?null:i.getSharedDataStore(d),g=function $Bt(n,e,t){var o,a,s,i=(t=t||{}).byIndex,r=t.stackedCoordDimension;!function qBt(n){return!wet(n.schema)}(e)?(o=(a=e.schema).dimensions,s=e.store):o=e;var c,u,d,h,l=!(!n||!n.get("stack"));if(Xt(o,function(C,E){si(C)&&(o[E]=C={name:C}),l&&!C.isExtraCoord&&(!i&&!c&&C.ordinalMeta&&(c=C),!u&&"ordinal"!==C.type&&"time"!==C.type&&(!r||r===C.coordDim)&&(u=C))}),u&&!i&&!c&&(i=!0),u){d="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var p=u.coordDim,g=u.type,y=0;Xt(o,function(C){C.coordDim===p&&y++});var b={name:d,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},w={name:h,coordDim:h,coordDimIndex:y+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(b.storeDimIndex=s.ensureCalculationDimension(h,g),w.storeDimIndex=s.ensureCalculationDimension(d,g)),a.appendCalculationDimension(b),a.appendCalculationDimension(w)):(o.push(b),o.push(w))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:h,stackResultDimension:d}}(e,{schema:d,store:p}),y=new Ad(d,e);y.setCalculationInfo(g);var b=null!=h&&function t3t(n){if(n.sourceFormat===$h){var e=function e3t(n){for(var e=0;e<n.length&&null==n[e];)e++;return n[e]}(n.data||[]);return!Ln(Ib(e))}}(r)?function(w,C,E,k){return k===h?E:this.defaultDimValueGetter(w,C,E,k)}:null;return y.hasItemOption=!1,y.initData(o?r:p,null,b),y};var n3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return vn(e,n),e.prototype.getInitialData=function(t){return Vm(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new br,r=Vc("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*t.itemHeight,c=Vc(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);return i.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?a:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Pl);const i3t=n3t;function sx(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var r=Wb(n,e,t[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<t.length;a++)o.push(Wb(n,e,t[a]));return o.join(" ")}}function Iet(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Ln(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var r3t=function(n){function e(t,i,r,o){var a=n.call(this)||this;return a.updateData(t,i,r,o),a}return vn(e,n),e.prototype._createSymbol=function(t,i,r,o,a){this.removeAll();var s=Vc(t,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=o3t,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Lm(this.childAt(0))},e.prototype.downplay=function(){Om(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,i),c=a!==this._symbolType,u=o&&o.disableAnimation;if(c){var d=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,t,i,l,d)}else{(h=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};u?h.attr(p):va(h,p,s,i),Lf(h)}if(this._updateCommon(t,i,l,r,o),c){var h=this.childAt(0);u||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}},h.scaleX=h.scaleY=0,h.style.opacity=0,Cl(h,p,s,i))}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,o,a){var c,u,d,h,p,g,y,b,w,s=this.childAt(0),l=t.hostModel;if(o&&(c=o.emphasisItemStyle,u=o.blurItemStyle,d=o.selectItemStyle,h=o.focus,p=o.blurScope,y=o.labelStatesModels,b=o.hoverScale,w=o.cursorStyle,g=o.emphasisDisabled),!o||t.hasItemOption){var C=o&&o.itemModel?o.itemModel:t.getItemModel(i),E=C.getModel("emphasis");c=E.getModel("itemStyle").getItemStyle(),d=C.getModel(["select","itemStyle"]).getItemStyle(),u=C.getModel(["blur","itemStyle"]).getItemStyle(),h=E.get("focus"),p=E.get("blurScope"),g=E.get("disabled"),y=uu(C),b=E.getShallow("scale"),w=C.getShallow("cursor")}var k=t.getItemVisual(i,"symbolRotate");s.attr("rotation",(k||0)*Math.PI/180||0);var j=tx(t.getItemVisual(i,"symbolOffset"),r);j&&(s.x=j[0],s.y=j[1]),w&&s.attr("cursor",w);var H=t.getItemVisual(i,"style"),it=H.fill;if(s instanceof Uu){var yt=s.style;s.useStyle(An({image:yt.image,x:yt.x,y:yt.y,width:yt.width,height:yt.height},H))}else s.useStyle(s.__isEmptyBrush?An({},H):H),s.style.decal=null,s.setColor(it,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var lt=t.getItemVisual(i,"liftZ"),Lt=this._z2;null!=lt?null==Lt&&(this._z2=s.z2,s.z2+=lt):null!=Lt&&(s.z2=Lt,this._z2=null);var kt=a&&a.useNameLabel;Hu(s,y,{labelFetcher:l,labelDataIndex:i,defaultText:function Jt(Ee){return kt?t.getName(Ee):sx(t,Ee)},inheritColor:it,defaultOpacity:H.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var ne=s.ensureState("emphasis");ne.style=c,s.ensureState("select").style=d,s.ensureState("blur").style=u;var ce=null==b||!0===b?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;ne.scaleX=this._sizeX*ce,ne.scaleY=this._sizeY*ce,this.setSymbolScale(1),$l(this,h,p,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var o=this.childAt(0),a=Ar(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&Xg(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Xg(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:t,removeOpt:s})},e.getSymbolSize=function(t,i){return WS(t.getItemVisual(i,"symbolSize"))},e}(br);function o3t(n,e){this.parent.drift(n,e)}const oC=r3t;function CV(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==n.getItemVisual(t,"symbol")}function Pet(n){return null!=n&&!or(n)&&(n={isIgnore:n}),n||{}}function ket(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:uu(e),cursorStyle:e.get("cursor")}}var a3t=function(){function n(e){this.group=new br,this._SymbolCtor=e||oC}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Pet(t);var i=this.group,r=e.hostModel,o=this._data,a=this._SymbolCtor,s=t.disableAnimation,l=ket(e),c={disableAnimation:s},u=t.getSymbolPoint||function(d){return e.getItemLayout(d)};o||i.removeAll(),e.diff(o).add(function(d){var h=u(d);if(CV(e,h,d,t)){var p=new a(e,d,l,c);p.setPosition(h),e.setItemGraphicEl(d,p),i.add(p)}}).update(function(d,h){var p=o.getItemGraphicEl(h),g=u(d);if(CV(e,g,d,t)){var y=e.getItemVisual(d,"symbol")||"circle",b=p&&p.getSymbolType&&p.getSymbolType();if(!p||b&&b!==y)i.remove(p),(p=new a(e,d,l,c)).setPosition(g);else{p.updateData(e,d,l,c);var w={x:g[0],y:g[1]};s?p.attr(w):va(p,w,r)}i.add(p),e.setItemGraphicEl(d,p)}else i.remove(p)}).remove(function(d){var h=o.getItemGraphicEl(d);h&&h.fadeOut(function(){i.remove(h)},r)}).execute(),this._getSymbolPoint=u,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ket(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=Pet(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(CV(t,a,o,i)){var s=new this._SymbolCtor(t,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),t.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Jg(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();const aC=a3t;function Ret(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=function s3t(n,e){var t=0,i=n.scale.getExtent();return"start"===e?t=i[0]:"end"===e?t=i[1]:ua(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}(r,t),a=i.dim,s=r.dim,l=e.mapDimension(s),c=e.mapDimension(a),u="x"===s||"radius"===s?1:0,d=Nn(n.dimensions,function(g){return e.mapDimension(g)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return nv(e,d[0])&&(h=!0,d[0]=p),nv(e,d[1])&&(h=!0,d[1]=p),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Let(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=t.get(n.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var Oet=typeof Float32Array<"u",l3t=Oet?Float32Array:Array;function kp(n){return Ln(n)?Oet?new Float32Array(n):n:new l3t(n)}var iv=Math.min,rv=Math.max;function gy(n,e){return isNaN(n)||isNaN(e)}function MV(n,e,t,i,r,o,a,s,l){for(var c,u,d,h,p,g,y=t,b=0;b<i;b++){var w=e[2*y],C=e[2*y+1];if(y>=r||y<0)break;if(gy(w,C)){if(l){y+=o;continue}break}if(y===t)n[o>0?"moveTo":"lineTo"](w,C),d=w,h=C;else{var E=w-c,k=C-u;if(E*E+k*k<.5){y+=o;continue}if(a>0){for(var j=y+o,H=e[2*j],it=e[2*j+1];H===w&&it===C&&b<i;)b++,H=e[2*(j+=o)],it=e[2*j+1],E=(w=e[2*(y+=o)])-c,k=(C=e[2*y+1])-u;var yt=b+1;if(l)for(;gy(H,it)&&yt<i;)yt++,H=e[2*(j+=o)],it=e[2*j+1];var lt=.5,Lt=0,kt=0,Jt=void 0,ne=void 0;if(yt>=i||gy(H,it))p=w,g=C;else{Lt=H-c,kt=it-u;var ce=w-c,Ee=H-w,be=C-u,Be=it-C,Ne=void 0,Qe=void 0;if("x"===s){var In=Lt>0?1:-1;p=w-In*(Ne=Math.abs(ce))*a,g=C,Jt=w+In*(Qe=Math.abs(Ee))*a,ne=C}else if("y"===s){var Fn=kt>0?1:-1;p=w,g=C-Fn*(Ne=Math.abs(be))*a,Jt=w,ne=C+Fn*(Qe=Math.abs(Be))*a}else Ne=Math.sqrt(ce*ce+be*be),p=w-Lt*a*(1-(lt=(Qe=Math.sqrt(Ee*Ee+Be*Be))/(Qe+Ne))),g=C-kt*a*(1-lt),ne=C+kt*a*lt,Jt=iv(Jt=w+Lt*a*lt,rv(H,w)),ne=iv(ne,rv(it,C)),Jt=rv(Jt,iv(H,w)),g=C-(kt=(ne=rv(ne,iv(it,C)))-C)*Ne/Qe,p=iv(p=w-(Lt=Jt-w)*Ne/Qe,rv(c,w)),g=iv(g,rv(u,C)),Jt=w+(Lt=w-(p=rv(p,iv(c,w))))*Qe/Ne,ne=C+(kt=C-(g=rv(g,iv(u,C))))*Qe/Ne}n.bezierCurveTo(d,h,p,g,w,C),d=Jt,h=ne}else n.lineTo(w,C)}c=w,u=C,y+=o}return b}var Net=function n(){this.smooth=0,this.smoothConstraint=!0},d3t=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return vn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Net},e.prototype.buildPath=function(t,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&gy(r[2*a-2],r[2*a-1]);a--);for(;o<a&&gy(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=MV(t,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,l,o=this.path.data,a=wp.CMD,c="x"===i,u=[],d=0;d<o.length;){var p=void 0,g=void 0,y=void 0,b=void 0,w=void 0,C=void 0,E=void 0;switch(o[d++]){case a.M:s=o[d++],l=o[d++];break;case a.L:if(p=o[d++],g=o[d++],(E=c?(t-s)/(p-s):(t-l)/(g-l))<=1&&E>=0){var k=c?(g-l)*E+l:(p-s)*E+s;return c?[t,k]:[k,t]}s=p,l=g;break;case a.C:p=o[d++],g=o[d++],y=o[d++],b=o[d++],w=o[d++],C=o[d++];var j=c?uA(s,p,y,w,t,u):uA(l,g,b,C,t,u);if(j>0)for(var H=0;H<j;H++){var it=u[H];if(it<=1&&it>=0)return k=c?cu(l,g,b,C,it):cu(s,p,y,w,it),c?[t,k]:[k,t]}s=w,l=C}}},e}(vo),h3t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e}(Net),Fet=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new h3t},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&gy(r[2*s-2],r[2*s-1]);s--);for(;a<s&&gy(r[2*a],r[2*a+1]);a++);}for(;a<s;){var c=MV(t,r,a,s,s,1,i.smooth,l,i.connectNulls);MV(t,o,a+c-1,c,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=c+1,t.closePath()}},e}(vo);function Bet(n,e,t,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=t.get(["lineStyle","width"])||2;a-=u/2,s-=u/2,l+=u,c+=u,a=Math.floor(a),l=Math.round(l);var d=new aa({shape:{x:a,y:s,width:l,height:c}});if(e){var h=n.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=c),d.shape.height=0);var y=Ki(r)?function(b){r(b,d)}:null;Cl(d,{shape:{width:l,height:c,x:a,y:s}},t,null,i,y)}return d}function Vet(n,e,t){var i=n.getArea(),r=uc(i.r0,1),o=uc(i.r,1),a=new Xd({shape:{cx:uc(n.cx,1),cy:uc(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Cl(a,{shape:{endAngle:i.endAngle,r:o}},t)),a}function WI(n,e,t,i,r){return n?"polar"===n.type?Vet(n,e,t):"cartesian2d"===n.type?Bet(n,e,t,i,r):null:null}function vy(n,e){return n.type===e}function zet(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Uet(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[i,r]]}function Get(n,e){var t=Uet(n),i=t[0],r=t[1],o=Uet(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Het(n){return ua(n)?n:n?.5:0}function ov(n,e,t,i){var r=e.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],s=0,l=[],c=[],u=[],d=[];if(i){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&d.push(n[s],n[s+1]);n=d}for(s=0;s<n.length-2;s+=2)switch(u[0]=n[s+2],u[1]=n[s+3],c[0]=n[s],c[1]=n[s+1],a.push(c[0],c[1]),t){case"end":l[o]=u[o],l[1-o]=c[1-o],a.push(l[0],l[1]);break;case"middle":var p=[];l[o]=p[o]=(c[o]+u[o])/2,l[1-o]=c[1-o],p[1-o]=u[1-o],a.push(l[0],l[1]),a.push(p[0],p[1]);break;default:l[o]=c[o],l[1-o]=u[1-o],a.push(l[0],l[1])}return a.push(n[s++],n[s++]),a}function _3t(n,e){return isNaN(n)||isNaN(e)}function jet(n,e){return[n[2*e],n[2*e+1]]}function Wet(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Ed.length;e++)if(n.get([Ed[e],"endLabel","show"]))return!0;return!1}function EV(n,e,t,i){if(vy(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=Wet(i)?function(p,g){n._endLabelOnDuring(p,g,a,s,o,r,e)}:null,c=e.getBaseAxis().isHorizontal(),u=Bet(e,t,i,function(){var p=n._endLabel;p&&t&&null!=s.originalX&&p.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var d=u.shape,h=Math.max(d.width,d.height);c?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return l&&l(1,u),u}return Vet(e,t,i)}var w3t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.init=function(){var t=new br,i=new aC;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem,s=this.group,l=t.getData(),c=t.getModel("lineStyle"),u=t.getModel("areaStyle"),d=l.getLayout("points")||[],h="polar"===a.type,p=this._coordSys,g=this._symbolDraw,y=this._polyline,b=this._polygon,w=this._lineGroup,C=!i.ssr&&t.isAnimationEnabled(),E=!u.isEmpty(),k=u.get("origin"),j=Ret(a,l,k),H=E&&function f3t(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),r=kp(2*i),o=0;o<i;o++){var a=Let(t,n,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(a,l,j),it=t.get("showSymbol"),yt=t.get("connectNulls"),lt=it&&!h&&function g3t(n,e,t){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function v3t(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*oC.getSymbolSize(e,a)[n.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return Xt(o.getViewLabels(),function(l){var c=o.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(e.get(a,l))}}}}(t,l,a),Lt=this._data;Lt&&Lt.eachItemGraphicEl(function(to,Ui){to.__temp&&(s.remove(to),Lt.setItemGraphicEl(Ui,null))}),it||g.remove(),s.add(w);var Jt,kt=!h&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&(null!=(Jt=a.getArea()).width?(Jt.x-=.1,Jt.y-=.1,Jt.width+=.2,Jt.height+=.2):Jt.r0&&(Jt.r0-=.5,Jt.r+=.5)),this._clipShapeForSymbol=Jt;var ne=function m3t(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===e.type){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=e.getAxis(r),c=Nn(o.stops,function(E){return{coord:l.toGlobalCoord(l.dataToCoord(E.value)),color:E.color}}),u=c.length,d=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var h=function p3t(n,e){var r,o,t=[],i=n.length;function a(u,d,h){var p=u.coord,y=function pkt(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=Wd(e[r]),s=Wd(e[o]),l=i-r,c=pp([Pf(Gg(a[0],s[0],l)),Pf(Gg(a[1],s[1],l)),Pf(Gg(a[2],s[2],l)),eS(Gg(a[3],s[3],l))],"rgba");return t?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}((h-p)/(d.coord-p),[u.color,d.color]);return{coord:h,color:y}}for(var s=0;s<i;s++){var l=n[s],c=l.coord;if(c<0)r=l;else{if(c>e){o?t.push(a(o,l,e)):r&&t.push(a(r,l,0),a(r,l,e));break}r&&(t.push(a(r,l,0)),r=null),t.push(l),o=l}}return t}(c,"x"===r?t.getWidth():t.getHeight()),p=h.length;if(!p&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var y=h[0].coord-10,b=h[p-1].coord+10,w=b-y;if(w<.001)return"transparent";Xt(h,function(E){E.offset=(E.coord-y)/w}),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var C=new Tp(0,0,0,0,h,!0);return C[r]=y,C[r+"2"]=b,C}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(y&&p.type===a.type&&kt===this._step){E&&!b?b=this._newPolygon(d,H):b&&!E&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,q_(ne));var ce=w.getClipPath();ce?Cl(ce,{shape:EV(this,a,!1,t).shape},t):w.setClipPath(EV(this,a,!0,t)),it&&g.updateData(l,{isIgnore:lt,clipShape:Jt,disableAnimation:!0,getSymbolPoint:function(to){return[d[2*to],d[2*to+1]]}}),(!zet(this._stackedOnPoints,H)||!zet(this._points,d))&&(C?this._doUpdateAnimation(l,H,a,r,kt,k,yt):(kt&&(d=ov(d,a,kt,yt),H&&(H=ov(H,a,kt,yt))),y.setShape({points:d}),b&&b.setShape({points:d,stackedOnPoints:H})))}else it&&g.updateData(l,{isIgnore:lt,clipShape:Jt,disableAnimation:!0,getSymbolPoint:function(to){return[d[2*to],d[2*to+1]]}}),C&&this._initSymbolLabelAnimation(l,a,Jt),kt&&(d=ov(d,a,kt,yt),H&&(H=ov(H,a,kt,yt))),y=this._newPolyline(d),E?b=this._newPolygon(d,H):b&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,q_(ne)),w.setClipPath(EV(this,a,!0,t));var be=t.getModel("emphasis"),Be=be.get("focus"),Ne=be.get("blurScope"),Qe=be.get("disabled");y.useStyle(er(c.getLineStyle(),{fill:"none",stroke:ne,lineJoin:"bevel"})),Gu(y,t,"lineStyle"),y.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(y.getState("emphasis").style.lineWidth=+y.style.lineWidth+1),Ar(y).seriesIndex=t.seriesIndex,$l(y,Be,Ne,Qe);var Fn=Het(t.get("smooth")),Kn=t.get("smoothMonotone");if(y.setShape({smooth:Fn,smoothMonotone:Kn,connectNulls:yt}),b){var Qn=l.getCalculationInfo("stackedOnSeries"),zn=0;b.useStyle(er(u.getAreaStyle(),{fill:ne,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Qn&&(zn=Het(Qn.get("smooth"))),b.setShape({smooth:Fn,stackedOnSmooth:zn,smoothMonotone:Kn,connectNulls:yt}),Gu(b,t,"areaStyle"),Ar(b).seriesIndex=t.seriesIndex,$l(b,Be,Ne,Qe)}var zi=function(to){o._changePolyState(to)};l.eachItemGraphicEl(function(to){to&&(to.onHoverStateChange=zi)}),this._polyline.onHoverStateChange=zi,this._data=l,this._coordSys=a,this._stackedOnPoints=H,this._points=d,this._step=kt,this._valueOrigin=k,t.get("triggerLineEvent")&&(this.packEventData(t,y),b&&this.packEventData(t,b))},e.prototype.packEventData=function(t,i){Ar(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var a=t.getData(),s=R_(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(s);if(!c){var u=l[2*s],d=l[2*s+1];if(isNaN(u)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,d))return;var h=t.get("zlevel")||0,p=t.get("z")||0;(c=new oC(a,s)).x=u,c.y=d,c.setZ(h,p);var g=c.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=p,g.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else ll.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var a=t.getData(),s=R_(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else ll.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;VA(this._polyline,t),i&&VA(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new d3t({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Fet({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;"cartesian2d"===i.type?(o=s.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===s.dim,a=!0);var c=t.hostModel,u=c.get("animationDuration");Ki(u)&&(u=u(null));var d=c.get("animationDelay")||0,h=Ki(d)?d(null):d;t.eachItemGraphicEl(function(p,g){var y=p;if(y){var w=void 0,C=void 0,E=void 0;if(r)if(a){var k=r,j=i.pointToCoord([p.x,p.y]);o?(w=k.startAngle,C=k.endAngle,E=-j[1]/180*Math.PI):(w=k.r0,C=k.r,E=j[0])}else o?(w=r.x,C=r.x+r.width,E=p.x):(w=r.y+r.height,C=r.y,E=p.y);var it=C===w?0:(E-w)/(C-w);l&&(it=1-it);var yt=Ki(d)?d(g):u*it+h,lt=y.getSymbolPath(),Lt=lt.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:yt}),Lt&&Lt.animateFrom({style:{opacity:0}},{duration:300,delay:yt}),lt.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var o=t.getModel("endLabel");if(Wet(t)){var a=t.getData(),s=this._polyline,l=a.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new da({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function y3t(n){for(var e=n.length/2;e>0&&_3t(n[2*e-2],n[2*e-1]);e--);return e-1}(l);u>=0&&(Hu(s,uu(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:u,defaultText:function(d,h,p){return null!=p?Iet(a,p):sx(a,d)},enableTextSetter:!0},function x3t(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),r=t.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||a}}}(o,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,a,s,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&null==o.originalX&&(o.originalX=c.x,o.originalY=c.y);var d=r.getLayout("points"),h=r.hostModel,p=h.get("connectNulls"),g=s.get("precision"),y=s.get("distance")||0,b=l.getBaseAxis(),w=b.isHorizontal(),C=b.inverse,E=i.shape,k=C?w?E.x:E.y+E.height:w?E.x+E.width:E.y,j=(w?y:0)*(C?-1:1),H=(w?0:-y)*(C?-1:1),it=w?"x":"y",yt=function b3t(n,e,t){for(var o,a,i=n.length/2,r="x"===t?0:1,s=0,l=-1,c=0;c<i;c++)if(a=n[2*c+r],!isNaN(a)&&!isNaN(n[2*c+1-r])){if(0===c){o=a;continue}if(o<=e&&a>=e||o>=e&&a<=e){l=c;break}s=c,o=a}return{range:[s,l],t:(e-o)/(a-o)}}(d,k,it),lt=yt.range,Lt=lt[1]-lt[0],kt=void 0;if(Lt>=1){if(Lt>1&&!p){var Jt=jet(d,lt[0]);c.attr({x:Jt[0]+j,y:Jt[1]+H}),a&&(kt=h.getRawValue(lt[0]))}else{(Jt=u.getPointOn(k,it))&&c.attr({x:Jt[0]+j,y:Jt[1]+H});var ne=h.getRawValue(lt[0]),ce=h.getRawValue(lt[1]);a&&(kt=dq(r,g,ne,ce,yt.t))}o.lastFrameIndex=lt[0]}else{var Ee=1===t||o.lastFrameIndex>0?lt[0]:0;Jt=jet(d,Ee),a&&(kt=h.getRawValue(Ee)),c.attr({x:Jt[0]+j,y:Jt[1]+H})}a&&Nb(c).setLabelText(kt)}},e.prototype._doUpdateAnimation=function(t,i,r,o,a,s,l){var c=this._polyline,u=this._polygon,d=t.hostModel,h=function u3t(n,e,t,i,r,o,a,s){for(var l=function c3t(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,r){t.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}(n,e),c=[],u=[],d=[],h=[],p=[],g=[],y=[],b=Ret(r,e,a),w=n.getLayout("points")||[],C=e.getLayout("points")||[],E=0;E<l.length;E++){var k=l[E],j=!0,H=void 0,it=void 0;switch(k.cmd){case"=":var yt=w[H=2*k.idx],lt=w[H+1],Lt=C[it=2*k.idx1],kt=C[it+1];(isNaN(yt)||isNaN(lt))&&(yt=Lt,lt=kt),c.push(yt,lt),u.push(Lt,kt),d.push(t[H],t[H+1]),h.push(i[it],i[it+1]),y.push(e.getRawIndex(k.idx1));break;case"+":var Jt=k.idx,ne=b.dataDimsForPoint,ce=r.dataToPoint([e.get(ne[0],Jt),e.get(ne[1],Jt)]);it=2*Jt,c.push(ce[0],ce[1]),u.push(C[it],C[it+1]);var Ee=Let(b,r,e,Jt);d.push(Ee[0],Ee[1]),h.push(i[it],i[it+1]),y.push(e.getRawIndex(Jt));break;case"-":j=!1}j&&(p.push(k),g.push(g.length))}g.sort(function(zi,to){return y[zi]-y[to]});var be=c.length,Be=kp(be),Ne=kp(be),Qe=kp(be),In=kp(be),Fn=[];for(E=0;E<g.length;E++){var Kn=g[E],Qn=2*E,zn=2*Kn;Be[Qn]=c[zn],Be[Qn+1]=c[zn+1],Ne[Qn]=u[zn],Ne[Qn+1]=u[zn+1],Qe[Qn]=d[zn],Qe[Qn+1]=d[zn+1],In[Qn]=h[zn],In[Qn+1]=h[zn+1],Fn[E]=p[Kn]}return{current:Be,next:Ne,stackedOnCurrent:Qe,stackedOnNext:In,status:Fn}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),p=h.current,g=h.stackedOnCurrent,y=h.next,b=h.stackedOnNext;if(a&&(p=ov(h.current,r,a,l),g=ov(h.stackedOnCurrent,r,a,l),y=ov(h.next,r,a,l),b=ov(h.stackedOnNext,r,a,l)),Get(p,y)>3e3||u&&Get(g,b)>3e3)return c.stopAnimation(),c.setShape({points:y}),void(u&&(u.stopAnimation(),u.setShape({points:y,stackedOnPoints:b})));c.shape.__points=h.current,c.shape.points=p;var w={shape:{points:y}};h.current!==p&&(w.shape.__points=h.next),c.stopAnimation(),va(c,w,d),u&&(u.setShape({points:p,stackedOnPoints:g}),u.stopAnimation(),va(u,{shape:{stackedOnPoints:b}},d),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var C=[],E=h.status,k=0;k<E.length;k++)if("="===E[k].cmd){var H=t.getItemGraphicEl(E[k].idx1);H&&C.push({el:H,ptIdx:k})}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var it=c.shape.__points,yt=0;yt<C.length;yt++){var lt=C[yt].el,Lt=2*C[yt].ptIdx;lt.x=it[Lt],lt.y=it[Lt+1],lt.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(ll);const S3t=w3t;function sC(n,e){return{seriesType:n,plan:Yb(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,a=e||t.pipelineContext.large;if(r){var s=Nn(r.dimensions,function(p){return i.mapDimension(p)}).slice(0,2),l=s.length,c=i.getCalculationInfo("stackResultDimension");nv(i,s[0])&&(s[0]=c),nv(i,s[1])&&(s[1]=c);var u=i.getStore(),d=i.getDimensionIndex(s[0]),h=i.getDimensionIndex(s[1]);return l&&{progress:function(p,g){for(var b=a&&kp((p.end-p.start)*l),w=[],C=[],E=p.start,k=0;E<p.end;E++){var j=void 0;if(1===l){var H=u.get(d,E);j=r.dataToPoint(H,null,C)}else w[0]=u.get(d,E),w[1]=u.get(h,E),j=r.dataToPoint(w,null,C);a?(b[k++]=j[0],b[k++]=j[1]):g.setItemLayout(E,j.slice())}a&&g.setLayout("points",b)}}}}}}var C3t={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return 0===t?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},M3t=function(n){return Math.round(n.length/2)};function Zet(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),c=a.getOtherAxis(l),u=l.getExtent(),d=i.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(d||1),p=Math.round(s/h);if(isFinite(p)&&p>1){"lttb"===o&&e.setData(r.lttbDownSample(r.mapDimension(c.dim),1/p));var g=void 0;si(o)?g=C3t[o]:Ki(o)&&(g=o),g&&e.setData(r.downSample(r.mapDimension(c.dim),1/p,g,M3t))}}}}}var TV="__ec_stack_";function DV(n){return n.get("stack")||TV+n.seriesIndex}function AV(n){return n.dim+n.index}function Yet(n,e){var t=[];return e.eachSeriesByType(n,function(i){Qet(i)&&t.push(i)}),t}function Xet(n){var e=function D3t(n){var e={};Xt(n,function(l){var u=l.coordinateSystem.getBaseAxis();if("time"===u.type||"value"===u.type)for(var d=l.getData(),h=u.dim+"_"+u.index,p=d.getDimensionIndex(d.mapDimension(u.dim)),g=d.getStore(),y=0,b=g.count();y<b;++y){var w=g.get(p,y);e[h]?e[h].push(w):e[h]=[w]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(l,c){return l-c});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}t[i]=o}}return t}(n),t=[];return Xt(n,function(i){var s,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)s=o.getBandWidth();else if("value"===o.type||"time"===o.type){var c=e[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=c?u/h*c:u}else{var p=i.getData();s=Math.abs(a[1]-a[0])/p.count()}var g=ni(i.get("barWidth"),s),y=ni(i.get("barMaxWidth"),s),b=ni(i.get("barMinWidth")||(Jet(i)?.5:1),s),w=i.get("barGap"),C=i.get("barCategoryGap");t.push({bandWidth:s,barWidth:g,barMaxWidth:y,barMinWidth:b,barGap:w,barCategoryGap:C,axisKey:AV(o),stackId:DV(i)})}),$et(t)}function $et(n){var e={};Xt(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[o]=s;var c=i.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=i.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=i.barMaxWidth;d&&(l[c].maxWidth=d);var h=i.barMinWidth;h&&(l[c].minWidth=h);var p=i.barGap;null!=p&&(s.gap=p);var g=i.barCategoryGap;null!=g&&(s.categoryGap=g)});var t={};return Xt(e,function(i,r){t[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(null==s){var l=Io(o).length;s=Math.max(35-4*l,15)+"%"}var c=ni(s,a),u=ni(i.gap,1),d=i.remainedWidth,h=i.autoWidthCount,p=(d-c)/(h+(h-1)*u);p=Math.max(p,0),Xt(o,function(w){var C=w.maxWidth,E=w.minWidth;if(w.width){var k=w.width;C&&(k=Math.min(k,C)),E&&(k=Math.max(k,E)),w.width=k,d-=k+u*k,h--}else k=p,C&&C<k&&(k=Math.min(C,d)),E&&E>k&&(k=E),k!==p&&(w.width=k,d-=k+u*k,h--)}),p=(d-c)/(h+(h-1)*u),p=Math.max(p,0);var y,g=0;Xt(o,function(w,C){w.width||(w.width=p),y=w,g+=w.width*(1+u)}),y&&(g-=y.width*u);var b=-g/2;Xt(o,function(w,C){t[r][C]=t[r][C]||{bandWidth:a,offset:b,width:w.width},b+=w.width*(1+u)})}),t}function qet(n,e){var t=Yet(n,e),i=Xet(t);Xt(t,function(r){var o=r.getData(),s=r.coordinateSystem.getBaseAxis(),l=DV(r),c=i[AV(s)][l];o.setLayout({bandWidth:c.bandWidth,offset:c.offset,size:c.width})})}function Ket(n){return{seriesType:n,plan:Yb(),reset:function(e){if(Qet(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),c=t.mapDimension(o.dim),u=t.getCalculationInfo("stackResultDimension"),d=nv(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),h=o.isHorizontal(),p=function I3t(n,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,o),g=Jet(e),y=e.get("barMinHeight")||0,b=u&&t.getDimensionIndex(u),w=t.getLayout("size"),C=t.getLayout("offset");return{progress:function(E,k){for(var kt,j=E.count,H=g&&kp(3*j),it=g&&l&&kp(3*j),yt=g&&kp(j),lt=i.master.getRect(),Lt=h?lt.width:lt.height,Jt=k.getStore(),ne=0;null!=(kt=E.next());){var ce=Jt.get(d?b:a,kt),Ee=Jt.get(s,kt),be=p,Be=void 0;d&&(Be=+ce-Jt.get(a,kt));var Ne=void 0,Qe=void 0,In=void 0,Fn=void 0;if(h){var Kn=i.dataToPoint([ce,Ee]);d&&(be=i.dataToPoint([Be,Ee])[0]),Ne=be,Qe=Kn[1]+C,In=Kn[0]-be,Fn=w,Math.abs(In)<y&&(In=(In<0?-1:1)*y)}else Kn=i.dataToPoint([Ee,ce]),d&&(be=i.dataToPoint([Ee,Be])[1]),Ne=Kn[0]+C,Qe=be,In=w,Fn=Kn[1]-be,Math.abs(Fn)<y&&(Fn=(Fn<=0?-1:1)*y);g?(H[ne]=Ne,H[ne+1]=Qe,H[ne+2]=h?In:Fn,it&&(it[ne]=h?lt.x:Ne,it[ne+1]=h?Qe:lt.y,it[ne+2]=Lt),yt[kt]=kt):k.setItemLayout(kt,{x:Ne,y:Qe,width:In,height:Fn}),ne+=3}g&&k.setLayout({largePoints:H,largeDataIndices:yt,largeBackgroundPoints:it,valueAxisHorizontal:h})}}}}}}function Qet(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function Jet(n){return n.pipelineContext&&n.pipelineContext.large}var tnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.getInitialData=function(t,i){return Vm(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(t),s=o.dataToPoint(a);if(r)Xt(o.getAxes(),function(h,p){if("category"===h.type&&null!=i){var g=h.getTicksCoords(),y=a[p],b="x1"===i[p]||"y1"===i[p];if(b&&(y+=1),g.length<2)return;if(2===g.length)return void(s[p]=h.toGlobalCoord(h.getExtent()[b?1:0]));for(var w=void 0,C=void 0,E=1,k=0;k<g.length;k++){var j=g[k].coord,H=k===g.length-1?g[k-1].tickValue+E:g[k].tickValue;if(H===y){C=j;break}if(H<y)w=j;else if(null!=w&&H>y){C=(j+w)/2;break}1===k&&(E=H-g[0].tickValue)}null==C&&(w?w&&(C=g[g.length-1].coord):C=g[0].coord),s[p]=h.toGlobalCoord(C)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;s[d]+=c+u/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Pl);Pl.registerClass(tnt);const ZI=tnt;var P3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.getInitialData=function(){return Vm(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=$g(ZI.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(ZI);const k3t=P3t;var R3t=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},L3t=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new R3t},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=.5*(s-a),c=a+l,u=i.startAngle,d=i.endAngle,h=i.clockwise,p=2*Math.PI,g=h?d-u<p:u-d<p;g||(u=d-(h?p:-p));var y=Math.cos(u),b=Math.sin(u),w=Math.cos(d),C=Math.sin(d);g?(t.moveTo(y*a+r,b*a+o),t.arc(y*c+r,b*c+o,l,-Math.PI+u,u,!h)):t.moveTo(y*s+r,b*s+o),t.arc(r,o,s,u,d,!h),t.arc(w*c+r,C*c+o,l,d-2*Math.PI,d-Math.PI,!h),0!==a&&t.arc(r,o,a,d,u,h)},e}(vo);const YI=L3t;function XI(n,e,t){return e*Math.sin(n)*(t?-1:1)}function $I(n,e,t){return e*Math.cos(n)*(t?1:-1)}function _y(n,e,t){var i=n.get("borderRadius");if(null==i)return t?{cornerRadius:0}:null;Ln(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Nn(i,function(o){return Rf(o,r)})}}var IV=Math.max,PV=Math.min,B3t=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return vn(e,n),e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var a=t.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){Jg(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var d,a=this.group,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis();"cartesian2d"===c.type?d=u.isHorizontal():"polar"===c.type&&(d="angle"===u.dim);var h=t.isAnimationEnabled()?t:null,p=function V3t(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,c);p&&this._enableRealtimeSort(p,s,r);var g=t.get("clip",!0)||p,y=function F3t(n,e){var t=n.getArea&&n.getArea();if(vy(n,"cartesian2d")){var i=n.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=r,t.width+=2*r):(t.y-=r,t.height+=2*r)}}return t}(c,s);a.removeClipPath();var b=t.get("roundCap",!0),w=t.get("showBackground",!0),C=t.getModel("backgroundStyle"),E=C.get("borderRadius")||0,k=[],j=this._backgroundEls,H=o&&o.isInitSort,it=o&&"changeAxisOrder"===o.type;function yt(kt){var Jt=qI[c.type](s,kt),ne=function Z3t(n,e,t){return new("polar"===n.type?Xd:aa)({shape:dnt(e,t,n),silent:!0,z2:0})}(c,d,Jt);return ne.useStyle(C.getItemStyle()),ne.setShape("cartesian2d"===c.type?"r":"cornerRadius",E),k[kt]=ne,ne}s.diff(l).add(function(kt){var Jt=s.getItemModel(kt),ne=qI[c.type](s,kt,Jt);if(w&&yt(kt),s.hasValue(kt)&&ont[c.type](ne)){var ce=!1;g&&(ce=ent[c.type](y,ne));var Ee=nnt[c.type](t,s,kt,ne,d,h,u.model,!1,b);p&&(Ee.forceLabelAnimation=!0),snt(Ee,s,kt,Jt,ne,t,d,"polar"===c.type),H?Ee.attr({shape:ne}):p?int(p,h,Ee,ne,kt,d,!1,!1):Cl(Ee,{shape:ne},t,kt),s.setItemGraphicEl(kt,Ee),a.add(Ee),Ee.ignore=ce}}).update(function(kt,Jt){var ne=s.getItemModel(kt),ce=qI[c.type](s,kt,ne);if(w){var Ee=void 0;0===j.length?Ee=yt(Jt):((Ee=j[Jt]).useStyle(C.getItemStyle()),Ee.setShape("cartesian2d"===c.type?"r":"cornerRadius",E),k[kt]=Ee);var be=qI[c.type](s,kt);va(Ee,{shape:dnt(d,be,c)},h,kt)}var Ne=l.getItemGraphicEl(Jt);if(s.hasValue(kt)&&ont[c.type](ce)){var Qe=!1;if(g&&(Qe=ent[c.type](y,ce))&&a.remove(Ne),Ne?Lf(Ne):Ne=nnt[c.type](t,s,kt,ce,d,h,u.model,!!Ne,b),p&&(Ne.forceLabelAnimation=!0),it){var In=Ne.getTextContent();if(In){var Fn=Nb(In);null!=Fn.prevValue&&(Fn.prevValue=Fn.value)}}else snt(Ne,s,kt,ne,ce,t,d,"polar"===c.type);H?Ne.attr({shape:ce}):p?int(p,h,Ne,ce,kt,d,!0,it):va(Ne,{shape:ce},t,kt,null),s.setItemGraphicEl(kt,Ne),Ne.ignore=Qe,a.add(Ne)}else a.remove(Ne)}).remove(function(kt){var Jt=l.getItemGraphicEl(kt);Jt&&wS(Jt,t,kt)}).execute();var lt=this._backgroundGroup||(this._backgroundGroup=new br);lt.removeAll();for(var Lt=0;Lt<k.length;++Lt)lt.add(k[Lt]);a.add(lt),this._backgroundEls=k,this._data=s},e.prototype._renderLarge=function(t,i,r){this._clear(),cnt(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),cnt(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&WI(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var s=function(l){var c=i.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(a.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:Nn(o,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,a=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,c=o.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(a,o.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:i(t.indexOfRawIndex(u));if(d>s)return!0;s=d}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var a=this._dataSort(t,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,a=this._dataSort(t,o,function(s){return t.get(t.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){wS(o,t,Ar(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(ll),ent={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,a=IV(e.x,n.x),s=PV(e.x+e.width,r),l=IV(e.y,n.y),c=PV(e.y+e.height,o),u=s<a,d=c<l;return e.x=u&&a>r?s:a,e.y=d&&l>o?c:l,e.width=u?0:s-a,e.height=d?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),u||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=PV(e.r,n.r),o=IV(e.r0,n.r0);e.r=r,e.r0=o;var a=r-o<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),a}},nnt={cartesian2d:function(n,e,t,i,r,o,a,s,l){var c=new aa({shape:An({},i),z2:1});return c.__dataIndex=t,c.name="item",o&&(c.shape[r?"height":"width"]=0),c},polar:function(n,e,t,i,r,o,a,s,l){var c=!r&&l?YI:Xd,u=new c({shape:i,z2:1});u.name="item";var d=ant(r);if(u.calculateTextPosition=function O3t(n,e){var t=(e=e||{}).isRoundCap;return function(i,r,o){var a=r.position;if(!a||a instanceof Array)return CA(i,r,o);var s=n(a),l=null!=r.distance?r.distance:5,c=this.shape,u=c.cx,d=c.cy,h=c.r,p=c.r0,g=(h+p)/2,y=c.startAngle,b=c.endAngle,w=(y+b)/2,C=t?Math.abs(h-p)/2:0,E=Math.cos,k=Math.sin,j=u+h*E(y),H=d+h*k(y),it="left",yt="top";switch(s){case"startArc":j=u+(p-l)*E(w),H=d+(p-l)*k(w),it="center",yt="top";break;case"insideStartArc":j=u+(p+l)*E(w),H=d+(p+l)*k(w),it="center",yt="bottom";break;case"startAngle":j=u+g*E(y)+XI(y,l+C,!1),H=d+g*k(y)+$I(y,l+C,!1),it="right",yt="middle";break;case"insideStartAngle":j=u+g*E(y)+XI(y,-l+C,!1),H=d+g*k(y)+$I(y,-l+C,!1),it="left",yt="middle";break;case"middle":j=u+g*E(w),H=d+g*k(w),it="center",yt="middle";break;case"endArc":j=u+(h+l)*E(w),H=d+(h+l)*k(w),it="center",yt="bottom";break;case"insideEndArc":j=u+(h-l)*E(w),H=d+(h-l)*k(w),it="center",yt="top";break;case"endAngle":j=u+g*E(b)+XI(b,l+C,!0),H=d+g*k(b)+$I(b,l+C,!0),it="left",yt="middle";break;case"insideEndAngle":j=u+g*E(b)+XI(b,-l+C,!0),H=d+g*k(b)+$I(b,-l+C,!0),it="right",yt="middle";break;default:return CA(i,r,o)}return(i=i||{}).x=j,i.y=H,i.align=it,i.verticalAlign=yt,i}}(d,{isRoundCap:c===YI}),o){var p=r?"r":"endAngle",g={};u.shape[p]=r?i.r0:i.startAngle,g[p]=i[p],(s?va:Cl)(u,{shape:g},o)}return u}};function int(n,e,t,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?va:Cl)(t,{shape:l},e,r,null),(a?va:Cl)(t,{shape:c},e?n.baseAxis.model:null,r)}function rnt(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var z3t=["x","y","width","height"],U3t=["cx","cy","r","startAngle","endAngle"],ont={cartesian2d:function(n){return!rnt(n,z3t)},polar:function(n){return!rnt(n,U3t)}},qI={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function H3t(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(t,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function ant(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function snt(n,e,t,i,r,o,a,s){var l=e.getItemVisual(t,"style");if(s){if(!o.get("roundCap")){var u=n.shape;An(u,_y(i.getModel("itemStyle"),u,!0)),n.setShape(u)}}else{var c=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var h=i.getShallow("cursor");h&&n.attr("cursor",h);var p=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",g=uu(i);Hu(n,g,{labelFetcher:o,labelDataIndex:t,defaultText:sx(o.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var y=n.getTextContent();if(s&&y){var b=i.get(["label","position"]);n.textConfig.inside="middle"===b||null,function N3t(n,e,t,i){if(ua(i))n.setTextConfig({rotation:i});else if(Ln(e))n.setTextConfig({rotation:0});else{var l,r=n.shape,o=r.clockwise?r.startAngle:r.endAngle,a=r.clockwise?r.endAngle:r.startAngle,s=(o+a)/2,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:return void n.setTextConfig({rotation:0})}var u=1.5*Math.PI-l;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),n.setTextConfig({rotation:u})}}(n,"outside"===b?p:b,ant(a),i.get(["label","rotate"]))}vK(y,g,o.getRawValue(t),function(C){return Iet(e,C)});var w=i.getModel(["emphasis"]);$l(n,w.get("focus"),w.get("blurScope"),w.get("disabled")),Gu(n,i),function G3t(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(r)&&(n.style.fill="none",n.style.stroke="none",Xt(n.states,function(C){C.style&&(C.style.fill=C.style.stroke="none")}))}var j3t=function n(){},lnt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new j3t},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<r.length;u+=3)l[o]=c,l[a]=r[u+2],s[o]=r[u+o],s[a]=r[u+a],t.rect(s[0],s[1],l[0],l[1])},e}(vo);function cnt(n,e,t,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=n.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new lnt({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var d=new lnt({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,e.add(d),d.useStyle(r.getVisual("style")),Ar(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",unt),d.on("mousemove",unt)),t&&t.push(d)}var unt=B3(function(n){var t=function W3t(n,e,t){for(var i=n.baseDimIdx,r=1-i,o=n.shape.points,a=n.largeDataIndices,s=[],l=[],c=n.barWidth,u=0,d=o.length/3;u<d;u++){var h=3*u;if(l[i]=c,l[r]=o[h+2],s[i]=o[h+i],s[r]=o[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return a[u]}return-1}(this,n.offsetX,n.offsetY);Ar(this).dataIndex=t>=0?t:null},30,!1);function dnt(n,e,t){if(vy(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:e.r0,r:n?r.r:e.r,startAngle:n?e.startAngle:0,endAngle:n?e.endAngle:2*Math.PI}}const Y3t=B3t;var KI=2*Math.PI,hnt=Math.PI/180;function fnt(n,e){return eu(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function pnt(n,e){var t=fnt(n,e),i=n.get("center"),r=n.get("radius");Ln(r)||(r=[0,r]);var u,d,o=ni(t.width,e.getWidth()),a=ni(t.height,e.getHeight()),s=Math.min(o,a),l=ni(r[0],s/2),c=ni(r[1],s/2),h=n.coordinateSystem;if(h){var p=h.dataToPoint(i);u=p[0]||0,d=p[1]||0}else Ln(i)||(i=[i,i]),u=ni(i[0],o)+t.x,d=ni(i[1],a)+t.y;return{cx:u,cy:d,r0:l,r:c}}function $3t(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=fnt(i,t),s=pnt(i,t),l=s.cx,c=s.cy,u=s.r,d=s.r0,h=-i.get("startAngle")*hnt,p=i.get("minAngle")*hnt,g=0;r.each(o,function(Lt){!isNaN(Lt)&&g++});var y=r.getSum(o),b=Math.PI/(y||g)*2,w=i.get("clockwise"),C=i.get("roseType"),E=i.get("stillShowZeroSum"),k=r.getDataExtent(o);k[0]=0;var j=KI,H=0,it=h,yt=w?1:-1;if(r.setLayout({viewRect:a,r:u}),r.each(o,function(Lt,kt){var Jt;if(isNaN(Lt))r.setItemLayout(kt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:l,cy:c,r0:d,r:C?NaN:u});else{(Jt="area"!==C?0===y&&E?b:Lt*b:KI/g)<p?(Jt=p,j-=p):H+=Lt;var ne=it+yt*Jt;r.setItemLayout(kt,{angle:Jt,startAngle:it,endAngle:ne,clockwise:w,cx:l,cy:c,r0:d,r:C?_s(Lt,k,[d,u]):u}),it=ne}}),j<KI&&g)if(j<=.001){var lt=KI/g;r.each(o,function(Lt,kt){if(!isNaN(Lt)){var Jt=r.getItemLayout(kt);Jt.angle=lt,Jt.startAngle=h+yt*kt*lt,Jt.endAngle=h+yt*(kt+1)*lt}})}else b=j/H,it=h,r.each(o,function(Lt,kt){if(!isNaN(Lt)){var Jt=r.getItemLayout(kt),ne=Jt.angle===p?p:Lt*b;Jt.startAngle=it,Jt.endAngle=it+yt*ne,it+=yt*ne}})})}function lC(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var q3t=Math.PI/180;function mnt(n,e,t,i,r,o,a,s,l,c){if(!(n.length<2)){for(var h=n.length,p=0;p<h;p++)"outer"===n[p].position&&"labelLine"===n[p].labelAlignTo&&(n[p].linePoints[1][0]+=n[p].label.x-c,n[p].label.x=c);Utt(n,l,l+a)&&function d(y){for(var b={list:[],maxY:0},w={list:[],maxY:0},C=0;C<y.length;C++)if("none"===y[C].labelAlignTo){var E=y[C],k=E.label.y>t?w:b,j=Math.abs(E.label.y-t);if(j>=k.maxY){var H=E.label.x-e-E.len2*r,it=i+E.len,yt=Math.abs(H)<it?Math.sqrt(j*j/(1-H*H/it/it)):it;k.rB=yt,k.maxY=j}k.list.push(E)}u(b),u(w)}(n)}function u(y){for(var b=y.rB,w=b*b,C=0;C<y.list.length;C++){var E=y.list[C],k=Math.abs(E.label.y-t),j=i+E.len,H=j*j,it=Math.sqrt((1-Math.abs(k*k/w))*H),yt=e+(it+E.len2)*r;gnt(E,E.targetTextWidth-(yt-E.label.x)*r,!0),E.label.x=yt}}}function gnt(n,e,t){if(void 0===t&&(t=!1),null==n.labelStyleWidth){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=o.width+(a?0:l);if(e<u||t){var d=o.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",a)}else{var p=e-l;i.setStyle("width",e<u?p:t?p>n.unconstrainedWidth?null:p:null)}var y=i.getBoundingRect();o.width=y.width,o.height=y.height+((i.style.margin||0)+2.1),o.y-=(o.height-d)/2}}}function kV(n){return"center"===n.position}var J3t=function(n){function e(t,i,r){var o=n.call(this)||this;o.z2=2;var a=new da;return o.setTextContent(a),o.updateData(t,i,r,!0),o}return vn(e,n),e.prototype.updateData=function(t,i,r,o){var a=this,s=t.hostModel,l=t.getItemModel(i),c=l.getModel("emphasis"),u=t.getItemLayout(i),d=An(_y(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))a.setShape(d);else{if(o){a.setShape(d);var h=s.getShallow("animationType");s.ecModel.ssr?(Cl(a,{scaleX:0,scaleY:0},s,{dataIndex:i,isFrom:!0}),a.originX=d.cx,a.originY=d.cy):"scale"===h?(a.shape.r=u.r0,Cl(a,{shape:{r:u.r}},s,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),Cl(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,i)):(a.shape.endAngle=u.startAngle,va(a,{shape:{endAngle:u.endAngle}},s,i))}else Lf(a),va(a,{shape:d},s,i);a.useStyle(t.getItemVisual(i,"style")),Gu(a,l);var p=(u.startAngle+u.endAngle)/2,g=s.get("selectedOffset"),y=Math.cos(p)*g,b=Math.sin(p)*g,w=l.getShallow("cursor");w&&a.attr("cursor",w),this._updateLabel(s,t,i),a.ensureState("emphasis").shape=An({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},_y(c.getModel("itemStyle"),u)),An(a.ensureState("select"),{x:y,y:b,shape:_y(l.getModel(["select","itemStyle"]),u)}),An(a.ensureState("blur"),{shape:_y(l.getModel(["blur","itemStyle"]),u)});var C=a.getTextGuideLine(),E=a.getTextContent();C&&An(C.ensureState("select"),{x:y,y:b}),An(E.ensureState("select"),{x:y,y:b}),$l(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},e.prototype._updateLabel=function(t,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),c=l&&l.fill,u=l&&l.opacity;Hu(o,uu(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)o.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new qd,this.setTextGuideLine(p)),aV(this,sV(a),{stroke:c,opacity:Sm(s.get(["lineStyle","opacity"]),u,1)})}},e}(Xd),tVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return vn(e,n),e.prototype.render=function(t,i,r,o){var c,a=t.getData(),s=this._data,l=this.group;if(!s&&a.count()>0){for(var u=a.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<a.count();++d)u=a.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===a.count()&&t.get("showEmptyCircle")){var h=new Xd({shape:pnt(t,r)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}a.diff(s).add(function(p){var g=new J3t(a,p,c);a.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var y=s.getItemGraphicEl(g);y.updateData(a,p,c),y.off("click"),l.add(y),a.setItemGraphicEl(p,y)}).remove(function(p){wS(s.getItemGraphicEl(p),t,p)}).execute(),function Q3t(n){var i,r,e=n.getData(),t=[],o=!1,a=(n.get("minShowLabelAngle")||0)*q3t,s=e.getLayout("viewRect"),l=e.getLayout("r"),c=s.width,u=s.x,d=s.y,h=s.height;function p(H){H.ignore=!0}e.each(function(H){var it=e.getItemGraphicEl(H),yt=it.shape,lt=it.getTextContent(),Lt=it.getTextGuideLine(),kt=e.getItemModel(H),Jt=kt.getModel("label"),ne=Jt.get("position")||kt.get(["emphasis","label","position"]),ce=Jt.get("distanceToLabelLine"),Ee=Jt.get("alignTo"),be=ni(Jt.get("edgeDistance"),c),Be=Jt.get("bleedMargin"),Ne=kt.getModel("labelLine"),Qe=Ne.get("length");Qe=ni(Qe,c);var In=Ne.get("length2");if(In=ni(In,c),Math.abs(yt.endAngle-yt.startAngle)<a)return Xt(lt.states,p),lt.ignore=!0,void(Lt&&(Xt(Lt.states,p),Lt.ignore=!0));if(function g(H){if(!H.ignore)return!0;for(var it in H.states)if(!1===H.states[it].ignore)return!0;return!1}(lt)){var zn,zi,to,Ui,Fn=(yt.startAngle+yt.endAngle)/2,Kn=Math.cos(Fn),Qn=Math.sin(Fn);i=yt.cx,r=yt.cy;var Gi="inside"===ne||"inner"===ne;if("center"===ne)zn=yt.cx,zi=yt.cy,Ui="center";else{var ar=(Gi?(yt.r+yt.r0)/2*Kn:yt.r*Kn)+i,Er=(Gi?(yt.r+yt.r0)/2*Qn:yt.r*Qn)+r;if(zn=ar+3*Kn,zi=Er+3*Qn,!Gi){var Ei=ar+Kn*(Qe+l-yt.r),Vr=Er+Qn*(Qe+l-yt.r),yl=Ei+(Kn<0?-1:1)*In;zn="edge"===Ee?Kn<0?u+be:u+c-be:yl+(Kn<0?-ce:ce),zi=Vr,to=[[ar,Er],[Ei,Vr],[yl,Vr]]}Ui=Gi?"center":"edge"===Ee?Kn>0?"right":"left":Kn>0?"left":"right"}var Nl=Math.PI,Jl=0,fd=Jt.get("rotate");if(ua(fd))Jl=fd*(Nl/180);else if("center"===ne)Jl=0;else if("radial"===fd||!0===fd)Jl=Kn<0?-Fn+Nl:-Fn;else if("tangential"===fd&&"outside"!==ne&&"outer"!==ne){var ih=Math.atan2(Kn,Qn);ih<0&&(ih=2*Nl+ih),Qn>0&&(ih=Nl+ih),Jl=ih-Nl}if(o=!!Jl,lt.x=zn,lt.y=zi,lt.rotation=Jl,lt.setStyle({verticalAlign:"middle"}),Gi){lt.setStyle({align:Ui});var NG=lt.states.select;NG&&(NG.x+=lt.x,NG.y+=lt.y)}else{var Pv=lt.getBoundingRect().clone();Pv.applyTransform(lt.getComputedTransform());var r_t=(lt.style.margin||0)+2.1;Pv.y-=r_t/2,Pv.height+=r_t,t.push({label:lt,labelLine:Lt,position:ne,len:Qe,len2:In,minTurnAngle:Ne.get("minTurnAngle"),maxSurfaceAngle:Ne.get("maxSurfaceAngle"),surfaceNormal:new Hr(Kn,Qn),linePoints:to,textAlign:Ui,labelDistance:ce,labelAlignTo:Ee,edgeDistance:be,bleedMargin:Be,rect:Pv,unconstrainedWidth:Pv.width,labelStyleWidth:lt.style.width})}it.setTextConfig({inside:Gi})}}),!o&&n.get("avoidLabelOverlap")&&function K3t(n,e,t,i,r,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<n.length;h++){var p=n[h].label;kV(n[h])||(p.x<e?(u=Math.min(u,p.x),l.push(n[h])):(d=Math.max(d,p.x),c.push(n[h])))}for(h=0;h<n.length;h++)if(!kV(g=n[h])&&g.linePoints){if(null!=g.labelStyleWidth)continue;p=g.label;var b,y=g.linePoints;g.targetTextWidth=b="edge"===g.labelAlignTo?p.x<e?y[2][0]-g.labelDistance-a-g.edgeDistance:a+r-g.edgeDistance-y[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<e?u-a-g.bleedMargin:a+r-d-g.bleedMargin:p.x<e?p.x-a-g.bleedMargin:a+r-p.x-g.bleedMargin,gnt(g,b)}for(mnt(c,e,t,i,1,0,o,0,s,d),mnt(l,e,t,i,-1,0,o,0,s,u),h=0;h<n.length;h++){var g;if(!kV(g=n[h])&&g.linePoints){var C=(p=g.label).style.padding,j=g.rect.width+(p.style.backgroundColor?0:C?C[1]+C[3]:0),H=(y=g.linePoints)[1][0]-y[2][0];"edge"===g.labelAlignTo?y[2][0]=p.x<e?a+g.edgeDistance+j+g.labelDistance:a+r-g.edgeDistance-j-g.labelDistance:(y[2][0]=p.x<e?p.x+g.labelDistance:p.x-g.labelDistance,y[1][0]=y[2][0]+H),y[1][1]=y[2][1]=p.y}}}(t,i,r,l,c,h,u,d);for(var y=0;y<t.length;y++){var b=t[y],w=b.label,C=b.labelLine,E=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:b.textAlign}),E&&(Xt(w.states,p),w.ignore=!0);var k=w.states.select;k&&(k.x+=w.x,k.y+=w.y)}if(C){var j=b.linePoints;E||!j?(Xt(C.states,p),C.ignore=!0):(Ftt(j,b.minTurnAngle),NFt(j,b.surfaceNormal,b.maxSurfaceAngle),C.setShape({points:j}),w.__hostTarget.textGuideLineConfig={anchor:new Hr(j[0][0],j[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var o=i.getData().getItemLayout(0);if(o){var a=t[0]-o.cx,s=t[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e}(ll);const eVt=tVt;function lx(n,e,t){e=Ln(e)&&{coordDimensions:e}||An({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=ox(i,e).dimensions,o=new Ad(r,n);return o.initData(i,t),o}var nVt=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}();const cC=nVt;var iVt=oa(),rVt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new cC(vi(this.getData,this),vi(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return lx(this,{coordDimensions:["value"],encodeDefaulter:Lr(r3,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=iVt(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(l){a.push(l)}),o=r.seats=function $$(n,e){var t=dp(n,function(p,g){return p+(isNaN(g)?0:g)},0);if(0===t)return[];for(var i=Math.pow(10,e),r=Nn(n,function(p){return(isNaN(p)?0:p)/t*i*100}),o=100*i,a=Nn(r,function(p){return Math.floor(p)}),s=dp(a,function(p,g){return p+g},0),l=Nn(r,function(p,g){return p-a[g]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,h=l.length;d<h;++d)l[d]>c&&(c=l[d],u=d);++a[u],l[u]=0,++s}return Nn(a,function(p){return p/i})}(a,i.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=o[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){k_(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Pl);const oVt=rVt;var lVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return vn(e,n),e.prototype.getInitialData=function(t,i){return Vm(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Pl);const cVt=lVt;var uVt=function n(){},dVt=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return vn(e,n),e.prototype.getDefaultShape=function(){return new uVt},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var d,r=i.points,o=i.size,a=this.symbolProxy,s=a.shape,l=t.getContext?t.getContext():t,u=this.softClipShape;if(l&&o[0]<4)this._ctx=l;else{for(this._ctx=null,d=this._off;d<r.length;){var h=r[d++],p=r[d++];isNaN(h)||isNaN(p)||u&&!u.contain(h,p)||(s.x=h-o[0]/2,s.y=p-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(t,s,!0))}this.incremental&&(this._off=d,this.notClear=!0)}},e.prototype.afterBrush=function(){var s,t=this.shape,i=t.points,r=t.size,o=this._ctx,a=this.softClipShape;if(o){for(s=this._off;s<i.length;){var l=i[s++],c=i[s++];isNaN(l)||isNaN(c)||a&&!a.contain(l,c)||o.fillRect(l-r[0]/2,c-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),c=o.length/2-1;c>=0;c--){var u=2*c,d=o[u]-s/2,h=o[u+1]-l/2;if(t>=d&&i>=h&&t<=d+s&&i<=h+l)return c}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,o=i.size,a=o[0],s=o[1],l=1/0,c=1/0,u=-1/0,d=-1/0,h=0;h<r.length;){var p=r[h++],g=r[h++];l=Math.min(p,l),u=Math.max(p,u),c=Math.min(g,c),d=Math.max(g,d)}t=this._rect=new $r(l-a/2,c-s/2,u-l+a,d-c+s)}return t},e}(vo),hVt=function(){function n(){this.group=new br}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],o=t.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),r.endIndex=e.end,r.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=e.start,c.endIndex=e.end,c.incremental=!0,c.setShape({points:o}),this._setCommon(c,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new dVt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=Vc(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var c=Ar(e);c.seriesIndex=r.seriesIndex,e.on("mousemove",function(u){c.dataIndex=null;var d=e.hoverDataIdx;d>=0&&(c.dataIndex=d+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const fVt=hVt;var pVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=sC("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,a=i.pipelineContext.large;return(!r||a!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=a?new fVt:new aC,this._isLargeDraw=a,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(ll);const mVt=pVt;var gVt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(ha);const vVt=gVt;var uC=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),RV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Fc).models[0]},e.type="cartesian2dAxis",e}(ha);Nc(RV,uC);var _nt={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},_Vt=Yr({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},_nt),LV=Yr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},_nt);const ynt={category:_Vt,value:LV,time:Yr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},LV),log:er({logBase:10},LV)};var xVt=0,wVt=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++xVt}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&Nn(i,SVt);return new n({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!si(e)&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(i?(this.categories[t=this.categories.length]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Wi(this.categories))},n}();function SVt(n){return or(n)&&null!=n.value?n.value:n+""}const OV=wVt;var CVt={value:1,category:1,time:1,log:1};function cx(n,e,t,i){Xt(CVt,function(r,o){var a=Yr(Yr({},ynt[o],!0),i,!0),s=function(l){function c(){var u=null!==l&&l.apply(this,arguments)||this;return u.type=e+"Axis."+o,u}return vn(c,l),c.prototype.mergeDefaultAndTheme=function(u,d){var h=TS(this),p=h?Ub(u):{};Yr(u,d.getTheme().get(o+"Axis")),Yr(u,this.getDefaultOption()),u.type=bnt(u),h&&qg(u,p,h)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=OV.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if("category"===d.type)return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+o,c.defaultOption=a,c}(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",bnt)}function bnt(n){return n.type||(n.data?"category":"value")}var xnt=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();TA(xnt);const zm=xnt;function NV(n){return"interval"===n.type||"log"===n.type}function FV(n){var e=Math.pow(10,uB(n)),t=n/e;return t?2===t?t=3:3===t?t=5:t*=2:t=1,uc(t*e)}function wnt(n){return gp(n)+2}function Snt(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function QI(n,e){return n>=e[0]&&n<=e[1]}function JI(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function tP(n,e){return n*(e[1]-e[0])+e[0]}var Cnt=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new OV({})),Ln(r)&&(r=new OV({categories:Nn(r,function(o){return or(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return vn(e,n),e.prototype.parse=function(t){return null==t?NaN:si(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return QI(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return JI(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(tP(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var c=i[a];r[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;null!=o[u];)u++;r.push(u),o[u]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(zm);zm.registerClass(Cnt);const BV=Cnt;var yy=uc,Mnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return vn(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return QI(t,this._extent)},e.prototype.normalize=function(t){return JI(t,this._extent)},e.prototype.scale=function(t){return tP(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=wnt(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;r[0]<o[0]&&s.push(t?{value:yy(o[0]-i,a)}:{value:r[0]});for(var c=o[0];c<=o[1]&&(s.push({value:c}),(c=yy(c+i,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(t?{value:yy(u+i,a)}:{value:r[1]}),s},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a-1],c=0,u=[],h=(i[a].value-l.value)/t;c<t-1;){var p=yy(l.value+(c+1)*h);p>o[0]&&p<o[1]&&u.push(p),c++}r.push(u)}return r},e.prototype.getLabel=function(t,i){if(null==t)return"";var r=i&&i.precision;return null==r?r=gp(t.value)||0:"auto"===r&&(r=this._intervalPrecision),LK(yy(t.value,r,!0))},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function MVt(n,e,t,i){var r={},a=r.interval=Q$((n[1]-n[0])/e,!0);null!=t&&a<t&&(a=r.interval=t),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=wnt(a);return function EVt(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),Snt(n,0,e),Snt(n,1,e),n[0]>n[1]&&(n[0]=n[1])}(r.niceTickExtent=[uc(Math.ceil(n[0]/a)*a,s),uc(Math.floor(n[1]/a)*a,s)],n),r}(o,t,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(i[0]=yy(Math.floor(i[0]/a)*a)),t.fixMax||(i[1]=yy(Math.ceil(i[1]/a)*a))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(zm);zm.registerClass(Mnt);const av=Mnt;var Ent=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return vn(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return WA(t.value,CK[function XLt(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Bb(this._minLevelUnit))]||CK.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function $Lt(n,e,t,i,r){var o=null;if(si(t))o=t;else if(Ki(t))o=t(n.value,e,{level:n.level});else{var a=An({},MS);if(n.level>0)for(var s=0;s<QB.length;++s)a[QB[s]]="{primary|"+a[QB[s]]+"}";var l=t?!1===t.inherit?t:er(t,a):a,c=EK(n.value,r);if(l[c])o=l[c];else if(l.inherit){for(s=MK.indexOf(c)-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(Ln(o)){var d=null==n.level?0:n.level>=0?n.level:o.length+n.level;o=o[d=Math.min(d,o.length-1)]}}return WA(new Date(n.value),o,r,i)}(t,i,r,this.getSetting("locale"),o)},e.prototype.getTicks=function(){var i=this._extent,r=[];if(!this._interval)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function LVt(n,e,t,i){var o=MK,a=0;function s(Lt,kt,Jt,ne,ce,Ee,be){for(var Be=new Date(kt),Ne=kt,Qe=Be[ne]();Ne<Jt&&Ne<=i[1];)be.push({value:Ne}),Be[ce](Qe+=Lt),Ne=Be.getTime();be.push({value:Ne,notAdd:!0})}function l(Lt,kt,Jt){var ne=[],ce=!kt.length;if(!function DVt(n,e,t,i){var r=vp(e),o=vp(t),a=function(g){return TK(r,g,i)===TK(o,g,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},d=function(){return u()&&a("minute")},h=function(){return d()&&a("second")};switch(n){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return h();case"millisecond":return h()&&a("millisecond")}}(Bb(Lt),i[0],i[1],t)){ce&&(kt=[{value:RVt(new Date(i[0]),Lt,t)},{value:i[1]}]);for(var Ee=0;Ee<kt.length-1;Ee++){var be=kt[Ee].value,Be=kt[Ee+1].value;if(be!==Be){var Ne=void 0,Qe=void 0,In=void 0;switch(Lt){case"year":Ne=Math.max(1,Math.round(e/Xh/365)),Qe=JB(t),In=qLt(t);break;case"half-year":case"quarter":case"month":Ne=IVt(e),Qe=Vb(t),In=DK(t);break;case"week":case"half-week":case"day":Ne=AVt(e),Qe=ZA(t),In=AK(t),!0;break;case"half-day":case"quarter-day":case"hour":Ne=PVt(e),Qe=ES(t),In=IK(t);break;case"minute":Ne=Tnt(e,!0),Qe=YA(t),In=PK(t);break;case"second":Ne=Tnt(e,!1),Qe=XA(t),In=kK(t);break;case"millisecond":Ne=kVt(e),Qe=$A(t),In=RK(t)}s(Ne,be,Be,Qe,In,0,ne),"year"===Lt&&Jt.length>1&&0===Ee&&Jt.unshift({value:Jt[0].value-Ne})}}for(Ee=0;Ee<ne.length;Ee++)Jt.push(ne[Ee]);return ne}}for(var c=[],u=[],d=0,h=0,p=0;p<o.length&&a++<1e4;++p){var g=Bb(o[p]);if(YLt(o[p])&&(l(o[p],c[c.length-1]||[],u),g!==(o[p+1]?Bb(o[p+1]):null))){if(u.length){h=d,u.sort(function(Lt,kt){return Lt.value-kt.value});for(var b=[],w=0;w<u.length;++w){var C=u[w].value;(0===w||u[w-1].value!==C)&&(b.push(u[w]),C>=i[0]&&C<=i[1]&&d++)}var E=(i[1]-i[0])/e;if(d>1.5*E&&h>E/1.5||(c.push(b),d>E||n===o[p]))break}u=[]}}var k=Ss(Nn(c,function(Lt){return Ss(Lt,function(kt){return kt.value>=i[0]&&kt.value<=i[1]&&!kt.notAdd})}),function(Lt){return Lt.length>0}),j=[],H=k.length-1;for(p=0;p<k.length;++p)for(var it=k[p],yt=0;yt<it.length;++yt)j.push({value:it[yt].value,level:H-p});j.sort(function(Lt,kt){return Lt.value-kt.value});var lt=[];for(p=0;p<j.length;++p)(0===p||j[p].value!==j[p-1].value)&&lt.push(j[p]);return lt}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Xh,i[1]+=Xh),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Xh}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=eP.length,l=Math.min(function(n,e,t,i){for(;t<i;){var r=t+i>>>1;n[r][1]<e?t=r+1:i=r}return t}(eP,this._approxInterval,0,s),s-1);this._interval=eP[l][1],this._minLevelUnit=eP[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return ua(t)?t:+vp(t)},e.prototype.contain=function(t){return QI(this.parse(t),this._extent)},e.prototype.normalize=function(t){return JI(this.parse(t),this._extent)},e.prototype.scale=function(t){return tP(t,this._extent)},e.type="time",e}(av),eP=[["second",qB],["minute",KB],["hour",CS],["quarter-day",6*CS],["half-day",12*CS],["day",1.2*Xh],["half-week",3.5*Xh],["week",7*Xh],["month",31*Xh],["quarter",95*Xh],["half-year",SK/2],["year",SK]];function AVt(n,e){return(n/=Xh)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function IVt(n){return(n/=30*Xh)>6?6:n>3?3:n>2?2:1}function PVt(n){return(n/=CS)>12?12:n>6?6:n>3.5?4:n>2?2:1}function Tnt(n,e){return(n/=e?KB:qB)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function kVt(n){return Q$(n,!0)}function RVt(n,e,t){var i=new Date(n);switch(Bb(e)){case"year":case"month":i[DK(t)](0);case"day":i[AK(t)](1);case"hour":i[IK(t)](0);case"minute":i[PK(t)](0);case"second":i[kK(t)](0),i[RK(t)](0)}return i.getTime()}zm.registerClass(Ent);const Dnt=Ent;var Ant=zm.prototype,dC=av.prototype,OVt=uc,NVt=Math.floor,FVt=Math.ceil,nP=Math.pow,Gf=Math.log,VV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new av,t._interval=0,t}return vn(e,n),e.prototype.getTicks=function(t){var r=this._extent,o=this._originalScale.getExtent();return Nn(dC.getTicks.call(this,t),function(s){var l=s.value,c=uc(nP(this.base,l));return c=l===r[0]&&this._fixMin?iP(c,o[0]):c,{value:c=l===r[1]&&this._fixMax?iP(c,o[1]):c}},this)},e.prototype.setExtent=function(t,i){var r=Gf(this.base);t=Gf(Math.max(0,t))/r,i=Gf(Math.max(0,i))/r,dC.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=Ant.getExtent.call(this);i[0]=nP(t,i[0]),i[1]=nP(t,i[1]);var o=this._originalScale.getExtent();return this._fixMin&&(i[0]=iP(i[0],o[0])),this._fixMax&&(i[1]=iP(i[1],o[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=Gf(t[0])/Gf(i),t[1]=Gf(t[1])/Gf(i),Ant.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=function tRt(n){return Math.pow(10,uB(n))}(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[uc(FVt(i[0]/o)*o),uc(NVt(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){dC.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return QI(t=Gf(t)/Gf(this.base),this._extent)},e.prototype.normalize=function(t){return JI(t=Gf(t)/Gf(this.base),this._extent)},e.prototype.scale=function(t){return t=tP(t,this._extent),nP(this.base,t)},e.type="log",e}(zm),Int=VV.prototype;function iP(n,e){return OVt(n,gp(e))}Int.getMinorTicks=dC.getMinorTicks,Int.getLabel=dC.getLabel,zm.registerClass(VV);const BVt=VV;var VVt=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);Ki(o)?this._modelMinNum=rP(e,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=rP(e,o));var a=this._modelMaxRaw=t.get("max",!0);if(Ki(a)?this._modelMaxNum=rP(e,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=rP(e,a)),r)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=Ln(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Rf(l[0],1),Rf(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=e?r?0:NaN:t-o[0]*a),null==l&&(l=e?r?r-1:NaN:i+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var d=Z1(s)||Z1(l)||e&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var h=this._determinedMin,p=this._determinedMax;return null!=h&&(s=h,c=!0),null!=p&&(l=p,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[UVt[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[zVt[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),zVt={min:"_determinedMin",max:"_determinedMax"},UVt={min:"_dataMin",max:"_dataMax"};function Pnt(n,e,t){var i=n.rawExtentInfo;return i||(i=new VVt(n,e,t),n.rawExtentInfo=i,i)}function rP(n,e){return null==e?null:Z1(e)?NaN:n.parse(e)}function knt(n,e){var t=n.type,i=Pnt(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&"time"===t){var s=Yet("bar",a),l=!1;if(Xt(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var c=Xet(s),u=function GVt(n,e,t,i){var r=t.axis.getExtent(),o=r[1]-r[0],a=function A3t(n,e,t){if(n&&e){var i=n[AV(e)];return null!=i&&null!=t?i[DV(t)]:i}}(i,t.axis);if(void 0===a)return{min:n,max:e};var s=1/0;Xt(a,function(p){s=Math.min(p.offset,s)});var l=-1/0;Xt(a,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-n,h=u/(1-(s+l)/o)-u;return{min:n-=h*(s/c),max:e+=h*(l/c)}}(r,o,e,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function ux(n,e){var t=e,i=knt(n,t),r=i.extent,o=t.get("splitNumber");n instanceof BVt&&(n.base=t.get("logBase"));var a=n.type,s=t.get("interval"),l="interval"===a||"time"===a;n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}function oP(n,e){if(e=e||n.get("type"))switch(e){case"category":return new BV({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Dnt({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(zm.getClass(e)||av)}}function hC(n){var i,e=n.getLabelModel().get("formatter"),t="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(i=e,function(r,o){return n.scale.getFormattedLabel(r,o,i)}):si(e)?function(i){return function(r){var o=n.scale.getLabel(r);return i.replace("{value}",o??"")}}(e):Ki(e)?function(i){return function(r,o){return null!=t&&(o=r.value-t),i(zV(n,r),o,null!=r.level?{level:r.level}:null)}}(e):function(i){return n.scale.getLabel(i)}}function zV(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function WVt(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),a=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new $r(n.x,n.y,o,a)}function UV(n){return n.get("interval")??"auto"}function Rnt(n){return"category"===n.type&&0===UV(n.getLabelModel())}function aP(n,e){var t={};return Xt(n.mapDimensionsAll(e),function(i){t[Aet(n,i)]=!0}),Io(t)}var YVt=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return Nn(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ss(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),GV=["x","y"];function Lnt(n){return"interval"===n.type||"time"===n.type}var $Vt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=GV,t}return vn(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(Lnt(t)&&Lnt(i)){var r=t.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],c=o[1]-o[0];if(l&&c){var u=(s[0]-a[0])/l,d=(s[1]-a[1])/c,g=this._transform=[u,0,0,d,a[0]-r[0]*u,a[1]-o[0]*d];this._invTransform=wb([],g)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),o=this.dataToPoint(i),a=this.getArea(),s=new $r(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],a=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return zu(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(t[0]),c=o.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return zu(r,t,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=a.coordToData(a.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),a=Math.max(t[0],t[1])-r,s=Math.max(i[0],i[1])-o;return new $r(r,o,a,s)},e}(YVt);const qVt=$Vt;var fC=oa();function Ont(n,e){var o,a,t=Nnt(n,"labels"),i=UV(e);return Fnt(t,i)||(Ki(i)?o=znt(n,i):(a="auto"===i?function nzt(n){return fC(n).autoInterval??(fC(n).autoInterval=n.calculateCategoryInterval())}(n):i,o=Vnt(n,a)),Bnt(t,i,{labels:o,labelCategoryInterval:a}))}function Nnt(n,e){return fC(n)[e]||(fC(n)[e]=[])}function Fnt(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Bnt(n,e,t){return n.push({key:e,value:t}),t}function Vnt(n,e,t){var i=hC(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=o[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=Rnt(n),h=a.get("showMinLabel")||d,p=a.get("showMaxLabel")||d;h&&c!==o[0]&&y(o[0]);for(var g=c;g<=o[1];g+=l)y(g);function y(b){var w={value:b};s.push(t?b:{formattedLabel:i(w),rawLabel:r.getLabel(w),tickValue:b})}return p&&g-l!==o[1]&&y(o[1]),s}function znt(n,e,t){var i=n.scale,r=hC(n),o=[];return Xt(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;e(a.value,s)&&o.push(t?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var Unt=[0,1],ozt=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return X$(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&Gnt(i=i.slice(),r.count()),_s(e,Unt,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Gnt(i=i.slice(),r.count());var o=_s(e,i,Unt,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),o=Nn(function QVt(n,e){return"category"===n.type?function tzt(n,e){var o,a,t=Nnt(n,"ticks"),i=UV(e),r=Fnt(t,i);if(r)return r;if((!e.get("show")||n.scale.isBlank())&&(o=[]),Ki(i))o=znt(n,i,!0);else if("auto"===i){var s=Ont(n,n.getLabelModel());a=s.labelCategoryInterval,o=Nn(s.labels,function(l){return l.tickValue})}else o=Vnt(n,a=i,!0);return Bnt(t,i,{ticks:o,tickCategoryInterval:a})}(n,e):{ticks:Nn(n.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function azt(n,e,t,i){var r=e.length;if(n.onBand&&!t&&r){var a,o=n.getExtent();if(1===r)e[0].coord=o[0],a=e[1]={coord:o[0]};else{var c=(e[r-1].coord-e[0].coord)/(e[r-1].tickValue-e[0].tickValue);Xt(e,function(p){p.coord-=c/2});var u=n.scale.getExtent();e.push(a={coord:e[r-1].coord+c*(1+u[1]-e[r-1].tickValue)})}var d=o[0]>o[1];h(e[0].coord,o[0])&&(i?e[0].coord=o[0]:e.shift()),i&&h(o[0],e[0].coord)&&e.unshift({coord:o[0]}),h(o[1],a.coord)&&(i?a.coord=o[1]:e.pop()),i&&h(a.coord,o[1])&&e.push({coord:o[1]})}function h(p,g){return p=uc(p),g=uc(g),d?p>g:p<g}}(this,o,t.get("alignWithLabel"),e.clamp),o},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),Nn(this.scale.getMinorTicks(t),function(o){return Nn(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},n.prototype.getViewLabels=function(){return function KVt(n){return"category"===n.type?function JVt(n){var e=n.getLabelModel(),t=Ont(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(n):function ezt(n){var e=n.scale.getTicks(),t=hC(n);return{labels:Nn(e,function(i,r){return{level:i.level,formattedLabel:t(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function izt(n){var e=function rzt(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(n),t=hC(n),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=n.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,p=0;l<=o[1];l+=s){var y,b=lS(t({value:l}),e.font,"center","top");y=1.3*b.height,h=Math.max(h,1.3*b.width,7),p=Math.max(p,y,7)}var w=h/u,C=p/d;isNaN(w)&&(w=1/0),isNaN(C)&&(C=1/0);var E=Math.max(0,Math.floor(Math.min(w,C))),k=fC(n.model),j=n.getExtent(),H=k.lastAutoInterval,it=k.lastTickCount;return null!=H&&null!=it&&Math.abs(H-E)<=1&&Math.abs(it-a)<=1&&H>E&&k.axisExtent0===j[0]&&k.axisExtent1===j[1]?E=H:(k.lastTickCount=a,k.lastAutoInterval=E,k.axisExtent0=j[0],k.axisExtent1=j[1]),E}(this)},n}();function Gnt(n,e){var r=(n[1]-n[0])/e/2;n[0]+=r,n[1]-=r}const Hf=ozt;var szt=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return vn(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Hf);const lzt=szt;function HV(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,c=r.dim,u=i.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,g="x"===c?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(a){var y=a.toGlobalCoord(a.dataToCoord(0));g[h.onZero]=Math.max(Math.min(y,g[1]),g[0])}o.position=["y"===c?g[h[l]]:d[0],"x"===c?g[h[l]]:d[3]],o.rotation=Math.PI/2*("x"===c?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?g[h[s]]-g[h.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),bu(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var w=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-w:w,o.z2=1,o}function Hnt(n){return"cartesian2d"===n.get("coordinateSystem")}function jnt(n){var e={xAxisModel:null,yAxisModel:null};return Xt(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,Fc).models[0];e[i]=o}),e}var jV=Math.log;function Wnt(n,e,t){var i=av.prototype,r=i.getTicks.call(t),o=i.getTicks.call(t,!0),a=r.length-1,s=i.getInterval.call(t),l=knt(n,e),c=l.extent,u=l.fixMin,d=l.fixMax;if("log"===n.type){var h=jV(n.base);c=[jV(c[0])/h,jV(c[1])/h]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:d});var p=i.getExtent.call(n);u&&(c[0]=p[0]),d&&(c[1]=p[1]);var g=i.getInterval.call(n),y=c[0],b=c[1];if(u&&d)g=(b-y)/a;else if(u)for(b=c[0]+g*a;b<c[1]&&isFinite(b)&&isFinite(c[1]);)g=FV(g),b=c[0]+g*a;else if(d)for(y=c[1]-g*a;y>c[0]&&isFinite(y)&&isFinite(c[0]);)g=FV(g),y=c[1]-g*a;else{n.getTicks().length-1>a&&(g=FV(g));var C=g*a;(y=uc((b=Math.ceil(c[1]/g)*g)-C))<0&&c[0]>=0?(y=0,b=uc(C)):b>0&&c[1]<=0&&(b=0,y=-uc(C))}var E=(r[0].value-o[0].value)/s,k=(r[a].value-o[a].value)/s;i.setExtent.call(n,y+g*E,b+g*k),i.setInterval.call(n,g),(E||k)&&i.setNiceExtent.call(n,y+g,b-g)}var czt=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=GV,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function r(a){var s,l=Io(a),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var p=a[+l[d]],g=p.model,y=p.scale;NV(y)&&g.get("alignTicks")&&null==g.get("interval")?u.push(p):(ux(y,g),NV(y)&&(s=p))}u.length&&(s||ux((s=u.pop()).scale,s.model),Xt(u,function(b){Wnt(b.scale,b.model,s.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var o={};Xt(i.x,function(a){Znt(i,"y",a,o)}),Xt(i.y,function(a){Znt(i,"x",a,o)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=eu(r,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var s=this._axesList;function l(){Xt(s,function(c){var u=c.isHorizontal(),d=u?[0,a.width]:[0,a.height],h=c.inverse?1:0;c.setExtent(d[h],d[1-h]),function uzt(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord="x"===n.dim?function(r){return r+e}:function(r){return i-r+e},n.toLocalCoord="x"===n.dim?function(r){return r-e}:function(r){return i-r+e}}(c,u?a.x:a.y)})}l(),o&&(Xt(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=function jVt(n){var t=n.scale;if(n.model.get(["axisLabel","show"])&&!t.isBlank()){var i,r,o=t.getExtent();r=t instanceof BV?t.count():(i=t.getTicks()).length;var l,a=n.getLabelModel(),s=hC(n),c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var h=s(i?i[u]:{value:o[0]+u},u),g=WVt(a.getTextRect(h),a.get("rotate")||0);l?l.union(g):l=g}return l}}(c);if(u){var d=c.isHorizontal()?"height":"width",h=c.model.get(["axisLabel","margin"]);a[d]-=u[d]+h,"top"===c.position?a.y+=u.height+h:"left"===c.position&&(a.x+=u.width+h)}}}),l()),Xt(this._coordsList,function(c){c.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];or(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var s,l,t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",Fc).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",Fc).models[0],o=e.gridModel;return t?so(this._coordsList,s=t.coordinateSystem)<0&&(s=null):i&&r?s=this.getCartesian(i.componentIndex,r.componentIndex):i?l=this.getAxis("x",i.componentIndex):r?l=this.getAxis("y",r.componentIndex):o&&o.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(u){return function(d,h){if(WV(d,e)){var p=d.get("position");"x"===u?"top"!==p&&"bottom"!==p&&(p=a.bottom?"top":"bottom"):"left"!==p&&"right"!==p&&(p=a.left?"right":"left"),a[p]=!0;var g=new lzt(u,oP(d),[0,0],d.get("type"),p);g.onBand="category"===g.type&&d.get("boundaryGap"),g.inverse=d.get("inverse"),d.axis=g,g.model=d,g.grid=o,g.index=h,o._axesList.push(g),s[u][h]=g,l[u]++}}}this._axesMap=s,Xt(s.x,function(u,d){Xt(s.y,function(h,p){var g="x"+d+"y"+p,y=new qVt(g);y.master=r,y.model=e,r._coordsMap[g]=y,r._coordsList.push(y),y.addAxis(u),y.addAxis(h)})})},n.prototype._updateScale=function(e,t){function i(r,o){Xt(aP(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}Xt(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(Hnt(r)){var o=jnt(r),a=o.xAxisModel,s=o.yAxisModel;if(!WV(a,t)||!WV(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),d=l.getAxis("y");i(c,u),i(c,d)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return Xt(this.getCartesians(),function(r){var o=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(o);so(t,o)<0&&t.push(o),so(i,a)<0&&i.push(a)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var a=new n(r,e,t);a.name="grid_"+o,a.resize(r,t,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(r){if(Hnt(r)){var o=jnt(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=GV,n}();function WV(n,e){return n.getCoordSysModel()===e}function Znt(n,e,t,i){t.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=n[e],a=t.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Ynt(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&Ynt(r[c])&&!i[u(r[c])]){o=r[c];break}o&&(i[u(o)]=!0)}function u(d){return d.dim+"_"+d.index}}function Ynt(n){return n&&"category"!==n.type&&"time"!==n.type&&function HVt(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}(n)}const dzt=czt;var sv=Math.PI,by=function(){function n(e,t){this.group=new br,this.opt=t,this.axisModel=e,er(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new br({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!Xnt[e]},n.prototype.add=function(e){Xnt[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var o,a,r=K$(t-e);return EA(r)?(a=i>0?"top":"bottom",o="center"):EA(r-sv)?(a=i>0?"bottom":"top",o="center"):(a="middle",o=r>0&&r<sv?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),Xnt={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(zu(s,s,a),zu(l,l,a));var u=An({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new wu({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});qb(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=e.get(["axisLine","symbol"]);if(null!=h){var p=e.get(["axisLine","symbolSize"]);si(h)&&(h=[h,h]),(si(p)||ua(p))&&(p=[p,p]);var g=tx(e.get(["axisLine","symbolOffset"])||0,p),y=p[0],b=p[1];Xt([{rotate:n.rotation+Math.PI/2,offset:g[0],r:0},{rotate:n.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(w,C){if("none"!==h[C]&&null!=h[C]){var E=Vc(h[C],-y/2,-b/2,y,b,u.stroke,!0),k=w.r+w.offset,j=c?l:s;E.attr({rotation:w.rotate,x:j[0]+k*Math.cos(n.rotation),y:j[1]-k*Math.sin(n.rotation),silent:!0,z2:11}),t.add(E)}})}}},axisTickLabel:function(n,e,t,i){var r=function pzt(n,e,t,i){var r=t.axis,o=t.getModel("axisTick"),a=o.get("show");if("auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),a&&!r.scale.isBlank()){for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=Knt(r.getTicksCoords(),e.transform,l,er(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}(t,i,e,n),o=function gzt(n,e,t,i){var r=t.axis;if(bu(i.axisLabelShow,t.get(["axisLabel","show"]))&&!r.scale.isBlank()){var a=t.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),c=(bu(i.labelRotate,a.get("rotate"))||0)*sv/180,u=by.innerTextLayout(i.rotation,c,i.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],p=by.isLabelSilent(t),g=t.get("triggerEvent");return Xt(l,function(y,b){var w="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(y.tickValue):y.tickValue,C=y.formattedLabel,E=y.rawLabel,k=a;if(d&&d[w]){var j=d[w];or(j)&&j.textStyle&&(k=new sl(j.textStyle,a,t.ecModel))}var H=k.getTextColor()||t.get(["axisLine","lineStyle","color"]),it=r.dataToCoord(w),yt=new da({x:it,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:p,z2:10+(y.level||0),style:al(k,{text:C,align:k.getShallow("align",!0)||u.textAlign,verticalAlign:k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||u.textVerticalAlign,fill:Ki(H)?H("category"===r.type?E:"value"===r.type?w+"":w,b):H})});if(yt.anid="label_"+w,g){var lt=by.makeAxisEventDataBase(t);lt.targetType="axisLabel",lt.value=E,lt.tickIndex=b,"category"===r.type&&(lt.dataIndex=w),Ar(yt).eventData=lt}e.add(yt),yt.updateTransform(),h.push(yt),n.add(yt),yt.decomposeTransform()}),h}}(t,i,e,n);(function fzt(n,e,t){if(!Rnt(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]),o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=(t=t||[])[0],u=t[1],d=t[t.length-1],h=t[t.length-2];!1===i?(tf(o),tf(c)):$nt(o,a)&&(i?(tf(a),tf(u)):(tf(o),tf(c))),!1===r?(tf(s),tf(d)):$nt(l,s)&&(r?(tf(l),tf(h)):(tf(s),tf(d)))}})(e,o,r),function mzt(n,e,t,i){var r=t.axis,o=t.getModel("minorTick");if(o.get("show")&&!r.scale.isBlank()){var a=r.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=i*o.get("length"),c=er(s.getLineStyle(),er(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var d=Knt(a[u],e.transform,l,c,"minorticks_"+u),h=0;h<d.length;h++)n.add(d[h])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&Gtt(Vtt(Nn(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,e,t,i){var r=bu(n.axisName,e.get("name"));if(r){var h,g,o=e.get("nameLocation"),a=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=["start"===o?c[0]-u*l:"end"===o?c[1]+u*l:(c[0]+c[1])/2,qnt(o)?n.labelOffset+a*l:0],p=e.get("nameRotate");null!=p&&(p=p*sv/180),qnt(o)?h=by.innerTextLayout(n.rotation,p??n.rotation,a):(h=function hzt(n,e,t,i){var o,a,r=K$(t-n),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return EA(r-sv/2)?(a=l?"bottom":"top",o="center"):EA(r-1.5*sv)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*sv&&r>sv/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}(n.rotation,o,p||0,c),null!=(g=n.axisNameAvailableWidth)&&(g=Math.abs(g/Math.sin(h.rotation)),!isFinite(g)&&(g=null)));var y=s.getFont(),b=e.get("nameTruncate",!0)||{},w=b.ellipsis,C=bu(n.nameTruncateMaxWidth,b.maxWidth,g),E=new da({x:d[0],y:d[1],rotation:h.rotation,silent:by.isLabelSilent(e),style:al(s,{text:r,font:y,overflow:"truncate",width:C,ellipsis:w,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(Kb({el:E,componentModel:e,itemName:r}),E.__fullText=r,E.anid="name",e.get("triggerEvent")){var k=by.makeAxisEventDataBase(e);k.targetType="axisName",k.name=r,Ar(E).eventData=k}i.add(E),E.updateTransform(),t.add(E),E.decomposeTransform()}}};function tf(n){n&&(n.ignore=!0)}function $nt(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=nA([]);return S_(r,r,-n.rotation),t.applyTransform(Em([],r,n.getLocalTransform())),i.applyTransform(Em([],r,e.getLocalTransform())),t.intersect(i)}}function qnt(n){return"middle"===n||"center"===n}function Knt(n,e,t,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var c=n[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=t,e&&(zu(a,a,e),zu(s,s,e));var u=new wu({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});qb(u.shape,u.style.lineWidth),u.anid=r+"_"+n[l].tickValue,o.push(u)}return o}const Um=by;function ZV(n,e){return"all"===n||Ln(n)&&so(n,e)>=0||n===e}function YV(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[pC(n)]}function XV(n){return!!n.get(["handle","show"])}function pC(n){return n.type+"||"+n.id}var Qnt={},Czt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r,o){this.axisPointerClass&&function wzt(n){var e=YV(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),a=t.get("value");null!=a&&(a=i.parse(a));var s=XV(t);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function Szt(n){var e=YV(n);return e&&e.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){Qnt[t]=i},e.getAxisPointerClass=function(t){return t&&Qnt[t]},e.type="axis",e}(ql);const xy=Czt;var $V=oa();function Jnt(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,d=$V(n).splitAreaColors,h=Wi(),p=0;if(d)for(var g=0;g<c.length;g++){var y=d.get(c[g].tickValue);if(null!=y){p=(y+(u-1)*g)%u;break}}var b=r.toGlobalCoord(c[0].coord),w=a.getAreaStyle();for(s=Ln(s)?s:[s],g=1;g<c.length;g++){var C=r.toGlobalCoord(c[g].coord),E=void 0,k=void 0,j=void 0,H=void 0;r.isHorizontal()?(k=l.y,H=l.height,b=(E=b)+(j=C-E)):(E=l.x,j=l.width,b=(k=b)+(H=C-k));var it=c[g-1].tickValue;null!=it&&h.set(it,p),e.add(new aa({anid:null!=it?"area_"+it:null,shape:{x:E,y:k,width:j,height:H},style:er({fill:s[p]},w),autoBatch:!0,silent:!0})),p=(p+1)%u}$V(n).splitAreaColors=h}}}function tit(n){$V(n).splitAreaColors=null}var Mzt=["axisLine","axisTickLabel","axisName"],Ezt=["splitArea","splitLine","minorSplitLine"],eit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return vn(e,n),e.prototype.render=function(t,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new br,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),l=HV(s,t),c=new Um(t,An({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(NV(h[p].getOtherAxis(t.axis).scale))return!0;return!1}},l));Xt(Mzt,c.add,c),this._axisGroup.add(c.getGroup()),Xt(Ezt,function(d){t.get([d,"show"])&&Tzt[d](this,this._axisGroup,t,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||BS(a,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){tit(this)},e.type="cartesianAxis",e}(xy),Tzt={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=Ln(s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=r.isHorizontal(),u=0,d=r.getTicksCoords({tickModel:o}),h=[],p=[],g=a.getLineStyle(),y=0;y<d.length;y++){var b=r.toGlobalCoord(d[y].coord);c?(h[0]=b,h[1]=l.y,p[0]=b,p[1]=l.y+l.height):(h[0]=l.x,h[1]=b,p[0]=l.x+l.width,p[1]=b);var w=u++%s.length,E=new wu({anid:null!=d[y].tickValue?"line_"+d[y].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:er({stroke:s[w]},g),silent:!0});qb(E.shape,g.lineWidth),e.add(E)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,a=t.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],d=[],h=a.getLineStyle(),p=0;p<c.length;p++)for(var g=0;g<c[p].length;g++){var y=r.toGlobalCoord(c[p][g].coord);l?(u[0]=y,u[1]=s.y,d[0]=y,d[1]=s.y+s.height):(u[0]=s.x,u[1]=y,d[0]=s.x+s.width,d[1]=y);var b=new wu({anid:"minor_line_"+c[p][g].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:h,silent:!0});qb(b.shape,h.lineWidth),e.add(b)}},splitArea:function(n,e,t,i){Jnt(n,e,t,i)}},nit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="xAxis",e}(eit),Dzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=nit.type,t}return vn(e,n),e.type="yAxis",e}(eit),Azt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="grid",t}return vn(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new aa({shape:t.coordinateSystem.getRect(),style:er({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(ql),iit={offset:0};function rit(n){n.registerComponentView(Azt),n.registerComponentModel(vVt),n.registerCoordinateSystem("cartesian2d",dzt),cx(n,"x",RV,iit),cx(n,"y",RV,iit),n.registerComponentView(nit),n.registerComponentView(Dzt),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Pzt(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();Xt(o,function(a,s){t.each(t.mapDimension(o[s].dim),function(l,c){i[c]=i[c]||[];var u=r.dataToPoint(l,s);i[c][s]=oit(u)?u:ait(r)})}),t.each(function(a){var s=function vPt(n,e,t){if(n&&e)for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}(i[a],function(l){return oit(l)})||ait(r);i[a].push(s.slice()),t.setItemLayout(a,i[a])})}})}function oit(n){return!isNaN(n[0])&&!isNaN(n[1])}function ait(n){return[n.cx,n.cy]}function kzt(n){var e=n.polar;if(e){Ln(e)||(e=[e]);var t=[];Xt(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Ln(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}Xt(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Rzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.coordinateSystem,a=this.group,s=t.getData(),l=this._data;function c(h,p){var g=h.getItemVisual(p,"symbol")||"circle";if("none"!==g){var y=WS(h.getItemVisual(p,"symbolSize")),b=Vc(g,-1,-1,2,2),w=h.getItemVisual(p,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:y[0]/2,scaleY:y[1]/2,rotation:w*Math.PI/180||0}),b}}function u(h,p,g,y,b,w){g.removeAll();for(var C=0;C<p.length-1;C++){var E=c(y,b);E&&(E.__dimIdx=C,h[C]?(E.setPosition(h[C]),J[w?"initProps":"updateProps"](E,{x:p[C][0],y:p[C][1]},t,b)):E.setPosition(p[C]),g.add(E))}}function d(h){return Nn(h,function(p){return[o.cx,o.cy]})}s.diff(l).add(function(h){var p=s.getItemLayout(h);if(p){var g=new $d,y=new qd,b={shape:{points:p}};g.shape.points=d(p),y.shape.points=d(p),Cl(g,b,t,h),Cl(y,b,t,h);var w=new br,C=new br;w.add(y),w.add(g),w.add(C),u(y.shape.points,p,C,s,h,!0),s.setItemGraphicEl(h,w)}}).update(function(h,p){var g=l.getItemGraphicEl(p),y=g.childAt(0),b=g.childAt(1),w=g.childAt(2),C={shape:{points:s.getItemLayout(h)}};C.shape.points&&(u(y.shape.points,C.shape.points,w,s,h,!1),Lf(b),Lf(y),va(y,C,t),va(b,C,t),s.setItemGraphicEl(h,g))}).remove(function(h){a.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,p){var g=s.getItemModel(p),y=h.childAt(0),b=h.childAt(1),w=h.childAt(2),C=s.getItemVisual(p,"style"),E=C.fill;a.add(h),y.useStyle(er(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),Gu(y,g,"lineStyle"),Gu(b,g,"areaStyle");var k=g.getModel("areaStyle"),j=k.isEmpty()&&k.parentModel.isEmpty();b.ignore=j,Xt(["emphasis","select","blur"],function(yt){var lt=g.getModel([yt,"areaStyle"]),Lt=lt.isEmpty()&&lt.parentModel.isEmpty();b.ensureState(yt).ignore=Lt&&j}),b.useStyle(er(k.getAreaStyle(),{fill:E,opacity:.7,decal:C.decal}));var H=g.getModel("emphasis"),it=H.getModel("itemStyle").getItemStyle();w.eachChild(function(yt){if(yt instanceof Uu){var lt=yt.style;yt.useStyle(An({image:lt.image,x:lt.x,y:lt.y,width:lt.width,height:lt.height},C))}else yt.useStyle(C),yt.setColor(E),yt.style.strokeNoScale=!0;yt.ensureState("emphasis").style=ur(it);var kt=s.getStore().get(s.getDimensionIndex(yt.__dimIdx),p);(null==kt||isNaN(kt))&&(kt=""),Hu(yt,uu(g),{labelFetcher:s.hostModel,labelDataIndex:p,labelDimIndex:yt.__dimIdx,defaultText:kt,inheritColor:E,defaultOpacity:C.opacity})}),$l(h,H.get("focus"),H.get("blurScope"),H.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(ll);const Lzt=Rzt;var Ozt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return vn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new cC(vi(this.getData,this),vi(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return lx(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),c=""===l?this.name:l,u=HQ(this,t);return du("section",{header:c,sortBlocks:!0,blocks:Nn(s,function(d){var h=o.get(o.mapDimension(d.dim),t);return du("nameValue",{markerType:"subItem",markerColor:u,name:d.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(Nn(r.dimensions,function(c){return i.mapDimension(c)}),t),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Pl);const Nzt=Ozt;var mC=ynt.value;function sP(n,e){return er({show:e},n)}var Fzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),h=this.get("triggerEvent"),p=Nn(this.get("indicator")||[],function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var y=l;null!=g.color&&(y=er({color:g.color},l));var b=Yr(ur(g),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:g.text,showName:c,nameLocation:"end",nameGap:d,nameTextStyle:y,triggerEvent:h},!1);si(u)?b.name=u.replace("{value}",b.name??""):Ki(u)&&(b.name=u(b.name,b));var C=new sl(b,null,this.ecModel);return Nc(C,uC.prototype),C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Yr({lineStyle:{color:"#bbb"}},mC.axisLine),axisLabel:sP(mC.axisLabel,!1),axisTick:sP(mC.axisTick,!1),splitLine:sP(mC.splitLine,!0),splitArea:sP(mC.splitArea,!0),indicator:[]},e}(ha);const Bzt=Fzt;var Vzt=["axisLine","axisTickLabel","axisName"],zzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;Xt(Nn(i.getIndicatorAxes(),function(a){var s=a.model.get("showName")?a.name:"";return new Um(a.model,{axisName:s,position:[i.cx,i.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){Xt(Vzt,a.add,a),this.group.add(a.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=t.get("shape"),a=t.getModel("splitLine"),s=t.getModel("splitArea"),l=a.getModel("lineStyle"),c=s.getModel("areaStyle"),u=a.get("show"),d=s.get("show"),h=l.get("color"),p=c.get("color"),g=Ln(h)?h:[h],y=Ln(p)?p:[p],b=[],w=[];if("circle"===o)for(var E=r[0].getTicksCoords(),k=i.cx,j=i.cy,H=0;H<E.length;H++)u&&b[C(b,g,H)].push(new Mp({shape:{cx:k,cy:j,r:E[H].coord}})),d&&H<E.length-1&&w[C(w,y,H)].push(new cI({shape:{cx:k,cy:j,r0:E[H].coord,r:E[H+1].coord}}));else{var yt,lt=Nn(r,function(Ee,be){var Be=Ee.getTicksCoords();return yt=null==yt?Be.length-1:Math.min(Be.length-1,yt),Nn(Be,function(Ne){return i.coordToPoint(Ne.coord,be)})}),Lt=[];for(H=0;H<=yt;H++){for(var kt=[],Jt=0;Jt<r.length;Jt++)kt.push(lt[Jt][H]);kt[0]&&kt.push(kt[0].slice()),u&&b[C(b,g,H)].push(new qd({shape:{points:kt}})),d&&Lt&&w[C(w,y,H-1)].push(new $d({shape:{points:kt.concat(Lt)}})),Lt=kt.slice().reverse()}}var ne=l.getLineStyle(),ce=c.getAreaStyle();Xt(w,function(Ee,be){this.group.add(Qh(Ee,{style:er({stroke:"none",fill:y[be%y.length]},ce),silent:!0}))},this),Xt(b,function(Ee,be){this.group.add(Qh(Ee,{style:er({fill:"none",stroke:g[be%g.length]},ne),silent:!0}))},this)}function C(Ee,be,Be){var Ne=Be%be.length;return Ee[Ne]=Ee[Ne]||[],Ne}},e.type="radar",e}(ql);const Uzt=zzt;var Gzt=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return vn(e,n),e}(Hf);const Hzt=Gzt;var jzt=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=Nn(e.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new Hzt(a,new av);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(r),this.cy-e*Math.sin(r)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var s,o=Math.atan2(-i,t),a=1/0,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],d=Math.abs(o-u.angle);d<a&&(s=u,l=c,a=d)}return[l,+(s&&s.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),a=Math.min(r,o)/2;this.cx=ni(i[0],r),this.cy=ni(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(si(s)||ua(s))&&(s=[0,s]),this.r0=ni(s[0],a),this.r=ni(s[1],a),Xt(this._indicatorAxes,function(l,c){l.setExtent(this.r0,this.r);var u=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),l.angle=u},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;Xt(i,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===r){var c=s.getData();Xt(i,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var o=r.get("splitNumber"),a=new av;a.setExtent(0,o),a.setInterval(1),Xt(i,function(s,l){Wnt(s.scale,s.model,a)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();const Wzt=jzt;function Zzt(n){n.registerCoordinateSystem("radar",Wzt),n.registerComponentModel(Bzt),n.registerComponentView(Uzt),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var sit="\0_ec_interaction_mutex";function lit(n,e){return!!qV(n)[e]}function qV(n){return n[sit]||(n[sit]={})}Dp({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},bc);var qzt=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=vi(i._mousedownHandler,i),o=vi(i._mousemoveHandler,i),a=vi(i._mouseupHandler,i),s=vi(i._mousewheelHandler,i),l=vi(i._pinchHandler,i);return i.enable=function(c,u){this.disable(),this._opt=er(ur(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==c&&(c=!0),(!0===c||"move"===c||"pan"===c)&&(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",a)),(!0===c||"scale"===c||"zoom"===c)&&(t.on("mousewheel",s),t.on("pinch",l))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",l)},i}return vn(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!qX(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&lP("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!lit(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Mm(t.event),cit(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){qX(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=lP("zoomOnMouseWheel",t,this._opt),r=lP("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,a=Math.abs(o),s=t.offsetX,l=t.offsetY;if(0!==o&&(i||r)){if(i){var c=a>3?1.4:a>1?1.2:1.1;KV(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?c:1/c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(o);KV(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){lit(this._zr,"globalPan")||KV(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(zh);function KV(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Mm(i.event),cit(n,e,t,i,r))}function cit(n,e,t,i,r){r.isAvailableBehavior=vi(lP,null,t,i),n.trigger(e,r)}function lP(n,e,t){var i=t[n];return!n||i&&(!si(i)||e.event[i+"Key"])}const gC=qzt;function QV(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function JV(n,e,t,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=e,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var c=a/n.zoom;n.zoom=a,r.x-=(t-r.x)*(c-1),r.y-=(i-r.y)*(c-1),r.scaleX*=c,r.scaleY*=c,r.dirty()}var Kzt={axisPointer:1,tooltip:1,brush:1};function cP(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!Kzt.hasOwnProperty(i.mainType)&&r&&r.model!==t}function uit(n){si(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var tz,uP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},dit=Io(uP),dP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},hit=Io(dP),Qzt=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=uit(e);this._defsUsePending=[];var r=new br;this._root=r;var u,d,o=[],a=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||t.width),l=parseFloat(i.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),_h(i,r,null,!0,!1);for(var c=i.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function e5t(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var h=hP(a);h.length>=4&&(u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(u&&null!=s&&null!=l&&(d=bit(u,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var p=r;(r=new br).add(p),p.scaleX=p.scaleY=d.scale,p.x=d.x,p.y=d.y}return!t.ignoreRootClip&&null!=s&&null!=l&&r.setClipPath(new aa({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:d,named:o}},n.prototype._parseNode=function(e,t,i,r,o,a){var l,s=e.nodeName.toLowerCase(),c=r;if("defs"===s&&(o=!0),"text"===s&&(a=!0),"defs"===s||"switch"===s)l=t;else{if(!o){var u=tz[s];if(u&&xi(tz,s)){l=u.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:s,el:l};i.push(h),"g"===s&&(c=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:l});t.add(l)}}var p=fit[s];if(p&&xi(fit,s)){var g=p.call(this,e),y=e.getAttribute("id");y&&(this._defs[y]=g)}}if(l&&l.isGroup)for(var b=e.firstChild;b;)1===b.nodeType?this._parseNode(b,l,i,c,o,a):3===b.nodeType&&a&&this._parseText(b,l),b=b.nextSibling},n.prototype._parseText=function(e,t){var i=new gS({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ef(t,i),_h(e,i,this._defsUsePending,!1,!1),function Jzt(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,r=i;i&&"auto"!==i&&"baseline"!==i?"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":("central"===i||"mathematical"===i)&&(r="middle"):r="alphabetic",n.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),n.style.textAlign=s)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i},n.internalField=void(tz={g:function(e,t){var i=new br;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new aa;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Mp;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new wu;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new I3;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var r,i=e.getAttribute("points");i&&(r=git(i));var o=new $d({shape:{points:r||[]},silent:!0});return ef(t,o),_h(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var r,i=e.getAttribute("points");i&&(r=git(i));var o=new qd({shape:{points:r||[]},silent:!0});return ef(t,o),_h(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new Uu;return ef(t,i),_h(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new br;return ef(t,s),_h(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",s=new br;return ef(t,s),_h(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(e,t){var r=nJ(e.getAttribute("d")||"");return ef(t,r),_h(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),n}(),fit={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new Tp(e,t,i,r);return pit(n,o),mit(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new vJ(e,t,i);return pit(n,r),mit(n,r),r}};function pit(n,e){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(e.global=!0)}function mit(n,e){for(var t=n.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,i=t.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};yit(t,o,o);var a=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}t=t.nextSibling}}function ef(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),er(e.__inheritedStyle,n.__inheritedStyle))}function git(n){for(var e=hP(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function _h(n,e,t,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===n.nodeType&&(function r5t(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(i5t,function(d,h,p){return i.push(h,p),""});for(var o=i.length-1;o>0;o-=2){var s=i[o-1],l=hP(i[o]);switch(r=r||[1,0,0,1,0,0],s){case"translate":hp(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":TF(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":S_(r,r,-parseFloat(l[0])*ez);break;case"skewX":Em(r,[1,0,Math.tan(parseFloat(l[0])*ez),1,0,0],r);break;case"skewY":Em(r,[1,Math.tan(parseFloat(l[0])*ez),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(n,e),yit(n,a,s),i||function o5t(n,e,t){for(var i=0;i<dit.length;i++)null!=(o=n.getAttribute(r=dit[i]))&&(e[uP[r]]=o);for(i=0;i<hit.length;i++){var r,o;null!=(o=n.getAttribute(r=hit[i]))&&(t[dP[r]]=o)}}(n,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=vit(o,"fill",a.fill,t)),null!=a.stroke&&(o.style.stroke=vit(o,"stroke",a.stroke,t)),Xt(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),Xt(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=Nn(hP(a.lineDash),function(l){return parseFloat(l)})),("hidden"===a.visibility||"collapse"===a.visibility)&&(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var t5t=/^url\(\s*#(.*?)\)/;function vit(n,e,t,i){var r=t&&t.match(t5t);if(!r)return"none"===t&&(t=null),t;var o=If(r[1]);i.push([n,e,o])}var n5t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function hP(n){return n.match(n5t)||[]}var i5t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ez=Math.PI/180,_it=/([^\s:;]+)\s*:\s*([^:;]+)/g;function yit(n,e,t){var i=n.getAttribute("style");if(i){_it.lastIndex=0;for(var r;null!=(r=_it.exec(i));){var o=r[1],a=xi(uP,o)?uP[o]:null;a&&(e[a]=r[2]);var s=xi(dP,o)?dP[o]:null;s&&(t[s]=r[2])}}}function bit(n,e){var r=Math.min(e.width/n.width,e.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}var s5t=1e-8;function xit(n,e){return Math.abs(n-e)<s5t}function wy(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=km(r[0],r[1],a[0],a[1],e,t),r=a}var s=n[0];return(!xit(r[0],s[0])||!xit(r[1],s[1]))&&(i+=km(r[0],r[1],s[0],s[1],e,t)),0!==i}var l5t=[];function nz(n,e){for(var t=0;t<n.length;t++)zu(n[t],n[t],e)}function wit(n,e,t,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Fg(e,e,o),Bg(t,t,o))}}var Sit=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),Cit=function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t},Mit=function n(e){this.type="linestring",this.points=e},Eit=function(n){function e(t,i,r){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return vn(e,n),e.prototype.calcCenter=function(){for(var i,t=this.geometries,r=0,o=0;o<t.length;o++){var a=t[o],s=a.exterior,l=s&&s.length;l>r&&(i=a,r=l)}if(i)return function c5t(n){for(var e=0,t=0,i=0,r=n.length,o=n[r-1][0],a=n[r-1][1],s=0;s<r;s++){var l=n[s][0],c=n[s][1],u=o*c-l*a;e+=u,t+=(o+l)*u,i+=(a+c)*u,o=l,a=c}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}(i.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return Xt(this.geometries,function(s){"polygon"===s.type?wit(s.exterior,r,o,t):Xt(s.points,function(l){wit(l,r,o,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new $r(r[0],r[1],o[0]-r[0],o[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var o=0,a=r.length;o<a;o++){var s=r[o];if("polygon"===s.type){var c=s.interiors;if(wy(s.exterior,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(wy(c[u],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new $r(t,i,r,o),c=a.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++){var h=u[d];"polygon"===h.type?(nz(h.exterior,c),Xt(h.interiors,function(p){nz(p,c)})):Xt(h.points,function(p){nz(p,c)})}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(Sit),u5t=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return vn(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=nA(l5t),a=t;a&&!a.isGeoSVGGraphicRoot;)Em(o,a.getLocalTransform(),o),a=a.parent;return wb(o,o),zu(r,r,o),r},e}(Sit),d5t=Wi(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),h5t=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Wi(),this._freedGraphics=[],this._mapName=e,this._parsedXML=uit(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function p5t(n){var e=[],t=Wi();return Xt(n,function(i){if(null==i.namedFrom){var r=new u5t(i.name,i.el);e.push(r),t.set(i.name,r)}}),{regions:e,regionsMap:t}}(e.named),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&function a5t(n,e){return(new Qzt).parse(n,e)}(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Sd(null!=(i=t.root))}catch(b){throw new Error("Invalid svg format\n"+b.message)}var r=new br;r.add(i),r.isGeoSVGGraphicRoot=!0;var o=t.width,a=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,d=void 0,h=void 0;if(null!=o?(c=0,d=o):s&&(c=s.x,d=s.width),null!=a?(u=0,h=a):s&&(u=s.y,h=s.height),null==c||null==u){var p=i.getBoundingRect();null==c&&(c=p.x,d=p.width),null==u&&(u=p.y,h=p.height)}l=this._boundingRect=new $r(c,u,d,h)}if(s){var g=bit(s,l);i.scaleX=i.scaleY=g.scale,i.x=g.x,i.y=g.y}r.setClipPath(new aa({shape:l.plain()}));var y=[];return Xt(t.named,function(b){null!=d5t.get(b.svgNodeTagLower)&&(y.push(b),function f5t(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}(b.el))}),{root:r,boundingRect:l,named:y}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function iz(n,e,t){for(var i=0;i<n.length;i++)n[i]=Tit(n[i],e[i],t)}function Tit(n,e,t){for(var i=[],r=e[0],o=e[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/t,l/t])}return i}for(var rz=[126,25],Sy=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Cy=0;Cy<Sy.length;Cy++)for(var dx=0;dx<Sy[Cy].length;dx++)Sy[Cy][dx][0]/=10.5,Sy[Cy][dx][1]/=-14,Sy[Cy][dx][0]+=rz[0],Sy[Cy][dx][1]+=rz[1];var _5t={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},b5t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],S5t=function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=Wi(),this._mapName=e,this._specialAreas=i,this._geoJSON=function M5t(n){return si(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(t)}return n.prototype.load=function(e,t){var i=this._parsedMap.get(t=t||"name");if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:C5t(r)})}var o=Wi(),a=[];return Xt(i.regions,function(s){var l=s.name;e&&xi(e,l)&&(s=s.cloneShallow(l=e[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:i.boundingRect||new $r(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var r,t=this._mapName,i=this._geoJSON;try{r=i?function g5t(n,e){return n=function m5t(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;return null==t&&(t=1024),Xt(e.features,function(r){var o=r.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=Tit(s,a,t);break;case"Polygon":case"MultiLineString":iz(s,a,t);break;case"MultiPolygon":Xt(s,function(l,c){return iz(l,a[c],t)})}}),e.UTF8Encoding=!1,e}(n),Nn(Ss(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new Cit(a[0],a.slice(1)));break;case"MultiPolygon":Xt(r.coordinates,function(l){l[0]&&o.push(new Cit(l[0],l.slice(1)))});break;case"LineString":o.push(new Mit([r.coordinates]));break;case"MultiLineString":o.push(new Mit(r.coordinates))}var s=new Eit(i[e||"name"],o,i.cp);return s.properties=i,s})}(i,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function v5t(n,e){if("china"===n){for(var t=0;t<e.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===e[t].name)return;e.push(new Eit("\u5357\u6d77\u8bf8\u5c9b",Nn(Sy,function(i){return{type:"polygon",exterior:i}}),rz))}}(t,r),Xt(r,function(o){var a=o.name;(function y5t(n,e){if("china"===n){var t=_5t[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/14,e.setCenter(i)}}})(t,o),function x5t(n,e){"china"===n&&"\u53f0\u6e7e"===e.name&&e.geometries.push({type:"polygon",exterior:b5t[0]})}(t,o);var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),r},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function C5t(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var vC=Wi();const Gm={registerMap:function(n,e,t){if(e.svg){var i=new h5t(n,e.svg);vC.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new S5t(n,r,t),vC.set(n,i)}},getGeoResource:function(n){return vC.get(n)},getMapForUser:function(n){var e=vC.get(n);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(n,e,t){var i=vC.get(n);if(i)return i.load(e,t)}};var oz=["rect","circle","line","ellipse","polygon","polyline","path"],E5t=Wi(oz),T5t=Wi(oz.concat(["g"])),D5t=Wi(oz.concat(["g"])),Ait=oa();function fP(n){var e=n.getItemStyle(),t=n.get("areaColor");return null!=t&&(e.fill=t),e}function Iit(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var A5t=function(){function n(e){var t=new br;this.uid=Fb("ec_map_draw"),this._controller=new gC(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new br),t.add(this._svgGroup=new br)}return n.prototype.draw=function(e,t,i,r,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(w){!s&&w.getHostGeoModel()===e&&(s=w.getData())});var l=e.coordinateSystem,c=this._regionsGroup,u=this.group,d=l.getTransformInfo(),h=d.raw,p=d.roam;!c.childAt(0)||o?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):va(u,p,e);var y=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,b={api:i,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:y,isGeo:a,transformInfoRaw:h};"geoJSON"===l.resourceType?this._buildGeoJSON(b):"geoSVG"===l.resourceType&&this._buildSVG(b),this._updateController(e,t,i),this._updateMapSelectHandler(e,c,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Wi(),i=Wi(),r=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,s=e.data,l=e.geo.projection,c=l&&l.stream;function u(p,g){return g&&(p=g(p)),p&&[p[0]*o.scaleX+o.x,p[1]*o.scaleY+o.y]}function d(p){for(var g=[],y=!c&&l&&l.project,b=0;b<p.length;++b){var w=u(p[b],y);w&&g.push(w)}return g}function h(p){return{shape:{points:d(p)}}}r.removeAll(),Xt(e.geo.regions,function(p){var g=p.name,y=t.get(g),b=i.get(g)||{},w=b.dataIdx,C=b.regionModel;y||(y=t.set(g,new br),r.add(y),w=s?s.indexOfName(g):null,C=e.isGeo?a.getRegionModel(g):s?s.getItemModel(w):null,i.set(g,{dataIdx:w,regionModel:C}));var E=[],k=[];Xt(p.geometries,function(it){if("polygon"===it.type){var yt=[it.exterior].concat(it.interiors||[]);c&&(yt=Nit(yt,c)),Xt(yt,function(Lt){E.push(new $d(h(Lt)))})}else{var lt=it.points;c&&(lt=Nit(lt,c,!0)),Xt(lt,function(Lt){k.push(new qd(h(Lt)))})}});var j=u(p.getCenter(),l&&l.project);function H(it,yt){if(it.length){var lt=new R3({culling:!0,segmentIgnoreThreshold:1,shape:{paths:it}});y.add(lt),Pit(e,lt,w,C),kit(e,lt,g,C,a,w,j),yt&&(Iit(lt),Xt(lt.states,Iit))}}H(E),H(k,!0)}),t.each(function(p,g){var y=i.get(g),w=y.regionModel;Rit(e,p,g,w,a,y.dataIdx),Lit(e,p,g,w,a),Oit(e,p,g,w,a)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=Wi(),o=!1;Xt(this._svgGraphicRecord.named,function(a){var s=a.name,l=e.mapOrGeoModel,c=e.data,u=a.svgNodeTagLower,d=a.el,h=c?c.indexOfName(s):null,p=l.getRegionModel(s);null!=E5t.get(u)&&d instanceof Zh&&Pit(e,d,h,p),d instanceof Zh&&(d.culling=!0),d.z2EmphasisLift=0,a.namedFrom||(null!=D5t.get(u)&&kit(e,d,s,p,l,h,null),Rit(e,d,s,p,l,h),Lit(e,d,s,p,l),null==T5t.get(u))||("self"===Oit(e,d,s,p,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(d))},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){W_(o);var a=o.ensureState("blur").style||{};null==a.opacity&&null!=r&&(a.opacity=r),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Gm.getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=Gm.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var c={type:"geoRoam",componentType:s};return c[s+"Id"]=e.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,QV(a,c.dx,c.dy),i.dispatchAction(An(l(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,JV(a,c.scale,c.originX,c.originY),i.dispatchAction(An(l(),{zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(c,u,d){return r.containPoint([u,d])&&!cP(c,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Ait(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function Pit(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=fP(r),c=fP(o),u=fP(s),d=fP(a),h=n.data;if(h){var p=h.getItemVisual(t,"style"),g=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=nx(g,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=d,W_(e)}function kit(n,e,t,i,r,o,a){var s=n.data,l=n.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),o)),u=s&&s.getItemLayout(o);if(l||c||u&&u.showLabel){var d=l?t:o,h=void 0;(!s||o>=0)&&(h=r);var p=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Hu(e,uu(i),{labelFetcher:h,labelDataIndex:d,defaultText:t},p);var g=e.getTextContent();if(g&&(Ait(g).ignore=g.ignore,e.textConfig&&a)){var y=e.getBoundingRect().clone();e.textConfig.layoutRect=y,e.textConfig.position=[(a[0]-y.x)/y.width*100+"%",(a[1]-y.y)/y.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function Rit(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):Ar(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function Lit(n,e,t,i,r){n.data||Kb({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function Oit(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return $l(e,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&function TLt(n,e,t){var i=Ar(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}(e,r,t),a}function Nit(n,e,t){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,c){isFinite(l)&&isFinite(c)&&r.push([l,c])},sphere:function(){}});return!t&&s.polygonStart(),Xt(n,function(l){s.lineStart();for(var c=0;c<l.length;c++)s.point(l[c][0],l[c][1]);s.lineEnd()}),!t&&s.polygonEnd(),i}const Fit=A5t;var I5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===t.id)(s=this._mapDraw)&&a.add(s.group);else if(t.needsDrawMap){var s=this._mapDraw||new Fit(r);a.add(s.group),s.draw(t,i,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var c=o.getItemLayout(l);if(c&&c.point){var u=c.point,d=c.offset,h=new Mp({style:{fill:t.getData().getVisual("style").fill},shape:{cx:u[0]+9*d,cy:u[1],r:3},silent:!0,z2:8+(d?0:kb+1)});if(!d){var p=t.mainSeries.getData(),g=o.getName(l),y=p.indexOfName(g),b=o.getItemModel(l),w=b.getModel("label"),C=p.getItemGraphicEl(y);Hu(h,uu(b),{labelFetcher:{getFormattedLabel:function(E,k){return t.getFormattedLabel(y,k)}},defaultText:g}),h.disableLabelAnimation=!0,w.get("position")||h.setTextConfig({position:"bottom"}),C.onHoverStateChange=function(E){VA(h,E)}}a.add(h)}}})},e.type="map",e}(ll);const P5t=I5t;var k5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},t}return vn(e,n),e.prototype.getInitialData=function(t){for(var i=lx(this,{coordDimensions:["value"],encodeDefaulter:Lr(r3,this)}),r=Wi(),o=[],a=0,s=i.count();a<s;a++){var l=i.getName(a);r.set(l,!0)}return Xt(Gm.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var d=u.name;r.get(d)||o.push(d)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),a=this.getRawValue(t),s=o.getName(t),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var d=l[u].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[u].originalData.get(h,d))||c.push(l[u].name)}return du("section",{header:c.join(", "),noHeader:!c.length,blocks:[du("nameValue",{name:s,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=Vc(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Pl);const R5t=k5t;function O5t(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),Xt(e,function(t,i){for(var r=function L5t(n,e){var t={};return Xt(n,function(i){i.each(i.mapDimension("value"),function(r,o){var a="ec-"+i.getName(o);t[a]=t[a]||[],isNaN(r)||t[a].push(r)})}),n[0].map(n[0].mapDimension("value"),function(i,r){for(var o="ec-"+n[0].getName(r),a=0,s=1/0,l=-1/0,c=t[o].length,u=0;u<c;u++)s=Math.min(s,t[o][u]),l=Math.max(l,t[o][u]),a+=t[o][u];return 0===c?NaN:"min"===e?s:"max"===e?l:"average"===e?a/c:a})}(Nn(t,function(a){return a.getData()}),t[0].get("mapValueCalculation")),o=0;o<t.length;o++)t[o].originalData=t[o].getData();for(o=0;o<t.length;o++)t[o].seriesGroup=t,t[o].needsDrawMap=0===o&&!t[o].getHostGeoModel(),t[o].setData(r.cloneShallow()),t[o].mainSeries=t[0]})}function N5t(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};Xt(t.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var d=l.getName(u),h=s.getRegion(d);if(h&&!isNaN(c)){var p=r[d]||0,g=s.dataToPoint(h.getCenter());r[d]=p+1,l.setItemLayout(u,{point:g,offset:p})}})});var o=t.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),e[i]=!0}})}var Bit=zu,F5t=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Dm,i._rawTransformable=new Dm,i.name=t,i}return vn(e,n),e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new $r(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new $r(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new $r(t,i,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[ni(t[0],i.getWidth()),ni(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=zu([],o,t),r=zu([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),EF(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],wb(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new Dm;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?Bit(r,t,o):Cd(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?Bit([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=Vit(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=Vit(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Dm);function Vit(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const _C=F5t;var B5t={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},zit=["lng","lat"],Uit=function(n){function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=zit,o.type="geo",o._nameCoordMap=Wi(),o.map=i;var h,a=r.projection,s=Gm.load(i,r.nameMap,r.nameProperty),l=Gm.getGeoResource(i),u=(o.resourceType=l?l.type:null,o.regions=s.regions),d=B5t[l.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a,a)for(var p=0;p<u.length;p++){var g=u[p].getBoundingRect(a);(h=h||g.clone()).union(g)}else h=s.boundingRect;return o.setBoundingRect(h.x,h.y,h.width,h.height),o.aspectScale=a?1:Xr(r.aspectScale,d.aspectScale),o._invertLongitute=!a&&d.invertLongitute,o}return vn(e,n),e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new $r(t,i,r,o));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(si(t)&&(t=this.getGeoCoord(t)),t){var o=this.projection;return o&&(t=o.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=Git(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=Git(i);return o===this?o.pointToData(r):null},e}(_C);function Git(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Fc).models[0]||{}).coordinateSystem:null}Nc(Uit,_C);const Hit=Uit;function jit(n,e){var t=n.get("boundingCoords");if(null!=t){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],c=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var u=function(H,it,yt,lt){for(var Lt=yt-H,kt=lt-it,Jt=0;Jt<=100;Jt++){var ne=Jt/100,ce=o.project([H+Lt*ne,it+kt*ne]);Fg(i,i,ce),Bg(r,r,ce)}};u(a,s,l,s),u(l,s,l,c),u(l,c,a,c),u(a,c,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var C,E,k,d=this.getBoundingRect(),h=n.get("layoutCenter"),p=n.get("layoutSize"),g=e.getWidth(),y=e.getHeight(),b=d.width/d.height*this.aspectScale,w=!1;if(h&&p&&(C=[ni(h[0],g),ni(h[1],y)],E=ni(p,Math.min(g,y)),!isNaN(C[0])&&!isNaN(C[1])&&!isNaN(E)&&(w=!0)),w)k={},b>1?(k.width=E,k.height=E/b):(k.height=E,k.width=E*b),k.y=C[1]-k.height/2,k.x=C[0]-k.width/2;else{var j=n.getBoxLayoutParams();j.aspect=b,k=eu(j,{width:g,height:y})}this.setViewRect(k.x,k.y,k.width,k.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}var z5t=function(){function n(){this.dimensions=zit}return n.prototype.create=function(e,t){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,s){var l=a.get("map"),c=new Hit(l+s,l,An({nameMap:a.get("nameMap")},r(a)));c.zoomLimit=a.get("scaleLimit"),i.push(c),a.coordinateSystem=c,c.model=a,c.resize=jit,c.resize(a,t)}),e.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var l=a.get("geoIndex")||0;a.coordinateSystem=i[l]}});var o={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),Xt(o,function(a,s){var l=Nn(a,function(u){return u.get("nameMap")}),c=new Hit(s,s,An({nameMap:uF(l)},r(a[0])));c.zoomLimit=bu.apply(null,Nn(a,function(u){return u.get("scaleLimit")})),i.push(c),c.resize=jit,c.resize(a[0],t),Xt(a,function(u){u.coordinateSystem=c,function V5t(n,e){Xt(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}(c,u)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),a=Wi(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return Xt(Gm.load(t,i,r).regions,function(c){var u=c.name;!a.get(u)&&o.push({name:u})}),o},n}();const Wit=new z5t;var G5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i,r){var o=Gm.getGeoResource(t.map);if(o&&"geoJSON"===o.type){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,r),k_(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=Wit.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=dp(i.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new sl(a,t,t.ecModel)),a.selected&&(r[s]=!0)),o},Wi()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new sl(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var o=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:t};return Ki(o)?(a.status=i,o(a)):si(o)?o.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(ha);const H5t=G5t;function Zit(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function az(n,e,t,i){var r=n.getZoom(),o=n.getCenter(),a=e.zoom,s=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(Zit(n,s),i)),null!=a){if(t){var l=t.min||0;a=Math.max(Math.min(r*a,t.max||1/0),l)/r}n.scaleX*=a,n.scaleY*=a;var d=(e.originY-n.y)*(a-1);n.x-=(e.originX-n.x)*(a-1),n.y-=d,n.updateTransform(),n.setCenter(Zit(n,s),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var j5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return vn(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Fit(r));var a=this._mapDraw;a.draw(t,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;ay(t.target,function(r){return null!=(i=Ar(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(a){var s=Ar(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(ql);const W5t=j5t;function Z5t(n,e,t){Gm.registerMap(n,e,t)}function Yit(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name),Xt(l.coordinateSystem.regions,function(d){a[d.name]=l.isSelected(d.name)||!1});var u=[];Xt(a,function(d,h){a[h]&&u.push(h)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",Wit),n.registerComponentModel(H5t),n.registerComponentView(W5t),n.registerImpl("registerMap",Z5t),n.registerImpl("getMap",function(t){return Gm.getMapForUser(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var o=t.componentType||"series";i.eachComponent({mainType:o,query:t},function(a){var s=a.coordinateSystem;if("geo"===s.type){var l=az(s,t,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),"series"===o&&Xt(a.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function $5t(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){!function Q5t(n){for(var e=n.children,t=e.length,i=0,r=0;--t>=0;){var o=e[t];o.hierNode.prelim+=i,o.hierNode.modifier+=i,i+=o.hierNode.shift+(r+=o.hierNode.change)}}(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function J5t(n,e,t,i){if(e){for(var r=n,o=n,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,c=o.hierNode.modifier,u=a.hierNode.modifier,d=s.hierNode.modifier;s=sz(s),o=lz(o),s&&o;){r=sz(r),a=lz(a),r.hierNode.ancestor=n;var h=s.hierNode.prelim+d-o.hierNode.prelim-c+i(s,o);h>0&&(e4t(t4t(s,n,t),n,h),c+=h,l+=h),d+=s.hierNode.modifier,c+=o.hierNode.modifier,l+=r.hierNode.modifier,u+=a.hierNode.modifier}s&&!sz(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=d-l),o&&!lz(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=c-u,t=n)}return t}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function q5t(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function Xit(n){return arguments.length?n:n4t}function yC(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function sz(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function lz(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function t4t(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function e4t(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function n4t(n,e){return n.parentNode===e.parentNode?1:2}var i4t=function n(){this.parentPoint=[],this.childPoints=[]},r4t=function(n){function e(t){return n.call(this,t)||this}return vn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new i4t},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,a=i.parentPoint,s=r[0],l=r[o-1];if(1===o)return t.moveTo(a[0],a[1]),void t.lineTo(s[0],s[1]);var c=i.orient,u="TB"===c||"BT"===c?0:1,d=1-u,h=ni(i.forkPosition,1),p=[];p[u]=a[u],p[d]=a[d]+(l[d]-a[d])*h,t.moveTo(a[0],a[1]),t.lineTo(p[0],p[1]),t.moveTo(s[0],s[1]),p[u]=s[u],t.lineTo(p[0],p[1]),p[u]=l[u],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var g=1;g<o-1;g++){var y=r[g];t.moveTo(y[0],y[1]),p[u]=y[u],t.lineTo(p[0],p[1])}},e}(vo),o4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new br,t}return vn(e,n),e.prototype.init=function(t,i){this._controller=new gC(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),a=t.layoutInfo,s=this._mainGroup;"radial"===t.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var c=this._data;o.diff(c).add(function(u){$it(o,u)&&qit(o,u,null,s,t)}).update(function(u,d){var h=c.getItemGraphicEl(d);$it(o,u)?qit(o,u,h,s,t):h&&Jit(c,d,h,s,t)}).remove(function(u){var d=c.getItemGraphicEl(u);d&&Jit(c,u,d,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,d){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=o},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),o=[];r.each(function(d){var h=r.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&o.push([+h.x,+h.y])});var a=[],s=[];RA(o,a,s);var l=this._min,c=this._max;s[0]-a[0]==0&&(a[0]=l?l[0]:a[0]-1,s[0]=c?c[0]:s[0]+1),s[1]-a[1]==0&&(a[1]=l?l[1]:a[1]-1,s[1]=c?c[1]:s[1]+1);var u=t.coordinateSystem=new _C;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),u.setCenter(t.get("center"),i),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=a,this._max=s},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(c,u,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(u,d)&&!cP(c,r,t)}),a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){QV(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){JV(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(ll);function $it(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function qit(n,e,t,i,r){var o=!t,a=n.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,c=!1===a.isExpand&&0!==a.children.length?l:"#fff",u=n.tree.root,d=a.parentNode===u?a:a.parentNode||a,h=n.getItemGraphicEl(d.dataIndex),p=d.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,y=a.getLayout();o?((t=new oC(n,e,null,{symbolInnerColor:c,useNameLabel:!0})).x=g.x,t.y=g.y):t.updateData(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=y.rawX,t.__radialRawY=y.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,va(t,{x:y.x,y:y.y},r);var b=t.getSymbolPath();if("radial"===r.get("layout")){var w=u.children[0],C=w.getLayout(),E=w.children.length,k=void 0,j=void 0;if(y.x===C.x&&!0===a.isExpand&&w.children.length){var H={x:(w.children[0].getLayout().x+w.children[E-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[E-1].getLayout().y)/2};(k=Math.atan2(H.y-C.y,H.x-C.x))<0&&(k=2*Math.PI+k),(j=H.x<C.x)&&(k-=Math.PI)}else(k=Math.atan2(y.y-C.y,y.x-C.x))<0&&(k=2*Math.PI+k),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(j=y.x<C.x)&&(k-=Math.PI):(j=y.x>C.x)||(k-=Math.PI);var it=j?"left":"right",yt=s.getModel("label"),lt=yt.get("rotate"),Lt=lt*(Math.PI/180),kt=b.getTextContent();kt&&(b.setTextConfig({position:yt.get("position")||it,rotation:null==lt?-k:Lt,origin:"center"}),kt.setStyle("verticalAlign","middle"))}var Jt=s.get(["emphasis","focus"]),ne="relative"===Jt?qD(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===Jt?a.getAncestorsIndices():"descendant"===Jt?a.getDescendantIndices():null;ne&&(Ar(t).focus=ne),function a4t(n,e,t,i,r,o,a,s){var l=e.getModel(),c=n.get("edgeShape"),u=n.get("layout"),d=n.getOrient(),h=n.get(["lineStyle","curveness"]),p=n.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),y=i.__edge;if("curve"===c)e.parentNode&&e.parentNode!==t&&(y||(y=i.__edge=new uI({shape:cz(u,d,h,r,r)})),va(y,{shape:cz(u,d,h,o,a)},n));else if("polyline"===c&&"orthogonal"===u&&e!==t&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var b=e.children,w=[],C=0;C<b.length;C++){var E=b[C].getLayout();w.push([E.x,E.y])}y||(y=i.__edge=new r4t({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:p}})),va(y,{shape:{parentPoint:[a.x,a.y],childPoints:w}},n)}y&&("polyline"!==c||e.isExpand)&&(y.useStyle(er({strokeNoScale:!0,fill:null},g)),Gu(y,l,"lineStyle"),W_(y),s.add(y))}(r,a,u,t,g,p,y,i),t.__edge&&(t.onHoverStateChange=function(ce){if("blur"!==ce){var Ee=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);Ee&&Ee.hoverState===vS||VA(t.__edge,ce)}})}function Kit(n,e,t,i,r){var a=Qit(e.tree.root,n),s=a.source,l=a.sourceLayout,c=e.getItemGraphicEl(n.dataIndex);if(c){var u=e.getItemGraphicEl(s.dataIndex),h=c.__edge||(!1===s.isExpand||1===s.children.length?u.__edge:void 0),p=i.get("edgeShape"),g=i.get("layout"),y=i.get("orient"),b=i.get(["lineStyle","curveness"]);h&&("curve"===p?Xg(h,{shape:cz(g,y,b,l,l),style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}):"polyline"===p&&"orthogonal"===i.get("layout")&&Xg(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}))}}function Qit(n,e){for(var i,t=e.parentNode===n?e:e.parentNode||e;null==(i=t.getLayout());)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function Jit(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),s=Qit(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Xg(t,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(c){Kit(c,n,i,r,l)}),Kit(o,n,i,r,l)}function cz(n,e,t,i,r){var o,a,s,l,c,u,d,h;if("radial"===n){u=r.rawX,h=r.rawY;var p=yC(c=i.rawX,d=i.rawY),g=yC(c,d+(h-d)*t),y=yC(u,h+(d-h)*t),b=yC(u,h);return{x1:p.x||0,y1:p.y||0,x2:b.x||0,y2:b.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}return c=i.x,d=i.y,u=r.x,h=r.y,("LR"===e||"RL"===e)&&(o=c+(u-c)*t,a=d,s=u+(c-u)*t,l=h),("TB"===e||"BT"===e)&&(o=c,a=d+(h-d)*t,s=u,l=h+(d-h)*t),{x1:c,y1:d,x2:u,y2:h,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}const s4t=o4t;var nf=oa();function c4t(n,e){if(function p4t(n){return nf(n).mainData===n}(this)){var t=An({},nf(this).datas);t[this.dataType]=e,trt(e,t,n)}else uz(e,this.dataType,nf(this).mainData,n);return e}function u4t(n,e){return n.struct&&n.struct.update(),e}function d4t(n,e){return Xt(nf(e).datas,function(t,i){t!==e&&uz(t.cloneShallow(),i,e,n)}),e}function h4t(n){var e=nf(this).mainData;return null==n||null==e?e:nf(e).datas[n]}function f4t(){var n=nf(this).mainData;return null==n?[{data:n}]:Nn(Io(nf(n).datas),function(e){return{type:e,data:nf(n).datas[e]}})}function trt(n,e,t){nf(n).datas={},Xt(e,function(i,r){uz(i,r,n,t)})}function uz(n,e,t,i){nf(t).datas[e]=n,nf(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=h4t,n.getLinkedDataAll=f4t}const ert=function l4t(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,trt(e,t,n),Xt(t,function(i){Xt(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,Lr(c4t,n))})}),e.wrapMethod("cloneShallow",Lr(d4t,n)),Xt(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,Lr(u4t,n))}),Sd(t[e.dataType]===e)};var m4t=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){Ki(e)&&(i=t,t=e,e=null),si(e=e||{})&&(e={order:e});var a,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(a=t.call(i,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(e,t,i);"postorder"===r&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),g4t=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],a=1;!function s(u,d){var h=u.value;a=Math.max(a,Ln(h)?h.length:1),o.push(u);var p=new m4t(tu(u.name,""),r);d?function v4t(n,e){n.parentNode!==e&&(e.children.push(n),n.parentNode=e)}(p,d):r.root=p,r._nodes.push(p);var g=u.children;if(g)for(var y=0;y<g.length;y++)s(g[y],p)}(e),r.root.updateDepthAndHeight(0);var l=ox(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,c=new Ad(l,t);return c.initData(o),i&&i(c),ert({mainData:c,struct:r,structAttr:"tree"}),r.update(),r},n}();const dz=g4t;function bC(n,e,t){if(n&&so(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(si(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function nrt(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function hz(n,e){return so(nrt(n),e)>=0}function pP(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var _4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return vn(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},o=new sl(t.leaves||{},this,this.ecModel),a=dz.createTree(i,this,function s(d){d.wrapMethod("getItemModel",function(h,p){var g=a.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(h.parentModel=o),h})}),l=0;a.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return a.root.eachNode("preorder",function(d){var h=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=h&&null!=h.collapsed?!h.collapsed:d.depth<=u}),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(t),l=s.getValue(),c=s.name;s&&s!==a;)c=s.parentNode.name+"."+c,s=s.parentNode;return du("nameValue",{name:c,value:l,noValue:isNaN(l)||null==l})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=pP(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Pl);const y4t=_4t;function xC(n,e){for(var i,t=[n];i=t.pop();)if(e(i),i.isExpand){var r=i.children;if(r.length)for(var o=r.length-1;o>=0;o--)t.push(r[o])}}function x4t(n,e){n.eachSeriesByType("tree",function(t){!function w4t(n,e){var t=function K5t(n,e){return eu(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(n,e);n.layoutInfo=t;var i=n.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(t.height,t.width)/2,a=Xit(function(E,k){return(E.parentNode===k.parentNode?1:2)/E.depth})):(r=t.width,o=t.height,a=Xit());var s=n.getData().tree.root,l=s.children[0];if(l){(function X5t(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,r,t=[e];i=t.pop();)if(r=i.children,i.isExpand&&r.length)for(var a=r.length-1;a>=0;a--){var s=r[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},t.push(s)}})(s),function b4t(n,e,t){for(var o,i=[n],r=[];o=i.pop();)if(r.push(o),o.isExpand){var a=o.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;o=r.pop();)e(o,t)}(l,$5t,a),s.hierNode.modifier=-l.hierNode.prelim,xC(l,q5t);var c=l,u=l,d=l;xC(l,function(E){var k=E.getLayout().x;k<c.getLayout().x&&(c=E),k>u.getLayout().x&&(u=E),E.depth>d.depth&&(d=E)});var h=c===u?1:a(c,u)/2,p=h-c.getLayout().x,g=0,y=0,b=0,w=0;if("radial"===i)g=r/(u.getLayout().x+h+p),y=o/(d.depth-1||1),xC(l,function(E){var k=yC(b=(E.getLayout().x+p)*g,w=(E.depth-1)*y);E.setLayout({x:k.x,y:k.y,rawX:b,rawY:w},!0)});else{var C=n.getOrient();"RL"===C||"LR"===C?(y=o/(u.getLayout().x+h+p),g=r/(d.depth-1||1),xC(l,function(E){w=(E.getLayout().x+p)*y,E.setLayout({x:b="LR"===C?(E.depth-1)*g:r-(E.depth-1)*g,y:w},!0)})):("TB"===C||"BT"===C)&&(g=r/(u.getLayout().x+h+p),y=o/(d.depth-1||1),xC(l,function(E){b=(E.getLayout().x+p)*g,E.setLayout({x:b,y:w="TB"===C?(E.depth-1)*y:o-(E.depth-1)*y},!0)}))}}}(t,e)})}function S4t(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(r){var a=r.getModel().getModel("itemStyle").getItemStyle();An(t.ensureUniqueItemVisual(r.dataIndex,"style"),a)})})}var irt=["treemapZoomToNode","treemapRender","treemapMove"];function rrt(n){var e=n.getData(),i={};e.tree.eachNode(function(r){for(var o=r;o&&o.depth>1;)o=o.parentNode;var a=l3(n.ecModel,o.name||o.dataIndex+"",i);r.setVisual("decal",a)})}var T4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return vn(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};ort(r);var o=t.levels||[],a=this.designatedVisualItemStyle={},s=new sl({itemStyle:a},this,i);o=t.levels=function D4t(n,e){var t=Ps(e.get("color")),i=Ps(e.get(["aria","decal","decals"]));if(t){var r,o;Xt(n=n||[],function(s){var l=new sl(s),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&"none"!==c)&&(r=!0),(l.get(["itemStyle","decal"])||u&&"none"!==u)&&(o=!0)});var a=n[0]||(n[0]={});return r||(a.color=t.slice()),!o&&i&&(a.decal=i.slice()),n}}(o,i);var l=Nn(o||[],function(d){return new sl(d,s,i)},this),c=dz.createTree(r,this,function u(d){d.wrapMethod("getItemModel",function(h,p){var g=c.getNodeByDataIndex(p);return h.parentModel=(g?l[g.depth]:null)||s,h})});return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t);return du("nameValue",{name:o.getName(t),value:a})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=pP(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},An(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=Wi(),this._idIndexMapCount=0);var r=i.get(t);return null==r&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){rrt(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Pl);function ort(n){var e=0;Xt(n.children,function(i){ort(i);var r=i.value;Ln(r)&&(r=r[0]),e+=r});var t=n.value;Ln(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Ln(n.value)?n.value[0]=t:n.value=t}const A4t=T4t;var fz=5,P4t=function(){function n(e){this.group=new br,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var s=o.getModel("itemStyle"),l=o.getModel("emphasis"),c=s.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,c),this._renderContent(e,d,s,l,c,u,r),QA(a,d.pos,d.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=tu(r.getModel().get("name"),""),a=i.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:r,text:o,width:s})}},n.prototype._renderContent=function(e,t,i,r,o,a,s){for(var l=0,c=t.emptyItemWidth,u=e.get(["breadcrumb","height"]),d=function JLt(n,e,t){var i=e.width,r=e.height,o=ni(n.left,i),a=ni(n.top,r),s=ni(n.right,i),l=ni(n.bottom,r);return(isNaN(o)||isNaN(parseFloat(n.left)))&&(o=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=i),(isNaN(a)||isNaN(parseFloat(n.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=r),t=zb(t||0),{width:Math.max(s-o-t[1]-t[3],0),height:Math.max(l-a-t[0]-t[2],0)}}(t.pos,t.box),h=t.totalWidth,p=t.renderList,g=r.getModel("itemStyle").getItemStyle(),y=p.length-1;y>=0;y--){var b=p[y],w=b.node,C=b.width,E=b.text;h>d.width&&(h-=C-c,C=c,E=null);var k=new $d({shape:{points:k4t(l,0,C,u,y===p.length-1,0===y)},style:er(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new da({style:al(o,{text:E})}),textConfig:{position:"inside"},z2:1e4*kb,onclick:Lr(s,w)});k.disableLabelAnimation=!0,k.getTextContent().ensureState("emphasis").style=al(a,{text:E}),k.ensureState("emphasis").style=g,$l(k,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(k),R4t(k,e,w),l+=C+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function k4t(n,e,t,i,r,o){var a=[[r?n:n-fz,e],[n+t,e],[n+t,e+i],[r?n:n-fz,e+i]];return!o&&a.splice(2,0,[n+t+fz,e+i/2]),!r&&a.push([n,e+i/2]),a}function R4t(n,e,t){Ar(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&pP(t,e)}}const L4t=P4t;var O4t=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),pz=br,srt=aa,crt="label",urt="upperLabel",F4t=10*kb,B4t=2*kb,V4t=3*kb,My=O_([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),drt=function(n){var e=My(n);return e.stroke=e.fill=e.lineWidth=null,e},mP=oa(),z4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return vn(e,n),e.prototype.render=function(t,i,r,o){if(!(so(i.findComponents({mainType:"series",subType:"treemap",query:o}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var l=bC(o,["treemapZoomToNode","treemapRootToNode"],t),c=o&&o.type,u=t.layoutInfo,d=!this._oldTree,h=this._storage,p="treemapRootToNode"===c&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:o.direction}:null,g=this._giveContainerGroup(u),y=t.get("animation"),b=this._doRender(g,t,p);!y||d||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?b.renderFinally():this._doAnimation(g,b,t,p),this._resetController(r),this._renderBreadcrumb(t,r,l)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new pz,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},c=this._storage,u=[];function d(b,w,C,E){return function U4t(n,e,t,i,r,o,a,s,l,c){if(a){var u=a.getLayout(),d=n.getData(),h=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),u&&u.isInView){var p=u.width,g=u.height,y=u.borderWidth,b=u.invisible,w=a.getRawIndex(),C=s&&s.getRawIndex(),E=a.viewChildren,k=u.upperHeight,j=E&&E.length,H=h.getModel("itemStyle"),it=h.getModel(["emphasis","itemStyle"]),yt=h.getModel(["blur","itemStyle"]),lt=h.getModel(["select","itemStyle"]),Lt=H.get("borderRadius")||0,kt=zn("nodeGroup",pz);if(kt){if(l.add(kt),kt.x=u.x||0,kt.y=u.y||0,kt.markRedraw(),mP(kt).nodeWidth=p,mP(kt).nodeHeight=g,u.isAboveViewRoot)return kt;var Jt=zn("background",srt,c,B4t);Jt&&function Qe(Ui,Gi,ar){var Er=Ar(Gi);if(Er.dataIndex=a.dataIndex,Er.seriesIndex=n.seriesIndex,Gi.setShape({x:0,y:0,width:p,height:g,r:Lt}),b)Fn(Gi);else{Gi.invisible=!1;var Ei=a.getVisual("style"),Vr=Ei.stroke,yl=drt(H);yl.fill=Vr;var jo=My(it);jo.fill=it.get("borderColor");var Nl=My(yt);Nl.fill=yt.get("borderColor");var Jl=My(lt);Jl.fill=lt.get("borderColor"),ar?Kn(Gi,Vr,Ei.opacity,{x:y,y:0,width:p-2*y,height:k}):Gi.removeTextContent(),Gi.setStyle(yl),Gi.ensureState("emphasis").style=jo,Gi.ensureState("blur").style=Nl,Gi.ensureState("select").style=Jl,W_(Gi)}Ui.add(Gi)}(kt,Jt,j&&u.upperLabelHeight);var ne=h.getModel("emphasis"),ce=ne.get("focus"),Ee=ne.get("blurScope"),be=ne.get("disabled"),Be="ancestor"===ce?a.getAncestorsIndices():"descendant"===ce?a.getDescendantIndices():ce;if(j)xS(kt)&&Y_(kt,!1),Jt&&(Y_(Jt,!be),d.setItemGraphicEl(a.dataIndex,Jt),UB(Jt,Be,Ee));else{var Ne=zn("content",srt,c,V4t);Ne&&function In(Ui,Gi){var ar=Ar(Gi);ar.dataIndex=a.dataIndex,ar.seriesIndex=n.seriesIndex;var Er=Math.max(p-2*y,0),Ei=Math.max(g-2*y,0);if(Gi.culling=!0,Gi.setShape({x:y,y,width:Er,height:Ei,r:Lt}),b)Fn(Gi);else{Gi.invisible=!1;var Vr=a.getVisual("style"),yl=Vr.fill,jo=drt(H);jo.fill=yl,jo.decal=Vr.decal;var Nl=My(it),Jl=My(yt),fd=My(lt);Kn(Gi,yl,Vr.opacity,null),Gi.setStyle(jo),Gi.ensureState("emphasis").style=Nl,Gi.ensureState("blur").style=Jl,Gi.ensureState("select").style=fd,W_(Gi)}Ui.add(Gi)}(kt,Ne),Jt.disableMorphing=!0,Jt&&xS(Jt)&&Y_(Jt,!1),Y_(kt,!be),d.setItemGraphicEl(a.dataIndex,kt),UB(kt,Be,Ee)}return kt}}}function Fn(Ui){!Ui.invisible&&o.push(Ui)}function Kn(Ui,Gi,ar,Er){var Ei=h.getModel(Er?urt:crt),Vr=tu(h.get("name"),null),yl=Ei.getShallow("show");Hu(Ui,uu(h,Er?urt:crt),{defaultText:yl?Vr:null,inheritColor:Gi,defaultOpacity:ar,labelFetcher:n,labelDataIndex:a.dataIndex});var jo=Ui.getTextContent();if(jo){var Nl=jo.style,Jl=fF(Nl.padding||0);Er&&(Ui.setTextConfig({layoutRect:Er}),jo.disableLabelLayout=!0),jo.beforeUpdate=function(){var ug=Math.max((Er?Er.width:Ui.shape.width)-Jl[1]-Jl[3],0),ih=Math.max((Er?Er.height:Ui.shape.height)-Jl[0]-Jl[2],0);(Nl.width!==ug||Nl.height!==ih)&&jo.setStyle({width:ug,height:ih})},Nl.truncateMinChar=2,Nl.lineOverflow="truncate",Qn(Nl,Er,u);var fd=jo.getState("emphasis");Qn(fd?fd.style:null,Er,u)}}function Qn(Ui,Gi,ar){var Er=Ui?Ui.text:null;if(!Gi&&ar.isLeafRoot&&null!=Er){var Ei=n.get("drillDownIcon",!0);Ui.text=Ei?Ei+" "+Er:Er}}function zn(Ui,Gi,ar,Er){var Ei=null!=C&&t[Ui][C],Vr=r[Ui];return Ei?(t[Ui][C]=null,function zi(Ui,Gi){var ar=Ui[w]={};Gi instanceof pz?(ar.oldX=Gi.x,ar.oldY=Gi.y):ar.oldShape=An({},Gi.shape)}(Vr,Ei)):b||((Ei=new Gi)instanceof Zh&&(Ei.z2=function G4t(n,e){return n*F4t+e}(ar,Er)),function to(Ui,Gi){var ar=Ui[w]={},Er=a.parentNode,Ei=Gi instanceof br;if(Er&&(!i||"drillDown"===i.direction)){var Vr=0,yl=0,jo=r.background[Er.getRawIndex()];!i&&jo&&jo.oldShape&&(Vr=jo.oldShape.width,yl=jo.oldShape.height),Ei?(ar.oldX=0,ar.oldY=yl):ar.oldShape={x:Vr,y:yl,width:0,height:0}}ar.fadein=!Ei}(Vr,Ei)),e[Ui][w]=Ei}}(i,l,c,r,s,u,b,w,C,E)}!function p(b,w,C,E,k){function j(it){return it.getId()}function H(it,yt){var lt=null!=it?b[it]:null,Lt=null!=yt?w[yt]:null,kt=d(lt,Lt,C,k);kt&&p(lt&&lt.viewChildren||[],Lt&&Lt.viewChildren||[],kt,E,k+1)}E?(w=b,Xt(b,function(it,yt){!it.isRemoved()&&H(yt,yt)})):new Bm(w,b,j,j).add(H).update(H).remove(Lr(H,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var h=function g(b){var w={nodeGroup:[],background:[],content:[]};return b&&Xt(b,function(C,E){var k=w[E];Xt(C,function(j){j&&(k.push(j),mP(j).willDelete=!0)})}),w}(c);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:h,renderFinally:function y(){Xt(h,function(b){Xt(b,function(w){w.parent&&w.parent.remove(w)})}),Xt(u,function(b){b.invisible=!0,b.dirty()})}}},e.prototype._doAnimation=function(t,i,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Ki(a)?0:a)||0,c=(Ki(s)?null:s)||"cubicOut",u=function N4t(){return new O4t}();Xt(i.willDeleteEls,function(d,h){Xt(d,function(p,g){if(!p.invisible){var b,y=p.parent,w=mP(y);if(o&&"drillDown"===o.direction)b=y===o.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var C=0,E=0;w.willDelete||(C=w.nodeWidth/2,E=w.nodeHeight/2),b="nodeGroup"===h?{x:C,y:E,style:{opacity:0}}:{shape:{x:C,y:E,width:0,height:0},style:{opacity:0}}}b&&u.add(p,b,l,0,c)}})}),Xt(this._storage,function(d,h){Xt(d,function(p,g){var y=i.lastsForAnimation[h][g],b={};y&&(p instanceof br?null!=y.oldX&&(b.x=p.x,b.y=p.y,p.x=y.oldX,p.y=y.oldY):(y.oldShape&&(b.shape=An({},p.shape),p.setShape(y.oldShape)),y.fadein?(p.setStyle("opacity",0),b.style={opacity:1}):1!==p.style.opacity&&(b.style={opacity:1})),u.add(p,b,l,0,c))})},this),this._state="animating",u.finished(vi(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new gC(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",vi(this._onPan,this)),i.on("zoom",vi(this._onZoom,this)));var r=new $r(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,a,s){return r.contain(a,s)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new $r(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,c=[1,0,0,1,0,0];hp(c,c,[-(i-=l.x),-(r-=l.y)]),TF(c,c,[t.scale,t.scale]),hp(c,c,[i,r]),s.applyTransform(c),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&qA(c,u)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new L4t(this.group))).render(t,i,r.node,function(a){"animating"!==o._state&&(hz(t.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,i),c=s.shape;if(!(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height))return!1;r={node:a,offsetX:l[0],offsetY:l[1]}}},this),r},e.type="treemap",e}(ll);const H4t=z4t;var SC=Xt,j4t=or,gP=-1,mz=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=ur(e);this.type=i,this.mappingMethod=t,this._normalizeData=Y4t[t];var o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],"piecewise"===t?(gz(r),function W4t(n){var e=n.pieceList;n.hasSpecialVisual=!1,Xt(e,function(t,i){t.originIndex=i,null!=t.visual&&(n.hasSpecialVisual=!0)})}(r)):"category"===t?r.categories?function Z4t(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(SC(e,function(a,s){t[a]=s}),!Ln(i)){var r=[];or(i)?SC(i,function(a,s){r[t[s]??gP]=a}):r[gP]=i,i=frt(n,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete t[e[o]],e.pop())}(r):gz(r,!0):(Sd("linear"!==t||r.dataExtent),gz(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return vi(this._normalizeData,this)},n.listVisualTypes=function(){return Io(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){or(e)?Xt(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=Ln(e)?[]:or(e)?{}:(r=!0,null);return n.eachVisual(e,function(a,s){var l=t.call(i,a,s);r?o=l:o[s]=l}),o},n.retrieveVisuals=function(e){var i,t={};return e&&SC(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(t[o]=e[o],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(Ln(e))e=e.slice();else{if(!j4t(e))return[];var t=[];SC(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),e},n.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||si(l)&&l===e+"")return a;i&&h(l,a)}}for(a=0,s=t.length;a<s;a++){var c=t[a],u=c.interval,d=c.close;if(u){if(u[0]===-1/0){if(_P(d[1],e,u[1]))return a}else if(u[1]===1/0){if(_P(d[0],u[0],e))return a}else if(_P(d[0],u[0],e)&&_P(d[1],e,u[1]))return a;i&&h(u[0],a),i&&h(u[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function h(p,g){var y=Math.abs(p-e);y<o&&(o=y,r=g)}},n.visualHandlers={color:{applyVisual:CC("color"),getColorMapper:function(){var e=this.option;return vi("category"===e.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),MC.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=zF(t,e.parsedVisual,r),o?r:pp(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return pp(zF(e,this.option.parsedVisual),"rgba")},category:MC,piecewise:function(e,t){var i=_z.call(this,t);return null==i&&(i=pp(zF(e,this.option.parsedVisual),"rgba")),i},fixed:Ey}},colorHue:vP(function(e,t){return nS(e,t)}),colorSaturation:vP(function(e,t){return nS(e,null,t)}),colorLightness:vP(function(e,t){return nS(e,null,null,t)}),colorAlpha:vP(function(e,t){return hA(e,t)}),decal:{applyVisual:CC("decal"),_normalizedToVisual:{linear:null,category:MC,piecewise:null,fixed:null}},opacity:{applyVisual:CC("opacity"),_normalizedToVisual:vz([0,1])},liftZ:{applyVisual:CC("liftZ"),_normalizedToVisual:{linear:Ey,category:Ey,piecewise:Ey,fixed:Ey}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:hrt,category:MC,piecewise:function(e,t){var i=_z.call(this,t);return null==i&&(i=hrt.call(this,e)),i},fixed:Ey}},symbolSize:{applyVisual:CC("symbolSize"),_normalizedToVisual:vz([0,1])}},n}();function gz(n,e){var t=n.visual,i=[];or(t)?SC(t,function(o){i.push(o)}):null!=t&&i.push(t),!e&&1===i.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(i[1]=i[0]),frt(n,i)}function vP(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:vz([0,1])}}function hrt(n){var e=this.option.visual;return e[Math.round(_s(n,[0,1],[0,e.length-1],!0))]||{}}function CC(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function MC(n){var e=this.option.visual;return e[this.option.loop&&n!==gP?n%e.length:n]}function Ey(){return this.option.visual[0]}function vz(n){return{linear:function(e){return _s(e,n,this.option.visual,!0)},category:MC,piecewise:function(e,t){var i=_z.call(this,t);return null==i&&(i=_s(e,n,this.option.visual,!0)),i},fixed:Ey}}function _z(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=t[mz.findPieceIndex(n,t)];if(r&&r.visual)return r.visual[this.type]}}function frt(n,e){return n.visual=e,"color"===n.type&&(n.parsedVisual=Nn(e,function(t){return Wd(t)||[0,0,0,1]})),e}var Y4t={linear:function(n){return _s(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=mz.findPieceIndex(n,e,!0);if(null!=t)return _s(t,[0,e.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??gP},fixed:bc};function _P(n,e,t){return n?e<=t:e<t}const Wu=mz;var X4t="itemStyle",prt=oa();const $4t={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||mrt(t,{},n.getViewRoot().getAncestors(),n)}};function mrt(n,e,t,i){var r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var h,s=r.getModel(X4t),l=function q4t(n,e,t){var i=An({},e),r=t.designatedVisualItemStyle;return Xt(["color","colorAlpha","colorSaturation"],function(o){r[o]=e[o];var a=n.get(o);r[o]=null,null!=a&&(i[o]=a)}),i}(s,e,i),c=a.ensureUniqueItemVisual(n.dataIndex,"style"),u=s.get("borderColor"),d=s.get("borderColorSaturation");null!=d&&(u=function K4t(n,e){return null!=e?nS(e,null,null,n):null}(d,h=grt(l))),c.stroke=u;var p=n.viewChildren;if(p&&p.length){var g=function Q4t(n,e,t,i,r,o){if(o&&o.length){var a=bz(e,"color")||null!=r.color&&"none"!==r.color&&(bz(e,"colorAlpha")||bz(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),c=t.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var u=e.get("colorMappingBy"),d={type:a.name,dataExtent:c,visual:a.range};"color"!==d.type||"index"!==u&&"id"!==u?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var h=new Wu(d);return prt(h).drColorMappingBy=u,h}}}(0,r,o,0,l,p);Xt(p,function(y,b){if(y.depth>=t.length||y===t[y.depth]){var w=function J4t(n,e,t,i,r,o){var a=An({},e);if(r){var s=r.type,l="color"===s&&prt(r).drColorMappingBy,c="index"===l?i:"id"===l?o.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));a[s]=r.mapValueToVisual(c)}return a}(r,l,y,b,g,i);mrt(y,w,t,i)}})}else h=grt(l),c.fill=h}}function grt(n){var e=yz(n,"color");if(e){var t=yz(n,"colorAlpha"),i=yz(n,"colorSaturation");return i&&(e=nS(e,null,null,i)),t&&(e=hA(e,t)),e}}function yz(n,e){var t=n[e];if(null!=t&&"none"!==t)return t}function bz(n,e){var t=n.get(e);return Ln(t)&&t.length?{name:e,range:t}:null}var EC=Math.max,yP=Math.min,vrt=bu,xz=Xt,_rt=["itemStyle","borderWidth"],tUt=["itemStyle","gapWidth"],eUt=["upperLabel","show"],nUt=["upperLabel","height"];const iUt={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),a=n.option,s=eu(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=a.size||[],c=ni(vrt(s.width,l[0]),r),u=ni(vrt(s.height,l[1]),o),d=i&&i.type,p=bC(i,["treemapZoomToNode","treemapRootToNode"],n),g="treemapRender"===d||"treemapMove"===d?i.rootRect:null,y=n.getViewRoot(),b=nrt(y);if("treemapMove"!==d){var w="treemapZoomToNode"===d?function cUt(n,e,t,i,r){var o=(e||{}).node,a=[i,r];if(!o||o===t)return a;for(var s,l=i*r,c=l*n.option.zoomToNodeRatio;s=o.parentNode;){for(var u=0,d=s.children,h=0,p=d.length;h<p;h++)u+=d[h].getValue();var g=o.getValue();if(0===g)return a;c*=u/g;var y=s.getModel(),b=y.get(_rt);(c+=4*b*b+(3*b+Math.max(b,wrt(y)))*Math.pow(c,.5))>q$&&(c=q$),o=s}c<l&&(c=l);var C=Math.pow(c/l,.5);return[i*C,r*C]}(n,p,y,c,u):g?[g.width,g.height]:[c,u],C=a.sort;C&&"asc"!==C&&"desc"!==C&&(C="desc");var E={squareRatio:a.squareRatio,sort:C,leafDepth:a.leafDepth};y.hostTree.clearLayouts();var k={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};y.setLayout(k),yrt(y,E,!1,0),k=y.getLayout(),xz(b,function(H,it){var yt=(b[it+1]||y).getValue();H.setLayout(An({dataExtent:[yt,yt],borderWidth:0,upperHeight:0},k))})}var j=n.getData().tree.root;j.setLayout(function uUt(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var r=t.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:n.width/2-a[0],y:n.height/2-a[1]}}(s,g,p),!0),n.setLayoutInfo(s),xrt(j,new $r(-s.x,-s.y,r,o),b,y,0)}};function yrt(n,e,t,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var s=n.getModel(),l=s.get(_rt),c=s.get(tUt)/2,u=wrt(s),d=Math.max(l,u),h=l-c,p=d-c;n.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:u},!0);var g=(r=EC(r-2*h,0))*(o=EC(o-h-p,0)),y=function rUt(n,e,t,i,r,o){var a=n.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return n.viewChildren=[];a=Ss(a,function(p){return!p.isRemoved()}),function aUt(n,e){e&&n.sort(function(t,i){var r="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r})}(a,s);var c=function sUt(n,e,t){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var s,a=n.get("visualDimension");return e&&e.length?"value"===a&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===t&&s.reverse()):(s=[1/0,-1/0],xz(e,function(l){var c=l.getValue(a);c<s[0]&&(s[0]=c),c>s[1]&&(s[1]=c)})):s=[NaN,NaN],{sum:i,dataExtent:s}}(e,a,s);if(0===c.sum)return n.viewChildren=[];if(c.sum=function oUt(n,e,t,i,r){if(!i)return t;for(var o=n.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var c=r["asc"===i?a-l-1:l].getValue();c/t*e<o&&(s=l,t-=c)}return r.splice("asc"===i?0:s,a-s),t}(e,t,c.sum,s,a),0===c.sum)return n.viewChildren=[];for(var u=0,d=a.length;u<d;u++){var h=a[u].getValue()/c.sum*t;a[u].setLayout({area:h})}return l&&(a.length&&n.setLayout({isLeafRoot:!0},!0),a.length=0),n.viewChildren=a,n.setLayout({dataExtent:c.dataExtent},!0),a}(n,s,g,e,t,i);if(y.length){var b={x:h,y:p,width:r,height:o},w=yP(r,o),C=1/0,E=[];E.area=0;for(var k=0,j=y.length;k<j;){var H=y[k];E.push(H),E.area+=H.getLayout().area;var it=lUt(E,w,e.squareRatio);it<=C?(k++,C=it):(E.area-=E.pop().getLayout().area,brt(E,w,b,c,!1),w=yP(b.width,b.height),E.length=E.area=0,C=1/0)}if(E.length&&brt(E,w,b,c,!0),!t){var yt=s.get("childrenVisibleMin");null!=yt&&g<yt&&(t=!0)}for(k=0,j=y.length;k<j;k++)yrt(y[k],e,t,i+1)}}}function lUt(n,e,t){for(var i=0,r=1/0,o=0,a=void 0,s=n.length;o<s;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=n.area*n.area,c=e*e*t;return l?EC(c*i/l,l/(c*r)):1/0}function brt(n,e,t,i,r){var o=e===t.width?0:1,a=1-o,s=["x","y"],l=["width","height"],c=t[s[o]],u=e?n.area/e:0;(r||u>t[l[a]])&&(u=t[l[a]]);for(var d=0,h=n.length;d<h;d++){var p=n[d],g={},y=u?p.getLayout().area/u:0,b=g[l[a]]=EC(u-2*i,0),w=t[s[o]]+t[l[o]]-c,C=d===h-1||w<y?w:y,E=g[l[o]]=EC(C-2*i,0);g[s[a]]=t[s[a]]+yP(i,b/2),g[s[o]]=c+yP(i,E/2),c+=C,p.setLayout(g,!0)}t[s[a]]+=u,t[l[a]]-=u}function xrt(n,e,t,i,r){var o=n.getLayout(),a=t[r],s=a&&a===n;if(!(a&&!s||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new $r(e.x-o.x,e.y-o.y,e.width,e.height);xz(n.viewChildren||[],function(c){xrt(c,l,t,i,r+1)})}}function wrt(n){return n.get(eUt)?n.get(nUt):0}function hUt(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),o=t.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var c=o.getItemModel(s).getShallow("category");if(null!=c){ua(c)&&(c=a[c]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(c))return!1}return!0})})}function fUt(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var l=i.getItemModel(a),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(s,e)),i.setItemVisual(a,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],d=0;d<u.length;d++){var h=l.getShallow(u[d],!0);null!=h&&i.setItemVisual(a,u[d],h)}}),i.count()&&r.each(function(a){var l=r.getItemModel(a).getShallow("category");if(null!=l){si(l)&&(l=o["ec-"+l]);var c=i.getItemVisual(l,"style");An(r.ensureUniqueItemVisual(a,"style"),c);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)r.setItemVisual(a,d[h],i.getItemVisual(l,d[h]))}})})}function bP(n){return n instanceof Array||(n=[n,n]),n}function pUt(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=bP(e.get("edgeSymbol")),o=bP(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(a){var s=i.getItemModel(a),l=t.getEdgeByIndex(a),c=bP(s.getShallow("symbol",!0)),u=bP(s.getShallow("symbolSize",!0)),d=s.getModel("lineStyle").getLineStyle(),h=i.ensureUniqueItemVisual(a,"style");switch(An(h,d),h.stroke){case"source":var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break;case"target":p=l.node2.getVisual("style"),h.stroke=p&&p.fill}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var xP=function(n){return n.get("autoCurveness")||null},Srt=function(n,e){var t=xP(n),i=20,r=[];if(ua(t))i=t;else if(Ln(t))return void(n.__curvenessList=t);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},TC=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join("--\x3e")},Crt=function(n){var e=n.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},mUt=function(n,e){var t=TC(n.node1,n.node2,e);return e.__edgeMap[t]},gUt=function(n,e){return Sz(TC(n.node1,n.node2,e),e)+Sz(TC(n.node2,n.node1,e),e)},Sz=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function Cz(n,e,t,i){var r=xP(e),o=Ln(r);if(!r)return null;var a=mUt(n,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===t){s=l;break}var c=gUt(n,e);Srt(e,c),n.lineStyle=n.lineStyle||{};var u=TC(n.node1,n.node2,e),d=e.__curvenessList,h=o||c%2?0:1;if(a.isForward)return d[h+s];var p=Crt(u),g=Sz(p,e),y=d[s+g+h];return i?o?r&&0===r[0]?(g+h)%2?y:-y:((g%2?0:1)+h)%2?y:-y:(g+h)%2?y:-y:d[s+g+h]}function Mrt(n){var e=n.coordinateSystem;if(!e||"view"===e.type){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),Mz(t,n)}}function Mz(n,e){n.eachEdge(function(t,i){var r=Sm(t.getModel().get(["lineStyle","curveness"]),-Cz(t,e,i,!0),0),o=Cm(t.node1.getLayout()),a=Cm(t.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),t.setLayout(s)})}function yUt(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&"view"!==r.type){var o=t.getData(),a=[];Xt(r.dimensions,function(h){a=a.concat(o.mapDimensionsAll(h))});for(var s=0;s<o.count();s++){for(var l=[],c=!1,u=0;u<a.length;u++){var d=o.get(a[u],s);isNaN(d)||(c=!0),l.push(d)}o.setItemLayout(s,c?r.dataToPoint(l):[NaN,NaN])}Mz(o.graph,t)}else(!i||"none"===i)&&Mrt(t)})}function DC(n){var e=n.coordinateSystem;if("view"!==e.type)return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function AC(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Ert=Math.PI,Ez=[];function Tz(n,e,t,i){var r=n.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=n.getData(),s=a.graph,l=o.width/2+o.x,c=o.height/2+o.y,u=Math.min(o.width,o.height)/2,d=a.count();if(a.setLayout({cx:l,cy:c}),d){if(t){var h=r.pointToData(i),y=[h[0]-l,h[1]-c];bb(y,y),tA(y,y,u),t.setLayout([l+y[0],c+y[1]],!0),Trt(t,n.get(["circular","rotateLabel"]),l,c)}bUt[e](n,s,a,u,l,c,d),s.eachEdge(function(w,C){var H,E=Sm(w.getModel().get(["lineStyle","curveness"]),Cz(w,n,C),0),k=Cm(w.node1.getLayout()),j=Cm(w.node2.getLayout());+E&&(H=[l*(E*=3)+(k[0]+j[0])/2*(1-E),c*E+(k[1]+j[1])/2*(1-E)]),w.setLayout([k,j,H])})}}}var bUt={value:function(n,e,t,i,r,o,a){var s=0,l=t.getSum("value"),c=2*Math.PI/(l||a);e.eachNode(function(u){var d=u.getValue("value"),h=c*(l?d:1)/2;s+=h,u.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=h})},symbolSize:function(n,e,t,i,r,o,a){var s=0;Ez.length=a;var l=DC(n);e.eachNode(function(d){var h=AC(d);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/i);isNaN(p)&&(p=Ert/2),Ez[d.dataIndex]=p,s+=2*p});var c=(2*Ert-s)/a/2,u=0;e.eachNode(function(d){var h=c+Ez[d.dataIndex];u+=h,(!d.getLayout()||!d.getLayout().fixed)&&d.setLayout([i*Math.cos(u)+r,i*Math.sin(u)+o]),u+=h})}};function Trt(n,e,t,i){var r=n.getGraphicEl();if(r){var a=n.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(e){var l=n.getLayout(),c=Math.atan2(l[1]-i,l[0]-t);c<0&&(c=2*Math.PI+c);var u=l[0]<t;u&&(c-=Math.PI);var d=u?"left":"right";s.setTextConfig({rotation:-c,position:d,origin:"center"});var h=s.ensureState("emphasis");An(h.textConfig||(h.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function xUt(n){n.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&Tz(e,"symbolSize")})}var hx=mF;function SUt(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,a=r.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?o.each(function(E){var k=o.getId(E);o.setItemLayout(E,i[k]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&Tz(e,"value"):Mrt(e);var c=o.getDataExtent("value"),u=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),p=Ln(d)?d:[d,d],g=Ln(h)?h:[h,h];g=[g[1],g[0]];var y=o.mapArray("value",function(E,k){var j=o.getItemLayout(k),H=_s(E,c,p);return isNaN(H)&&(H=(p[0]+p[1])/2),{w:H,rep:H,fixed:o.getItemModel(k).get("fixed"),p:!j||isNaN(j[0])||isNaN(j[1])?null:j}}),b=a.mapArray("value",function(E,k){var j=r.getEdgeByIndex(k),H=_s(E,u,g);isNaN(H)&&(H=(g[0]+g[1])/2);var it=j.getModel(),yt=Sm(j.getModel().get(["lineStyle","curveness"]),-Cz(j,e,k,!0),0);return{n1:y[j.node1.dataIndex],n2:y[j.node2.dataIndex],d:H,curveness:yt,ignoreForceLayout:it.get("ignoreForceLayout")}}),w=t.getBoundingRect(),C=function wUt(n,e,t){for(var i=n,r=e,o=t.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],c=null==t.gravity?.1:t.gravity,u=0;u<i.length;u++){var d=i[u];d.p||(d.p=b_(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Cm(d.p),d.edges=null}var g,y,h=null==t.friction?.6:t.friction,p=h;return{warmUp:function(){p=.8*h},setFixed:function(b){i[b].fixed=!0},setUnfixed:function(b){i[b].fixed=!1},beforeStep:function(b){g=b},afterStep:function(b){y=b},step:function(b){g&&g(i,r);for(var w=[],C=i.length,E=0;E<r.length;E++){var k=r[E];if(!k.ignoreForceLayout){x_(w,(H=k.n2).p,(j=k.n1).p);var it=gF(w)-k.d,yt=H.w/(j.w+H.w);isNaN(yt)&&(yt=0),bb(w,w),!j.fixed&&hx(j.p,j.p,w,yt*it*p),!H.fixed&&hx(H.p,H.p,w,-(1-yt)*it*p)}}for(E=0;E<C;E++)(lt=i[E]).fixed||(x_(w,l,lt.p),hx(lt.p,lt.p,w,c*p));for(E=0;E<C;E++)for(var j=i[E],Lt=E+1;Lt<C;Lt++){var H;x_(w,(H=i[Lt]).p,j.p),0===(it=gF(w))&&(EPt(w,Math.random()-.5,Math.random()-.5),it=1);var kt=(j.rep+H.rep)/it/it;!j.fixed&&hx(j.pp,j.pp,w,kt),!H.fixed&&hx(H.pp,H.pp,w,-kt)}var Jt=[];for(E=0;E<C;E++){var lt;(lt=i[E]).fixed||(x_(Jt,lt.p,lt.pp),hx(lt.p,lt.p,Jt,p),Cd(lt.pp,lt.p))}var ne=(p*=.992)<.01;y&&y(i,r,ne),b&&b(ne)}}}(y,b,{rect:w,gravity:s.get("gravity"),friction:s.get("friction")});C.beforeStep(function(E,k){for(var j=0,H=E.length;j<H;j++)E[j].fixed&&Cd(E[j].p,r.getNodeByIndex(j).getLayout())}),C.afterStep(function(E,k,j){for(var H=0,it=E.length;H<it;H++)E[H].fixed||r.getNodeByIndex(H).setLayout(E[H].p),i[o.getId(H)]=E[H].p;for(H=0,it=k.length;H<it;H++){var yt=k[H],lt=r.getEdgeByIndex(H),Lt=yt.n1.p,kt=yt.n2.p,Jt=lt.getLayout();(Jt=Jt?Jt.slice():[])[0]=Jt[0]||[],Jt[1]=Jt[1]||[],Cd(Jt[0],Lt),Cd(Jt[1],kt),+yt.curveness&&(Jt[2]=[(Lt[0]+kt[0])/2-(Lt[1]-kt[1])*yt.curveness,(Lt[1]+kt[1])/2-(kt[0]-Lt[0])*yt.curveness]),lt.setLayout(Jt)}}),e.forceLayout=C,e.preservedPoints=i,C.step()}else e.forceLayout=null})}function MUt(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),s=[],l=[];RA(o.mapArray(function(b){var w=o.getItemModel(b);return[+w.get("x"),+w.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var c=(l[0]-s[0])/(l[1]-s[1]),u=function CUt(n,e,t){return eu(An(n.getBoxLayoutParams(),{aspect:t}),{width:e.getWidth(),height:e.getHeight()})}(i,e,c);isNaN(c)&&(s=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var d=l[0]-s[0],h=l[1]-s[1],p=u.width,g=u.height,y=i.coordinateSystem=new _C;y.zoomLimit=i.get("scaleLimit"),y.setBoundingRect(s[0],s[1],d,h),y.setViewRect(u.x,u.y,p,g),y.setCenter(i.get("center"),e),y.setZoom(i.get("zoom")),t.push(y)}}),t}var Drt=wu.prototype,Dz=uI.prototype,Art=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Az(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){vn(function e(){return null!==n&&n.apply(this,arguments)||this},n)}(Art);var EUt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return vn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Art},e.prototype.buildPath=function(t,i){Az(i)?Drt.buildPath.call(this,t,i):Dz.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return Az(this.shape)?Drt.pointAt.call(this,t):Dz.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=Az(i)?[i.x2-i.x1,i.y2-i.y1]:Dz.tangentAt.call(this,t);return bb(r,r)},e}(vo);const TUt=EUt;var Iz=["fromSymbol","toSymbol"];function Irt(n){return"_"+n+"Type"}function Prt(n,e,t){var i=e.getItemVisual(t,n);if(i&&"none"!==i){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=WS(r),c=tx(a||0,l),u=Vc(i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,u.name=n,u}}function Pz(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var AUt=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return vn(e,n),e.prototype._createLine=function(t,i,r){var o=t.hostModel,s=function DUt(n){var e=new TUt({name:"line",subPixelOptimize:!0});return Pz(e.shape,n),e}(t.getItemLayout(i));s.shape.percent=0,Cl(s,{shape:{percent:1}},o,i),this.add(s),Xt(Iz,function(l){var c=Prt(l,t,i);this.add(c),this[Irt(l)]=t.getItemVisual(i,l)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),s=t.getItemLayout(i),l={shape:{}};Pz(l.shape,s),va(a,l,o,i),Xt(Iz,function(c){var u=t.getItemVisual(i,c),d=Irt(c);if(this[d]!==u){this.remove(this.childOfName(c));var h=Prt(c,t,i);this.add(h)}this[d]=u},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,c=r&&r.selectLineStyle,u=r&&r.labelStatesModels,d=r&&r.emphasisDisabled,h=r&&r.focus,p=r&&r.blurScope;if(!r||t.hasItemOption){var g=t.getItemModel(i),y=g.getModel("emphasis");s=y.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),c=g.getModel(["select","lineStyle"]).getLineStyle(),d=y.get("disabled"),h=y.get("focus"),p=y.get("blurScope"),u=uu(g)}var b=t.getItemVisual(i,"style"),w=b.stroke;a.useStyle(b),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=c,Xt(Iz,function(H){var it=this.childOfName(H);if(it){it.setColor(w),it.style.opacity=b.opacity;for(var yt=0;yt<Ed.length;yt++){var lt=Ed[yt],Lt=a.getState(lt);if(Lt){var kt=Lt.style||{},Jt=it.ensureState(lt),ne=Jt.style||(Jt.style={});null!=kt.stroke&&(ne[it.__isEmptyBrush?"stroke":"fill"]=kt.stroke),null!=kt.opacity&&(ne.opacity=kt.opacity)}}it.markRedraw()}},this);var C=o.getRawValue(i);Hu(this,u,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(H,it){return o.getFormattedLabel(H,it,t.dataType)}},inheritColor:w||"#000",defaultOpacity:b.opacity,defaultText:(null==C?t.getName(i):isFinite(C)?uc(C):C)+""});var E=this.getTextContent();if(E){var k=u.normal;E.__align=E.style.align,E.__verticalAlign=E.style.verticalAlign,E.__position=k.get("position")||"middle";var j=k.get("distance");Ln(j)||(j=[j,j]),E.__labelDistance=j}this.setTextConfig({position:null,local:!0,inside:!1}),$l(this,h,p,d)},e.prototype.highlight=function(){Lm(this)},e.prototype.downplay=function(){Om(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");Pz(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(this.__dirty||l.__dirty){var c=l.shape.percent,u=l.pointAt(0),d=l.pointAt(c),h=x_([],d,u);if(bb(h,h),i&&(i.setPosition(u),p(i,0),i.scaleX=i.scaleY=a*c,i.markRedraw()),r&&(r.setPosition(d),p(r,1),r.scaleX=r.scaleY=a*c,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var g=void 0,y=void 0,b=o.__labelDistance,w=b[0]*a,C=b[1]*a,E=c/2,k=l.tangentAt(E),j=[k[1],-k[0]],H=l.pointAt(E);j[1]>0&&(j[0]=-j[0],j[1]=-j[1]);var it=k[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var yt=-Math.atan2(k[1],k[0]);d[0]<u[0]&&(yt=Math.PI+yt),o.rotation=yt}var lt=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":lt=-C,y="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":lt=C,y="top";break;default:lt=0,y="middle"}switch(o.__position){case"end":o.x=h[0]*w+d[0],o.y=h[1]*C+d[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",y=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":o.x=-h[0]*w+u[0],o.y=-h[1]*C+u[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",y=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=w*it+u[0],o.y=u[1]+lt,g=k[0]<0?"right":"left",o.originX=-w*it,o.originY=-lt;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=H[0],o.y=H[1]+lt,g="center",o.originY=-lt;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-w*it+d[0],o.y=d[1]+lt,g=k[0]>=0?"right":"left",o.originX=w*it,o.originY=-lt}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||y,align:o.__align||g})}}}function p(Lt,kt){var Jt=Lt.__specifiedRotation;if(null==Jt){var ne=l.tangentAt(kt);Lt.attr("rotation",(1===kt?-1:1)*Math.PI/2-Math.atan2(ne[1],ne[0]))}else Lt.attr("rotation",Jt)}},e}(br);const kz=AUt;var IUt=function(){function n(e){this.group=new br,this._LineCtor=e||kz}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var a=krt(e);e.diff(o).add(function(s){t._doAdd(e,s,a)}).update(function(s,l){t._doUpdate(o,e,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=krt(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(s){!s.isGroup&&!function PUt(n){return n.animators&&n.animators.length>0}(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(Rz(t.getItemLayout(r))){var a=new this._LineCtor(t,r,this._seriesScope);a.traverse(i),this.group.add(a),t.setItemGraphicEl(r,a),this._progressiveEls.push(a)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Jg(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(Rz(e.getItemLayout(t))){var o=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,o),this.group.add(o)}},n.prototype._doUpdate=function(e,t,i,r,o){var a=e.getItemGraphicEl(i);Rz(t.getItemLayout(r))?(a?a.updateData(t,r,o):a=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function krt(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:uu(e)}}function Rrt(n){return isNaN(n[0])||isNaN(n[1])}function Rz(n){return n&&!Rrt(n[0])&&!Rrt(n[1])}const Lz=IUt;var Oz=[],Nz=[],Fz=[],fx=xu,Bz=w_,Lrt=Math.abs;function Ort(n,e,t){for(var s,i=n[0],r=n[1],o=n[2],a=1/0,l=t*t,c=.1,u=.1;u<=.9;u+=.1)Oz[0]=fx(i[0],r[0],o[0],u),Oz[1]=fx(i[1],r[1],o[1],u),(d=Lrt(Bz(Oz,e)-l))<a&&(a=d,s=u);for(var h=0;h<32;h++){var p=s+c;Nz[0]=fx(i[0],r[0],o[0],s),Nz[1]=fx(i[1],r[1],o[1],s),Fz[0]=fx(i[0],r[0],o[0],p),Fz[1]=fx(i[1],r[1],o[1],p);var d=Bz(Nz,e)-l;if(Lrt(d)<.01)break;var g=Bz(Fz,e)-l;c/=2,d<0?g>=0?s+=c:s-=c:g>=0?s-=c:s+=c}return s}function Vz(n,e){var t=[],i=J1,r=[[],[],[]],o=[[],[]],a=[];e/=2,n.eachEdge(function(s,l){var c=s.getLayout(),u=s.getVisual("fromSymbol"),d=s.getVisual("toSymbol");c.__original||(c.__original=[Cm(c[0]),Cm(c[1])],c[2]&&c.__original.push(Cm(c[2])));var h=c.__original;if(null!=c[2]){if(Cd(r[0],h[0]),Cd(r[1],h[2]),Cd(r[2],h[1]),u&&"none"!==u){var p=AC(s.node1),g=Ort(r,h[0],p*e);i(r[0][0],r[1][0],r[2][0],g,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],g,t),r[0][1]=t[3],r[1][1]=t[4]}d&&"none"!==d&&(p=AC(s.node2),g=Ort(r,h[1],p*e),i(r[0][0],r[1][0],r[2][0],g,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],g,t),r[1][1]=t[1],r[2][1]=t[2]),Cd(c[0],r[0]),Cd(c[1],r[2]),Cd(c[2],r[1])}else Cd(o[0],h[0]),Cd(o[1],h[1]),x_(a,o[1],o[0]),bb(a,a),u&&"none"!==u&&(p=AC(s.node1),mF(o[0],o[0],a,p*e)),d&&"none"!==d&&(p=AC(s.node2),mF(o[1],o[1],a,-p*e)),Cd(c[0],o[0]),Cd(c[1],o[1])})}function Nrt(n){return"view"===n.type}var kUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i){var r=new aC,o=new Lz,a=this.group;this._controller=new gC(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem;this._model=t;var s=this._symbolDraw,l=this._lineDraw,c=this.group;if(Nrt(a)){var u={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?c.attr(u):va(c,u,t)}Vz(t.getGraph(),DC(t));var d=t.getData();s.updateData(d);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,g);var y=t.get("layout");d.graph.eachNode(function(E){var k=E.dataIndex,j=E.getGraphicEl(),H=E.getModel();if(j){j.off("drag").off("dragend");var it=H.get("draggable");it&&j.on("drag",function(lt){switch(y){case"force":p.warmUp(),!o._layouting&&o._startForceLayoutIteration(p,g),p.setFixed(k),d.setItemLayout(k,[j.x,j.y]);break;case"circular":d.setItemLayout(k,[j.x,j.y]),E.setLayout({fixed:!0},!0),Tz(t,"symbolSize",E,[lt.offsetX,lt.offsetY]),o.updateLayout(t);break;default:d.setItemLayout(k,[j.x,j.y]),Mz(t.getGraph(),t),o.updateLayout(t)}}).on("dragend",function(){p&&p.setUnfixed(k)}),j.setDraggable(it,!!H.get("cursor")),"adjacency"===H.get(["emphasis","focus"])&&(Ar(j).focus=E.getAdjacentDataIndices())}}),d.graph.eachEdge(function(E){var k=E.getGraphicEl(),j=E.getModel().get(["emphasis","focus"]);k&&"adjacency"===j&&(Ar(k).focus={edge:[E.dataIndex],node:[E.node1.dataIndex,E.node2.dataIndex]})});var b="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),w=d.getLayout("cx"),C=d.getLayout("cy");d.graph.eachNode(function(E){Trt(E,b,w,C)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;!function o(){t.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(c,u,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(u,d)&&!cP(c,r,t)}),Nrt(t.coordinateSystem)?(a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){QV(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){JV(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),o._updateNodeAndLinkScale(),Vz(t.getGraph(),DC(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=DC(t);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){Vz(t.getGraph(),DC(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(ll);const RUt=kUt;function px(n){return"_EC_"+n}var LUt=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){var i=this._nodesMap;if(!i[px(e=null==e?""+t:""+e)]){var r=new Ty(e,t);return r.hostGraph=this,this.nodes.push(r),i[px(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[px(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if(ua(e)&&(e=this.nodes[e]),ua(t)&&(t=this.nodes[t]),e instanceof Ty||(e=r[px(e)]),t instanceof Ty||(t=r[px(t)]),e&&t){var a=e.id+"-"+t.id,s=new Frt(e,t,i);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Ty&&(e=e.id),t instanceof Ty&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof Ty||(t=this._nodesMap[px(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var s=[t];s.length;){var l=s.shift(),c=l[o];for(a=0;a<c.length;a++){var u=c[a],d=u.node1===l?u.node2:u.node1;if(!d.__visited){if(e.call(r,d,l))return;s.push(d),d.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=r[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),Ty=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),Frt=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function Brt(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}Nc(Ty,Brt("hostGraph","data")),Nc(Frt,Brt("hostGraph","edgeData"));const OUt=LUt;function Vrt(n,e,t,i,r){for(var o=new OUt(i),a=0;a<n.length;a++)o.addNode(bu(n[a].id,n[a].name,a),a);var s=[],l=[],c=0;for(a=0;a<e.length;a++){var u=e[a],d=u.source,h=u.target;o.addEdge(d,h,c)&&(l.push(u),s.push(bu(tu(u.id,null),d+" > "+h)),c++)}var g,p=t.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)g=Vm(n,t);else{var y=AS.get(p),b=y&&y.dimensions||[];so(b,"value")<0&&b.concat(["value"]);var w=ox(n,{coordDimensions:b,encodeDefine:t.getEncode()}).dimensions;(g=new Ad(w,t)).initData(n)}var C=new Ad(["value"],t);return C.initData(l,s),r&&r(g,C),ert({mainData:g,struct:o,structAttr:"graph",datas:{node:g,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var NUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return vn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new cC(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),k_(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],o=t.data||t.nodes||[],a=this;if(o&&r){!function vUt(n){xP(n)&&(n.__curvenessList=[],n.__edgeMap={},Srt(n))}(this);var s=Vrt(o,r,this,!0,function l(c,u){c.wrapMethod("getItemModel",function(g){var w=a._categoriesModels[g.getShallow("category")];return w&&(w.parentModel=g.parentModel,g.parentModel=w),g});var d=sl.prototype.getModel;function h(g,y){var b=d.call(this,g,y);return b.resolveParentPath=p,b}function p(g){if(g&&("label"===g[0]||"label"===g[1])){var y=g.slice();return"label"===g[0]?y[0]="edgeLabel":"label"===g[1]&&(y[1]="edgeLabel"),y}return g}u.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=h,g})});return Xt(s.edges,function(c){!function _Ut(n,e,t,i){if(xP(t)){var r=TC(n,e,t),o=t.__edgeMap,a=o[Crt(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(c.node1,c.node2,this,c.dataIndex)},this),s.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(t,r),s=o.graph.getEdgeByIndex(t),l=o.getName(s.node1.dataIndex),c=o.getName(s.node2.dataIndex),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),du("nameValue",{name:u.join(" > "),value:a.value,noValue:null==a.value})}return WQ({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=Nn(this.option.categories||[],function(r){return null!=r.value?r:An({value:0},r)}),i=new Ad(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Pl);const FUt=NUt;var BUt={type:"graphRoam",event:"graphRoam",update:"none"},zUt=function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},UUt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new zUt},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,a=i.r,s=i.width,l=i.angle,c=i.x-r(l)*s*(s>=a/3?1:2),u=i.y-o(l)*s*(s>=a/3?1:2);l=i.angle-Math.PI/2,t.moveTo(c,u),t.lineTo(i.x+r(l)*s,i.y+o(l)*s),t.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),t.lineTo(i.x-r(l)*s,i.y-o(l)*s),t.lineTo(c,u)},e}(vo);const GUt=UUt;function wP(n,e){var t=null==n?"":n+"";return e&&(si(e)?t=e.replace("{value}",t):Ki(e)&&(t=e(n))),t}var jUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var o=t.get(["axisLine","lineStyle","color"]),a=function HUt(n,e){var t=n.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:ni(t[0],e.getWidth()),cy:ni(t[1],e.getHeight()),r:ni(n.get("radius"),o/2)}}(t,r);this._renderMain(t,i,r,o,a),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,a){var s=this.group,l=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,d=t.getModel("axisLine"),p=d.get("roundCap")?YI:Xd,g=d.get("show"),y=d.getModel("lineStyle"),b=y.get("width"),w=[c,u];Sq(w,!l);for(var C=(u=w[1])-(c=w[0]),E=c,k=[],j=0;g&&j<o.length;j++){var it=new p({shape:{startAngle:E,endAngle:u=c+C*Math.min(Math.max(o[j][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-b,r:a.r},silent:!0});it.setStyle({fill:o[j][1]}),it.setStyle(y.getLineStyle(["color","width"])),k.push(it),E=u}k.reverse(),Xt(k,function(lt){return s.add(lt)});var yt=function(lt){if(lt<=0)return o[0][1];var Lt;for(Lt=0;Lt<o.length;Lt++)if(o[Lt][0]>=lt&&(0===Lt?0:o[Lt-1][0])<lt)return o[Lt][1];return o[Lt-1][1]};this._renderTicks(t,i,r,yt,a,c,u,l,b),this._renderTitleAndDetail(t,i,r,yt,a),this._renderAnchor(t,a),this._renderPointer(t,i,r,yt,a,c,u,l,b)},e.prototype._renderTicks=function(t,i,r,o,a,s,l,c,u){for(var ce,Ee,d=this.group,h=a.cx,p=a.cy,g=a.r,y=+t.get("min"),b=+t.get("max"),w=t.getModel("splitLine"),C=t.getModel("axisTick"),E=t.getModel("axisLabel"),k=t.get("splitNumber"),j=C.get("splitNumber"),H=ni(w.get("length"),g),it=ni(C.get("length"),g),yt=s,lt=(l-s)/k,Lt=lt/j,kt=w.getModel("lineStyle").getLineStyle(),Jt=C.getModel("lineStyle").getLineStyle(),ne=w.get("distance"),be=0;be<=k;be++){if(ce=Math.cos(yt),Ee=Math.sin(yt),w.get("show")){var Ne=new wu({shape:{x1:ce*(g-(Be=ne?ne+u:u))+h,y1:Ee*(g-Be)+p,x2:ce*(g-H-Be)+h,y2:Ee*(g-H-Be)+p},style:kt,silent:!0});"auto"===kt.stroke&&Ne.setStyle({stroke:o(be/k)}),d.add(Ne)}if(E.get("show")){var Be=E.get("distance")+ne,Qe=wP(uc(be/k*(b-y)+y),E.get("formatter")),In=o(be/k),Fn=ce*(g-H-Be)+h,Kn=Ee*(g-H-Be)+p,Qn=E.get("rotate"),zn=0;"radial"===Qn?(zn=-yt+2*Math.PI)>Math.PI/2&&(zn+=Math.PI):"tangential"===Qn?zn=-yt-Math.PI/2:ua(Qn)&&(zn=Qn*Math.PI/180),d.add(new da(0===zn?{style:al(E,{text:Qe,x:Fn,y:Kn,verticalAlign:Ee<-.8?"top":Ee>.8?"bottom":"middle",align:ce<-.4?"left":ce>.4?"right":"center"},{inheritColor:In}),silent:!0}:{style:al(E,{text:Qe,x:Fn,y:Kn,verticalAlign:"middle",align:"center"},{inheritColor:In}),silent:!0,originX:Fn,originY:Kn,rotation:zn}))}if(C.get("show")&&be!==k){Be=(Be=C.get("distance"))?Be+u:u;for(var zi=0;zi<=j;zi++){ce=Math.cos(yt),Ee=Math.sin(yt);var to=new wu({shape:{x1:ce*(g-Be)+h,y1:Ee*(g-Be)+p,x2:ce*(g-it-Be)+h,y2:Ee*(g-it-Be)+p},silent:!0,style:Jt});"auto"===Jt.stroke&&to.setStyle({stroke:o((be+zi/j)/k)}),d.add(to),yt+=Lt}yt-=Lt}else yt+=lt}},e.prototype._renderPointer=function(t,i,r,o,a,s,l,c,u){var d=this.group,h=this._data,p=this._progressEls,g=[],y=t.get(["pointer","show"]),b=t.getModel("progress"),w=b.get("show"),C=t.getData(),E=C.mapDimension("value"),k=+t.get("min"),j=+t.get("max"),H=[k,j],it=[s,l];function yt(Lt,kt){var Fn,ne=C.getItemModel(Lt).getModel("pointer"),ce=ni(ne.get("width"),a.r),Ee=ni(ne.get("length"),a.r),be=t.get(["pointer","icon"]),Be=ne.get("offsetCenter"),Ne=ni(Be[0],a.r),Qe=ni(Be[1],a.r),In=ne.get("keepAspect");return(Fn=be?Vc(be,Ne-ce/2,Qe-Ee,ce,Ee,null,In):new GUt({shape:{angle:-Math.PI/2,width:ce,r:Ee,x:Ne,y:Qe}})).rotation=-(kt+Math.PI/2),Fn.x=a.cx,Fn.y=a.cy,Fn}function lt(Lt,kt){var ne=b.get("roundCap")?YI:Xd,ce=b.get("overlap"),Ee=ce?b.get("width"):u/C.count(),Ne=new ne({shape:{startAngle:s,endAngle:kt,cx:a.cx,cy:a.cy,clockwise:c,r0:ce?a.r-Ee:a.r-(Lt+1)*Ee,r:ce?a.r:a.r-Lt*Ee}});return ce&&(Ne.z2=j-C.get(E,Lt)%j),Ne}(w||y)&&(C.diff(h).add(function(Lt){var kt=C.get(E,Lt);if(y){var Jt=yt(Lt,s);Cl(Jt,{rotation:-((isNaN(+kt)?it[0]:_s(kt,H,it,!0))+Math.PI/2)},t),d.add(Jt),C.setItemGraphicEl(Lt,Jt)}if(w){var ne=lt(Lt,s),ce=b.get("clip");Cl(ne,{shape:{endAngle:_s(kt,H,it,ce)}},t),d.add(ne),kB(t.seriesIndex,C.dataType,Lt,ne),g[Lt]=ne}}).update(function(Lt,kt){var Jt=C.get(E,Lt);if(y){var ne=h.getItemGraphicEl(kt),ce=ne?ne.rotation:s,Ee=yt(Lt,ce);Ee.rotation=ce,va(Ee,{rotation:-((isNaN(+Jt)?it[0]:_s(Jt,H,it,!0))+Math.PI/2)},t),d.add(Ee),C.setItemGraphicEl(Lt,Ee)}if(w){var be=p[kt],Ne=lt(Lt,be?be.shape.endAngle:s),Qe=b.get("clip");va(Ne,{shape:{endAngle:_s(Jt,H,it,Qe)}},t),d.add(Ne),kB(t.seriesIndex,C.dataType,Lt,Ne),g[Lt]=Ne}}).execute(),C.each(function(Lt){var kt=C.getItemModel(Lt),Jt=kt.getModel("emphasis"),ne=Jt.get("focus"),ce=Jt.get("blurScope"),Ee=Jt.get("disabled");if(y){var be=C.getItemGraphicEl(Lt),Be=C.getItemVisual(Lt,"style"),Ne=Be.fill;if(be instanceof Uu){var Qe=be.style;be.useStyle(An({image:Qe.image,x:Qe.x,y:Qe.y,width:Qe.width,height:Qe.height},Be))}else be.useStyle(Be),"pointer"!==be.type&&be.setColor(Ne);be.setStyle(kt.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===be.style.fill&&be.setStyle("fill",o(_s(C.get(E,Lt),H,[0,1],!0))),be.z2EmphasisLift=0,Gu(be,kt),$l(be,ne,ce,Ee)}if(w){var In=g[Lt];In.useStyle(C.getItemVisual(Lt,"style")),In.setStyle(kt.getModel(["progress","itemStyle"]).getItemStyle()),In.z2EmphasisLift=0,Gu(In,kt),$l(In,ne,ce,Ee)}}),this._progressEls=g)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var a=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),c=r.get("keepAspect"),u=Vc(s,i.cx-a/2+ni(l[0],i.r),i.cy-a/2+ni(l[1],i.r),a,a,null,c);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,a){var s=this,l=t.getData(),c=l.mapDimension("value"),u=+t.get("min"),d=+t.get("max"),h=new br,p=[],g=[],y=t.isAnimationEnabled(),b=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(w){p[w]=new da({silent:!0}),g[w]=new da({silent:!0})}).update(function(w,C){p[w]=s._titleEls[C],g[w]=s._detailEls[C]}).execute(),l.each(function(w){var C=l.getItemModel(w),E=l.get(c,w),k=new br,j=o(_s(E,[u,d],[0,1],!0)),H=C.getModel("title");if(H.get("show")){var it=H.get("offsetCenter"),yt=a.cx+ni(it[0],a.r),lt=a.cy+ni(it[1],a.r);(Lt=p[w]).attr({z2:b?0:2,style:al(H,{x:yt,y:lt,text:l.getName(w),align:"center",verticalAlign:"middle"},{inheritColor:j})}),k.add(Lt)}var kt=C.getModel("detail");if(kt.get("show")){var Jt=kt.get("offsetCenter"),ne=a.cx+ni(Jt[0],a.r),ce=a.cy+ni(Jt[1],a.r),Ee=ni(kt.get("width"),a.r),be=ni(kt.get("height"),a.r),Be=t.get(["progress","show"])?l.getItemVisual(w,"style").fill:j,Lt=g[w],Ne=kt.get("formatter");Lt.attr({z2:b?0:2,style:al(kt,{x:ne,y:ce,text:wP(E,Ne),width:isNaN(Ee)?null:Ee,height:isNaN(be)?null:be,align:"center",verticalAlign:"middle"},{inheritColor:Be})}),vK(Lt,{normal:kt},E,function(In){return wP(In,Ne)}),y&&_K(Lt,w,l,t,{getFormattedLabel:function(In,Fn,Kn,Qn,zn,zi){return wP(zi?zi.interpolatedValue:E,Ne)}}),k.add(Lt)}h.add(k)}),this.group.add(h),this._titleEls=p,this._detailEls=g},e.type="gauge",e}(ll);const WUt=jUt;var ZUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return vn(e,n),e.prototype.getInitialData=function(t,i){return lx(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Pl);const YUt=ZUt;var $Ut=["itemStyle","opacity"],qUt=function(n){function e(t,i){var r=n.call(this)||this,o=r,a=new qd,s=new da;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(t,i,!0),r}return vn(e,n),e.prototype.updateData=function(t,i,r){var o=this,a=t.hostModel,s=t.getItemModel(i),l=t.getItemLayout(i),c=s.getModel("emphasis"),u=s.get($Ut);u=u??1,r||Lf(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,Cl(o,{style:{opacity:u}},a,i)):va(o,{style:{opacity:u},shape:{points:l.points}},a,i),Gu(o,s),this._updateLabel(t,i),$l(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i).label,d=t.getItemVisual(i,"style"),h=d.fill;Hu(a,uu(l),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:d.opacity,defaultText:t.getName(i)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:h,outsideFill:h});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new Hr(p[0][0],p[0][1]):null},va(a,{style:{x:u.x,y:u.y}},s,i),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),aV(r,sV(l),{stroke:h})},e}($d),KUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var c=new qUt(o,l);o.setItemGraphicEl(l,c),s.add(c)}).update(function(l,c){var u=a.getItemGraphicEl(c);u.updateData(o,l),s.add(u),o.setItemGraphicEl(l,u)}).remove(function(l){wS(a.getItemGraphicEl(l),t,l)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(ll);const QUt=KUt;var JUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new cC(vi(this.getData,this),vi(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return lx(this,{coordDimensions:["value"],encodeDefaulter:Lr(r3,this)})},e.prototype._defaultLabelLine=function(t){k_(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,t)/a*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Pl);const t8t=JUt;function r8t(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),a=function e8t(n,e){return eu(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),s=t.get("orient"),l=a.width,c=a.height,u=function n8t(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(l){return l}),r=[],o="ascending"===e,a=0,s=n.count();a<s;a++)r[a]=a;return Ki(e)?r.sort(e):"none"!==e&&r.sort(function(l,c){return o?i[l]-i[c]:i[c]-i[l]}),r}(i,o),d=a.x,h=a.y,p="horizontal"===s?[ni(t.get("minSize"),c),ni(t.get("maxSize"),c)]:[ni(t.get("minSize"),l),ni(t.get("maxSize"),l)],g=i.getDataExtent(r),y=t.get("min"),b=t.get("max");null==y&&(y=Math.min(g[0],0)),null==b&&(b=g[1]);var w=t.get("funnelAlign"),C=t.get("gap"),k=(("horizontal"===s?l:c)-C*(i.count()-1))/i.count(),j=function(ce,Ee){if("horizontal"===s){var Be=_s(i.get(r,ce)||0,[y,b],p,!0),Ne=void 0;switch(w){case"top":Ne=h;break;case"center":Ne=h+(c-Be)/2;break;case"bottom":Ne=h+(c-Be)}return[[Ee,Ne],[Ee,Ne+Be]]}var Fn,In=_s(i.get(r,ce)||0,[y,b],p,!0);switch(w){case"left":Fn=d;break;case"center":Fn=d+(l-In)/2;break;case"right":Fn=d+l-In}return[[Fn,Ee],[Fn+In,Ee]]};"ascending"===o&&(k=-k,C=-C,"horizontal"===s?d+=l:h+=c,u=u.reverse());for(var H=0;H<u.length;H++){var it=u[H],yt=u[H+1],lt=i.getItemModel(it);if("horizontal"===s){var Lt=lt.get(["itemStyle","width"]);null==Lt?Lt=k:(Lt=ni(Lt,l),"ascending"===o&&(Lt=-Lt));var kt=j(it,d),Jt=j(yt,d+Lt);d+=Lt+C,i.setItemLayout(it,{points:kt.concat(Jt.slice().reverse())})}else{var ne=lt.get(["itemStyle","height"]);null==ne?ne=k:(ne=ni(ne,c),"ascending"===o&&(ne=-ne)),kt=j(it,h),Jt=j(yt,h+ne),h+=ne+C,i.setItemLayout(it,{points:kt.concat(Jt.slice().reverse())})}}!function i8t(n){var t=n.hostModel.get("orient");n.each(function(i){var d,h,p,g,r=n.getItemModel(i),a=r.getModel("label").get("position"),s=r.getModel("labelLine"),l=n.getItemLayout(i),c=l.points,u="inner"===a||"inside"===a||"center"===a||"insideLeft"===a||"insideRight"===a;if(u)"insideLeft"===a?(h=(c[0][0]+c[3][0])/2+5,p=(c[0][1]+c[3][1])/2,d="left"):"insideRight"===a?(h=(c[1][0]+c[2][0])/2-5,p=(c[1][1]+c[2][1])/2,d="right"):(h=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,p=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,d="center"),g=[[h,p],[h,p]];else{var y=void 0,b=void 0,w=void 0,C=void 0,E=s.get("length");"left"===a?(b=(c[3][1]+c[0][1])/2,h=(w=(y=(c[3][0]+c[0][0])/2)-E)-5,d="right"):"right"===a?(b=(c[1][1]+c[2][1])/2,h=(w=(y=(c[1][0]+c[2][0])/2)+E)+5,d="left"):"top"===a?(y=(c[3][0]+c[0][0])/2,p=(C=(b=(c[3][1]+c[0][1])/2)-E)-5,d="center"):"bottom"===a?(y=(c[1][0]+c[2][0])/2,p=(C=(b=(c[1][1]+c[2][1])/2)+E)+5,d="center"):"rightTop"===a?(y="horizontal"===t?c[3][0]:c[1][0],b="horizontal"===t?c[3][1]:c[1][1],"horizontal"===t?(p=(C=b-E)-5,d="center"):(h=(w=y+E)+5,d="top")):"rightBottom"===a?(y=c[2][0],b=c[2][1],"horizontal"===t?(p=(C=b+E)+5,d="center"):(h=(w=y+E)+5,d="bottom")):"leftTop"===a?(y=c[0][0],b="horizontal"===t?c[0][1]:c[1][1],"horizontal"===t?(p=(C=b-E)-5,d="center"):(h=(w=y-E)-5,d="right")):"leftBottom"===a?(y="horizontal"===t?c[1][0]:c[3][0],b="horizontal"===t?c[1][1]:c[2][1],"horizontal"===t?(p=(C=b+E)+5,d="center"):(h=(w=y-E)-5,d="right")):(y=(c[1][0]+c[2][0])/2,b=(c[1][1]+c[2][1])/2,"horizontal"===t?(p=(C=b+E)+5,d="center"):(h=(w=y+E)+5,d="left")),"horizontal"===t?h=w=y:p=C=b,g=[[y,b],[w,C]]}l.label={linePoints:g,x:h,y:p,verticalAlign:"middle",textAlign:d,inside:u}})}(i)})}var a8t=.3,s8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new br,t._initialized=!1,t}return vn(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._dataGroup,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.dimensions,d=Grt(t);if(s.diff(l).add(function h(b){zz(Urt(s,a,b,u,c),s,b,d)}).update(function p(b,w){var C=l.getItemGraphicEl(w),E=zrt(s,b,u,c);s.setItemGraphicEl(b,C),va(C,{shape:{points:E}},t,b),Lf(C),zz(C,s,b,d)}).remove(function g(b){var w=l.getItemGraphicEl(b);a.remove(w)}).execute(),!this._initialized){this._initialized=!0;var y=function l8t(n,e,t){var i=n.model,r=n.getRect(),o=new aa({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),Cl(o,{shape:{width:r.width,height:r.height}},e,t),o}(c,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(y)}this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),a=i.coordinateSystem,s=a.dimensions,l=Grt(i),c=this._progressiveEls=[],u=t.start;u<t.end;u++){var d=Urt(o,this._dataGroup,u,s,a);d.incremental=!0,zz(d,o,u,l),c.push(d)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(ll);function zrt(n,e,t,i){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=n.get(n.mapDimension(a),e);c8t(s,i.getAxis(a).type)||r.push(i.dataToPoint(s,a))}return r}function Urt(n,e,t,i,r){var o=zrt(n,t,i,r),a=new qd({shape:{points:o},z2:10});return e.add(a),n.setItemGraphicEl(t,a),a}function Grt(n){var e=n.get("smooth",!0);return!0===e&&(e=a8t),Z1(e=Am(e))&&(e=0),{smooth:e}}function zz(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");Gu(n,r,"lineStyle"),$l(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function c8t(n,e){return"category"===e?null==n:null==n||isNaN(n)}const u8t=s8t;var d8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return vn(e,n),e.prototype.getInitialData=function(t,i){return Vm(null,this,{useEncodeDefaulter:vi(h8t,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,s){t===a&&o.push(r.getRawIndex(s))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Pl);function h8t(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return Xt(e.dimensions,function(i){var r=function f8t(n){return+n.replace("dim","")}(i);t[i]=r}),t}}const p8t=d8t;var m8t=["lineStyle","opacity"],g8t={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(a,s){var l=i[a];if("normal"===a&&o.hasItemOption){var c=o.getItemModel(s).get(m8t,!0);null!=c&&(l=c)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};const v8t=g8t;function _8t(n){(function y8t(n){if(!n.parallel){var e=!1;Xt(n.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(n.parallel=[{}])}})(n),function b8t(n){Xt(Ps(n.parallelAxis),function(t){if(or(t)){var i=t.parallelIndex||0,r=Ps(n.parallel)[i];r&&r.parallelAxisDefault&&Yr(t,r.parallelAxisDefault,!1)}})}(n)}var w8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},Xt(S8t,function(o,a){r.getZr().on(a,this._handlers[a]=vi(o,this))},this)),Qb(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){US(this,"_throttledDispatchExpand"),Xt(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(An({type:"parallelAxisExpand"},t))},e.type="parallel",e}(ql),S8t={mousedown:function(n){Uz(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(Uz(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&Uz(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Uz(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const C8t=w8t;var M8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){t&&Yr(this.option,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){Xt(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];Xt(Ss(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(o){t.push("dim"+o.get("dim")),i.push(o.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(ha);const E8t=M8t;var T8t=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s.axisIndex=a,s}return vn(e,n),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(Hf);const D8t=T8t;function Dy(n,e,t,i,r,o){n=n||0;var a=t[1]-t[0];if(null!=r&&(r=mx(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=mx(s,[0,a]),r=o=mx(s,[r,o]),i=0}e[0]=mx(e[0],t),e[1]=mx(e[1],t);var l=Gz(e,i);e[i]+=n;var d,c=r||0,u=t.slice();return l.sign<0?u[0]+=c:u[1]-=c,e[i]=mx(e[i],u),d=Gz(e,i),null!=r&&(d.sign!==l.sign||d.span<r)&&(e[1-i]=e[i]+l.sign*r),d=Gz(e,i),null!=o&&d.span>o&&(e[1-i]=e[i]+d.sign*o),e}function Gz(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function mx(n,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,n))}var Hz=Xt,Hrt=Math.min,jrt=Math.max,Wrt=Math.floor,A8t=Math.ceil,Zrt=uc,I8t=Math.PI,P8t=function(){function n(e,t,i){this.type="parallel",this._axesMap=Wi(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=e.parallelAxisIndex;Hz(e.dimensions,function(a,s){var l=o[s],c=t.getComponent("parallelAxis",l),u=this._axesMap.set(a,new D8t(a,oP(c),[0,0],c.get("type"),l));u.onBand="category"===u.type&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return a>=i&&a<=i+t.axisLength&&s>=r&&s<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();Hz(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),ux(a.scale,a.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=eu(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var g,e=this._model,t=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=t[r[a]],l=[0,s],c=this.dimensions.length,u=SP(e.get("axisExpandWidth"),l),d=SP(e.get("axisExpandCount")||0,[0,c]),h=e.get("axisExpandable")&&c>3&&c>d&&d>1&&u>0&&s>0,p=e.get("axisExpandWindow");p?(g=SP(p[1]-p[0],l),p[1]=p[0]+g):(g=SP(u*(d-1),l),(p=[u*(e.get("axisExpandCenter")||Wrt(c/2))-g/2])[1]=p[0]+g);var b=(s-g)/(c-d);b<3&&(b=0);var w=[Wrt(Zrt(p[0]/u,1))+1,A8t(Zrt(p[1]/u,1))-1];return{layout:o,pixelDimIndex:a,layoutBase:t[i[a]],layoutLength:s,axisBase:t[i[1-a]],axisLength:t[r[1-a]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:b,axisExpandWindow:p,axisCount:c,winInnerIndices:w,axisExpandWindow0Pos:b/u*p[0]}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Hz(i,function(a,s){var l=(r.axisExpandable?R8t:k8t)(s,r),c={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},d=[c[o].x+e.x,c[o].y+e.y],h={horizontal:I8t/2,vertical:0}[o],p=[1,0,0,1,0,0];S_(p,p,h),hp(p,p,d),this._axesLayout[a]={position:d,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){null==i&&(i=0),null==r&&(r=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];Xt(a,function(b){s.push(e.mapDimension(b)),l.push(o.get(b).model)});for(var c=this.hasAxisBrushed(),u=i;u<r;u++){var d=void 0;if(c){d="active";for(var h=e.getValues(s,u),p=0,g=a.length;p<g;p++)if("inactive"===l[p].getActiveState(h[p])){d="inactive";break}}else d="normal";t(d,u)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return Bf([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return ur(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var l,s=e[i]-t.layoutBase-t.axisExpandWindow0Pos,c="slide",u=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];if(u)h&&u&&s<o*d[0]?(c="jump",l=s-o*d[2]):h&&u&&s>o*(1-d[0])?(c="jump",l=s-o*(1-d[2])):(l=s-o*d[1])>=0&&(l=s-o*(1-d[1]))<=0&&(l=0),(l*=t.axisExpandWidth/u)?Dy(l,r,a,"all"):c="none";else{var p=r[1]-r[0];(r=[jrt(0,a[1]*s/p-p/2)])[1]=Hrt(a[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:c}},n}();function SP(n,e){return Hrt(jrt(n,e[0]),e[1])}function k8t(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function R8t(n,e){var s,u,i=e.axisExpandWidth,o=e.axisCollapseWidth,a=e.winInnerIndices,l=o,c=!1;return n<a[0]?(s=n*o,u=o):n<=a[1]?(s=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],l=i,c=!0):(s=e.layoutLength-(e.axisCount-1-n)*o,u=o),{position:s,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}const L8t=P8t;var N8t={create:function O8t(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new L8t(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",Fc).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const F8t=N8t;var Yrt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return vn(e,n),e.prototype.getAreaSelectStyle=function(){return O_([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=ur(t);if(i)for(var r=i.length-1;r>=0;r--)Wh(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(ha);Nc(Yrt,uC);const Xrt=Yrt;var Ay=!0,IC=Math.min,gx=Math.max,B8t=Math.pow,V8t=1e4,z8t=6,U8t=6,G8t={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},H8t={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},qrt={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},j8t=0,W8t=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new br,i._uid="brushController_"+j8t++,Xt(Q8t,function(r,o){this._handlers[o]=vi(r,this)},i),i}return vn(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function Xzt(n,e,t){qV(n)[e]=t}(i,"globalPan",this._uid),Xt(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=Yr(ur(qrt),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function $zt(n,e,t){var i=qV(n);i[e]===t&&(i[e]=null)})(t,"globalPan",this._uid),Xt(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};Xt(t,function(r){i[r.panelId]=ur(r)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Nn(t,function(h){return Yr(ur(qrt),h,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new Bm(r,t,function c(h,p){return l(h.__brushOption,p)},l).add(u).update(u).remove(function d(h){r[h]!==s&&a.group.remove(r[h])}).execute(),this;function l(h,p){return(null!=h.id?h.id:i+p)+"-"+h.brushType}function u(h,p){var g=t[h];if(null!=p&&r[p]===s)o[h]=r[p];else{var y=o[h]=null!=p?(r[p].__brushOption=g,r[p]):Qrt(a,Krt(a,g));jz(a,y)}}},e.prototype.unmount=function(){return this.enableBrush(!1),Yz(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(zh);function Krt(n,e){var t=CP[e.brushType].createCover(n,e);return t.__brushOption=e,tot(t,e),n.group.add(t),t}function Qrt(n,e){var t=Wz(e);return t.endCreating&&(t.endCreating(n,e),tot(e,e.__brushOption)),e}function Jrt(n,e){var t=e.__brushOption;Wz(e).updateCoverShape(n,e,t.range,t)}function tot(n,e){var t=e.z;null==t&&(t=V8t),n.traverse(function(i){i.z=t,i.z2=t})}function jz(n,e){Wz(e).updateCommon(n,e),Jrt(n,e)}function Wz(n){return CP[n.__brushOption.brushType]}function Zz(n,e,t){var i=n._panels;if(!i)return Ay;var r,o=n._transform;return Xt(i,function(a){a.isTargetByCursor(e,t,o)&&(r=a)}),r}function eot(n,e){var t=n._panels;if(!t)return Ay;var i=e.__brushOption.panelId;return null!=i?t[i]:Ay}function Yz(n){var e=n._covers,t=e.length;return Xt(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function Iy(n,e){var t=Nn(n._covers,function(i){var r=i.__brushOption,o=ur(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function not(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function iot(n,e,t,i){var r=new br;return r.add(new aa({name:"main",style:$z(t),silent:!0,draggable:!0,cursor:"move",drift:Lr(aot,n,e,r,["n","s","w","e"]),ondragend:Lr(Iy,e,{isEnd:!0})})),Xt(i,function(o){r.add(new aa({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Lr(aot,n,e,r,o),ondragend:Lr(Iy,e,{isEnd:!0})}))}),r}function rot(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=gx(r,U8t),a=t[0][0],s=t[1][0],l=a-r/2,c=s-r/2,u=t[0][1],d=t[1][1],h=u-o+r/2,p=d-o+r/2,g=u-a,y=d-s,b=g+r,w=y+r;Hm(n,e,"main",a,s,g,y),i.transformable&&(Hm(n,e,"w",l,c,o,w),Hm(n,e,"e",h,c,o,w),Hm(n,e,"n",l,c,b,o),Hm(n,e,"s",l,p,b,o),Hm(n,e,"nw",l,c,o,o),Hm(n,e,"ne",h,c,o,o),Hm(n,e,"sw",l,p,o,o),Hm(n,e,"se",h,p,o,o))}function Xz(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle($z(t)),r.attr({silent:!i,cursor:i?"move":"default"}),Xt([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=e.childOfName(o.join("")),s=1===o.length?qz(n,o[0]):function X8t(n,e){var t=[qz(n,e[0]),qz(n,e[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?H8t[s]+"-resize":null})})}function Hm(n,e,t,i,r,o,a){var s=e.childOfName(t);s&&s.setShape(function q8t(n){var e=IC(n[0][0],n[1][0]),t=IC(n[0][1],n[1][1]);return{x:e,y:t,width:gx(n[0][0],n[1][0])-e,height:gx(n[0][1],n[1][1])-t}}(Kz(n,e,[[i,r],[i+o,r+a]])))}function $z(n){return er({strokeNoScale:!0},n.brushStyle)}function oot(n,e,t,i){var r=[IC(n,t),IC(e,i)],o=[gx(n,t),gx(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function qz(n,e){var r=_I({w:"left",e:"right",n:"top",s:"bottom"}[e],function Y8t(n){return oy(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}function aot(n,e,t,i,r,o){var a=t.__brushOption,s=n.toRectRange(a.range),l=sot(e,r,o);Xt(i,function(c){var u=G8t[c];s[u[0]][u[1]]+=l[u[0]]}),a.range=n.fromRectRange(oot(s[0][0],s[1][0],s[0][1],s[1][1])),jz(e,t),Iy(e,{isEnd:!1})}function $8t(n,e,t,i){var r=e.__brushOption.range,o=sot(n,t,i);Xt(r,function(a){a[0]+=o[0],a[1]+=o[1]}),jz(n,e),Iy(n,{isEnd:!1})}function sot(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Kz(n,e,t){var i=eot(n,e);return i&&i!==Ay?i.clipPath(t,n._transform):ur(t)}function Qz(n){var e=n.event;e.preventDefault&&e.preventDefault()}function Jz(n,e,t){return n.childOfName("main").contain(e,t)}function lot(n,e,t,i){var s,r=n._creatingCover,o=n._creatingPanel,a=n._brushOption;if(n._track.push(t.slice()),function Z8t(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],r=t[0]-i[0],o=t[1]-i[1];return B8t(r*r+o*o,.5)>z8t}(n)||r){if(o&&!r){"single"===a.brushMode&&Yz(n);var l=ur(a);l.brushType=cot(l.brushType,o),l.panelId=o===Ay?null:o.panelId,r=n._creatingCover=Krt(n,l),n._covers.push(r)}if(r){var c=CP[cot(n._brushType,o)];r.__brushOption.range=c.getCreatingRange(Kz(n,r,n._track)),i&&(Qrt(n,r),c.updateCommon(n,r)),Jrt(n,r),s={isEnd:i}}}else i&&"single"===a.brushMode&&a.removeOnClick&&Zz(n,e,t)&&Yz(n)&&(s={isEnd:i,removeOnClick:!0});return s}function cot(n,e){return"auto"===n?e.defaultBrushType:n}var Q8t={mousedown:function(n){if(this._dragging)uot(this,n);else if(!n.target||!n.target.draggable){Qz(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=Zz(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function K8t(n,e,t){if(n._brushType&&!function J8t(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}(n,e.offsetX,e.offsetY)){var i=n._zr,r=n._covers,o=Zz(n,e,t);if(!n._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===Ay||s.panelId===o.panelId)&&CP[s.brushType].contain(r[a],t[0],t[1]))return}o&&i.setCursorStyle("crosshair")}}(this,n,i),this._dragging){Qz(n);var r=lot(this,n,i,!1);r&&Iy(this,r)}},mouseup:function(n){uot(this,n)}};function uot(n,e){if(n._dragging){Qz(e);var r=n.group.transformCoordToLocal(e.offsetX,e.offsetY),o=lot(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Iy(n,o)}}var CP={lineX:dot(0),lineY:dot(1),rect:{createCover:function(n,e){function t(i){return i}return iot({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=not(n);return oot(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){rot(n,e,t,i)},updateCommon:Xz,contain:Jz},polygon:{createCover:function(n,e){var t=new br;return t.add(new qd({name:"main",style:$z(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new $d({name:"main",draggable:!0,drift:Lr($8t,n,e),ondragend:Lr(Iy,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:Kz(n,e,t)})},updateCommon:Xz,contain:Jz}};function dot(n){return{createCover:function(e,t){return iot({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=not(e);return[IC(t[0][n],t[1][n]),gx(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var o,a=eot(e,t);if(a!==Ay&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),rot(e,t,l,r)},updateCommon:Xz,contain:Jz}}const t5=W8t;function hot(n){return n=e5(n),function(e){return wJ(e,n)}}function fot(n,e){return n=e5(n),function(t){var i=e??t,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function pot(n,e,t){var i=e5(n);return function(r,o){return i.contain(o[0],o[1])&&!cP(r,e,t)}}function e5(n){return $r.create(n)}var t6t=["axisLine","axisTickLabel","axisName"],e6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new t5(i.getZr())).on("brush",vi(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(!function n6t(n,e,t){return t&&"axisAreaSelect"===t.type&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}(t,i,o)){this.axisModel=t,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new br,this.group.add(this._axisGroup),t.get("show")){var s=function r6t(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}(t,i),l=s.coordinateSystem,c=t.getAreaSelectStyle(),u=c.width,p=An({strokeContainThreshold:u},l.getAxisLayout(t.axis.dim)),g=new Um(t,p);Xt(t6t,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,c,t,s,u,r),BS(a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,o,a,s){var l=r.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,.1*Math.abs(c)),d=$r.create({x:l[0],y:-a/2,width:c,height:a});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:hot(d),isTargetByCursor:pot(d,s,o),getLinearBrushOtherExtent:fot(d,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function i6t(n){var e=n.axis;return Nn(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(r))},e.prototype._onBrush=function(t){var r=this.axisModel,o=r.axis,a=Nn(t.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(ql);const o6t=e6t;var a6t={type:"axisAreaSelect",event:"axisAreaSelected"},l6t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function mot(n){n.registerComponentView(C8t),n.registerComponentModel(E8t),n.registerCoordinateSystem("parallel",F8t),n.registerPreprocessor(_8t),n.registerComponentModel(Xrt),n.registerComponentView(o6t),cx(n,"parallel",Xrt,l6t),function s6t(n){n.registerAction(a6t,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}(n)}var u6t=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},d6t=function(n){function e(t){return n.call(this,t)||this}return vn(e,n),e.prototype.getDefaultShape=function(){return new u6t},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){Lm(this)},e.prototype.downplay=function(){Om(this)},e}(vo),h6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=this,a=t.getGraph(),s=this.group,l=t.layoutInfo,c=l.width,u=l.height,d=t.getData(),h=t.getData("edge"),p=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(g){var y=new d6t,b=Ar(y);b.dataIndex=g.dataIndex,b.seriesIndex=t.seriesIndex,b.dataType="edge";var ne,ce,Ee,be,Be,Ne,Qe,In,w=g.getModel(),C=w.getModel("lineStyle"),E=C.get("curveness"),k=g.node1.getLayout(),j=g.node1.getModel(),H=j.get("localX"),it=j.get("localY"),yt=g.node2.getLayout(),lt=g.node2.getModel(),Lt=lt.get("localX"),kt=lt.get("localY"),Jt=g.getLayout();switch(y.shape.extent=Math.max(1,Jt.dy),y.shape.orient=p,"vertical"===p?(Be=ne=(null!=H?H*c:k.x)+Jt.sy,Ne=(ce=(null!=it?it*u:k.y)+k.dy)*(1-E)+(be=null!=kt?kt*u:yt.y)*E,Qe=Ee=(null!=Lt?Lt*c:yt.x)+Jt.ty,In=ce*E+be*(1-E)):(Be=(ne=(null!=H?H*c:k.x)+k.dx)*(1-E)+(Ee=null!=Lt?Lt*c:yt.x)*E,Ne=ce=(null!=it?it*u:k.y)+Jt.sy,Qe=ne*E+Ee*(1-E),In=be=(null!=kt?kt*u:yt.y)+Jt.ty),y.setShape({x1:ne,y1:ce,x2:Ee,y2:be,cpx1:Be,cpy1:Ne,cpx2:Qe,cpy2:In}),y.useStyle(C.getItemStyle()),y.style.fill){case"source":y.style.fill=g.node1.getVisual("color"),y.style.decal=g.node1.getVisual("style").decal;break;case"target":y.style.fill=g.node2.getVisual("color"),y.style.decal=g.node2.getVisual("style").decal;break;case"gradient":var Fn=g.node1.getVisual("color"),Kn=g.node2.getVisual("color");si(Fn)&&si(Kn)&&(y.style.fill=new Tp(0,0,+("horizontal"===p),+("vertical"===p),[{color:Fn,offset:0},{color:Kn,offset:1}]))}Hu(y,uu(w,"edgeLabel"),{labelFetcher:t,labelDataIndex:g.dataIndex,defaultText:""+w.get("value")}),y.setTextConfig({position:"inside"});var Qn=w.getModel("emphasis");Gu(y,w,"lineStyle",function(zi){return zi.getItemStyle()}),s.add(y),h.setItemGraphicEl(g.dataIndex,y);var zn=Qn.get("focus");$l(y,"adjacency"===zn?g.getAdjacentDataIndices():zn,Qn.get("blurScope"),Qn.get("disabled")),Ar(y).dataType="edge"}),a.eachNode(function(g){var y=g.getLayout(),b=g.getModel(),w=b.get("localX"),C=b.get("localY"),E=b.getModel("emphasis"),k=new aa({shape:{x:null!=w?w*c:y.x,y:null!=C?C*u:y.y,width:y.dx,height:y.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});Hu(k,uu(b),{labelFetcher:t,labelDataIndex:g.dataIndex,defaultText:g.id}),k.disableLabelAnimation=!0,k.setStyle("fill",g.getVisual("color")),k.setStyle("decal",g.getVisual("style").decal),Gu(k,b),s.add(k),d.setItemGraphicEl(g.dataIndex,k),Ar(k).dataType="node";var j=E.get("focus");$l(k,"adjacency"===j?g.getAdjacentDataIndices():j,E.get("blurScope"),E.get("disabled"))}),d.eachItemGraphicEl(function(g,y){d.getItemModel(y).get("draggable")&&(g.drift=function(w,C){o._focusAdjacencyDisabled=!0,this.shape.x+=w,this.shape.y+=C,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:d.getRawIndex(y),localX:this.shape.x/c,localY:this.shape.y/u})},g.ondragend=function(){o._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(function f6t(n,e,t){var i=new aa({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Cl(i,{shape:{width:n.width+20}},e,t),i}(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(ll);const p6t=h6t;var m6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new sl(a[l],this,i));if(o&&r)return Vrt(o,r,this,!0,function u(d,h){d.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,b=y.getData().getItemLayout(g);if(b){var C=y.levelModels[b.depth];C&&(p.parentModel=C)}return p}),h.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,w=y.getGraph().getEdgeByIndex(g).node1.getLayout();if(w){var E=y.levelModels[w.depth];E&&(p.parentModel=E)}return p})}).data},e.prototype.setNodePosition=function(t,i){var o=(this.option.data||this.option.nodes)[t];o.localX=i[0],o.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(p){return isNaN(p)||null==p}if("edge"===r){var a=this.getDataParams(t,r),s=a.data,l=a.value;return du("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var d=this.getGraph().getNodeByIndex(t).getLayout().value,h=this.getDataParams(t,r).data.name;return du("nameValue",{name:null!=h?h+"":null,value:d,noValue:o(d)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(null==r.value&&"node"===i){var a=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=a}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Pl);const g6t=m6t;function v6t(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),o=function _6t(n,e){return eu(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=o;var a=o.width,s=o.height,l=t.getGraph(),c=l.nodes,u=l.edges;!function b6t(n){Xt(n,function(e){var t=cv(e.outEdges,MP),i=cv(e.inEdges,MP),r=e.getValue()||0,o=Math.max(t,i,r);e.setLayout({value:o},!0)})}(c),function y6t(n,e,t,i,r,o,a,s,l){(function x6t(n,e,t,i,r,o,a){for(var s=[],l=[],c=[],u=[],d=0,h=0;h<e.length;h++)s[h]=1;for(h=0;h<n.length;h++)l[h]=n[h].inEdges.length,0===l[h]&&c.push(n[h]);for(var p=-1;c.length;){for(var g=0;g<c.length;g++){var y=c[g],b=y.hostGraph.data.getRawDataItem(y.dataIndex),w=null!=b.depth&&b.depth>=0;w&&b.depth>p&&(p=b.depth),y.setLayout({depth:w?b.depth:d},!0),y.setLayout("vertical"===o?{dy:t}:{dx:t},!0);for(var C=0;C<y.outEdges.length;C++){var E=y.outEdges[C];s[e.indexOf(E)]=0;var j=E.node2;0==--l[n.indexOf(j)]&&u.indexOf(j)<0&&u.push(j)}}++d,c=u,u=[]}for(h=0;h<s.length;h++)if(1===s[h])throw new Error("Sankey is a DAG, the original data has cycle!");var it=p>d-1?p:d-1;a&&"left"!==a&&function w6t(n,e,t,i){if("right"===e){for(var r=[],o=n,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];r.indexOf(u.node1)<0&&r.push(u.node1)}}o=r,r=[],++a}Xt(n,function(d){got(d)||d.setLayout({depth:Math.max(0,i-d.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function S6t(n,e){Xt(n,function(t){!got(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}(n,i)}(n,a,0,it),function C6t(n,e,t){Xt(n,function(i){var r=i.getLayout().depth*e;i.setLayout("vertical"===t?{y:r}:{x:r},!0)})}(n,"vertical"===o?(r-t)/it:(i-t)/it,o)})(n,e,t,r,o,s,l),function M6t(n,e,t,i,r,o,a){var s=function E6t(n,e){var t=[],i="vertical"===e?"y":"x",r=pB(n,function(o){return o.getLayout()[i]});return r.keys.sort(function(o,a){return o-a}),Xt(r.keys,function(o){t.push(r.buckets.get(o))}),t}(n,a);(function T6t(n,e,t,i,r,o){var a=1/0;Xt(n,function(s){var l=s.length,c=0;Xt(s,function(d){c+=d.getLayout().value});var u="vertical"===o?(i-(l-1)*r)/c:(t-(l-1)*r)/c;u<a&&(a=u)}),Xt(n,function(s){Xt(s,function(l,c){var u=l.getLayout().value*a;"vertical"===o?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),Xt(e,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})})(s,e,t,i,r,a),n5(s,r,t,i,a);for(var l=1;o>0;o--)D6t(s,l*=.99,a),n5(s,r,t,i,a),R6t(s,l,a),n5(s,r,t,i,a)}(n,e,o,r,i,a,s),function L6t(n,e){var t="vertical"===e?"x":"y";Xt(n,function(i){i.outEdges.sort(function(r,o){return r.node2.getLayout()[t]-o.node2.getLayout()[t]}),i.inEdges.sort(function(r,o){return r.node1.getLayout()[t]-o.node1.getLayout()[t]})}),Xt(n,function(i){var r=0,o=0;Xt(i.outEdges,function(a){a.setLayout({sy:r},!0),r+=a.getLayout().dy}),Xt(i.inEdges,function(a){a.setLayout({ty:o},!0),o+=a.getLayout().dy})})}(n,s)}(c,u,i,r,a,s,0!==Ss(c,function(y){return 0===y.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function got(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=e.depth&&e.depth>=0}function n5(n,e,t,i,r){var o="vertical"===r?"x":"y";Xt(n,function(a){a.sort(function(y,b){return y.getLayout()[o]-b.getLayout()[o]});for(var s,l,c,u=0,d=a.length,h="vertical"===r?"dx":"dy",p=0;p<d;p++)(c=u-(l=a[p]).getLayout()[o])>0&&(s=l.getLayout()[o]+c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[o]+l.getLayout()[h]+e;if((c=u-e-("vertical"===r?i:t))>0)for(s=l.getLayout()[o]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0),u=s,p=d-2;p>=0;--p)(c=(l=a[p]).getLayout()[o]+l.getLayout()[h]+e-u)>0&&(s=l.getLayout()[o]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[o]})}function D6t(n,e,t){Xt(n.slice().reverse(),function(i){Xt(i,function(r){if(r.outEdges.length){var o=cv(r.outEdges,A6t,t)/cv(r.outEdges,MP);if(isNaN(o)){var a=r.outEdges.length;o=a?cv(r.outEdges,I6t,t)/a:0}if("vertical"===t){var s=r.getLayout().x+(o-lv(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-lv(r,t))*e;r.setLayout({y:l},!0)}}})})}function A6t(n,e){return lv(n.node2,e)*n.getValue()}function I6t(n,e){return lv(n.node2,e)}function P6t(n,e){return lv(n.node1,e)*n.getValue()}function k6t(n,e){return lv(n.node1,e)}function lv(n,e){return"vertical"===e?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function MP(n){return n.getValue()}function cv(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var a=+e(n[o],t);isNaN(a)||(i+=a)}return i}function R6t(n,e,t){Xt(n,function(i){Xt(i,function(r){if(r.inEdges.length){var o=cv(r.inEdges,P6t,t)/cv(r.inEdges,MP);if(isNaN(o)){var a=r.inEdges.length;o=a?cv(r.inEdges,k6t,t)/a:0}if("vertical"===t){var s=r.getLayout().x+(o-lv(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-lv(r,t))*e;r.setLayout({y:l},!0)}}})})}function O6t(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var o=1/0,a=-1/0;Xt(i,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),Xt(i,function(s){var c=new Wu({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);null!=u?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",c),s.setVisual("style",{fill:c}))})}r.length&&Xt(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var vot=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,l,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",i=r.getOrdinalMeta(),l=!0):"category"===s?(e.layout="vertical",i=o.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal";var c=["x","y"],u="horizontal"===e.layout?0:1,d=this._baseAxisDim=c[u],h=c[1-u],p=[r,o],g=p[u].get("type"),y=p[1-u].get("type"),b=e.data;if(b&&l){var w=[];Xt(b,function(k,j){var H;Ln(k)?(H=k.slice(),k.unshift(j)):Ln(k.value)?((H=An({},k)).value=H.value.slice(),k.value.unshift(j)):H=k,w.push(H)}),e.data=w}var C=this.defaultValueDimensions,E=[{name:d,type:UI(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:UI(y),dimsDef:C.slice()}];return lx(this,{coordDimensions:E,dimensionsCount:C.length+1,encodeDefaulter:Lr(jK,E,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),_ot=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return vn(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Pl);Nc(_ot,vot,!0);const F6t=_ot;var B6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===t.get("layout")?1:0;o.diff(s).add(function(c){if(o.hasValue(c)){var d=yot(o.getItemLayout(c),o,c,l,!0);o.setItemGraphicEl(c,d),a.add(d)}}).update(function(c,u){var d=s.getItemGraphicEl(u);if(o.hasValue(c)){var h=o.getItemLayout(c);d?(Lf(d),bot(h,d,o,c)):d=yot(h,o,c,l),a.add(d),o.setItemGraphicEl(c,d)}else a.remove(d)}).remove(function(c){var u=s.getItemGraphicEl(c);u&&a.remove(u)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(ll),V6t=function n(){},z6t=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new V6t},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(vo);function yot(n,e,t,i,r){var o=n.ends,a=new z6t({shape:{points:r?U6t(o,i,n):o}});return bot(n,a,e,t,r),a}function bot(n,e,t,i,r){(0,J[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},t.hostModel,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(i),l=s.getModel("emphasis");Gu(e,s),$l(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function U6t(n,e,t){return Nn(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}const G6t=B6t;var PC=Xt;function H6t(n){var e=function j6t(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),o=so(t,r);o<0&&(t[o=t.length]=r,e[o]={axis:r,seriesModels:[]}),e[o].seriesModels.push(i)}),e}(n);PC(e,function(t){var i=t.seriesModels;i.length&&(function W6t(n){var s,e=n.axis,t=n.seriesModels,i=t.length,r=n.boxWidthList=[],o=n.boxOffsetList=[],a=[];if("category"===e.type)s=e.getBandWidth();else{var l=0;PC(t,function(g){l=Math.max(l,g.getData().count())});var c=e.getExtent();s=Math.abs(c[1]-c[0])/l}PC(t,function(g){var y=g.get("boxWidth");Ln(y)||(y=[y,y]),a.push([ni(y[0],s)||0,ni(y[1],s)||0])});var u=.8*s-2,d=u/i*.3,h=(u-d*(i-1))/i,p=h/2-u/2;PC(t,function(g,y){o.push(p),p+=d+h,r.push(Math.min(Math.max(h,a[y][0]),a[y][1]))})}(t),PC(i,function(r,o){!function Z6t(n,e,t){var i=n.coordinateSystem,r=n.getData(),o=t/2,a="horizontal"===n.get("layout")?0:1,s=1-a,l=["x","y"],c=r.mapDimension(l[a]),u=r.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var d=0;d<r.count();d++){var h=r.get(c,d),p=E(h,u[2],d),g=E(h,u[0],d),y=E(h,u[1],d),b=E(h,u[3],d),w=E(h,u[4],d),C=[];k(C,y,!1),k(C,b,!0),C.push(g,y,w,b),j(C,g),j(C,w),j(C,p),r.setItemLayout(d,{initBaseline:p[s],ends:C})}function E(H,it,yt){var kt,lt=r.get(it,yt),Lt=[];return Lt[a]=H,Lt[s]=lt,isNaN(H)||isNaN(lt)?kt=[NaN,NaN]:(kt=i.dataToPoint(Lt))[a]+=e,kt}function k(H,it,yt){var lt=it.slice(),Lt=it.slice();lt[a]+=o,Lt[a]-=o,yt?H.push(lt,Lt):H.push(Lt,lt)}function j(H,it){var yt=it.slice(),lt=it.slice();yt[a]-=o,lt[a]+=o,H.push(yt,lt)}}(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}var X6t={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==sd&&rs("");var r=function Y6t(n,e){for(var t=[],i=[],r=(e=e||{}).boundIQR,o="none"===r||0===r,a=0;a<n.length;a++){var s=Wh(n[a].slice()),l=dB(s,.25),c=dB(s,.5),u=dB(s,.75),d=s[0],h=s[s.length-1],p=(r??1.5)*(u-l),g=o?d:Math.max(d,l-p),y=o?h:Math.min(h,u+p),b=e.itemNameFormatter,w=Ki(b)?b({value:a}):si(b)?b.replace("{value}",a+""):a+"";t.push([w,g,l,c,u,y]);for(var C=0;C<s.length;C++){var E=s[C];(E<g||E>y)&&i.push([w,E])}}return{boxData:t,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},q6t=["color","borderColor"],K6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){Jg(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,c=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(u){if(i.hasValue(u)){var d=i.getItemLayout(u);if(s&&xot(c,d))return;var h=r5(d,0,!0);Cl(h,{shape:{points:d.ends}},t,u),o5(h,i,u,a),o.add(h),i.setItemGraphicEl(u,h)}}).update(function(u,d){var h=r.getItemGraphicEl(d);if(i.hasValue(u)){var p=i.getItemLayout(u);s&&xot(c,p)?o.remove(h):(h?(va(h,{shape:{points:p.ends}},t,u),Lf(h)):h=r5(p),o5(h,i,u,a),o.add(h),i.setItemGraphicEl(u,h))}else o.remove(h)}).remove(function(u){var d=r.getItemGraphicEl(u);d&&o.remove(d)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),wot(t,this.group);var i=t.get("clip",!0)?WI(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var a,r=i.getData(),o=r.getLayout("isSimpleBox");null!=(a=t.next());){var l=r5(r.getItemLayout(a));o5(l,r,a,o),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){wot(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(ll),Q6t=function n(){},J6t=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new Q6t},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(vo);function r5(n,e,t){var i=n.ends;return new J6t({shape:{points:t?tGt(i,n):i},z2:100})}function xot(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function o5(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Gu(n,r)}function tGt(n,e){return Nn(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var eGt=function n(){},a5=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return vn(e,n),e.prototype.getDefaultShape=function(){return new eGt},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];t.moveTo(a,r[o++]),t.lineTo(a,r[o++])}else o+=3},e}(vo);function wot(n,e,t,i){var r=n.getData(),o=r.getLayout("largePoints"),a=new a5({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new a5({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new a5({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),s5(1,a,n),s5(-1,s,n),s5(0,l,n),i&&(a.incremental=!0,s.incremental=!0),t&&t.push(a,s)}function s5(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);0===n&&(r=t.get(["itemStyle","borderColorDoji"]));var o=t.getModel("itemStyle").getItemStyle(q6t);e.useStyle(o),e.style.fill=null,e.style.stroke=r}const nGt=K6t;var Sot=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return vn(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Pl);Nc(Sot,vot,!0);const iGt=Sot;function rGt(n){!n||!Ln(n.series)||Xt(n.series,function(e){or(e)&&"k"===e.type&&(e.type="candlestick")})}var oGt=["itemStyle","borderColor"],aGt=["itemStyle","borderColor0"],sGt=["itemStyle","borderColorDoji"],lGt=["itemStyle","color"],cGt=["itemStyle","color0"],uGt={seriesType:"candlestick",plan:Yb(),performRawSeries:!0,reset:function(n,e){function t(o,a){return a.get(o>0?lGt:cGt)}function i(o,a){return a.get(0===o?sGt:o>0?oGt:aGt)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),c=a.getItemLayout(s).sign,u=l.getItemStyle();u.fill=t(c,l),u.stroke=i(c,l)||u.fill,An(a.ensureUniqueItemVisual(s,"style"),u)}}}}};const dGt=uGt;var hGt={seriesType:"candlestick",plan:Yb(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function fGt(n,e){var i,t=n.getBaseAxis(),r="category"===t.type?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),o=ni(Xr(n.get("barMaxWidth"),r),r),a=ni(Xr(n.get("barMinWidth"),1),r),s=n.get("barWidth");return null!=s?ni(s,r):Math.max(Math.min(r/2,o),a)}(n,t),r=0,o=1,a=["x","y"],s=t.getDimensionIndex(t.mapDimension(a[r])),l=Nn(t.mapDimensionsAll(a[o]),t.getDimensionIndex,t),c=l[0],u=l[1],d=l[2],h=l[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||l.length<4))return{progress:n.pipelineContext.large?function g(y,b){for(var E,H,w=kp(4*y.count),C=0,k=[],j=[],it=b.getStore(),yt=!!n.get(["itemStyle","borderColorDoji"]);null!=(H=y.next());){var lt=it.get(s,H),Lt=it.get(c,H),kt=it.get(u,H),Jt=it.get(d,H),ne=it.get(h,H);isNaN(lt)||isNaN(Jt)||isNaN(ne)?(w[C++]=NaN,C+=3):(w[C++]=Cot(it,H,Lt,kt,u,yt),k[r]=lt,k[o]=Jt,E=e.dataToPoint(k,null,j),w[C++]=E?E[0]:NaN,w[C++]=E?E[1]:NaN,k[o]=ne,E=e.dataToPoint(k,null,j),w[C++]=E?E[1]:NaN)}b.setLayout("largePoints",w)}:function p(y,b){for(var w,C=b.getStore();null!=(w=y.next());){var E=C.get(s,w),k=C.get(c,w),j=C.get(u,w),H=C.get(d,w),it=C.get(h,w),yt=Math.min(k,j),lt=Math.max(k,j),Lt=Be(yt,E),kt=Be(lt,E),Jt=Be(H,E),ne=Be(it,E),ce=[];Ne(ce,kt,0),Ne(ce,Lt,1),ce.push(In(ne),In(kt),In(Jt),In(Lt));var be=!!b.getItemModel(w).get(["itemStyle","borderColorDoji"]);b.setItemLayout(w,{sign:Cot(C,w,k,j,u,be),initBaseline:k>j?kt[o]:Lt[o],ends:ce,brushRect:(Fn=H,Kn=it,Qn=E,zn=void 0,zi=void 0,zn=Be(Fn,Qn),zi=Be(Kn,Qn),zn[r]-=i/2,zi[r]-=i/2,{x:zn[0],y:zn[1],width:o?i:zi[0]-zn[0],height:o?zi[1]-zn[1]:i})})}var Fn,Kn,Qn,zn,zi;function Be(Fn,Kn){var Qn=[];return Qn[r]=Kn,Qn[o]=Fn,isNaN(Kn)||isNaN(Fn)?[NaN,NaN]:e.dataToPoint(Qn)}function Ne(Fn,Kn,Qn){var zn=Kn.slice(),zi=Kn.slice();zn[r]=vI(zn[r]+i/2,1,!1),zi[r]=vI(zi[r]-i/2,1,!0),Qn?Fn.push(zn,zi):Fn.push(zi,zn)}function In(Fn){return Fn[r]=vI(Fn[r],1),Fn}}}}};function Cot(n,e,t,i,r,o){return t>i?-1:t<i?1:o?0:e>0?n.get(r,e-1)<=i?1:-1:1}const pGt=hGt;function Mot(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?t:null,fill:"fill"===e.brushType?t:null}})})}var gGt=function(n){function e(t,i){var r=n.call(this)||this,o=new oC(t,i),a=new br;return r.add(o),r.add(a),r.updateData(t,i),r}return vn(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=Vc(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-s/o*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),a.add(l)}Mot(a,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(i[s]!==t[s])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Mot(r,t)},e.prototype.highlight=function(){Lm(this)},e.prototype.downplay=function(){Om(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var a=this.childAt(1),s=t.getItemModel(i),l=t.getItemVisual(i,"symbol"),c=WS(t.getItemVisual(i,"symbolSize")),u=t.getItemVisual(i,"style"),d=u&&u.fill,h=s.getModel("emphasis");a.setScale(c),a.traverse(function(b){b.setStyle("fill",d)});var p=tx(t.getItemVisual(i,"symbolOffset"),c);p&&(a.x=p[0],a.y=p[1]);var g=t.getItemVisual(i,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var y={};y.showEffectOn=o.get("showEffectOn"),y.rippleScale=s.get(["rippleEffect","scale"]),y.brushType=s.get(["rippleEffect","brushType"]),y.period=1e3*s.get(["rippleEffect","period"]),y.effectOffset=i/t.count(),y.z=o.getShallow("z")||0,y.zlevel=o.getShallow("zlevel")||0,y.symbolType=l,y.color=d,y.rippleEffectColor=s.get(["rippleEffect","color"]),y.rippleNumber=s.get(["rippleEffect","number"]),"render"===y.showEffectOn?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){"emphasis"===b?"render"!==y.showEffectOn&&r.startEffectAnimation(y):"normal"===b&&"render"!==y.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=y,$l(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(br);const vGt=gGt;var _Gt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(){this._symbolDraw=new aC(vGt)},e.prototype.render=function(t,i,r){var o=t.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var a=sC("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=function jPt(n){var e=[1,0,0,1,0,0];return EF(e,n),e}(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(ll);const yGt=_Gt;var bGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return vn(e,n),e.prototype.getInitialData=function(t,i){return Vm(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Pl);const xGt=bGt;var SGt=function(n){function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return vn(e,n),e.prototype.createLine=function(t,i,r){return new kz(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var o=t.getItemModel(i).getModel("effect"),a=o.get("symbolSize"),s=o.get("symbol");Ln(a)||(a=[a,a]);var l=t.getItemVisual(i,"style"),c=o.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==s&&(this.remove(u),(u=Vc(s,-.5,-.5,1,1,c)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(o.getItemStyle(["color"])),u.scaleX=a[0],u.scaleY=a[1],u.setColor(c),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(t,o,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var a=t.getItemLayout(r),s=1e3*i.get("period"),l=i.get("loop"),c=i.get("roundTrip"),u=i.get("constantSpeed"),d=bu(i.get("delay"),function(p){return p/t.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),u>0&&(s=this._getLineLength(o)/u*1e3),s!==this._period||l!==this._loop||c!==this._roundTrip){o.stopAnimation();var h=void 0;h=Ki(d)?d(r):d,o.__t>0&&(h=-s*o.__t),this._animateSymbol(o,s,h,l,c)}this._period=s,this._loop=l,this._roundTrip=c}},e.prototype._animateSymbol=function(t,i,r,o,a){if(i>0){t.__t=0;var s=this,l=t.animate("",o).when(a?2*i:i,{__t:a?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});o||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Ng(t.__p1,t.__cp1)+Ng(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,a=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),c=xu,u=RF;s[0]=c(i[0],o[0],r[0],a),s[1]=c(i[1],o[1],r[1],a);var d=t.__t<1?u(i[0],o[0],r[0],a):u(r[0],o[0],i[0],1-a),h=t.__t<1?u(i[1],o[1],r[1],a):u(r[1],o[1],i[1],1-a);t.rotation=-Math.atan2(h,d)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Ng(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.scaleY=1===t.__lastT?2*Ng(i,s):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(br);const Eot=SGt;var CGt=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return vn(e,n),e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),a=new qd({shape:{points:o}});this.add(a),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel;va(this.childAt(0),{shape:{points:t.getItemLayout(i)}},o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),a=t.getItemModel(i),s=r&&r.emphasisLineStyle,l=r&&r.focus,c=r&&r.blurScope,u=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var d=a.getModel("emphasis");s=d.getModel("lineStyle").getLineStyle(),u=d.get("disabled"),l=d.get("focus"),c=d.get("blurScope")}o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,$l(this,l,c,u)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(br);const Tot=CGt;var MGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return vn(e,n),e.prototype.createLine=function(t,i,r){return new Tot(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=Ng(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,o=this._offsets,a=r.length;if(o){var l,s=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(s+1,a-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,a-2)}else{for(l=s;l<a&&!(o[l]>i);l++);l=Math.min(l-1,a-2)}var u=(i-o[l])/(o[l+1]-o[l]),d=r[l],h=r[l+1];t.x=d[0]*(1-u)+u*h[0],t.y=d[1]*(1-u)+u*h[1],t.rotation=-Math.atan2(t.__t<1?h[1]-d[1]:d[1]-h[1],t.__t<1?h[0]-d[0]:d[0]-h[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(Eot);const EGt=MGt;var TGt=function n(){this.polyline=!1,this.curveness=0,this.segs=[]},DGt=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return vn(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new TGt},e.prototype.buildPath=function(t,i){var a,r=i.segs,o=i.curveness;if(i.polyline)for(a=this._off;a<r.length;){var s=r[a++];if(s>0){t.moveTo(r[a++],r[a++]);for(var l=1;l<s;l++)t.lineTo(r[a++],r[a++])}}else for(a=this._off;a<r.length;){var c=r[a++],u=r[a++],d=r[a++],h=r[a++];t.moveTo(c,u),o>0?t.quadraticCurveTo((c+d)/2-(u-h)*o,(u+h)/2-(d-c)*o,d,h):t.lineTo(d,h)}this.incremental&&(this._off=a,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,c=0;c<o.length;){var u=o[c++];if(u>0)for(var d=o[c++],h=o[c++],p=1;p<u;p++)if(Zg(d,h,g=o[c++],y=o[c++],s,t,i))return l;l++}else for(l=0,c=0;c<o.length;){d=o[c++],h=o[c++];var g=o[c++],y=o[c++];if(a>0){if(Cq(d,h,(d+g)/2-(h-y)*a,(h+y)/2-(g-d)*a,g,y,s,t,i))return l}else if(Zg(d,h,g,y,s,t,i))return l;l++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape.segs,o=1/0,a=1/0,s=-1/0,l=-1/0,c=0;c<r.length;){var u=r[c++],d=r[c++];o=Math.min(u,o),s=Math.max(u,s),a=Math.min(d,a),l=Math.max(d,l)}t=this._rect=new $r(o,a,s,l)}return t},e}(vo),AGt=function(){function n(){this.group=new br}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new DGt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=Ar(e);a.seriesIndex=r.seriesIndex,e.on("mousemove",function(s){a.dataIndex=null;var l=e.hoverDataIdx;l>0&&(a.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const IGt=AGt;var PGt={seriesType:"lines",plan:Yb(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(t){for(var c=0,u=r.start;u<r.end;u++)c+=n.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var d=0,h=[];for(u=r.start;u<r.end;u++){var p=n.getLineCoords(u,a);t&&(s[d++]=p);for(var g=0;g<p;g++)h=e.dataToPoint(a[g],!1,h),s[d++]=h[0],s[d++]=h[1]}o.setLayout("linesPoints",s)}else for(u=r.start;u<r.end;u++){var y=o.getItemModel(u),b=(p=n.getLineCoords(u,a),[]);if(t)for(var w=0;w<p;w++)b.push(e.dataToPoint(a[w]));else{b[0]=e.dataToPoint(a[0]),b[1]=e.dataToPoint(a[1]);var C=y.get(["lineStyle","curveness"]);+C&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*C,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*C])}o.setItemLayout(u,b)}}}}}};const Dot=PGt;var kGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._updateLineDraw(o,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),c=r.getZr(),u="svg"===c.painter.getType();u||c.painter.getLayer(s).clear(!0),null!=this._lastZlevel&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(u||c.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var d=t.get("clip",!0)&&WI(t.coordinateSystem,!1,t);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateLineDraw(o,t).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=Dot.reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),l=i.pipelineContext.large;return(!r||o!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new IGt:new Lz(a?o?EGt:Tot:o?Eot:kz),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();"svg"!==i.painter.getType()&&null!=this._lastZlevel&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(ll);const RGt=kGt;var LGt=typeof Uint32Array>"u"?Array:Uint32Array,OGt=typeof Float64Array>"u"?Array:Float64Array;function Aot(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=Nn(e,function(t){var r={coords:[t[0].coord,t[1].coord]};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),uF([r,t[0],t[1]])}))}var NGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return vn(e,n),e.prototype.init=function(t){t.data=t.data||[],Aot(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(Aot(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=qD(this._flatCoords,i.flatCoords),this._flatCoordsOffset=qD(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(t);for(a=0;a<s.length;a++)i[a]=i[a]||[],i[a][0]=s[a][0],i[a][1]=s[a][1];return s.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),ua(t[0])){for(var r=t.length,o=new LGt(r),a=new OGt(r),s=0,l=0,c=0,u=0;u<r;){c++;var d=t[u++];o[l++]=s+i,o[l++]=d;for(var h=0;h<d;h++){var p=t[u++],g=t[u++];a[s++]=p,a[s++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var o=new Ad(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],function(a,s,l,c){if(a instanceof Array)return NaN;o.hasItemOption=!0;var u=a.value;return null!=u?u instanceof Array?u[c]:u:void 0}),o},e.prototype.formatTooltip=function(t,i,r){var a=this.getData().getItemModel(t),s=a.get("name");if(s)return s;var l=a.get("fromName"),c=a.get("toName"),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),du("nameValue",{name:u.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Pl);const FGt=NGt;function EP(n){return n instanceof Array||(n=[n,n]),n}var BGt={seriesType:"lines",reset:function(n){var e=EP(n.get("symbol")),t=EP(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function r(o,a){var s=o.getItemModel(a),l=EP(s.getShallow("symbol",!0)),c=EP(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),c[0]&&o.setItemVisual(a,"fromSymbolSize",c[0]),c[1]&&o.setItemVisual(a,"toSymbolSize",c[1])}:null}}};const VGt=BGt;var GGt=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Af.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),c=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),p=e.length;d.width=t,d.height=i;for(var g=0;g<p;++g){var y=e[g],b=y[0],w=y[1],E=r(y[2]);h.globalAlpha=E,h.drawImage(s,b-u,w-u)}if(!d.width||!d.height)return d;for(var k=h.getImageData(0,0,d.width,d.height),j=k.data,H=0,it=j.length,yt=this.minOpacity,Lt=this.maxOpacity-yt;H<it;){E=j[H+3]/256;var kt=4*Math.floor(255*E);if(E>0){var Jt=a(E)?l:c;E>0&&(E=E*Lt+yt),j[H++]=Jt[kt],j[H++]=Jt[kt+1],j[H++]=Jt[kt+2],j[H++]=Jt[kt+3]*E*256}else H+=4}return h.putImageData(k,0,0),d},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Af.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[t](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();const HGt=GGt;function Iot(n){var e=n.dimensions;return"lng"===e[0]&&"lat"===e[1]}var ZGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):Iot(a)&&this._renderOnGeo(a,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var a=i.coordinateSystem;a&&(Iot(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Jg(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,a){var c,u,d,h,s=t.coordinateSystem,l=vy(s,"cartesian2d");if(l){var p=s.getAxis("x"),g=s.getAxis("y");c=p.getBandWidth()+.5,u=g.getBandWidth()+.5,d=p.scale.getExtent(),h=g.scale.getExtent()}for(var y=this.group,b=t.getData(),w=t.getModel(["emphasis","itemStyle"]).getItemStyle(),C=t.getModel(["blur","itemStyle"]).getItemStyle(),E=t.getModel(["select","itemStyle"]).getItemStyle(),k=t.get(["itemStyle","borderRadius"]),j=uu(t),H=t.getModel("emphasis"),it=H.get("focus"),yt=H.get("blurScope"),lt=H.get("disabled"),Lt=l?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],kt=r;kt<o;kt++){var Jt=void 0,ne=b.getItemVisual(kt,"style");if(l){var ce=b.get(Lt[0],kt),Ee=b.get(Lt[1],kt);if(isNaN(b.get(Lt[2],kt))||isNaN(ce)||isNaN(Ee)||ce<d[0]||ce>d[1]||Ee<h[0]||Ee>h[1])continue;var be=s.dataToPoint([ce,Ee]);Jt=new aa({shape:{x:be[0]-c/2,y:be[1]-u/2,width:c,height:u},style:ne})}else{if(isNaN(b.get(Lt[1],kt)))continue;Jt=new aa({z2:1,shape:s.dataToRect([b.get(Lt[0],kt)]).contentShape,style:ne})}if(b.hasItemOption){var Be=b.getItemModel(kt),Ne=Be.getModel("emphasis");w=Ne.getModel("itemStyle").getItemStyle(),C=Be.getModel(["blur","itemStyle"]).getItemStyle(),E=Be.getModel(["select","itemStyle"]).getItemStyle(),k=Be.get(["itemStyle","borderRadius"]),it=Ne.get("focus"),yt=Ne.get("blurScope"),lt=Ne.get("disabled"),j=uu(Be)}Jt.shape.r=k;var Qe=t.getRawValue(kt),In="-";Qe&&null!=Qe[2]&&(In=Qe[2]+""),Hu(Jt,j,{labelFetcher:t,labelDataIndex:kt,defaultOpacity:ne.opacity,defaultText:In}),Jt.ensureState("emphasis").style=w,Jt.ensureState("blur").style=C,Jt.ensureState("select").style=E,$l(Jt,it,yt,lt),Jt.incremental=a,a&&(Jt.states.emphasis.hoverLayer=!0),y.add(Jt),b.setItemGraphicEl(kt,Jt),this._progressiveEls&&this._progressiveEls.push(Jt)}},e.prototype._renderOnGeo=function(t,i,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=i.getData(),c=this._hmLayer||this._hmLayer||new HGt;c.blurSize=i.get("blurSize"),c.pointSize=i.get("pointSize"),c.minOpacity=i.get("minOpacity"),c.maxOpacity=i.get("maxOpacity");var u=t.getViewRect().clone(),d=t.getRoamTransform();u.applyTransform(d);var h=Math.max(u.x,0),p=Math.max(u.y,0),g=Math.min(u.width+u.x,o.getWidth()),y=Math.min(u.height+u.y,o.getHeight()),b=g-h,w=y-p,C=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],E=l.mapArray(C,function(it,yt,lt){var Lt=t.dataToPoint([it,yt]);return Lt[0]-=h,Lt[1]-=p,Lt.push(lt),Lt}),k=r.getExtent(),j="visualMap.continuous"===r.type?function WGt(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}(k,r.option.range):function jGt(n,e,t){var i=n[1]-n[0],r=(e=Nn(e,function(a){return{interval:[(a.interval[0]-n[0])/i,(a.interval[1]-n[0])/i]}})).length,o=0;return function(a){var s;for(s=o;s<r;s++)if((l=e[s].interval)[0]<=a&&a<=l[1]){o=s;break}if(s===r)for(s=o-1;s>=0;s--){var l;if((l=e[s].interval)[0]<=a&&a<=l[1]){o=s;break}}return s>=0&&s<r&&t[s]}}(k,r.getPieceList(),r.option.selected);c.update(E,b,w,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},j);var H=new Uu({style:{width:b,height:w,x:h,y:p,image:c.canvas},silent:!0});this.group.add(H)},e.type="heatmap",e}(ll);const YGt=ZGt;var XGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.getInitialData=function(t,i){return Vm(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=AS.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Pl);const $Gt=XGt;var KGt=["itemStyle","borderWidth"],Pot=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],l5=new Mp,QGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis().isHorizontal(),d=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:u,valueDim:Pot[+u],categoryDim:Pot[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var g=Bot(a,p),y=kot(a,p,g,h),b=Vot(a,h,y);a.setItemGraphicEl(p,b),o.add(b),Got(b,h,y)}}).update(function(p,g){var y=s.getItemGraphicEl(g);if(a.hasValue(p)){var b=Bot(a,p),w=kot(a,p,b,h),C=Uot(a,w);y&&C!==y.__pictorialShapeStr&&(o.remove(y),a.setItemGraphicEl(p,null),y=null),y?function oHt(n,e,t){va(n.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?Lot(n,e,t,!0):Oot(n,0,t,!0),Not(n,t,!0),Fot(n,e,t,!0)}(y,h,w):y=Vot(a,h,w,!0),a.setItemGraphicEl(p,y),y.__pictorialSymbolMeta=w,o.add(y),Got(y,h,w)}else o.remove(y)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&zot(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=a,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(a){zot(o,Ar(a).dataIndex,t,a)}):r.removeAll()},e.type="pictorialBar",e}(ll);function kot(n,e,t,i){var r=n.getItemLayout(e),o=t.get("symbolRepeat"),a=t.get("symbolClip"),s=t.get("symbolPosition")||"start",c=(t.get("symbolRotate")||0)*Math.PI/180||0,u=t.get("symbolPatternSize")||2,d=t.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:d?t:null,hoverScale:d&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function JGt(n,e,t,i,r){var u,o=i.valueDim,a=n.get("symbolBoundingData"),s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),c=1-+(t[o.wh]<=0);if(Ln(a)){var d=[c5(s,a[0])-l,c5(s,a[1])-l];d[1]<d[0]&&d.reverse(),u=d[c]}else u=null!=a?c5(s,a)-l:e?i.coordSysExtent[o.index][c]-l:t[o.wh];r.boundingLength=u,e&&(r.repeatCutLength=t[o.wh]),r.pxSign=u>0?1:-1})(t,o,r,i,h),function tHt(n,e,t,i,r,o,a,s,l,c){var g,u=l.valueDim,d=l.categoryDim,h=Math.abs(t[d.wh]),p=n.getItemVisual(e,"symbolSize");(g=Ln(p)?p.slice():null==p?["100%","100%"]:[p,p])[d.index]=ni(g[d.index],h),g[u.index]=ni(g[u.index],i?h:Math.abs(o)),c.symbolSize=g,(c.symbolScale=[g[0]/s,g[1]/s])[u.index]*=(l.isHorizontal?-1:1)*a}(n,e,r,o,0,h.boundingLength,h.pxSign,u,i,h),function eHt(n,e,t,i,r){var o=n.get(KGt)||0;o&&(l5.attr({scaleX:e[0],scaleY:e[1],rotation:t}),l5.updateTransform(),o/=l5.getLineScale(),o*=e[i.valueDim.index]),r.valueLineWidth=o||0}(t,h.symbolScale,c,i,h);var p=h.symbolSize,g=tx(t.get("symbolOffset"),p);return function nHt(n,e,t,i,r,o,a,s,l,c,u,d){var h=u.categoryDim,p=u.valueDim,g=d.pxSign,y=Math.max(e[p.index]+s,0),b=y;if(i){var w=Math.abs(l),C=bu(n.get("symbolMargin"),"15%")+"",E=!1;C.lastIndexOf("!")===C.length-1&&(E=!0,C=C.slice(0,C.length-1));var k=ni(C,e[p.index]),j=Math.max(y+2*k,0),H=E?0:2*k,it=tq(i),yt=it?i:Hot((w+H)/j);j=y+2*(k=(w-yt*y)/2/(E?yt:Math.max(yt-1,1))),H=E?0:2*k,!it&&"fixed"!==i&&(yt=c?Hot((Math.abs(c)+H)/j):0),b=yt*j-H,d.repeatTimes=yt,d.symbolMargin=k}var Lt=g*(b/2),kt=d.pathPosition=[];kt[h.index]=t[h.wh]/2,kt[p.index]="start"===a?Lt:"end"===a?l-Lt:l/2,o&&(kt[0]+=o[0],kt[1]+=o[1]);var Jt=d.bundlePosition=[];Jt[h.index]=t[h.xy],Jt[p.index]=t[p.xy];var ne=d.barRectShape=An({},t);ne[p.wh]=g*Math.max(Math.abs(t[p.wh]),Math.abs(kt[p.index]+Lt)),ne[h.wh]=t[h.wh];var ce=d.clipShape={};ce[h.xy]=-t[h.xy],ce[h.wh]=u.ecSize[h.wh],ce[p.xy]=0,ce[p.wh]=t[p.wh]}(t,p,r,o,0,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function c5(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function Rot(n){var e=n.symbolPatternSize,t=Vc(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function Lot(n,e,t,i){var r=n.__pictorialBundle,s=t.pathPosition,l=e.valueDim,c=t.repeatTimes||0,u=0,d=t.symbolSize[e.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(u5(n,function(y){y.__pictorialAnimationIndex=u,y.__pictorialRepeatTimes=c,u<c?vx(y,null,g(u),t,i):vx(y,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(y)}),u++});u<c;u++){var h=Rot(t);h.__pictorialAnimationIndex=u,h.__pictorialRepeatTimes=c,r.add(h);var p=g(u);vx(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,i)}function g(y){var b=s.slice(),w=t.pxSign,C=y;return("start"===t.symbolRepeatDirection?w>0:w<0)&&(C=c-1-y),b[l.index]=d*(C-c/2+.5)+s[l.index],{x:b[0],y:b[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Oot(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?vx(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=Rot(t),r.add(o),vx(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function Not(n,e,t){var i=An({},e.barRectShape),r=n.__pictorialBarRect;r?vx(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new aa({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function Fot(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=An({},t.clipShape),a=e.valueDim,s=t.animationModel,l=t.dataIndex;if(r)va(r,{shape:o},s,l);else{o[a.wh]=0,r=new aa({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var c={};c[a.wh]=t.clipShape[a.wh],J[i?"updateProps":"initProps"](r,{shape:c},s,l)}}}function Bot(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=iHt,t.isAnimationEnabled=rHt,t}function iHt(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function rHt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Vot(n,e,t,i){var r=new br,o=new br;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?Lot(r,e,t):Oot(r,0,t),Not(r,t,i),Fot(r,e,t,i),r.__pictorialShapeStr=Uot(n,t),r.__pictorialSymbolMeta=t,r}function zot(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];u5(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),Xt(o,function(a){Xg(a,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function Uot(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function u5(n,e,t){Xt(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function vx(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&J[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function Got(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),u=o.get("focus"),d=o.get("blurScope"),h=o.get("scale");u5(n,function(y){if(y instanceof Uu){var b=y.style;y.useStyle(An({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},t.style))}else y.useStyle(t.style);var w=y.ensureState("emphasis");w.style=a,h&&(w.scaleX=1.1*y.scaleX,w.scaleY=1.1*y.scaleY),y.ensureState("blur").style=s,y.ensureState("select").style=l,c&&(y.cursor=c),y.z2=t.z2});var p=e.valueDim.posDesc[+(t.boundingLength>0)];Hu(n.__pictorialBarRect,uu(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:sx(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),$l(n,u,d,o.get("disabled"))}function Hot(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const aHt=QGt;var sHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return vn(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=$g(ZI.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(ZI);const lHt=sHt;var uHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return vn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this,s=this.group,l=t.getLayerSeries(),c=o.getLayout("layoutInfo"),u=c.rect,d=c.boundaryGap;function h(b){return b.name}s.x=0,s.y=u.y+d[0];var p=new Bm(this._layersSeries||[],l,h,h),g=[];function y(b,w,C){var E=a._layers;if("remove"!==b){for(var H,k=[],j=[],it=l[w].indices,yt=0;yt<it.length;yt++){var lt=o.getItemLayout(it[yt]),Lt=lt.x,kt=lt.y0,Jt=lt.y;k.push(Lt,kt),j.push(Lt,kt+Jt),H=o.getItemVisual(it[yt],"style")}var ne,ce=o.getItemLayout(it[0]),be=t.getModel("label").get("margin"),Be=t.getModel("emphasis");if("add"===b){var Ne=g[w]=new br;ne=new Fet({shape:{points:k,stackedOnPoints:j,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Ne.add(ne),s.add(Ne),t.isAnimationEnabled()&&ne.setClipPath(function dHt(n,e,t){var i=new aa({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Cl(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),i}(ne.getBoundingRect(),t,function(){ne.removeClipPath()}))}else ne=(Ne=E[C]).childAt(0),s.add(Ne),g[w]=Ne,va(ne,{shape:{points:k,stackedOnPoints:j}},t),Lf(ne);Hu(ne,uu(t),{labelDataIndex:it[yt-1],defaultText:o.getName(it[yt-1]),inheritColor:H.fill},{normal:{verticalAlign:"middle"}}),ne.setTextConfig({position:null,local:!0});var Qe=ne.getTextContent();Qe&&(Qe.x=ce.x-be,Qe.y=ce.y0+ce.y/2),ne.useStyle(H),o.setItemGraphicEl(w,ne),Gu(ne,t),$l(ne,Be.get("focus"),Be.get("blurScope"),Be.get("disabled"))}else s.remove(E[w])}p.add(vi(y,this,"add")).update(vi(y,this,"update")).remove(vi(y,this,"remove")).execute(),this._layersSeries=l,this._layers=g},e.type="themeRiver",e}(ll);const hHt=uHt;var fHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new cC(vi(this.getData,this),vi(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=pB(t,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),a=[];o.buckets.each(function(h,p){a.push({name:p,dataList:h})});for(var s=a.length,l=0;l<s;++l){for(var c=a[l].name,u=0;u<a[l].dataList.length;++u)r[d=a[l].dataList[u][0]+""]=l;for(var d in r)r.hasOwnProperty(d)&&r[d]!==l&&(r[d]=l,t[i]=[d,0,c],i++)}return t},e.prototype.getInitialData=function(t,i){for(var o=this.getReferringComponents("singleAxis",Fc).models[0].get("type"),a=Ss(t.data,function(g){return void 0!==g[2]}),s=this.fixData(a||[]),l=[],c=this.nameMap=Wi(),u=0,d=0;d<s.length;++d)l.push(s[d][2]),c.get(s[d][2])||(c.set(s[d][2],u),u++);var h=ox(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:UI(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Ad(h,this);return p.initData(s),p},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var a=t.mapDimension("single"),s=pB(r,function(c){return t.get("name",c)}),l=[];return s.buckets.each(function(c,u){c.sort(function(d,h){return t.get(a,d)-t.get(a,h)}),l.push({name:u,indices:c})}),l},e.prototype.getAxisTooltipData=function(t,i,r){Ln(t)||(t=t?[t]:[]);for(var c,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var d=Number.MAX_VALUE,h=-1,p=a[u].indices.length,g=0;g<p;++g){var y=o.get(t[0],a[u].indices[g]),b=Math.abs(y-i);b<=d&&(c=y,d=b,h=a[u].indices[g])}s.push(h)}return{dataIndices:s,nestestValue:c}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData();return du("nameValue",{name:o.getName(t),value:o.get(o.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Pl);const pHt=fHt;function mHt(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=t.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=ni(s[0],a.height),s[1]=ni(s[1],a.height),jot(i,t,a.height-s[0]-s[1])):(s[0]=ni(s[0],a.width),s[1]=ni(s[1],a.width),jot(i,t,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}function jot(n,e,t){if(n.count())for(var p,i=e.coordinateSystem,r=e.getLayerSeries(),o=n.mapDimension("single"),a=n.mapDimension("value"),s=Nn(r,function(b){return Nn(b.indices,function(w){var C=i.dataToPoint(n.get(o,w));return C[1]=n.get(a,w),C})}),l=function gHt(n){for(var e=n.length,t=n[0].length,i=[],r=[],o=0,a=0;a<t;++a){for(var s=0,l=0;l<e;++l)s+=n[l][a][1];s>o&&(o=s),i.push(s)}for(var c=0;c<t;++c)r[c]=(o-i[c])/2;o=0;for(var u=0;u<t;++u){var d=i[u]+r[u];d>o&&(o=d)}return{y0:r,max:o}}(s),c=l.y0,u=t/l.max,d=r.length,h=r[0].indices.length,g=0;g<h;++g){n.setItemLayout(r[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:p=c[g]*u,y:s[0][g][1]*u});for(var y=1;y<d;++y)n.setItemLayout(r[y].indices[g],{layerIndex:y,x:s[y][g][0],y0:p+=s[y-1][g][1]*u,y:s[y][g][1]*u})}}var _Ht=2,yHt=4,bHt=function(n){function e(t,i,r,o){var a=n.call(this)||this;a.z2=_Ht,a.textConfig={inside:!0},Ar(a).seriesIndex=i.seriesIndex;var s=new da({z2:yHt,silent:t.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,t,i,r,o),a}return vn(e,n),e.prototype.updateData=function(t,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;Ar(s).dataIndex=i.dataIndex;var l=i.getModel(),c=l.getModel("emphasis"),u=i.getLayout(),d=An({},u);d.label=null;var h=i.getVisual("style");h.lineJoin="bevel";var p=i.getVisual("decal");p&&(h.decal=nx(p,a));var g=_y(l.getModel("itemStyle"),d,!0);An(d,g),Xt(Ed,function(C){var E=s.ensureState(C),k=l.getModel([C,"itemStyle"]);E.style=k.getItemStyle();var j=_y(k,d);j&&(E.shape=j)}),t?(s.setShape(d),s.shape.r=u.r0,Cl(s,{shape:{r:u.r}},r,i.dataIndex)):(va(s,{shape:d},r),Lf(s)),s.useStyle(h),this._updateLabel(r);var y=l.getShallow("cursor");y&&s.attr("cursor",y),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var b=c.get("focus");$l(this,"ancestor"===b?i.getAncestorsIndices():"descendant"===b?i.getDescendantIndices():b,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,c=Math.cos(l),u=Math.sin(l),d=this,h=d.getTextContent(),p=this.node.dataIndex,g=o.get("minAngle")/180*Math.PI,y=o.get("show")&&!(null!=g&&Math.abs(s)<g);function b(w,C){return w.get(C)??o.get(C)}h.ignore=!y,Xt(_S,function(w){var C=r.getModel("normal"===w?"label":[w,"label"]),E="normal"===w,k=E?h:h.ensureState(w),j=t.getFormattedLabel(p,w);E&&(j=j||i.node.name),k.style=al(C,{},null,"normal"!==w,!0),j&&(k.style.text=j);var H=C.get("show");null!=H&&!E&&(k.ignore=!H);var it=b(C,"position"),yt=E?d:d.states[w],lt=yt.style.fill;yt.textConfig={outsideFill:"inherit"===C.get("color")?lt:null,inside:"outside"!==it};var Lt,kt=b(C,"distance")||0,Jt=b(C,"align");"outside"===it?(Lt=a.r+kt,Jt=l>Math.PI/2?"right":"left"):Jt&&"center"!==Jt?"left"===Jt?(Lt=a.r0+kt,l>Math.PI/2&&(Jt="right")):"right"===Jt&&(Lt=a.r-kt,l>Math.PI/2&&(Jt="left")):(Lt=s===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,Jt="center"),k.style.align=Jt,k.style.verticalAlign=b(C,"verticalAlign")||"middle",k.x=Lt*c+a.cx,k.y=Lt*u+a.cy;var ne=b(C,"rotate"),ce=0;"radial"===ne?(ce=Pm(-l))>Math.PI/2&&ce<1.5*Math.PI&&(ce+=Math.PI):"tangential"===ne?(ce=Math.PI/2-l)>Math.PI/2?ce-=Math.PI:ce<-Math.PI/2&&(ce+=Math.PI):ua(ne)&&(ce=ne*Math.PI/180),k.rotation=ce}),h.dirtyStyle()},e}(Xd);const Wot=bHt;var h5="sunburstRootToNode",Zot="sunburstHighlight",SHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r,o){var a=this;this.seriesModel=t,this.api=r,this.ecModel=i;var s=t.getData(),l=s.tree.root,c=t.getViewRoot(),u=this.group,d=t.get("renderLabelForZeroData"),h=[];c.eachNode(function(C){h.push(C)}),function g(C,E){function k(H){return H.getId()}function j(H,it){!function y(C,E){if(!d&&C&&!C.getValue()&&(C=null),C!==l&&E!==l)if(E&&E.piece)C?(E.piece.updateData(!1,C,t,i,r),s.setItemGraphicEl(C.dataIndex,E.piece)):function b(C){C&&C.piece&&(u.remove(C.piece),C.piece=null)}(E);else if(C){var k=new Wot(C,t,i,r);u.add(k),s.setItemGraphicEl(C.dataIndex,k)}}(null==H?null:C[H],null==it?null:E[it])}0===C.length&&0===E.length||new Bm(E,C,k,k).add(j).update(j).remove(Lr(j,null)).execute()}(h,this._oldChildren||[]),function w(C,E){E.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,C,t,i,r):(a.virtualPiece=new Wot(C,t,i,r),u.add(a.virtualPiece)),E.piece.off("click"),a.virtualPiece.on("click",function(k){a._rootToNode(E.parentNode)})):a.virtualPiece&&(u.remove(a.virtualPiece),a.virtualPiece=null)}(l,c),this._initEvents(),this._oldChildren=h},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(a){if(!r&&a.piece&&a.piece===i.target){var s=a.getModel().get("nodeClick");if("rootToNode"===s)t._rootToNode(a);else if("link"===s){var l=a.getModel(),c=l.get("link");c&&qA(c,l.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:h5,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var o=i.getData().getItemLayout(0);if(o){var a=t[0]-o.cx,s=t[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="sunburst",e}(ll);const CHt=SHt;var MHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return vn(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};Yot(r);var o=this._levelModels=Nn(t.levels||[],function(l){return new sl(l,this,i)},this),a=dz.createTree(r,this,function s(l){l.wrapMethod("getItemModel",function(c,u){var d=a.getNodeByDataIndex(u),h=o[d.depth];return h&&(c.parentModel=h),c})});return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=pP(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){rrt(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Pl);function Yot(n){var e=0;Xt(n.children,function(i){Yot(i);var r=i.value;Ln(r)&&(r=r[0]),e+=r});var t=n.value;Ln(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Ln(n.value)?n.value[0]=t:n.value=t}const EHt=MHt;var Xot=Math.PI/180;function THt(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Ln(o)||(o=[0,o]),Ln(r)||(r=[r,r]);var a=t.getWidth(),s=t.getHeight(),l=Math.min(a,s),c=ni(r[0],a),u=ni(r[1],s),d=ni(o[0],l/2),h=ni(o[1],l/2),p=-i.get("startAngle")*Xot,g=i.get("minAngle")*Xot,y=i.getData().tree.root,b=i.getViewRoot(),w=b.depth,C=i.get("sort");null!=C&&$ot(b,C);var E=0;Xt(b.children,function(be){!isNaN(be.getValue())&&E++});var k=b.getValue(),j=Math.PI/(k||E)*2,H=b.depth>0,yt=(h-d)/(b.height-(H?-1:1)||1),lt=i.get("clockwise"),Lt=i.get("stillShowZeroSum"),kt=lt?1:-1,Jt=function(be,Be){if(be){var Ne=Be;if(be!==y){var Qe=be.getValue(),In=0===k&&Lt?j:Qe*j;In<g&&(In=g),Ne=Be+kt*In;var Fn=be.depth-w-(H?-1:1),Kn=d+yt*Fn,Qn=d+yt*(Fn+1),zn=i.getLevelModel(be);if(zn){var zi=zn.get("r0",!0),to=zn.get("r",!0),Ui=zn.get("radius",!0);null!=Ui&&(zi=Ui[0],to=Ui[1]),null!=zi&&(Kn=ni(zi,l/2)),null!=to&&(Qn=ni(to,l/2))}be.setLayout({angle:In,startAngle:Be,endAngle:Ne,clockwise:lt,cx:c,cy:u,r0:Kn,r:Qn})}if(be.children&&be.children.length){var Gi=0;Xt(be.children,function(ar){Gi+=Jt(ar,Be+Gi)})}return Ne-Be}};if(H){var Ee=2*Math.PI;y.setLayout({angle:Ee,startAngle:p,endAngle:p+Ee,clockwise:lt,cx:c,cy:u,r0:d,r:d+yt})}Jt(b,p)})}function $ot(n,e){var t=n.children||[];n.children=function DHt(n,e){if(Ki(e)){var t=Nn(n,function(r,o){var a=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return a}},index:o}});return t.sort(function(r,o){return e(r.params,o.params)}),Nn(t,function(r){return n[r.index]})}var i="asc"===e;return n.sort(function(r,o){var a=(r.getValue()-o.getValue())*(i?1:-1);return 0===a?(r.dataIndex-o.dataIndex)*(i?-1:1):a})}(t,e),t.length&&Xt(n.children,function(i){$ot(i,e)})}function AHt(n){var e={};n.eachSeriesByType("sunburst",function(i){var r=i.getData(),o=r.tree;o.eachNode(function(a){var l=a.getModel().getModel("itemStyle").getItemStyle();l.fill||(l.fill=function t(i,r,o){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=r.getColorFromPalette(a.name||a.dataIndex+"",e);return i.depth>1&&si(s)&&(s=VF(s,(i.depth-1)/(o-1)*.5)),s}(a,i,o.root.height)),An(r.ensureUniqueItemVisual(a.dataIndex,"style"),l)})})}var qot={color:"fill",borderColor:"stroke"},PHt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},jm=oa(),kHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return Vm(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=jm(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Pl);const RHt=kHt;function LHt(n,e){return e=e||[0,0],Nn(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function NHt(n,e){return e=e||[0,0],Nn([0,1],function(t){var i=e[t],r=n[t]/2,o=[],a=[];return o[t]=i-r,a[t]=i+r,o[1-t]=a[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}function BHt(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function zHt(n,e){return e=e||[0,0],Nn(["Radius","Angle"],function(t,i){var o=this["get"+t+"Axis"](),a=e[i],s=n[i]/2,l="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s));return"Angle"===t&&(l=l*Math.PI/180),l},this)}function Kot(n,e,t,i){return n&&(n.legacy||!1!==n.legacy&&!t&&!i&&"tspan"!==e&&("text"===e||xi(n,"text")))}function Qot(n,e,t){var r,o,a,i=n;if("text"===e)a=i;else{a={},xi(i,"text")&&(a.text=i.text),xi(i,"rich")&&(a.rich=i.rich),xi(i,"textFill")&&(a.fill=i.textFill),xi(i,"textStroke")&&(a.stroke=i.textStroke),xi(i,"fontFamily")&&(a.fontFamily=i.fontFamily),xi(i,"fontSize")&&(a.fontSize=i.fontSize),xi(i,"fontStyle")&&(a.fontStyle=i.fontStyle),xi(i,"fontWeight")&&(a.fontWeight=i.fontWeight),o={type:"text",style:a,silent:!0},r={};var s=xi(i,"textPosition");t?r.position=s?i.textPosition:"inside":s&&(r.position=i.textPosition),xi(i,"textPosition")&&(r.position=i.textPosition),xi(i,"textOffset")&&(r.offset=i.textOffset),xi(i,"textRotation")&&(r.rotation=i.textRotation),xi(i,"textDistance")&&(r.distance=i.textDistance)}return Jot(a,n),Xt(a.rich,function(l){Jot(l,l)}),{textConfig:r,textContent:o}}function Jot(n,e){e&&(e.font=e.textFont||e.font,xi(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),xi(e,"textAlign")&&(n.align=e.textAlign),xi(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),xi(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),xi(e,"textWidth")&&(n.width=e.textWidth),xi(e,"textHeight")&&(n.height=e.textHeight),xi(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),xi(e,"textPadding")&&(n.padding=e.textPadding),xi(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),xi(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),xi(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),xi(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),xi(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),xi(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),xi(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function tat(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";eat(i,e);var a=null==i.textFill;return r?a&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,Xt(e.rich,function(s){eat(s,s)}),i}function eat(n,e){e&&(xi(e,"fill")&&(n.textFill=e.fill),xi(e,"stroke")&&(n.textStroke=e.fill),xi(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),xi(e,"font")&&(n.font=e.font),xi(e,"fontStyle")&&(n.fontStyle=e.fontStyle),xi(e,"fontWeight")&&(n.fontWeight=e.fontWeight),xi(e,"fontSize")&&(n.fontSize=e.fontSize),xi(e,"fontFamily")&&(n.fontFamily=e.fontFamily),xi(e,"align")&&(n.textAlign=e.align),xi(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),xi(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),xi(e,"width")&&(n.textWidth=e.width),xi(e,"height")&&(n.textHeight=e.height),xi(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),xi(e,"padding")&&(n.textPadding=e.padding),xi(e,"borderColor")&&(n.textBorderColor=e.borderColor),xi(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),xi(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),xi(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),xi(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),xi(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),xi(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),xi(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),xi(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),xi(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),xi(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var nat={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},iat=Io(nat),TP=(dp(mp,function(n,e){return n[e]=1,n},{}),mp.join(", "),["","style","shape","extra"]),_x=oa();function f5(n,e,t,i,r){var o=n+"Animation",a=Lb(n,i,r)||{},s=_x(e).userDuring;return a.duration>0&&(a.during=s?vi(YHt,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=n),An(a,t[o]),a}function DP(n,e,t,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=t.isAnimationEnabled(),l=_x(n),c=e.style;l.userDuring=e.during;var u={},d={};if(function $Ht(n,e,t){for(var i=0;i<iat.length;i++){var r=iat[i],o=nat[r],a=e[r];a&&(t[o[0]]=a[0],t[o[1]]=a[1])}for(i=0;i<mp.length;i++){var s=mp[i];null!=e[s]&&(t[s]=e[s])}}(0,e,d),aat("shape",e,d),aat("extra",e,d),!o&&s&&(function XHt(n,e,t){for(var i=e.transition,r=Py(i)?mp:Ps(i||[]),o=0;o<r.length;o++){var a=r[o];"style"!==a&&"shape"!==a&&"extra"!==a&&(t[a]=n[a])}}(n,e,u),oat("shape",n,e,u),oat("extra",n,e,u),function qHt(n,e,t,i){if(t){var o,r=n.style;if(r){var a=t.transition,s=e.transition;if(a&&!Py(a)){var l=Ps(a);!o&&(o=i.style={});for(var c=0;c<l.length;c++)o[u=l[c]]=r[u]}else if(n.getAnimationStyleProps&&(Py(s)||Py(a)||so(s,"style")>=0)){var h=n.getAnimationStyleProps(),p=h?h.style:null;if(p){!o&&(o=i.style={});var g=Io(t);for(c=0;c<g.length;c++){var u;p[u=g[c]]&&(o[u]=r[u])}}}}}}(n,e,c,u)),d.style=c,function HHt(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var r=n.animators,o=0;o<r.length;o++){var a=r[o];"style"===a.targetName&&a.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}(n,d,a),function WHt(n,e){xi(e,"silent")&&(n.silent=e.silent),xi(e,"ignore")&&(n.ignore=e.ignore),n instanceof Zh&&xi(e,"invisible")&&(n.invisible=e.invisible),n instanceof vo&&xi(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}(n,e),s)if(o){var h={};Xt(TP,function(g){var y=g?e[g]:e;y&&y.enterFrom&&(g&&(h[g]=h[g]||{}),An(g?h[g]:h,y.enterFrom))});var p=f5("enter",n,e,t,r);p.duration>0&&n.animateFrom(h,p)}else!function jHt(n,e,t,i,r){if(r){var o=f5("update",n,e,i,t);o.duration>0&&n.animateFrom(r,o)}}(n,e,r||0,t,u);rat(n,e),c?n.dirty():n.markRedraw()}function rat(n,e){for(var t=_x(n).leaveToProps,i=0;i<TP.length;i++){var r=TP[i],o=r?e[r]:e;o&&o.leaveTo&&(t||(t=_x(n).leaveToProps={}),r&&(t[r]=t[r]||{}),An(r?t[r]:t,o.leaveTo))}}function AP(n,e,t,i){if(n){var r=n.parent,o=_x(n).leaveToProps;if(o){var a=f5("update",n,e,t,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function Py(n){return"all"===n}var Rp={},ZHt={setTransform:function(n,e){return Rp.el[n]=e,this},getTransform:function(n){return Rp.el[n]},setShape:function(n,e){var t=Rp.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Rp.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Rp.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Rp.el.style;if(e)return e[n]},setExtra:function(n,e){return(Rp.el.extra||(Rp.el.extra={}))[n]=e,this},getExtra:function(n){var e=Rp.el.extra;if(e)return e[n]}};function YHt(){var n=this,e=n.el;if(e){var t=_x(e).userDuring,i=n.userDuring;if(t!==i)return void(n.el=n.userDuring=null);Rp.el=e,i(ZHt)}}function oat(n,e,t,i){var r=t[n];if(r){var a,o=e[n];if(o){var s=t.transition,l=r.transition;if(l)if(!a&&(a=i[n]={}),Py(l))An(a,o);else for(var c=Ps(l),u=0;u<c.length;u++)a[d=c[u]]=h=o[d];else if(Py(s)||so(s,n)>=0){!a&&(a=i[n]={});var p=Io(o);for(u=0;u<p.length;u++){var d,h;KHt(r[d=p[u]],h=o[d])&&(a[d]=h)}}}}}function aat(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=Io(i),a=0;a<o.length;a++){var s=o[a];r[s]=oS(i[s])}}function KHt(n,e){return ad(n)?n!==e:null!=n&&isFinite(n)}var sat=oa(),QHt=["percent","easing","shape","style","extra"];function lat(n){n.stopAnimation("keyframe"),n.attr(sat(n))}function IP(n,e,t){if(t.isAnimationEnabled()&&e){if(Ln(e))return void Xt(e,function(s){IP(n,s,t)});var i=e.keyframes,r=e.duration;if(t&&null==r){var o=Lb("enter",t,0);r=o&&o.duration}if(i&&r){var a=sat(n);Xt(TP,function(s){var l;s&&!n[s]||(i.sort(function(u,d){return u.percent-d.percent}),Xt(i,function(u){var d=n.animators,h=s?u[s]:u;if(h){var p=Io(h);if(s||(p=Ss(p,function(b){return so(QHt,b)<0})),p.length){l||((l=n.animate(s,e.loop,!0)).scope="keyframe");for(var g=0;g<d.length;g++)d[g]!==l&&d[g].targetName===l.targetName&&d[g].stopTracks(p);s&&(a[s]=a[s]||{});var y=s?a[s]:a;Xt(p,function(b){y[b]=((s?n[s]:n)||{})[b]}),l.whenWithKeys(r*u.percent,h,p,u.easing)}}}),l&&l.delay(e.delay||0).duration(r).start(e.easing))})}}}var Wm="emphasis",uv="normal",p5="blur",m5="select",dv=[uv,Wm,p5,m5],g5={normal:["itemStyle"],emphasis:[Wm,"itemStyle"],blur:[p5,"itemStyle"],select:[m5,"itemStyle"]},v5={normal:["label"],emphasis:[Wm,"label"],blur:[p5,"label"],select:[m5,"label"]},JHt=["x","y"],tjt="e\0\0",rf={normal:{},emphasis:{},blur:{},select:{}},ejt={cartesian2d:function OHt(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:vi(LHt,n)}}},geo:function FHt(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:vi(NHt,n)}}},single:function VHt(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:vi(BHt,n)}}},polar:function UHt(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),a=t.dataToAngle(r[1]),s=n.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:vi(zHt,n)}}},calendar:function GHt(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function _5(n){return n instanceof vo}function y5(n){return n instanceof Zh}var ijt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._data,s=t.getData(),l=this.group,c=uat(t,s,i,r);a||l.removeAll(),s.diff(a).add(function(d){w5(r,null,d,c(d,o),t,l,s)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&AP(h,jm(h).option,t)}).update(function(d,h){var p=a.getItemGraphicEl(h);w5(r,p,d,c(d,o),t,l,s)}).execute();var u=t.get("clip",!0)?WI(t.coordinateSystem,!1,t):null;u?l.setClipPath(u):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,a){var s=i.getData(),l=uat(i,s,r,o),c=this._progressiveEls=[];function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var d=t.start;d<t.end;d++){var h=w5(null,null,d,l(d,a),i,this.group,s);h&&(h.traverse(u),c.push(h))}},e.prototype.eachRendered=function(t){Jg(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},e.type="custom",e}(ll);const rjt=ijt;function b5(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=mat(i);t=gI(o,null,r,i.layout||"center"),jm(t).customPathData=o}else if("image"===e)t=new Uu({}),jm(t).customImagePath=n.style.image;else if("text"===e)t=new da({});else if("group"===e)t=new br;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=O3(e);a||rs(""),t=new a}return jm(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function x5(n,e,t,i,r,o,a){lat(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=JHt);var l=i&&i.style;if(l){if("text"===e.type){var c=l;xi(c,"textFill")&&(c.fill=c.textFill),xi(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,d=_5(e)?l.decal:null;n&&d&&(d.dirty=!0,u=nx(d,n)),l.__decalPattern=u}y5(e)&&l&&(u=l.__decalPattern)&&(l.decal=u),DP(e,i,o,{dataIndex:t,isInit:a,clearStyle:!0}),IP(e,i.keyframeAnimation,o)}function cat(n,e,t,i,r){var o=e.isGroup?null:e,a=r&&r[n].cfg;if(o){var s=o.ensureState(n);if(!1===i){var l=o.getState(n);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),W_(o)}}function ajt(n,e,t){var i=t===uv,r=i?e:PP(e,t),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(t)).z2=o||0)}function uat(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):ejt[o.type](o));for(var c,u,s=er({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function k(ce,Ee){return null==Ee&&(Ee=c),e.getStore().get(e.getDimensionIndex(ce||0),Ee)},style:function H(ce,Ee){null==Ee&&(Ee=c);var be=e.getItemVisual(Ee,"style"),Be=be&&be.fill,Ne=be&&be.opacity,Qe=C(Ee,uv).getItemStyle();null!=Be&&(Qe.fill=Be),null!=Ne&&(Qe.opacity=Ne);var In={inheritColor:si(Be)?Be:"#000"},Fn=E(Ee,uv),Kn=al(Fn,null,In,!1,!0);Kn.text=Fn.getShallow("show")?Xr(n.getFormattedLabel(Ee,uv),sx(e,Ee)):null;var Qn=UA(Fn,In,!1);return lt(ce,Qe),Qe=tat(Qe,Kn,Qn),ce&&yt(Qe,ce),Qe.legacy=!0,Qe},ordinalRawValue:function j(ce,Ee){null==Ee&&(Ee=c);var be=e.getDimensionInfo(ce=ce||0);if(!be){var Be=e.getDimensionIndex(ce);return Be>=0?e.getStore().get(Be,Ee):void 0}var Ne=e.get(be.name,Ee),Qe=be&&be.ordinalMeta;return Qe?Qe.categories[Ne]:Ne},styleEmphasis:function it(ce,Ee){null==Ee&&(Ee=c);var be=C(Ee,Wm).getItemStyle(),Be=E(Ee,Wm),Ne=al(Be,null,null,!0,!0);Ne.text=Be.getShallow("show")?Sm(n.getFormattedLabel(Ee,Wm),n.getFormattedLabel(Ee,uv),sx(e,Ee)):null;var Qe=UA(Be,null,!0);return lt(ce,be),be=tat(be,Ne,Qe),ce&&yt(be,ce),be.legacy=!0,be},visual:function Lt(ce,Ee){if(null==Ee&&(Ee=c),xi(qot,ce)){var be=e.getItemVisual(Ee,"style");return be?be[qot[ce]]:null}if(xi(PHt,ce))return e.getItemVisual(Ee,ce)},barLayout:function kt(ce){if("cartesian2d"===o.type)return function T3t(n){var e=[],t=n.axis,i="axis0";if("category"===t.type){for(var r=t.getBandWidth(),o=0;o<n.count;o++)e.push(er({bandWidth:r,axisKey:i,stackId:TV+o},n));var a=$et(e),s=[];for(o=0;o<n.count;o++){var l=a[i][TV+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(er({axis:o.getBaseAxis()},ce))},currentSeriesIndices:function Jt(){return t.getCurrentSeriesIndices()},font:function ne(ce){return gK(ce,t)}},a.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:sjt(n.getData())},d={},h={},p={},g={},y=0;y<dv.length;y++){var b=dv[y];p[b]=n.getModel(g5[b]),g[b]=n.getModel(v5[b])}function w(ce){return ce===c?u||(u=e.getItemModel(ce)):e.getItemModel(ce)}function C(ce,Ee){return e.hasItemOption?ce===c?d[Ee]||(d[Ee]=w(ce).getModel(g5[Ee])):w(ce).getModel(g5[Ee]):p[Ee]}function E(ce,Ee){return e.hasItemOption?ce===c?h[Ee]||(h[Ee]=w(ce).getModel(v5[Ee])):w(ce).getModel(v5[Ee]):g[Ee]}return function(ce,Ee){return c=ce,u=null,d={},h={},r&&r(er({dataIndexInside:ce,dataIndex:e.getRawIndex(ce),actionType:Ee?Ee.type:null},l),s)};function yt(ce,Ee){for(var be in Ee)xi(Ee,be)&&(ce[be]=Ee[be])}function lt(ce,Ee){ce&&(ce.textFill&&(Ee.textFill=ce.textFill),ce.textPosition&&(Ee.textPosition=ce.textPosition))}}function sjt(n){var e={};return Xt(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function w5(n,e,t,i,r,o,a){if(i){var s=S5(n,e,t,i,r,o);return s&&a.setItemGraphicEl(t,s),s&&$l(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(e)}function S5(n,e,t,i,r,o){var a=-1,s=e;e&&dat(e,i,r)&&(a=so(o.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=b5(i),s&&function njt(n,e){e.copyTransform(n),y5(e)&&y5(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,_5(e)&&_5(n)&&e.setShape(n.shape))}(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),rf.normal.cfg=rf.normal.conOpt=rf.emphasis.cfg=rf.emphasis.conOpt=rf.blur.cfg=rf.blur.conOpt=rf.select.cfg=rf.select.conOpt=null,rf.isLegacy=!1,function cjt(n,e,t,i,r,o){if(!n.isGroup){hat(t,null,o),hat(t,Wm,o);var a=o.normal.conOpt;if(null!=a||null!=o.emphasis.conOpt||null!=o.select.conOpt||null!=o.blur.conOpt){var u=n.getTextContent();if(!1===a)u&&n.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},u?u.clearStates():(u=b5(a),n.setTextContent(u)),x5(null,u,e,a,null,i,r);for(var d=a&&a.style,h=0;h<dv.length;h++){var p=dv[h];if(p!==uv)cat(p,u,0,C5(a,o[p].conOpt,p),null)}d?u.dirty():u.markRedraw()}}}}(c,t,i,r,l,rf),function ljt(n,e,t,i,r){var o=t.clipPath;if(!1===o)n&&n.getClipPath()&&n.removeClipPath();else if(o){var a=n.getClipPath();a&&dat(a,o,i)&&(a=null),a||(a=b5(o),n.setClipPath(a)),x5(null,a,e,o,null,i,r)}}(c,t,i,r,l),x5(n,c,t,i,rf,r,l),xi(i,"info")&&(jm(c).info=i.info);for(var u=0;u<dv.length;u++){var d=dv[u];if(d!==uv)cat(d,c,0,C5(i,PP(i,d),d),rf)}return function ojt(n,e,t){if(!n.isGroup){var i=n,o=t.currentZLevel;i.z=t.currentZ,i.zlevel=o;var a=e.z2;null!=a&&(i.z2=a||0);for(var s=0;s<dv.length;s++)ajt(i,e,dv[s])}}(c,i,r),"group"===i.type&&function ujt(n,e,t,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,c=!1===s;if(a||l||c){if(l)return void function hjt(n){new Bm(n.oldChildren,n.newChildren,fat,fat,n).add(pat).update(pat).remove(fjt).execute()}({api:n,oldChildren:e.children()||[],newChildren:o||[],dataIndex:t,seriesModel:r,group:e});c&&e.removeAll();for(var u=0;u<a;u++){var d=o[u],h=e.childAt(u);d?(null==d.ignore&&(d.ignore=!1),S5(n,h,t,d,r,e)):h.ignore=!0}for(var p=e.childCount()-1;p>=u;p--){var g=e.childAt(p);djt(e,g,r)}}}(n,c,t,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function dat(n,e,t){var i=jm(n),r=e.type,o=e.shape,a=e.style;return t.isUniversalTransitionEnabled()||null!=r&&r!==i.customGraphicType||"path"===r&&function pjt(n){return n&&(xi(n,"pathData")||xi(n,"d"))}(o)&&mat(o)!==i.customPathData||"image"===r&&xi(a,"image")&&a.image!==i.customImagePath}function hat(n,e,t){var i=e?PP(n,e):n,r=e?C5(n,i,Wm):n.style,o=n.type,a=i?i.textConfig:null,s=n.textContent,l=s?e?PP(s,e):s:null;if(r&&(t.isLegacy||Kot(r,o,!!a,!!l))){t.isLegacy=!0;var c=Qot(r,o,!e);!a&&c.textConfig&&(a=c.textConfig),!l&&c.textContent&&(l=c.textContent)}!e&&l&&!l.type&&(l.type="text");var d=e?t[e]:t.normal;d.cfg=a,d.conOpt=l}function PP(n,e){return e?n?n[e]:null:n}function C5(n,e,t){var i=e&&e.style;return null==i&&t===Wm&&n&&(i=n.styleEmphasis),i}function djt(n,e,t){e&&AP(e,jm(n).option,t)}function fat(n,e){return(n&&n.name)??tjt+e}function pat(n,e){var t=this.context;S5(t.api,null!=e?t.oldChildren[e]:null,t.dataIndex,null!=n?t.newChildren[n]:null,t.seriesModel,t.group)}function fjt(n){var e=this.context,t=e.oldChildren[n];t&&AP(t,jm(t).option,e.seriesModel)}function mat(n){return n&&(n.pathData||n.d)}var ky=oa(),gat=ur,M5=vi,gjt=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,e,t,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=Lr(vat,t,d);this.updatePointerEl(s,c,h),this.updateLabelEl(s,c,h,t)}else s=this._group=new br,this.createPointerEl(s,c,e,t),this.createLabelEl(s,c,e,t),i.getZr().add(s);bat(s,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o="category"===r.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=YV(e).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===i},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var a=ky(e).pointerEl=new J[o.type](gat(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=ky(e).labelEl=new da(gat(t.label));e.add(o),yat(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=ky(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=ky(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),yat(o,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=t.getModel("handle"),a=t.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(s=!0,r=this._handle=VS(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Mm(c.event)},onmousedown:M5(this._onHandleDragMove,this,0,0),drift:M5(this._onHandleDragMove,this),ondragend:M5(this._onHandleDragEnd,this)}),i.add(r)),bat(r,t,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");Ln(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,Qb(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){vat(this._axisPointerModel,!t&&this._moveAnimation,this._handle,E5(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(E5(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(E5(r)),ky(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),US(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function vat(n,e,t,i){_at(ky(t).lastProp,i)||(ky(t).lastProp=i,e?va(t,i,n):(t.stopAnimation(),t.attr(i)))}function _at(n,e){if(or(n)&&or(e)){var t=!0;return Xt(e,function(i,r){t=t&&_at(n[r],i)}),!!t}return n===e}function yat(n,e){n[e.get(["label","show"])?"show":"hide"]()}function E5(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function bat(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=t)})}const T5=gjt;function D5(n){var i,e=n.get("type"),t=n.getModel(e+"Style");return"line"===e?(i=t.getLineStyle()).fill=null:"shadow"===e&&((i=t.getAreaStyle()).stroke=null),i}function xat(n,e,t,i,r){var a=wat(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=zb(s.get("padding")||0),c=s.getFont(),u=lS(a,c),d=r.position,h=u.width+l[1]+l[3],p=u.height+l[0]+l[2],g=r.align;"right"===g&&(d[0]-=h),"center"===g&&(d[0]-=h/2);var y=r.verticalAlign;"bottom"===y&&(d[1]-=p),"middle"===y&&(d[1]-=p/2),function vjt(n,e,t,i){var r=i.getWidth(),o=i.getHeight();n[0]=Math.min(n[0]+e,r)-e,n[1]=Math.min(n[1]+t,o)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(d,h,p,i);var b=s.get("backgroundColor");(!b||"auto"===b)&&(b=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:al(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function wat(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:zV(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Xt(i,function(l){var c=t.getSeriesByIndex(l.seriesIndex),d=c&&c.getDataParams(l.dataIndexInside);d&&s.seriesData.push(d)}),si(a)?o=a.replace("{value}",o):Ki(a)&&(o=a(s))}return o}function A5(n,e,t){var i=[1,0,0,1,0,0];return S_(i,i,t.rotation),hp(i,i,t.position),Bf([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function Sat(n,e,t,i,r,o){var a=Um.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),xat(e,i,r,o,{position:A5(i.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function I5(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function Cat(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function Mat(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var _jt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis,l=s.grid,c=o.get("type"),u=Eat(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&"none"!==c){var h=D5(o),p=yjt[c](s,d,u);p.style=h,t.graphicKey=p.type,t.pointer=p}Sat(i,t,HV(l.model,r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=HV(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=A5(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),c=Eat(s,a).getOtherAxis(a).getGlobalExtent(),u="x"===a.dim?0:1,d=[t.x,t.y];d[u]+=i[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var h=(c[1]+c[0])/2,p=[h,h];return p[u]=d[u],{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},e}(T5);function Eat(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var yjt={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:I5([e,t[0]],[e,t[1]],Tat(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:Cat([e-i/2,t[0]],[i,t[1]-t[0]],Tat(n))}}};function Tat(n){return"x"===n.dim?0:1}const bjt=_jt;var xjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ha);const wjt=xjt;var Zm=oa(),Sjt=Xt;function Dat(n,e,t){if(!ca.node){var i=e.getZr();Zm(i).records||(Zm(i).records={}),function Cjt(n,e){function t(i,r){n.on(i,function(o){var a=function Tjt(n){var e={showTip:[],hideTip:[]},t=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}(e);Sjt(Zm(n).records,function(s){s&&r(s,o,a.dispatchAction)}),function Mjt(n,e){var r,t=n.showTip.length,i=n.hideTip.length;t?r=n.showTip[t-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}(a.pendings,e)})}Zm(n).initialized||(Zm(n).initialized=!0,t("click",Lr(Aat,"click")),t("mousemove",Lr(Aat,"mousemove")),t("globalout",Ejt))}(i,e),(Zm(i).records[n]||(Zm(i).records[n]={})).handler=t}}function Ejt(n,e,t){n.handler("leave",null,t)}function Aat(n,e,t,i){e.handler(n,t,i)}function P5(n,e){if(!ca.node){var t=e.getZr();(Zm(t).records||{})[n]&&(Zm(t).records[n]=null)}}var Djt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Dat("axisPointer",r,function(s,l,c){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,i){P5("axisPointer",i)},e.prototype.dispose=function(t,i){P5("axisPointer",i)},e.type="axisPointer",e}(ql);const Ajt=Djt;function Iat(n,e){var r,t=[],i=n.seriesIndex;if(null==i||!(r=e.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),a=R_(o,n);if(null==a||a<0||Ln(a))return{point:[]};var s=o.getItemGraphicEl(a),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),d=l.getOtherAxis(c).dim,p="x"===d||"radius"===d?1:0,g=o.mapDimension(c.dim),y=[];y[p]=o.get(g,a),y[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),t=l.dataToPoint(y)||[]}else t=l.dataToPoint(o.getValues(Nn(l.dimensions,function(w){return o.mapDimension(w)}),a))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),t=[b.x+b.width/2,b.y+b.height/2]}return{point:t,el:s}}var Pat=oa();function Ijt(n,e,t){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||vi(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){kP(r)&&(r=Iat({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=kP(r),c=o.axesInfo,u=s.axesInfo,d="leave"===i||kP(r),h={},p={},g={list:[],map:{}},y={showPointer:Lr(kjt,p),showTooltip:Lr(Rjt,g)};Xt(s.coordSysMap,function(w,C){var E=l||w.containPoint(r);Xt(s.coordSysAxesInfo[C],function(k,j){var H=k.axis,it=function Fjt(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(c,k);if(!d&&E&&(!c||it)){var yt=it&&it.value;null==yt&&!l&&(yt=H.pointToData(r)),null!=yt&&kat(k,yt,y,!1,h)}})});var b={};return Xt(u,function(w,C){var E=w.linkGroup;E&&!p[C]&&Xt(E.axesInfo,function(k,j){var H=p[j];if(k!==w&&H){var it=H.value;E.mapper&&(it=w.axis.scale.parse(E.mapper(it,Rat(k),Rat(w)))),b[w.key]=it}})}),Xt(b,function(w,C){kat(u[C],w,y,!0,h)}),function Ljt(n,e,t){var i=t.axesInfo=[];Xt(e,function(r,o){var a=r.axisPointerModel.option,s=n[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),"show"===a.status&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}(p,u,h),function Ojt(n,e,t,i){if(!kP(e)&&n.list.length){var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}else i({type:"hideTip"})}(g,r,n,a),function Njt(n,e,t){var i=t.getZr(),r="axisPointerLastHighlights",o=Pat(i)[r]||{},a=Pat(i)[r]={};Xt(n,function(c,u){var d=c.axisPointerModel.option;"show"===d.status&&Xt(d.seriesDataIndices,function(h){a[h.seriesIndex+" | "+h.dataIndex]=h})});var s=[],l=[];Xt(o,function(c,u){!a[u]&&l.push(c)}),Xt(a,function(c,u){!o[u]&&s.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,t),h}}function kat(n,e,t,i,r){var o=n.axis;if(!o.scale.isBlank()&&o.containData(e)){if(!n.involveSeries)return void t.showPointer(n,e);var a=function Pjt(n,e){var t=e.axis,i=t.dim,r=n,o=[],a=Number.MAX_VALUE,s=-1;return Xt(e.seriesModels,function(l,c){var d,h,u=l.getData().mapDimensionsAll(i);if(l.getAxisTooltipData){var p=l.getAxisTooltipData(u,n,t);h=p.dataIndices,d=p.nestestValue}else{if(!(h=l.getData().indicesOfNearest(u[0],n,"category"===t.type?.5:null)).length)return;d=l.getData().get(u[0],h[0])}if(null!=d&&isFinite(d)){var g=n-d,y=Math.abs(g);y<=a&&((y<a||g>=0&&s<0)&&(a=y,s=g,r=d,o.length=0),Xt(h,function(b){o.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:o,snapToValue:r}}(e,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&An(r,s[0]),!i&&n.snap&&o.containData(l)&&null!=l&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,a,l)}}function kjt(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function Rjt(n,e,t,i){var r=t.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,c=pC(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function Rat(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function kP(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function kC(n){xy.registerAxisPointerClass("CartesianAxisPointer",bjt),n.registerComponentModel(wjt),n.registerComponentView(Ajt),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Ln(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function vzt(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function _zt(n,e,t){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];Xt(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=pC(s.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var d=s.model.getModel("tooltip",i);if(Xt(s.getAxes(),Lr(y,!1,null)),s.getTooltipAxes&&i&&d.get("show")){var h="axis"===d.get("trigger"),p="cross"===d.get(["axisPointer","type"]),g=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||p)&&Xt(g.baseAxes,Lr(y,!p||"cross",h)),p&&Xt(g.otherAxes,Lr(y,"cross",!1))}}function y(b,w,C){var E=C.model.getModel("axisPointer",r),k=E.get("show");if(k&&("auto"!==k||b||XV(E))){null==w&&(w=E.get("triggerTooltip")),E=b?function yzt(n,e,t,i,r,o){var a=e.getModel("axisPointer"),l={};Xt(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(h){l[h]=ur(a.get(h))}),l.snap="category"!==n.type&&!!o,"cross"===a.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===r){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&er(c,d.textStyle)}}return n.model.getModel("axisPointer",new sl(l,t,i))}(C,d,r,e,b,w):E;var j=E.get("snap"),H=pC(C.model),it=w||j||"category"===C.type,yt=n.axesInfo[H]={key:H,axis:C,coordSys:s,axisPointerModel:E,triggerTooltip:w,involveSeries:it,snap:j,useHandle:XV(E),seriesModels:[],linkGroup:null};c[H]=yt,n.seriesInvolved=n.seriesInvolved||it;var lt=function xzt(n,e){for(var t=e.model,i=e.dim,r=0;r<n.length;r++){var o=n[r]||{};if(ZV(o[i+"AxisId"],t.id)||ZV(o[i+"AxisIndex"],t.componentIndex)||ZV(o[i+"AxisName"],t.name))return r}}(o,C);if(null!=lt){var Lt=a[lt]||(a[lt]={axesInfo:{}});Lt.axesInfo[H]=yt,Lt.mapper=o[lt].mapper,yt.linkGroup=Lt}}}})}(t,n,e),t.seriesInvolved&&function bzt(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);!i||"none"===r||!1===r||"item"===r||!1===o||!1===t.get(["axisPointer","show"],!0)||Xt(n.coordSysAxesInfo[pC(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(t),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=t.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ijt)}var Vjt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),d=s.dataToCoord(i),h=o.get("type");if(h&&"none"!==h){var p=D5(o),g=Ujt[h](s,l,d,u);g.style=p,t.graphicKey=g.type,t.pointer=g}var b=function zjt(n,e,t,i,r){var o=e.axis,a=o.dataToCoord(n),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var c,u,d,l=i.getRadiusAxis().getExtent();if("radius"===o.dim){var h=[1,0,0,1,0,0];S_(h,h,s),hp(h,h,[i.cx,i.cy]),c=Bf([a,-r],h);var p=e.getModel("axisLabel").get("rotate")||0,g=Um.innerTextLayout(s,p*Math.PI/180,-1);u=g.textAlign,d=g.textVerticalAlign}else{var y=l[1];c=i.coordToPoint([y+r,a]);var b=i.cx,w=i.cy;u=Math.abs(c[0]-b)/y<.3?"center":c[0]>b?"left":"right",d=Math.abs(c[1]-w)/y<.3?"middle":c[1]>w?"top":"bottom"}return{position:c,align:u,verticalAlign:d}}(i,r,0,l,o.get(["label","margin"]));xat(t,r,o,a,b)},e}(T5),Ujt={line:function(n,e,t,i){return"angle"===n.dim?{type:"Line",shape:I5(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:Mat(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(r/2-t)*o)}:{type:"Sector",shape:Mat(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}};const Gjt=Vjt;var Hjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(o){o.getCoordSysModel()===this&&(i=o)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(ha);const jjt=Hjt;var k5=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Fc).models[0]},e.type="polarAxis",e}(ha);Nc(k5,uC);var Wjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="angleAxis",e}(k5),Zjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="radiusAxis",e}(k5),R5=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return vn(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e}(Hf);R5.prototype.dataToRadius=Hf.prototype.dataToCoord,R5.prototype.radiusToData=Hf.prototype.coordToData;const Yjt=R5;var Xjt=oa(),L5=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return vn(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),c=Math.abs(l),u=lS(null==s?"":s+"",i.getFont(),"center","top"),h=Math.max(u.height,7)/c;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),g=Xjt(t.model),y=g.lastAutoInterval,b=g.lastTickCount;return null!=y&&null!=b&&Math.abs(y-p)<=1&&Math.abs(b-a)<=1&&y>p?p=y:(g.lastTickCount=a,g.lastAutoInterval=p),p},e}(Hf);L5.prototype.dataToAngle=Hf.prototype.dataToCoord,L5.prototype.angleToData=Hf.prototype.coordToData;const $jt=L5;var Lat=["radius","angle"],qjt=function(){function n(e){this.dimensions=Lat,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Yjt,this._angleAxis=new $jt,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+i*i);t/=l,i/=l;for(var c=Math.atan2(-i,t)/Math.PI*180,u=c<a?1:-1;c<a||c>s;)c+=360*u;return[l,c]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var r=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:e.inverse,contain:function(a,s){var l=a-this.cx,c=s-this.cy,u=l*l+c*c-1e-4,d=this.r,h=this.r0;return u<=d*d&&u>=h*h}}},n.prototype.convertToPixel=function(e,t,i){return Oat(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return Oat(t)===this?this.pointToData(i):null},n}();function Oat(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const Kjt=qjt;function Jjt(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();Xt(aP(l,"radius"),function(c){r.scale.unionExtentFromData(l,c)}),Xt(aP(l,"angle"),function(c){i.scale.unionExtentFromData(l,c)})}}),ux(i.scale,i.model),ux(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function Nat(n,e){if(n.type=e.get("type"),n.scale=oP(e),n.onBand=e.get("boundaryGap")&&"category"===n.type,n.inverse=e.get("inverse"),function tWt(n){return"angleAxis"===n.mainType}(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var eWt={dimensions:Lat,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new Kjt(r+"");o.update=Jjt;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");Nat(a,l),Nat(s,c),function Qjt(n,e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight();n.cx=ni(i[0],r),n.cy=ni(i[1],o);var a=n.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:Ln(l)||(l=[0,l]);var c=[ni(l[0],s),ni(l[1],s)];a.inverse?a.setExtent(c[1],c[0]):a.setExtent(c[0],c[1])}(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",Fc).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const nWt=eWt;var iWt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function RP(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function LP(n){return n.getRadiusAxis().inverse?0:1}function Fat(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var rWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return vn(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),c=Nn(r.getViewLabels(),function(u){u=ur(u);var d=r.scale,h="ordinal"===d.type?d.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=r.dataToCoord(h),u});Fat(c),Fat(s),Xt(iWt,function(u){t.get([u,"show"])&&(!r.scale.isBlank()||"axisLine"===u)&&oWt[u](this.group,t,o,s,l,a,c)},this)}},e.type="angleAxis",e}(xy),oWt={axisLine:function(n,e,t,i,r,o){var c,a=e.getModel(["axisLine","lineStyle"]),s=LP(t),l=s?0:1;(c=0===o[l]?new Mp({shape:{cx:t.cx,cy:t.cy,r:o[s]},style:a.getLineStyle(),z2:1,silent:!0}):new cI({shape:{cx:t.cx,cy:t.cy,r:o[s],r0:o[l]},style:a.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(c)},axisTick:function(n,e,t,i,r,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[LP(t)],c=Nn(i,function(u){return new wu({shape:RP(t,[l,l+s],u.coord)})});n.add(Qh(c,{style:er(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),c=o[LP(t)],u=[],d=0;d<r.length;d++)for(var h=0;h<r[d].length;h++)u.push(new wu({shape:RP(t,[c,c+l],r[d][h].coord)}));n.add(Qh(u,{style:er(s.getModel("lineStyle").getLineStyle(),er(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),c=l.get("margin"),u=e.get("triggerEvent");Xt(a,function(d,h){var p=l,g=d.tickValue,y=o[LP(t)],b=t.coordToPoint([y+c,d.coord]),w=t.cx,C=t.cy,E=Math.abs(b[0]-w)/y<.3?"center":b[0]>w?"left":"right",k=Math.abs(b[1]-C)/y<.3?"middle":b[1]>C?"top":"bottom";if(s&&s[g]){var j=s[g];or(j)&&j.textStyle&&(p=new sl(j.textStyle,l,l.ecModel))}var H=new da({silent:Um.isLabelSilent(e),style:al(p,{x:b[0],y:b[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:E,verticalAlign:k})});if(n.add(H),u){var it=Um.makeAxisEventDataBase(e);it.targetType="axisLabel",it.value=d.rawLabel,Ar(H).eventData=it}},this)},splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<i.length;d++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new wu({shape:RP(t,o,i[d].coord)}))}for(d=0;d<u.length;d++)n.add(Qh(u[d],{style:er({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],c=0;c<r.length;c++)for(var u=0;u<r[c].length;u++)l.push(new wu({shape:RP(t,o,r[c][u].coord)}));n.add(Qh(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=Math.PI/180,h=-i[0].coord*d,p=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),y=e.get("clockwise"),b=1,w=i.length;b<=w;b++){var C=b===w?i[0].coord:i[b].coord,E=c++%l.length;u[E]=u[E]||[],u[E].push(new Xd({shape:{cx:t.cx,cy:t.cy,r0:p,r:g,startAngle:h,endAngle:-C*d,clockwise:y},silent:!0})),h=-C*d}for(b=0;b<u.length;b++)n.add(Qh(u[b],{style:er({fill:l[b%l.length]},s.getAreaStyle()),silent:!0}))}}};const aWt=rWt;var sWt=["axisLine","axisTickLabel","axisName"],lWt=["splitLine","splitArea","minorSplitLine"],cWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return vn(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,o=this._axisGroup=new br;this.group.add(o);var a=t.axis,s=a.polar,l=s.getAngleAxis(),c=a.getTicksCoords(),u=a.getMinorTicksCoords(),d=l.getExtent()[0],h=a.getExtent(),p=function dWt(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(s,t,d),g=new Um(t,p);Xt(sWt,g.add,g),o.add(g.getGroup()),BS(r,o,t),Xt(lWt,function(y){t.get([y,"show"])&&!a.scale.isBlank()&&uWt[y](this.group,t,s,d,h,c,u)},this)}},e.type="radiusAxis",e}(xy),uWt={splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<o.length;d++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new Mp({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[d].coord,0)}}))}for(d=0;d<u.length;d++)n.add(Qh(u[d],{style:er({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,a){if(a.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),c=[],u=0;u<a.length;u++)for(var d=0;d<a[u].length;d++)c.push(new Mp({shape:{cx:t.cx,cy:t.cy,r:a[u][d].coord}}));n.add(Qh(c,{style:er({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=o[0].coord,h=1;h<o.length;h++){var p=c++%l.length;u[p]=u[p]||[],u[p].push(new Xd({shape:{cx:t.cx,cy:t.cy,r0:d,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=o[h].coord}for(h=0;h<u.length;h++)n.add(Qh(u[h],{style:er({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};const hWt=cWt;function Bat(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function Vat(n,e){return e.dim+n.model.componentIndex}const mWt=function fWt(n,e,t){var i={},r=function pWt(n){var e={};Xt(n,function(i,r){var o=i.getData(),a=i.coordinateSystem,s=a.getBaseAxis(),l=Vat(a,s),c=s.getExtent(),u="category"===s.type?s.getBandWidth():Math.abs(c[1]-c[0])/o.count(),d=e[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;e[l]=d;var p=Bat(i);h[p]||d.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var g=ni(i.get("barWidth"),u),y=ni(i.get("barMaxWidth"),u),b=i.get("barGap"),w=i.get("barCategoryGap");g&&!h[p].width&&(g=Math.min(d.remainedWidth,g),h[p].width=g,d.remainedWidth-=g),y&&(h[p].maxWidth=y),null!=b&&(d.gap=b),null!=w&&(d.categoryGap=w)});var t={};return Xt(e,function(i,r){t[r]={};var o=i.stacks,s=ni(i.categoryGap,i.bandWidth),l=ni(i.gap,1),c=i.remainedWidth,u=i.autoWidthCount,d=(c-s)/(u+(u-1)*l);d=Math.max(d,0),Xt(o,function(y,b){var w=y.maxWidth;w&&w<d&&(w=Math.min(w,c),y.width&&(w=Math.min(w,y.width)),c-=w,y.width=w,u--)}),d=(c-s)/(u+(u-1)*l),d=Math.max(d,0);var p,h=0;Xt(o,function(y,b){y.width||(y.width=d),p=y,h+=y.width*(1+l)}),p&&(h-=p.width*l);var g=-h/2;Xt(o,function(y,b){t[r][b]=t[r][b]||{offset:g,width:y.width},g+=y.width*(1+l)})}),t}(Ss(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));e.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),c=Vat(s,l),u=Bat(o),d=r[c][u],h=d.offset,p=d.width,g=s.getOtherAxis(l),y=o.coordinateSystem.cx,b=o.coordinateSystem.cy,w=o.get("barMinHeight")||0,C=o.get("barMinAngle")||0;i[u]=i[u]||[];for(var E=a.mapDimension(g.dim),k=a.mapDimension(l.dim),j=nv(a,E),H="radius"!==l.dim||!o.get("roundCap",!0),it=g.dataToCoord(0),yt=0,lt=a.count();yt<lt;yt++){var Lt=a.get(E,yt),kt=a.get(k,yt),Jt=Lt>=0?"p":"n",ne=it;j&&(i[u][kt]||(i[u][kt]={p:it,n:it}),ne=i[u][kt][Jt]);var ce=void 0,Ee=void 0,be=void 0,Be=void 0;if("radius"===g.dim){var Ne=g.dataToCoord(Lt)-it,Qe=l.dataToCoord(kt);Math.abs(Ne)<w&&(Ne=(Ne<0?-1:1)*w),ce=ne,Ee=ne+Ne,Be=(be=Qe-h)-p,j&&(i[u][kt][Jt]=Ee)}else{var In=g.dataToCoord(Lt,H)-it,Fn=l.dataToCoord(kt);Math.abs(In)<C&&(In=(In<0?-1:1)*C),Ee=(ce=Fn+h)+p,be=ne,Be=ne+In,j&&(i[u][kt][Jt]=Be)}a.setItemLayout(yt,{cx:y,cy:b,r0:ce,r:Ee,startAngle:-be*Math.PI/180,endAngle:-Be*Math.PI/180,clockwise:be>=Be})}}})};var gWt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},vWt={splitNumber:5},_Wt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="polar",e}(ql);function O5(n,e){e=e||{};var i=n.axis,r={},o=i.position,a=i.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?c.vertical[o]:l[0],"horizontal"===a?c.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),bu(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var bWt=["axisLine","axisTickLabel","axisName"],xWt=["splitArea","splitLine"],wWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return vn(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new br;var l=O5(t),c=new Um(t,l);Xt(bWt,c.add,c),a.add(this._axisGroup),a.add(c.getGroup()),Xt(xWt,function(u){t.get([u,"show"])&&SWt[u](this,this.group,this._axisGroup,t)},this),BS(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){tit(this)},e.type="singleAxis",e}(xy),SWt={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),c=i.coordinateSystem.getRect(),u=r.isHorizontal(),d=[],h=0,p=r.getTicksCoords({tickModel:o}),g=[],y=[],b=0;b<p.length;++b){var w=r.toGlobalCoord(p[b].coord);u?(g[0]=w,g[1]=c.y,y[0]=w,y[1]=c.y+c.height):(g[0]=c.x,g[1]=w,y[0]=c.x+c.width,y[1]=w);var C=new wu({shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},silent:!0});qb(C.shape,l);var E=h++%s.length;d[E]=d[E]||[],d[E].push(C)}var k=a.getLineStyle(["color"]);for(b=0;b<d.length;++b)e.add(Qh(d[b],{style:er({stroke:s[b%s.length]},k),silent:!0}))}},splitArea:function(n,e,t,i){Jnt(n,t,i,i)}};const CWt=wWt;var zat=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(ha);Nc(zat,uC.prototype);const N5=zat;var MWt=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return vn(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(Hf);const EWt=MWt;var Uat=["single"],TWt=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=Uat,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=new EWt(this.dimension,oP(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();Xt(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),ux(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=eu({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return r-a+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return Gat(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return Gat(t)===this?this.pointToData(i):null},n}();function Gat(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const DWt=TWt;var IWt={create:function AWt(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new DWt(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",Fc).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:Uat};const PWt=IWt;var Hat=["x","y"],kWt=["width","height"],RWt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis,l=s.coordinateSystem,c=F5(l,1-OP(s)),u=l.dataToPoint(i)[0],d=o.get("type");if(d&&"none"!==d){var h=D5(o),p=LWt[d](s,u,c);p.style=h,t.graphicKey=p.type,t.pointer=p}Sat(i,t,O5(r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=O5(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=A5(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,s=a.coordinateSystem,l=OP(a),c=F5(s,l),u=[t.x,t.y];u[l]+=i[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var d=F5(s,1-l),h=(d[1]+d[0])/2,p=[h,h];return p[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e}(T5),LWt={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:I5([e,t[0]],[e,t[1]],OP(n))}},shadow:function(n,e,t){var i=n.getBandWidth();return{type:"Rect",shape:Cat([e-i/2,t[0]],[i,t[1]-t[0]],OP(n))}}};function OP(n){return n.isHorizontal()?0:1}function F5(n,e){var t=n.getRect();return[t[Hat[e]],t[Hat[e]]+t[kWt[e]]]}const OWt=RWt;var NWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="single",e}(ql),BWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i,r){var o=Ub(t);n.prototype.init.apply(this,arguments),jat(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),jat(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(ha);function jat(n,e){var i,t=n.cellSize;1===(i=Ln(t)?t:n.cellSize=[t,t]).length&&(i[1]=i[0]);var r=Nn([0,1],function(o){return function t2t(n,e){return null!=n[K_[e][0]]||null!=n[K_[e][1]]&&null!=n[K_[e][2]]}(e,o)&&(i[o]="auto"),null!=i[o]&&"auto"!==i[o]});qg(n,e,{type:"box",ignoreSize:r})}const VWt=BWt;var zWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var a=t.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),c=i.getLocaleModel();this._renderDayRect(t,s,o),this._renderLines(t,s,l,o),this._renderYearText(t,s,l,o),this._renderMonthText(t,c,l,o),this._renderWeekText(t,c,s,l,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),c=i.start.time;c<=i.end.time;c=o.getNextNDay(c,1).time){var u=o.dataToRect([c],!1).tl,d=new aa({shape:{x:u[0],y:u[1],width:s,height:l},cursor:"default",style:a});r.add(d)}},e.prototype._renderLines=function(t,i,r,o){var a=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=i.start,h=0;d.time<=i.end.time;h++){g(d.formatedDate),0===h&&(d=s.getDateInfo(i.start.y+"-"+i.start.m));var p=d.date;p.setMonth(p.getMonth()+1),d=s.getDateInfo(p)}function g(y){a._firstDayOfMonth.push(s.getDateInfo(y)),a._firstDayPoints.push(s.dataToRect([y],!1).tl);var b=a._getLinePointsOfOneWeek(t,y,r);a._tlpoints.push(b[0]),a._blpoints.push(b[b.length-1]),c&&a._drawSplitline(b,l,o)}g(s.getNextNDay(i.end.time,1).formatedDate),c&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,r),l,o),c&&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,r),l,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new qd({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,a=o.getDateInfo(i),s=[],l=0;l<7;l++){var c=o.getNextNDay(a.time,l),u=o.dataToRect([c.time],!1);s[2*c.day]=u.tl,s[2*c.day+1]=u["horizontal"===r?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,i){return si(t)&&t?function KLt(n,e,t){return Xt(e,function(i,r){n=n.replace("{"+r+"}",t?jd(i):i)}),n}(t,i):Ki(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,r,o,a){var s=i[0],l=i[1],c=["center","bottom"];"bottom"===o?(l+=a,c=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,c=["center","top"]):l-=a;var u=0;return("left"===o||"right"===o)&&(u=Math.PI/2),{rotation:u,x:s,y:l,style:{align:c[0],verticalAlign:c[1]}}},e.prototype._renderYearText=function(t,i,r,o){var a=t.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,d=(c[0][1]+c[1][1])/2,h="horizontal"===r?0:1,p={top:[u,c[h][1]],bottom:[u,c[1-h][1]],left:[c[1-h][0],d],right:[c[h][0],d]},g=i.start.y;+i.end.y>+i.start.y&&(g=g+"-"+i.end.y);var y=a.get("formatter"),w=this._formatterLabel(y,{start:i.start.y,end:i.end.y,nameMap:g}),C=new da({z2:30,style:al(a,{text:w})});C.attr(this._yearTextPositionControl(C,p[l],r,l,s)),o.add(C)}},e.prototype._monthTextPositionControl=function(t,i,r,o,a){var s="left",l="top",c=t[0],u=t[1];return"horizontal"===r?(u+=a,i&&(s="center"),"start"===o&&(l="bottom")):(c+=a,i&&(l="middle"),"start"===o&&(s="right")),{x:c,y:u,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,i,r,o){var a=t.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),c=a.get("position"),u=a.get("align"),d=[this._tlpoints,this._blpoints];(!s||si(s))&&(s&&(i=$B(s)||i),s=i.get(["time","monthAbbr"])||[]);var h="start"===c?0:1,p="horizontal"===r?0:1;l="start"===c?-l:l;for(var g="center"===u,y=0;y<d[h].length-1;y++){var b=d[h][y].slice(),w=this._firstDayOfMonth[y];g&&(b[p]=(this._firstDayPoints[y][p]+d[0][y+1][p])/2);var E=a.get("formatter"),k=s[+w.m-1],j={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:k},H=this._formatterLabel(E,j),it=new da({z2:30,style:An(al(a,{text:H}),this._monthTextPositionControl(b,g,r,c,l))});o.add(it)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,a){var s="center",l="middle",c=t[0],u=t[1],d="start"===r;return"horizontal"===i?(c=c+o+(d?1:-1)*a[0]/2,s=d?"right":"left"):(u=u+o+(d?1:-1)*a[1]/2,l=d?"bottom":"top"),{x:c,y:u,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,i,r,o,a){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,c=s.get("position"),u=s.get("nameMap"),d=s.get("margin"),h=l.getFirstDayOfWeek();u&&!si(u)||(u&&(i=$B(u)||i),u=i.get(["time","dayOfWeekShort"])||Nn(i.get(["time","dayOfWeekAbbr"]),function(j){return j[0]}));var g=l.getNextNDay(r.end.time,7-r.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];d=ni(d,Math.min(y[1],y[0])),"start"===c&&(g=l.getNextNDay(r.start.time,-(7+r.fweek)).time,d=-d);for(var b=0;b<7;b++){var E,w=l.getNextNDay(g,b),C=l.dataToRect([w.time],!1).center;E=Math.abs((b+h)%7);var k=new da({z2:30,style:An(al(s,{text:u[E]}),this._weekTextPositionControl(C,o,c,d,y))});a.add(k)}}},e.type="calendar",e}(ql);const UWt=zWt;var B5=864e5,GWt=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=vp(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),a=o<10?"0"+o:""+o,s=e.getDay();return{y:t+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+a,date:e}},n.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];Xt([0,1],function(d){u(o,d)&&(a[r[d]]=o[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=eu(a,l);function u(d,h){return null!=d[h]&&"auto"!==d[h]}Xt([0,1],function(d){u(o,d)||(o[d]=c[r[d]]/s[d])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){Ln(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+B5))return[NaN,NaN];var a=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=Wat(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=Wat(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(Ln(e)&&1===e.length&&(e=e[0]),Ln(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var i,t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];t[0].time>t[1].time&&(i=!0,t.reverse());var r=Math.floor(t[1].time/B5)-Math.floor(t[0].time/B5)+1,o=new Date(t[0].time),a=o.getDate(),s=t[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var c=o.getTime()-t[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-t[1].time)*c>0;)r-=c,o.setDate(l-c);var u=Math.floor((r+t[0].day+6)/7),d=i?1-u:u-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:u,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function Wat(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}const HWt=GWt;function Zat(n,e){var t;return Xt(e,function(i){null!=n[i]&&"auto"!==n[i]&&(t=!0)}),t}var Yat=["transition","enterFrom","leaveTo"],YWt=Yat.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function NP(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?Yat:YWt,r=0;r<i.length;r++){var o=i[r];null==n[o]&&null!=e[o]&&(n[o]=e[o])}}var $Wt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return vn(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,a=r.elements=i?[]:r.elements,s=[];this._flatten(o,s,null);var l=lq(a,s,"normalMerge"),c=this._elOptionsToUpdate=[];Xt(l,function(u,d){var h=u.newOption;h&&(c.push(h),function WWt(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}(u,h),function ZWt(n,e,t){var i=An({},t),r=n[e],o=t.$action||"merge";"merge"===o?r?(Yr(r,i,!0),qg(r,i,{ignoreSize:!0}),VK(t,r),NP(t,r),NP(t,r,"shape"),NP(t,r,"style"),NP(t,r,"extra"),t.clipPath=r.clipPath):n[e]=i:"replace"===o?n[e]=i:"remove"===o&&r&&(n[e]=null)}(a,d,h),function XWt(n,e){if(n&&(n.hv=e.hv=[Zat(e,["left","right"]),Zat(e,["top","bottom"])],"group"===n.type)){var t=n,i=e;null==t.width&&(t.width=i.width=0),null==t.height&&(t.height=i.height=0)}}(a[d],h))},this),r.elements=Ss(a,function(u){return u&&delete u.$action,null!=u})},e.prototype._flatten=function(t,i,r){Xt(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(ha),Xat={path:null,compoundPath:null,group:br,image:Uu,text:da},af=oa(),qWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(){this._elMap=Wi()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=t.get("z"),s=t.get("zlevel");Xt(i,function(l){var c=tu(l.id,null),u=null!=c?r.get(c):null,d=tu(l.parentId,null),h=null!=d?r.get(d):o,p=l.type,g=l.style;"text"===p&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var y=l.textContent,b=l.textConfig;if(g&&Kot(g,p,!!b,!!y)){var w=Qot(g,p,!0);!b&&w.textConfig&&(b=l.textConfig=w.textConfig),!y&&w.textContent&&(y=w.textContent)}var C=function KWt(n){return n=An({},n),Xt(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(BK),function(e){delete n[e]}),n}(l),E=l.$action||"merge",k="merge"===E,j="replace"===E;if(k){var it=u;(H=!u)?it=$at(c,h,l.type,r):(it&&(af(it).isNew=!1),lat(it)),it&&(DP(it,C,t,{isInit:H}),qat(it,l,a,s))}else if(j){FP(u,l,r,t);var yt=$at(c,h,l.type,r);yt&&(DP(yt,C,t,{isInit:!0}),qat(yt,l,a,s))}else"remove"===E&&(rat(u,l),FP(u,l,r,t));var lt=r.get(c);if(lt&&y)if(k){var Lt=lt.getTextContent();Lt?Lt.attr(y):lt.setTextContent(new da(y))}else j&&lt.setTextContent(new da(y));if(lt){var kt=l.clipPath;if(kt){var Jt=kt.type,ne=void 0,H=!1;if(k){var ce=lt.getClipPath();ne=(H=!ce||af(ce).type!==Jt)?V5(Jt):ce}else j&&(H=!0,ne=V5(Jt));lt.setClipPath(ne),DP(ne,kt,t,{isInit:H}),IP(ne,kt.keyframeAnimation,t)}var Ee=af(lt);lt.setTextConfig(b),Ee.option=l,function QWt(n,e,t){var i=Ar(n).eventData;!n.silent&&!n.ignore&&!i&&(i=Ar(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}(lt,t,l),Kb({el:lt,componentModel:t,itemName:lt.name,itemTooltipOption:l.tooltip}),IP(lt,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,a=this._elMap,s=i.getWidth(),l=i.getHeight(),c=["x","y"],u=0;u<r.length;u++)if((p=null!=(h=tu((d=r[u]).id,null))?a.get(h):null)&&p.isGroup){var y=(g=p.parent)===o,b=af(p),w=af(g);b.width=ni(b.option.width,y?s:w.width)||0,b.height=ni(b.option.height,y?l:w.height)||0}for(u=r.length-1;u>=0;u--){var d,h,p;if(p=null!=(h=tu((d=r[u]).id,null))?a.get(h):null){w=af(g=p.parent);var g,E={},k=QA(p,d,g===o?{width:s,height:l}:{width:w.width,height:w.height},null,{hv:d.hv,boundingMode:d.bounding},E);if(!af(p).isNew&&k){for(var j=d.transition,H={},it=0;it<c.length;it++){var yt=c[it],lt=E[yt];j&&(Py(j)||so(j,yt)>=0)?H[yt]=lt:p[yt]=lt}va(p,H,t,0)}else p.attr(E)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){FP(r,af(r).option,i,t._lastGraphicModel)}),this._elMap=Wi()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(ql);function V5(n){var t=new(xi(Xat,n)?Xat[n]:O3(n))({});return af(t).type=n,t}function $at(n,e,t,i){var r=V5(t);return e.add(r),i.set(n,r),af(r).id=n,af(r).isNew=!0,r}function FP(n,e,t,i){n&&n.parent&&("group"===n.type&&n.traverse(function(o){FP(o,e,t,i)}),AP(n,e,i),t.removeKey(af(n).id))}function qat(n,e,t,i){n.isGroup||Xt([["cursor",Zh.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var o=r[0];xi(e,o)?n[o]=Xr(e[o],r[1]):null==n[o]&&(n[o]=r[1])}),Xt(Io(e),function(r){if(0===r.indexOf("on")){var o=e[r];n[r]=Ki(o)?o:null}}),xi(e,"draggable")&&(n.draggable=e.draggable),null!=e.name&&(n.name=e.name),null!=e.id&&(n.id=e.id)}var Kat=["x","y","radius","angle","single"],tZt=["cartesian2d","polar","singleAxis"];function hv(n){return n+"Axis"}function Qat(n){var e=n.ecModel,t={infoList:[],infoMap:Wi()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(hv(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=t.infoMap.get(s);l||(t.infoList.push(l={model:a,axisModels:[]}),t.infoMap.set(s,l)),l.axisModels.push(o)}}}),t}var z5=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),iZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return vn(e,n),e.prototype.init=function(t,i,r){var o=Jat(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=Jat(t);Yr(this.option,t,!0),Yr(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;Xt([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=Wi();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return Xt(Kat,function(r){var o=this.getReferringComponents(hv(r),fRt);if(o.specified){i=!0;var a=new z5;Xt(o.models,function(s){a.add(s.componentIndex)}),t.set(r,a)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";l(r.findComponents({mainType:a+"Axis"}),a)}function l(c,u){var d=c[0];if(d){var h=new z5;if(h.add(d.componentIndex),t.set(u,h),o=!1,"x"===u||"y"===u){var p=d.getReferringComponents("grid",Fc).models[0];p&&Xt(c,function(g){d.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",Fc).models[0]&&h.add(g.componentIndex)})}}}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single"),o&&Xt(Kat,function(c){if(o){var u=r.findComponents({mainType:hv(c),filter:function(h){return"category"===h.get("type",!0)}});if(u[0]){var d=new z5;d.add(u[0].componentIndex),t.set(c,d),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");Xt([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){null==t&&(t=this.ecModel.getComponent(hv(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){Xt(r.indexList,function(a){t.call(i,o,a)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(hv(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;Xt([["start","startValue"],["end","endValue"]],function(o){(null!=t[o[0]]||null!=t[o[1]])&&(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;Xt(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(a,s.indexList[l]);if(c.hostedBy(this))return c;i||(i=c)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(ha);function Jat(n){var e={};return Xt(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const RC=iZt;var rZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="dataZoom.select",e}(RC);const oZt=rZt;var aZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(ql);const U5=aZt;var sZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="dataZoom.select",e}(U5);const lZt=sZt;var yx=Xt,tst=Wh,cZt=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function eZt(n){var e=n.get("coordinateSystem");return so(tZt,e)>=0}(t)){var i=hv(this._dimName),r=t.getReferringComponents(i,Fc).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return ur(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var c,t=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];yx(["start","end"],function(h,p){var g=e[h],y=e[h+"Value"];"percent"===o[p]?(null==g&&(g=a[p]),y=r.parse(_s(g,a,t))):(c=!0,g=_s(y=null==y?t[p]:r.parse(y),t,a)),l[p]=null==y||isNaN(y)?t[p]:y,s[p]=null==g||isNaN(g)?a[p]:g}),tst(l),tst(s);var u=this._minMaxSpan;function d(h,p,g,y,b){var w=b?"Span":"ValueSpan";Dy(0,h,g,"all",u["min"+w],u["max"+w]);for(var C=0;C<2;C++)p[C]=_s(h[C],g,y,!0),b&&(p[C]=r.parse(p[C]))}return c?d(l,s,t,a,!1):d(s,l,a,t,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function uZt(n,e,t){var i=[1/0,-1/0];yx(t,function(a){!function ZVt(n,e,t){e&&Xt(aP(e,t),function(i){var r=e.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}(i,a.getData(),e)});var r=n.getAxisModel(),o=Pnt(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&yx(r,function(l){var c=l.getData(),u=c.mapDimensionsAll(i);if(u.length){if("weakFilter"===o){var d=c.getStore(),h=Nn(u,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var g,y,b,w=0;w<u.length;w++){var C=d.get(h[w],p),E=!isNaN(C),k=C<a[0],j=C>a[1];if(E&&!k&&!j)return!0;E&&(b=!0),k&&(g=!0),j&&(y=!0)}return b&&g&&y})}else yx(u,function(p){if("empty"===o)l.setData(c=c.map(p,function(y){return function s(l){return l>=a[0]&&l<=a[1]}(y)?y:NaN}));else{var g={};g[p]=a,c.selectRange(g)}});yx(u,function(p){c.setApproximateExtent(a,p)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;yx(["min","max"],function(r){var o=t.get(r+"Span"),a=t.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=_s(i[0]+a,i,[0,100],!0):null!=o&&(a=_s(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=X$(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==t[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}();const dZt=cZt;var hZt={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(hv(a),s);r(a,s,l,o)})})}e(function(r,o,a,s){a.__dzAxisProxy=null});var t=[];e(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new dZt(r,o,s,n),t.push(a.__dzAxisProxy))});var i=Wi();return Xt(t,function(r){Xt(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}};const fZt=hZt;var est=!1;function G5(n){est||(est=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,fZt),function pZt(n){n.registerAction("dataZoom",function(e,t){Xt(function nZt(n,e){var o,t=Wi(),i=[],r=Wi();n.eachComponent({mainType:"dataZoom",query:e},function(u){r.get(u.uid)||s(u)});do{o=!1,n.eachComponent("dataZoom",a)}while(o);function a(u){!r.get(u.uid)&&function l(u){var d=!1;return u.eachTargetAxis(function(h,p){var g=t.get(h);g&&g[p]&&(d=!0)}),d}(u)&&(s(u),o=!0)}function s(u){r.set(u.uid,!0),i.push(u),function c(u){u.eachTargetAxis(function(d,h){(t.get(d)||t.set(d,[]))[h]=!0})}(u)}return i}(t,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function mZt(n){n.registerComponentModel(oZt),n.registerComponentView(lZt),G5(n)}var sf=function n(){},nst={};function bx(n,e){nst[n]=e}function ist(n){return nst[n]}var gZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Xt(this.option.feature,function(i,r){var o=ist(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),Yr(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(ha);const vZt=gZt;function rst(n,e){var t=zb(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new aa({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var yZt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;if(a.removeAll(),t.get("show")){var s=+t.get("itemSize"),l="vertical"===t.get("orient"),c=t.get("feature")||{},u=this._features||(this._features={}),d=[];Xt(c,function(g,y){d.push(y)}),new Bm(this._featureNames||[],d).add(h).update(h).remove(Lr(h,null)).execute(),this._featureNames=d,function _Zt(n,e,t){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:t.getWidth(),height:t.getHeight()},a=eu(i,o,r);Q_(e.get("orient"),n,e.get("itemGap"),a.width,a.height),QA(n,i,o,r)}(a,t,r),a.add(rst(a.getBoundingRect(),t)),l||a.eachChild(function(g){var y=g.__title,b=g.ensureState("emphasis"),w=b.textConfig||(b.textConfig={}),C=g.getTextContent(),E=C&&C.ensureState("emphasis");if(E&&!Ki(E)&&y){var k=E.style||(E.style={}),j=lS(y,da.makeFont(k)),H=g.x+a.x,yt=!1;g.y+a.y+s+j.height>r.getHeight()&&(w.position="top",yt=!0);var lt=yt?-5-j.height:s+10;H+j.width/2>r.getWidth()?(w.position=["100%",lt],k.align="right"):H-j.width/2<0&&(w.position=[0,lt],k.align="left")}})}function h(g,y){var k,b=d[g],w=d[y],C=c[b],E=new sl(C,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===b&&(C.title=o.newTitle),b&&!w){if(function bZt(n){return 0===n.indexOf("my")}(b))k={onclick:E.option.onclick,featureName:b};else{var j=ist(b);if(!j)return;k=new j}u[b]=k}else if(!(k=u[w]))return;k.uid=Fb("toolbox-feature"),k.model=E,k.ecModel=i,k.api=r;var H=k instanceof sf;b||!w?!E.get("show")||H&&k.unusable?H&&k.remove&&k.remove(i,r):(function p(g,y,b){var j,H,w=g.getModel("iconStyle"),C=g.getModel(["emphasis","iconStyle"]),E=y instanceof sf&&y.getIcons?y.getIcons():g.get("icon"),k=g.get("title")||{};si(E)?(j={})[b]=E:j=E,si(k)?(H={})[b]=k:H=k;var it=g.iconPaths={};Xt(j,function(yt,lt){var Lt=VS(yt,{},{x:-s/2,y:-s/2,width:s,height:s});Lt.setStyle(w.getItemStyle()),Lt.ensureState("emphasis").style=C.getItemStyle();var Jt=new da({style:{text:H[lt],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null},ignore:!0});Lt.setTextContent(Jt),Kb({el:Lt,componentModel:t,itemName:lt,formatterParamsExtra:{title:H[lt]}}),Lt.__title=H[lt],Lt.on("mouseover",function(){var ne=C.getItemStyle(),ce=l?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";Jt.setStyle({fill:C.get("textFill")||ne.fill||ne.stroke||"#000",backgroundColor:C.get("textBackgroundColor")}),Lt.setTextConfig({position:C.get("textPosition")||ce}),Jt.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==g.get(["iconStatus",lt])&&r.leaveEmphasis(this),Jt.hide()}),("emphasis"===g.get(["iconStatus",lt])?Lm:Om)(Lt),a.add(Lt),Lt.on("click",vi(y.onclick,y,i,r,lt)),it[lt]=Lt})}(E,k,b),E.setIconStatus=function(it,yt){var lt=this.option,Lt=this.iconPaths;lt.iconStatus=lt.iconStatus||{},lt.iconStatus[it]=yt,Lt[it]&&("emphasis"===yt?Lm:Om)(Lt[it])},k instanceof sf&&k.render&&k.render(E,i,r,o)):H&&k.dispose&&k.dispose(i,r)}},e.prototype.updateView=function(t,i,r,o){Xt(this._features,function(a){a instanceof sf&&a.updateView&&a.updateView(a.model,i,r,o)})},e.prototype.remove=function(t,i){Xt(this._features,function(r){r instanceof sf&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){Xt(this._features,function(r){r instanceof sf&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(ql);const xZt=yZt;var wZt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=ca.browser;if(Ki(MouseEvent)&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=o+"."+s,u.target="_blank",u.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var h=l.split(","),p=h[0].indexOf("base64")>-1,g=a?decodeURIComponent(h[1]):h[1];p&&(g=window.atob(g));var y=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=g.length,w=new Uint8Array(b);b--;)w[b]=g.charCodeAt(b);var C=new Blob([w]);window.navigator.msSaveOrOpenBlob(C,y)}else{var E=document.createElement("iframe");document.body.appendChild(E);var k=E.contentWindow,j=k.document;j.open("image/svg+xml","replace"),j.write(g),j.close(),k.focus(),j.execCommand("SaveAs",!0,y),document.body.removeChild(E)}}else{var H=r.get("lang"),it='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',yt=window.open();yt.document.write(it),yt.document.title=o}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(sf);const SZt=wZt;var ost="__ec_magicType_stack__",CZt=[["line","bar"],["stack"]],MZt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return Xt(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(ast[r]){var s={series:[]};Xt(CZt,function(d){so(d,r)>=0&&Xt(d,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(d){var g=ast[r](d.subType,d.id,d,o);g&&(er(g,d.option),s.series.push(g));var y=d.coordinateSystem;if(y&&"cartesian2d"===y.type&&("line"===r||"bar"===r)){var b=y.getAxesByScale("ordinal")[0];if(b){var C=b.dim+"Axis",k=d.getReferringComponents(C,Fc).models[0].componentIndex;s[C]=s[C]||[];for(var j=0;j<=k;j++)s[C][k]=s[C][k]||{};s[C][k].boundaryGap="bar"===r}}});var c,u=r;"stack"===r&&(c=Yr({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},e}(sf),ast={line:function(n,e,t,i){if("bar"===n)return Yr({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if("line"===n)return Yr({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===ost;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),Yr({id:e,stack:r?"":ost},i.get(["option","stack"])||{},!0)}};Dp({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const EZt=MZt;var BP=new Array(60).join("-"),xx="\t";function DZt(n){var e=[];return Xt(n,function(t,i){var r=t.categoryAxis,a=t.valueAxis.dim,s=[" "].concat(Nn(t.series,function(p){return p.name})),l=[r.model.getCategories()];Xt(t.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(a),function(y){return y}))});for(var c=[s.join(xx)],u=0;u<l[0].length;u++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][u]);c.push(d.join(xx))}e.push(c.join("\n"))}),e.join("\n\n"+BP+"\n\n")}function AZt(n){return Nn(n,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var o=arguments.length,s=t.getName(arguments[o-1]),l=0;l<o-1;l++)r[l]=arguments[l];i.push((s?s+xx:"")+r.join(xx))}),i.join("\n")}).join("\n\n"+BP+"\n\n")}function VP(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var H5=new RegExp("["+xx+"]+","g");var OZt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var d=o.get("optionToContent"),h=o.get("contentToOption"),p=function IZt(n){var e=function TZt(n){var e={},t=[],i=[];return n.eachRawSeries(function(r){var o=r.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)t.push(r);else{var a=o.getBaseAxis();if("category"===a.type){var s=a.dim+"_"+a.index;e[s]||(e[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),e[s].series.push(r)}else t.push(r)}}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}(n);return{value:Ss([DZt(e.seriesGroupByCategoryAxis),AZt(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+BP+"\n\n"),meta:e.meta}}(t);if(Ki(d)){var g=d(i.getOption());si(g)?c.innerHTML=g:W1(g)&&c.appendChild(g)}else{u.readOnly=o.get("readOnly");var y=u.style;y.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",y.color=o.get("textColor"),y.borderColor=o.get("textareaBorderColor"),y.backgroundColor=o.get("textareaColor"),u.value=p.value,c.appendChild(u)}var b=p.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var C="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),k=document.createElement("div");C+=";background-color:"+o.get("buttonColor"),C+=";color:"+o.get("buttonTextColor");var j=this;function H(){r.removeChild(a),j._dom=null}CF(E,"click",H),CF(k,"click",function(){if(null==h&&null!=d||null!=h&&null==d)H();else{var it;try{it=Ki(h)?h(c,i.getOption()):function LZt(n,e){var t=n.split(new RegExp("\n*"+BP+"\n*","g")),i={series:[]};return Xt(t,function(r,o){if(function PZt(n){if(n.slice(0,n.indexOf("\n")).indexOf(xx)>=0)return!0}(r)){var a=function kZt(n){for(var e=n.split(/\n+/g),i=[],r=Nn(VP(e.shift()).split(H5),function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var a=VP(e[o]).split(H5);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}(r),s=e[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function RZt(n){for(var e=n.split(/\n+/g),t=VP(e.shift()),i=[],r=0;r<e.length;r++){var o=VP(e[r]);if(o){var a=o.split(H5),s="",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:t,data:i}}(r),i.series.push(a)}),i}(u.value,b)}catch(yt){throw H(),new Error("Data view format error "+yt)}it&&i.dispatchAction({type:"changeDataView",newOption:it}),H()}}),E.innerHTML=l[1],k.innerHTML=l[2],k.style.cssText=E.style.cssText=C,!o.get("readOnly")&&w.appendChild(k),w.appendChild(E),a.appendChild(s),a.appendChild(c),a.appendChild(w),c.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(sf);function NZt(n,e){return Nn(n,function(t,i){var r=e&&e[i];if(or(r)&&!Ln(r)){or(t)&&!Ln(t)||(t={value:t});var a=null!=r.name&&null==t.name;return t=er(t,r),a&&delete t.name,t}return t})}Dp({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];Xt(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var o=r.get("data");t.push({name:i.name,data:NZt(i.data,o)})}else t.push(An({type:"scatter"},i))}),e.mergeOption(er({series:t},n.newOption))});const FZt=OZt;var sst=Xt,lst=oa();function j5(n){var e=lst(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var GZt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.onclick=function(t,i){(function zZt(n){lst(n).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(sf);Dp({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const HZt=GZt;var jZt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],WZt=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=cst(t,e);Xt(ZZt,function(a,s){(!i||!i.include||so(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=Z5[i.brushType](0,o,r);i.__rangeOffset={offset:fst[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){Xt(e,function(r){var o=this.findTargetInfo(r,t);o&&!0!==o&&Xt(o.coordSyses,function(a){var s=Z5[r.brushType](1,a,r.range,!0);i(r,s.values,a,t)})},this)},n.prototype.setInputRanges=function(e,t){Xt(e,function(i){var r=this.findTargetInfo(i,t);if(i.range=i.range||[],r&&!0!==r){i.panelId=r.panelId;var o=Z5[i.brushType](0,r.coordSys,i.coordRange),a=i.__rangeOffset;i.range=a?fst[i.brushType](o.values,a.offset,function YZt(n,e){var t=mst(n),i=mst(e),r=[t[0]/i[0],t[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(o.xyMinMax,a.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(e,t){return Nn(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:hot(r),isTargetByCursor:pot(r,e,i.coordSysModel),getLinearBrushOtherExtent:fot(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return!0===r||r&&so(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=cst(t,e),o=0;o<i.length;o++){var a=i[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<ust.length;l++)if(ust[l](r,a))return a}return!0},n}();function W5(n){return n[0]>n[1]&&n.reverse(),n}function cst(n,e){return hS(n,e,{includeMainTypes:jZt})}var ZZt={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Wi(),a={},s={};!t&&!i&&!r||(Xt(t,function(l){var c=l.axis.grid.model;o.set(c.id,c),a[c.id]=!0}),Xt(i,function(l){var c=l.axis.grid.model;o.set(c.id,c),s[c.id]=!0}),Xt(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=[];Xt(l.coordinateSystem.getCartesians(),function(d,h){(so(t,d.getAxis("x").model)>=0||so(i,d.getAxis("y").model)>=0)&&u.push(d)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:dst.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){Xt(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:dst.geo})})}},ust=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],dst={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(oy(n)),e}},Z5={lineX:Lr(hst,0),lineY:Lr(hst,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),a=[W5([r[0],o[0]]),W5([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:Nn(t,function(a){var s=n?e.pointToData(a,i):e.dataToPoint(a,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function hst(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=W5(Nn([0,1],function(s){return e?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var fst={lineX:Lr(pst,0),lineY:Lr(pst,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return Nn(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function pst(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function mst(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const Y5=WZt;var X5=Xt,XZt=function lRt(n){return aq+n}("toolbox-dataZoom_"),$Zt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new t5(r.getZr()),this._brushController.on("brush",vi(this._onBrush,this)).mount()),function QZt(n,e,t,i,r){var o=t._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive),t._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var s=new Y5($5(n),e,{include:["grid"]}).makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(!(!o||!s.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(t,i,this,o,r),function KZt(n,e){n.setIconStatus("back",function UZt(n){return j5(n).length}(e)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,r){qZt[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new Y5($5(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(c,u,d){if("cartesian2d"===d.type){var h=c.brushType;"rect"===h?(s("x",d,u[0]),s("y",d,u[1])):s({lineX:"x",lineY:"y"}[h],d,u)}}),function BZt(n,e){var t=j5(n);sst(e,function(i,r){for(var o=t.length-1;o>=0&&!t[o][r];o--);if(o<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}(o,r),this._dispatchZoomAction(r)}function s(c,u,d){var h=u.getAxis(c),p=h.model,g=function l(c,u,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(p){p.getAxisModel(c,u.componentIndex)&&(h=p)}),h}(c,p,o),y=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(null!=y.minValueSpan||null!=y.maxValueSpan)&&(d=Dy(0,d.slice(),h.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:d[0],endValue:d[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];X5(t,function(r,o){i.push(ur(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(sf),qZt={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function VZt(n){var e=j5(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return sst(t,function(r,o){for(var a=e.length-1;a>=0;a--)if(r=e[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function $5(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}!function a2t(n,e){Sd(null==a3.get(n)&&e),a3.set(n,e)}("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var i=e.getModel(t),r=[],a=hS(n,$5(i));return X5(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),X5(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),r}function s(l,c,u){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:XZt+c+d};h[u]=d,r.push(h)}});const JZt=$Zt;var e9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ha);const n9t=e9t;function gst(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function vst(n){if(ca.domSupported)for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}var _st=vst(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function yst(n,e){if(!n)return e;e=OK(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var o9t=yst(vst(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),q5=yst(_st,"transform"),a9t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ca.transform3dSupported?"will-change:transform;":"");function bst(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!ca.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=ca.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+q5+":"+a+";":[["top",0],["left",0],[_st,a]]}function xst(n,e,t,i,r){var o=e&&e.painter;if(t){var a=o&&o.getViewportRoot();a&&function RPt(n,e,t,i,r){bF(yF,e,i,r,!0)&&bF(n,t,yF[0],yF[1])}(n,a,document.body,i,r)}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var h9t=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ca.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),a=this._appendToBody=i&&i.appendToBody;xst(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(r):e.appendChild(r),this._container=e;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=o.handler;Uh(o.painter.getViewportRoot(),l,!0),c.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){var t=this._container,i=function r9t(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==i&&(r.position="relative");var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=a9t+function d9t(n,e,t){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=jQ(n,"html");return i.push("box-shadow:"+l+"px "+c+"px "+a+"px "+s),e&&r&&i.push(function c9t(n,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+t,r="opacity"+i+",visibility"+i;return e||(i=" "+n+"s "+t,r+=ca.transformSupported?","+q5+i:",left"+i+",top"+i),o9t+":"+r}(r,t)),o&&i.push("background-color:"+o),Xt(["width","color","radius"],function(p){var g="border-"+p,y=OK(g),b=n.get(y);null!=b&&i.push(g+":"+b+("color"===p?"":"px"))}),i.push(function u9t(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(3*t/2)+"px");var r=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,a=n.get("textShadowOffsetX")||0,s=n.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),Xt(["decoration","align"],function(l){var c=n.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}(u)),null!=d&&i.push("padding:"+zb(d).join("px ")+"px"),i.join(";")+";"}(e,!this._firstShow,this._longHide)+bst(o[0],o[1],!0)+"border-color:"+q_(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var a=this.el;if(null!=e){var s="";if(si(o)&&"item"===i.get("trigger")&&!gst(i)&&(s=function l9t(n,e,t){if(!si(t)||"inside"===t)return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");e=q_(e);var c,o=function s9t(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(t),a=Math.max(1.5*Math.round(r),6),s="",l=q5+":";so(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c="left"===o?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c="top"===o?225:45)+"deg)");var u=c*Math.PI/180,d=a+r,h=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),g=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",(s+=";"+o+":-"+Math.round(100*((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-d)/2))/100+"px")+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"].join("")+'"></div>'}(i,r,o)),si(e))a.innerHTML=e+s;else if(e){a.innerHTML="",Ln(e)||(e=[e]);for(var l=0;l<e.length;l++)W1(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}}else a.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(xst(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]){var r=this.el.style;Xt(bst(i[0],i[1]),function(a){r[a[0]]=a[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",ca.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(vi(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const f9t=h9t;var p9t=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Sst(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){var a=this;or(e)&&rs(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new da({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:jQ(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),Xt(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=i.get(c)}),Xt(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=wst(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;Sst(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,a=fv(o.borderWidth||0),s=wst(o);i.x=e+a+s.left,i.y=t+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(vi(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function fv(n){return Math.max(0,n)}function wst(n){var e=fv(n.shadowBlur||0),t=fv(n.shadowOffsetX||0),i=fv(n.shadowOffsetY||0);return{left:fv(e-t),right:fv(e+t),top:fv(e-i),bottom:fv(e+i)}}function Sst(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const m9t=p9t;var g9t=new aa({shape:{x:-1,y:-1,width:2,height:2}}),v9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i){if(!ca.node&&i.getDom()){var r=t.getComponent("tooltip"),o=this._renderMode=function mRt(n){return"auto"===n?ca.domSupported?"html":"richText":n||"html"}(r.get("renderMode"));this._tooltipContent="richText"===o?new m9t(i):new f9t(i.getDom(),i,{appendToBody:r.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!ca.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Qb(this,"_updatePosition",50,"fixRate"):US(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");Dat("itemTooltip",this._api,vi(function(r,o,a){"none"!==i&&(i.indexOf(r)>=0?this._tryShow(o,a):"leave"===r&&this._hide(a))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(t,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(o.from!==this.uid&&!ca.node&&r.getDom()){var a=Cst(o,r);this._ticket="";var s=o.dataByCoordSys,l=function x9t(n,e,t){var i=fB(n).queryOptionMap,r=i.keys()[0];if(r&&"series"!==r){var l,a=fS(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(a&&(t.getViewOfComponentModel(a).group.traverse(function(c){var u=Ar(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l))return{componentMainType:r,componentIndex:a.componentIndex,el:l}}}(o,i,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var u=g9t;u.x=o.x,u.y=o.y,u.update(),Ar(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,i,r,o))return;var d=Iat(o,i),h=d.point[0],p=d.point[1];null!=h&&null!=p&&this._tryShow({offsetX:h,offsetY:p,target:d.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(t,i,r,o){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Cst(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var c=i.getSeriesByIndex(a);if(c&&"axis"===LC([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(r){var s,l;this._lastDataByCoordSys=null,ay(r,function(c){return null!=Ar(c).dataIndex?(s=c,!0):null!=Ar(c).tooltipConfig?(l=c,!0):void 0},!0),s?this._showSeriesItemTooltip(t,s,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=vi(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=LC([i.tooltipOption],o),l=this._renderMode,c=[],u=du("section",{blocks:[],noHeader:!0}),d=[],h=new C3;Xt(t,function(C){Xt(C.dataByAxis,function(E){var k=r.getComponent(E.axisDim+"Axis",E.axisIndex),j=E.value;if(k&&null!=j){var H=wat(j,k.axis,r,E.seriesDataIndices,E.valueLabelOpt),it=du("section",{header:H,noHeader:!If(H),sortBlocks:!0,blocks:[]});u.blocks.push(it),Xt(E.seriesDataIndices,function(yt){var lt=r.getSeriesByIndex(yt.seriesIndex),Lt=yt.dataIndexInside,kt=lt.getDataParams(Lt);if(!(kt.dataIndex<0)){kt.axisDim=E.axisDim,kt.axisIndex=E.axisIndex,kt.axisType=E.axisType,kt.axisId=E.axisId,kt.axisValue=zV(k.axis,{value:j}),kt.axisValueLabel=H,kt.marker=h.makeTooltipMarker("item",q_(kt.color),l);var Jt=SQ(lt.formatTooltip(Lt,!0,null)),ne=Jt.frag;if(ne){var ce=LC([lt],o).get("valueFormatter");it.blocks.push(ce?An({valueFormatter:ce},ne):ne)}Jt.text&&d.push(Jt.text),c.push(kt)}})}})}),u.blocks.reverse(),d.reverse();var p=i.position,g=s.get("order"),y=UQ(u,h,l,g,r.get("useUTC"),s.get("textStyle"));y&&d.unshift(y);var w=d.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,p,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,w,c,Math.random()+"",a[0],a[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,a=Ar(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,d=a.dataType,h=c.getData(d),p=this._renderMode,g=t.positionDefault,y=LC([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),b=y.get("trigger");if(null==b||"item"===b){var w=c.getDataParams(u,d),C=new C3;w.marker=C.makeTooltipMarker("item",q_(w.color),p);var E=SQ(c.formatTooltip(u,!1,d)),k=y.get("order"),j=y.get("valueFormatter"),H=E.frag,it=H?UQ(j?An({valueFormatter:j},H):H,C,p,k,o.get("useUTC"),y.get("textStyle")):E.text,yt="item_"+c.name+"_"+u;this._showOrMove(y,function(){this._showTooltipContent(y,it,w,yt,t.offsetX,t.offsetY,t.position,t.target,C)}),r({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=Ar(i),s=o.tooltipConfig.option||{};si(s)&&(s={content:s,formatter:s});var c=[s],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&c.push(u),c.push({formatter:s.content});var d=t.positionDefault,h=LC(c,this._tooltipModel,d?{position:d}:null),p=h.get("content"),g=Math.random()+"",y=new C3;this._showOrMove(h,function(){var b=ur(h.get("formatterParams")||{});this._showTooltipContent(h,p,b,g,t.offsetX,t.offsetY,t.position,i,y)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,a,s,l,c,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var p=i,y=this._getNearestPoint([a,s],r,t.get("trigger"),t.get("borderColor")).color;if(h)if(si(h)){var b=t.ecModel.get("useUTC"),w=Ln(r)?r[0]:r;p=h,w&&w.axisType&&w.axisType.indexOf("time")>=0&&(p=WA(w.axisValue,p,b)),p=FK(p,r,!0)}else if(Ki(h)){var E=vi(function(k,j){k===this._ticket&&(d.setContent(j,u,t,y,l),this._updatePosition(t,l,a,s,d,r,c))},this);this._ticket=o,p=h(r,o,E)}else p=h;d.setContent(p,u,t,y,l),d.show(t,y),this._updatePosition(t,l,a,s,d,r,c)}},e.prototype._getNearestPoint=function(t,i,r,o){return"axis"===r||Ln(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:Ln(i)?void 0:{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();i=i||t.get("position");var d=a.getSize(),h=t.get("align"),p=t.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),Ki(i)&&(i=i([r,o],s,a.el,g,{viewSize:[c,u],contentSize:d.slice()})),Ln(i))r=ni(i[0],c),o=ni(i[1],u);else if(or(i)){var y=i;y.width=d[0],y.height=d[1];var b=eu(y,{width:c,height:u});r=b.x,o=b.y,h=null,p=null}else if(si(i)&&l){var w=function b9t(n,e,t,i){var r=t[0],o=t[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=e.width,u=e.height;switch(n){case"inside":s=e.x+c/2-r/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-r/2,l=e.y+u+a;break;case"left":s=e.x-r-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}(i,g,d,t.get("borderWidth"));r=w[0],o=w[1]}else w=function _9t(n,e,t,i,r,o,a){var s=t.getSize(),l=s[0],c=s[1];return null!=o&&(n+l+o+2>i?n-=l+o:n+=o),null!=a&&(e+c+a>r?e-=c+a:e+=a),[n,e]}(r,o,a,c,u,h?null:20,p?null:20),r=w[0],o=w[1];h&&(r-=Mst(h)?d[0]/2:"right"===h?d[0]:0),p&&(o-=Mst(p)?d[1]/2:"bottom"===p?d[1]:0),gst(t)&&(w=function y9t(n,e,t,i,r){var o=t.getSize(),a=o[0],s=o[1];return n=Math.min(n+a,i)-a,e=Math.min(e+s,r)-s,[n=Math.max(n,0),e=Math.max(e,0)]}(r,o,a,c,u),r=w[0],o=w[1]),a.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===t.length;return a&&Xt(r,function(s,l){var c=s.dataByAxis||[],d=(t[l]||{}).dataByAxis||[];(a=a&&c.length===d.length)&&Xt(c,function(h,p){var g=d[p]||{},y=h.seriesDataIndices||[],b=g.seriesDataIndices||[];(a=a&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&y.length===b.length)&&Xt(y,function(w,C){var E=b[C];a=a&&w.seriesIndex===E.seriesIndex&&w.dataIndex===E.dataIndex}),o&&Xt(h.seriesDataIndices,function(w){var C=w.seriesIndex,E=i[C],k=o[C];E&&k&&k.data!==E.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){ca.node||!i.getDom()||(US(this,"_updatePosition"),this._tooltipContent.dispose(),P5("itemTooltip",i))},e.type="tooltip",e}(ql);function LC(n,e,t){var r,i=e.ecModel;t?(r=new sl(t,i,i),r=new sl(e.option,r,i)):r=e;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof sl&&(a=a.get("tooltip",!0)),si(a)&&(a={formatter:a}),a&&(r=new sl(a,r,i)))}return r}function Cst(n,e){return n.dispatchAction||vi(e.dispatchAction,e)}function Mst(n){return"center"===n||"middle"===n}const w9t=v9t;var C9t=["rect","polygon","keep","clear"];function M9t(n,e){var t=Ps(n?n.brush:[]);if(t.length){var i=[];Xt(t,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(i=i.concat(c))});var r=n&&n.toolbox;Ln(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function E9t(n){var e={};Xt(n,function(t){e[t]=1}),n.length=0,Xt(e,function(t,i){n.push(i)})}(s),e&&!s.length&&s.push.apply(s,C9t)}}var Est=Xt;function Tst(n){if(n)for(var e in n)if(n.hasOwnProperty(e))return!0}function K5(n,e,t){var i={};return Est(e,function(o){var a=i[o]=function r(){var o=function(){};return o.prototype.__hidden=o.prototype,new o}();Est(n[o],function(s,l){if(Wu.isValidType(l)){var c={type:l,visual:s};t&&t(c,o),a[l]=new Wu(c),"opacity"===l&&((c=ur(c)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Wu(c))}})}),i}function Dst(n,e,t){var i;Xt(t,function(r){e.hasOwnProperty(r)&&Tst(e[r])&&(i=!0)}),i&&Xt(t,function(r){e.hasOwnProperty(r)&&Tst(e[r])?n[r]=ur(e[r]):delete n[r]})}var Ast={lineX:Ist(0),lineY:Ist(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&wy(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,s=n.height,l=i[0];return!!(wy(i,r,o)||wy(i,r+a,o)||wy(i,r,o+s)||wy(i,r+a,o+s)||$r.create(n).contain(l[0],l[1])||zS(r,o,r+a,o,i)||zS(r,o,r,o+s,i)||zS(r+a,o,r+a,o+s,i)||zS(r,o+s,r+a,o+s,i))||void 0}}};function Ist(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i)return OC(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[n]],i[e[n]]+i[t[n]]];return s[1]<s[0]&&s.reverse(),OC(s[0],a)||OC(s[1],a)||OC(a[0],s)||OC(a[1],s)}}}}function OC(n,e){return e[0]<=n&&n<=e[1]}var Pst=["inBrush","outOfBrush"],Q5="__ecBrushSelect",J5="__ecInBrushSelectEvent";function kst(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new Y5(e.option,n)).setInputRanges(e.areas,n)})}function I9t(n,e,t){var r,o,i=[];n.eachComponent({mainType:"brush"},function(a){t&&"takeGlobalCursor"===t.type&&a.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),kst(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:ur(a.areas),selected:[]};i.push(l);var c=a.option,u=c.brushLink,d=[],h=[],p=[],g=!1;s||(r=c.throttleType,o=c.throttleDelay);var y=Nn(a.areas,function(j){var H=L9t[j.brushType],it=er({boundingRect:H?H(j):void 0},j);return it.selectors=function A9t(n){var e=n.brushType,t={point:function(i){return Ast[e].point(i,t,n)},rect:function(i){return Ast[e].rect(i,t,n)}};return t}(it),it}),b=K5(a.option,Pst,function(j){j.mappingMethod="fixed"});function w(j){return"all"===u||!!d[j]}function C(j){return!!j.length}Ln(u)&&Xt(u,function(j){d[j]=1}),n.eachSeries(function(j,H){var it=p[H]=[];"parallel"===j.subType?function E(j,H){var it=j.coordinateSystem;g=g||it.hasAxisBrushed(),w(H)&&it.eachActiveState(j.getData(),function(yt,lt){"active"===yt&&(h[lt]=1)})}(j,H):function k(j,H,it){if(j.brushSelector&&!function R9t(n,e){var t=n.option.seriesIndex;return null!=t&&"all"!==t&&(Ln(t)?so(t,e)<0:e!==t)}(a,H)&&(Xt(y,function(lt){a.brushTargetManager.controlSeries(lt,j,n)&&it.push(lt),g=g||C(it)}),w(H)&&C(it))){var yt=j.getData();yt.each(function(lt){Rst(j,it,yt,lt)&&(h[lt]=1)})}}(j,H,it)}),n.eachSeries(function(j,H){var it={seriesId:j.id,seriesIndex:H,seriesName:j.name,dataIndex:[]};l.selected.push(it);var yt=p[H],lt=j.getData(),Lt=w(H)?function(kt){return h[kt]?(it.dataIndex.push(lt.getRawIndex(kt)),"inBrush"):"outOfBrush"}:function(kt){return Rst(j,yt,lt,kt)?(it.dataIndex.push(lt.getRawIndex(kt)),"inBrush"):"outOfBrush"};(w(H)?g:C(yt))&&function T9t(n,e,t,i,r,o){var s,a={};function l(d){return z3(t,s,d)}function c(d,h){HJ(t,s,d,h)}function u(d,h){var p=t.getRawDataItem(s=null==o?d:h);if(!p||!1!==p.visualMap)for(var g=i.call(r,d),y=e[g],b=a[g],w=0,C=b.length;w<C;w++){var E=b[w];y[E]&&y[E].applyVisual(d,l,c)}}Xt(n,function(d){var h=Wu.prepareVisualTypes(e[d]);a[d]=h}),null==o?t.each(u):t.each([o],u)}(Pst,b,lt,Lt)})}),function P9t(n,e,t,i,r){if(r){var o=n.getZr();o[J5]||(o[Q5]||(o[Q5]=k9t),Qb(o,Q5,t,e)(n,i))}}(e,r,o,i,t)}function k9t(n,e){if(!n.isDisposed()){var t=n.getZr();t[J5]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[J5]=!1}}function Rst(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(n.brushSelector(i,t,a.selectors,a))return!0}}var L9t={rect:function(n){return Lst(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){var o=t[i];o[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&Lst(e)}};function Lst(n){return new $r(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var O9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new t5(i.getZr())).on("brush",vi(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){kst(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:ur(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:ur(r),$from:i})},e.type="brush",e}(ql);const N9t=O9t;var B9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return vn(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Dst(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Nn(t,function(i){return Ost(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=Ost(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(ha);function Ost(n,e){return Yr({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new sl(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}const V9t=B9t;var z9t=["rect","polygon","lineX","lineY","keep","clear"],U9t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return vn(e,n),e.prototype.render=function(t,i,r){var o,a,s;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,Xt(t.get("type",!0),function(l){t.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return Xt(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},e.getDefaultOption=function(t){return{show:!0,type:z9t.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(sf);const G9t=U9t;var j9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return vn(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ha),W9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var o=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=Xr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new da({style:al(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),h=t.get("subtext"),p=new da({style:al(s,{text:h,fill:s.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),y=t.get("sublink"),b=t.get("triggerEvent",!0);u.silent=!g&&!b,p.silent=!y&&!b,g&&u.on("click",function(){qA(g,"_"+t.get("target"))}),y&&p.on("click",function(){qA(y,"_"+t.get("subtarget"))}),Ar(u).eventData=Ar(p).eventData=b?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(u),h&&o.add(p);var w=o.getBoundingRect(),C=t.getBoxLayoutParams();C.width=w.width,C.height=w.height;var E=eu(C,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?E.x+=E.width:"center"===l&&(E.x+=E.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?E.y+=E.height:"middle"===c&&(E.y+=E.height/2),c=c||"top"),o.x=E.x,o.y=E.y,o.markRedraw();var k={align:l,verticalAlign:c};u.setStyle(k),p.setStyle(k),w=o.getBoundingRect();var j=E.margin,H=t.getItemStyle(["color","opacity"]);H.fill=t.get("backgroundColor");var it=new aa({shape:{x:w.x-j[3],y:w.y-j[0],width:w.width+j[1]+j[3],height:w.height+j[0]+j[2],r:t.get("borderRadius")},style:H,subPixelOptimize:!0,silent:!0});o.add(it)}},e.type="title",e}(ql),Y9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return vn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var a,t=this.option,i=t.data||[],r=t.axisType,o=this._names=[];"category"===r?(a=[],Xt(i,function(c,u){var h,d=tu(Ib(c),"");or(c)?(h=ur(c)).value=u:h=u,a.push(h),o.push(d)})):a=i,(this._data=new Ad([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[r]||"number"}],this)).initData(a,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(ha);const Nst=Y9t;var Fst=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="timeline.slider",e.defaultOption=$g(Nst.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Nst);Nc(Fst,v3.prototype);const X9t=Fst;var $9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="timeline",e}(ql);const q9t=$9t;var K9t=function(n){function e(t,i,r,o){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a}return vn(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(Hf);const Q9t=K9t;var t4=Math.PI,Bst=oa(),J9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(c){return du("nameValue",{noName:!0,value:l.scale.getLabel({value:c})})},Xt(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](o,a,l,t)},this),this._renderAxisLabel(o,s,l,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var s,r=t.get(["label","position"]),o=t.get("orient"),a=function e7t(n,e){return eu(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}(t,i),l={horizontal:"center",vertical:(s=null==r||"auto"===r?"horizontal"===o?a.y+a.height/2<i.getHeight()/2?"-":"+":a.x+a.width/2<i.getWidth()/2?"+":"-":si(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][r]:r)>=0||"+"===s?"left":"right"},c={horizontal:s>=0||"+"===s?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:t4/2},d="vertical"===o?a.height:a.width,h=t.getModel("controlStyle"),p=h.get("show",!0),g=p?h.get("itemSize"):0,y=p?h.get("itemGap"):0,b=g+y,w=t.get(["label","rotate"])||0;w=w*t4/180;var C,E,k,j=h.get("position",!0),H=p&&h.get("showPlayBtn",!0),it=p&&h.get("showPrevBtn",!0),yt=p&&h.get("showNextBtn",!0),lt=0,Lt=d;"left"===j||"bottom"===j?(H&&(C=[0,0],lt+=b),it&&(E=[lt,0],lt+=b),yt&&(k=[Lt-g,0],Lt-=b)):(H&&(C=[Lt-g,0],Lt-=b),it&&(E=[0,0],lt+=b),yt&&(k=[Lt-g,0],Lt-=b));var kt=[lt,Lt];return t.get("inverse")&&kt.reverse(),{viewRect:a,mainLength:d,orient:o,rotation:u[o],labelRotation:w,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[o],playPosition:C,prevBtnPosition:E,nextBtnPosition:k,axisExtent:kt,controlSize:g,controlGap:y}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var s=[1,0,0,1,0,0],l=a.x,c=a.y+a.height;hp(s,s,[-l,-c]),S_(s,s,-t4/2),hp(s,s,[l,c]),(a=a.clone()).applyTransform(s)}var u=C(a),d=C(r.getBoundingRect()),h=C(o.getBoundingRect()),p=[r.x,r.y],g=[o.x,o.y];g[0]=p[0]=u[0][0];var b,y=t.labelPosOpt;function w(k){k.originX=u[0][0]-k.x,k.originY=u[1][0]-k.y}function C(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function E(k,j,H,it,yt){k[it]+=H[it][yt]-j[it][yt]}null==y||si(y)?(E(p,d,u,1,b="+"===y?0:1),E(g,h,u,1,1-b)):(E(p,d,u,1,b=y>=0?0:1),g[1]=p[1]+y),r.setPosition(p),o.setPosition(g),r.rotation=o.rotation=t.rotation,w(r),w(o)},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),a=function t7t(n,e){if(e=e||n.get("type"))switch(e){case"category":return new BV({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Dnt({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new av}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(c){return{value:c}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new Q9t("value",a,t.axisExtent,o);return l.model=i,l},e.prototype._createGroup=function(t){var i=this[t]=new br;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new wu({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:An({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var l=this._progressLine=new wu({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:er({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},e.prototype._renderAxisTick=function(t,i,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],Xt(l,function(c){var u=r.dataToCoord(c.value),d=s.getItemModel(c.value),h=d.getModel("itemStyle"),p=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["progress","itemStyle"]),y={x:u,y:0,onclick:vi(a._changeTimeline,a,c.value)},b=Vst(d,h,i,y);b.ensureState("emphasis").style=p.getItemStyle(),b.ensureState("progress").style=g.getItemStyle(),Z_(b);var w=Ar(b);d.get("tooltip")?(w.dataIndex=c.value,w.dataModel=o):w.dataIndex=w.dataModel=null,a._tickSymbols.push(b)})},e.prototype._renderAxisLabel=function(t,i,r,o){var a=this;if(r.getLabelModel().get("show")){var l=o.getData(),c=r.getViewLabels();this._tickLabels=[],Xt(c,function(u){var d=u.tickValue,h=l.getItemModel(d),p=h.getModel("label"),g=h.getModel(["emphasis","label"]),y=h.getModel(["progress","label"]),b=r.dataToCoord(u.tickValue),w=new da({x:b,y:0,rotation:t.labelRotation-t.rotation,onclick:vi(a._changeTimeline,a,d),silent:!1,style:al(p,{text:u.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});w.ensureState("emphasis").style=al(g),w.ensureState("progress").style=al(y),i.add(w),Z_(w),Bst(w).dataIndex=d,a._tickLabels.push(w)})}},e.prototype._renderControl=function(t,i,r,o){var a=t.controlSize,s=t.rotation,l=o.getModel("controlStyle").getItemStyle(),c=o.getModel(["emphasis","controlStyle"]).getItemStyle(),u=o.getPlayState(),d=o.get("inverse",!0);function h(p,g,y,b){if(p){var w=Rf(Xr(o.get(["controlStyle",g+"BtnSize"]),a),a),E=function n7t(n,e,t,i){var r=i.style,o=VS(n.get(["controlStyle",e]),i||{},new $r(t[0],t[1],t[2],t[3]));return r&&o.setStyle(r),o}(o,g+"Icon",[0,-w/2,w,w],{x:p[0],y:p[1],originX:a/2,originY:0,rotation:b?-s:0,rectHover:!0,style:l,onclick:y});E.ensureState("emphasis").style=c,i.add(E),Z_(E)}}h(t.nextBtnPosition,"next",vi(this._changeTimeline,this,d?"-":"+")),h(t.prevBtnPosition,"prev",vi(this._changeTimeline,this,d?"+":"-")),h(t.playPosition,u?"stop":"play",vi(this._handlePlayClick,this,!u),!0)},e.prototype._renderCurrentPointer=function(t,i,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),c=this;this._currentPointer=Vst(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(d){d.draggable=!0,d.drift=vi(c._handlePointerDrag,c),d.ondragend=vi(c._handlePointerDragend,c),zst(d,c._progressLine,s,r,o,!0)},onUpdate:function(d){zst(d,c._progressLine,s,r,o)}})},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],a=Wh(this._axis.getExtent().slice());r>a[1]&&(r=a[1]),r<a[0]&&(r=a[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var l=this._findNearestTick(r),c=this.model;(i||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return Bf(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var o,i=this.model.getData(),r=1/0,a=this._axis;return i.each(["value"],function(s,l){var c=a.dataToCoord(s),u=Math.abs(c-t);u<r&&(r=u,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",Bst(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(q9t);function Vst(n,e,t,i,r,o){var a=e.get("color");r?(r.setColor(a),t.add(r),o&&o.onUpdate(r)):((r=Vc(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r));var l=e.getItemStyle(["color"]);r.setStyle(l),i=Yr({rectHover:!0,z2:100},i,!0);var c=WS(n.get("symbolSize"));i.scaleX=c[0]/2,i.scaleY=c[1]/2;var u=tx(n.get("symbolOffset"),c);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var d=n.get("symbolRotate");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function zst(n,e,t,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",t));if(o||!a.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}const i7t=J9t;function o7t(n){var e=n&&n.timeline;Ln(e)||(e=e?[e]:[]),Xt(e,function(t){t&&function a7t(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),Ust(n),Ry(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});Ry(i,"position")||(i.position=n.controlPosition),"none"===i.position&&!Ry(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}Xt(n.data||[],function(r){or(r)&&!Ln(r)&&(!Ry(r,"value")&&Ry(r,"name")&&(r.value=r.name),Ust(r))})}(t)})}function Ust(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};Xt(i,function(a,s){!o[s]&&!Ry(r,s)&&(r[s]=a)}),t.label&&!Ry(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function Ry(n,e){return n.hasOwnProperty(e)}function e4(n,e){if(!n)return!1;for(var t=Ln(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function zP(n){k_(n,"label",["show"])}var UP=oa(),Gst=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return vn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(ca.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var a=this.mainType;r||i.eachSeries(function(s){var l=s.get(this.mainType,!0),c=UP(s)[a];l&&l.data?(c?c._mergeOption(l,i,!0):(o&&zP(l),Xt(l.data,function(u){u instanceof Array?(zP(u[0]),zP(u[1])):zP(u)}),An(c=this.createMarkerModelFromSeries(l,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),UP(s)[a]=c):UP(s)[a]=null},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t),s=o.getName(t);return du("section",{header:this.name,blocks:[du("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return UP(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(ha);Nc(Gst,v3.prototype);const pv=Gst;var l7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(pv);const c7t=l7t;function n4(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function GP(n,e,t,i,r,o){var a=[],l=nv(e,i)?e.getCalculationInfo("stackResultDimension"):i,c=o4(e,l,n),u=e.indicesOfNearest(l,c)[0];a[r]=e.get(t,u),a[o]=e.get(l,u);var d=e.get(i,u),h=gp(e.get(i,u));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,d]}var r4={min:Lr(GP,"min"),max:Lr(GP,"max"),average:Lr(GP,"average"),median:Lr(GP,"median")};function NC(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!function u7t(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(e)&&!Ln(e.coord)&&Ln(r)){var o=Hst(e,t,i,n);if((e=ur(e)).type&&r4[e.type]&&o.baseAxis&&o.valueAxis){var a=so(r,o.baseAxis.dim),s=so(r,o.valueAxis.dim),l=r4[e.type](t,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&Ln(r))for(var c=e.coord,u=0;u<2;u++)r4[c[u]]&&(c[u]=o4(t,t.mapDimension(r[u]),c[u]));else e.coord=[];return e}}function Hst(n,e,t,i){var r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(function d7t(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function FC(n,e){return!(n&&n.containData&&e.coord&&!n4(e))||n.containData(e.coord)}function jst(n,e){return n?function(t,i,r,o){return Kg(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,i,r,o){return Kg(t.value,e[o])}}function o4(n,e,t){if("average"===t){var i=0,r=0;return n.each(e,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===t?n.getMedian(e):n.getDataExtent(e)["max"===t?1:0]}var a4=oa(),f7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.init=function(){this.markerGroupMap=Wi()},e.prototype.render=function(t,i,r){var o=this,a=this.markerGroupMap;a.each(function(s){a4(s).keep=!1}),i.eachSeries(function(s){var l=pv.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,i,r)}),a.each(function(s){!a4(s).keep&&o.group.remove(s.group)})},e.prototype.markKeep=function(t){a4(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;Xt(t,function(o){var a=pv.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(l){l&&(i?eK(l):FB(l))})})},e.type="marker",e}(ql);const s4=f7t;function Wst(n,e,t){var i=e.coordinateSystem;n.each(function(r){var a,o=n.getItemModel(r),s=ni(o.get("x"),t.getWidth()),l=ni(o.get("y"),t.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var c=n.get(i.dimensions[0],r),u=n.get(i.dimensions[1],r);a=i.dataToPoint([c,u])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),n.setItemLayout(r,a)})}var p7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=pv.getMarkerModelFromSeries(o,"markPoint");a&&(Wst(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new aC),d=function m7t(n,e,t){var i;i=n?Nn(n&&n.dimensions,function(s){return An(An({},e.getData().getDimensionInfo(e.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new Ad(i,t),o=Nn(t.get("data"),Lr(NC,e));n&&(o=Ss(o,Lr(FC,n)));var a=jst(!!n,i);return r.initData(o,null,a),r}(a,t,i);i.setData(d),Wst(i.getData(),t,o),d.each(function(h){var p=d.getItemModel(h),g=p.getShallow("symbol"),y=p.getShallow("symbolSize"),b=p.getShallow("symbolRotate"),w=p.getShallow("symbolOffset"),C=p.getShallow("symbolKeepAspect");if(Ki(g)||Ki(y)||Ki(b)||Ki(w)){var E=i.getRawValue(h),k=i.getDataParams(h);Ki(g)&&(g=g(E,k)),Ki(y)&&(y=y(E,k)),Ki(b)&&(b=b(E,k)),Ki(w)&&(w=w(E,k))}var j=p.getModel("itemStyle").getItemStyle(),H=jS(l,"color");j.fill||(j.fill=H),d.setItemVisual(h,{symbol:g,symbolSize:y,symbolRotate:b,symbolOffset:w,symbolKeepAspect:C,style:j})}),u.updateData(d),this.group.add(u.group),d.eachItemGraphicEl(function(h){h.traverse(function(p){Ar(p).dataModel=i})}),this.markKeep(u),u.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(s4);const g7t=p7t;var _7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(pv);const y7t=_7t;var HP=oa(),b7t=function(n,e,t,i){var o,r=n.getData();if(Ln(i))o=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=bu(i.yAxis,i.xAxis);else{var c=Hst(i,r,e,n);s=c.valueAxis,l=o4(r,Aet(r,c.valueDataDim),a)}var d="x"===s.dim?0:1,h=1-d,p=ur(i),g={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,g.coord[h]=1/0;var y=t.get("precision");y>=0&&ua(l)&&(l=+l.toFixed(Math.min(y,20))),p.coord[d]=g.coord[d]=l,o=[p,g,{type:a,valueIndex:i.valueIndex,value:l}]}else o=[]}var b=[NC(n,o[0]),NC(n,o[1]),An({},o[2])];return b[2].type=b[2].type||null,Yr(b[2],b[0]),Yr(b[2],b[1]),b};function jP(n){return!isNaN(n)&&!isFinite(n)}function Zst(n,e,t,i){var r=1-n,o=i.dimensions[n];return jP(e[r])&&jP(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function x7t(n,e){if("cartesian2d"===n.type){var t=e[0].coord,i=e[1].coord;if(t&&i&&(Zst(1,t,i,n)||Zst(0,t,i,n)))return!0}return FC(n,e[0])&&FC(n,e[1])}function l4(n,e,t,i,r){var s,o=i.coordinateSystem,a=n.getItemModel(e),l=ni(a.get("x"),r.getWidth()),c=ni(a.get("y"),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)s=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var d=n.get((u=o.dimensions)[0],e),h=n.get(u[1],e);s=o.dataToPoint([d,h])}if(vy(o,"cartesian2d")){var u,p=o.getAxis("x"),g=o.getAxis("y");jP(n.get((u=o.dimensions)[0],e))?s[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):jP(n.get(u[1],e))&&(s[1]=g.toGlobalCoord(g.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];n.setItemLayout(e,s)}var w7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=pv.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=HP(a).from,c=HP(a).to;l.each(function(u){l4(l,u,!0,o,r),l4(c,u,!1,o,r)}),s.each(function(u){s.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new Lz);this.group.add(u.group);var d=function S7t(n,e,t){var i;i=n?Nn(n&&n.dimensions,function(c){return An(An({},e.getData().getDimensionInfo(e.getData().mapDimension(c))||{}),{name:c,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new Ad(i,t),o=new Ad(i,t),a=new Ad([],t),s=Nn(t.get("data"),Lr(b7t,e,n,t));n&&(s=Ss(s,Lr(x7t,n)));var l=jst(!!n,i);return r.initData(Nn(s,function(c){return c[0]}),null,l),o.initData(Nn(s,function(c){return c[1]}),null,l),a.initData(Nn(s,function(c){return c[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(a,t,i),h=d.from,p=d.to,g=d.line;HP(i).from=h,HP(i).to=p,i.setData(g);var y=i.get("symbol"),b=i.get("symbolSize"),w=i.get("symbolRotate"),C=i.get("symbolOffset");function E(k,j,H){var it=k.getItemModel(j);l4(k,j,H,t,o);var yt=it.getModel("itemStyle").getItemStyle();null==yt.fill&&(yt.fill=jS(l,"color")),k.setItemVisual(j,{symbolKeepAspect:it.get("symbolKeepAspect"),symbolOffset:Xr(it.get("symbolOffset",!0),C[H?0:1]),symbolRotate:Xr(it.get("symbolRotate",!0),w[H?0:1]),symbolSize:Xr(it.get("symbolSize"),b[H?0:1]),symbol:Xr(it.get("symbol",!0),y[H?0:1]),style:yt})}Ln(y)||(y=[y,y]),Ln(b)||(b=[b,b]),Ln(w)||(w=[w,w]),Ln(C)||(C=[C,C]),d.from.each(function(k){E(h,k,!0),E(p,k,!1)}),g.each(function(k){var j=g.getItemModel(k).getModel("lineStyle").getLineStyle();g.setItemLayout(k,[h.getItemLayout(k),p.getItemLayout(k)]),null==j.stroke&&(j.stroke=h.getItemVisual(k,"style").fill),g.setItemVisual(k,{fromSymbolKeepAspect:h.getItemVisual(k,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(k,"symbolOffset"),fromSymbolRotate:h.getItemVisual(k,"symbolRotate"),fromSymbolSize:h.getItemVisual(k,"symbolSize"),fromSymbol:h.getItemVisual(k,"symbol"),toSymbolKeepAspect:p.getItemVisual(k,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(k,"symbolOffset"),toSymbolRotate:p.getItemVisual(k,"symbolRotate"),toSymbolSize:p.getItemVisual(k,"symbolSize"),toSymbol:p.getItemVisual(k,"symbol"),style:j})}),u.updateData(g),d.line.eachItemGraphicEl(function(k){Ar(k).dataModel=i,k.traverse(function(j){Ar(j).dataModel=i})}),this.markKeep(u),u.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(s4);const C7t=w7t;var E7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(pv);const T7t=E7t;var WP=oa(),D7t=function(n,e,t,i){var r=i[0],o=i[1];if(r&&o){var a=NC(n,r),s=NC(n,o),l=a.coord,c=s.coord;l[0]=bu(l[0],-1/0),l[1]=bu(l[1],-1/0),c[0]=bu(c[0],1/0),c[1]=bu(c[1],1/0);var u=uF([{},a,s]);return u.coord=[a.coord,s.coord],u.x0=a.x,u.y0=a.y,u.x1=s.x,u.y1=s.y,u}};function ZP(n){return!isNaN(n)&&!isFinite(n)}function Yst(n,e,t,i){var r=1-n;return ZP(e[r])&&ZP(t[r])}function A7t(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return vy(n,"cartesian2d")?!(!t||!i||!Yst(1,t,i)&&!Yst(0,t,i))||function h7t(n,e,t){return!(n&&n.containZone&&e.coord&&t.coord&&!n4(e)&&!n4(t))||n.containZone(e.coord,t.coord)}(n,r,o):FC(n,r)||FC(n,o)}function Xst(n,e,t,i,r){var s,o=i.coordinateSystem,a=n.getItemModel(e),l=ni(a.get(t[0]),r.getWidth()),c=ni(a.get(t[1]),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition){var u=n.getValues(["x0","y0"],e),d=n.getValues(["x1","y1"],e),h=o.clampData(u),p=o.clampData(d),g=[];g[0]="x0"===t[0]?h[0]>p[0]?d[0]:u[0]:h[0]>p[0]?u[0]:d[0],g[1]="y0"===t[1]?h[1]>p[1]?d[1]:u[1]:h[1]>p[1]?u[1]:d[1],s=i.getMarkerPosition(g,t,!0)}else{var w=[y=n.get(t[0],e),b=n.get(t[1],e)];o.clampData&&o.clampData(w,w),s=o.dataToPoint(w,!0)}if(vy(o,"cartesian2d")){var C=o.getAxis("x"),E=o.getAxis("y"),y=n.get(t[0],e),b=n.get(t[1],e);ZP(y)?s[0]=C.toGlobalCoord(C.getExtent()["x0"===t[0]?0:1]):ZP(b)&&(s[1]=E.toGlobalCoord(E.getExtent()["y0"===t[1]?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];return s}var $st=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],I7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=pv.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var c=Nn($st,function(d){return Xst(s,l,d,o,r)});s.setItemLayout(l,c),s.getItemGraphicEl(l).setShape("points",c)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,{group:new br});this.group.add(u.group),this.markKeep(u);var d=function P7t(n,e,t){var i,r;if(n){var a=Nn(n&&n.dimensions,function(c){var u=e.getData();return An(An({},u.getDimensionInfo(u.mapDimension(c))||{}),{name:c,ordinalMeta:null})});r=Nn(["x0","y0","x1","y1"],function(c,u){return{name:c,type:a[u%2].type}}),i=new Ad(r,t)}else i=new Ad(r=[{name:"value",type:"float"}],t);var s=Nn(t.get("data"),Lr(D7t,e,n,t));n&&(s=Ss(s,Lr(A7t,n)));var l=n?function(c,u,d,h){return Kg(c.coord[Math.floor(h/2)][h%2],r[h])}:function(c,u,d,h){return Kg(c.value,r[h])};return i.initData(s,null,l),i.hasItemOption=!0,i}(a,t,i);i.setData(d),d.each(function(h){var p=Nn($st,function(yt){return Xst(d,h,yt,t,o)}),g=a.getAxis("x").scale,y=a.getAxis("y").scale,b=g.getExtent(),w=y.getExtent(),C=[g.parse(d.get("x0",h)),g.parse(d.get("x1",h))],E=[y.parse(d.get("y0",h)),y.parse(d.get("y1",h))];Wh(C),Wh(E),d.setItemLayout(h,{points:p,allClipped:!!(b[0]>C[1]||b[1]<C[0]||w[0]>E[1]||w[1]<E[0])});var H=d.getItemModel(h).getModel("itemStyle").getItemStyle(),it=jS(l,"color");H.fill||(H.fill=it,si(H.fill)&&(H.fill=hA(H.fill,.4))),H.stroke||(H.stroke=it),d.setItemVisual(h,"style",H)}),d.diff(WP(u).data).add(function(h){var p=d.getItemLayout(h);if(!p.allClipped){var g=new $d({shape:{points:p.points}});d.setItemGraphicEl(h,g),u.group.add(g)}}).update(function(h,p){var g=WP(u).data.getItemGraphicEl(p),y=d.getItemLayout(h);y.allClipped?g&&u.group.remove(g):(g?va(g,{shape:{points:y.points}},i,h):g=new $d({shape:{points:y.points}}),d.setItemGraphicEl(h,g),u.group.add(g))}).remove(function(h){var p=WP(u).data.getItemGraphicEl(h);u.group.remove(p)}).execute(),d.eachItemGraphicEl(function(h,p){var g=d.getItemModel(p),y=d.getItemVisual(p,"style");h.useStyle(d.getItemVisual(p,"style")),Hu(h,uu(g),{labelFetcher:i,labelDataIndex:p,defaultText:d.getName(p)||"",inheritColor:si(y.fill)?hA(y.fill,1):"#000"}),Gu(h,g),$l(h,null,null,g.get(["emphasis","disabled"])),Ar(h).dataModel=i}),WP(u).data=d,u.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(s4);const k7t=I7t;var O7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return vn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),Ln(i)&&Xt(i,function(o,a){si(o)&&(o={type:o}),i[a]=Yr(o,function(n,e){return"all"===e?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(l){var u;if(r.push(l.name),l.legendVisualProvider){var h=l.legendVisualProvider.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?i=i.concat(h):u=!0}else u=!0;u&&hB(l)&&i.push(l.name)}),this._availableNames=r;var o=this.get("data")||i,a=Wi(),s=Nn(o,function(l){return(si(l)||ua(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new sl(l,this,this.ecModel))},this);this._data=Ss(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&Xt(this._data,function(a){i[a.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var i=this.option.selected;Xt(this._data,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var i=this.option.selected;Xt(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&so(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ha);const c4=O7t;var Sx=Lr,u4=Xt,YP=br,N7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return vn(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new YP),this.group.add(this._selectorGroup=new YP),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),s=t.get("orient");(!a||"auto"===a)&&(a="right"===t.get("left")&&"vertical"===s?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(a,t,i,r,l,s,c);var u=t.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},h=t.get("padding"),p=eu(u,d,h),g=this.layoutInner(t,a,p,o,l,c),y=eu(er({width:g.width,height:g.height},u),d,h);this.group.x=y.x-g.x,this.group.y=y.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=rst(g,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,a,s,l){var c=this.getContentGroup(),u=Wi(),d=i.get("selectedMode"),h=[];r.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),u4(i.getData(),function(p,g){var y=p.get("name");if(!this.newlineDisabled&&(""===y||"\n"===y)){var b=new YP;return b.newline=!0,void c.add(b)}var w=r.getSeriesByName(y)[0];if(!u.get(y))if(w){var C=w.getData(),E=C.getVisual("legendLineStyle")||{},k=C.getVisual("legendIcon"),j=C.getVisual("style");this._createItem(w,y,g,p,i,t,E,j,k,d,o).on("click",Sx(qst,y,null,o,h)).on("mouseover",Sx(d4,w.name,null,o,h)).on("mouseout",Sx(h4,w.name,null,o,h)),u.set(y,!0)}else r.eachRawSeries(function(it){if(!u.get(y)&&it.legendVisualProvider){var yt=it.legendVisualProvider;if(!yt.containName(y))return;var lt=yt.indexOfName(y),Lt=yt.getItemVisual(lt,"style"),kt=yt.getItemVisual(lt,"legendIcon"),Jt=Wd(Lt.fill);Jt&&0===Jt[3]&&(Jt[3]=.2,Lt=An(An({},Lt),{fill:pp(Jt,"rgba")})),this._createItem(it,y,g,p,i,t,{},Lt,kt,d,o).on("click",Sx(qst,null,y,o,h)).on("mouseover",Sx(d4,null,y,o,h)).on("mouseout",Sx(h4,null,y,o,h)),u.set(y,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},e.prototype._createSelector=function(t,i,r,o,a){var s=this.getSelectorGroup();u4(t,function(c){var u=c.type,d=new da({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(d),Hu(d,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),Z_(d)})},e.prototype._createItem=function(t,i,r,o,a,s,l,c,u,d,h){var p=t.visualDrawType,g=a.get("itemWidth"),y=a.get("itemHeight"),b=a.isSelected(i),w=o.get("symbolRotate"),C=o.get("symbolKeepAspect"),E=o.get("icon"),k=function F7t(n,e,t,i,r,o,a){function s(b,w){"auto"===b.lineWidth&&(b.lineWidth=w.lineWidth>0?2:0),u4(b,function(C,E){"inherit"===b[E]&&(b[E]=w[E])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=0===n.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");c.decal=d&&"inherit"!==d?nx(d,a):i.decal,"inherit"===c.fill&&(c.fill=i[r]),"inherit"===c.stroke&&(c.stroke=i[u]),"inherit"===c.opacity&&(c.opacity=("fill"===r?i:t).opacity),s(c,i);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(s(p,t),"auto"===c.fill&&(c.fill=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),!o){var g=e.get("inactiveBorderWidth");c.lineWidth="auto"===g?i.lineWidth>0&&c[u]?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}(u=E||u||"roundRect",o,l,c,p,b,h),j=new YP,H=o.getModel("textStyle");if(!Ki(t.getLegendIcon)||E&&"inherit"!==E){var it="inherit"===E&&t.getData().getVisual("symbol")?"inherit"===w?t.getData().getVisual("symbolRotate"):w:0;j.add(function B7t(n){var e=n.icon||"roundRect",t=Vc(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:g,itemHeight:y,icon:u,iconRotate:it,itemStyle:k.itemStyle,lineStyle:k.lineStyle,symbolKeepAspect:C}))}else j.add(t.getLegendIcon({itemWidth:g,itemHeight:y,icon:u,iconRotate:w,itemStyle:k.itemStyle,lineStyle:k.lineStyle,symbolKeepAspect:C}));var yt="left"===s?g+5:-5,lt=s,Lt=a.get("formatter"),kt=i;si(Lt)&&Lt?kt=Lt.replace("{name}",i??""):Ki(Lt)&&(kt=Lt(i));var Jt=o.get("inactiveColor");j.add(new da({style:al(H,{text:kt,x:yt,y:y/2,fill:b?H.getTextColor():Jt,align:lt,verticalAlign:"middle"})}));var ne=new aa({shape:j.getBoundingRect(),invisible:!0}),ce=o.getModel("tooltip");return ce.get("show")&&Kb({el:ne,componentModel:a,itemName:i,itemTooltipOption:ce.option}),j.add(ne),j.eachChild(function(Ee){Ee.silent=!0}),ne.silent=!d,this.getContentGroup().add(j),Z_(j),j.__legendDataIndex=r,j},e.prototype.layoutInner=function(t,i,r,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();Q_(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){Q_("horizontal",c,t.get("selectorItemGap",!0));var h=c.getBoundingRect(),p=[-h.x,-h.y],g=t.get("selectorButtonGap",!0),y=t.getOrient().index,b=0===y?"width":"height",w=0===y?"height":"width",C=0===y?"y":"x";"end"===s?p[y]+=u[b]+g:d[y]+=h[b]+g,p[1-y]+=u[w]/2-h[w]/2,c.x=p[0],c.y=p[1],l.x=d[0],l.y=d[1];var E={x:0,y:0};return E[b]=u[b]+g+h[b],E[w]=Math.max(u[w],h[w]),E[C]=Math.min(0,h[C]+p[1-y]),E}return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(ql);function qst(n,e,t,i){h4(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),d4(n,e,t,i)}function Kst(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function d4(n,e,t,i){Kst(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function h4(n,e,t,i){Kst(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}const Qst=N7t;function V7t(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function BC(n,e,t){var o,i={},r="toggleSelected"===n;return t.eachComponent("legend",function(a){r&&null!=o?a[o?"select":"unSelect"](e.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](e.name),o=a.isSelected(e.name)),Xt(a.getData(),function(l){var c=l.get("name");if("\n"!==c&&""!==c){var u=a.isSelected(c);i[c]=i.hasOwnProperty(c)?i[c]&&u:u}})}),"allSelect"===n||"inverseSelect"===n?{selected:i}:{name:e.name,selected:i}}function Jst(n){n.registerComponentModel(c4),n.registerComponentView(Qst),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,V7t),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function z7t(n){n.registerAction("legendToggleSelect","legendselectchanged",Lr(BC,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Lr(BC,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Lr(BC,"inverseSelect")),n.registerAction("legendSelect","legendselected",Lr(BC,"select")),n.registerAction("legendUnSelect","legendunselected",Lr(BC,"unSelect"))}(n)}var U7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=Ub(t);n.prototype.init.call(this,t,i,r),tlt(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),tlt(this,this.option,t)},e.type="legend.scroll",e.defaultOption=$g(c4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(c4);function tlt(n,e,t){var r=[1,1];r[n.getOrient().index]=0,qg(e,t,{type:"box",ignoreSize:!!r})}const G7t=U7t;var elt=br,f4=["width","height"],p4=["x","y"],H7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return vn(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new elt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new elt)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,a,s,l){var c=this;n.prototype.renderInner.call(this,t,i,r,o,a,s,l);var u=this._controllerGroup,d=i.get("pageIconSize",!0),h=Ln(d)?d:[d,d];g("pagePrev",0);var p=i.getModel("pageTextStyle");function g(y,b){var w=y+"DataIndex",C=VS(i.get("pageIcons",!0)[i.getOrient().name][b],{onclick:vi(c._pageGo,c,w,i,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});C.name=y,u.add(C)}u.add(new da({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},e.prototype.layoutInner=function(t,i,r,o,a,s){var l=this.getSelectorGroup(),c=t.getOrient().index,u=f4[c],d=p4[c],h=f4[1-c],p=p4[1-c];a&&Q_("horizontal",l,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),y=l.getBoundingRect(),b=[-y.x,-y.y],w=ur(r);a&&(w[u]=r[u]-y[u]-g);var C=this._layoutContentAndController(t,o,w,c,u,h,p,d);if(a){if("end"===s)b[c]+=C[u]+g;else{var E=y[u]+g;b[c]-=E,C[d]-=E}C[u]+=y[u]+g,b[1-c]+=C[p]+C[h]/2-y[h]/2,C[h]=Math.max(C[h],y[h]),C[p]=Math.min(C[p],y[p]+b[1-c]),l.x=b[0],l.y=b[1],l.markRedraw()}return C},e.prototype._layoutContentAndController=function(t,i,r,o,a,s,l,c){var u=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;Q_(t.get("orient"),u,t.get("itemGap"),o?r.width:null,o?null:r.height),Q_("horizontal",h,t.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),g=h.getBoundingRect(),y=this._showController=p[a]>r[a],b=[-p.x,-p.y];i||(b[o]=u[c]);var w=[0,0],C=[-g.x,-g.y],E=Xr(t.get("pageButtonGap",!0),t.get("itemGap",!0));y&&("end"===t.get("pageButtonPosition",!0)?C[o]+=r[a]-g[a]:w[o]+=g[a]+E),C[1-o]+=p[s]/2-g[s]/2,u.setPosition(b),d.setPosition(w),h.setPosition(C);var j={x:0,y:0};if(j[a]=y?r[a]:p[a],j[s]=Math.max(p[s],g[s]),j[l]=Math.min(0,g[l]+C[1-o]),d.__rectSize=r[a],y){var H={x:0,y:0};H[a]=Math.max(r[a]-g[a]-E,0),H[s]=j[s],d.setClipPath(new aa({shape:H})),d.__rectSize=H[a]}else h.eachChild(function(yt){yt.attr({invisible:!0,silent:!0})});var it=this._getPageInfo(t);return null!=it.pageIndex&&va(u,{x:it.contentPosition[0],y:it.contentPosition[1]},y?t:null),this._updatePageInfoView(t,it),j},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;Xt(["pagePrev","pageNext"],function(u){var h=null!=i[u+"DataIndex"],p=r.childOfName(u);p&&(p.setStyle("fill",t.get(h?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var o=r.childOfName("pageText"),a=t.get("pageFormatter"),s=i.pageIndex,l=null!=s?s+1:0,c=i.pageCount;o&&a&&o.setStyle("text",si(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):a({current:l,total:c}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=t.getOrient().index,s=f4[a],l=p4[a],c=this._findTargetItemIndex(i),u=r.children(),d=u[c],h=u.length,p=h?1:0,g={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var y=k(d);g.contentPosition[a]=-y.s;for(var b=c+1,w=y,C=y,E=null;b<=h;++b)(!(E=k(u[b]))&&C.e>w.s+o||E&&!j(E,w.s))&&(w=C.i>w.i?C:E)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=w.i),++g.pageCount),C=E;for(b=c-1,w=y,C=y,E=null;b>=-1;--b)(!(E=k(u[b]))||!j(C,E.s))&&w.i<C.i&&(C=w,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=w.i),++g.pageCount,++g.pageIndex),w=E;return g;function k(H){if(H){var it=H.getBoundingRect(),yt=it[l]+H[l];return{s:yt,e:yt+it[s],i:H.__legendDataIndex}}}function j(H,it){return H.e>=it&&H.s<=it+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(a,s){var l=a.__legendDataIndex;null==o&&null!=l&&(o=s),l===t&&(i=s)}),i??o):0;var i,o},e.type="legend.scroll",e}(Qst);const j7t=H7t;function Z7t(n){lo(Jst),n.registerComponentModel(G7t),n.registerComponentView(j7t),function W7t(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(i)})})}(n)}var X7t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="dataZoom.inside",e.defaultOption=$g(RC.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(RC);const $7t=X7t;var m4=oa();function nlt(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function J7t(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function tYt(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}var iYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return vn(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function q7t(n,e,t){m4(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}(r,t,{pan:vi(g4.pan,this),zoom:vi(g4.zoom,this),scrollMove:vi(g4.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function K7t(n,e){for(var t=m4(n).coordSysRecordMap,i=t.keys(),r=0;r<i.length;r++){var a=t.get(i[r]),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||nlt(t,a))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(U5),g4={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=v4[e](null,[i.originX,i.originY],a,t,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-l)*c+l,o[1]=(o[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Dy(0,o,[0,100],0,u.minSpan,u.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}},pan:ilt(function(n,e,t,i,r,o){var a=v4[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:ilt(function(n,e,t,i,r,o){return v4[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t).signal*(n[1]-n[0])*o.scrollDelta})};function ilt(n){return function(e,t,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s&&(Dy(n(a,s,e,t,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]))return a}}var v4={grid:function(n,e,t,i,r){var o=t.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=e[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,e,t,i,r){var o=t.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),"radiusAxis"===t.mainType?(a.pixel=e[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,e,t,i,r){var o=t.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};const rYt=iYt;function rlt(n){G5(n),n.registerComponentModel($7t),n.registerComponentView(rYt),function nYt(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=m4(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=Wi());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){Xt(Qat(o).infoList,function(s){var l=s.model.uid,c=r.get(l)||r.set(l,function Q7t(n,e){var t={model:e,containsPoint:Lr(tYt,e),dispatchAction:Lr(J7t,n),dataZoomInfoMap:null,controller:null},i=t.controller=new gC(n.getZr());return Xt(["pan","zoom","scrollMove"],function(r){i.on(r,function(o){var a=[];t.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],c=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,o);!s.model.get("disabled",!0)&&c&&a.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),a.length&&t.dispatchAction(a)})}),t}(t,s.model));(c.dataZoomInfoMap||(c.dataZoomInfoMap=Wi())).set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),r.each(function(o){var s,a=o.controller,l=o.dataZoomInfoMap;if(l){var c=l.keys()[0];null!=c&&(s=l.get(c))}if(s){var u=function eYt(n){var e,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(o){var a=o.model,s=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");i[t+s]>i[t+e]&&(e=s),r=r&&a.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(l);a.enable(u.controlType,u.opt),a.setPointerChecker(o.containsPoint),Qb(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else nlt(r,o)})})}(n)}var oYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=$g(RC.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(RC);const aYt=oYt;var VC=aa,zC="horizontal",cYt=5,uYt=["line","bar","candlestick","scatter"],dYt={easing:"cubicOut",duration:100,delay:0},hYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return vn(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=vi(this._onBrush,this),this._onBrushEnd=vi(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),Qb(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!o||"dataZoom"!==o.type||o.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){US(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new br;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,o=t.get("brushSelect")?7:0,a=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},l=this._orient===zC?{right:s.width-a.x-a.width,top:s.height-30-7-o,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},c=Ub(t.option);Xt(["right","top","width","height"],function(d){"ph"===c[d]&&(c[d]=l[d])});var u=eu(c,s);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],"vertical"===this._orient&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==zC||a?r===zC&&a?{scaleY:l?1:-1,scaleX:-1}:"vertical"!==r||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var c=t.getBoundingRect([s]);t.x=i.x-c.x,t.y=i.y-c.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new VC({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new VC({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:vi(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=this._shadowSize||[],o=t.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():t.otherDim;if(null!=l){var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var d=a.getDataExtent(l),h=.3*(d[1]-d[0]);d=[d[0]-h,d[1]+h];var k,p=[0,i[1]],y=[[i[0],0],[0,0]],b=[],w=i[0]/(a.count()-1),C=0,E=Math.round(a.count()/i[0]);a.each([l],function(lt,Lt){if(E>0&&Lt%E)C+=w;else{var kt=null==lt||isNaN(lt)||""===lt,Jt=kt?0:_s(lt,d,p,!0);kt&&!k&&Lt?(y.push([y[y.length-1][0],0]),b.push([b[b.length-1][0],0])):!kt&&k&&(y.push([C,0]),b.push([C,0])),y.push([C,Jt]),b.push([C,Jt]),C+=w,k=kt}}),c=this._shadowPolygonPts=y,u=this._shadowPolylinePts=b}this._shadowData=a,this._shadowDim=l,this._shadowSize=[i[0],i[1]];for(var Lt,kt,Jt,ne,j=this.dataZoomModel,it=0;it<3;it++){var yt=(Lt=void 0,kt=void 0,void 0,void 0,Lt=j.getModel(1===it?"selectedDataBackground":"dataBackground"),kt=new br,Jt=new $d({shape:{points:c},segmentIgnoreThreshold:1,style:Lt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ne=new qd({shape:{points:u},segmentIgnoreThreshold:1,style:Lt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),kt.add(Jt),kt.add(ne),kt);this._displayables.sliderGroup.add(yt),this._displayables.dataShadowSegs.push(yt)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return t.eachTargetAxis(function(a,s){Xt(t.getAxisProxy(a,s).getTargetSeriesModels(),function(c){if(!(r||!0!==i&&so(uYt,c.get("type"))<0)){var h,u=o.getComponent(hv(a),s).axis,d=function fYt(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(a),p=c.coordinateSystem;null!=d&&p.getOtherAxis&&(h=p.getOtherAxis(u).inverse),d=c.getData().mapDimension(d),r={thisAxis:u,series:c,thisDim:a,otherDim:d,otherAxisInverse:h}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,d=l.get("brushSelect"),h=i.filler=new VC({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(h),a.add(new VC({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Xt([0,1],function(E){var k=l.get("handleIcon");!SI[k]&&k.indexOf("path://")<0&&k.indexOf("image://")<0&&(k="path://"+k);var j=Vc(k,-1,0,2,2,null,!0);j.attr({cursor:slt(this._orient),draggable:!0,drift:vi(this._onDragMove,this,E),ondragend:vi(this._onDragEnd,this),onmouseover:vi(this._showDataInfo,this,!0),onmouseout:vi(this._showDataInfo,this,!1),z2:5});var H=j.getBoundingRect(),it=l.get("handleSize");this._handleHeight=ni(it,this._size[1]),this._handleWidth=H.width/H.height*this._handleHeight,j.setStyle(l.getModel("handleStyle").getItemStyle()),j.style.strokeNoScale=!0,j.rectHover=!0,j.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Z_(j);var yt=l.get("handleColor");null!=yt&&(j.style.fill=yt),a.add(r[E]=j);var lt=l.getModel("textStyle");t.add(o[E]=new da({silent:!0,invisible:!0,style:al(lt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:lt.getTextColor(),font:lt.getFont()}),z2:10}))},this);var p=h;if(d){var g=ni(l.get("moveHandleSize"),s[1]),y=i.moveHandle=new aa({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),b=.8*g,w=i.moveHandleIcon=Vc(l.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);w.silent=!0,w.y=s[1]+g/2-.5,y.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var C=Math.min(s[1]/2,Math.max(g,10));(p=i.moveZone=new aa({invisible:!0,shape:{y:s[1]-C,height:g+C}})).on("mouseover",function(){c.enterEmphasis(y)}).on("mouseout",function(){c.leaveEmphasis(y)}),a.add(y),a.add(w),a.add(p)}p.attr({draggable:!0,cursor:slt(this._orient),drift:vi(this._onDragMove,this,"all"),ondragstart:vi(this._showDataInfo,this,!0),ondragend:vi(this._onDragEnd,this),onmouseover:vi(this._showDataInfo,this,!0),onmouseout:vi(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[_s(t[0],[0,100],i,!0),_s(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Dy(i,o,a,r.get("zoomLock")?"all":t,null!=s.minSpan?_s(s.minSpan,l,a,!0):null,null!=s.maxSpan?_s(s.maxSpan,l,a,!0):null);var c=this._range,u=this._range=Wh([_s(o[0],a,l,!0),_s(o[1],a,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=Wh(r.slice()),a=this._size;Xt([0,1],function(p){var y=this._handleHeight;i.handles[p].attr({scaleX:y/2,scaleY:y/2,x:r[p]+(p?-1:1),y:a[1]/2-y/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,c=[0,o[0],o[1],a[0]],u=0;u<l.length;u++){var d=l[u],h=d.getClipPath();h||(h=new aa,d.setClipPath(h)),h.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:a[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,d=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],c),this._formatLabel(d[1],c)]}}var h=Wh(this._handleEnds.slice());function p(g){var y=oy(r.handles[g].parent,this.group),b=_I(0===g?"right":"left",y),w=this._handleWidth/2+cYt,C=Bf([h[g]+(0===g?-w:w),this._size[1]/2],y);o[g].setStyle({x:C[0],y:C[1],verticalAlign:a===zC?"middle":b,align:a===zC?b:"center",text:s[g]})}p.call(this,0),p.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");(null==a||"auto"===a)&&(a=i.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return Ki(o)?o(t,s):si(o)?o.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(t=this._dragging||t)),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,Mm(o.event);var s=Bf([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){this._brushStart=new Hr(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=Wh([_s(r.x,a,s,!0),_s(r.x+r.width,a,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Mm(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new VC({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(t,i),u=l.transformCoordToLocal(s.x,s.y),d=this._size;c[0]=Math.max(Math.min(d[0],c[0]),0),a.setShape({x:u[0],y:0,width:c[0]-u[0],height:d[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?dYt:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=Qat(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),a=this.api.getHeight();t={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return t},e.type="dataZoom.slider",e}(U5);function slt(n){return"vertical"===n?"ns-resize":"ew-resize"}const pYt=hYt;function llt(n){n.registerComponentModel(aYt),n.registerComponentView(pYt),G5(n)}var gYt={get:function(n,e,t){var i=ur((vYt[n]||{})[e]);return t&&Ln(i)?i[i.length-1]:i}},vYt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const clt=gYt;var ult=Wu.mapVisual,_Yt=Wu.eachVisual,yYt=Ln,dlt=Xt,bYt=Wh,xYt=_s,wYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return vn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){!i&&Dst(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=vi(t,this),this.controllerVisuals=K5(this.option.controller,i,t),this.targetVisuals=K5(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Ps(t),i},e.prototype.eachTargetSeries=function(t,i){Xt(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var c,o=this.option,a=o.precision,s=this.dataBound,l=o.formatter;r=r||["<",">"],Ln(t)&&(t=t.slice(),c=!0);var u=i?t:c?[d(t[0]),d(t[1])]:d(t);return si(l)?l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u):Ki(l)?c?l(t[0],t[1]):l(t):c?t[0]===s[0]?r[0]+" "+u[1]:t[1]===s[1]?r[1]+" "+u[0]:u[0]+" - "+u[1]:u;function d(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,i=bYt([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var s=t.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});Yr(o,r),Yr(a,r);var s=this.isCategory();function l(d){yYt(i.color)&&!d.inRange&&(d.inRange={color:i.color.slice().reverse()}),d.inRange=d.inRange||{color:t.get("gradientColor")}}l.call(this,o),l.call(this,a),function c(d,h,p){var g=d[h],y=d[p];g&&!y&&(y=d[p]={},dlt(g,function(b,w){if(Wu.isValidType(w)){var C=clt.get(w,"inactive",s);null!=C&&(y[w]=C,"color"===w&&!y.hasOwnProperty("opacity")&&!y.hasOwnProperty("colorAlpha")&&(y.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function u(d){var h=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,p=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),b=this.getItemSymbol()||"roundRect";dlt(this.stateList,function(w){var C=this.itemSize,E=d[w];E||(E=d[w]={color:s?g:[g]}),null==E.symbol&&(E.symbol=h&&ur(h)||(s?b:[b])),null==E.symbolSize&&(E.symbolSize=p&&ur(p)||(s?C[0]:[C[0],C[0]])),E.symbol=ult(E.symbol,function(H){return"none"===H?b:H});var k=E.symbolSize;if(null!=k){var j=-1/0;_Yt(k,function(H){H>j&&(j=H)}),E.symbolSize=ult(k,function(H){return xYt(H,[0,j],[0,C[0]],!0)})}},this)}.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ha);const XP=wYt;var hlt=[20,140],SYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=hlt[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=hlt[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):Ln(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Xt(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Wh((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){t[0]<=s&&s<=t[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=flt(0,0,this.getExtent()),r=flt(0,0,this.option.range.slice()),o=[];function a(p,g){o.push({value:p,color:t(p,g)})}for(var s=0,l=0,c=r.length,u=i.length;l<u&&(!r.length||i[l]<=r[0]);l++)i[l]<r[s]&&a(i[l],"outOfRange");for(var d=1;s<c;s++,d=0)d&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(d=1;l<u;l++)(!r.length||r[r.length-1]<i[l])&&(d&&(o.length&&a(o[o.length-1].value,"outOfRange"),d=0),a(i[l],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=$g(XP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(XP);function flt(n,e,t){if(t[0]===t[1])return t.slice();for(var r=(t[1]-t[0])/200,o=t[0],a=[],s=0;s<=200&&o<t[1];s++)a.push(o),o+=r;return a.push(t[1]),a}const CYt=SYt;var MYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return vn(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,r,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=zb(i.get("padding")||0),o=t.getBoundingRect();t.add(new aa({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===i){var l=a.get("contentColor");s.color=l}function c(p){return s[p]}function u(p,g){s[p]=g}var d=a.controllerVisuals[o||a.getValueState(t)];return Xt(Wu.prepareVisualTypes(d),function(p){var g=d[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",g=d.__alphaForOpacity),Wu.dependsOn(p,i)&&g&&g.applyVisual(t,c,u)}),s[i]},e.prototype.positionGroup=function(t){var r=this.api;QA(t,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(ql);const plt=MYt;var mlt=[["left","right","width"],["top","bottom","height"]];function glt(n,e,t){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=mlt[a],l=[0,null,10],c={},u=0;u<3;u++)c[mlt[1-a][u]]=l[u],c[s[u]]=2===u?t[0]:i[s[u]];var d=[["x","width",3],["y","height",0]][a],h=eu(c,o,i.padding);return s[(h.margin[d[2]]||0)+h[d[0]]+.5*h[d[1]]<.5*o[d[1]]?0:1]}function $P(n,e){return Xt(n||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Lp=_s,EYt=Xt,vlt=Math.min,y4=Math.max,AYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return vn(e,n),e.prototype.doRender=function(t,i,r,o){this._api=r,(!o||"selectDataRange"!==o.type||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],c),d=this._applyTransform(0===r?"bottom":"top",c),h=this._orient;this.group.add(new da({style:al(this.visualMapModel.textStyleModel,{x:u[0],y:u[1],verticalAlign:"horizontal"===h?"middle":d,align:"horizontal"===h?d:"center",text:o})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,s=this._useHandle,l=glt(i,this.api,o),c=r.mainGroup=this._createBarGroup(l),u=new br;c.add(u),u.add(r.outOfRange=_lt()),u.add(r.inRange=_lt(null,s?blt(this._orient):null,vi(this._dragHandle,this,"all",!1),vi(this._dragHandle,this,"all",!0))),u.setClipPath(new aa({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var d=i.textStyleModel.getTextRect("\u56fd"),h=y4(d.width,d.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,c,0,o,h,a),this._createHandle(i,c,1,o,h,a)),this._createIndicator(i,c,o,h,a),t.add(c)},e.prototype._createHandle=function(t,i,r,o,a,s){var l=vi(this._dragHandle,this,r,!1),c=vi(this._dragHandle,this,r,!0),u=Rf(t.get("handleSize"),o[0]),d=Vc(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),h=blt(this._orient);d.attr({cursor:h,draggable:!0,drift:l,ondragend:c,onmousemove:function(w){Mm(w.event)}}),d.x=o[0]/2,d.useStyle(t.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Y_(d,!0),i.add(d);var g=new da({cursor:h,draggable:!0,drift:l,onmousemove:function(w){Mm(w.event)},ondragend:c,style:al(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var y=[u,0],b=this._shapes;b.handleThumbs[r]=d,b.handleLabelPoints[r]=y,b.handleLabels[r]=g},e.prototype._createIndicator=function(t,i,r,o,a){var s=Rf(t.get("indicatorSize"),r[0]),l=Vc(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Uu){var u=l.style;l.useStyle(An({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);i.add(l);var h=new da({silent:!0,invisible:!0,style:al(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(h);var p=[("horizontal"===a?o/2:6)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():ylt(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[Lp(i[0],r,o,!0),Lp(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];Dy(i=i||0,o,a,t,0);var s=r.getExtent();this._dataInterval=[Lp(o[0],a,s,!0),Lp(o[1],a,s,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],s=t?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),c=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,a),l=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],c=this._createBarPoints(r,l);return{barColor:new Tp(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var o=[],a=(t[1]-t[0])/100;o.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var s=1;s<100;s++){var l=t[0]+a*s;if(l>t[1])break;o.push({color:this.getControllerVisual(l,"color",i),offset:s/100})}return o.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),o},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new br("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,c=o.getExtent();EYt([0,1],function(u){var d=a[u];d.setStyle("fill",i.handlesColor[u]),d.y=t[u];var h=Lp(t[u],[0,l[1]],c,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var g=Bf(r.handleLabelPoints[u],oy(d,this.group));s[u].setStyle({x:g[0],y:g[1],text:o.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,c=[0,l[1]],u=this._shapes,d=u.indicator;if(d){d.attr("invisible",!1);var p=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),g=this.getControllerVisual(t,"symbolSize"),y=Lp(t,s,c,!0),b=l[0]-g/2,w={x:d.x,y:d.y};d.y=y,d.x=b;var C=Bf(u.indicatorLabelPoint,oy(d,this.group)),E=u.indicatorLabel;E.attr("invisible",!1);var k=this._applyTransform("left",u.mainGroup),H="horizontal"===this._orient;E.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:H?k:"middle",align:H?"center":k});var it={x:b,y,style:{fill:p}},yt={style:{x:C[0],y:C[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var lt={duration:100,easing:"cubicInOut",additive:!0};d.x=w.x,d.y=w.y,d.animateTo(it,lt),E.animateTo(yt,lt)}else d.attr(it),E.attr(yt);this._firstShowIndicator=!1;var Lt=this._shapes.handleLabels;if(Lt)for(var kt=0;kt<Lt.length;kt++)this._api.enterBlur(Lt[kt])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=vlt(y4(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();t=vlt(y4(a[0],t),a[1]);var l=function IYt(n,e,t){var i=6,r=n.get("hoverLinkDataSize");return r&&(i=Lp(r,e,t,!0)/2),i}(r,s,a),c=[t-l,t+l],u=Lp(t,a,s,!0),d=[Lp(c[0],a,s,!0),Lp(c[1],a,s,!0)];c[0]<a[0]&&(d[0]=-1/0),c[1]>a[1]&&(d[1]=1/0),i&&(d[0]===-1/0?this._showIndicator(u,d[1],"< ",l):d[1]===1/0?this._showIndicator(u,d[0],"> ",l):this._showIndicator(u,u,"\u2248 ",l));var h=this._hoverLinkDataIndices,p=[];(i||ylt(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(d));var g=function dRt(n,e){var t={},i={};return r(n||[],t),r(e||[],i,t),[o(t),o(i)];function r(a,s,l){for(var c=0,u=a.length;c<u;c++){var d=tu(a[c].seriesId,null);if(null==d)return;for(var h=Ps(a[c].dataIndex),p=l&&l[d],g=0,y=h.length;g<y;g++){var b=h[g];p&&p[b]?p[b]=null:(s[d]||(s[d]={}))[b]=1}}}function o(a,s){var l=[];for(var c in a)if(a.hasOwnProperty(c)&&null!=a[c])if(s)l.push(+c);else{var u=o(a[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}(h,p);this._dispatchHighDown("downplay",$P(g[0],r)),this._dispatchHighDown("highlight",$P(g[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(ay(t.target,function(l){var c=Ar(l);if(null!=c.dataIndex)return i=c,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(i.dataType),s=a.getStore().get(o.getDataDimensionIndex(a),i.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",$P(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var a=oy(i,o?null:this.group);return Ln(t)?Bf(t,a,r):_I(t,a,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(plt);function _lt(n,e,t,i){return new $d({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){Mm(r.event)},ondragend:i})}function ylt(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function blt(n){return"vertical"===n?"ns-resize":"ew-resize"}const PYt=AYt;var kYt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},RYt=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},LYt=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r=n.pipelineContext;!i.isTargetSeries(n)||r&&r.large||t.push(function D9t(n,e,t,i){var r={};return Xt(n,function(o){var a=Wu.prepareVisualTypes(e[o]);r[o]=a}),{progress:function(a,s){var l;function c(j){return z3(s,d,j)}function u(j,H){HJ(s,d,j,H)}null!=i&&(l=s.getDimensionIndex(i));for(var d,h=s.getStore();null!=(d=a.next());){var p=s.getRawDataItem(d);if(!p||!1!==p.visualMap)for(var g=null!=i?h.get(l,d):d,y=t(g),b=e[y],w=r[y],C=0,E=w.length;C<E;C++){var k=w[C];b[k]&&b[k].applyVisual(g,c,u)}}}}}(i.stateList,i.targetVisuals,vi(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(vi(OYt,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(t);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function OYt(n,e,t,i){for(var r=e.targetVisuals[i],o=Wu.prepareVisualTypes(r),a={color:jS(n.getData(),"color")},s=0,l=o.length;s<l;s++){var c=o[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(t,d,h)}return a.color;function d(p){return a[p]}function h(p,g){a[p]=g}}var xlt=Xt;function NYt(n){var e=n&&n.visualMap;Ln(e)||(e=e?[e]:[]),xlt(e,function(t){if(t){Cx(t,"splitList")&&!Cx(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&Ln(i)&&xlt(i,function(r){or(r)&&(Cx(r,"start")&&!Cx(r,"min")&&(r.min=r.start),Cx(r,"end")&&!Cx(r,"max")&&(r.max=r.end))})}})}function Cx(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var wlt=!1;function Slt(n){wlt||(wlt=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(kYt,RYt),Xt(LYt,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(NYt))}function Clt(n){n.registerComponentModel(CYt),n.registerComponentView(PYt),Slt(n)}var FYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return vn(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],BYt[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=ur(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=Nn(this._pieceList,function(l){return l=ur(l),"inRange"!==s&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=Wu.listVisualTypes(),o=this.isCategory();function a(s,l,c){return s&&s[l]&&s[l].hasOwnProperty(c)}Xt(t.pieces,function(s){Xt(r,function(l){s.hasOwnProperty(l)&&(i[l]=1)})}),Xt(i,function(s,l){var c=!1;Xt(this.stateList,function(u){c=c||a(t,u,l)||a(t.target,u,l)},this),!c&&Xt(this.stateList,function(u){(t[u]||(t[u]={}))[l]=clt.get(l,"inRange"===u?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,a=(i?r:t).selected||{};if(r.selected=a,Xt(o,function(l,c){var u=this.getSelectedMapKey(l);a.hasOwnProperty(u)||(a[u]=!0)},this),"single"===r.selectedMode){var s=!1;Xt(o,function(l,c){var u=this.getSelectedMapKey(l);a[u]&&(s?a[u]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=ur(t)},e.prototype.getValueState=function(t){var i=Wu.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,c){Wu.findPieceIndex(l,r)===t&&a.push(c)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],o=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var c=-1/0;return Xt(s,function(u){var d=u.interval;d&&(d[0]>c&&a([c,d[0]],"outOfRange"),a(d.slice()),c=d[1])},this),{stops:i,outerColors:r}}function a(u,d){var h=o.getRepresentValue({interval:u});d||(d=o.getValueState(h));var p=t(h,d);u[0]===-1/0?r[0]=p:u[1]===1/0?r[1]=p:i.push({value:u[0],color:p},{value:u[1],color:p})}},e.type="visualMap.piecewise",e.defaultOption=$g(XP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(XP),BYt={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++)n.push({interval:[s,a===r-1?i[1]:s+o],close:[1,1]});e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),J$(n),Xt(n,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(n){var e=this.option;Xt(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),Mlt(e,n)},pieces:function(n){var e=this.option;Xt(e.pieces,function(t,i){or(t)||(t={value:t});var r={text:"",index:i};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==a[d];p++)a[d]=t[h[p]],s[d]=l[p],u[d]=2===p;null==a[d]&&(a[d]=c[d])}u[0]&&a[1]===1/0&&(s[0]=0),u[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=Wu.retrieveVisuals(t),n.push(r)},this),Mlt(e,n),J$(n),Xt(n,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function Mlt(n,e){var t=n.inverse;("vertical"===n.orient?!t:t)&&e.reverse()}const VYt=FYt;var zYt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return vn(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),c=i.itemSize,u=this._getViewData(),d=u.endsText,h=bu(i.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],c,h,l),Xt(u.viewPieceList,function(p){var g=p.piece,y=new br;y.onclick=vi(this._onItemClick,this,g),this._enableHoverLink(y,p.indexInModelPieceList);var b=i.getRepresentValue(g);if(this._createItemSymbol(y,b,[0,0,c[0],c[1]]),h){var w=this.visualMapModel.getValueState(b);y.add(new da({style:{x:"right"===l?-r:c[0]+r,y:c[1]/2,text:g.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===w?.5:1}}))}t.add(y)},this),d&&this._renderEndsText(t,d[1],c,h,l),Q_(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:$P(s.findTargetDataIndices(i),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return glt(t,this.api,t.itemSize);var r=i.align;return(!r||"auto"===r)&&(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,a){if(i){var s=new br;s.add(new da({style:al(this.visualMapModel.textStyleModel,{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=Nn(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=t.get("text"),o=t.get("orient"),a=t.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(Vc(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=ur(r.selected),s=i.getSelectedMapKey(t);"single"===o||!0===o?(a[s]=!0,Xt(a,function(l,c){a[c]=c===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e}(plt);const UYt=zYt;function Elt(n){n.registerComponentModel(VYt),n.registerComponentView(UYt),Slt(n)}var HYt={label:{enabled:!0},decal:{show:!1}},Tlt=oa(),jYt={};function WYt(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=ur(HYt);Yr(i.label,n.getLocaleModel().get("aria"),!1),Yr(t.option,i,!1),function r(){if(t.getModel("decal").get("show")){var d=Wi();n.eachSeries(function(h){if(!h.isColorBySeries()){var p=d.get(h.type);p||d.set(h.type,p={}),Tlt(h).scope=p}}),n.eachRawSeries(function(h){if(!n.isSeriesFiltered(h))if(Ki(h.enableAriaDecal))h.enableAriaDecal();else{var p=h.getData();if(h.isColorBySeries()){var C=l3(h.ecModel,h.name,jYt,n.getSeriesCount()),E=p.getVisual("decal");p.setVisual("decal",k(E,C))}else{var g=h.getRawData(),y={},b=Tlt(h).scope;p.each(function(j){var H=p.getRawIndex(j);y[H]=j});var w=g.count();g.each(function(j){var H=y[j],it=g.getName(j)||j+"",yt=l3(h.ecModel,it,b,w),lt=p.getItemVisual(H,"decal");p.setItemVisual(H,"decal",k(lt,yt))})}}function k(j,H){var it=j?An(An({},H),j):H;return it.dirty=!0,it}})}}(),function o(){var c=n.getLocaleModel().get("aria"),u=t.getModel("label");if(u.option=er(u.option,c),u.get("enabled")){var d=e.getZr().dom;if(u.get("description"))return void d.setAttribute("aria-label",u.get("description"));var b,h=n.getSeriesCount(),p=u.get(["data","maxCount"])||10,g=u.get(["series","maxCount"])||10,y=Math.min(h,g);if(!(h<1)){var w=function s(){var c=n.get("title");return c&&c.length&&(c=c[0]),c&&c.text}();b=w?a(u.get(["general","withTitle"]),{title:w}):u.get(["general","withoutTitle"]);var E=[];b+=a(u.get(h>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:h}),n.eachSeries(function(yt,lt){if(lt<y){var Lt=void 0,Jt=yt.get("name")?"withName":"withoutName";Lt=a(Lt=u.get(h>1?["series","multiple",Jt]:["series","single",Jt]),{seriesId:yt.seriesIndex,seriesName:yt.get("name"),seriesType:l(yt.subType)});var ne=yt.getData();ne.count()>p?Lt+=a(u.get(["data","partialData"]),{displayCnt:p}):Lt+=u.get(["data","allData"]);for(var Ee=u.get(["data","separator","middle"]),be=u.get(["data","separator","end"]),Be=[],Ne=0;Ne<ne.count();Ne++)if(Ne<p){var Qe=ne.getName(Ne),In=ne.getValues(Ne),Fn=u.get(["data",Qe?"withName":"withoutName"]);Be.push(a(Fn,{name:Qe,value:In.join(Ee)}))}Lt+=Be.join(Ee)+be,E.push(Lt)}});var j=u.getModel(["series","multiple","separator"]),H=j.get("middle"),it=j.get("end");b+=E.join(H)+it,d.setAttribute("aria-label",b)}}}()}function a(c,u){if(!si(c))return c;var d=c;return Xt(u,function(h,p){d=d.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),d}function l(c){return n.getLocaleModel().get(["series","typeNames"])[c]||"\u81ea\u5b9a\u4e49\u56fe"}}function ZYt(n){if(n&&n.aria){var e=n.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},Xt(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var Dlt={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},XYt=function(){function n(e){var t=this._condVal=si(e)?new RegExp(e):function bPt(n){return"[object RegExp]"===yb.call(n)}(e)?e:null;null==t&&rs("")}return n.prototype.evaluate=function(e){var t=typeof e;return si(t)?this._condVal.test(e):!!ua(t)&&this._condVal.test(e+"")},n}(),$Yt=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),qYt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),KYt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),QYt=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),JYt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,i=(0,this.getValue)(this.valueGetterParam),r=e?this.valueParser(i):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?r:i))return!1;return!0},n}();function b4(n,e){if(!0===n||!1===n){var t=new $Yt;return t.value=n,t}return Ilt(n)||rs(""),n.and?Alt("and",n,e):n.or?Alt("or",n,e):n.not?function tXt(n,e){var t=n.not;Ilt(t)||rs("");var r=new QYt;return r.child=b4(t,e),r.child||rs(""),r}(n,e):function eXt(n,e){for(var i=e.prepareGetValue(n),r=[],o=Io(n),a=n.parser,s=a?EQ(a):null,l=0;l<o.length;l++){var c=o[l];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var u=xi(Dlt,c)?Dlt[c]:c,d=n[c],h=s?s(d):d,p=X2t(u,h)||"reg"===u&&new XYt(h);p||rs(""),r.push(p)}}r.length||rs("");var g=new JYt;return g.valueGetterParam=i,g.valueParser=s,g.getValue=e.getValue,g.subCondList=r,g}(n,e)}function Alt(n,e,t){var i=e[n];Ln(i)||rs(""),i.length||rs("");var o="and"===n?new qYt:new KYt;return o.children=Nn(i,function(a){return b4(a,t)}),o.children.length||rs(""),o}function Ilt(n){return or(n)&&!ad(n)}var nXt=function(){function n(e,t){this._cond=b4(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),rXt={type:"echarts:filter",transform:function(n){for(var t,e=n.upstream,i=function iXt(n,e){return new nXt(n,e)}(n.config,{valueGetterAttrMap:Wi({dimension:!0}),prepareGetValue:function(s){var c=s.dimension;xi(s,"dimension")||rs("");var u=e.getDimensionInfo(c);return u||rs(""),{dimIdx:u.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),r=[],o=0,a=e.count();o<a;o++)t=e.getRawDataItem(o),i.evaluate()&&r.push(t);return{data:r}}},oXt={type:"echarts:sort",transform:function(n){var e=n.upstream,i="",r=Ps(n.config);r.length||rs(i);var o=[];Xt(r,function(u){var d=u.dimension,h=u.order,p=u.parser,g=u.incomparable;null==d&&rs(i),"asc"!==h&&"desc"!==h&&rs(i),g&&"min"!==g&&"max"!==g&&rs(""),"asc"!==h&&"desc"!==h&&rs("");var w=e.getDimensionInfo(d);w||rs(i);var C=p?EQ(p):null;p&&!C&&rs(i),o.push({dimIdx:w.index,parser:C,comparator:new DQ(h,g)})});var a=e.sourceFormat;a!==sd&&a!==qh&&rs(i);for(var s=[],l=0,c=e.count();l<c;l++)s.push(e.getRawDataItem(l));return s.sort(function(u,d){for(var h=0;h<o.length;h++){var p=o[h],g=e.retrieveValueFromItem(u,p.dimIdx),y=e.retrieveValueFromItem(d,p.dimIdx);p.parser&&(g=p.parser(g),y=p.parser(y));var b=p.comparator.evaluate(g,y);if(0!==b)return b}return 0}),{data:s}}},sXt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return vn(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new LQ(this),OQ(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),OQ(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Cp},e}(ha),lXt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return vn(e,n),e.type="dataset",e}(ql),Op=wp.CMD;function Mx(n,e){return Math.abs(n-e)<1e-5}function x4(n){var r,ne,ce,Ee,be,Be,Ne,Qe,In,Fn,Kn,Qn,zn,zi,Gi,ar,Er,Ei,e=n.data,t=n.len(),i=[],o=0,a=0,s=0,l=0;function c(ne,ce){r&&r.length>2&&i.push(r),r=[ne,ce]}function u(ne,ce,Ee,be){Mx(ne,Ee)&&Mx(ce,be)||r.push(ne,ce,Ee,be,Ee,be)}for(var h,p,g,y,b=0;b<t;){var w=e[b++],C=1===b;switch(C&&(s=o=e[b],l=a=e[b+1],(w===Op.L||w===Op.C||w===Op.Q)&&(r=[s,l])),w){case Op.M:o=s=e[b++],a=l=e[b++],c(s,l);break;case Op.L:u(o,a,h=e[b++],p=e[b++]),o=h,a=p;break;case Op.C:r.push(e[b++],e[b++],e[b++],e[b++],o=e[b++],a=e[b++]);break;case Op.Q:h=e[b++],p=e[b++],g=e[b++],y=e[b++],r.push(o+2/3*(h-o),a+2/3*(p-a),g+2/3*(h-g),y+2/3*(p-y),g,y),o=g,a=y;break;case Op.A:var E=e[b++],k=e[b++],j=e[b++],H=e[b++],it=e[b++],yt=e[b++]+it;b+=1;var lt=!e[b++];h=Math.cos(it)*j+E,p=Math.sin(it)*H+k,C?c(s=h,l=p):u(o,a,h,p),o=Math.cos(yt)*j+E,a=Math.sin(yt)*H+k;for(var Lt=(lt?-1:1)*Math.PI/2,kt=it;lt?kt>yt:kt<yt;kt+=Lt){ne=kt,ce=lt?Math.max(kt+Lt,yt):Math.min(kt+Lt,yt),Ee=E,be=k,Be=j,Ne=H,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Qe=Math.abs(ce-ne),In=4*Math.tan(Qe/4)/3,Fn=ce<ne?-1:1,Kn=Math.cos(ne),Qn=Math.sin(ne),zn=Math.cos(ce),zi=Math.sin(ce),r.push(Kn*Be+Ee-(Er=Be*In*Fn)*Qn,Qn*Ne+be+(Ei=Ne*In*Fn)*Kn,(Gi=zn*Be+Ee)+Er*zi,(ar=zi*Ne+be)-Ei*zn,Gi,ar)}break;case Op.R:s=o=e[b++],l=a=e[b++],h=s+e[b++],p=l+e[b++],c(h,l),u(h,l,h,p),u(h,p,s,p),u(s,p,s,l),u(s,l,h,l);break;case Op.Z:r&&u(o,a,s,l),o=s,a=l}}return r&&r.length>2&&i.push(r),i}function w4(n,e,t,i,r,o,a,s,l,c){if(Mx(n,t)&&Mx(e,i)&&Mx(r,a)&&Mx(o,s))l.push(a,s);else{var u=2/c,d=u*u,h=a-n,p=s-e,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var y=t-n,b=i-e,w=r-a,C=o-s,E=y*y+b*b,k=w*w+C*C;if(E<d&&k<d)l.push(a,s);else{var j=h*y+p*b,H=-h*w-p*C;if(E-j*j<d&&j>=0&&k-H*H<d&&H>=0)l.push(a,s);else{var lt=[],Lt=[];Ug(n,t,r,a,.5,lt),Ug(e,i,o,s,.5,Lt),w4(lt[0],Lt[0],lt[1],Lt[1],lt[2],Lt[2],lt[3],Lt[3],l,c),w4(lt[4],Lt[4],lt[5],Lt[5],lt[6],Lt[6],lt[7],Lt[7],l,c)}}}}function Plt(n,e,t){var o=Math.abs(n[e]/n[1-e]),a=Math.ceil(Math.sqrt(o*t)),s=Math.floor(t/a);0===s&&(s=1,a=t);for(var l=[],c=0;c<a;c++)l.push(s);var d=t-a*s;if(d>0)for(c=0;c<d;c++)l[c%a]+=1;return l}function klt(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,s=Math.abs(n.endAngle-o),l=s*r,c=r-i,u=l>Math.abs(c),d=Plt([l,c],u?0:1,e),h=(u?s:c)/d.length,p=0;p<d.length;p++)for(var g=(u?c:s)/d[p],y=0;y<d[p];y++){var b={};u?(b.startAngle=o+h*p,b.endAngle=o+h*(p+1),b.r0=i+g*y,b.r=i+g*(y+1)):(b.startAngle=o+g*y,b.endAngle=o+g*(y+1),b.r0=i+h*p,b.r=i+h*(p+1)),b.clockwise=n.clockwise,b.cx=n.cx,b.cy=n.cy,t.push(b)}}function Rlt(n,e,t,i){return n*i-t*e}function hXt(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=Rlt(u,d,l,c);if(Math.abs(h)<1e-6)return null;var y=Rlt(n-r,e-o,u,d)/h;return y<0||y>1?null:new Hr(y*l+n,y*c+e)}function fXt(n,e,t){var i=new Hr;Hr.sub(i,t,e),i.normalize();var r=new Hr;return Hr.sub(r,n,e),r.dot(i)}function Ex(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function Llt(n){var e=n.points,t=[],i=[];RA(e,t,i);var r=new $r(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,a=r.height,s=r.x,l=r.y,c=new Hr,u=new Hr;return o>a?(c.x=u.x=s+o/2,c.y=l,u.y=l+a):(c.y=u.y=l+a/2,c.x=s,u.x=s+o),function pXt(n,e,t){for(var i=n.length,r=[],o=0;o<i;o++){var a=n[o],s=n[(o+1)%i],l=hXt(a[0],a[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&r.push({projPt:fXt(l,e,t),pt:l,idx:o})}if(r.length<2)return[{points:n},{points:n}];r.sort(function(b,w){return b.projPt-w.projPt});var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var d=c;c=u,u=d}var h=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],g=[h],y=[p];for(o=c.idx+1;o<=u.idx;o++)Ex(g,n[o].slice());for(Ex(g,p),Ex(g,h),o=u.idx+1;o<=c.idx+i;o++)Ex(y,n[o%i].slice());return Ex(y,h),Ex(y,p),[{points:g},{points:y}]}(e,c,u)}function qP(n,e,t,i){if(1===t)i.push(e);else{var r=Math.floor(t/2),o=n(e);qP(n,o[0],r,i),qP(n,o[1],t-r,i)}return i}function gXt(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function yXt(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],a=t<i?n:e,s=Math.min(t,i),l=Math.abs(i-t)/6,u=Math.ceil(l/((s-2)/6))+1,d=[a[0],a[1]],h=l,p=2;p<s;){var g=a[p-2],y=a[p-1],b=a[p++],w=a[p++],C=a[p++],E=a[p++],k=a[p++],j=a[p++];if(h<=0)d.push(b,w,C,E,k,j);else{for(var H=Math.min(h,u-1)+1,it=1;it<=H;it++){var yt=it/H;Ug(g,b,C,k,yt,r),Ug(y,w,E,j,yt,o),d.push(r[1],o[1],r[2],o[2],g=r[3],y=o[3]),b=r[5],w=o[5],C=r[6],E=o[6]}h-=H-1}}return a===n?[d,e]:[n,d]}function Olt(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function Nlt(n){for(var e=0,t=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var s=n[a],l=n[a+1],c=n[o],u=n[o+1],d=s*u-c*l;e+=d,t+=(s+c)*d,i+=(l+u)*d}return 0===e?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function xXt(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,a=0,s=n.length,l=s-2,c=0;c<r;c++){for(var u=6*c,d=0,h=0;h<s;h+=2){var p=0===h?u:(u+h-2)%l+2,C=e[h]-i[0]-(n[p]-t[0]),E=e[h+1]-i[1]-(n[p+1]-t[1]);d+=C*C+E*E}d<o&&(o=d,a=c)}return a}function wXt(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function KP(n){return n.__isCombineMorphing}var Flt="__mOriginal_";function QP(n,e,t){var i=Flt+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,a=t.after,s=t.before;n[e]=function(){var c,l=arguments;return s&&s.apply(this,l),c=o?o.apply(this,l):r.apply(this,l),a&&a.apply(this,l),c}}function UC(n,e){var t=Flt+e;n[t]&&(n[e]=n[t],n[t]=null)}function Blt(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function Vlt(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function bXt(n,e){for(var t,i,r,o=[],a=[],s=0;s<Math.max(n.length,e.length);s++){var l=n[s],c=e[s],u=void 0,d=void 0;l?c?(i=u=(t=yXt(l,c))[0],r=d=t[1]):(d=Olt(r||l,l),u=l):(u=Olt(i||c,c),d=c),o.push(u),a.push(d)}return[o,a]}(x4(t),x4(i)),o=r[0],a=r[1],s=n.getComputedTransform(),l=e.getComputedTransform();s&&Blt(o,s),l&&Blt(a,l),QP(e,"updateTransform",{replace:function c(){this.transform=null}}),e.transform=null;var u=function SXt(n,e,t,i){for(var o,r=[],a=0;a<n.length;a++){var s=n[a],l=e[a],c=Nlt(s),u=Nlt(l);null==o&&(o=c[2]<0!=u[2]<0);var d=[],h=[],p=0,g=1/0,y=[],b=s.length;o&&(s=wXt(s));for(var w=6*xXt(s,l,c,u),C=b-2,E=0;E<C;E+=2){var k=(w+E)%C+2;d[E+2]=s[k]-c[0],d[E+3]=s[k+1]-c[1]}if(d[0]=s[w]-c[0],d[1]=s[w+1]-c[1],t>0)for(var j=i/t,H=-i/2;H<=i/2;H+=j){var it=Math.sin(H),yt=Math.cos(H),lt=0;for(E=0;E<s.length;E+=2){var Lt=d[E],kt=d[E+1],Jt=l[E]-u[0],ne=l[E+1]-u[1],ce=Jt*yt-ne*it,Ee=Jt*it+ne*yt;y[E]=ce,y[E+1]=Ee;var be=ce-Lt,Be=Ee-kt;lt+=be*be+Be*Be}if(lt<g){g=lt,p=H;for(var Ne=0;Ne<y.length;Ne++)h[Ne]=y[Ne]}}else for(var Qe=0;Qe<b;Qe+=2)h[Qe]=l[Qe]-u[0],h[Qe+1]=l[Qe+1]-u[1];r.push({from:d,to:h,fromCp:c,toCp:u,rotation:-p})}return r}(o,a,10,Math.PI),d=[];QP(e,"buildPath",{replace:function(h){for(var p=e.__morphT,g=1-p,y=[],b=0;b<u.length;b++){var w=u[b],C=w.from,E=w.to,k=w.rotation*p,j=w.fromCp,H=w.toCp,it=Math.sin(k),yt=Math.cos(k);eA(y,j,H,p);for(var lt=0;lt<C.length;lt+=2){var ce=C[lt]*g+(Jt=E[lt])*p,Ee=C[lt+1]*g+(ne=E[lt+1])*p;d[lt]=ce*yt-Ee*it+y[0],d[lt+1]=ce*it+Ee*yt+y[1]}var be=d[0],Be=d[1];for(h.moveTo(be,Be),lt=2;lt<C.length;){var Jt=d[lt++],ne=d[lt++],Ne=d[lt++],Qe=d[lt++],In=d[lt++],Fn=d[lt++];be===Jt&&Be===ne&&Ne===In&&Qe===Fn?h.lineTo(In,Fn):h.bezierCurveTo(Jt,ne,Ne,Qe,In,Fn),be=In,Be=Fn}}}})}function S4(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return Vlt(n,e),e.__morphT=0,e.animateTo({__morphT:1},er({during:function(a){e.dirtyShape(),r&&r(a)},done:function(){(function o(){UC(e,"buildPath"),UC(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()})(),i&&i()}},t)),e}function CXt(n,e,t,i,r,o){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var l,s=0,c=32768;c>0;c/=2){var u=0,d=0;(n&c)>0&&(u=1),(e&c)>0&&(d=1),s+=c*c*(3*u^d),0===d&&(1===u&&(n=c-1-n,e=c-1-e),l=n,n=e,e=l)}return s}function JP(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=Nn(n,function(s){var l=s.getBoundingRect(),c=s.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),d=l.y+l.height/2+(c?c[5]:0);return e=Math.min(u,e),t=Math.min(d,t),i=Math.max(u,i),r=Math.max(d,r),[u,d]});return Nn(o,function(s,l){return{cp:s,z:CXt(s[0],s[1],e,t,i,r),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function zlt(n){return function _Xt(n,e){var r,t=[],i=n.shape;switch(n.type){case"rect":(function dXt(n,e,t){for(var i=n.width,r=n.height,o=i>r,a=Plt([i,r],o?0:1,e),s=o?"width":"height",l=o?"height":"width",c=o?"x":"y",u=o?"y":"x",d=n[s]/a.length,h=0;h<a.length;h++)for(var p=n[l]/a[h],g=0;g<a[h];g++){var y={};y[c]=h*d,y[u]=g*p,y[s]=d,y[l]=p,y.x+=n.x,y.y+=n.y,t.push(y)}})(i,e,t),r=aa;break;case"sector":klt(i,e,t),r=Xd;break;case"circle":klt({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,t),r=Xd;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=Nn(function uXt(n,e){var t=x4(n),i=[];e=e||1;for(var r=0;r<t.length;r++){var o=t[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var c=2;c<o.length;){var u=o[c++],d=o[c++],h=o[c++],p=o[c++],g=o[c++],y=o[c++];w4(s,l,u,d,h,p,g,y,a,e),s=g,l=y}i.push(a)}return i}(n.getUpdatedPathProxy(),a),function(w){return function vXt(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}(w)}),l=s.length;if(0===l)qP(Llt,{points:s[0]},e,t);else if(l===e)for(var c=0;c<l;c++)t.push({points:s[c]});else{var u=0,d=Nn(s,function(w){var C=[],E=[];RA(w,C,E);var k=(E[1]-C[1])*(E[0]-C[0]);return u+=k,{poly:w,area:k}});d.sort(function(w,C){return C.area-w.area});var h=e;for(c=0;c<l;c++){var p=d[c];if(h<=0)break;var g=c===l-1?h:Math.ceil(p.area/u*e);g<0||(qP(Llt,{points:p.poly},g,t),h-=g)}}r=$d}if(!r)return function mXt(n,e){for(var t=[],i=0;i<e;i++)t.push(A3(n));return t}(n,e);var y=[];for(c=0;c<t.length;c++){var b=new r;b.setShape(t[c]),gXt(n,b),y.push(b)}return y}(n.path,n.count)}function Ult(n){return Ln(n[0])}function Glt(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)t[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var l=t[s].many;if(l.length<=1){if(!s)return t;s=0}o=l.length;var c=Math.ceil(o/2);t[r].many=l.slice(c,o),t[s].many=l.slice(0,c),s++}return t}var TXt={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=A3(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function M4(n,e,t,i,r,o){if(n.length&&e.length){var a=Lb("update",i,r);if(a&&a.duration>0){var c,u,s=i.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a);Ult(n)&&(c=n,u=e),Ult(e)&&(c=e,u=n);for(var h=c?c===n:n.length>e.length,p=c?Glt(u,c):Glt(h?e:n,[h?n:e]),g=0,y=0;y<p.length;y++)g+=p[y].many.length;var b=0;for(y=0;y<p.length;y++)d(p[y],h,b,g),b+=p[y].many.length}}function d(w,C,E,k,j){var H=w.many,it=w.one;if(1!==H.length||j)for(var kt=er({dividePath:TXt[t],individualDelay:s&&function(Be,Ne,Qe,In){return s(Be+E,k)}},l),Jt=C?function MXt(n,e,t){var i=[];!function r(j){for(var H=0;H<j.length;H++){var it=j[H];KP(it)?r(it.childrenRef()):it instanceof vo&&i.push(it)}}(n);var o=i.length;if(!o)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(t.dividePath||zlt)({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=JP(i),s=JP(s);for(var l=t.done,c=t.during,u=t.individualDelay,d=new Dm,h=0;h<o;h++){var p=i[h],g=s[h];g.parent=e,g.copyTransform(d),u||Vlt(p,g)}function y(j){for(var H=0;H<s.length;H++)s[H].addSelfToZr(j)}function b(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,UC(e,"addSelfToZr"),UC(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},QP(e,"addSelfToZr",{after:function(j){y(j)}}),QP(e,"removeSelfFromZr",{after:function(j){for(var H=0;H<s.length;H++)s[H].removeSelfFromZr(j)}});var w=s.length;if(u){var C=w,E=function(){0==--C&&(b(),l&&l())};for(h=0;h<w;h++){var k=u?er({delay:(t.delay||0)+u(h,w,i[h],s[h]),done:E},t):t;S4(i[h],s[h],k)}}else e.__morphT=0,e.animateTo({__morphT:1},er({during:function(j){for(var H=0;H<w;H++){var it=s[H];it.__morphT=e.__morphT,it.dirtyShape()}c&&c(j)},done:function(){b();for(var j=0;j<n.length;j++)UC(n[j],"updateTransform");l&&l()}},t));return e.__zr&&y(e.__zr),{fromIndividuals:i,toIndividuals:s,count:w}}(H,it,kt):function EXt(n,e,t){var i=e.length,r=[],o=t.dividePath||zlt;if(KP(n)){!function a(p){for(var g=0;g<p.length;g++){var y=p[g];KP(y)?a(y.childrenRef()):y instanceof vo&&r.push(y)}}(n.childrenRef());var s=r.length;if(s<i)for(var l=0,c=s;c<i;c++)r.push(A3(r[l++%s]));r.length=i}else{r=o({path:n,count:i});var u=n.getComputedTransform();for(c=0;c<r.length;c++)r[c].setLocalTransform(u);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=JP(r),e=JP(e);var d=t.individualDelay;for(c=0;c<i;c++){var h=d?er({delay:(t.delay||0)+d(c,i,r[c],e[c])},t):t;S4(r[c],e[c],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(it,H,kt),ne=Jt.fromIndividuals,ce=Jt.toIndividuals,Ee=ne.length,be=0;be<Ee;be++)Lt=s?er({delay:s(be,Ee)},l):l,o(ne[be],ce[be],C?H[be]:w.one,C?w.one:H[be],Lt);else{var Lt,yt=C?H[0]:it,lt=C?it:H[0];KP(yt)?d({many:[yt],one:lt},!0,E,k,!0):(S4(yt,lt,Lt=s?er({delay:s(E,k)},l):l),o(yt,lt,yt,lt,Lt))}}}function Ly(n){if(!n)return[];if(Ln(n)){for(var e=[],t=0;t<n.length;t++)e.push(Ly(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof vo&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var Hlt=1e4,DXt=oa();function jlt(n){var e=[];return Xt(n,function(t){var i=t.data;if(!(i.count()>Hlt))for(var r=i.getIndices(),o=function AXt(n){for(var e=n.dimensions,t=0;t<e.length;t++){var i=n.getDimensionInfo(e[t]);if(i&&0===i.otherDims.itemGroupId)return e[t]}}(i),a=0;a<r.length;a++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||o,divide:t.divide,dataIndex:a})}),e}function E4(n,e,t){n.traverse(function(i){i instanceof vo&&Cl(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function T4(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function Tx(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function Wlt(n,e,t){var i=jlt(n),r=jlt(e);function o(w,C,E,k,j){(E||w)&&C.animateFrom({style:E&&E!==w?An(An({},E.style),w.style):w.style},j)}function a(w){for(var C=0;C<w.length;C++)if(w[C].dim)return w[C].dim}var s=a(i),l=a(r),c=!1;function u(w,C){return function(E){var k=E.data,j=E.dataIndex;if(C)return k.getId(j);var H=E.dataGroupId,it=w?s||l:l||s,yt=it&&k.getDimensionInfo(it),lt=yt&&yt.ordinalMeta;if(yt){var Lt=k.get(yt.name,j);return lt&&lt.categories[Lt]||Lt+""}var kt=k.getRawDataItem(j);return kt&&kt.groupId?kt.groupId+"":H||k.getId(j)}}var d=function PXt(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var r=n[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),h={};if(!d)for(var p=0;p<r.length;p++){var g=r[p],y=g.data.getItemGraphicEl(g.dataIndex);y&&(h[y.id]=!0)}function b(w,C){var E=i[C],k=r[w],j=k.data.hostModel,H=E.data.getItemGraphicEl(E.dataIndex),it=k.data.getItemGraphicEl(k.dataIndex);H!==it?H&&h[H.id]||it&&(Tx(it),H?(Tx(H),T4(H),c=!0,M4(Ly(H),Ly(it),k.divide,j,w,o)):E4(it,j,w)):it&&function IXt(n,e,t){var i=Lb("update",t,e);i&&n.traverse(function(r){if(r instanceof Zh){var o=function ILt(n){return cK(n).oldStyle}(r);o&&r.animateFrom({style:o},i)}})}(it,k.dataIndex,j)}new Bm(i,r,u(!0,d),u(!1,d),null,"multiple").update(b).updateManyToOne(function(w,C){var E=r[w],k=E.data,j=k.hostModel,H=k.getItemGraphicEl(E.dataIndex),it=Ss(Nn(C,function(yt){return i[yt].data.getItemGraphicEl(i[yt].dataIndex)}),function(yt){return yt&&yt!==H&&!h[yt.id]});H&&(Tx(H),it.length?(Xt(it,function(yt){Tx(yt),T4(yt)}),c=!0,M4(Ly(it),Ly(H),E.divide,j,w,o)):E4(H,j,E.dataIndex))}).updateOneToMany(function(w,C){var E=i[C],k=E.data.getItemGraphicEl(E.dataIndex);if(!k||!h[k.id]){var j=Ss(Nn(w,function(it){return r[it].data.getItemGraphicEl(r[it].dataIndex)}),function(it){return it&&it!==k}),H=r[w[0]].data.hostModel;j.length&&(Xt(j,function(it){return Tx(it)}),k?(Tx(k),T4(k),c=!0,M4(Ly(k),Ly(j),E.divide,H,w[0],o)):Xt(j,function(it){return E4(it,H,w[0])}))}}).updateManyToMany(function(w,C){new Bm(C,w,function(E){return i[E].data.getId(i[E].dataIndex)},function(E){return r[E].data.getId(r[E].dataIndex)}).update(function(E,k){b(w[E],C[k])}).execute()}).execute(),c&&Xt(e,function(w){var E=w.data.hostModel,k=E&&t.getViewOfSeriesModel(E),j=Lb("update",E,0);k&&E.isAnimationEnabled()&&j&&j.duration>0&&k.group.traverse(function(H){H instanceof vo&&!H.animators.length&&H.animateFrom({style:{opacity:0}},j)})})}function Zlt(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function Ylt(n){return Ln(n)?n.sort().join(","):n}function mv(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function Xlt(n,e){for(var t=0;t<n.length;t++)if(null!=e.seriesIndex&&e.seriesIndex===n[t].seriesIndex||null!=e.seriesId&&e.seriesId===n[t].id)return t}lo([function qFt(n){n.registerPainter("canvas",$Ft)}]),lo([function IBt(n){n.registerPainter("svg",ABt)}]),lo([function E3t(n){n.registerChartView(S3t),n.registerSeriesModel(i3t),n.registerLayout(sC("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Zet("line"))},function X3t(n){n.registerChartView(Y3t),n.registerSeriesModel(k3t),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Lr(qet,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ket("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Zet("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){t.eachComponent({mainType:e.componentType||"series",query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function sVt(n){n.registerChartView(eVt),n.registerSeriesModel(oVt),jJ("pie",n.registerAction),n.registerLayout(Lr($3t,"pie")),n.registerProcessor(lC("pie")),n.registerProcessor(function aVt(n){return{seriesType:n,reset:function(e,t){var i=e.getData();i.filterSelf(function(r){var o=i.mapDimension("value"),a=i.get(o,r);return!(ua(a)&&!isNaN(a)&&a<0)})}}}("pie"))},function Izt(n){lo(rit),n.registerSeriesModel(cVt),n.registerChartView(mVt),n.registerLayout(sC("scatter"))},function Yzt(n){lo(Zzt),n.registerChartView(Lzt),n.registerSeriesModel(Nzt),n.registerLayout(Pzt),n.registerProcessor(lC("radar")),n.registerPreprocessor(kzt)},function Y5t(n){lo(Yit),n.registerChartView(P5t),n.registerSeriesModel(R5t),n.registerLayout(N5t),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,O5t),jJ("map",n.registerAction)},function M4t(n){n.registerChartView(s4t),n.registerSeriesModel(y4t),n.registerLayout(x4t),n.registerVisual(S4t),function C4t(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var r=e.dataIndex,a=i.getData().tree.getNodeByDataIndex(r);a.isExpand=!a.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var a=az(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})}(n)},function dUt(n){n.registerSeriesModel(A4t),n.registerChartView(H4t),n.registerVisual($4t),n.registerLayout(iUt),function E4t(n){for(var e=0;e<irt.length;e++)n.registerAction({type:irt[e],update:"updateView"},bc);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},function r(o,a){var l=bC(t,["treemapZoomToNode","treemapRootToNode"],o);if(l){var c=o.getViewRoot();c&&(t.direction=hz(c,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function VUt(n){n.registerChartView(RUt),n.registerSeriesModel(FUt),n.registerProcessor(hUt),n.registerVisual(fUt),n.registerVisual(pUt),n.registerLayout(yUt),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,xUt),n.registerLayout(SUt),n.registerCoordinateSystem("graphView",{dimensions:_C.dimensions,create:MUt}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},bc),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},bc),n.registerAction(BUt,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var a=az(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})},function XUt(n){n.registerChartView(WUt),n.registerSeriesModel(YUt)},function o8t(n){n.registerChartView(QUt),n.registerSeriesModel(t8t),n.registerLayout(r8t),n.registerProcessor(lC("funnel"))},function c6t(n){lo(mot),n.registerChartView(u8t),n.registerSeriesModel(p8t),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,v8t)},function N6t(n){n.registerChartView(p6t),n.registerSeriesModel(g6t),n.registerLayout(v6t),n.registerVisual(O6t),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function $6t(n){n.registerSeriesModel(F6t),n.registerChartView(G6t),n.registerLayout(H6t),n.registerTransform(X6t)},function mGt(n){n.registerChartView(nGt),n.registerSeriesModel(iGt),n.registerPreprocessor(rGt),n.registerVisual(dGt),n.registerLayout(pGt)},function wGt(n){n.registerChartView(yGt),n.registerSeriesModel(xGt),n.registerLayout(sC("effectScatter"))},function zGt(n){n.registerChartView(RGt),n.registerSeriesModel(FGt),n.registerLayout(Dot),n.registerVisual(VGt)},function qGt(n){n.registerChartView(YGt),n.registerSeriesModel($Gt)},function cHt(n){n.registerChartView(aHt),n.registerSeriesModel(lHt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Lr(qet,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ket("pictorialBar"))},function vHt(n){n.registerChartView(hHt),n.registerSeriesModel(pHt),n.registerLayout(mHt),n.registerProcessor(lC("themeRiver"))},function IHt(n){n.registerChartView(CHt),n.registerSeriesModel(EHt),n.registerLayout(Lr(THt,"sunburst")),n.registerProcessor(Lr(lC,"sunburst")),n.registerVisual(AHt),function wHt(n){n.registerAction({type:h5,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function i(r,o){var a=bC(e,[h5],r);if(a){var s=r.getViewRoot();s&&(e.direction=hz(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),n.registerAction({type:Zot,update:"none"},function(e,t,i){e=An({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function r(o){var a=bC(e,[Zot],o);a&&(e.dataIndex=a.node.dataIndex)}),i.dispatchAction(An(e,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,i){e=An({},e),i.dispatchAction(An(e,{type:"downplay"}))})}(n)},function mjt(n){n.registerChartView(rjt),n.registerSeriesModel(RHt)}]),lo(function Bjt(n){lo(rit),lo(kC)}),lo(function yWt(n){lo(kC),xy.registerAxisPointerClass("PolarAxisPointer",Gjt),n.registerCoordinateSystem("polar",nWt),n.registerComponentModel(jjt),n.registerComponentView(_Wt),cx(n,"angle",Wjt,gWt),cx(n,"radius",Zjt,vWt),n.registerComponentView(aWt),n.registerComponentView(hWt),n.registerLayout(Lr(mWt,"bar"))}),lo(Yit),lo(function FWt(n){lo(kC),xy.registerAxisPointerClass("SingleAxisPointer",OWt),n.registerComponentView(NWt),n.registerComponentView(CWt),n.registerComponentModel(N5),cx(n,"single",N5,N5.defaultOption),n.registerCoordinateSystem("single",PWt)}),lo(mot),lo(function jWt(n){n.registerComponentModel(VWt),n.registerComponentView(UWt),n.registerCoordinateSystem("calendar",HWt)}),lo(function JWt(n){n.registerComponentModel($Wt),n.registerComponentView(qWt),n.registerPreprocessor(function(e){var t=e.graphic;Ln(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),lo(function t9t(n){n.registerComponentModel(vZt),n.registerComponentView(xZt),bx("saveAsImage",SZt),bx("magicType",EZt),bx("dataView",FZt),bx("dataZoom",JZt),bx("restore",HZt),lo(mZt)}),lo(function S9t(n){lo(kC),n.registerComponentModel(n9t),n.registerComponentView(w9t),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},bc),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},bc)}),lo(kC),lo(function H9t(n){n.registerComponentView(N9t),n.registerComponentModel(V9t),n.registerPreprocessor(M9t),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,I9t),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},bc),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},bc),bx("brush",G9t)}),lo(function Z9t(n){n.registerComponentModel(j9t),n.registerComponentView(W9t)}),lo(function s7t(n){n.registerComponentModel(X9t),n.registerComponentView(i7t),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function r7t(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),er({currentIndex:r.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})}(n),n.registerPreprocessor(o7t)}),lo(function v7t(n){n.registerComponentModel(c7t),n.registerComponentView(g7t),n.registerPreprocessor(function(e){e4(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),lo(function M7t(n){n.registerComponentModel(y7t),n.registerComponentView(C7t),n.registerPreprocessor(function(e){e4(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),lo(function R7t(n){n.registerComponentModel(T7t),n.registerComponentView(k7t),n.registerPreprocessor(function(e){e4(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),lo(function Y7t(n){lo(Jst),lo(Z7t)}),lo(function mYt(n){lo(rlt),lo(llt)}),lo(rlt),lo(llt),lo(function GYt(n){lo(Clt),lo(Elt)}),lo(Clt),lo(Elt),lo(function YYt(n){n.registerPreprocessor(ZYt),n.registerVisual(n.PRIORITY.VISUAL.ARIA,WYt)}),lo(function aXt(n){n.registerTransform(rXt),n.registerTransform(oXt)}),lo(function cXt(n){n.registerComponentModel(sXt),n.registerComponentView(lXt)}),lo(function LXt(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){Xt(Ps(i.seriesTransition),function(r){Xt(Ps(r.to),function(o){for(var a=i.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s][rI]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=DXt(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)Xt(Ps(o),function(p){!function RXt(n,e,t,i){var r=[],o=[];Xt(Ps(n.from),function(a){var s=Xlt(e.oldSeries,a);s>=0&&r.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:mv(e.oldData[s]),dim:a.dimension})}),Xt(Ps(n.to),function(a){var s=Xlt(t.updatedSeries,a);if(s>=0){var l=t.updatedSeries[s].getData();o.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:mv(l),dim:a.dimension})}}),r.length>0&&o.length>0&&Wlt(r,o,i)}(p,r,i,t)});else{var a=function kXt(n,e){var t=Wi(),i=Wi(),r=Wi();return Xt(n.oldSeries,function(a,s){var l=n.oldDataGroupIds[s],c=n.oldData[s],u=Zlt(a),d=Ylt(u);i.set(d,{dataGroupId:l,data:c}),Ln(u)&&Xt(u,function(h){r.set(h,{key:d,dataGroupId:l,data:c})})}),Xt(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),l=a.getData(),c=Zlt(a),u=Ylt(c),d=i.get(u);if(d)t.set(u,{oldSeries:[{dataGroupId:d.dataGroupId,divide:mv(d.data),data:d.data}],newSeries:[{dataGroupId:s,divide:mv(l),data:l}]});else if(Ln(c)){var h=[];Xt(c,function(y){var b=i.get(y);b.data&&h.push({dataGroupId:b.dataGroupId,divide:mv(b.data),data:b.data})}),h.length&&t.set(u,{oldSeries:h,newSeries:[{dataGroupId:s,data:l,divide:mv(l)}]})}else{var p=r.get(c);if(p){var g=t.get(p.key);g||(g={oldSeries:[{dataGroupId:p.dataGroupId,data:p.data,divide:mv(p.data)}],newSeries:[]},t.set(p.key,g)),g.newSeries.push({dataGroupId:s,data:l,divide:mv(l)})}}}}),t}(r,i);Xt(a.keys(),function(p){var g=a.get(p);Wlt(g.oldSeries,g.newSeries,t)})}Xt(i.updatedSeries,function(p){p[rI]&&(p[rI]=!1)})}for(var s=e.getSeries(),l=r.oldSeries=[],c=r.oldDataGroupIds=[],u=r.oldData=[],d=0;d<s.length;d++){var h=s[d].getData();h.count()<Hlt&&(l.push(s[d]),c.push(s[d].get("dataGroupId")),u.push(h))}})}),lo(jtt);const FXt=new class NXt extends pD{}(class OXt extends fD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),GC={};function zXt(n,e){if(GC[n]=(GC[n]||0)+1,"function"==typeof e)return D4(n,(...i)=>({...e(...i),type:n}));switch(e?e._as:"empty"){case"empty":return D4(n,()=>({type:n}));case"props":return D4(n,i=>({...i,type:n}));default:throw new Error("Unexpected config.")}}function D4(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}function $lt(n){const{source:e,events:t}=n;return Object.keys(t).reduce((i,r)=>({...i,[UXt(r)]:zXt(GXt(e,r),t[r])}),{})}function UXt(n){return n.trim().toLowerCase().split(" ").map((e,t)=>0===t?e:function A4(n){return n.charAt(0).toUpperCase()+n.substring(1)}(e)).join("")}function GXt(n,e){return`[${n}] ${e}`}const qlt="@ngrx/store/init";let Oy=(()=>{class n extends Rc{constructor(){super({type:qlt})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const HXt=[Oy],I4=new hn("@ngrx/store Internal Root Guard"),Klt=new hn("@ngrx/store Internal Initial State"),P4=new hn("@ngrx/store Initial State"),Qlt=new hn("@ngrx/store Reducer Factory"),Jlt=new hn("@ngrx/store Internal Reducer Factory Provider"),tct=new hn("@ngrx/store Initial Reducers"),k4=new hn("@ngrx/store Internal Initial Reducers"),ect=new hn("@ngrx/store Store Features"),nct=new hn("@ngrx/store Internal Store Reducers"),R4=new hn("@ngrx/store Internal Feature Reducers"),ict=new hn("@ngrx/store Internal Feature Configs"),L4=new hn("@ngrx/store Internal Store Features"),rct=new hn("@ngrx/store Internal Feature Reducers Token"),O4=new hn("@ngrx/store Feature Reducers"),oct=new hn("@ngrx/store User Provided Meta Reducers"),ek=new hn("@ngrx/store Meta Reducers"),act=new hn("@ngrx/store Internal Resolved Meta Reducers"),sct=new hn("@ngrx/store User Runtime Checks Config"),lct=new hn("@ngrx/store Internal User Runtime Checks Config"),HC=new hn("@ngrx/store Internal Runtime Checks"),jC=new hn("@ngrx/store Check if Action types are unique");function F4(n,e={}){const t=Object.keys(n),i={};for(let o=0;o<t.length;o++){const a=t[o];"function"==typeof n[a]&&(i[a]=n[a])}const r=Object.keys(i);return function(a,s){a=void 0===a?e:a;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],p=a[d],g=(0,i[d])(p,s);c[d]=g,l=l||g!==p}return l?c:a}}function uct(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((r,o)=>o(r),t(e))}}function dct(n,e){return Array.isArray(e)&&e.length>0&&(n=uct.apply(null,[...e,n])),(t,i)=>{const r=n(t);return(o,a)=>r(o=void 0===o?i:o,a)}}new hn("@ngrx/store Root Store Provider"),new hn("@ngrx/store Feature State Provider");class nk extends Pe{}class hct extends Oy{}let WC=(()=>{class n extends Rc{constructor(t,i,r,o){super(o(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=o}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const i=t.reduce((r,{reducers:o,reducerFactory:a,metaReducers:s,initialState:l,key:c})=>{const u="function"==typeof o?function WXt(n){const e=Array.isArray(n)&&n.length>0?uct(...n):t=>t;return(t,i)=>(t=e(t),(r,o)=>t(r=void 0===r?i:r,o))}(s)(o,l):dct(a,s)(o,l);return r[c]=u,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers={...this.reducers,...t},this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=function jXt(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,i)=>Object.assign(t,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(on(hct),on(P4),on(tct),on(Qlt))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const YXt=[WC,{provide:nk,useExisting:WC},{provide:hct,useExisting:Oy}];let ik=(()=>{class n extends wt{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const XXt=[ik];class fct extends Pe{}let pct=(()=>{class n extends Rc{constructor(t,i,r,o){super(o);const s=t.pipe(Ja(FXt)).pipe(function BXt(...n){const e=Yi(n);return Nt((t,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),s=!1;for(let l=0;l<r;l++)Ft(n[l]).subscribe(ht(i,c=>{o[l]=c,!s&&!a[l]&&(a[l]=!0,(s=a.every(jt))&&(a=null))},ct));t.subscribe(ht(i,l=>{if(s){const c=[l,...o];i.next(e?e(...c):c)}}))})}(i)),c=s.pipe(UT($Xt,{state:o}));this.stateSubscription=c.subscribe(({state:u,action:d})=>{this.next(u),r.next(d)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=qlt,n.\u0275fac=function(t){return new(t||n)(on(Oy),on(nk),on(ik),on(P4))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function $Xt(n={state:void 0},[e,t]){const{state:i}=n;return{state:t(i,e),action:e}}const qXt=[pct,{provide:fct,useExisting:pct}];let Ym=(()=>{class n extends Pe{constructor(t,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=t}select(t,...i){return QXt.call(null,t,...i)(this)}lift(t){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(on(fct),on(Oy),on(WC))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const KXt=[Ym];function QXt(n,e,...t){return function(r){let o;if("string"==typeof n){const a=[e,...t].filter(Boolean);o=r.pipe(function VXt(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return vt(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}(n,...a))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);o=r.pipe(vt(a=>n(a,e)))}return o.pipe(vm())}}const B4="https://ngrx.io/guide/store/configuration/runtime-checks";function mct(n){return void 0===n}function gct(n){return null===n}function vct(n){return Array.isArray(n)}function _ct(n){return"object"==typeof n&&null!==n}function V4(n){return"function"==typeof n}function z4(n,e){return n===e}function U4(n,e=z4,t=z4){let o,i=null,r=null;return{memoized:function c(){if(void 0!==o)return o.result;if(!i)return r=n.apply(null,arguments),i=arguments,r;if(!function a$t(n,e,t){for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!0;return!1}(arguments,i,e))return r;const u=n.apply(null,arguments);return i=arguments,t(r,u)?r:(r=u,u)},reset:function a(){i=null,r=null},setResult:function s(u){o={result:u}},clearResult:function l(){o=void 0}}}function gv(...n){return function l$t(n,e={stateFn:s$t}){return function(...t){let i=t;if(Array.isArray(i[0])){const[u,...d]=i;i=[...u,...d]}else 1===i.length&&function c$t(n){return!!n&&"object"==typeof n&&Object.values(n).every(e=>"function"==typeof e)}(i[0])&&(i=function u$t(n){const e=Object.values(n),t=Object.keys(n);return[...e,(...r)=>t.reduce((o,a,s)=>({...o,[a]:r[s]}),{})]}(i[0]));const r=i.slice(0,i.length-1),o=i[i.length-1],a=r.filter(u=>u.release&&"function"==typeof u.release),s=n(function(...u){return o.apply(null,u)}),l=U4(function(u,d){return e.stateFn.apply(null,[u,r,d,s])});return Object.assign(l.memoized,{release:function c(){l.reset(),s.reset(),a.forEach(u=>u.release())},projector:s.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(U4)(...n)}function s$t(n,e,t,i){if(void 0===t){const o=e.map(a=>a(n));return i.memoized.apply(null,o)}const r=e.map(o=>o(n,t));return i.memoized.apply(null,[...r,t])}function f$t(n){return n instanceof hn?di(n):n}function p$t(n,e){return e.map((t,i)=>{if(n[i]instanceof hn){const r=di(n[i]);return{key:t.key,reducerFactory:r.reducerFactory?r.reducerFactory:F4,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return t})}function m$t(n){return n.map(e=>e instanceof hn?di(e):e)}function G4(n){return"function"==typeof n?n():n}function g$t(n,e){return n.concat(e)}function v$t(){if(di(Ym,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function H4(n){Object.freeze(n);const e=V4(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function r$t(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const i=n[t];(_ct(i)||V4(i))&&!Object.isFrozen(i)&&H4(i)}}),n}function j4(n,e=[]){return(mct(n)||gct(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const o=n[r];return function i$t(n){return V4(n)&&n.hasOwnProperty("\u0275cmp")}(o)?i:!(mct(o)||gct(o)||function e$t(n){return"number"==typeof n}(o)||function t$t(n){return"boolean"==typeof n}(o)||function JXt(n){return"string"==typeof n}(o)||vct(o))&&(function yct(n){if(!function n$t(n){return _ct(n)&&!vct(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(o)?j4(o,[...e,r]):{path:[...e,r],value:o})},!1)}function wct(n,e){if(!1===n)return;const t=n.path.join("."),i=new Error(`Detected unserializable ${e} at "${t}". ${B4}#strict${e}serializability`);throw i.value=n.value,i.unserializablePath=t,i}function x$t(n){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function w$t({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function y$t(n,e){return function(t,i){e.action(i)&&wct(j4(i),"action");const r=n(t,i);return e.state()&&wct(j4(r),"state"),r}}(t,{action:i=>n&&!W4(i),state:()=>e}):t}function S$t({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function _$t(n,e){return function(t,i){const r=e.action(i)?H4(i):i,o=n(t,r);return e.state()?H4(o):o}}(t,{action:i=>n&&!W4(i),state:()=>e}):t}function W4(n){return n.type.startsWith("@ngrx")}function C$t({strictActionWithinNgZone:n}){return e=>n?function b$t(n,e){return function(t,i){if(e.action(i)&&!vr.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${B4}#strictactionwithinngzone`);return n(t,i)}}(e,{action:t=>n&&!W4(t)}):e}function M$t(n){return[{provide:lct,useValue:n},{provide:sct,useFactory:E$t,deps:[lct]},{provide:HC,deps:[sct],useFactory:x$t},{provide:ek,multi:!0,deps:[HC],useFactory:S$t},{provide:ek,multi:!0,deps:[HC],useFactory:w$t},{provide:ek,multi:!0,deps:[HC],useFactory:C$t}]}function Sct(){return[{provide:jC,multi:!0,deps:[HC],useFactory:T$t}]}function E$t(n){return n}function T$t(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(GC).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${B4}#strictactiontypeuniqueness`)}function Cct(n={},e={}){return[{provide:I4,useFactory:v$t},{provide:Klt,useValue:e.initialState},{provide:P4,useFactory:G4,deps:[Klt]},{provide:k4,useValue:n},{provide:nct,useExisting:n instanceof hn?n:k4},{provide:tct,deps:[k4,[new em(nct)]],useFactory:f$t},{provide:oct,useValue:e.metaReducers?e.metaReducers:[]},{provide:act,deps:[ek,oct],useFactory:g$t},{provide:Jlt,useValue:e.reducerFactory?e.reducerFactory:F4},{provide:Qlt,deps:[Jlt,act],useFactory:dct},HXt,YXt,XXt,qXt,KXt,M$t(e.runtimeChecks),Sct()]}function Mct(n,e,t={}){return[{provide:ict,multi:!0,useValue:n instanceof Object?{}:t},{provide:ect,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:t instanceof hn||!t.reducerFactory?F4:t.reducerFactory,metaReducers:t instanceof hn||!t.metaReducers?[]:t.metaReducers,initialState:t instanceof hn||!t.initialState?void 0:t.initialState}},{provide:L4,deps:[ict,ect],useFactory:p$t},{provide:R4,multi:!0,useValue:n instanceof Object?n.reducer:e},{provide:rct,multi:!0,useExisting:e instanceof hn?e:R4},{provide:O4,multi:!0,deps:[R4,[new em(rct)]],useFactory:m$t},Sct()]}let Ect=(()=>{class n{constructor(t,i,r,o,a,s){}}return n.\u0275fac=function(t){return new(t||n)(on(Oy),on(nk),on(ik),on(Ym),on(I4,8),on(jC,8))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),k$t=(()=>{class n{constructor(t,i,r,o,a){this.features=t,this.featureReducers=i,this.reducerManager=r;const s=t.map((l,c)=>{const d=i.shift()[c];return{...l,reducers:d,initialState:G4(l.initialState)}});r.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(on(L4),on(O4),on(WC),on(Ect),on(jC,8))},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),R$t=(()=>{class n{static forRoot(t,i){return{ngModule:Ect,providers:[...Cct(t,i)]}}static forFeature(t,i,r={}){return{ngModule:k$t,providers:[...Mct(t,i,r)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();function Z4(...n){return{reducer:n.pop(),types:n.map(i=>i.type)}}function Dx(n){switch(n&&n.type||null){case"FeatureCollection":return n.features=n.features.reduce(function(e,t){return e.concat(Dx(t))},[]),n;case"Feature":return n.geometry?Dx(n.geometry).map(function(e){var t={type:"Feature",properties:JSON.parse(JSON.stringify(n.properties)),geometry:e};return void 0!==n.id&&(t.id=n.id),t}):[n];case"MultiPoint":return n.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return n.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return n.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return n.geometries.map(Dx).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[n]}}var nu=6371008.8,rk={centimeters:100*nu,centimetres:100*nu,degrees:nu/111325,feet:3.28084*nu,inches:39.37*nu,kilometers:nu/1e3,kilometres:nu/1e3,meters:nu,metres:nu,miles:nu/1609.344,millimeters:1e3*nu,millimetres:1e3*nu,nauticalmiles:nu/1852,radians:1,yards:1.0936*nu},Tct={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/nu,yards:1.0936133},ok={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function zc(n,e,t){void 0===t&&(t={});var i={type:"Feature"};return(0===t.id||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function Dct(n,e,t){switch(void 0===t&&(t={}),n){case"Point":return Ho(e).geometry;case"LineString":return ys(e).geometry;case"Polygon":return Xo(e).geometry;case"MultiPoint":return Ax(e).geometry;case"MultiLineString":return vv(e).geometry;case"MultiPolygon":return dd(e).geometry;default:throw new Error(n+" is invalid")}}function Ho(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ru(n[0])||!ru(n[1]))throw new Error("coordinates must contain numbers");return zc({type:"Point",coordinates:n},e,t)}function Act(n,e,t){return void 0===t&&(t={}),Ur(n.map(function(i){return Ho(i,e)}),t)}function Xo(n,e,t){void 0===t&&(t={});for(var i=0,r=n;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return zc({type:"Polygon",coordinates:n},e,t)}function Ict(n,e,t){return void 0===t&&(t={}),Ur(n.map(function(i){return Xo(i,e)}),t)}function ys(n,e,t){if(void 0===t&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return zc({type:"LineString",coordinates:n},e,t)}function Pct(n,e,t){return void 0===t&&(t={}),Ur(n.map(function(i){return ys(i,e)}),t)}function Ur(n,e){void 0===e&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}function vv(n,e,t){return void 0===t&&(t={}),zc({type:"MultiLineString",coordinates:n},e,t)}function Ax(n,e,t){return void 0===t&&(t={}),zc({type:"MultiPoint",coordinates:n},e,t)}function dd(n,e,t){return void 0===t&&(t={}),zc({type:"MultiPolygon",coordinates:n},e,t)}function Y4(n,e,t){return void 0===t&&(t={}),zc({type:"GeometryCollection",geometries:n},e,t)}function kct(n,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,e||0);return Math.round(n*t)/t}function Ix(n,e){void 0===e&&(e="kilometers");var t=rk[e];if(!t)throw new Error(e+" units is invalid");return n*t}function Ny(n,e){void 0===e&&(e="kilometers");var t=rk[e];if(!t)throw new Error(e+" units is invalid");return n/t}function ak(n,e){return _v(Ny(n,e))}function Fy(n){var e=n%360;return e<0&&(e+=360),e}function _v(n){return n%(2*Math.PI)*180/Math.PI}function iu(n){return n%360*Math.PI/180}function By(n,e,t){if(void 0===e&&(e="kilometers"),void 0===t&&(t="kilometers"),!(n>=0))throw new Error("length must be a positive number");return Ix(Ny(n,e),t)}function Rct(n,e,t){if(void 0===e&&(e="meters"),void 0===t&&(t="kilometers"),!(n>=0))throw new Error("area must be a positive number");var i=ok[e];if(!i)throw new Error("invalid original units");var r=ok[t];if(!r)throw new Error("invalid final units");return n/i*r}function ru(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function Cs(n){return!!n&&n.constructor===Object}function Lct(n){if(!n)throw new Error("bbox is required");if(!Array.isArray(n))throw new Error("bbox must be an Array");if(4!==n.length&&6!==n.length)throw new Error("bbox must be an Array of 4 or 6 numbers");n.forEach(function(e){if(!ru(e))throw new Error("bbox must only contain numbers")})}function Oct(n){if(!n)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string")}function Kl(n,e,t){if(null!==n)for(var i,r,o,a,s,l,c,h,u=0,d=0,p=n.type,g="FeatureCollection"===p,y="Feature"===p,b=g?n.features.length:1,w=0;w<b;w++){s=(h=!!(c=g?n.features[w].geometry:y?n.geometry:n)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var C=0;C<s;C++){var E=0,k=0;if(null!==(a=h?c.geometries[C]:c)){l=a.coordinates;var j=a.type;switch(u=!t||"Polygon"!==j&&"MultiPolygon"!==j?0:1,j){case null:break;case"Point":if(!1===e(l,d,w,E,k))return!1;d++,E++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],d,w,E,k))return!1;d++,"MultiPoint"===j&&E++}"LineString"===j&&E++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-u;r++){if(!1===e(l[i][r],d,w,E,k))return!1;d++}"MultiLineString"===j&&E++,"Polygon"===j&&k++}"Polygon"===j&&E++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(k=0,r=0;r<l[i].length;r++){for(o=0;o<l[i][r].length-u;o++){if(!1===e(l[i][r][o],d,w,E,k))return!1;d++}k++}E++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===Kl(a.geometries[i],e,t))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function X4(n,e,t,i){var r=t;return Kl(n,function(o,a,s,l,c){r=0===a&&void 0===t?o:e(r,o,a,s,l,c)},i),r}function $4(n,e){var t;switch(n.type){case"FeatureCollection":for(t=0;t<n.features.length&&!1!==e(n.features[t].properties,t);t++);break;case"Feature":e(n.properties,0)}}function Nct(n,e,t){var i=t;return $4(n,function(r,o){i=0===o&&void 0===t?r:e(i,r,o)}),i}function os(n,e){if("Feature"===n.type)e(n,0);else if("FeatureCollection"===n.type)for(var t=0;t<n.features.length&&!1!==e(n.features[t],t);t++);}function q4(n,e,t){var i=t;return os(n,function(r,o){i=0===o&&void 0===t?r:e(i,r,o)}),i}function Px(n){var e=[];return Kl(n,function(t){e.push(t)}),e}function th(n,e){var t,i,r,o,a,s,l,c,u,d,h=0,p="FeatureCollection"===n.type,g="Feature"===n.type,y=p?n.features.length:1;for(t=0;t<y;t++){for(c=p?n.features[t].properties:g?n.properties:{},u=p?n.features[t].bbox:g?n.bbox:void 0,d=p?n.features[t].id:g?n.id:void 0,a=(l=!!(s=p?n.features[t].geometry:g?n.geometry:n)&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=l?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,u,d))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],h,c,u,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,u,d))return!1;h++}}function K4(n,e,t){var i=t;return th(n,function(r,o,a,s,l){i=0===o&&void 0===t?r:e(i,r,o,a,s,l)}),i}function fu(n,e){th(n,function(t,i,r,o,a){var l,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(zc(t,r,{bbox:o,id:a}),i,0)&&void 0}switch(s){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon"}for(var c=0;c<t.coordinates.length;c++)if(!1===e(zc({type:l,coordinates:t.coordinates[c]},r),i,c))return!1})}function Fct(n,e,t){var i=t;return fu(n,function(r,o,a){i=0===o&&0===a&&void 0===t?r:e(i,r,o,a)}),i}function Xm(n,e){fu(n,function(t,i,r){var o=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,l=0,c=0,u=0;if(!1===Kl(t,function(d,h,p,g,y){if(void 0===s||i>l||g>c||y>u)return s=d,l=i,c=g,u=y,void(o=0);var b=ys([s,d],t.properties);if(!1===e(b,i,r,y,o))return!1;o++,s=d}))return!1}}})}function Q4(n,e,t){var i=t,r=!1;return Xm(n,function(o,a,s,l,c){i=!1===r&&void 0===t?o:e(i,o,a,s,l,c),r=!0}),i}function J4(n,e){if(!n)throw new Error("geojson is required");fu(n,function(t,i,r){if(null!==t.geometry){var a=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===e(t,i,r,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===e(ys(a[s],t.properties),i,r,s))return!1}}})}function tU(n,e,t){var i=t;return J4(n,function(r,o,a,s){i=0===o&&void 0===t?r:e(i,r,o,a,s)}),i}function Bct(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var s,t=e.featureIndex||0,i=e.multiFeatureIndex||0,r=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties;switch(n.type){case"FeatureCollection":t<0&&(t=n.features.length+t),a=a||n.features[t].properties,s=n.features[t].geometry;break;case"Feature":a=a||n.properties,s=n.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=n;break;default:throw new Error("geojson is invalid")}if(null===s)return null;var l=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=l.length+o-1),ys([l[o],l[o+1]],a,e);case"Polygon":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o-1),ys([l[r][o],l[r][o+1]],a,e);case"MultiLineString":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o-1),ys([l[i][o],l[i][o+1]],a,e);case"MultiPolygon":return i<0&&(i=l.length+i),r<0&&(r=l[i].length+r),o<0&&(o=l[i][r].length-o-1),ys([l[i][r][o],l[i][r][o+1]],a,e)}throw new Error("geojson is invalid")}function Vct(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var s,t=e.featureIndex||0,i=e.multiFeatureIndex||0,r=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties;switch(n.type){case"FeatureCollection":t<0&&(t=n.features.length+t),a=a||n.features[t].properties,s=n.features[t].geometry;break;case"Feature":a=a||n.properties,s=n.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=n;break;default:throw new Error("geojson is invalid")}if(null===s)return null;var l=s.coordinates;switch(s.type){case"Point":return Ho(l,a,e);case"MultiPoint":return i<0&&(i=l.length+i),Ho(l[i],a,e);case"LineString":return o<0&&(o=l.length+o),Ho(l[o],a,e);case"Polygon":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),Ho(l[r][o],a,e);case"MultiLineString":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),Ho(l[i][o],a,e);case"MultiPolygon":return i<0&&(i=l.length+i),r<0&&(r=l[i].length+r),o<0&&(o=l[i][r].length-o),Ho(l[i][r][o],a,e)}throw new Error("geojson is invalid")}function eU(n){var e=[1/0,1/0,-1/0,-1/0];return Kl(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}eU.default=eU;const Uc=eU;function Hs(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function qr(n){if(Array.isArray(n))return n;if("Feature"===n.type){if(null!==n.geometry)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function nU(n){if(n.length>1&&ru(n[0])&&ru(n[1]))return!0;if(Array.isArray(n[0])&&n[0].length)return nU(n[0]);throw new Error("coordinates must only contain numbers")}function zct(n,e,t){if(!e||!t)throw new Error("type and name required");if(!n||n.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.type)}function ZC(n,e,t){if(!n)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.geometry.type)}function $m(n,e,t){if(!n)throw new Error("No featureCollection passed");if(!t)throw new Error(".collectionOf() requires a name");if(!n||"FeatureCollection"!==n.type)throw new Error("Invalid input to "+t+", FeatureCollection required");for(var i=0,r=n.features;i<r.length;i++){var o=r[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+o.geometry.type)}}function ul(n){return"Feature"===n.type?n.geometry:n}function Id(n,e){return"FeatureCollection"===n.type?"FeatureCollection":"GeometryCollection"===n.type?"GeometryCollection":"Feature"===n.type&&null!==n.geometry?n.geometry.type:n.type}var iU=Z(5943),Uct={successCallback:null,verbose:!1},sk={};function O$t(n,e,t){t=t||{};for(var i=Object.keys(Uct),r=0;r<i.length;r++){var o=i[r],a=t[o];sk[o]=a=typeof a<"u"&&null!==a?a:Uct[o]}sk.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function B$t(n){var e=[],t=0;return n.cells.forEach(function(r,o){r.forEach(function(a,s){if(typeof a<"u"&&!function F$t(n){return 5===n.cval||10===n.cval}(a)&&!Gct(a)){var l=function V$t(n,e,t){var s,l,i=n.length,r=[],o=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],a=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],u=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],d=n[e][t],h=d.cval,p=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h],g=rU(d,p);r.push([t+g[0],e+g[1]]),g=rU(d,p=u[h]),r.push([t+g[0],e+g[1]]),Hct(d);for(var y=t+o[h],b=e+a[h],w=h;y>=0&&b>=0&&b<i&&(y!=t||b!=e)&&!(typeof(d=n[b][y])>"u");){if(0===(h=d.cval)||15===h)return{path:r,info:"mergeable"};p=u[h],s=o[h],l=a[h],(5===h||10===h)&&(5===h?d.flipped?-1===a[w]?(p="left",s=-1,l=0):(p="right",s=1,l=0):-1===o[w]&&(p="bottom",s=0,l=-1):10===h&&(d.flipped?-1===o[w]?(p="top",s=0,l=1):(p="bottom",s=0,l=-1):1===a[w]&&(p="left",s=-1,l=0))),g=rU(d,p),r.push([y+g[0],b+g[1]]),Hct(d),y+=s,b+=l,w=h}return{path:r,info:"closed"}}(n.cells,o,s),c=!1;if("mergeable"===l.info)for(var u=l.path[l.path.length-1][0],d=l.path[l.path.length-1][1],h=t-1;h>=0;h--)if(Math.abs(e[h][0][0]-u)<=1e-7&&Math.abs(e[h][0][1]-d)<=1e-7){for(var p=l.path.length-2;p>=0;--p)e[h].unshift(l.path[p]);c=!0;break}c||(e[t++]=l.path)}})}),e}(function N$t(n,e){for(var t=n.length-1,i=n[0].length-1,r={rows:t,cols:i,cells:[]},o=0;o<t;++o){r.cells[o]=[];for(var a=0;a<i;++a){var s=0,l=n[o+1][a],c=n[o+1][a+1],u=n[o][a+1],d=n[o][a];if(!(isNaN(l)||isNaN(c)||isNaN(u)||isNaN(d))){s|=l>=e?8:0,s|=c>=e?4:0,s|=u>=e?2:0;var g,y,b,w,h=!1;if(5==(s|=d>=e?1:0)||10===s){var p=(l+c+u+d)/4;5===s&&p<e?(s=10,h=!0):10===s&&p<e&&(s=5,h=!0)}0!==s&&15!==s&&(g=y=b=w=.5,1===s?(b=1-ks(e,l,d),y=1-ks(e,u,d)):2===s?(y=ks(e,d,u),w=1-ks(e,c,u)):3===s?(b=1-ks(e,l,d),w=1-ks(e,c,u)):4===s?(g=ks(e,l,c),w=ks(e,u,c)):5===s?(g=ks(e,l,c),w=ks(e,u,c),y=1-ks(e,u,d),b=1-ks(e,l,d)):6===s?(y=ks(e,d,u),g=ks(e,l,c)):7===s?(b=1-ks(e,l,d),g=ks(e,l,c)):8===s?(b=ks(e,d,l),g=1-ks(e,c,l)):9===s?(y=1-ks(e,u,d),g=1-ks(e,c,l)):10===s?(g=1-ks(e,c,l),w=1-ks(e,c,u),y=ks(e,d,u),b=ks(e,d,l)):11===s?(g=1-ks(e,c,l),w=1-ks(e,c,u)):12===s?(b=ks(e,d,l),w=ks(e,u,c)):13===s?(y=1-ks(e,u,d),w=ks(e,u,c)):14===s?(b=ks(e,d,l),y=ks(e,d,u)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),r.cells[o][a]={cval:s,flipped:h,top:g,right:w,bottom:y,left:b})}}}return r}(n,e));return"function"==typeof sk.successCallback&&sk.successCallback(s),s}function ks(n,e,t){return(n-e)/(t-e)}function Gct(n){return 0===n.cval||15===n.cval}function Hct(n){!Gct(n)&&5!==n.cval&&10!==n.cval&&(n.cval=15)}function rU(n,e){return"top"===e?[n.top,1]:"bottom"===e?[n.bottom,0]:"right"===e?[1,n.right]:"left"===e?[0,n.left]:void 0}const W$t=function G$t(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.zProperty||"elevation",r=t.commonProperties||{},o=t.breaksProperties||[];if($m(n,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!Cs(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function z$t(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.zProperty||"elevation",i=e.flip,r=e.flags;$m(n,"Point","input must contain Points");for(var o=function U$t(n,e){var t={};os(n,function(o){var a=qr(o)[1];t[a]||(t[a]=[]),t[a].push(o)});var i=Object.keys(t).map(function(o){var s=t[o].sort(function(l,c){return qr(l)[0]-qr(c)[0]});return s}),r=i.sort(function(o,a){return e?qr(o[0])[1]-qr(a[0])[1]:qr(a[0])[1]-qr(o[0])[1]});return r}(n,i),a=[],s=0;s<o.length;s++){for(var l=o[s],c=[],u=0;u<l.length;u++){var d=l[u];c.push(d.properties[t]?d.properties[t]:0),!0===r&&(d.properties.matrixPosition=[s,u])}a.push(c)}return a}(n,{zProperty:i,flip:!0}),s=function H$t(n,e,t,i,r){for(var o=[],a=1;a<e.length;a++){var s=+e[a],l=iU({},i,r[a]);l[t]=s;var c=vv(O$t(n,s),l);o.push(c)}return o}(a,e,i,r,o),l=function j$t(n,e,t){var i=Uc(t),a=i[0],s=i[1],u=(i[2]-i[0])/(e[0].length-1),d=(i[3]-i[1])/(e.length-1),h=function(p){p[0]=p[0]*u+a,p[1]=p[1]*d+s};return n.forEach(function(p){Kl(p,h)}),n}(s,a,n);return Ur(l)};var Z$t=Z(1335);function jct(n,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var t=[];if(Kl(n,function(r){t.push([r[0],r[1]])}),!t.length)return null;var i=Z$t(t,e.concavity);return i.length>3?Xo([i]):null}function Rs(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=Hs(n),r=ul(e),o=r.type,a=e.bbox,s=r.coordinates;if(a&&!1===function Y$t(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}(i,a))return!1;"Polygon"===o&&(s=[s]);for(var l=!1,c=0;c<s.length&&!l;c++)if(Wct(i,s[c][0],t.ignoreBoundary)){for(var u=!1,d=1;d<s[c].length&&!u;)Wct(i,s[c][d],!t.ignoreBoundary)&&(u=!0),d++;u||(l=!0)}return l}function Wct(n,e,t){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],l=e[o][0],c=e[o][1];if(n[1]*(a-l)+s*(l-n[0])+c*(n[0]-a)==0&&(a-n[0])*(l-n[0])<=0&&(s-n[1])*(c-n[1])<=0)return!t;s>n[1]!=c>n[1]&&n[0]<(l-a)*(n[1]-s)/(c-s)+a&&(i=!i)}return i}const oU=function X$t(n,e){var t=[];return os(n,function(i){var r=!1;if("Point"===i.geometry.type)th(e,function(a){Rs(i,a)&&(r=!0)}),r&&t.push(i);else{if("MultiPoint"!==i.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var o=[];th(e,function(a){Kl(i,function(s){Rs(s,a)&&(r=!0,o.push(s))})}),r&&t.push(Ax(o))}}),Ur(t)},Ms=function $$t(n,e,t){void 0===t&&(t={});var i=Hs(n),r=Hs(e),o=iu(r[1]-i[1]),a=iu(r[0]-i[0]),s=iu(i[1]),l=iu(r[1]),c=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return Ix(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),t.units)};function Zct(n,e){var t=!1;return Ur(function Q$t(n){if(n.length<3)return[];n.sort(q$t);for(var s,l,c,e=n.length-1,t=n[e].x,i=n[0].x,r=n[e].y,o=r;e--;)n[e].y<r&&(r=n[e].y),n[e].y>o&&(o=n[e].y);var j,p=i-t,g=o-r,y=p>g?p:g,b=.5*(i+t),w=.5*(o+r),C=[new Yct({__sentinel:!0,x:b-20*y,y:w-y},{__sentinel:!0,x:b,y:w+20*y},{__sentinel:!0,x:b+20*y,y:w-y})],E=[],k=[];for(e=n.length;e--;){for(k.length=0,j=C.length;j--;)(p=n[e].x-C[j].x)>0&&p*p>C[j].r?(E.push(C[j]),C.splice(j,1)):!(p*p+(g=n[e].y-C[j].y)*g>C[j].r)&&(k.push(C[j].a,C[j].b,C[j].b,C[j].c,C[j].c,C[j].a),C.splice(j,1));for(K$t(k),j=k.length;j;)l=k[--j],s=k[--j],c=n[e],Math.abs(2*((l.x-s.x)*(c.y-l.y)-(l.y-s.y)*(c.x-l.x)))>1e-12&&C.push(new Yct(s,l,c))}for(Array.prototype.push.apply(E,C),e=E.length;e--;)(E[e].a.__sentinel||E[e].b.__sentinel||E[e].c.__sentinel)&&E.splice(e,1);return E}(n.features.map(function(i){var r={x:i.geometry.coordinates[0],y:i.geometry.coordinates[1]};return e?r.z=i.properties[e]:3===i.geometry.coordinates.length&&(t=!0,r.z=i.geometry.coordinates[2]),r})).map(function(i){var r=[i.a.x,i.a.y],o=[i.b.x,i.b.y],a=[i.c.x,i.c.y],s={};return t?(r.push(i.a.z),o.push(i.b.z),a.push(i.c.z)):s={a:i.a.z,b:i.b.z,c:i.c.z},Xo([[r,o,a,r]],s)}))}var Yct=function n(e,t,i){this.a=e,this.b=t,this.c=i;var d,h,r=t.x-e.x,o=t.y-e.y,a=i.x-e.x,s=i.y-e.y,l=r*(e.x+t.x)+o*(e.y+t.y),c=a*(e.x+i.x)+s*(e.y+i.y),u=2*(r*(i.y-t.y)-o*(i.x-t.x));this.x=(s*l-o*c)/u,this.y=(r*c-a*l)/u,this.r=(d=this.x-e.x)*d+(h=this.y-e.y)*h};function q$t(n,e){return e.x-n.x}function K$t(n){var t,i,r,o,a,e=n.length;t:for(;e;)for(i=n[--e],t=n[--e],r=e;r;)if(a=n[--r],o=n[--r],t===o&&i===a||t===a&&i===o){n.splice(e,2),n.splice(r,2),e-=2;continue t}}function Xct(n){var e={type:"Feature"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"properties":case"geometry":return;default:e[t]=n[t]}}),e.properties=$ct(n.properties),e.geometry=aU(n.geometry),e}function $ct(n){var e={};return n&&Object.keys(n).forEach(function(t){var i=n[t];e[t]="object"==typeof i?null===i?null:Array.isArray(i)?i.map(function(r){return r}):$ct(i):i}),e}function aU(n){var e={type:n.type};return n.bbox&&(e.bbox=n.bbox),"GeometryCollection"===n.type?(e.geometries=n.geometries.map(function(t){return aU(t)}),e):(e.coordinates=qct(n.coordinates),e)}function qct(n){var e=n;return"object"!=typeof e[0]?e.slice():e.map(function(t){return qct(t)})}const Su=function J$t(n){if(!n)throw new Error("geojson is required");switch(n.type){case"Feature":return Xct(n);case"FeatureCollection":return function tqt(n){var e={type:"FeatureCollection"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"features":return;default:e[t]=n[t]}}),e.features=n.features.map(function(t){return Xct(t)}),e}(n);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return aU(n);default:throw new Error("unknown GeoJSON type")}};function lk(n){return n[0].toString()+","+n[1].toString()}function oqt(n){return n}function sU(n,e){var t=function aqt(n){if(null==n)return oqt;var e,t,i=n.scale[0],r=n.scale[1],o=n.translate[0],a=n.translate[1];return function(s,l){l||(e=t=0);var c=2,u=s.length,d=new Array(u);for(d[0]=(e+=s[0])*i+o,d[1]=(t+=s[1])*r+a;c<u;)d[c]=s[c],++c;return d}}(n.transform),i=n.arcs;function r(u,d){d.length&&d.pop();for(var h=i[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(t(h[p],p));u<0&&function rqt(n,e){for(var t,i=n.length,r=i-e;r<--i;)t=n[r],n[r++]=n[i],n[i]=t}(d,g)}function o(u){return t(u)}function a(u){for(var d=[],h=0,p=u.length;h<p;++h)r(u[h],d);return d.length<2&&d.push(d[0]),d}function s(u){for(var d=a(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(s)}return function c(u){var h,d=u.type;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=a(u.arcs);break;case"MultiLineString":h=u.arcs.map(a);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}(e)}function cqt(n){return sU(n,uqt.apply(this,arguments))}function uqt(n,e){var t={},i=[],r=[];function a(l){l.forEach(function(c){c.forEach(function(u){(t[u=u<0?~u:u]||(t[u]=[])).push(l)})}),i.push(l)}function s(l){return function lqt(n){for(var i,e=-1,t=n.length,r=n[t-1],o=0;++e<t;)o+=(i=r)[0]*(r=n[e])[1]-i[1]*r[0];return Math.abs(o)}(sU(n,{type:"Polygon",arcs:[l]}).coordinates[0])}return e.forEach(function o(l){switch(l.type){case"GeometryCollection":l.geometries.forEach(o);break;case"Polygon":a(l.arcs);break;case"MultiPolygon":l.arcs.forEach(a)}}),i.forEach(function(l){if(!l._){var c=[],u=[l];for(l._=1,r.push(c);l=u.pop();)c.push(l),l.forEach(function(d){d.forEach(function(h){t[h<0?~h:h].forEach(function(p){p._||(p._=1,u.push(p))})})})}}),i.forEach(function(l){delete l._}),{type:"MultiPolygon",arcs:r.map(function(l){var u,c=[];if(l.forEach(function(y){y.forEach(function(b){b.forEach(function(w){t[w<0?~w:w].length<2&&c.push(w)})})}),(u=(c=function sqt(n,e){var t={},i={},r={},o=[],a=-1;function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){t[p<0?~p:p]=1}),o.push(h)}}return e.forEach(function(c,u){var h,d=n.arcs[c<0?~c:c];d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++a],e[a]=c,e[u]=h)}),e.forEach(function(c){var p,g,u=function s(c){var h,u=n.arcs[c<0?~c:c],d=u[0];return n.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}(c),d=u[0],h=u[1];if(p=r[d])if(delete r[p.end],p.push(c),p.end=h,g=i[h]){delete i[g.start];var y=g===p?p:p.concat(g);i[y.start=p.start]=r[y.end=g.end]=y}else i[p.start]=r[p.end]=p;else if(p=i[h])if(delete i[p.start],p.unshift(c),p.start=d,g=r[d]){delete r[g.end];var b=g===p?p:g.concat(p);i[b.start=g.start]=r[b.end=p.end]=b}else i[p.start]=r[p.end]=p;else i[(p=[c]).start=d]=r[p.end=h]=p}),l(r,i),l(i,r),e.forEach(function(c){t[c<0?~c:c]||o.push([c])}),o}(n,c)).length)>1)for(var p,g,d=1,h=s(c[0]);d<u;++d)(p=s(c[d]))>h&&(g=c[0],c[0]=c[d],c[d]=g,h=p);return c}).filter(function(l){return l.length>0})}}var ck=Object.prototype.hasOwnProperty;function lU(n,e,t,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var a=new i(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),s=new o(n),l=n-1,c=0;c<n;++c)a[c]=r;return{set:function u(g,y){for(var b=e(g)&l,w=a[b],C=0;w!=r;){if(t(w,g))return s[b]=y;if(++C>=n)throw new Error("full hashmap");w=a[b=b+1&l]}return a[b]=g,s[b]=y,y},maybeSet:function d(g,y){for(var b=e(g)&l,w=a[b],C=0;w!=r;){if(t(w,g))return s[b];if(++C>=n)throw new Error("full hashmap");w=a[b=b+1&l]}return a[b]=g,s[b]=y,y},get:function h(g,y){for(var b=e(g)&l,w=a[b],C=0;w!=r;){if(t(w,g))return s[b];if(++C>=n)break;w=a[b=b+1&l]}return y},keys:function p(){for(var g=[],y=0,b=a.length;y<b;++y){var w=a[y];w!=r&&g.push(w)}return g}}}function Vy(n,e){return n[0]===e[0]&&n[1]===e[1]}var Qct=new ArrayBuffer(16),Jct=new Float64Array(Qct),uk=new Uint32Array(Qct);function cU(n){Jct[0]=n[0],Jct[1]=n[1];var e=uk[0]^uk[1];return 2147483647&(e<<5^e>>7^uk[2]^uk[3])}function mqt(n,e,t,i){uU(n,e,t),uU(n,e,e+i),uU(n,e+i,t)}function uU(n,e,t){for(var r,i=e+(t---e>>1);e<i;++e,--t)r=n[e],n[e]=n[t],n[t]=r}function bqt(n){return null==n?{type:null}:("FeatureCollection"===n.type?xqt:"Feature"===n.type?tut:dU)(n)}function xqt(n){var e={type:"GeometryCollection",geometries:n.features.map(tut)};return null!=n.bbox&&(e.bbox=n.bbox),e}function tut(n){var t,e=dU(n.geometry);for(t in null!=n.id&&(e.id=n.id),null!=n.bbox&&(e.bbox=n.bbox),n.properties){e.properties=n.properties;break}return e}function dU(n){if(null==n)return{type:null};var e="GeometryCollection"===n.type?{type:"GeometryCollection",geometries:n.geometries.map(dU)}:"Point"===n.type||"MultiPoint"===n.type?{type:n.type,coordinates:n.coordinates}:{type:n.type,arcs:n.coordinates};return null!=n.bbox&&(e.bbox=n.bbox),e}function Sqt(n,e){var t=function dqt(n){var e=1/0,t=1/0,i=-1/0,r=-1/0;function o(d){null!=d&&ck.call(a,d.type)&&a[d.type](d)}var a={GeometryCollection:function(d){d.geometries.forEach(o)},Point:function(d){s(d.coordinates)},MultiPoint:function(d){d.coordinates.forEach(s)},LineString:function(d){l(d.arcs)},MultiLineString:function(d){d.arcs.forEach(l)},Polygon:function(d){d.arcs.forEach(l)},MultiPolygon:function(d){d.arcs.forEach(c)}};function s(d){var h=d[0],p=d[1];h<e&&(e=h),h>i&&(i=h),p<t&&(t=p),p>r&&(r=p)}function l(d){d.forEach(s)}function c(d){d.forEach(l)}for(var u in n)o(n[u]);return i>=e&&r>=t?[e,t,i,r]:void 0}(n=function yqt(n){var t,e={};for(t in n)e[t]=bqt(n[t]);return e}(n)),i=e>0&&t&&function wqt(n,e,t){var i=e[0],r=e[1],o=e[2],a=e[3],s=o-i?(t-1)/(o-i):1,l=a-r?(t-1)/(a-r):1;function c(w){return[Math.round((w[0]-i)*s),Math.round((w[1]-r)*l)]}function u(w,C){for(var it,yt,lt,Lt,kt,E=-1,k=0,j=w.length,H=new Array(j);++E<j;)it=w[E],Lt=Math.round((it[0]-i)*s),kt=Math.round((it[1]-r)*l),(Lt!==yt||kt!==lt)&&(H[k++]=[yt=Lt,lt=kt]);for(H.length=k;k<C;)k=H.push([H[0][0],H[0][1]]);return H}function d(w){return u(w,2)}function h(w){return u(w,4)}function p(w){return w.map(h)}function g(w){null!=w&&ck.call(y,w.type)&&y[w.type](w)}var y={GeometryCollection:function(w){w.geometries.forEach(g)},Point:function(w){w.coordinates=c(w.coordinates)},MultiPoint:function(w){w.coordinates=w.coordinates.map(c)},LineString:function(w){w.arcs=d(w.arcs)},MultiLineString:function(w){w.arcs=w.arcs.map(d)},Polygon:function(w){w.arcs=p(w.arcs)},MultiPolygon:function(w){w.arcs=w.arcs.map(p)}};for(var b in n)g(n[b]);return{scale:[1/s,1/l],translate:[i,r]}}(n,t,e),r=function gqt(n){var i,o,s,l,e=n.coordinates,t=n.lines,r=n.rings,a=t.length+r.length;for(delete n.lines,delete n.rings,s=0,l=t.length;s<l;++s)for(i=t[s];i=i.next;)++a;for(s=0,l=r.length;s<l;++s)for(o=r[s];o=o.next;)++a;var c=lU(2*a*1.4,cU,Vy),u=n.arcs=[];for(s=0,l=t.length;s<l;++s){i=t[s];do{d(i)}while(i=i.next)}for(s=0,l=r.length;s<l;++s)if((o=r[s]).next)do{d(o)}while(o=o.next);else h(o);function d(C){var E,k,j,H,it,yt,lt,Lt;if(j=c.get(E=e[C[0]]))for(lt=0,Lt=j.length;lt<Lt;++lt)if(p(H=j[lt],C))return C[0]=H[0],void(C[1]=H[1]);if(it=c.get(k=e[C[1]]))for(lt=0,Lt=it.length;lt<Lt;++lt)if(g(yt=it[lt],C))return C[1]=yt[0],void(C[0]=yt[1]);j?j.push(C):c.set(E,[C]),it?it.push(C):c.set(k,[C]),u.push(C)}function h(C){var E,k,j,H,it;if(k=c.get(e[C[0]]))for(H=0,it=k.length;H<it;++H){if(y(j=k[H],C))return C[0]=j[0],void(C[1]=j[1]);if(b(j,C))return C[0]=j[1],void(C[1]=j[0])}if(k=c.get(E=e[C[0]+w(C)]))for(H=0,it=k.length;H<it;++H){if(y(j=k[H],C))return C[0]=j[0],void(C[1]=j[1]);if(b(j,C))return C[0]=j[1],void(C[1]=j[0])}k?k.push(C):c.set(E,[C]),u.push(C)}function p(C,E){var k=C[0],j=E[0],H=C[1];if(k-H!=j-E[1])return!1;for(;k<=H;++k,++j)if(!Vy(e[k],e[j]))return!1;return!0}function g(C,E){var k=C[0],H=C[1],it=E[1];if(k-H!=E[0]-it)return!1;for(;k<=H;++k,--it)if(!Vy(e[k],e[it]))return!1;return!0}function y(C,E){var k=C[0],j=E[0],yt=C[1]-k;if(yt!==E[1]-j)return!1;for(var lt=w(C),Lt=w(E),kt=0;kt<yt;++kt)if(!Vy(e[k+(kt+lt)%yt],e[j+(kt+Lt)%yt]))return!1;return!0}function b(C,E){var k=C[0],it=E[1],yt=C[1]-k;if(yt!==it-E[0])return!1;for(var lt=w(C),Lt=yt-w(E),kt=0;kt<yt;++kt)if(!Vy(e[k+(kt+lt)%yt],e[it-(kt+Lt)%yt]))return!1;return!0}function w(C){for(var E=C[0],k=C[1],j=E,H=j,it=e[j];++j<k;){var yt=e[j];(yt[0]<it[0]||yt[0]===it[0]&&yt[1]<it[1])&&(H=j,it=yt)}return H-E}return n}(function pqt(n){var o,a,s,e=function fqt(n){var u,d,p,g,e=n.coordinates,t=n.lines,i=n.rings,r=function H(){for(var kt=lU(1.4*e.length,it,yt,Int32Array,-1,Int32Array),Jt=new Int32Array(e.length),ne=0,ce=e.length;ne<ce;++ne)Jt[ne]=kt.maybeSet(ne,ne);return Jt}(),o=new Int32Array(e.length),a=new Int32Array(e.length),s=new Int32Array(e.length),l=new Int8Array(e.length),c=0;for(u=0,d=e.length;u<d;++u)o[u]=a[u]=s[u]=-1;for(u=0,d=t.length;u<d;++u){var y=t[u],b=y[0],w=y[1];for(p=r[b],g=r[++b],++c,l[p]=1;++b<=w;)j(u,p,p=g,g=r[b]);++c,l[g]=1}for(u=0,d=e.length;u<d;++u)o[u]=-1;for(u=0,d=i.length;u<d;++u){var C=i[u],E=C[0]+1,k=C[1];for(j(u,r[k-1],p=r[E-1],g=r[E]);++E<=k;)j(u,p,p=g,g=r[E])}function j(kt,Jt,ne,ce){if(o[ne]!==kt){o[ne]=kt;var Ee=a[ne];if(Ee>=0){var be=s[ne];(Ee!==Jt||be!==ce)&&(Ee!==ce||be!==Jt)&&(++c,l[ne]=1)}else a[ne]=Jt,s[ne]=ce}}function it(kt){return cU(e[kt])}function yt(kt,Jt){return Vy(e[kt],e[Jt])}o=a=s=null;var Lt,lt=function hqt(n,e,t,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),a=n-1,s=0;s<n;++s)o[s]=r;return{add:function l(d){for(var h=e(d)&a,p=o[h],g=0;p!=r;){if(t(p,d))return!0;if(++g>=n)throw new Error("full hashset");p=o[h=h+1&a]}return o[h]=d,!0},has:function c(d){for(var h=e(d)&a,p=o[h],g=0;p!=r;){if(t(p,d))return!0;if(++g>=n)break;p=o[h=h+1&a]}return!1},values:function u(){for(var d=[],h=0,p=o.length;h<p;++h){var g=o[h];g!=r&&d.push(g)}return d}}}(1.4*c,cU,Vy);for(u=0,d=e.length;u<d;++u)l[Lt=r[u]]&&lt.add(e[Lt]);return lt}(n),t=n.coordinates,i=n.lines,r=n.rings;for(a=0,s=i.length;a<s;++a)for(var l=i[a],c=l[0],u=l[1];++c<u;)e.has(t[c])&&(o={0:c,1:l[1]},l[1]=c,l=l.next=o);for(a=0,s=r.length;a<s;++a)for(var d=r[a],h=d[0],p=h,g=d[1],y=e.has(t[h]);++p<g;)e.has(t[p])&&(y?(o={0:p,1:d[1]},d[1]=p,d=d.next=o):(mqt(t,h,g,g-p),t[g]=t[h],y=!0,p=h));return n}(function _qt(n){var e=-1,t=[],i=[],r=[];function o(d){d&&ck.call(a,d.type)&&a[d.type](d)}var a={GeometryCollection:function(d){d.geometries.forEach(o)},LineString:function(d){d.arcs=s(d.arcs)},MultiLineString:function(d){d.arcs=d.arcs.map(s)},Polygon:function(d){d.arcs=d.arcs.map(l)},MultiPolygon:function(d){d.arcs=d.arcs.map(c)}};function s(d){for(var h=0,p=d.length;h<p;++h)r[++e]=d[h];var g={0:e-p+1,1:e};return t.push(g),g}function l(d){for(var h=0,p=d.length;h<p;++h)r[++e]=d[h];var g={0:e-p+1,1:e};return i.push(g),g}function c(d){return d.map(l)}for(var u in n)o(n[u]);return{type:"Topology",coordinates:r,lines:t,rings:i,objects:n}}(n))),o=r.coordinates,a=lU(1.4*r.arcs.length,Cqt,Mqt);function s(h){h&&ck.call(l,h.type)&&l[h.type](h)}n=r.objects,r.bbox=t,r.arcs=r.arcs.map(function(h,p){return a.set(h,p),o.slice(h[0],h[1]+1)}),delete r.coordinates,o=null;var l={GeometryCollection:function(h){h.geometries.forEach(s)},LineString:function(h){h.arcs=c(h.arcs)},MultiLineString:function(h){h.arcs=h.arcs.map(c)},Polygon:function(h){h.arcs=h.arcs.map(c)},MultiPolygon:function(h){h.arcs=h.arcs.map(u)}};function c(h){var p=[];do{var g=a.get(h);p.push(h[0]<h[1]?g:~g)}while(h=h.next);return p}function u(h){return h.map(c)}for(var d in n)s(n[d]);return i&&(r.transform=i,r.arcs=function vqt(n){for(var e=-1,t=n.length;++e<t;){for(var u,d,i=n[e],r=0,o=1,a=i.length,s=i[0],l=s[0],c=s[1];++r<a;)d=(s=i[r])[1],((u=s[0])!==l||d!==c)&&(i[o++]=[u-l,d-c],l=u,c=d);1===o&&(i[o++]=[0,0]),i.length=o}return n}(r.arcs)),r}function Cqt(n){var i,e=n[0],t=n[1];return t<e&&(i=e,e=t,t=i),e+31*t}function Mqt(n,e){var a,t=n[0],i=n[1],r=e[0],o=e[1];return i<t&&(a=t,t=i,i=a),o<r&&(a=r,r=o,o=a),t===r&&i===o}const Aqt=function Tqt(n,e){if(void 0===e&&(e={}),!Cs(e=e||{}))throw new Error("options is invalid");var t=e.mutate;if("FeatureCollection"!==Id(n))throw new Error("geojson must be a FeatureCollection");if(!n.features.length)throw new Error("geojson is empty");(!1===t||void 0===t)&&(n=Su(n));var i=function Dqt(n){var e={};fu(n,function(i){e[i.geometry.type]=!0});var t=Object.keys(e);return 1===t.length?t[0]:null}(n);if(!i)throw new Error("geojson must be homogenous");var r=n;switch(i){case"LineString":return function eqt(n,e){if(void 0===e&&(e={}),!Cs(e=e||{}))throw new Error("options is invalid");var t=e.mutate;if("FeatureCollection"!==Id(n))throw new Error("geojson must be a FeatureCollection");if(!n.features.length)throw new Error("geojson is empty");(!1===t||void 0===t)&&(n=Su(n));var i=[],r=tU(n,function(o,a){var s=function nqt(n,e){var l,t=n.geometry.coordinates,i=e.geometry.coordinates,r=lk(t[0]),o=lk(t[t.length-1]),a=lk(i[0]),s=lk(i[i.length-1]);if(r===s)l=i.concat(t.slice(1));else if(a===o)l=t.concat(i.slice(1));else if(r===a)l=t.slice(1).reverse().concat(i);else{if(o!==s)return null;l=t.concat(i.reverse().slice(1))}return ys(l)}(o,a);return s||(i.push(o),a)});return r&&i.push(r),i.length?1===i.length?i[0]:vv(i.map(function(o){return o.coordinates})):null}(r,e);case"Polygon":return function Eqt(n,e){if(void 0===e&&(e={}),"FeatureCollection"!==Id(n))throw new Error("geojson must be a FeatureCollection");if(!n.features.length)throw new Error("geojson is empty");(!1===e.mutate||void 0===e.mutate)&&(n=Su(n));var t=[];fu(n,function(o){t.push(o.geometry)});var i=Sqt({geoms:Y4(t).geometry});return cqt(i,i.objects.geoms.geometries)}(r,e);default:throw new Error(i+" is not supported")}},kqt=function Iqt(n,e){void 0===e&&(e={});var t=e.maxEdge||1/0,i=function Pqt(n){var e=[],t={};return os(n,function(i){if(i.geometry){var r=i.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(t,r)||(e.push(i),t[r]=!0)}}),Ur(e)}(n),r=Zct(i);if(r.features=r.features.filter(function(a){var s=a.geometry.coordinates[0][0],l=a.geometry.coordinates[0][1],c=a.geometry.coordinates[0][2],u=Ms(s,l,e),d=Ms(l,c,e),h=Ms(s,c,e);return u<=t&&d<=t&&h<=t}),r.features.length<1)return null;var o=Aqt(r);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),zc(o)};var hU=Z(3544);const Lqt=function Rqt(n,e,t,i){var r=hU(6),o=e.features.map(function(a){var s;return{minX:a.geometry.coordinates[0],minY:a.geometry.coordinates[1],maxX:a.geometry.coordinates[0],maxY:a.geometry.coordinates[1],property:null===(s=a.properties)||void 0===s?void 0:s[t]}});return r.load(o),n.features.forEach(function(a){a.properties||(a.properties={});var s=Uc(a),l=r.search({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}),c=[];l.forEach(function(u){Rs([u.minX,u.minY],a)&&c.push(u.property)}),a.properties[i]=c}),n},Nqt=function Oqt(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.mutate;if(!n)throw new Error("geojson is required");return(!1===t||void 0===t)&&(n=Su(n)),Kl(n,function(i){var r=i[0];i[0]=i[1],i[1]=r}),n};function fU(n){var e=qr(n);if(2===e.length&&!eut(e[0],e[1]))return e;var t=[],i=e.length-1,r=t.length;t.push(e[0]);for(var o=1;o<i;o++){var a=t[t.length-1];e[o][0]===a[0]&&e[o][1]===a[1]||(t.push(e[o]),(r=t.length)>2&&nut(t[r-3],t[r-1],t[r-2])&&t.splice(t.length-2,1))}if(t.push(e[e.length-1]),r=t.length,eut(e[0],e[e.length-1])&&r<4)throw new Error("invalid polygon");return nut(t[r-3],t[r-1],t[r-2])&&t.splice(t.length-2,1),t}function eut(n,e){return n[0]===e[0]&&n[1]===e[1]}function nut(n,e,t){var i=t[0],r=t[1],o=n[0],a=n[1],s=e[0],l=e[1],d=s-o,h=l-a;return 0==(i-o)*h-(r-a)*d&&(Math.abs(d)>=Math.abs(h)?d>0?o<=i&&i<=s:s<=i&&i<=o:h>0?a<=r&&r<=l:l<=r&&r<=a)}const zy=function Fqt(n,e){void 0===e&&(e={});var t="object"==typeof e?e.mutate:e;if(!n)throw new Error("geojson is required");var i=Id(n),r=[];switch(i){case"LineString":r=fU(n);break;case"MultiLineString":case"Polygon":qr(n).forEach(function(a){r.push(fU(a))});break;case"MultiPolygon":qr(n).forEach(function(a){var s=[];a.forEach(function(l){s.push(fU(l))}),r.push(s)});break;case"Point":return n;case"MultiPoint":var o={};qr(n).forEach(function(a){var s=a.join("-");Object.prototype.hasOwnProperty.call(o,s)||(r.push(a),o[s]=!0)});break;default:throw new Error(i+" geometry not supported")}return n.coordinates?!0===t?(n.coordinates=r,n):{type:i,coordinates:r}:!0===t?(n.geometry.coordinates=r,n):zc({type:i,coordinates:r},n.properties,{bbox:n.bbox,id:n.id})};function Bqt(n,e){var t=n.x-e.x,i=n.y-e.y;return t*t+i*i}function Vqt(n,e,t){var i=e.x,r=e.y,o=t.x-i,a=t.y-r;if(0!==o||0!==a){var s=((n.x-i)*o+(n.y-r)*a)/(o*o+a*a);s>1?(i=t.x,r=t.y):s>0&&(i+=o*s,r+=a*s)}return(o=n.x-i)*o+(a=n.y-r)*a}function pU(n,e,t,i,r){for(var a,o=i,s=e+1;s<t;s++){var l=Vqt(n[s],n[e],n[t]);l>o&&(a=s,o=l)}o>i&&(a-e>1&&pU(n,e,a,i,r),r.push(n[a]),t-a>1&&pU(n,a,t,i,r))}function Uqt(n,e){var t=n.length-1,i=[n[0]];return pU(n,0,t,e,i),i.push(n[t]),i}function mU(n,e,t){if(n.length<=2)return n;var i=void 0!==e?e*e:1;return n=t?n:function zqt(n,e){for(var r,t=n[0],i=[t],o=1,a=n.length;o<a;o++)Bqt(r=n[o],t)>e&&(i.push(r),t=r);return t!==r&&i.push(r),i}(n,i),Uqt(n,i)}function iut(n,e,t){return mU(n.map(function(i){return{x:i[0],y:i[1],z:i[2]}}),e,t).map(function(i){return i.z?[i.x,i.y,i.z]:[i.x,i.y]})}function rut(n,e,t){return n.map(function(i){var r=i.map(function(a){return{x:a[0],y:a[1]}});if(r.length<4)throw new Error("invalid polygon");for(var o=mU(r,e,t).map(function(a){return[a.x,a.y]});!jqt(o);)o=mU(r,e-=.01*e,t).map(function(a){return[a.x,a.y]});return(o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1])&&o.push(o[0]),o})}function jqt(n){return!(n.length<3||3===n.length&&n[2][0]===n[0][0]&&n[2][1]===n[0][1])}const Wqt=function Gqt(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!n)throw new Error("geojson is required");if(t&&t<0)throw new Error("invalid tolerance");return!0!==r&&(n=Su(n)),th(n,function(o){!function Hqt(n,e,t){var i=n.type;if("Point"===i||"MultiPoint"===i)return n;zy(n,!0);var r=n.coordinates;switch(i){case"LineString":n.coordinates=iut(r,e,t);break;case"MultiLineString":n.coordinates=r.map(function(o){return iut(o,e,t)});break;case"Polygon":n.coordinates=rut(r,e,t);break;case"MultiPolygon":n.coordinates=r.map(function(o){return rut(o,e,t)})}}(o,t,i)}),n};var Zqt=function(){function n(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var i=this.points[t],r=this.points[t+1];this.centers.push({x:(i.x+r.x)/2,y:(i.y+r.y)/2,z:(i.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,a=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,s=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+s)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return n.prototype.cacheSteps=function(e){var t=[],i=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)+(o.z-i.z)*(o.z-i.z))>e&&(t.push(r),i=o)}return t},n.prototype.vector=function(e){var t=this.pos(e+10),i=this.pos(e-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}},n.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var i=t/this.duration;if(i>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*i);return function Xqt(n,e,t,i,r){var o=function $qt(n){var e=n*n;return[e*n,3*e*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:r.x*o[0]+i.x*o[1]+t.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+t.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+t.z*o[2]+e.z*o[3]}}((this.length-1)*i-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},n}();const Yqt=Zqt,out=function qqt(n,e){void 0===e&&(e={});for(var t=e.resolution||1e4,i=e.sharpness||.85,r=[],o=ul(n).coordinates.map(function(c){return{x:c[0],y:c[1]}}),a=new Yqt({duration:t,points:o,sharpness:i}),s=function(c){var u=a.pos(c);Math.floor(c/100)%2==0&&r.push([u.x,u.y])},l=0;l<a.duration;l+=10)s(l);return s(a.duration),ys(r,e.properties)},Qqt=function Kqt(n,e,t,i){return n=Su(n),e=Su(e),os(n,function(r){r.properties||(r.properties={}),os(e,function(o){void 0===r.properties[i]&&Rs(r,o)&&(r.properties[i]=o.properties[t])})}),n},eKt=function Jqt(n,e){if(!n)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");var t=Ur(function tKt(n,e){for(var o,a,t=n.slice(0),i=n.length,r=i-e;i-- >r;)o=t[a=Math.floor((i+1)*Math.random())],t[a]=t[i],t[i]=o;return t.slice(r)}(n.features,e));return t};function gU(n,e){void 0===e&&(e={});var t=Number(n[0]),i=Number(n[1]),r=Number(n[2]),o=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[t,i];return Xo([[a,[r,i],[r,o],[t,o],a]],e.properties,{bbox:n,id:e.id})}const aut=function nKt(n){return gU(Uc(n))},sut=function iKt(n){var e=n[0],t=n[1],i=n[2],r=n[3];if(Ms(n.slice(0,2),[i,t])>=Ms(n.slice(0,2),[e,r])){var s=(t+r)/2;return[e,s-(i-e)/2,i,s+(i-e)/2]}var l=(e+i)/2;return[l-(r-t)/2,t,l+(r-t)/2,r]};function Np(n,e,t,i){void 0===i&&(i={});var r=Hs(n),o=iu(r[0]),a=iu(r[1]),s=iu(t),l=Ny(e,i.units),c=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s));return Ho([_v(o+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(c))),_v(c)],i.properties)}const vU=function rKt(n,e,t){void 0===t&&(t={});for(var i=t.steps||64,r=t.properties?t.properties:!Array.isArray(n)&&"Feature"===n.type&&n.properties?n.properties:{},o=[],a=0;a<i;a++)o.push(Np(n,e,-360*a/i,t).geometry.coordinates);return o.push(o[0]),Xo([o],r)};function qm(n,e,t){if(void 0===t&&(t={}),!0===t.final)return function oKt(n,e){var t=qm(e,n);return t=(t+180)%360}(n,e);var i=Hs(n),r=Hs(e),o=iu(i[0]),a=iu(r[0]),s=iu(i[1]),l=iu(r[1]),c=Math.sin(a-o)*Math.cos(l),u=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return _v(Math.atan2(c,u))}const sKt=function aKt(n,e){return Np(n,Ms(n,e)/2,qm(n,e))},dk=function lKt(n,e){void 0===e&&(e={});var t=Uc(n);return Ho([(t[0]+t[2])/2,(t[1]+t[3])/2],e.properties,e)},yv=function cKt(n,e){void 0===e&&(e={});var t=0,i=0,r=0;return Kl(n,function(o){t+=o[0],i+=o[1],r++},!0),Ho([t/r,i/r],e.properties)},uKt=function lut(n,e){switch(void 0===e&&(e={}),Id(n)){case"Point":return Ho(Hs(n),e.properties);case"Polygon":var t=[];Kl(n,function(k){t.push(k)});var l,c,u,d,h,p,g,y,i=yv(n,{properties:e.properties}),r=i.geometry.coordinates,o=0,a=0,s=0,b=t.map(function(k){return[k[0]-r[0],k[1]-r[1]]});for(l=0;l<t.length-1;l++)s+=y=(d=(c=b[l])[0])*(g=(u=b[l+1])[1])-(h=u[0])*(p=c[1]),o+=(d+h)*y,a+=(p+g)*y;if(0===s)return i;var C=1/(.5*s*6);return Ho([r[0]+C*o,r[1]+C*a],e.properties);default:var E=jct(n);return E?lut(E,{properties:e.properties}):yv(n,{properties:e.properties})}},hKt=function dKt(n){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return os(n,function(t){var i,r,o,a;switch(null===(a=t.geometry)||void 0===a?void 0:a.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(i=e.MultiPoint.coordinates).push.apply(i,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(r=e.MultiLineString.coordinates).push.apply(r,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(o=e.MultiPolygon.coordinates).push.apply(o,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}}),Ur(Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){return zc({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})}))},hk=function fKt(n){var e=[];return"FeatureCollection"===n.type?os(n,function(t){Kl(t,function(i){e.push(Ho(i,t.properties))})}):Kl(n,function(t){e.push(Ho(t,n.properties))}),Ur(e)};var cut=Z(5469),pKt=Z.n(cut);function uut(n){var e=function gKt(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},i=0,r=0;r<n.length;r++){for(var o=0;o<n[r].length;o++)for(var a=0;a<e;a++)t.vertices.push(n[r][o][a]);r>0&&t.holes.push(i+=n[r-1].length)}return t}(n),i=cut(e.vertices,e.holes,2),r=[],o=[];i.forEach(function(l,c){var u=i[c];o.push([e.vertices[2*u],e.vertices[2*u+1]])});for(var a=0;a<o.length;a+=3){var s=o.slice(a,a+3);s.push(o[a]),r.push(Xo([s]))}return r}const vKt=function mKt(n){if(!n.geometry||"Polygon"!==n.geometry.type&&"MultiPolygon"!==n.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===n.geometry.type?e.features=uut(n.geometry.coordinates):n.geometry.coordinates.forEach(function(t){e.features=e.features.concat(uut(t))}),e},YC=function _Kt(n,e){if(!n)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var t,i=1/0,r=0;return os(e,function(o,a){var s=Ms(n,o);s<i&&(r=a,i=s)}),(t=Su(e.features[r])).properties.featureIndex=r,t.properties.distanceToPoint=i,t},Uy=function yKt(n){if(!n)throw new Error("geojson is required");var e=[];return fu(n,function(t){!function bKt(n,e){var t=[],i=n.geometry;if(null!==i){switch(i.type){case"Polygon":t=qr(i);break;case"LineString":t=[qr(i)]}t.forEach(function(r){var o=function xKt(n,e){var t=[];return n.reduce(function(i,r){var o=ys([i,r],e);return o.bbox=function wKt(n,e){var t=n[0],i=n[1],r=e[0],o=e[1];return[t<r?t:r,i<o?i:o,t>r?t:r,i>o?i:o]}(i,r),t.push(o),r}),t}(r,n.properties);o.forEach(function(a){a.id=e.length,e.push(a)})})}}(t,e)}),Ur(e)};var fk=Z(5406);function dut(n,e){var t=qr(n),i=qr(e);if(2!==t.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=t[0][0],o=t[0][1],a=t[1][0],s=t[1][1],l=i[0][0],c=i[0][1],u=i[1][0],d=i[1][1],h=(d-c)*(a-r)-(u-l)*(s-o);if(0===h)return null;var y=((u-l)*(o-c)-(d-c)*(r-l))/h,b=((a-r)*(o-c)-(s-o)*(r-l))/h;return y>=0&&y<=1&&b>=0&&b<=1?Ho([r+y*(a-r),o+y*(s-o)]):null}const Km=function SKt(n,e){var t={},i=[];if("LineString"===n.type&&(n=zc(n)),"LineString"===e.type&&(e=zc(e)),"Feature"===n.type&&"Feature"===e.type&&null!==n.geometry&&null!==e.geometry&&"LineString"===n.geometry.type&&"LineString"===e.geometry.type&&2===n.geometry.coordinates.length&&2===e.geometry.coordinates.length){var r=dut(n,e);return r&&i.push(r),Ur(i)}var o=fk();return o.load(Uy(e)),os(Uy(n),function(a){os(o.search(a),function(s){var l=dut(a,s);if(l){var c=qr(l).join(",");t[c]||(t[c]=!0,i.push(l))}})}),Ur(i)},Qm=function CKt(n,e,t){void 0===t&&(t={});var i=Ho([1/0,1/0],{dist:1/0}),r=0;return fu(n,function(o){for(var a=qr(o),s=0;s<a.length-1;s++){var l=Ho(a[s]);l.properties.dist=Ms(e,l,t);var c=Ho(a[s+1]);c.properties.dist=Ms(e,c,t);var u=Ms(l,c,t),d=Math.max(l.properties.dist,c.properties.dist),h=qm(l,c),p=Np(e,d,h+90,t),g=Np(e,d,h-90,t),y=Km(ys([p.geometry.coordinates,g.geometry.coordinates]),ys([l.geometry.coordinates,c.geometry.coordinates])),b=null;y.features.length>0&&((b=y.features[0]).properties.dist=Ms(e,b,t),b.properties.location=r+Ms(l,b,t)),l.properties.dist<i.properties.dist&&((i=l).properties.index=s,i.properties.location=r),c.properties.dist<i.properties.dist&&((i=c).properties.index=s+1,i.properties.location=r+u),b&&b.properties.dist<i.properties.dist&&((i=b).properties.index=s),r+=u}}),i},pk=function MKt(n,e,t){void 0===t&&(t={});var i=Hs(n),r=Hs(e);r[0]+=r[0]-i[0]>180?-360:i[0]-r[0]>180?360:0;var o=function EKt(n,e,t){var i=t=void 0===t?nu:Number(t),r=n[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-r,s=Math.abs(e[0]-n[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),c=Math.abs(l)>1e-11?a/l:Math.cos(r);return Math.sqrt(a*a+c*c*s*s)*i}(i,r);return By(o,"meters",t.units)};function hut(n,e){return n[0]*e[0]+n[1]*e[1]}function _U(n,e,t){return"planar"===t.method?pk(n,e,t):Ms(n,e,t)}const fut=function TKt(n,e,t){if(void 0===t&&(t={}),t.method||(t.method="geodesic"),t.units||(t.units="kilometers"),!n)throw new Error("pt is required");if(Array.isArray(n)?n=Ho(n):"Point"===n.type?n=zc(n):ZC(n,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=ys(e):"LineString"===e.type?e=zc(e):ZC(e,"LineString","line");var i=1/0,r=n.geometry.coordinates;return Xm(e,function(o){var l=function DKt(n,e,t,i){var r=[t[0]-e[0],t[1]-e[1]],a=hut([n[0]-e[0],n[1]-e[1]],r);if(a<=0)return _U(n,e,{method:i.method,units:"degrees"});var s=hut(r,r);if(s<=a)return _U(n,t,{method:i.method,units:"degrees"});var l=a/s;return _U(n,[e[0]+l*r[0],e[1]+l*r[1]],{method:i.method,units:"degrees"})}(r,o.geometry.coordinates[0],o.geometry.coordinates[1],t);l<i&&(i=l)}),By(i,"degrees",t.units)},PKt=function AKt(n,e,t){void 0===t&&(t={});var i=t.units,r=t.properties||{},o=function IKt(n){var e=[];switch(n.geometry?n.geometry.type:n.type){case"GeometryCollection":return th(n,function(i){"Point"===i.type&&e.push({type:"Feature",properties:{},geometry:i})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return n.features=n.features.filter(function(i){return"Point"===i.geometry.type}),n;default:throw new Error("points must be a Point Collection")}}(n);if(!o.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Id(e))throw new Error("line must be a LineString");var a=1/0,s=null;return os(o,function(l){var c=fut(l,e,{units:i});c<a&&(a=c,s=l)}),s&&(s.properties=iU({dist:a},s.properties,r)),s},RKt=function kKt(n,e){var t=Hs(n),o=ul(e).coordinates[0];if(o.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var a=e.properties||{},s=a.a,l=a.b,c=a.c,u=t[0],d=t[1],h=o[0][0],p=o[0][1],g=void 0!==s?s:o[0][2],y=o[1][0],b=o[1][1],w=void 0!==l?l:o[1][2],C=o[2][0],E=o[2][1],k=void 0!==c?c:o[2][2];return(k*(u-h)*(d-b)+g*(u-y)*(d-E)+w*(u-C)*(d-p)-w*(u-h)*(d-E)-k*(u-y)*(d-p)-g*(u-C)*(d-b))/((u-h)*(d-b)+(u-y)*(d-E)+(u-C)*(d-p)-(u-h)*(d-E)-(u-y)*(d-p)-(u-C)*(d-b))};function LKt(n){var e,t,i={type:"FeatureCollection",features:[]};if("LineString"===(t="Feature"===n.type?n.geometry:n).type)e=[t.coordinates];else if("MultiLineString"===t.type)e=t.coordinates;else if("MultiPolygon"===t.type)e=[].concat.apply([],t.coordinates);else{if("Polygon"!==t.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=t.coordinates}return e.forEach(function(r){e.forEach(function(o){for(var a=0;a<r.length-1;a++)for(var s=a;s<o.length-1;s++)if(r!==o||1!==Math.abs(a-s)&&(0!==a||s!==r.length-2||r[a][0]!==r[r.length-1][0]||r[a][1]!==r[r.length-1][1])){var l=OKt(r[a][0],r[a][1],r[a+1][0],r[a+1][1],o[s][0],o[s][1],o[s+1][0],o[s+1][1]);l&&i.features.push(Ho([l[0],l[1]]))}})}),i}function OKt(n,e,t,i,r,o,a,s){var l,c,u,d,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(s-o)*(t-n)-(a-r)*(i-e))?null!==p.x&&null!==p.y&&p:(d=(a-r)*(c=e-o)-(s-o)*(u=n-r),u=((t-n)*c-(i-e)*u)/l,p.x=n+(c=d/l)*(t-n),p.y=e+c*(i-e),c>=0&&c<=1&&(p.onLine1=!0),u>=0&&u<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}function put(n,e,t,i,r,o){return Math.sqrt((r-t)*(r-t)+(o-i)*(o-i))===Math.sqrt((n-t)*(n-t)+(e-i)*(e-i))+Math.sqrt((r-n)*(r-n)+(o-e)*(o-e))}const mut=function NKt(n){for(var e=function FKt(n){return"FeatureCollection"!==n.type?Ur("Feature"!==n.type?[zc(n)]:[n]):n}(n),t=dk(e),i=!1,r=0;!i&&r<e.features.length;){var h,o=e.features[r].geometry,p=!1;if("Point"===o.type)t.geometry.coordinates[0]===o.coordinates[0]&&t.geometry.coordinates[1]===o.coordinates[1]&&(i=!0);else if("MultiPoint"===o.type){var g=!1;for(h=0;!g&&h<o.coordinates.length;)t.geometry.coordinates[0]===o.coordinates[h][0]&&t.geometry.coordinates[1]===o.coordinates[h][1]&&(i=!0,g=!0),h++}else if("LineString"===o.type)for(h=0;!p&&h<o.coordinates.length-1;)put(t.geometry.coordinates[0],t.geometry.coordinates[1],o.coordinates[h][0],o.coordinates[h][1],o.coordinates[h+1][0],o.coordinates[h+1][1])&&(p=!0,i=!0),h++;else if("MultiLineString"===o.type)for(var y=0;y<o.coordinates.length;){p=!1,h=0;for(var b=o.coordinates[y];!p&&h<b.length-1;)put(t.geometry.coordinates[0],t.geometry.coordinates[1],b[h][0],b[h][1],b[h+1][0],b[h+1][1])&&(p=!0,i=!0),h++;y++}else("Polygon"===o.type||"MultiPolygon"===o.type)&&Rs(t,o)&&(i=!0);r++}if(i)return t;var w=Ur([]);for(r=0;r<e.features.length;r++)w.features=w.features.concat(hk(e.features[r]).features);return Ho(YC(t,w).geometry.coordinates)};var gut=6378137;function mk(n){return K4(n,function(e,t){return e+function BKt(n){var t,e=0;switch(n.type){case"Polygon":return vut(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=vut(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}function vut(n){var e=0;if(n&&n.length>0){e+=Math.abs(_ut(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(_ut(n[t]))}return e}function _ut(n){var e,t,r,o,a,s,l=0,c=n.length;if(c>2){for(s=0;s<c;s++)s===c-2?(r=c-2,o=c-1,a=0):s===c-1?(r=c-1,o=0,a=1):(r=s,o=s+1,a=s+2),e=n[r],t=n[o],l+=(yU(n[a][0])-yU(e[0]))*Math.sin(yU(t[1]));l=l*gut*gut/2}return l}function yU(n){return n*Math.PI/180}function yut(n,e,t){void 0===t&&(t={});for(var r=ul(n).coordinates,o=0,a=0;a<r.length&&!(e>=o&&a===r.length-1);a++){if(o>=e){var s=e-o;if(s){var l=qm(r[a],r[a-1])-180;return Np(r[a],s,l,t)}return Ho(r[a])}o+=Ms(r[a],r[a+1],t)}return Ho(r[r.length-1])}function gk(n,e){return void 0===e&&(e={}),Q4(n,function(t,i){var r=i.geometry.coordinates;return t+Ms(r[0],r[1],e)},0)}const zKt=function VKt(n,e,t){var i=qr(t);if("LineString"!==Id(t))throw new Error("line must be a LineString");for(var a,r=Qm(t,n),o=Qm(t,e),s=[(a=r.properties.index<=o.properties.index?[r,o]:[o,r])[0].geometry.coordinates],l=a[0].properties.index+1;l<a[1].properties.index+1;l++)s.push(i[l]);return s.push(a[1].geometry.coordinates),ys(s,t.properties)},but=function UKt(n,e,t,i){if(!Cs(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===n.type)r=n.geometry.coordinates;else{if("LineString"!==n.type)throw new Error("input must be a LineString Feature or Geometry");r=n.coordinates}for(var l,c,u,a=r.length,s=0,d=0;d<r.length&&!(e>=s&&d===r.length-1);d++){if(s>e&&0===o.length){if(!(l=e-s))return o.push(r[d]),ys(o);c=qm(r[d],r[d-1])-180,u=Np(r[d],l,c,i),o.push(u.geometry.coordinates)}if(s>=t)return(l=t-s)?(c=qm(r[d],r[d-1])-180,u=Np(r[d],l,c,i),o.push(u.geometry.coordinates),ys(o)):(o.push(r[d]),ys(o));if(s>=e&&o.push(r[d]),d===r.length-1)return ys(o);s+=Ms(r[d],r[d+1],i)}if(s<e&&r.length===a)throw new Error("Start position is beyond line");var h=r[r.length-1];return ys([h,h])};function HKt(n,e,t,i,r){var o=t[0],a=t[1],s=n[0],l=n[1],c=e[0],u=e[1],p=c-s,g=u-l,y=(t[0]-s)*g-(t[1]-l)*p;if(null!==r){if(Math.abs(y)>r)return!1}else if(0!==y)return!1;return i?"start"===i?Math.abs(p)>=Math.abs(g)?p>0?s<o&&o<=c:c<=o&&o<s:g>0?l<a&&a<=u:u<=a&&a<l:"end"===i?Math.abs(p)>=Math.abs(g)?p>0?s<=o&&o<c:c<o&&o<=s:g>0?l<=a&&a<u:u<a&&a<=l:"both"===i&&(Math.abs(p)>=Math.abs(g)?p>0?s<o&&o<c:c<o&&o<s:g>0?l<a&&a<u:u<a&&a<l):Math.abs(p)>=Math.abs(g)?p>0?s<=o&&o<=c:c<=o&&o<=s:g>0?l<=a&&a<=u:u<=a&&a<=l}const eh=function GKt(n,e,t){void 0===t&&(t={});for(var i=Hs(n),r=qr(e),o=0;o<r.length-1;o++){var a=!1;if(t.ignoreEndVertices&&(0===o&&(a="start"),o===r.length-2&&(a="end"),0===o&&o+1===r.length-1&&(a="both")),HKt(r[o],r[o+1],i,a,typeof t.epsilon>"u"?null:t.epsilon))return!0}return!1};function xut(n,e){return!(n[0]>e[0]||n[2]<e[2]||n[1]>e[1]||n[3]<e[3])}function wut(n,e){return n[0]===e[0]&&n[1]===e[1]}function QKt(n,e){return[(n[0]+e[0])/2,(n[1]+e[1])/2]}const Sut=function jKt(n,e){var t=ul(n),i=ul(e),r=t.type,o=i.type;switch(r){case"Point":switch(o){case"MultiPoint":return function WKt(n,e){var t,i=!1;for(t=0;t<e.coordinates.length;t++)if(wut(e.coordinates[t],n.coordinates)){i=!0;break}return i}(t,i);case"LineString":return eh(t,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Rs(t,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function ZKt(n,e){for(var t=0;t<n.coordinates.length;t++){for(var i=!1,r=0;r<e.coordinates.length;r++)wut(n.coordinates[t],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(t,i);case"LineString":return function YKt(n,e){for(var t=!1,i=0;i<n.coordinates.length;i++){if(!eh(n.coordinates[i],e))return!1;t||(t=eh(n.coordinates[i],e,{ignoreEndVertices:!0}))}return t}(t,i);case"Polygon":case"MultiPolygon":return function XKt(n,e){for(var t=!0,r=!1,o=0;o<n.coordinates.length;o++){if(!(r=Rs(n.coordinates[1],e))){t=!1;break}r=Rs(n.coordinates[1],e,{ignoreBoundary:!0})}return t&&r}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function $Kt(n,e){for(var t=0;t<n.coordinates.length;t++)if(!eh(n.coordinates[t],e))return!1;return!0}(t,i);case"Polygon":case"MultiPolygon":return function qKt(n,e){if(!xut(Uc(e),Uc(n)))return!1;for(var r=!1,o=0;o<n.coordinates.length-1;o++){if(!Rs(n.coordinates[o],e))return!1;r||(r=Rs(n.coordinates[o],e,{ignoreBoundary:!0})),r||(r=Rs(QKt(n.coordinates[o],n.coordinates[o+1]),e,{ignoreBoundary:!0}))}return r}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function KKt(n,e){var t=Uc(n);if(!xut(Uc(e),t))return!1;for(var r=0;r<n.coordinates[0].length;r++)if(!Rs(n.coordinates[0][r],e))return!1;return!0}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}},Cut=function JKt(n,e,t){void 0===t&&(t={}),t.mask&&!t.units&&(t.units="kilometers");for(var i=[],r=n[0],o=n[1],a=n[2],s=n[3],c=e/Ms([r,o],[a,o],t)*(a-r),d=e/Ms([r,o],[r,s],t)*(s-o),h=a-r,p=s-o,g=Math.floor(h/c),w=(p-Math.floor(p/d)*d)/2,C=r+(h-g*c)/2;C<=a;){for(var E=o+w;E<=s;){var k=Ho([C,E],t.properties);t.mask?Sut(k,t.mask)&&i.push(k):i.push(k),E+=d}C+=c}return Ur(i)},Mut=function tQt(n,e){void 0===e&&(e={});var t=e.precision,i=e.coordinates,r=e.mutate;if(t=null==t||isNaN(t)?6:t,i=null==i||isNaN(i)?3:i,!n)throw new Error("<geojson> is required");if("number"!=typeof t)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");(!1===r||void 0===r)&&(n=JSON.parse(JSON.stringify(n)));var o=Math.pow(10,t);return Kl(n,function(a){!function eQt(n,e,t){n.length>t&&n.splice(t,n.length);for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]*e)/e}(a,o,i)}),n},bU=function nQt(n){if(!n)throw new Error("geojson is required");var e=[];return fu(n,function(t){e.push(t)}),Ur(e)},oQt=function iQt(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.units,r=t.reverse;if(!n)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return fu(n,function(a){r&&(a.geometry.coordinates=a.geometry.coordinates.reverse()),function rQt(n,e,t,i){var r=gk(n,{units:t});if(r<=e)return i(n);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)i(but(n,e*a,e*(a+1),{units:t}),a)}(a,e,i,function(s){o.push(s)})}),Ur(o)};function XC(n,e){if(!n||!e||n.length!==e.length)return!1;for(var t=0,i=n.length;t<i;t++)if(n[t]instanceof Array&&e[t]instanceof Array){if(!XC(n[t],e[t]))return!1}else if(n[t]!==e[t])return!1;return!0}function lQt(n){if("Feature"!=n.type)throw new Error("The input must a geojson object of type Feature");if(void 0===n.geometry||null==n.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=n.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=n.geometry.coordinates.length,t=[],C=0;C<e;C++){var i=n.geometry.coordinates[C];$C(i[0],i[i.length-1])||i.push(i[0]),t.push.apply(t,i.slice(0,i.length-1))}if(!function uQt(n){for(var e={},t=1,i=0,r=n.length;i<r;++i){if(Object.prototype.hasOwnProperty.call(e,n[i])){t=0;break}e[n[i]]=1}return t}(t))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var r=t.length,o=function aQt(n,e,t){if("Polygon"!==n.geometry.type)throw new Error("The input feature must be a Polygon");void 0===t&&(t=1);var i=n.geometry.coordinates,r=[],o={};if(t){for(var a=[],s=0;s<i.length;s++)for(var l=0;l<i[s].length-1;l++)a.push(b(s,l));var c=hU();c.load(a)}for(var u=0;u<i.length;u++)for(var d=0;d<i[u].length-1;d++)if(t)c.search(b(u,d)).forEach(function(w){y(u,d,w.ring,w.edge)});else for(var p=0;p<i.length;p++)for(var g=0;g<i[p].length-1;g++)y(u,d,p,g);return e||(r={type:"Feature",geometry:{type:"MultiPoint",coordinates:r}}),r;function y(w,C,E,k){var Lt,kt,j=i[w][C],H=i[w][C+1],it=i[E][k],yt=i[E][k+1],lt=function sQt(n,e,t,i){if(XC(n,t)||XC(n,i)||XC(e,t)||XC(i,t))return null;var r=n[0],o=n[1],a=e[0],s=e[1],l=t[0],c=t[1],u=i[0],d=i[1],h=(r-a)*(c-d)-(o-s)*(l-u);return 0===h?null:[((r*s-o*a)*(l-u)-(r-a)*(l*d-c*u))/h,((r*s-o*a)*(c-d)-(o-s)*(l*d-c*u))/h]}(j,H,it,yt);if(null!==lt&&(kt=yt[0]!==it[0]?(lt[0]-it[0])/(yt[0]-it[0]):(lt[1]-it[1])/(yt[1]-it[1]),!((Lt=H[0]!==j[0]?(lt[0]-j[0])/(H[0]-j[0]):(lt[1]-j[1])/(H[1]-j[1]))>=1||Lt<=0||kt>=1||kt<=0))){var ne=!o[lt];ne&&(o[lt]=!0),r.push(e?e(lt,w,C,j,H,Lt,E,k,it,yt,kt,ne):lt)}}function b(w,C){var j,H,it,yt,E=i[w][C],k=i[w][C+1];return E[0]<k[0]?(j=E[0],H=k[0]):(j=k[0],H=E[0]),E[1]<k[1]?(it=E[1],yt=k[1]):(it=k[1],yt=E[1]),{minX:j,minY:it,maxX:H,maxY:yt,ring:w,edge:C}}}(n,function(zn,zi,to,Ui,Gi,ar,Er,Ei,Vr,yl,jo,Nl){return[zn,zi,to,Ui,Gi,ar,Er,Ei,Vr,yl,jo,Nl]}),a=o.length;if(0==a){var it=[];for(C=0;C<e;C++)it.push(Xo([n.geometry.coordinates[C]],{parent:-1,winding:cQt(n.geometry.coordinates[C])}));var Qe=Ur(it);return In(),Fn(),Qe}var s=[],l=[];for(C=0;C<e;C++){s.push([]);for(var c=0;c<n.geometry.coordinates[C].length-1;c++)s[C].push([new Eut(n.geometry.coordinates[C][kx(c+1,n.geometry.coordinates[C].length-1)],1,[C,c],[C,kx(c+1,n.geometry.coordinates[C].length-1)],void 0)]),l.push(new Tut(n.geometry.coordinates[C][c],[C,kx(c-1,n.geometry.coordinates[C].length-1)],[C,c],void 0,void 0,!1,!0))}for(C=0;C<a;C++)s[o[C][1]][o[C][2]].push(new Eut(o[C][0],o[C][5],[o[C][1],o[C][2]],[o[C][6],o[C][7]],void 0)),o[C][11]&&l.push(new Tut(o[C][0],[o[C][1],o[C][2]],[o[C][6],o[C][7]],void 0,void 0,!0,!0));var u=l.length;for(C=0;C<s.length;C++)for(c=0;c<s[C].length;c++)s[C][c].sort(function(zi,to){return zi.param<to.param?-1:1});var d=[];for(C=0;C<u;C++)d.push({minX:l[C].coord[0],minY:l[C].coord[1],maxX:l[C].coord[0],maxY:l[C].coord[1],index:C});var h=hU();for(h.load(d),C=0;C<s.length;C++)for(c=0;c<s[C].length;c++)for(var p=0;p<s[C][c].length;p++){g=p==s[C][c].length-1?s[C][kx(c+1,n.geometry.coordinates[C].length-1)][0].coord:s[C][c][p+1].coord;var y=h.search({minX:g[0],minY:g[1],maxX:g[0],maxY:g[1]})[0];s[C][c][p].nxtIsectAlongEdgeIn=y.index}for(C=0;C<s.length;C++)for(c=0;c<s[C].length;c++)for(p=0;p<s[C][c].length;p++){var g,b=(y=h.search({minX:(g=s[C][c][p].coord)[0],minY:g[1],maxX:g[0],maxY:g[1]})[0]).index;b<r?l[b].nxtIsectAlongRingAndEdge2=s[C][c][p].nxtIsectAlongEdgeIn:$C(l[b].ringAndEdge1,s[C][c][p].ringAndEdgeIn)?l[b].nxtIsectAlongRingAndEdge1=s[C][c][p].nxtIsectAlongEdgeIn:l[b].nxtIsectAlongRingAndEdge2=s[C][c][p].nxtIsectAlongEdgeIn}var w=[];for(C=0,c=0;c<e;c++){var E=C;for(p=0;p<n.geometry.coordinates[c].length-1;p++)l[C].coord[0]<l[E].coord[0]&&(E=C),C++;var k=l[E].nxtIsectAlongRingAndEdge2;for(p=0;p<l.length;p++)if(l[p].nxtIsectAlongRingAndEdge1==E||l[p].nxtIsectAlongRingAndEdge2==E){var j=p;break}var H=vk([l[j].coord,l[E].coord,l[k].coord],!0)?1:-1;w.push({isect:E,parent:-1,winding:H})}for(w.sort(function(Qn,zn){return l[Qn.isect].coord>l[zn.isect].coord?-1:1}),it=[];w.length>0;){var yt=w.pop(),lt=yt.isect,Lt=yt.parent,kt=yt.winding,Jt=it.length,ne=[l[lt].coord],ce=lt;if(l[lt].ringAndEdge1Walkable)var Ee=l[lt].ringAndEdge1,be=l[lt].nxtIsectAlongRingAndEdge1;else Ee=l[lt].ringAndEdge2,be=l[lt].nxtIsectAlongRingAndEdge2;for(;!$C(l[lt].coord,l[be].coord);){ne.push(l[be].coord);var Be=void 0;for(C=0;C<w.length;C++)if(w[C].isect==be){Be=C;break}if(null!=Be&&w.splice(Be,1),$C(Ee,l[be].ringAndEdge1)){if(Ee=l[be].ringAndEdge2,l[be].ringAndEdge2Walkable=!1,l[be].ringAndEdge1Walkable){var Ne={isect:be};vk([l[ce].coord,l[be].coord,l[l[be].nxtIsectAlongRingAndEdge2].coord],1==kt)?(Ne.parent=Lt,Ne.winding=-kt):(Ne.parent=Jt,Ne.winding=kt),w.push(Ne)}ce=be,be=l[be].nxtIsectAlongRingAndEdge2}else Ee=l[be].ringAndEdge1,l[be].ringAndEdge1Walkable=!1,l[be].ringAndEdge2Walkable&&(Ne={isect:be},vk([l[ce].coord,l[be].coord,l[l[be].nxtIsectAlongRingAndEdge1].coord],1==kt)?(Ne.parent=Lt,Ne.winding=-kt):(Ne.parent=Jt,Ne.winding=kt),w.push(Ne)),ce=be,be=l[be].nxtIsectAlongRingAndEdge1}ne.push(l[be].coord),it.push(Xo([ne],{index:Jt,parent:Lt,winding:kt,netWinding:void 0}))}function In(){for(var Qn=[],zn=0;zn<Qe.features.length;zn++)-1==Qe.features[zn].properties.parent&&Qn.push(zn);if(Qn.length>1)for(zn=0;zn<Qn.length;zn++){for(var zi=-1,Ui=0;Ui<Qe.features.length;Ui++)Qn[zn]!=Ui&&Rs(Qe.features[Qn[zn]].geometry.coordinates[0][0],Qe.features[Ui],{ignoreBoundary:!0})&&mk(Qe.features[Ui])<1/0&&(zi=Ui);Qe.features[Qn[zn]].properties.parent=zi}}function Fn(){for(var Qn=0;Qn<Qe.features.length;Qn++)if(-1==Qe.features[Qn].properties.parent){var zn=Qe.features[Qn].properties.winding;Qe.features[Qn].properties.netWinding=zn,Kn(Qn,zn)}}function Kn(Qn,zn){for(var zi=0;zi<Qe.features.length;zi++)if(Qe.features[zi].properties.parent==Qn){var to=zn+Qe.features[zi].properties.winding;Qe.features[zi].properties.netWinding=to,Kn(zi,to)}}return Qe=Ur(it),In(),Fn(),Qe}var Eut=function(n,e,t,i,r){this.coord=n,this.param=e,this.ringAndEdgeIn=t,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},Tut=function(n,e,t,i,r,o,a){this.coord=n,this.ringAndEdge1=e,this.ringAndEdge2=t,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};function vk(n,e){if(typeof e>"u"&&(e=!0),3!=n.length)throw new Error("This function requires an array of three points [x,y]");return(n[1][0]-n[0][0])*(n[2][1]-n[0][1])-(n[1][1]-n[0][1])*(n[2][0]-n[0][0])>=0==e}function cQt(n){for(var e=0,t=0;t<n.length-1;t++)n[t][0]<n[e][0]&&(e=t);if(vk([n[kx(e-1,n.length-1)],n[e],n[kx(e+1,n.length-1)]],!0))var i=1;else i=-1;return i}function $C(n,e){if(!n||!e||n.length!=e.length)return!1;for(var t=0,i=n.length;t<i;t++)if(n[t]instanceof Array&&e[t]instanceof Array){if(!$C(n[t],e[t]))return!1}else if(n[t]!=e[t])return!1;return!0}function kx(n,e){return(n%e+e)%e}const hQt=function dQt(n){var e=[];return fu(n,function(t){"Polygon"===t.geometry.type&&os(lQt(t),function(i){e.push(Xo(i.geometry.coordinates,t.properties))})}),Ur(e)};var Dut=Math.PI/180,Aut=180/Math.PI,qC=function(n,e){this.lon=n,this.lat=e,this.x=Dut*n,this.y=Dut*e};qC.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},qC.prototype.antipode=function(){return new qC(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Iut=function(){this.coords=[],this.length=0};Iut.prototype.move_to=function(n){this.length++,this.coords.push(n)};var xU=function(n){this.properties=n||{},this.geometries=[]};xU.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],e=0;e<this.geometries.length;e++)n.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},xU.prototype.wkt=function(){for(var n="",e="LINESTRING(",t=function(o){e+=o[0]+" "+o[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(t),n+=e.substring(0,e.length-1)+")"}return n};var wU=function(n,e,t){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new qC(n.x,n.y),this.end=new qC(e.x,e.y),this.properties=t||{};var i=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+e)};wU.prototype.interpolate=function(n){var e=Math.sin((1-n)*this.g)/Math.sin(this.g),t=Math.sin(n*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+t*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+t*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+t*Math.sin(this.end.y),a=Aut*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[Aut*Math.atan2(r,i),a]},wU.prototype.Arc=function(n,e){var t=[];if(!n||n<=2)t.push([this.start.lon,this.start.lat]),t.push([this.end.lon,this.end.lat]);else for(var i=1/(n-1),r=0;r<n;++r){var a=this.interpolate(i*r);t.push(a)}for(var s=!1,l=0,c=e&&e.offset?e.offset:10,u=180-c,d=-180+c,h=360-c,p=1;p<t.length;++p){var g=t[p-1][0],y=t[p][0],b=Math.abs(y-g);b>h&&(y>u&&g<d||g>u&&y<d)?s=!0:b>l&&(l=b)}var w=[];if(s&&l<c){var C=[];w.push(C);for(var E=0;E<t.length;++E){var k=parseFloat(t[E][0]);if(E>0&&Math.abs(k-t[E-1][0])>h){var j=parseFloat(t[E-1][0]),H=parseFloat(t[E-1][1]),it=parseFloat(t[E][0]),yt=parseFloat(t[E][1]);if(j>-180&&j<d&&180===it&&E+1<t.length&&t[E-1][0]>-180&&t[E-1][0]<d){C.push([-180,t[E][1]]),E++,C.push([t[E][0],t[E][1]]);continue}if(j>u&&j<180&&-180===it&&E+1<t.length&&t[E-1][0]>u&&t[E-1][0]<180){C.push([180,t[E][1]]),E++,C.push([t[E][0],t[E][1]]);continue}if(j<d&&it>u){var lt=j;j=it,it=lt;var Lt=H;H=yt,yt=Lt}if(j>u&&it<d&&(it+=360),j<=180&&it>=180&&j<it){var kt=(180-j)/(it-j),Jt=kt*yt+(1-kt)*H;C.push([t[E-1][0]>u?180:-180,Jt]),(C=[]).push([t[E-1][0]>u?-180:180,Jt]),w.push(C)}else w.push(C=[]);C.push([k,t[E][1]])}else C.push([t[E][0],t[E][1]])}}else{var ne=[];w.push(ne);for(var ce=0;ce<t.length;++ce)ne.push([t[ce][0],t[ce][1]])}for(var Ee=new xU(this.properties),be=0;be<w.length;++be){var Be=new Iut;Ee.geometries.push(Be);for(var Ne=w[be],Qe=0;Qe<Ne.length;++Qe)Be.move_to(Ne[Qe])}return Ee};const pQt=function fQt(n,e,t){if("object"!=typeof(t=t||{}))throw new Error("options is invalid");var i=t.properties,r=t.npoints,o=t.offset;return n=Hs(n),e=Hs(e),r=r||100,o=o||10,new wU({x:n[0],y:n[1]},{x:e[0],y:e[1]},i=i||{}).Arc(r,{offset:o}).json()};function Put(n,e){var t=[],i=fk();return fu(e,function(r){if(t.forEach(function(s,l){s.id=l}),t.length){var o=i.search(r);if(o.features.length){var a=kut(r,o);t=t.filter(function(s){return s.id!==a.id}),i.remove(a),os(SU(a,r),function(s){t.push(s),i.insert(s)})}}else(t=SU(n,r).features).forEach(function(s){s.bbox||(s.bbox=sut(Uc(s)))}),i.load(Ur(t))}),Ur(t)}function SU(n,e){var t=[],i=qr(n)[0],r=qr(n)[n.geometry.coordinates.length-1];if(CU(i,Hs(e))||CU(r,Hs(e)))return Ur([n]);var o=fk(),a=Uy(n);o.load(a);var s=o.search(e);if(!s.features.length)return Ur([n]);var l=kut(e,s),u=q4(a,function(d,h,p){var g=qr(h)[1],y=Hs(e);return p===l.id?(d.push(y),t.push(ys(d)),CU(y,g)?[y]:[y,g]):(d.push(g),d)},[i]);return u.length>1&&t.push(ys(u)),Ur(t)}function kut(n,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var t,i=1/0;return os(e,function(r){var a=Qm(r,n).properties.dist;a<i&&(t=r,i=a)}),t}function CU(n,e){return n[0]===e[0]&&n[1]===e[1]}const gQt=function mQt(n,e){if(!n)throw new Error("line is required");if(!e)throw new Error("splitter is required");var t=Id(n),i=Id(e);if("LineString"!==t)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=Mut(e,{precision:7});switch(i){case"Point":return SU(n,r);case"MultiPoint":return Put(n,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Put(n,Km(n,r))}};function Rut(n,e,t,i,r){void 0===r&&(r={});var o=r.steps||64,a=Lut(t),s=Lut(i),l=Array.isArray(n)||"Feature"!==n.type?{}:n.properties;if(a===s)return ys(vU(n,e,r).geometry.coordinates[0],l);for(var c=a,u=a<s?s:s+360,d=c,h=[],p=0;d<u;)h.push(Np(n,e,d,r).geometry.coordinates),d=c+360*++p/o;return d>u&&h.push(Np(n,e,u,r).geometry.coordinates),ys(h,l)}function Lut(n){var e=n%360;return e<0&&(e+=360),e}function KC(n,e){void 0===e&&(e={});var t=ul(n);switch(!e.properties&&"Feature"===n.type&&(e.properties=n.properties),t.type){case"Polygon":return Out(t,e);case"MultiPolygon":return function vQt(n,e){void 0===e&&(e={});var t=ul(n),r=e.properties?e.properties:"Feature"===n.type?n.properties:{},o=[];return t.coordinates.forEach(function(a){o.push(Nut(a,r))}),Ur(o)}(t,e);default:throw new Error("invalid poly")}}function Out(n,e){return void 0===e&&(e={}),Nut(ul(n).coordinates,e.properties?e.properties:"Feature"===n.type?n.properties:{})}function Nut(n,e){return n.length>1?vv(n,e):ys(n[0],e)}function Fut(n,e,t,i){e=e||("Feature"===n.type?n.properties:{});var r=ul(n),o=r.coordinates,a=r.type;if(!o.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return t&&(o=But(o)),Xo([o],e);case"MultiLineString":var s=[],l=0;return o.forEach(function(c){if(t&&(c=But(c)),i){var u=function yQt(n){var t=n[1],r=n[3];return Math.abs(n[0]-n[2])*Math.abs(t-r)}(Uc(ys(c)));u>l?(s.unshift(c),l=u):s.push(c)}else s.push(c)}),Xo(s,e);default:throw new Error("geometry type "+a+" is not supported")}}function But(n){var e=n[0],r=n[n.length-1];return(e[0]!==r[0]||e[1]!==r[1])&&n.push(e),n}const Vut=function _Qt(n,e){void 0===e&&(e={});var t,i,r,o=e.properties,a=null===(t=e.autoComplete)||void 0===t||t,s=null===(i=e.orderCoords)||void 0===i||i;if("FeatureCollection"===(null!==(r=e.mutate)&&void 0!==r&&r||(n=Su(n)),n.type)){var c=[];return n.features.forEach(function(u){c.push(qr(Fut(u,{},a,s)))}),dd(c,o)}return Fut(n,o,a,s)};function xQt(n,e){var t,i,r,o,a,s,l;for(i=1;i<=8;i*=2){for(t=[],o=!(Rx(r=n[n.length-1],e)&i),a=0;a<n.length;a++)(l=!(Rx(s=n[a],e)&i))!==o&&t.push(MU(r,s,i,e)),l&&t.push(s),r=s,o=l;if(!(n=t).length)break}return t}function MU(n,e,t,i){return 8&t?[n[0]+(e[0]-n[0])*(i[3]-n[1])/(e[1]-n[1]),i[3]]:4&t?[n[0]+(e[0]-n[0])*(i[1]-n[1])/(e[1]-n[1]),i[1]]:2&t?[i[2],n[1]+(e[1]-n[1])*(i[2]-n[0])/(e[0]-n[0])]:1&t?[i[0],n[1]+(e[1]-n[1])*(i[0]-n[0])/(e[0]-n[0])]:null}function Rx(n,e){var t=0;return n[0]<e[0]?t|=1:n[0]>e[2]&&(t|=2),n[1]<e[1]?t|=4:n[1]>e[3]&&(t|=8),t}function wQt(n,e){var t=ul(n),i=t.type,r="Feature"===n.type?n.properties:{},o=t.coordinates;switch(i){case"LineString":case"MultiLineString":var a=[];return"LineString"===i&&(o=[o]),o.forEach(function(s){!function bQt(n,e,t){var a,s,l,c,u,i=n.length,r=Rx(n[0],e),o=[];for(t||(t=[]),a=1;a<i;a++){for(c=n[a-1],s=l=Rx(u=n[a],e);;){if(!(r|s)){o.push(c),s!==l?(o.push(u),a<i-1&&(t.push(o),o=[])):a===i-1&&o.push(u);break}if(r&s)break;r?r=Rx(c=MU(c,u,r,e),e):s=Rx(u=MU(c,u,s,e),e)}r=l}o.length&&t.push(o)}(s,e,a)}),1===a.length?ys(a[0],r):vv(a,r);case"Polygon":return Xo(zut(o,e),r);case"MultiPolygon":return dd(o.map(function(s){return zut(s,e)}),r);default:throw new Error("geometry "+i+" not supported")}}function zut(n,e){for(var t=[],i=0,r=n;i<r.length;i++){var a=xQt(r[i],e);a.length>0&&((a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1])&&a.push(a[0]),a.length>=4&&t.push(a))}return t}var QC=Z(6952);function EU(n,e){var t=qr(e),i=qr(n),r=i[0],o=i[i.length-1],a=n.geometry.coordinates;return QC(t[0],r)?a.unshift(t[1]):QC(t[0],o)?a.push(t[1]):QC(t[1],r)?a.unshift(t[0]):QC(t[1],o)&&a.push(t[0]),n}const Uut=function SQt(n,e,t){if(void 0===t&&(t={}),!Cs(t=t||{}))throw new Error("options is invalid");var s,i=t.tolerance||0,r=[],o=fk(),a=Uy(n);return o.load(a),Xm(e,function(l){var c=!1;l&&(os(o.search(l),function(u){if(!1===c){var d=qr(l).sort(),h=qr(u).sort();QC(d,h)||(0===i?eh(d[0],u)&&eh(d[1],u):Qm(u,d[0]).properties.dist<=i&&Qm(u,d[1]).properties.dist<=i)?(c=!0,s=s?EU(s,l):l):(0===i?eh(h[0],l)&&eh(h[1],l):Qm(l,h[0]).properties.dist<=i&&Qm(l,h[1]).properties.dist<=i)&&(s=s?EU(s,u):u)}}),!1===c&&s&&(r.push(s),s=void 0))}),s&&r.push(s),Ur(r)};function Gut(n){var e=n%360;return e<0&&(e+=360),e}const MQt=function CQt(n,e,t,i,r){if(!Cs(r=r||{}))throw new Error("options is invalid");var o=r.properties;if(!n)throw new Error("center is required");if(null==t)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(Gut(t)===Gut(i))return vU(n,e,r);var a=qr(n),s=Rut(n,e,t,i,r),l=[[a]];return Kl(s,function(c){l[0].push(c)}),l[0].push(a),Xo(l,o)};function Hut(n,e){var t=iu(n[1]),i=iu(e[1]),r=iu(e[0]-n[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(t/2+Math.PI/4));return(_v(Math.atan2(r,o))+360)%360}const Gy=function EQt(n,e,t){var i;return void 0===t&&(t={}),(i=t.final?Hut(Hs(e),Hs(n)):Hut(Hs(n),Hs(e)))>180?-(360-i):i},Lx=function TQt(n,e,t,i){void 0===i&&(i={});var r=e<0,o=By(Math.abs(e),i.units,"meters");r&&(o=-Math.abs(o));var a=Hs(n),s=function DQt(n,e,t,i){var r=e/(i=void 0===i?nu:Number(i)),o=n[0]*Math.PI/180,a=iu(n[1]),s=iu(t),l=r*Math.cos(s),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var u=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),d=Math.abs(u)>1e-11?l/u:Math.cos(a);return[(180*(o+r*Math.sin(s)/d)/Math.PI+540)%360-180,180*c/Math.PI]}(a,o,t);return s[0]+=s[0]-a[0]>180?-360:a[0]-s[0]>180?360:0,Ho(s,i.properties)};function jut(n,e,t,i,r,o){for(var a=0;a<n.length;a++){var s=n[a],l=n[a+1];a===n.length-1&&(l=n[0]),i=JC(s,l,e),t<=0&&i>0?PQt(e,s,r)||(r=s):t>0&&i<=0&&(IQt(e,s,o)||(o=s)),t=i}return[r,o]}function IQt(n,e,t){return JC(n,e,t)>0}function PQt(n,e,t){return JC(n,e,t)<0}function JC(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])}const kQt=function AQt(n,e){var r,o,a,s,t=qr(n),i=qr(e),l=Uc(e),c=0,u=null;switch(t[0]>l[0]&&t[0]<l[2]&&t[1]>l[1]&&t[1]<l[3]&&(c=(u=YC(n,hk(e))).properties.featureIndex),Id(e)){case"Polygon":r=i[0][c],o=i[0][0],null!==u&&u.geometry.coordinates[1]<t[1]&&(o=i[0][c]),s=JC(i[0][0],i[0][i[0].length-1],t);var h=jut(i[0],t,s,a,r,o);r=h[0],o=h[1];break;case"MultiPolygon":for(var p=0,g=0,y=0,b=0;b<i[0].length;b++){p=b;for(var w=!1,C=0;C<i[0][b].length;C++){if(g=C,y===c){w=!0;break}y++}if(w)break}r=i[0][p][g],o=i[0][p][g],s=JC(i[0][0][0],i[0][0][i[0][0].length-1],t),i.forEach(function(E){var k=jut(E[0],t,s,a,r,o);r=k[0],o=k[1]})}return Ur([Ho(r),Ho(o)])};function _k(n){for(var r,o,e=qr(n),t=0,i=1;i<e.length;)r=o||e[0],t+=((o=e[i])[0]-r[0])*(o[1]+r[1]),i++;return t>0}function yk(n,e){switch("Feature"===n.type?n.geometry.type:n.type){case"GeometryCollection":return th(n,function(i){yk(i,e)}),n;case"LineString":return Wut(qr(n),e),n;case"Polygon":return Zut(qr(n),e),n;case"MultiLineString":return qr(n).forEach(function(i){Wut(i,e)}),n;case"MultiPolygon":return qr(n).forEach(function(i){Zut(i,e)}),n;case"Point":case"MultiPoint":return n}}function Wut(n,e){_k(n)===e&&n.reverse()}function Zut(n,e){_k(n[0])!==e&&n[0].reverse();for(var t=1;t<n.length;t++)_k(n[t])===e&&n[t].reverse()}const LQt=function RQt(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.reverse||!1,i=e.mutate||!1;if(!n)throw new Error("<geojson> is required");if("boolean"!=typeof t)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(n=Su(n));var r=[];switch(n.type){case"GeometryCollection":return th(n,function(o){yk(o,t)}),n;case"FeatureCollection":return os(n,function(o){os(yk(o,t),function(a){r.push(a)})}),Ur(r)}return yk(n,t)};var Yut={successCallback:null,verbose:!1,polygons:!1},Hy={};function FQt(n,e,t,i){i=i||{};for(var r=Object.keys(Yut),o=0;o<r.length;o++){var a=r[o],s=i[a];Hy[a]=s=typeof s<"u"&&null!==s?s:Yut[a]}Hy.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+t)+"]");var c,l=function gJt(n,e,t){for(var i=n.length-1,r=n[0].length-1,o={rows:i,cols:r,cells:[]},a=e+Math.abs(t),s=0;s<i;++s){o.cells[s]=[];for(var l=0;l<r;++l){var c=0,u=n[s+1][l],d=n[s+1][l+1],h=n[s][l+1],p=n[s][l];if(!(isNaN(u)||isNaN(d)||isNaN(h)||isNaN(p))){c|=u<e?0:u>a?128:64,c|=d<e?0:d>a?32:16,c|=h<e?0:h>a?8:4;var g=+(c|=p<e?0:p>a?2:1),y=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var b=(u+d+h+p)/4;y=b>a?2:b<e?0:1,34===c?1===y?c=35:0===y&&(c=136):136===c?1===y?(c=35,y=4):0===y&&(c=34):17===c?1===y?(c=155,y=4):0===y&&(c=153):68===c?1===y?(c=103,y=4):0===y&&(c=102):153===c?1===y&&(c=155):102===c?1===y&&(c=103):152===c?y<2&&(c=156,y=1):137===c?y<2&&(c=139,y=1):98===c?y<2&&(c=99,y=1):38===c?y<2&&(c=39,y=1):18===c?y>0?(c=156,y=4):c=152:33===c?y>0?(c=139,y=4):c=137:72===c?y>0?(c=99,y=4):c=98:132===c&&(y>0?(c=39,y=4):c=38)}if(0!=c&&170!=c){var w,C,E,k,j,H,it,yt;w=C=E=k=j=H=it=yt=.5;var lt=[];1===c?(E=1-fe(e,h,p),yt=1-fe(e,u,p),lt.push(xr[c])):169===c?(E=fe(a,p,h),yt=fe(a,p,u),lt.push(xr[c])):4===c?(H=1-fe(e,d,h),k=fe(e,p,h),lt.push(Zi[c])):166===c?(H=fe(a,h,d),k=1-fe(a,h,p),lt.push(Zi[c])):16===c?(j=fe(e,h,d),C=fe(e,u,d),lt.push($i[c])):154===c?(j=1-fe(a,d,h),C=1-fe(a,d,u),lt.push($i[c])):64===c?(it=fe(e,p,u),w=1-fe(e,d,u),lt.push(jr[c])):106===c?(it=1-fe(a,u,p),w=fe(a,u,d),lt.push(jr[c])):168===c?(k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),lt.push(Ir[c]),lt.push(xr[c])):2===c?(k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),lt.push(Ir[c]),lt.push(xr[c])):162===c?(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),lt.push(Ir[c]),lt.push(xr[c])):8===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),lt.push($i[c]),lt.push(Zi[c])):138===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push($i[c]),lt.push(Zi[c])):32===c?(j=fe(a,h,d),H=fe(e,h,d),w=fe(e,u,d),C=fe(a,u,d),lt.push($i[c]),lt.push(Zi[c])):42===c?(yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d),lt.push(Kr[c]),lt.push(jr[c])):128===c&&(yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push(Kr[c]),lt.push(jr[c])),5===c?(H=1-fe(e,d,h),yt=1-fe(e,u,p),lt.push(Zi[c])):165===c?(H=fe(a,h,d),yt=fe(a,p,u),lt.push(Zi[c])):20===c?(k=fe(e,p,h),C=fe(e,u,d),lt.push(Ir[c])):150===c?(k=1-fe(a,h,p),C=1-fe(a,d,u),lt.push(Ir[c])):80===c?(j=fe(e,h,d),it=fe(e,p,u),lt.push($i[c])):90===c?(j=1-fe(a,d,h),it=1-fe(a,u,p),lt.push($i[c])):65===c?(E=1-fe(e,h,p),w=1-fe(e,d,u),lt.push(xr[c])):105===c?(E=fe(a,p,h),w=fe(a,u,d),lt.push(xr[c])):160===c?(j=fe(a,h,d),H=fe(e,h,d),yt=fe(e,p,u),it=fe(a,p,u),lt.push($i[c]),lt.push(Zi[c])):10===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),yt=1-fe(a,u,p),it=1-fe(e,u,p),lt.push($i[c]),lt.push(Zi[c])):130===c?(k=1-fe(e,h,p),E=1-fe(a,h,p),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push(Ir[c]),lt.push(xr[c])):40===c?(k=fe(a,p,h),E=fe(e,p,h),w=fe(e,u,d),C=fe(a,u,d),lt.push(Ir[c]),lt.push(xr[c])):101===c?(H=fe(a,h,d),w=fe(a,u,d),lt.push(Zi[c])):69===c?(H=1-fe(e,d,h),w=1-fe(e,d,u),lt.push(Zi[c])):149===c?(yt=fe(a,p,u),C=1-fe(a,d,u),lt.push(Kr[c])):21===c?(yt=1-fe(e,u,p),C=fe(e,u,d),lt.push(Kr[c])):86===c?(k=1-fe(a,h,p),it=1-fe(a,u,p),lt.push(Ir[c])):84===c?(k=fe(e,p,h),it=fe(e,p,u),lt.push(Ir[c])):89===c?(j=1-fe(a,d,h),E=fe(a,p,h),lt.push(xr[c])):81===c?(j=fe(e,h,d),E=1-fe(e,h,p),lt.push(xr[c])):96===c?(j=fe(a,h,d),H=fe(e,h,d),it=fe(e,p,u),w=fe(a,u,d),lt.push($i[c]),lt.push(Zi[c])):74===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),it=1-fe(a,u,p),w=1-fe(e,d,u),lt.push($i[c]),lt.push(Zi[c])):24===c?(j=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),C=fe(e,u,d),lt.push($i[c]),lt.push(xr[c])):146===c?(j=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),C=1-fe(a,d,u),lt.push($i[c]),lt.push(xr[c])):6===c?(H=1-fe(e,d,h),k=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),lt.push(Zi[c]),lt.push(Ir[c])):164===c?(H=fe(a,h,d),k=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),lt.push(Zi[c]),lt.push(Ir[c])):129===c?(E=1-fe(e,h,p),yt=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push(xr[c]),lt.push(Kr[c])):41===c?(E=fe(a,p,h),yt=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d),lt.push(xr[c]),lt.push(Kr[c])):66===c?(k=1-fe(e,h,p),E=1-fe(a,h,p),it=1-fe(a,u,p),w=1-fe(e,d,u),lt.push(Ir[c]),lt.push(xr[c])):104===c?(k=fe(a,p,h),E=fe(e,p,h),it=fe(e,p,u),w=fe(a,u,d),lt.push(xr[c]),lt.push(Ga[c])):144===c?(j=fe(e,h,d),yt=fe(e,p,u),it=fe(a,p,u),C=1-fe(a,d,u),lt.push($i[c]),lt.push(jr[c])):26===c?(j=1-fe(a,d,h),yt=1-fe(a,u,p),it=1-fe(e,u,p),C=fe(e,u,d),lt.push($i[c]),lt.push(jr[c])):36===c?(H=fe(a,h,d),k=fe(e,p,h),w=fe(e,u,d),C=fe(a,u,d),lt.push(Zi[c]),lt.push(Ir[c])):134===c?(H=1-fe(e,d,h),k=1-fe(a,h,p),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push(Zi[c]),lt.push(Ir[c])):9===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),E=fe(a,p,h),yt=1-fe(e,u,p),lt.push($i[c]),lt.push(Zi[c])):161===c?(j=fe(a,h,d),H=fe(e,h,d),E=1-fe(e,h,p),yt=fe(a,p,u),lt.push($i[c]),lt.push(Zi[c])):37===c?(H=fe(a,h,d),yt=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d),lt.push(Zi[c]),lt.push(Kr[c])):133===c?(H=1-fe(e,d,h),yt=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u),lt.push(Zi[c]),lt.push(Kr[c])):148===c?(k=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),C=1-fe(a,d,u),lt.push(Ir[c]),lt.push(jr[c])):22===c?(k=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),C=fe(e,u,d),lt.push(Ir[c]),lt.push(jr[c])):82===c?(j=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),it=1-fe(a,u,p),lt.push($i[c]),lt.push(xr[c])):88===c?(j=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),it=fe(e,p,u),lt.push($i[c]),lt.push(xr[c])):73===c?(j=1-fe(e,d,h),H=1-fe(a,d,h),E=fe(a,p,h),w=1-fe(e,d,u),lt.push($i[c]),lt.push(Zi[c])):97===c?(j=fe(a,h,d),H=fe(e,h,d),E=1-fe(e,h,p),w=fe(a,u,d),lt.push($i[c]),lt.push(Zi[c])):145===c?(j=fe(e,h,d),E=1-fe(e,h,p),yt=fe(a,p,u),C=1-fe(a,d,u),lt.push($i[c]),lt.push(Kr[c])):25===c?(j=1-fe(a,d,h),E=fe(a,p,h),yt=1-fe(e,u,p),C=fe(e,u,d),lt.push($i[c]),lt.push(Kr[c])):70===c?(H=1-fe(e,d,h),k=1-fe(a,h,p),it=1-fe(a,u,p),w=1-fe(e,d,u),lt.push(Zi[c]),lt.push(Ir[c])):100===c?(H=fe(a,h,d),k=fe(e,p,h),it=fe(e,p,u),w=fe(a,u,d),lt.push(Zi[c]),lt.push(Ir[c])):34===c?(0===y?(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)):(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)),lt.push($i[c]),lt.push(Zi[c]),lt.push(Kr[c]),lt.push(jr[c])):35===c?(4===y?(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)):(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)),lt.push($i[c]),lt.push(Zi[c]),lt.push(xr[c]),lt.push(jr[c])):136===c?(0===y?(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)):(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)),lt.push($i[c]),lt.push(Zi[c]),lt.push(Kr[c]),lt.push(jr[c])):153===c?(0===y?(j=fe(e,h,d),E=1-fe(e,h,p),yt=1-fe(e,u,p),C=fe(e,u,d)):(j=1-fe(a,d,h),E=fe(a,p,h),yt=fe(a,p,u),C=1-fe(a,d,u)),lt.push($i[c]),lt.push(xr[c])):102===c?(0===y?(H=1-fe(e,d,h),k=fe(e,p,h),it=fe(e,p,u),w=1-fe(e,d,u)):(H=fe(a,h,d),k=1-fe(a,h,p),it=1-fe(a,u,p),w=fe(a,u,d)),lt.push(Zi[c]),lt.push(jr[c])):155===c?(4===y?(j=fe(e,h,d),E=1-fe(e,h,p),yt=1-fe(e,u,p),C=fe(e,u,d)):(j=1-fe(a,d,h),E=fe(a,p,h),yt=fe(a,p,u),C=1-fe(a,d,u)),lt.push($i[c]),lt.push(Kr[c])):103===c?(4===y?(H=1-fe(e,d,h),k=fe(e,p,h),it=fe(e,p,u),w=1-fe(e,d,u)):(H=fe(a,h,d),k=1-fe(a,h,p),it=1-fe(a,u,p),w=fe(a,u,d)),lt.push(Zi[c]),lt.push(Ir[c])):152===c?(0===y?(j=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),C=fe(e,u,d)):(j=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),C=1-fe(a,d,u)),lt.push($i[c]),lt.push(Ir[c]),lt.push(xr[c])):156===c?(4===y?(j=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),C=fe(e,u,d)):(j=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),C=1-fe(a,d,u)),lt.push($i[c]),lt.push(xr[c]),lt.push(jr[c])):137===c?(0===y?(j=fe(a,h,d),H=fe(e,h,d),E=1-fe(e,h,p),yt=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)):(j=1-fe(e,d,h),H=1-fe(a,d,h),E=fe(a,p,h),yt=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)),lt.push($i[c]),lt.push(Zi[c]),lt.push(xr[c])):139===c?(4===y?(j=fe(a,h,d),H=fe(e,h,d),E=1-fe(e,h,p),yt=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)):(j=1-fe(e,d,h),H=1-fe(a,d,h),E=fe(a,p,h),yt=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)),lt.push($i[c]),lt.push(Zi[c]),lt.push(Kr[c])):98===c?(0===y?(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),it=fe(e,p,u),w=1-fe(e,d,u)):(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),it=1-fe(a,u,p),w=fe(a,u,d)),lt.push($i[c]),lt.push(Zi[c]),lt.push(jr[c])):99===c?(4===y?(j=1-fe(e,d,h),H=1-fe(a,d,h),k=fe(a,p,h),E=fe(e,p,h),it=fe(e,p,u),w=1-fe(e,d,u)):(j=fe(a,h,d),H=fe(e,h,d),k=1-fe(e,h,p),E=1-fe(a,h,p),it=1-fe(a,u,p),w=fe(a,u,d)),lt.push($i[c]),lt.push(Zi[c]),lt.push(xr[c])):38===c?(0===y?(H=1-fe(e,d,h),k=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)):(H=fe(a,h,d),k=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)),lt.push(Zi[c]),lt.push(Kr[c]),lt.push(jr[c])):39===c?(4===y?(H=1-fe(e,d,h),k=fe(e,p,h),yt=fe(e,p,u),it=fe(a,p,u),w=1-fe(a,d,u),C=1-fe(e,d,u)):(H=fe(a,h,d),k=1-fe(a,h,p),yt=1-fe(a,u,p),it=1-fe(e,u,p),w=fe(e,u,d),C=fe(a,u,d)),lt.push(Zi[c]),lt.push(Ir[c]),lt.push(jr[c])):85===c&&(j=1,H=0,k=1,E=0,yt=0,it=1,w=0,C=1),(w<0||w>1||C<0||C>1||j<0||j>1||k<0||k>1||yt<0||yt>1||it<0||it>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+g+" "+u+","+d+","+h+","+p+" "+y+" "+w+" "+C+" "+j+" "+H+" "+k+" "+E+" "+yt+" "+it),o.cells[s][l]={cval:c,cval_real:g,flipped:y,topleft:w,topright:C,righttop:j,rightbottom:H,bottomright:k,bottomleft:E,leftbottom:yt,lefttop:it,edges:lt}}}}}return o}(n,e,t);return Hy.polygons?(Hy.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),c=function wJt(n){var e=[],t=0;return n.cells.forEach(function(i,r){i.forEach(function(o,a){if(typeof o<"u"){var s=Di[o.cval](o);"object"==typeof s&&OU(s)?"object"==typeof s[0]&&OU(s[0])?"object"==typeof s[0][0]&&OU(s[0][0])?s.forEach(function(l){l.forEach(function(c){c[0]+=a,c[1]+=r}),e[t++]=l}):(s.forEach(function(l){l[0]+=a,l[1]+=r}),e[t++]=s):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(Hy.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),c=function vJt(n){for(var e=[],t=n.rows,i=n.cols,r=[],o=0;o<t;o++)for(var a=0;a<i;a++)if(typeof n.cells[o][a]<"u"&&n.cells[o][a].edges.length>0){var l=bJt(n.cells[o][a]),c=null,u=a,d=o;null!==l&&r.push([l.p[0]+u,l.p[1]+d]);do{if(null===(c=xJt(n.cells[d][u],l.x,l.y,l.o)))break;if(r.push([c.p[0]+u,c.p[1]+d]),u+=c.x,l=c,(d+=c.y)<0||d>=t||u<0||u>=i||typeof n.cells[d][u]>"u"){var h=_Jt(n,u-=c.x,d-=c.y,c.x,c.y,c.o);if(null===h)break;h.path.forEach(function(p){r.push(p)}),u=h.i,d=h.j,l=h}}while(typeof n.cells[d][u]<"u"&&n.cells[d][u].edges.length>0);e.push(r),r=[],n.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof Hy.successCallback&&Hy.successCallback(c),c}var Zu=64,lf=16,pu=4,Cu=1,_a=[],ya=[],ba=[],xa=[],wa=[],Sa=[],Ca=[],Ma=[],Ea=[],Ta=[],Da=[],Aa=[],Ia=[],Pa=[],ka=[],Ra=[],La=[],Oa=[],Na=[],Fa=[],Ba=[],Va=[],za=[],Ua=[];Ca[85]=Ta[85]=-1,Ma[85]=Da[85]=0,Ea[85]=Aa[85]=1,Na[85]=Va[85]=1,Fa[85]=za[85]=0,Ba[85]=Ua[85]=1,_a[85]=xa[85]=0,ya[85]=wa[85]=-1,ba[85]=ka[85]=0,Ra[85]=Ia[85]=0,La[85]=Pa[85]=1,Sa[85]=Oa[85]=1,Va[1]=Va[169]=0,za[1]=za[169]=-1,Ua[1]=Ua[169]=0,Ia[1]=Ia[169]=-1,Pa[1]=Pa[169]=0,ka[1]=ka[169]=0,Ta[4]=Ta[166]=0,Da[4]=Da[166]=-1,Aa[4]=Aa[166]=1,Ra[4]=Ra[166]=1,La[4]=La[166]=0,Oa[4]=Oa[166]=0,Ca[16]=Ca[154]=0,Ma[16]=Ma[154]=1,Ea[16]=Ea[154]=1,xa[16]=xa[154]=1,wa[16]=wa[154]=0,Sa[16]=Sa[154]=1,Na[64]=Na[106]=0,Fa[64]=Fa[106]=1,Ba[64]=Ba[106]=0,_a[64]=_a[106]=-1,ya[64]=ya[106]=0,ba[64]=ba[106]=1,Na[2]=Na[168]=0,Fa[2]=Fa[168]=-1,Ba[2]=Ba[168]=1,Va[2]=Va[168]=0,za[2]=za[168]=-1,Ua[2]=Ua[168]=0,Ia[2]=Ia[168]=-1,Pa[2]=Pa[168]=0,ka[2]=ka[168]=0,Ra[2]=Ra[168]=-1,La[2]=La[168]=0,Oa[2]=Oa[168]=1,Ca[8]=Ca[162]=0,Ma[8]=Ma[162]=-1,Ea[8]=Ea[162]=0,Ta[8]=Ta[162]=0,Da[8]=Da[162]=-1,Aa[8]=Aa[162]=1,Ia[8]=Ia[162]=1,Pa[8]=Pa[162]=0,ka[8]=ka[162]=1,Ra[8]=Ra[162]=1,La[8]=La[162]=0,Oa[8]=Oa[162]=0,Ca[32]=Ca[138]=0,Ma[32]=Ma[138]=1,Ea[32]=Ea[138]=1,Ta[32]=Ta[138]=0,Da[32]=Da[138]=1,Aa[32]=Aa[138]=0,_a[32]=_a[138]=1,ya[32]=ya[138]=0,ba[32]=ba[138]=0,xa[32]=xa[138]=1,wa[32]=wa[138]=0,Sa[32]=Sa[138]=1,Va[128]=Va[42]=0,za[128]=za[42]=1,Ua[128]=Ua[42]=1,Na[128]=Na[42]=0,Fa[128]=Fa[42]=1,Ba[128]=Ba[42]=0,_a[128]=_a[42]=-1,ya[128]=ya[42]=0,ba[128]=ba[42]=1,xa[128]=xa[42]=-1,wa[128]=wa[42]=0,Sa[128]=Sa[42]=0,Ta[5]=Ta[165]=-1,Da[5]=Da[165]=0,Aa[5]=Aa[165]=0,Va[5]=Va[165]=1,za[5]=za[165]=0,Ua[5]=Ua[165]=0,Ra[20]=Ra[150]=0,La[20]=La[150]=1,Oa[20]=Oa[150]=1,xa[20]=xa[150]=0,wa[20]=wa[150]=-1,Sa[20]=Sa[150]=1,Ca[80]=Ca[90]=-1,Ma[80]=Ma[90]=0,Ea[80]=Ea[90]=1,Na[80]=Na[90]=1,Fa[80]=Fa[90]=0,Ba[80]=Ba[90]=1,Ia[65]=Ia[105]=0,Pa[65]=Pa[105]=1,ka[65]=ka[105]=0,_a[65]=_a[105]=0,ya[65]=ya[105]=-1,ba[65]=ba[105]=0,Ca[160]=Ca[10]=-1,Ma[160]=Ma[10]=0,Ea[160]=Ea[10]=1,Ta[160]=Ta[10]=-1,Da[160]=Da[10]=0,Aa[160]=Aa[10]=0,Va[160]=Va[10]=1,za[160]=za[10]=0,Ua[160]=Ua[10]=0,Na[160]=Na[10]=1,Fa[160]=Fa[10]=0,Ba[160]=Ba[10]=1,Ra[130]=Ra[40]=0,La[130]=La[40]=1,Oa[130]=Oa[40]=1,Ia[130]=Ia[40]=0,Pa[130]=Pa[40]=1,ka[130]=ka[40]=0,_a[130]=_a[40]=0,ya[130]=ya[40]=-1,ba[130]=ba[40]=0,xa[130]=xa[40]=0,wa[130]=wa[40]=-1,Sa[130]=Sa[40]=1,Ta[37]=Ta[133]=0,Da[37]=Da[133]=1,Aa[37]=Aa[133]=1,Va[37]=Va[133]=0,za[37]=za[133]=1,Ua[37]=Ua[133]=0,_a[37]=_a[133]=-1,ya[37]=ya[133]=0,ba[37]=ba[133]=0,xa[37]=xa[133]=1,wa[37]=wa[133]=0,Sa[37]=Sa[133]=0,Ra[148]=Ra[22]=-1,La[148]=La[22]=0,Oa[148]=Oa[22]=0,Va[148]=Va[22]=0,za[148]=za[22]=-1,Ua[148]=Ua[22]=1,Na[148]=Na[22]=0,Fa[148]=Fa[22]=1,Ba[148]=Ba[22]=1,xa[148]=xa[22]=-1,wa[148]=wa[22]=0,Sa[148]=Sa[22]=1,Ca[82]=Ca[88]=0,Ma[82]=Ma[88]=-1,Ea[82]=Ea[88]=1,Ra[82]=Ra[88]=1,La[82]=La[88]=0,Oa[82]=Oa[88]=1,Ia[82]=Ia[88]=-1,Pa[82]=Pa[88]=0,ka[82]=ka[88]=1,Na[82]=Na[88]=0,Fa[82]=Fa[88]=-1,Ba[82]=Ba[88]=0,Ca[73]=Ca[97]=0,Ma[73]=Ma[97]=1,Ea[73]=Ea[97]=0,Ta[73]=Ta[97]=0,Da[73]=Da[97]=-1,Aa[73]=Aa[97]=0,Ia[73]=Ia[97]=1,Pa[73]=Pa[97]=0,ka[73]=ka[97]=0,_a[73]=_a[97]=1,ya[73]=ya[97]=0,ba[73]=ba[97]=1,Ca[145]=Ca[25]=0,Ma[145]=Ma[25]=-1,Ea[145]=Ea[25]=0,Ia[145]=Ia[25]=1,Pa[145]=Pa[25]=0,ka[145]=ka[25]=1,Va[145]=Va[25]=0,za[145]=za[25]=1,Ua[145]=Ua[25]=1,xa[145]=xa[25]=-1,wa[145]=wa[25]=0,Sa[145]=Sa[25]=0,Ta[70]=Ta[100]=0,Da[70]=Da[100]=1,Aa[70]=Aa[100]=0,Ra[70]=Ra[100]=-1,La[70]=La[100]=0,Oa[70]=Oa[100]=1,Na[70]=Na[100]=0,Fa[70]=Fa[100]=-1,Ba[70]=Ba[100]=1,_a[70]=_a[100]=1,ya[70]=ya[100]=0,ba[70]=ba[100]=0,Ta[101]=Ta[69]=0,Da[101]=Da[69]=1,Aa[101]=Aa[69]=0,_a[101]=_a[69]=1,ya[101]=ya[69]=0,ba[101]=ba[69]=0,Va[149]=Va[21]=0,za[149]=za[21]=1,Ua[149]=Ua[21]=1,xa[149]=xa[21]=-1,wa[149]=wa[21]=0,Sa[149]=Sa[21]=0,Ra[86]=Ra[84]=-1,La[86]=La[84]=0,Oa[86]=Oa[84]=1,Na[86]=Na[84]=0,Fa[86]=Fa[84]=-1,Ba[86]=Ba[84]=1,Ca[89]=Ca[81]=0,Ma[89]=Ma[81]=-1,Ea[89]=Ea[81]=0,Ia[89]=Ia[81]=1,Pa[89]=Pa[81]=0,ka[89]=ka[81]=1,Ca[96]=Ca[74]=0,Ma[96]=Ma[74]=1,Ea[96]=Ea[74]=0,Ta[96]=Ta[74]=-1,Da[96]=Da[74]=0,Aa[96]=Aa[74]=1,Na[96]=Na[74]=1,Fa[96]=Fa[74]=0,Ba[96]=Ba[74]=0,_a[96]=_a[74]=1,ya[96]=ya[74]=0,ba[96]=ba[74]=1,Ca[24]=Ca[146]=0,Ma[24]=Ma[146]=-1,Ea[24]=Ea[146]=1,Ra[24]=Ra[146]=1,La[24]=La[146]=0,Oa[24]=Oa[146]=1,Ia[24]=Ia[146]=0,Pa[24]=Pa[146]=1,ka[24]=ka[146]=1,xa[24]=xa[146]=0,wa[24]=wa[146]=-1,Sa[24]=Sa[146]=0,Ta[6]=Ta[164]=-1,Da[6]=Da[164]=0,Aa[6]=Aa[164]=1,Ra[6]=Ra[164]=-1,La[6]=La[164]=0,Oa[6]=Oa[164]=0,Va[6]=Va[164]=0,za[6]=za[164]=-1,Ua[6]=Ua[164]=1,Na[6]=Na[164]=1,Fa[6]=Fa[164]=0,Ba[6]=Ba[164]=0,Ia[129]=Ia[41]=0,Pa[129]=Pa[41]=1,ka[129]=ka[41]=1,Va[129]=Va[41]=0,za[129]=za[41]=1,Ua[129]=Ua[41]=0,_a[129]=_a[41]=-1,ya[129]=ya[41]=0,ba[129]=ba[41]=0,xa[129]=xa[41]=0,wa[129]=wa[41]=-1,Sa[129]=Sa[41]=0,Ra[66]=Ra[104]=0,La[66]=La[104]=1,Oa[66]=Oa[104]=0,Ia[66]=Ia[104]=-1,Pa[66]=Pa[104]=0,ka[66]=ka[104]=1,Na[66]=Na[104]=0,Fa[66]=Fa[104]=-1,Ba[66]=Ba[104]=0,_a[66]=_a[104]=0,ya[66]=ya[104]=-1,ba[66]=ba[104]=1,Ca[144]=Ca[26]=-1,Ma[144]=Ma[26]=0,Ea[144]=Ea[26]=0,Va[144]=Va[26]=1,za[144]=za[26]=0,Ua[144]=Ua[26]=1,Na[144]=Na[26]=0,Fa[144]=Fa[26]=1,Ba[144]=Ba[26]=1,xa[144]=xa[26]=-1,wa[144]=wa[26]=0,Sa[144]=Sa[26]=1,Ta[36]=Ta[134]=0,Da[36]=Da[134]=1,Aa[36]=Aa[134]=1,Ra[36]=Ra[134]=0,La[36]=La[134]=1,Oa[36]=Oa[134]=0,_a[36]=_a[134]=0,ya[36]=ya[134]=-1,ba[36]=ba[134]=1,xa[36]=xa[134]=1,wa[36]=wa[134]=0,Sa[36]=Sa[134]=0,Ca[9]=Ca[161]=-1,Ma[9]=Ma[161]=0,Ea[9]=Ea[161]=0,Ta[9]=Ta[161]=0,Da[9]=Da[161]=-1,Aa[9]=Aa[161]=0,Ia[9]=Ia[161]=1,Pa[9]=Pa[161]=0,ka[9]=ka[161]=0,Va[9]=Va[161]=1,za[9]=za[161]=0,Ua[9]=Ua[161]=1,Ca[136]=0,Ma[136]=1,Ea[136]=1,Ta[136]=0,Da[136]=1,Aa[136]=0,Ra[136]=-1,La[136]=0,Oa[136]=1,Ia[136]=-1,Pa[136]=0,ka[136]=0,Va[136]=0,za[136]=-1,Ua[136]=0,Na[136]=0,Fa[136]=-1,Ba[136]=1,_a[136]=1,ya[136]=0,ba[136]=0,xa[136]=1,wa[136]=0,Sa[136]=1,Ca[34]=0,Ma[34]=-1,Ea[34]=0,Ta[34]=0,Da[34]=-1,Aa[34]=1,Ra[34]=1,La[34]=0,Oa[34]=0,Ia[34]=1,Pa[34]=0,ka[34]=1,Va[34]=0,za[34]=1,Ua[34]=1,Na[34]=0,Fa[34]=1,Ba[34]=0,_a[34]=-1,ya[34]=0,ba[34]=1,xa[34]=-1,wa[34]=0,Sa[34]=0,Ca[35]=0,Ma[35]=1,Ea[35]=1,Ta[35]=0,Da[35]=-1,Aa[35]=1,Ra[35]=1,La[35]=0,Oa[35]=0,Ia[35]=-1,Pa[35]=0,ka[35]=0,Va[35]=0,za[35]=-1,Ua[35]=0,Na[35]=0,Fa[35]=1,Ba[35]=0,_a[35]=-1,ya[35]=0,ba[35]=1,xa[35]=1,wa[35]=0,Sa[35]=1,Ca[153]=0,Ma[153]=1,Ea[153]=1,Ia[153]=-1,Pa[153]=0,ka[153]=0,Va[153]=0,za[153]=-1,Ua[153]=0,xa[153]=1,wa[153]=0,Sa[153]=1,Ta[102]=0,Da[102]=-1,Aa[102]=1,Ra[102]=1,La[102]=0,Oa[102]=0,Na[102]=0,Fa[102]=1,Ba[102]=0,_a[102]=-1,ya[102]=0,ba[102]=1,Ca[155]=0,Ma[155]=-1,Ea[155]=0,Ia[155]=1,Pa[155]=0,ka[155]=1,Va[155]=0,za[155]=1,Ua[155]=1,xa[155]=-1,wa[155]=0,Sa[155]=0,Ta[103]=0,Da[103]=1,Aa[103]=0,Ra[103]=-1,La[103]=0,Oa[103]=1,Na[103]=0,Fa[103]=-1,Ba[103]=1,_a[103]=1,ya[103]=0,ba[103]=0,Ca[152]=0,Ma[152]=1,Ea[152]=1,Ra[152]=-1,La[152]=0,Oa[152]=1,Ia[152]=-1,Pa[152]=0,ka[152]=0,Va[152]=0,za[152]=-1,Ua[152]=0,Na[152]=0,Fa[152]=-1,Ba[152]=1,xa[152]=1,wa[152]=0,Sa[152]=1,Ca[156]=0,Ma[156]=-1,Ea[156]=1,Ra[156]=1,La[156]=0,Oa[156]=1,Ia[156]=-1,Pa[156]=0,ka[156]=0,Va[156]=0,za[156]=-1,Ua[156]=0,Na[156]=0,Fa[156]=1,Ba[156]=1,xa[156]=-1,wa[156]=0,Sa[156]=1,Ca[137]=0,Ma[137]=1,Ea[137]=1,Ta[137]=0,Da[137]=1,Aa[137]=0,Ia[137]=-1,Pa[137]=0,ka[137]=0,Va[137]=0,za[137]=-1,Ua[137]=0,_a[137]=1,ya[137]=0,ba[137]=0,xa[137]=1,wa[137]=0,Sa[137]=1,Ca[139]=0,Ma[139]=1,Ea[139]=1,Ta[139]=0,Da[139]=-1,Aa[139]=0,Ia[139]=1,Pa[139]=0,ka[139]=0,Va[139]=0,za[139]=1,Ua[139]=0,_a[139]=-1,ya[139]=0,ba[139]=0,xa[139]=1,wa[139]=0,Sa[139]=1,Ca[98]=0,Ma[98]=-1,Ea[98]=0,Ta[98]=0,Da[98]=-1,Aa[98]=1,Ra[98]=1,La[98]=0,Oa[98]=0,Ia[98]=1,Pa[98]=0,ka[98]=1,Na[98]=0,Fa[98]=1,Ba[98]=0,_a[98]=-1,ya[98]=0,ba[98]=1,Ca[99]=0,Ma[99]=1,Ea[99]=0,Ta[99]=0,Da[99]=-1,Aa[99]=1,Ra[99]=1,La[99]=0,Oa[99]=0,Ia[99]=-1,Pa[99]=0,ka[99]=1,Na[99]=0,Fa[99]=-1,Ba[99]=0,_a[99]=1,ya[99]=0,ba[99]=1,Ta[38]=0,Da[38]=-1,Aa[38]=1,Ra[38]=1,La[38]=0,Oa[38]=0,Va[38]=0,za[38]=1,Ua[38]=1,Na[38]=0,Fa[38]=1,Ba[38]=0,_a[38]=-1,ya[38]=0,ba[38]=1,xa[38]=-1,wa[38]=0,Sa[38]=0,Ta[39]=0,Da[39]=1,Aa[39]=1,Ra[39]=-1,La[39]=0,Oa[39]=0,Va[39]=0,za[39]=-1,Ua[39]=1,Na[39]=0,Fa[39]=1,Ba[39]=0,_a[39]=-1,ya[39]=0,ba[39]=1,xa[39]=1,wa[39]=0,Sa[39]=0;var TU=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},DU=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},AU=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},IU=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},PU=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},kU=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},RU=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},LU=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},$i=[],Zi=[],Ir=[],xr=[],Kr=[],jr=[],Ga=[],Za=[];xr[1]=Kr[1]=18,xr[169]=Kr[169]=18,Ir[4]=Zi[4]=12,Ir[166]=Zi[166]=12,$i[16]=Za[16]=4,$i[154]=Za[154]=4,jr[64]=Ga[64]=22,jr[106]=Ga[106]=22,Ir[2]=jr[2]=17,xr[2]=Kr[2]=18,Ir[168]=jr[168]=17,xr[168]=Kr[168]=18,$i[8]=xr[8]=9,Zi[8]=Ir[8]=12,$i[162]=xr[162]=9,Zi[162]=Ir[162]=12,$i[32]=Za[32]=4,Zi[32]=Ga[32]=1,$i[138]=Za[138]=4,Zi[138]=Ga[138]=1,Kr[128]=Za[128]=21,jr[128]=Ga[128]=22,Kr[42]=Za[42]=21,jr[42]=Ga[42]=22,Zi[5]=Kr[5]=14,Zi[165]=Kr[165]=14,Ir[20]=Za[20]=6,Ir[150]=Za[150]=6,$i[80]=jr[80]=11,$i[90]=jr[90]=11,xr[65]=Ga[65]=3,xr[105]=Ga[105]=3,$i[160]=jr[160]=11,Zi[160]=Kr[160]=14,$i[10]=jr[10]=11,Zi[10]=Kr[10]=14,Ir[130]=Za[130]=6,xr[130]=Ga[130]=3,Ir[40]=Za[40]=6,xr[40]=Ga[40]=3,Zi[101]=Ga[101]=1,Zi[69]=Ga[69]=1,Kr[149]=Za[149]=21,Kr[21]=Za[21]=21,Ir[86]=jr[86]=17,Ir[84]=jr[84]=17,$i[89]=xr[89]=9,$i[81]=xr[81]=9,$i[96]=Ga[96]=0,Zi[96]=jr[96]=15,$i[74]=Ga[74]=0,Zi[74]=jr[74]=15,$i[24]=Ir[24]=8,xr[24]=Za[24]=7,$i[146]=Ir[146]=8,xr[146]=Za[146]=7,Zi[6]=jr[6]=15,Ir[6]=Kr[6]=16,Zi[164]=jr[164]=15,Ir[164]=Kr[164]=16,xr[129]=Za[129]=7,Kr[129]=Ga[129]=20,xr[41]=Za[41]=7,Kr[41]=Ga[41]=20,Ir[66]=Ga[66]=2,xr[66]=jr[66]=19,Ir[104]=Ga[104]=2,xr[104]=jr[104]=19,$i[144]=Kr[144]=10,jr[144]=Za[144]=23,$i[26]=Kr[26]=10,jr[26]=Za[26]=23,Zi[36]=Za[36]=5,Ir[36]=Ga[36]=2,Zi[134]=Za[134]=5,Ir[134]=Ga[134]=2,$i[9]=Kr[9]=10,Zi[9]=xr[9]=13,$i[161]=Kr[161]=10,Zi[161]=xr[161]=13,Zi[37]=Za[37]=5,Kr[37]=Ga[37]=20,Zi[133]=Za[133]=5,Kr[133]=Ga[133]=20,Ir[148]=Kr[148]=16,jr[148]=Za[148]=23,Ir[22]=Kr[22]=16,jr[22]=Za[22]=23,$i[82]=Ir[82]=8,xr[82]=jr[82]=19,$i[88]=Ir[88]=8,xr[88]=jr[88]=19,$i[73]=Ga[73]=0,Zi[73]=xr[73]=13,$i[97]=Ga[97]=0,Zi[97]=xr[97]=13,$i[145]=xr[145]=9,Kr[145]=Za[145]=21,$i[25]=xr[25]=9,Kr[25]=Za[25]=21,Zi[70]=Ga[70]=1,Ir[70]=jr[70]=17,Zi[100]=Ga[100]=1,Ir[100]=jr[100]=17,$i[34]=xr[34]=9,Zi[34]=Ir[34]=12,Kr[34]=Za[34]=21,jr[34]=Ga[34]=22,$i[136]=Za[136]=4,Zi[136]=Ga[136]=1,Ir[136]=jr[136]=17,xr[136]=Kr[136]=18,$i[35]=Za[35]=4,Zi[35]=Ir[35]=12,xr[35]=Kr[35]=18,jr[35]=Ga[35]=22,$i[153]=Za[153]=4,xr[153]=Kr[153]=18,Zi[102]=Ir[102]=12,jr[102]=Ga[102]=22,$i[155]=xr[155]=9,Kr[155]=Za[155]=23,Zi[103]=Ga[103]=1,Ir[103]=jr[103]=17,$i[152]=Za[152]=4,Ir[152]=jr[152]=17,xr[152]=Kr[152]=18,$i[156]=Ir[156]=8,xr[156]=Kr[156]=18,jr[156]=Za[156]=23,$i[137]=Za[137]=4,Zi[137]=Ga[137]=1,xr[137]=Kr[137]=18,$i[139]=Za[139]=4,Zi[139]=xr[139]=13,Kr[139]=Ga[139]=20,$i[98]=xr[98]=9,Zi[98]=Ir[98]=12,jr[98]=Ga[98]=22,$i[99]=Ga[99]=0,Zi[99]=Ir[99]=12,xr[99]=jr[99]=19,Zi[38]=Ir[38]=12,Kr[38]=Za[38]=21,jr[38]=Ga[38]=22,Zi[39]=Za[39]=5,Ir[39]=Kr[39]=16,jr[39]=Ga[39]=22;var Di=[];function fe(n,e,t){return(n-e)/(t-e)}function OU(n){return n.constructor.toString().indexOf("Array")>-1}function _Jt(n,e,t,i,r,o){for(var a=n.cells[t][e],s=a.cval_real,l=e+i,c=t+r,u=[],d=!1;!d;){if(typeof n.cells[c]>"u"||typeof n.cells[c][l]>"u")if(s=(a=n.cells[c-=r][l-=i]).cval_real,-1===r)if(0===o)if(s&Cu)u.push([l,c]),i=-1,r=0,o=0;else{if(!(s&pu)){u.push([l+a.bottomright,c]),i=0,r=1,o=1,d=!0;break}u.push([l+1,c]),i=1,r=0,o=0}else{if(!(s&Cu)){if(s&pu){u.push([l+a.bottomright,c]),i=0,r=1,o=1,d=!0;break}u.push([l+a.bottomleft,c]),i=0,r=1,o=0,d=!0;break}u.push([l,c]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(s&lf)){if(s&Zu){u.push([l+a.topleft,c+1]),i=0,r=-1,o=0,d=!0;break}u.push([l+a.topright,c+1]),i=0,r=-1,o=1,d=!0;break}u.push([l+1,c+1]),i=1,r=0,o=1}else u.push([l+1,c+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(s&Zu)){if(s&Cu){u.push([l,c+a.leftbottom]),i=1,r=0,o=0,d=!0;break}u.push([l,c+a.lefttop]),i=1,r=0,o=1,d=!0;break}u.push([l,c+1]),i=0,r=1,o=0}else{if(!(s&Zu)){console.log("MarchingSquaresJS-isoBands: wtf");break}u.push([l,c+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&pu)){u.push([l+1,c+a.rightbottom]),i=-1,r=0,o=0,d=!0;break}u.push([l+1,c]),i=0,r=-1,o=1}else{if(!(s&pu)){if(s&lf){u.push([l+1,c+a.righttop]),i=-1,r=0,o=1;break}u.push([l+1,c+a.rightbottom]),i=-1,r=0,o=0,d=!0;break}u.push([l+1,c]),i=0,r=-1,o=1}}else if(s=(a=n.cells[c][l]).cval_real,-1===i)if(0===o)if(typeof n.cells[c-1]<"u"&&typeof n.cells[c-1][l]<"u")i=0,r=-1,o=1;else{if(!(s&Cu)){u.push([l+a.bottomright,c]),i=0,r=1,o=1,d=!0;break}u.push([l,c])}else{if(!(s&Zu)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(typeof n.cells[c+1]<"u"&&typeof n.cells[c+1][l]<"u")i=0,r=1,o=0;else{if(!(s&lf)){u.push([l+a.topleft,c+1]),i=0,r=-1,o=0,d=!0;break}u.push([l+1,c+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(typeof n.cells[c][l+1]<"u")i=1,r=0,o=1;else{if(!(s&pu)){u.push([l+1,c+a.righttop]),i=-1,r=0,o=1,d=!0;break}u.push([l+1,c]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(typeof n.cells[c][l-1]<"u")i=-1,r=0,o=0;else{if(!(s&Zu)){u.push([l,c+a.leftbottom]),i=1,r=0,o=0,d=!0;break}u.push([l,c+1]),i=0,r=1,o=0}}if(c+=r,(l+=i)===e&&c===t)break}return{path:u,i:l,j:c,x:i,y:r,o}}function bJt(n){if(n.edges.length>0){var t=n.cval_real;switch(n.edges[n.edges.length-1]){case 0:return t&lf?{p:[1,n.righttop],x:-1,y:0,o:1}:{p:[n.topleft,1],x:0,y:-1,o:0};case 1:return t&pu?{p:[n.topleft,1],x:0,y:-1,o:0}:{p:[1,n.rightbottom],x:-1,y:0,o:0};case 2:return t&pu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[n.topleft,1],x:0,y:-1,o:0};case 3:return t&Cu?{p:[n.topleft,1],x:0,y:-1,o:0}:{p:[n.bottomleft,0],x:0,y:1,o:0};case 4:return t&lf?{p:[1,n.righttop],x:-1,y:0,o:1}:{p:[n.topright,1],x:0,y:-1,o:1};case 5:return t&pu?{p:[n.topright,1],x:0,y:-1,o:1}:{p:[1,n.rightbottom],x:-1,y:0,o:0};case 6:return t&pu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[n.topright,1],x:0,y:-1,o:1};case 7:return t&Cu?{p:[n.topright,1],x:0,y:-1,o:1}:{p:[n.bottomleft,0],x:0,y:1,o:0};case 8:return t&pu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[1,n.righttop],x:-1,y:0,o:1};case 9:return t&Cu?{p:[1,n.righttop],x:-1,y:0,o:1}:{p:[n.bottomleft,0],x:0,y:1,o:0};case 10:return t&Cu?{p:[0,n.leftbottom],x:1,y:0,o:0}:{p:[1,n.righttop],x:-1,y:0,o:1};case 11:return t&Zu?{p:[1,n.righttop],x:-1,y:0,o:1}:{p:[0,n.lefttop],x:1,y:0,o:1};case 12:return t&pu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[1,n.rightbottom],x:-1,y:0,o:0};case 13:return t&Cu?{p:[1,n.rightbottom],x:-1,y:0,o:0}:{p:[n.bottomleft,0],x:0,y:1,o:0};case 14:return t&Cu?{p:[0,n.leftbottom],x:1,y:0,o:0}:{p:[1,n.rightbottom],x:-1,y:0,o:0};case 15:return t&Zu?{p:[1,n.rightbottom],x:-1,y:0,o:0}:{p:[0,n.lefttop],x:1,y:0,o:1};case 16:return t&pu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[0,n.leftbottom],x:1,y:0,o:0};case 17:return t&Zu?{p:[n.bottomright,0],x:0,y:1,o:1}:{p:[0,n.lefttop],x:1,y:0,o:1};case 18:return t&Cu?{p:[0,n.leftbottom],x:1,y:0,o:0}:{p:[n.bottomleft,0],x:0,y:1,o:0};case 19:return t&Zu?{p:[n.bottomleft,0],x:0,y:1,o:0}:{p:[0,n.lefttop],x:1,y:0,o:1};case 20:return t&Zu?{p:[n.topleft,1],x:0,y:-1,o:0}:{p:[0,n.leftbottom],x:1,y:0,o:0};case 21:return t&lf?{p:[0,n.leftbottom],x:1,y:0,o:0}:{p:[n.topright,1],x:0,y:-1,o:1};case 22:return t&Zu?{p:[n.topleft,1],x:0,y:-1,o:0}:{p:[0,n.lefttop],x:1,y:0,o:1};case 23:return t&lf?{p:[0,n.lefttop],x:1,y:0,o:1}:{p:[n.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(n)}}return null}function xJt(n,e,t,i){var r,o,a,s,c,l=n.cval;switch(e){case-1:0===i?(r=Zi[l],a=Ta[l],s=Da[l],c=Aa[l]):(r=$i[l],a=Ca[l],s=Ma[l],c=Ea[l]);break;case 1:0===i?(r=Kr[l],a=Va[l],s=za[l],c=Ua[l]):(r=jr[l],a=Na[l],s=Fa[l],c=Ba[l]);break;default:switch(t){case-1:0===i?(r=Ga[l],a=_a[l],s=ya[l],c=ba[l]):(r=Za[l],a=xa[l],s=wa[l],c=Sa[l]);break;case 1:0===i?(r=xr[l],a=Ia[l],s=Pa[l],c=ka[l]):(r=Ir[l],a=Ra[l],s=La[l],c=Oa[l])}}if(o=n.edges.indexOf(r),!(typeof n.edges[o]<"u"))return null;switch(function yJt(n,e){delete n.edges[e];for(var t=e+1;t<n.edges.length;t++)n.edges[t-1]=n.edges[t];n.edges.pop()}(n,o),l=n.cval_real,r){case 0:l&lf?(e=n.topleft,t=1):(e=1,t=n.righttop);break;case 1:l&pu?(e=1,t=n.rightbottom):(e=n.topleft,t=1);break;case 2:l&pu?(e=n.topleft,t=1):(e=n.bottomright,t=0);break;case 3:l&Cu?(e=n.bottomleft,t=0):(e=n.topleft,t=1);break;case 4:l&lf?(e=n.topright,t=1):(e=1,t=n.righttop);break;case 5:l&pu?(e=1,t=n.rightbottom):(e=n.topright,t=1);break;case 6:l&pu?(e=n.topright,t=1):(e=n.bottomright,t=0);break;case 7:l&Cu?(e=n.bottomleft,t=0):(e=n.topright,t=1);break;case 8:l&pu?(e=1,t=n.righttop):(e=n.bottomright,t=0);break;case 9:l&Cu?(e=n.bottomleft,t=0):(e=1,t=n.righttop);break;case 10:l&Cu?(e=1,t=n.righttop):(e=0,t=n.leftbottom);break;case 11:l&Zu?(e=0,t=n.lefttop):(e=1,t=n.righttop);break;case 12:l&pu?(e=1,t=n.rightbottom):(e=n.bottomright,t=0);break;case 13:l&Cu?(e=n.bottomleft,t=0):(e=1,t=n.rightbottom);break;case 14:l&Cu?(e=1,t=n.rightbottom):(e=0,t=n.leftbottom);break;case 15:l&Zu?(e=0,t=n.lefttop):(e=1,t=n.rightbottom);break;case 16:l&pu?(e=0,t=n.leftbottom):(e=n.bottomright,t=0);break;case 17:l&Zu?(e=0,t=n.lefttop):(e=n.bottomright,t=0);break;case 18:l&Cu?(e=n.bottomleft,t=0):(e=0,t=n.leftbottom);break;case 19:l&Zu?(e=0,t=n.lefttop):(e=n.bottomleft,t=0);break;case 20:l&Zu?(e=0,t=n.leftbottom):(e=n.topleft,t=1);break;case 21:l&lf?(e=n.topright,t=1):(e=0,t=n.leftbottom);break;case 22:l&Zu?(e=0,t=n.lefttop):(e=n.topleft,t=1);break;case 23:l&lf?(e=n.topright,t=1):(e=0,t=n.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(n),null}return(typeof e>"u"||typeof t>"u"||typeof a>"u"||typeof s>"u"||typeof c>"u")&&(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(n),console.log(e+" "+t+" "+a+" "+s+" "+c)),{p:[e,t],x:a,y:s,o:c}}function EJt(n){var e=[],t=[];n.forEach(function(r){var o=mk(Xo([r]));t.push(o),e.push({ring:r,area:o})}),t.sort(function(r,o){return o-r});var i=[];return t.forEach(function(r){for(var o=0;o<e.length;o++)if(e[o].area===r){i.push(e[o].ring),e.splice(o,1);break}}),i}function TJt(n){for(var e=n.map(function(l){return{lrCoordinates:l,grouped:!1}}),t=[];!AJt(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var o=Xo([e[i].lrCoordinates]),a=i+1;a<e.length;a++)e[a].grouped||DJt(Xo([e[a].lrCoordinates]),o)&&(r.push(e[a].lrCoordinates),e[a].grouped=!0);t.push(r)}return t}function DJt(n,e){for(var t=hk(n),i=0;i<t.features.length;i++)if(!Rs(t.features[i],e))return!1;return!0}function AJt(n){for(var e=0;e<n.length;e++)if(!1===n[e].grouped)return!1;return!0}Di[1]=Di[169]=TU,Di[4]=Di[166]=DU,Di[16]=Di[154]=AU,Di[64]=Di[106]=IU,Di[168]=Di[2]=PU,Di[162]=Di[8]=kU,Di[138]=Di[32]=RU,Di[42]=Di[128]=LU,Di[5]=Di[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},Di[20]=Di[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},Di[80]=Di[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},Di[65]=Di[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Di[160]=Di[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},Di[130]=Di[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},Di[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Di[101]=Di[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},Di[149]=Di[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},Di[86]=Di[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},Di[89]=Di[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},Di[96]=Di[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},Di[24]=Di[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},Di[6]=Di[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},Di[129]=Di[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},Di[66]=Di[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Di[144]=Di[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Di[36]=Di[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},Di[9]=Di[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Di[37]=Di[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Di[148]=Di[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Di[82]=Di[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},Di[73]=Di[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Di[145]=Di[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Di[70]=Di[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Di[34]=function(n){return[LU(n),kU(n)]},Di[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Di[136]=function(n){return[RU(n),PU(n)]},Di[153]=function(n){return[AU(n),TU(n)]},Di[102]=function(n){return[DU(n),IU(n)]},Di[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Di[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Di[152]=function(n){return[AU(n),PU(n)]},Di[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Di[137]=function(n){return[RU(n),TU(n)]},Di[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Di[98]=function(n){return[kU(n),IU(n)]},Di[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Di[38]=function(n){return[DU(n),LU(n)]},Di[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const IJt=function SJt(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.zProperty||"elevation",r=t.commonProperties||{},o=t.breaksProperties||[];if($m(n,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!Cs(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var a=function OQt(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.zProperty||"elevation",i=e.flip,r=e.flags;$m(n,"Point","input must contain Points");for(var o=function NQt(n,e){var t={};os(n,function(o){var a=qr(o)[1];t[a]||(t[a]=[]),t[a].push(o)});var i=Object.keys(t).map(function(o){var s=t[o].sort(function(l,c){return qr(l)[0]-qr(c)[0]});return s}),r=i.sort(function(o,a){return e?qr(o[0])[1]-qr(a[0])[1]:qr(a[0])[1]-qr(o[0])[1]});return r}(n,i),a=[],s=0;s<o.length;s++){for(var l=o[s],c=[],u=0;u<l.length;u++){var d=l[u];c.push(d.properties[t]?d.properties[t]:0),!0===r&&(d.properties.matrixPosition=[s,u])}a.push(c)}return a}(n,{zProperty:i,flip:!0}),s=function CJt(n,e,t){for(var i=[],r=1;r<e.length;r++){var o=+e[r-1],a=+e[r],c=TJt(EJt(FQt(n,o,a-o))),u={};u.groupedRings=c,u[t]=o+"-"+a,i.push(u)}return i}(a,e,i);return s=function MJt(n,e,t){var i=Uc(t),a=i[0],s=i[1],u=(i[2]-i[0])/(e[0].length-1),d=(i[3]-i[1])/(e.length-1),h=function(p){p[0]=p[0]*u+a,p[1]=p[1]*d+s};return n.forEach(function(p){p.groupedRings.forEach(function(g){g.forEach(function(y){y.forEach(h)})})}),n}(s,a,n),Ur(s.map(function(c,u){if(o[u]&&!Cs(o[u]))throw new Error("Each mappedProperty is required to be an Object");var d=iU({},r,o[u]);return d[i]=c[i],dd(c.groupedRings,d)}))},Xut=function PJt(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.pivot,r=t.mutate;if(!n)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(i||(i=yv(n)),(!1===r||void 0===r)&&(n=Su(n)),Kl(n,function(o){var s=Gy(i,o)+e,l=pk(i,o),c=qr(Lx(i,l,s));o[0]=c[0],o[1]=c[1]})),n};function $ut(n,e,t){var i="Point"===Id(n);return t=function RJt(n,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return Hs(e);var t=n.bbox?n.bbox:Uc(n),i=t[0],r=t[1],o=t[2],a=t[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return Ho([i,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return Ho([o,r]);case"nw":case"northwest":case"westnorth":case"topleft":return Ho([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return Ho([o,a]);case"center":return dk(n);case void 0:case null:case"centroid":return yv(n);default:throw new Error("invalid origin")}}(n,t),1===e||i||Kl(n,function(r){var o=pk(t,r),a=Gy(t,r),l=qr(Lx(t,o*e,a));r[0]=l[0],r[1]=l[1],3===r.length&&(r[2]*=e)}),n}const qut=function kJt(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.origin,r=t.mutate;if(!n)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(n=Su(n)),"FeatureCollection"!==n.type||o?$ut(n,e,i):(os(n,function(a,s){n.features[s]=$ut(a,e,i)}),n)},OJt=function LJt(n,e,t,i){if(!Cs(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,a=i.mutate;if(!n)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return n;if(null==t||isNaN(t))throw new Error("direction is required");return e<0&&(e=-e,t+=180),(!1===a||void 0===a)&&(n=Su(n)),Kl(n,function(s){var l=qr(Lx(s,e,t,{units:r}));s[0]=l[0],s[1]=l[1],o&&3===s.length&&(s[2]+=o)}),n};function bk(n){var e=n[0],t=n[1];return[t[0]-e[0],t[1]-e[1]]}function NU(n,e){return n[0]*e[1]-e[0]*n[1]}function Kut(n,e,t){var i=[],r=ak(e,t),o=qr(n),a=[];return o.forEach(function(s,l){if(l!==o.length-1){var c=function HJt(n,e,t){var i=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]));return[[n[0]+t*(e[1]-n[1])/i,n[1]+t*(n[0]-e[0])/i],[e[0]+t*(e[1]-n[1])/i,e[1]+t*(n[0]-e[0])/i]]}(s,o[l+1],r);if(i.push(c),l>0){var u=i[l-1],d=function UJt(n,e){return!function zJt(n,e){return 0===NU(bk(n),bk(e))}(n,e)&&function VJt(n,e){var t=n[0],i=bk(n),r=e[0],o=bk(e),a=NU(i,o),s=function FJt(n,e){return[n[0]-e[0],n[1]-e[1]]}(r,t),u=function NJt(n,e){return[n[0]+e[0],n[1]+e[1]]}(t,function BJt(n,e){return[n*e[0],n*e[1]]}(NU(s,o)/a,i));return u}(n,e)}(c,u);!1!==d&&(u[1]=d,c[0]=d),a.push(u[0]),l===o.length-2&&(a.push(c[0]),a.push(c[1]))}2===o.length&&(a.push(c[0]),a.push(c[1]))}}),ys(a,n.properties)}const jJt=function GJt(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.units;if(!n)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=Id(n),o=n.properties;switch(r){case"LineString":return Kut(n,e,i);case"MultiLineString":var a=[];return fu(n,function(s){a.push(Kut(s,e,i).geometry.coordinates)}),vv(a,o);default:throw new Error("geometry "+r+" is not supported")}};function FU(n,e,t){return function WJt(n){return(n>0)-(n<0)||+n}((e[0]-n[0])*(t[1]-e[1])-(t[0]-e[0])*(e[1]-n[1]))}function Qut(n,e){return e.geometry.coordinates[0].every(function(t){return Rs(Ho(t),n)})}var XJt=function(){function n(e){this.id=n.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(e){return e.join(",")},n.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==e.from.id})},n.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==e.to.id})},n.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,i){var r=t.to,o=i.to;if(r.coordinates[0]-e.coordinates[0]>=0&&o.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&o.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&o.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||o.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-o.coordinates[1]:o.coordinates[1]-r.coordinates[1];var a=FU(e.coordinates,r.coordinates,o.coordinates);return a<0?1:a>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},n.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},n}();const Jut=XJt;var $Jt=function(){function n(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return ys([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(e){return FU(e.from.coordinates,e.to.coordinates,this.to.coordinates)},n}();const qJt=$Jt;var KJt=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},n.prototype.get=function(e){return this.edges[e]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(e){this.edges.forEach(e)},n.prototype.map=function(e){return this.edges.map(e)},n.prototype.some=function(e){return this.edges.some(e)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var e=this,t=this.edges.reduce(function(a,s,l){return s.from.coordinates[1]>e.edges[a].from.coordinates[1]&&(a=l),a},0),i=(0===t?this.length:t)-1,r=(t+1)%this.length,o=FU(this.edges[i].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[i].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},n.prototype.toMultiPoint=function(){return Ax(this.edges.map(function(e){return e.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(t){return t.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=Xo([e])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=aut(this.toPolygon())},n.findEdgeRingContaining=function(e,t){var r,o,i=e.getEnvelope();return t.forEach(function(a){var s=a.getEnvelope();if(o&&(r=o.getEnvelope()),!function ZJt(n,e){var t=n.geometry.coordinates[0].map(function(a){return a[0]}),i=n.geometry.coordinates[0].map(function(a){return a[1]}),r=e.geometry.coordinates[0].map(function(a){return a[0]}),o=e.geometry.coordinates[0].map(function(a){return a[1]});return Math.max.apply(null,t)===Math.max.apply(null,r)&&Math.max.apply(null,i)===Math.max.apply(null,o)&&Math.min.apply(null,t)===Math.min.apply(null,r)&&Math.min.apply(null,i)===Math.min.apply(null,o)}(s,i)&&Qut(s,i)){for(var l=e.map(function(g){return g.from.coordinates}),c=void 0,u=function(g){a.some(function(y){return function YJt(n,e){return n[0]===e[0]&&n[1]===e[1]}(g,y.from.coordinates)})||(c=g)},d=0,h=l;d<h.length;d++)u(h[d]);c&&a.inside(Ho(c))&&(!o||Qut(r,s))&&(o=a)}}),o},n.prototype.inside=function(e){return Rs(e,this.toPolygon())},n}();const tdt=KJt;var JJt=function(){function n(){this.edges=[],this.nodes={}}return n.fromGeoJson=function(e){!function QJt(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var t=new n;return fu(e,function(i){ZC(i,"LineString","Graph::fromGeoJson"),X4(i,function(r,o){if(r){var a=t.getNode(r),s=t.getNode(o);t.addEdge(a,s)}return o})}),t},n.prototype.getNode=function(e){var t=Jut.buildId(e),i=this.nodes[t];return i||(i=this.nodes[t]=new Jut(e)),i},n.prototype.addEdge=function(e,t){var i=new qJt(e,t),r=i.getSymetric();this.edges.push(i),this.edges.push(r)},n.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map(function(t){return e.nodes[t]}).forEach(function(t){return e._removeIfDangle(t)})},n.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var i=e.getOuterEdges().map(function(r){return r.to});this.removeNode(e),i.forEach(function(r){return t._removeIfDangle(r)})}},n.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))})},n.prototype._computeNextCWEdges=function(e){var t=this;typeof e>"u"?Object.keys(this.nodes).forEach(function(i){return t._computeNextCWEdges(t.nodes[i])}):e.getOuterEdges().forEach(function(i,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=i})},n.prototype._computeNextCCWEdges=function(e,t){for(var r,o,i=e.getOuterEdges(),a=i.length-1;a>=0;--a){var s=i[a],l=s.symetric,c=void 0,u=void 0;s.label===t&&(c=s),l.label===t&&(u=l),c&&u&&(u&&(o=u),c&&(o&&(o.next=c,o=void 0),r||(r=c)))}o&&(o.next=r)},n.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach(function(i){if(!(i.label>=0)){e.push(i);var r=i;do{r.label=t,r=r.next}while(!i.isEqual(r));t++}}),e},n.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(i){i.label=void 0}),this._findLabeledEdgeRings().forEach(function(i){e._findIntersectionNodes(i).forEach(function(r){e._computeNextCCWEdges(r,i.label)})});var t=[];return this.edges.forEach(function(i){i.ring||t.push(e._findEdgeRing(i))}),t},n.prototype._findIntersectionNodes=function(e){var t=[],i=e,r=function(){var o=0;i.from.getOuterEdges().forEach(function(a){a.label===e.label&&++o}),o>1&&t.push(i.from),i=i.next};do{r()}while(!e.isEqual(i));return t},n.prototype._findEdgeRing=function(e){var t=e,i=new tdt;do{i.push(t),t.ring=i,t=t.next}while(!e.isEqual(t));return i},n.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach(function(i){return t.removeEdge(i)}),e.innerEdges.forEach(function(i){return t.removeEdge(i)}),delete this.nodes[e.id]},n.prototype.removeEdge=function(e){this.edges=this.edges.filter(function(t){return!t.isEqual(e)}),e.deleteEdge()},n}();const tte=JJt;function ete(n){var e=tte.fromGeoJson(n);e.deleteDangles(),e.deleteCutEdges();var t=[],i=[];return e.getEdgeRings().filter(function(r){return r.isValid()}).forEach(function(r){r.isHole()?t.push(r):i.push(r)}),t.forEach(function(r){tdt.findEdgeRingContaining(r,i)&&i.push(r)}),Ur(i.map(function(r){return r.toPolygon()}))}function edt(n,e){for(var t=0;t<n.coordinates.length-1;t++)if(ate(n.coordinates[t],n.coordinates[t+1],e.coordinates))return!0;return!1}function ndt(n,e){for(var t=0,i=e.coordinates;t<i.length;t++)if(Rs(i[t],n))return!0;return Km(e,KC(n)).features.length>0}function ate(n,e,t){var o=e[0]-n[0],a=e[1]-n[1];return 0==(t[0]-n[0])*a-(t[1]-n[1])*o&&(Math.abs(o)>=Math.abs(a)?o>0?n[0]<=t[0]&&t[0]<=e[0]:e[0]<=t[0]&&t[0]<=n[0]:a>0?n[1]<=t[1]&&t[1]<=e[1]:e[1]<=t[1]&&t[1]<=n[1])}const idt=function nte(n,e){var t=!0;return fu(n,function(i){fu(e,function(r){if(!1===t)return!1;t=function ite(n,e){switch(n.type){case"Point":switch(e.type){case"Point":return!function ste(n,e){return n[0]===e[0]&&n[1]===e[1]}(n.coordinates,e.coordinates);case"LineString":return!edt(e,n);case"Polygon":return!Rs(n,e)}break;case"LineString":switch(e.type){case"Point":return!edt(n,e);case"LineString":return!function rte(n,e){return Km(n,e).features.length>0}(n,e);case"Polygon":return!ndt(e,n)}break;case"Polygon":switch(e.type){case"Point":return!Rs(e,n);case"LineString":return!ndt(n,e);case"Polygon":return!function ote(n,e){for(var t=0,i=n.coordinates[0];t<i.length;t++)if(Rs(i[t],e))return!0;for(var o=0,a=e.coordinates[0];o<a.length;o++)if(Rs(a[o],n))return!0;return Km(KC(n),KC(e)).features.length>0}(e,n)}}return!1}(i.geometry,r.geometry)})}),t};function lte(n,e){var t=ul(n),i=ul(e),r=t.type,o=i.type,a=t.coordinates,s=i.coordinates;switch(r){case"Point":if("Point"===o)return BU(a,s);throw new Error("feature2 "+o+" geometry not supported");case"MultiPoint":switch(o){case"Point":return function cte(n,e){var t,i=!1;for(t=0;t<n.coordinates.length;t++)if(BU(n.coordinates[t],e.coordinates)){i=!0;break}return i}(t,i);case"MultiPoint":return function ute(n,e){for(var t=0,i=e.coordinates;t<i.length;t++){for(var r=i[t],o=!1,a=0,s=n.coordinates;a<s.length;a++)if(BU(r,s[a])){o=!0;break}if(!o)return!1}return!0}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return eh(i,t,{ignoreEndVertices:!0});case"LineString":return function fte(n,e){for(var t=!1,i=0,r=e.coordinates;i<r.length;i++){var o=r[i];if(eh({type:"Point",coordinates:o},n,{ignoreEndVertices:!0})&&(t=!0),!eh({type:"Point",coordinates:o},n,{ignoreEndVertices:!1}))return!1}return t}(t,i);case"MultiPoint":return function dte(n,e){for(var t=!1,i=0,r=e.coordinates;i<r.length;i++){var o=r[i];if(eh(o,n,{ignoreEndVertices:!0})&&(t=!0),!eh(o,n))return!1}return!!t}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return Rs(i,t,{ignoreBoundary:!0});case"LineString":return function pte(n,e){var t=!1,i=0;if(!rdt(Uc(n),Uc(e)))return!1;for(;i<e.coordinates.length-1;i++)if(Rs({type:"Point",coordinates:gte(e.coordinates[i],e.coordinates[i+1])},n,{ignoreBoundary:!0})){t=!0;break}return t}(t,i);case"Polygon":return function mte(n,e){if("Feature"===n.type&&null===n.geometry||"Feature"===e.type&&null===e.geometry)return!1;if(!rdt(Uc(n),Uc(e)))return!1;for(var o=0,a=ul(e).coordinates;o<a.length;o++)for(var l=0,c=a[o];l<c.length;l++)if(!Rs(c[l],n))return!1;return!0}(t,i);case"MultiPoint":return function hte(n,e){for(var t=0,i=e.coordinates;t<i.length;t++)if(!Rs(i[t],n,{ignoreBoundary:!0}))return!1;return!0}(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function rdt(n,e){return!(n[0]>e[0]||n[2]<e[2]||n[1]>e[1]||n[3]<e[3])}function BU(n,e){return n[0]===e[0]&&n[1]===e[1]}function gte(n,e){return[(n[0]+e[0])/2,(n[1]+e[1])/2]}function odt(n,e){for(var t=!1,i=!1,r=n.coordinates.length,o=0;o<r&&!t&&!i;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;(0===a||a===e.coordinates.length-2)&&(s=!1),ldt(e.coordinates[a],e.coordinates[a+1],n.coordinates[o],s)?t=!0:i=!0}o++}return t&&i}function adt(n,e){var t=Out(e);return Km(n,t).features.length>0}function sdt(n,e){for(var t=!1,i=!1,r=n.coordinates.length,o=0;o<r&&(!t||!i);o++)Rs(Ho(n.coordinates[o]),e)?t=!0:i=!0;return i&&t}function ldt(n,e,t,i){var a=e[0]-n[0],s=e[1]-n[1];return 0==(t[0]-n[0])*s-(t[1]-n[1])*a&&(i?Math.abs(a)>=Math.abs(s)?a>0?n[0]<=t[0]&&t[0]<=e[0]:e[0]<=t[0]&&t[0]<=n[0]:s>0?n[1]<=t[1]&&t[1]<=e[1]:e[1]<=t[1]&&t[1]<=n[1]:Math.abs(a)>=Math.abs(s)?a>0?n[0]<t[0]&&t[0]<e[0]:e[0]<t[0]&&t[0]<n[0]:s>0?n[1]<t[1]&&t[1]<e[1]:e[1]<t[1]&&t[1]<n[1])}const yte=function vte(n,e){var t=ul(n),i=ul(e),r=t.type,o=i.type;switch(r){case"MultiPoint":switch(o){case"LineString":return odt(t,i);case"Polygon":return sdt(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return odt(i,t);case"LineString":return function _te(n,e){if(Km(n,e).features.length>0)for(var i=0;i<n.coordinates.length-1;i++)for(var r=0;r<e.coordinates.length-1;r++){var o=!0;if((0===r||r===e.coordinates.length-2)&&(o=!1),ldt(n.coordinates[i],n.coordinates[i+1],e.coordinates[r],o))return!0}return!1}(t,i);case"Polygon":return adt(t,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return sdt(i,t);case"LineString":return adt(i,t);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}};var cdt=Z(5013);function bte(n,e){var t=ul(n),i=ul(e),r=t.type,o=i.type;if("MultiPoint"===r&&"MultiPoint"!==o||("LineString"===r||"MultiLineString"===r)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===r||"MultiPolygon"===r)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===r)throw new Error("Point geometry not supported");if(new cdt({precision:6}).compare(n,e))return!1;var s=0;switch(r){case"MultiPoint":for(var l=0;l<t.coordinates.length;l++)for(var c=0;c<i.coordinates.length;c++){var u=t.coordinates[l],d=i.coordinates[c];if(u[0]===d[0]&&u[1]===d[1])return!0}return!1;case"LineString":case"MultiLineString":Xm(n,function(h){Xm(e,function(p){Uut(h,p).features.length&&s++})});break;case"Polygon":case"MultiPolygon":Xm(n,function(h){Xm(e,function(p){Km(h,p).features.length&&s++})})}return s>0}const wte=function xte(n,e){return ul(n).type===ul(e).type&&new cdt({precision:6}).compare(zy(n),zy(e))};function udt(n,e){var t=!1;return fu(n,function(i){fu(e,function(r){if(!0===t)return!0;t=!idt(i.geometry,r.geometry)})}),t}var Ste=Z(7470);const Mte=function Cte(n,e,t){void 0===t&&(t={}),!0!==t.mutate&&(n=Su(n)),t.minPoints=t.minPoints||3;var i=new Ste.DBSCAN,r=i.run(Px(n),By(e,t.units),t.minPoints,Ms),o=-1;return r.forEach(function(a){o++,a.forEach(function(s){var l=n.features[s];l.properties||(l.properties={}),l.properties.cluster=o,l.properties.dbscan="core"})}),i.noise.forEach(function(a){var s=n.features[a];s.properties||(s.properties={}),s.properties.dbscan=s.properties.cluster?"edge":"noise"}),n};var Ete=Z(9475);const Dte=function Tte(n,e){void 0===e&&(e={});var t=n.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(t/2)),e.numberOfClusters>t&&(e.numberOfClusters=t),!0!==e.mutate&&(n=Su(n));var i=Px(n),r=i.slice(0,e.numberOfClusters),o=Ete(i,e.numberOfClusters,r),a={};return o.centroids.forEach(function(s,l){a[l]=s}),os(n,function(s,l){var c=o.idxs[l];s.properties.cluster=c,s.properties.centroid=a[c]}),n};function Ite(n,e){return Fy(Gy(n[0],n[1]))===Fy(Gy(e[0],e[1]))}function ddt(n,e){if(n.geometry&&n.geometry.type)return n.geometry.type;if(n.type)return n.type;throw new Error("Invalid GeoJSON object for "+e)}const Pte=function Ate(n,e){if(!n)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==ddt(n,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==ddt(e,"line2"))throw new Error("line2 must be a LineString");for(var r=Uy(zy(n)).features,o=Uy(zy(e)).features,a=0;a<r.length;a++){var s=r[a].geometry.coordinates;if(!o[a])break;if(!Ite(s,o[a].geometry.coordinates))return!1}return!0};function hdt(n){for(var e=n,t=[];e.parent;)t.unshift(e),e=e.parent;return t}var xk={search:function(n,e,t,i){n.cleanDirty();var r=(i=i||{}).heuristic||xk.heuristics.manhattan,o=i.closest||!1,a=function kte(){return new fdt(function(n){return n.f})}(),s=e;for(e.h=r(e,t),a.push(e);a.size()>0;){var l=a.pop();if(l===t)return hdt(l);l.closed=!0;for(var c=n.neighbors(l),u=0,d=c.length;u<d;++u){var h=c[u];if(!h.closed&&!h.isWall()){var p=l.g+h.getCost(l),g=h.visited;(!g||p<h.g)&&(h.visited=!0,h.parent=l,h.h=h.h||r(h,t),h.g=p,h.f=h.g+h.h,n.markDirty(h),o&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),g?a.rescoreElement(h):a.push(h))}}}return o?hdt(s):[]},heuristics:{manhattan:function(n,e){return Math.abs(e.x-n.x)+Math.abs(e.y-n.y)},diagonal:function(n,e){var i=Math.sqrt(2),r=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y);return 1*(r+o)+(i-2)*Math.min(r,o)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function Ox(n,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var t=0;t<n.length;t++){this.grid[t]=[];for(var i=0,r=n[t];i<r.length;i++){var o=new wk(t,i,r[i]);this.grid[t][i]=o,this.nodes.push(o)}}this.init()}function wk(n,e,t){this.x=n,this.y=e,this.weight=t}function fdt(n){this.content=[],this.scoreFunction=n}function Lte(n,e){for(var t=0;t<e.features.length;t++)if(Rs(n,e.features[t]))return!0;return!1}Ox.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)xk.cleanNode(this.nodes[n])},Ox.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)xk.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},Ox.prototype.markDirty=function(n){this.dirtyNodes.push(n)},Ox.prototype.neighbors=function(n){var e=[],t=n.x,i=n.y,r=this.grid;return r[t-1]&&r[t-1][i]&&e.push(r[t-1][i]),r[t+1]&&r[t+1][i]&&e.push(r[t+1][i]),r[t]&&r[t][i-1]&&e.push(r[t][i-1]),r[t]&&r[t][i+1]&&e.push(r[t][i+1]),this.diagonal&&(r[t-1]&&r[t-1][i-1]&&e.push(r[t-1][i-1]),r[t+1]&&r[t+1][i-1]&&e.push(r[t+1][i-1]),r[t-1]&&r[t-1][i+1]&&e.push(r[t-1][i+1]),r[t+1]&&r[t+1][i+1]&&e.push(r[t+1][i+1])),e},Ox.prototype.toString=function(){for(var t,i,r,o,n=[],e=this.grid,a=0,s=e.length;a<s;a++){for(t=[],r=0,o=(i=e[a]).length;r<o;r++)t.push(i[r].weight);n.push(t.join(" "))}return n.join("\n")},wk.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},wk.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},wk.prototype.isWall=function(){return 0===this.weight},fdt.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),n},remove:function(n){var e=this.content.indexOf(n),t=this.content.pop();e!==this.content.length-1&&(this.content[e]=t,this.scoreFunction(t)<this.scoreFunction(n)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var e=this.content[n];n>0;){var t=(n+1>>1)-1,i=this.content[t];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[t]=e,this.content[n]=i,n=t}},bubbleUp:function(n){for(var e=this.content.length,t=this.content[n],i=this.scoreFunction(t);;){var s,r=n+1<<1,o=r-1,a=null;if(o<e&&(s=this.scoreFunction(this.content[o]))<i&&(a=o),r<e&&this.scoreFunction(this.content[r])<(null===a?i:s)&&(a=r),null===a)break;this.content[n]=this.content[a],this.content[a]=t,n=a}}};const Ote=function Rte(n,e,t){if(!Cs(t=t||{}))throw new Error("options is invalid");var i=t.resolution,r=t.minDistance,o=t.obstacles||Ur([]);if(!n)throw new Error("start is required");if(!e)throw new Error("end is required");if(i&&!ru(i)||i<=0)throw new Error("options.resolution must be a number, greater than 0");if(r)throw new Error("options.minDistance is not yet implemented");var a=Hs(n),s=Hs(e);switch(n=Ho(a),e=Ho(s),Id(o)){case"FeatureCollection":if(0===o.features.length)return ys([a,s]);break;case"Polygon":o=Ur([zc(ul(o))]);break;default:throw new Error("invalid obstacles")}var l=o;l.features.push(n),l.features.push(e);var c=Uc(qut(gU(Uc(l)),1.15));i||(i=Ms([c[0],c[1]],[c[2],c[1]],t)/100),l.features.pop(),l.features.pop();for(var d=c[0],h=c[1],p=c[2],g=c[3],b=i/Ms([d,h],[p,h],t)*(p-d),C=i/Ms([d,h],[d,g],t)*(g-h),E=p-d,k=g-h,j=Math.floor(E/b),H=Math.floor(k/C),it=(E-j*b)/2,lt=[],Lt=[],kt=[],Jt=[],ne=1/0,ce=1/0,Ee=g-(k-H*C)/2,be=0;Ee>=h;){for(var Be=[],Ne=[],Qe=d+it,In=0;Qe<=p;){var Fn=Ho([Qe,Ee]),Kn=Lte(Fn,o);Be.push(Kn?0:1),Ne.push(Qe+"|"+Ee);var Qn=Ms(Fn,n);!Kn&&Qn<ne&&(ne=Qn,kt={x:In,y:be});var zn=Ms(Fn,e);!Kn&&zn<ce&&(ce=zn,Jt={x:In,y:be}),Qe+=b,In++}Lt.push(Be),lt.push(Ne),Ee-=C,be++}var zi=new Ox(Lt,{diagonal:!0}),Gi=xk.search(zi,zi.grid[kt.y][kt.x],zi.grid[Jt.y][Jt.x]),ar=[a];return Gi.forEach(function(Er){var Ei=lt[Er.x][Er.y].split("|");ar.push([+Ei[0],+Ei[1]])}),ar.push(s),zy(ys(ar))};function pdt(n){return function(){return n}}function Nte(n){return n[0]}function Fte(n){return n[1]}function VU(){this._=null}function Sk(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function tM(n,e){var t=e,i=e.R,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.R=i.L,t.R&&(t.R.U=t),i.L=t}function eM(n,e){var t=e,i=e.L,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.L=i.R,t.L&&(t.L.U=t),i.R=t}function mdt(n){for(;n.L;)n=n.L;return n}VU.prototype={constructor:VU,insert:function(n,e){var t,i,r;if(n){if(e.P=n,e.N=n.N,n.N&&(n.N.P=e),n.N=e,n.R){for(n=n.R;n.L;)n=n.L;n.L=e}else n.R=e;t=n}else this._?(n=mdt(this._),e.P=null,e.N=n,n.P=n.L=e,t=n):(e.P=e.N=null,this._=e,t=null);for(e.L=e.R=null,e.U=t,e.C=!0,n=e;t&&t.C;)t===(i=t.U).L?(r=i.R)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.R&&(tM(this,t),t=(n=t).U),t.C=!1,i.C=!0,eM(this,i)):(r=i.L)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.L&&(eM(this,t),t=(n=t).U),t.C=!1,i.C=!0,tM(this,i)),t=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,o,a,e=n.U,i=n.L,r=n.R;if(o=i?r?mdt(r):i:r,e?e.L===n?e.L=o:e.R=o:this._=o,i&&r?(a=o.C,o.C=n.C,o.L=i,i.U=o,o!==r?(e=o.U,o.U=n.U,e.L=n=o.R,o.R=r,r.U=o):(o.U=e,e=o,n=o.R)):(a=n.C,n=o),n&&(n.U=e),!a){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===e.L){if((t=e.R).C&&(t.C=!1,e.C=!0,tM(this,e),t=e.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,eM(this,t),t=e.R),t.C=e.C,e.C=t.R.C=!1,tM(this,e),n=this._;break}}else if((t=e.L).C&&(t.C=!1,e.C=!0,eM(this,e),t=e.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,tM(this,t),t=e.L),t.C=e.C,e.C=t.L.C=!1,eM(this,e),n=this._;break}t.C=!0,n=e,e=e.U}while(!n.C);n&&(n.C=!1)}}};const gdt=VU;function nM(n,e,t,i){var r=[null,null],o=hd.push(r)-1;return r.left=n,r.right=e,t&&Ck(r,n,e,t),i&&Ck(r,e,n,i),yh[n.index].halfedges.push(o),yh[e.index].halfedges.push(o),r}function iM(n,e,t){var i=[e,t];return i.left=n,i}function Ck(n,e,t,i){n[0]||n[1]?n.left===t?n[1]=i:n[0]=i:(n[0]=i,n.left=e,n.right=t)}function Bte(n,e,t,i,r){var y,o=n[0],a=n[1],s=o[0],l=o[1],d=0,h=1,p=a[0]-s,g=a[1]-l;if(y=e-s,p||!(y>0)){if(y/=p,p<0){if(y<d)return;y<h&&(h=y)}else if(p>0){if(y>h)return;y>d&&(d=y)}if(y=i-s,p||!(y<0)){if(y/=p,p<0){if(y>h)return;y>d&&(d=y)}else if(p>0){if(y<d)return;y<h&&(h=y)}if(y=t-l,g||!(y>0)){if(y/=g,g<0){if(y<d)return;y<h&&(h=y)}else if(g>0){if(y>h)return;y>d&&(d=y)}if(y=r-l,g||!(y<0)){if(y/=g,g<0){if(y>h)return;y>d&&(d=y)}else if(g>0){if(y<d)return;y<h&&(h=y)}return!(d>0)&&!(h<1)||(d>0&&(n[0]=[s+d*p,l+d*g]),h<1&&(n[1]=[s+h*p,l+h*g])),!0}}}}}function Vte(n,e,t,i,r){var o=n[1];if(o)return!0;var y,b,a=n[0],s=n.left,l=n.right,c=s[0],u=s[1],d=l[0],h=l[1],p=(c+d)/2;if(h===u){if(p<e||p>=i)return;if(c>d){if(a){if(a[1]>=r)return}else a=[p,t];o=[p,r]}else{if(a){if(a[1]<t)return}else a=[p,r];o=[p,t]}}else if(b=(u+h)/2-(y=(c-d)/(h-u))*p,y<-1||y>1)if(c>d){if(a){if(a[1]>=r)return}else a=[(t-b)/y,t];o=[(r-b)/y,r]}else{if(a){if(a[1]<t)return}else a=[(r-b)/y,r];o=[(t-b)/y,t]}else if(u<h){if(a){if(a[0]>=i)return}else a=[e,y*e+b];o=[i,y*i+b]}else{if(a){if(a[0]<e)return}else a=[i,y*i+b];o=[e,y*e+b]}return n[0]=a,n[1]=o,!0}function Gte(n,e){var t=n.site,i=e.left,r=e.right;return t===r&&(r=i,i=t),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(t===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function vdt(n,e){return e[+(e.left!==n.site)]}function Hte(n,e){return e[+(e.left===n.site)]}var zU,_dt=[];function Zte(){Sk(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nx(n){var e=n.P,t=n.N;if(e&&t){var i=e.site,r=n.site,o=t.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,c=i[1]-s,u=o[0]-a,d=o[1]-s,h=2*(l*d-c*u);if(!(h>=-Kte)){var p=l*l+c*c,g=u*u+d*d,y=(d*p-c*g)/h,b=(l*g-u*p)/h,w=_dt.pop()||new Zte;w.arc=n,w.site=r,w.x=y+a,w.y=(w.cy=b+s)+Math.sqrt(y*y+b*b),n.circle=w;for(var C=null,E=rM._;E;)if(w.y<E.y||w.y===E.y&&w.x<=E.x){if(!E.L){C=E.P;break}E=E.L}else{if(!E.R){C=E;break}E=E.R}rM.insert(C,w),C||(zU=w)}}}}function Fx(n){var e=n.circle;e&&(e.P||(zU=e.N),rM.remove(e),_dt.push(e),Sk(e),n.circle=null)}var ydt=[];function Yte(){Sk(this),this.edge=this.site=this.circle=null}function bdt(n){var e=ydt.pop()||new Yte;return e.site=n,e}function UU(n){Fx(n),Bx.remove(n),ydt.push(n),Sk(n)}function Xte(n){var e=n.circle,t=e.x,i=e.cy,r=[t,i],o=n.P,a=n.N,s=[n];UU(n);for(var l=o;l.circle&&Math.abs(t-l.circle.x)<_l&&Math.abs(i-l.circle.cy)<_l;)o=l.P,s.unshift(l),UU(l),l=o;s.unshift(l),Fx(l);for(var c=a;c.circle&&Math.abs(t-c.circle.x)<_l&&Math.abs(i-c.circle.cy)<_l;)a=c.N,s.push(c),UU(c),c=a;s.push(c),Fx(c);var d,u=s.length;for(d=1;d<u;++d)Ck((c=s[d]).edge,(l=s[d-1]).site,c.site,r);(c=s[u-1]).edge=nM((l=s[0]).site,c.site,null,r),Nx(l),Nx(c)}function $te(n){for(var i,r,o,a,e=n[0],t=n[1],s=Bx._;s;)if((o=xdt(s,t)-e)>_l)s=s.L;else{if(!((a=e-qte(s,t))>_l)){o>-_l?(i=s.P,r=s):a>-_l?(i=s,r=s.N):i=r=s;break}if(!s.R){i=s;break}s=s.R}!function Ute(n){yh[n.index]={site:n,halfedges:[]}}(n);var l=bdt(n);if(Bx.insert(i,l),i||r){if(i===r)return Fx(i),r=bdt(i.site),Bx.insert(l,r),l.edge=r.edge=nM(i.site,l.site),Nx(i),void Nx(r);if(!r)return void(l.edge=nM(i.site,l.site));Fx(i),Fx(r);var c=i.site,u=c[0],d=c[1],h=n[0]-u,p=n[1]-d,g=r.site,y=g[0]-u,b=g[1]-d,w=2*(h*b-p*y),C=h*h+p*p,E=y*y+b*b,k=[(b*C-p*E)/w+u,(h*E-y*C)/w+d];Ck(r.edge,c,g,k),l.edge=nM(c,n,null,k),r.edge=nM(n,g,null,k),Nx(i),Nx(r)}}function xdt(n,e){var t=n.site,i=t[0],r=t[1],o=r-e;if(!o)return i;var a=n.P;if(!a)return-1/0;var s=(t=a.site)[0],l=t[1],c=l-e;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function qte(n,e){var t=n.N;if(t)return xdt(t,e);var i=n.site;return i[1]===e?i[0]:1/0}var Bx,yh,rM,hd,_l=1e-6,Kte=1e-12;function Qte(n,e,t){return(n[0]-t[0])*(e[1]-n[1])-(n[0]-e[0])*(t[1]-n[1])}function Jte(n,e){return e[1]-n[1]||e[0]-n[0]}function GU(n,e){var i,r,o,t=n.sort(Jte).pop();for(hd=[],yh=new Array(n.length),Bx=new gdt,rM=new gdt;;)if(o=zU,t&&(!o||t[1]<o.y||t[1]===o.y&&t[0]<o.x))(t[0]!==i||t[1]!==r)&&($te(t),i=t[0],r=t[1]),t=n.pop();else{if(!o)break;Xte(o.arc)}if(function jte(){for(var t,i,r,o,n=0,e=yh.length;n<e;++n)if((t=yh[n])&&(o=(i=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(r=0;r<o;++r)a[r]=r,s[r]=Gte(t,hd[i[r]]);for(a.sort(function(l,c){return s[c]-s[l]}),r=0;r<o;++r)s[r]=i[a[r]];for(r=0;r<o;++r)i[r]=s[r]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];(function zte(n,e,t,i){for(var o,r=hd.length;r--;)Vte(o=hd[r],n,e,t,i)&&Bte(o,n,e,t,i)&&(Math.abs(o[0][0]-o[1][0])>_l||Math.abs(o[0][1]-o[1][1])>_l)||delete hd[r]})(a,s,l,c),function Wte(n,e,t,i){var o,a,s,l,c,u,d,h,p,g,y,b,r=yh.length,w=!0;for(o=0;o<r;++o)if(a=yh[o]){for(s=a.site,l=(c=a.halfedges).length;l--;)hd[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)y=(g=Hte(a,hd[c[l]]))[0],b=g[1],h=(d=vdt(a,hd[c[++l%u]]))[0],p=d[1],(Math.abs(y-h)>_l||Math.abs(b-p)>_l)&&(c.splice(l,0,hd.push(iM(s,g,Math.abs(y-n)<_l&&i-b>_l?[n,Math.abs(h-n)<_l?p:i]:Math.abs(b-i)<_l&&t-y>_l?[Math.abs(p-i)<_l?h:t,i]:Math.abs(y-t)<_l&&b-e>_l?[t,Math.abs(h-t)<_l?p:e]:Math.abs(b-e)<_l&&y-n>_l?[Math.abs(p-e)<_l?h:n,e]:null))-1),++u);u&&(w=!1)}if(w){var C,E,k,j=1/0;for(o=0,w=null;o<r;++o)(a=yh[o])&&(k=(C=(s=a.site)[0]-n)*C+(E=s[1]-e)*E)<j&&(j=k,w=a);if(w){var H=[n,e],it=[n,i],yt=[t,i],lt=[t,e];w.halfedges.push(hd.push(iM(s=w.site,H,it))-1,hd.push(iM(s,it,yt))-1,hd.push(iM(s,yt,lt))-1,hd.push(iM(s,lt,H))-1)}}for(o=0;o<r;++o)(a=yh[o])&&(a.halfedges.length||delete yh[o])}(a,s,l,c)}this.edges=hd,this.cells=yh,Bx=rM=hd=yh=null}function eee(n){return(n=n.slice()).push(n[0]),Xo([n])}GU.prototype={constructor:GU,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(i){return vdt(e,n[i])});return t.data=e.site.data,t})},triangles:function(){var n=[],e=this.edges;return this.cells.forEach(function(t,i){if(s=(o=t.halfedges).length)for(var o,s,l,r=t.site,a=-1,c=e[o[s-1]],u=c.left===r?c.right:c.left;++a<s;)l=u,u=(c=e[o[a]]).left===r?c.right:c.left,l&&u&&i<l.index&&i<u.index&&Qte(r,l,u)<0&&n.push([r.data,l.data,u.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,e,t){for(var r,s,i=this,o=i._found||0,a=i.cells.length;!(s=i.cells[o]);)if(++o>=a)return null;var l=n-s.site[0],c=e-s.site[1],u=l*l+c*c;do{s=i.cells[r=o],o=null,s.halfedges.forEach(function(d){var h=i.edges[d],p=h.left;if(p!==s.site&&p||(p=h.right)){var g=n-p[0],y=e-p[1],b=g*g+y*y;b<u&&(u=b,o=p.index)}})}while(null!==o);return i._found=r,null==t||u<=t*t?s.site:null}};const iee=function nee(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.bbox||[-180,-85,180,85];if(!n)throw new Error("points is required");if(!Array.isArray(t))throw new Error("bbox is invalid");return $m(n,"Point","points"),Ur(function tee(){var n=Nte,e=Fte,t=null;function i(r){return new GU(r.map(function(o,a){var s=[Math.round(n(o,a,r)/_l)*_l,Math.round(e(o,a,r)/_l)*_l];return s.index=a,s.data=o,s}),t)}return i.polygons=function(r){return i(r).polygons()},i.links=function(r){return i(r).links()},i.triangles=function(r){return i(r).triangles()},i.x=function(r){return arguments.length?(n="function"==typeof r?r:pdt(+r),i):n},i.y=function(r){return arguments.length?(e="function"==typeof r?r:pdt(+r),i):e},i.extent=function(r){return arguments.length?(t=null==r?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],i):t&&[[t[0][0],t[0][1]],[t[1][0],t[1][1]]]},i.size=function(r){return arguments.length?(t=null==r?null:[[0,0],[+r[0],+r[1]]],i):t&&[t[1][0]-t[0][0],t[1][1]-t[0][1]]},i}().x(function(i){return i.geometry.coordinates[0]}).y(function(i){return i.geometry.coordinates[1]}).extent([[t[0],t[1]],[t[2],t[3]]]).polygons(n.features).map(eee))};function wdt(n){var e=n*Math.PI/180;return Math.tan(e)}const Sdt=function ree(n,e,t,i){var r=(i=i||{}).steps||64,o=i.units||"kilometers",a=i.angle||0,s=i.pivot||n,l=i.properties||n.properties||{};if(!n)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!t)throw new Error("ySemiAxis is required");if(!Cs(i))throw new Error("options must be an object");if(!ru(r))throw new Error("steps must be a number");if(!ru(a))throw new Error("angle must be a number");var c=Hs(n);if("degrees"===o)var u=iu(a);else e=Lx(n,e,90,{units:o}),t=Lx(n,t,0,{units:o}),e=Hs(e)[0]-c[0],t=Hs(t)[1]-c[1];for(var d=[],h=0;h<r;h+=1){var p=-360*h/r,g=e*t/Math.sqrt(Math.pow(t,2)+Math.pow(e,2)*Math.pow(wdt(p),2)),y=e*t/Math.sqrt(Math.pow(e,2)+Math.pow(t,2)/Math.pow(wdt(p),2));if(p<-90&&p>=-270&&(g=-g),p<-180&&p>=-360&&(y=-y),"degrees"===o){var b=g*Math.cos(u)+y*Math.sin(u),w=y*Math.cos(u)-g*Math.sin(u);g=b,y=w}d.push([g+c[0],y+c[1]])}return d.push(d[0]),"degrees"===o?Xo([d],l):Xut(Xo([d],l),a,{pivot:s})},HU=function oee(n,e){void 0===e&&(e={});var t=0,i=0,r=0;return th(n,function(o,a,s){var l=e.weight?s?.[e.weight]:void 0;if(!ru(l=l??1))throw new Error("weight value must be a number for feature index "+a);(l=Number(l))>0&&Kl(o,function(c){t+=c[0]*l,i+=c[1]*l,r+=l})}),Ho([t/r,i/r],e.properties,e)};function Cdt(n,e,t,i,r){var o=i.tolerance||.001,a=0,s=0,l=0,c=0;if(os(t,function(h){var p,y=(null===(p=h.properties)||void 0===p?void 0:p.weight)??1;if(!ru(y=Number(y)))throw new Error("weight value must be a number");if(y>0){c+=1;var b=y*Ms(h,n);0===b&&(b=1);var w=y/b;a+=h.geometry.coordinates[0]*w,s+=h.geometry.coordinates[1]*w,l+=w}}),c<1)throw new Error("no features to measure");var u=a/l,d=s/l;return 1===c||0===r||Math.abs(u-e[0])<o&&Math.abs(d-e[1])<o?Ho([u,d],{medianCandidates:i.medianCandidates}):(i.medianCandidates.push([u,d]),Cdt([u,d],n,t,i,r-1))}const see=function aee(n,e){if(void 0===e&&(e={}),!Cs(e=e||{}))throw new Error("options is invalid");var t=e.counter||10;if(!ru(t))throw new Error("counter must be a number");var i=e.weight,r=HU(n,{weight:e.weight}),o=Ur([]);return os(n,function(s){var l;o.features.push(yv(s,{properties:{weight:null===(l=s.properties)||void 0===l?void 0:l[i]}}))}),Cdt(r.geometry.coordinates,[0,0],o,{tolerance:e.tolerance,medianCandidates:[]},t)};function Mdt(n,e){return{x:n[0]-e[0],y:n[1]-e[1]}}const cee=function lee(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.steps||64,i=e.weight,r=e.properties||{};if(!ru(t))throw new Error("steps must be a number");if(!Cs(r))throw new Error("properties must be a number");var o=Px(n).length,a=HU(n,{weight:i}),s=0,l=0,c=0;os(n,function(it){var yt=it.properties[i]||1,lt=Mdt(qr(it),qr(a));s+=Math.pow(lt.x,2)*yt,l+=Math.pow(lt.y,2)*yt,c+=lt.x*lt.y*yt});var u=s-l,d=Math.sqrt(Math.pow(u,2)+4*Math.pow(c,2)),p=Math.atan((u+d)/(2*c)),g=180*p/Math.PI,y=0,b=0,w=0;os(n,function(it){var yt=it.properties[i]||1,lt=Mdt(qr(it),qr(a));y+=Math.pow(lt.x*Math.cos(p)-lt.y*Math.sin(p),2)*yt,b+=Math.pow(lt.x*Math.sin(p)+lt.y*Math.cos(p),2)*yt,w+=yt});var C=Math.sqrt(2*y/w),E=Math.sqrt(2*b/w),k=Sdt(a,C,E,{units:"degrees",angle:g,steps:t,properties:r}),j=oU(n,Ur([k])),H={meanCenterCoordinates:qr(a),semiMajorAxis:C,semiMinorAxis:E,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*Px(j).length/o};return k.properties.standardDeviationalEllipse=H,k},dee=function uee(n,e,t,i){if(void 0===i&&(i={}),!Cs(i))throw new Error("options is invalid");if(!n)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!t)throw new Error("endPoint is required");var r=n,o=e,a=t,s=Fy(!0!==i.mercator?qm(r,o):Gy(r,o)),l=Fy(!0!==i.mercator?qm(a,o):Gy(a,o)),c=Math.abs(s-l);return!0===i.explementary?360-c:c};function fee(n,e){var t=0,i=0;Kl(n,function(r,o,a,s,l){l>t&&(t=l,i=o,e.push([]));var u=n.coordinates[l][o-i+1],d=r[0],h=r[1],p=u[0],g=u[1];e[l].push([.75*d+.25*p,.75*h+.25*g]),e[l].push([.25*d+.75*p,.25*h+.75*g])},!0),e.forEach(function(r){r.push(r[0])})}function pee(n,e){var t=0,i=0,r=0;Kl(n,function(o,a,s,l,c){l>r&&(r=l,i=a,e.push([[]])),c>t&&(t=c,i=a,e[l].push([]));var d=n.coordinates[l][c][a-i+1],h=o[0],p=o[1],g=d[0],y=d[1];e[l][c].push([.75*h+.25*g,.75*p+.25*y]),e[l][c].push([.25*h+.75*g,.25*p+.75*y])},!0),e.forEach(function(o){o.forEach(function(a){a.push(a[0])})})}const mee=function hee(n,e){var t=[],i=e.iterations||1;if(!n)throw new Error("inputPolys is required");return th(n,function(r,o,a){var s,l,c;switch(r.type){case"Polygon":s=[[]];for(var u=0;u<i;u++)c=[[]],l=r,u>0&&(l=Xo(s).geometry),fee(l,c),s=c.slice(0);t.push(Xo(s,a));break;case"MultiPolygon":s=[[[]]];for(var d=0;d<i;d++)c=[[[]]],l=r,d>0&&(l=dd(s).geometry),pee(l,c),s=c.slice(0);t.push(dd(s,a));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),Ur(t)};function gee(n,e,t){void 0===t&&(t=2);var i=Hs(n),r=Hs(e),o=i[0]-r[0],a=i[1]-r[1];return 1===t?Math.abs(o)+Math.abs(a):Math.pow(Math.pow(o,t)+Math.pow(a,t),1/t)}function Edt(n,e){var t=(e=e||{}).threshold||1e4,i=e.p||2,r=e.binary||!1,o=e.alpha||-1,a=e.standardization||!1,s=[];os(n,function(p){s.push(yv(p))});for(var l=[],c=0;c<s.length;c++)l[c]=[];for(c=0;c<s.length;c++)for(var u=c;u<s.length;u++){c===u&&(l[c][u]=0);var d=gee(s[c],s[u],i);l[c][u]=d,l[u][c]=d}for(c=0;c<s.length;c++)for(u=0;u<s.length;u++)0!==(d=l[c][u])&&(l[c][u]=r?d<=t?1:0:d<=t?Math.pow(d,o):0);if(a)for(c=0;c<s.length;c++){var h=l[c].reduce(function(g,y){return g+y},0);for(u=0;u<s.length;u++)l[c][u]=l[c][u]/h}return l}function vee(n,e){var t=e.inputField,l=Edt(n,{alpha:e.alpha||-1,binary:e.binary||!1,p:e.p||2,standardization:e.standardization||!0,threshold:e.threshold||1e5}),c=[];os(n,function(kt){c.push((kt.properties||{})[t])});for(var u=Tdt(c),d=function _ee(n){for(var e=Tdt(n),t=0,i=0,r=n;i<r.length;i++)t+=Math.pow(r[i]-e,2);return t/n.length}(c),h=0,p=0,g=0,y=0,b=l.length,w=0;w<b;w++){for(var C=0,E=0;E<b;E++)h+=l[w][E]*(c[w]-u)*(c[E]-u),p+=l[w][E],g+=Math.pow(l[w][E]+l[E][w],2),C+=l[w][E]+l[E][w];y+=Math.pow(C,2)}g*=.5;var k=h/p/d,j=-1/(b-1),lt=Math.sqrt((b*b*g-b*y+p*p*3)/((b-1)*(b+1)*(p*p))-j*j);return{expectedMoranIndex:j,moranIndex:k,stdNorm:lt,zNorm:(k-j)/lt}}function Tdt(n){for(var e=0,t=0,i=n;t<i.length;t++)e+=i[t];return e/n.length}function Ddt(n,e){return void 0===e&&(e={}),Adt(n,"mercator",e)}function jU(n,e){return void 0===e&&(e={}),Adt(n,"wgs84",e)}function Adt(n,e,t){void 0===t&&(t={});var i=(t=t||{}).mutate;if(!n)throw new Error("geojson is required");return Array.isArray(n)&&ru(n[0])?n="mercator"===e?Idt(n):Pdt(n):(!0!==i&&(n=Su(n)),Kl(n,function(r){var o="mercator"===e?Idt(r):Pdt(r);r[0]=o[0],r[1]=o[1]})),n}function Idt(n){var e=Math.PI/180,t=6378137,i=20037508.342789244,r=Math.abs(n[0])<=180?n[0]:n[0]-360*function yee(n){return n<0?-1:n>0?1:0}(n[0]),o=[t*r*e,t*Math.log(Math.tan(.25*Math.PI+.5*n[1]*e))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function Pdt(n){var e=180/Math.PI,t=6378137;return[n[0]*e/t,(.5*Math.PI-2*Math.atan(Math.exp(-n[1]/t)))*e]}var bee=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var i=Array(n),r=0;for(e=0;e<t;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};function oM(n){return Array.isArray(n)?Ndt(n):n&&n.bbox?Ndt(n.bbox):[360*Odt(),180*Odt()]}function kdt(n,e){void 0===e&&(e={}),null==n&&(n=1);for(var t=[],i=0;i<n;i++)t.push(Ho(oM(e.bbox)));return Ur(t)}function Rdt(n,e){void 0===e&&(e={}),null==n&&(n=1),(!ru(e.num_vertices)||void 0===e.num_vertices)&&(e.num_vertices=10),(!ru(e.max_radial_length)||void 0===e.max_radial_length)&&(e.max_radial_length=10);for(var t=[],i=function(o){var a=[],s=bee(Array(e.num_vertices+1)).map(Math.random);s.forEach(function(l,c,u){u[c]=c>0?l+u[c-1]:l}),s.forEach(function(l){l=2*l*Math.PI/s[s.length-1];var c=Math.random();a.push([c*(e.max_radial_length||10)*Math.sin(l),c*(e.max_radial_length||10)*Math.cos(l)])}),a[a.length-1]=a[0],a=a.map(function xee(n){return function(e){return[e[0]+n[0],e[1]+n[1]]}}(oM(e.bbox))),t.push(Xo([a]))},r=0;r<n;r++)i();return Ur(t)}function Ldt(n,e){if(void 0===e&&(e={}),!Cs(e=e||{}))throw new Error("options is invalid");var t=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null==n&&(n=1),(!ru(i)||void 0===i||i<2)&&(i=10),(!ru(r)||void 0===r)&&(r=1e-4),(!ru(o)||void 0===o)&&(o=Math.PI/8);for(var a=[],s=0;s<n;s++){for(var c=[oM(t)],u=0;u<i-1;u++){var h=(0===u?2*Math.random()*Math.PI:Math.tan((c[u][1]-c[u-1][1])/(c[u][0]-c[u-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*r;c.push([c[u][0]+p*Math.cos(h),c[u][1]+p*Math.sin(h)])}a.push(ys(c))}return Ur(a)}function Odt(){return Math.random()-.5}function Ndt(n){return[Math.random()*(n[2]-n[0])+n[0],Math.random()*(n[3]-n[1])+n[1]]}function Fdt(n,e){if(!n)throw new Error("geojson is required");if("FeatureCollection"!==n.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var t=[];return os(n,function(i){Mk(i.properties,e)&&t.push(i)}),Ur(t)}function WU(n,e,t){if(!n)throw new Error("geojson is required");if("FeatureCollection"!==n.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=ZU(n,e),r=Object.keys(i),o=0;o<r.length;o++){for(var a=r[o],s=i[a],l=[],c=0;c<s.length;c++)l.push(n.features[s[c]]);t(Ur(l),a,o)}}function Bdt(n,e,t,i){var r=i;return WU(n,e,function(o,a,s){r=0===s&&void 0===i?o:t(r,o,a,s)}),r}function ZU(n,e){var t={};return os(n,function(i,r){var o=i.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(e))){var a=o[e];Object.prototype.hasOwnProperty.call(t,a)?t[a].push(r):t[a]=[r]}}),t}function Mk(n,e){if(void 0===n)return!1;var t=typeof e;if("number"===t||"string"===t)return Object.prototype.hasOwnProperty.call(n,e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!Mk(n,e[i]))return!1;return!0}return YU(n,e)}function YU(n,e){for(var t=Object.keys(e),i=0;i<t.length;i++){var r=t[i];if(n[r]!==e[r])return!1}return!0}function Vdt(n,e){if(!e)return{};if(!e.length)return{};for(var t={},i=0;i<e.length;i++){var r=e[i];Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}var Jm=Z(9855);const Mee=function Cee(n,e){var t=ul(n),i=ul(e),r=n.properties||{},o=Jm.difference(t.coordinates,i.coordinates);return 0===o.length?null:1===o.length?Xo(o[0],r):dd(o,r)};var XU=Z(770);function bv(){return new Ek}function Ek(){this.reset()}Ek.prototype={constructor:Ek,reset:function(){this.s=this.t=0},add:function(n){zdt(Tk,n,this.t),zdt(this,Tk.s,this.s),this.s?this.t+=Tk.t:this.s=Tk.t},valueOf:function(){return this.s}};var Tk=new Ek;function zdt(n,e,t){var i=n.s=e+t,r=i-e;n.t=e-(i-r)+(t-r)}var js=1e-6,Ls=Math.PI,nh=Ls/2,Dk=Ls/4,bh=2*Ls,jf=180/Ls,bs=Ls/180,Ql=Math.abs,aM=Math.atan,tg=Math.atan2,Fo=Math.cos,Eo=(Math,Math,Math,Math,Math,Math.sin),cf=(Math,Math.sqrt);Math;function jdt(n){return n>1?0:n<-1?Ls:Math.acos(n)}function eg(n){return n>1?nh:n<-1?-nh:Math.asin(n)}function dc(){}function Ak(n,e){n&&Zdt.hasOwnProperty(n.type)&&Zdt[n.type](n,e)}var Wdt={Feature:function(n,e){Ak(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)Ak(t[i].geometry,e)}},Zdt={Sphere:function(n,e){e.sphere()},Point:function(n,e){e.point((n=n.coordinates)[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)e.point((n=t[i])[0],n[1],n[2])},LineString:function(n,e){$U(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)$U(t[i],e,0)},Polygon:function(n,e){Ydt(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)Ydt(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)Ak(t[i],e)}};function $U(n,e,t){var o,i=-1,r=n.length-t;for(e.lineStart();++i<r;)e.point((o=n[i])[0],o[1],o[2]);e.lineEnd()}function Ydt(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)$U(n[t],e,1);e.polygonEnd()}function kk(n){return[tg(n[1],n[0]),eg(n[2])]}function jy(n){var e=n[0],t=n[1],i=Fo(t);return[i*Fo(e),i*Eo(e),Eo(t)]}function Rk(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Vx(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function JU(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Lk(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function Ok(n){var e=cf(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function uht(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return(i=e.invert(i,r))&&n.invert(i[0],i[1])}),t}function a8(n,e){return[n>Ls?n-bh:n<-Ls?n+bh:n,e]}function hht(n){return function(e,t){return[(e+=n)>Ls?e-bh:e<-Ls?e+bh:e,t]}}function fht(n){var e=hht(n);return e.invert=hht(-n),e}function pht(n,e){var t=Fo(n),i=Eo(n),r=Fo(e),o=Eo(e);function a(s,l){var c=Fo(l),u=Fo(s)*c,d=Eo(s)*c,h=Eo(l),p=h*t+u*i;return[tg(d*r-p*o,u*t-h*i),eg(p*r+d*o)]}return a.invert=function(s,l){var c=Fo(l),u=Fo(s)*c,d=Eo(s)*c,h=Eo(l),p=h*r-d*o;return[tg(d*r+h*o,u*t+p*i),eg(p*t-u*i)]},a}function ght(n,e){(e=jy(e))[0]-=n,Ok(e);var t=jdt(-e[1]);return((-e[2]<0?-t:t)+bh-js)%bh}function vht(){var e,n=[];return{point:function(t,i){e.push([t,i])},lineStart:function(){n.push(e=[])},lineEnd:dc,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Hk(n,e){return Ql(n[0]-e[0])<js&&Ql(n[1]-e[1])<js}function jk(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function _ht(n,e,t,i,r){var s,l,o=[],a=[];if(n.forEach(function(g){if(!((y=g.length-1)<=0)){var y,C,b=g[0],w=g[y];if(Hk(b,w)){for(r.lineStart(),s=0;s<y;++s)r.point((b=g[s])[0],b[1]);return void r.lineEnd()}o.push(C=new jk(b,g,null,!0)),a.push(C.o=new jk(b,null,C,!1)),o.push(C=new jk(w,g,null,!1)),a.push(C.o=new jk(w,null,C,!0))}}),o.length){for(a.sort(e),yht(o),yht(a),s=0,l=a.length;s<l;++s)a[s].e=t=!t;for(var u,d,c=o[0];;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,l=u.length;s<l;++s)r.point((d=u[s])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(s=(u=h.p.z).length-1;s>=0;--s)r.point((d=u[s])[0],d[1]);else i(h.x,h.p.x,-1,r);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}}function yht(n){if(e=n.length){for(var e,r,t=0,i=n[0];++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}function bht(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function Sht(n){for(var t,o,a,e=n.length,i=-1,r=0;++i<e;)r+=n[i].length;for(o=new Array(r);--e>=0;)for(t=(a=n[e]).length;--t>=0;)o[--r]=a[t];return o}bv(),bv(),bv(),a8.invert=a8,function Bee(n){1===n.length&&(n=function Vee(n){return function(e,t){return bht(n(e),t)}}(n))}(bht),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var uM=1e9,Wk=-uM;var u8=bv();bv(),bv(),bv();var Gx=1/0,qk=Gx,dM=-Gx,Kk=dM,Qee={point:function Jee(n,e){n<Gx&&(Gx=n),n>dM&&(dM=n),e<qk&&(qk=e),e>Kk&&(Kk=e)},lineStart:dc,lineEnd:dc,polygonStart:dc,polygonEnd:dc,result:function(){var n=[[Gx,qk],[dM,Kk]];return dM=Kk=-(qk=Gx=1/0),n}};const Fht=Qee;function Yht(n,e,t,i){return function(r,o){var d,h,p,a=e(o),s=r.invert(i[0],i[1]),l=vht(),c=e(l),u=!1,g={point:y,lineStart:w,lineEnd:C,polygonStart:function(){g.point=E,g.lineStart=k,g.lineEnd=j,h=[],d=[]},polygonEnd:function(){g.point=y,g.lineStart=w,g.lineEnd=C,h=Sht(h);var H=function Mht(n,e){var t=e[0],i=e[1],r=[Eo(t),-Fo(t),0],o=0,a=0;u8.reset();for(var s=0,l=n.length;s<l;++s)if(u=(c=n[s]).length)for(var c,u,d=c[u-1],h=d[0],p=d[1]/2+Dk,g=Eo(p),y=Fo(p),b=0;b<u;++b,h=C,g=k,y=j,d=w){var w=c[b],C=w[0],E=w[1]/2+Dk,k=Eo(E),j=Fo(E),H=C-h,it=H>=0?1:-1,yt=it*H,lt=yt>Ls,Lt=g*k;if(u8.add(tg(Lt*it*Eo(yt),y*j+Lt*Fo(yt))),o+=lt?H+it*bh:H,lt^h>=t^C>=t){var kt=Vx(jy(d),jy(w));Ok(kt);var Jt=Vx(r,kt);Ok(Jt);var ne=(lt^H>=0?-1:1)*eg(Jt[2]);(i>ne||i===ne&&(kt[0]||kt[1]))&&(a+=lt^H>=0?1:-1)}}return(o<-js||o<js&&u8<-js)^1&a}(d,s);h.length?(u||(o.polygonStart(),u=!0),_ht(h,cne,H,t,o)):H&&(u||(o.polygonStart(),u=!0),o.lineStart(),t(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),h=d=null},sphere:function(){o.polygonStart(),o.lineStart(),t(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function y(H,it){var yt=r(H,it);n(H=yt[0],it=yt[1])&&o.point(H,it)}function b(H,it){var yt=r(H,it);a.point(yt[0],yt[1])}function w(){g.point=b,a.lineStart()}function C(){g.point=y,a.lineEnd()}function E(H,it){p.push([H,it]);var yt=r(H,it);c.point(yt[0],yt[1])}function k(){c.lineStart(),p=[]}function j(){E(p[0][0],p[0][1]),c.lineEnd();var yt,Lt,kt,Jt,H=c.clean(),it=l.result(),lt=it.length;if(p.pop(),d.push(p),p=null,lt){if(1&H){if((Lt=(kt=it[0]).length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),yt=0;yt<Lt;++yt)o.point((Jt=kt[yt])[0],Jt[1]);o.lineEnd()}return}lt>1&&2&H&&it.push(it.pop().concat(it.shift())),h.push(it.filter(lne))}}return g}}function lne(n){return n.length>1}function cne(n,e){return((n=n.x)[0]<0?n[1]-nh-js:nh-n[1])-((e=e.x)[0]<0?e[1]-nh-js:nh-e[1])}bv(),function Zht(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}(4.5);const Xht=Yht(function(){return!0},function une(n){var r,e=NaN,t=NaN,i=NaN;return{lineStart:function(){n.lineStart(),r=1},point:function(o,a){var s=o>0?Ls:-Ls,l=Ql(o-e);Ql(l-Ls)<js?(n.point(e,t=(t+a)/2>0?nh:-nh),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),n.point(o,t),r=0):i!==s&&l>=Ls&&(Ql(e-i)<js&&(e-=i*js),Ql(o-s)<js&&(o-=s*js),t=function dne(n,e,t,i){var r,o,a=Eo(n-t);return Ql(a)>js?aM((Eo(e)*(o=Fo(i))*Eo(t)-Eo(i)*(r=Fo(e))*Eo(n))/(r*o*a)):(e+i)/2}(e,t,o,a),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(s,t),r=0),n.point(e=o,t=a),i=s},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}},function hne(n,e,t,i){var r;if(null==n)i.point(-Ls,r=t*nh),i.point(0,r),i.point(Ls,r),i.point(Ls,0),i.point(Ls,-r),i.point(0,-r),i.point(-Ls,-r),i.point(-Ls,0),i.point(-Ls,r);else if(Ql(n[0]-e[0])>js){var o=n[0]<e[0]?Ls:-Ls;i.point(-o,r=t*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Ls,-nh]);function $ht(n){return n}function M8(n){return function(e){var t=new E8;for(var i in n)t[i]=n[i];return t.stream=e,t}}function E8(){}function qht(n,e,t){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),function Xdt(n,e){n&&Wdt.hasOwnProperty(n.type)?Wdt[n.type](n,e):Ak(n,e)}(t,n.stream(Fht));var a=Fht.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),l=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*s).translate([l,c])}E8.prototype={constructor:E8,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Kht=16,mne=Fo(30*bs);function Qht(n,e){return+e?function vne(n,e){function t(i,r,o,a,s,l,c,u,d,h,p,g,y,b){var w=c-i,C=u-r,E=w*w+C*C;if(E>4*e&&y--){var k=a+h,j=s+p,H=l+g,it=cf(k*k+j*j+H*H),yt=eg(H/=it),lt=Ql(Ql(H)-1)<js||Ql(o-d)<js?(o+d)/2:tg(j,k),Lt=n(lt,yt),kt=Lt[0],Jt=Lt[1],ne=kt-i,ce=Jt-r,Ee=C*ne-w*ce;(Ee*Ee/E>e||Ql((w*ne+C*ce)/E-.5)>.3||a*h+s*p+l*g<mne)&&(t(i,r,o,a,s,l,kt,Jt,lt,k/=it,j/=it,H,y,b),b.point(kt,Jt),t(kt,Jt,lt,k,j,H,c,u,d,h,p,g,y,b))}}return function(i){var r,o,a,s,l,c,u,d,h,p,g,y,b={point:w,lineStart:C,lineEnd:k,polygonStart:function(){i.polygonStart(),b.lineStart=j},polygonEnd:function(){i.polygonEnd(),b.lineStart=C}};function w(yt,lt){yt=n(yt,lt),i.point(yt[0],yt[1])}function C(){d=NaN,b.point=E,i.lineStart()}function E(yt,lt){var Lt=jy([yt,lt]),kt=n(yt,lt);t(d,h,u,p,g,y,d=kt[0],h=kt[1],u=yt,p=Lt[0],g=Lt[1],y=Lt[2],Kht,i),i.point(d,h)}function k(){b.point=w,i.lineEnd()}function j(){C(),b.point=H,b.lineEnd=it}function H(yt,lt){E(r=yt,lt),o=d,a=h,s=p,l=g,c=y,b.point=E}function it(){t(d,h,u,p,g,y,o,a,r,s,l,c,Kht,i),b.lineEnd=k,k()}return b}}(n,e):function gne(n){return M8({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}(n)}var _ne=M8({point:function(n,e){this.stream.point(n*bs,e*bs)}});function yne(n){return function bne(n){var e,o,a,h,p,w,C,E,it,yt,t=150,i=480,r=250,s=0,l=0,c=0,u=0,d=0,g=null,y=Xht,b=null,k=$ht,j=.5,H=Qht(kt,j);function lt(ce){return[(ce=p(ce[0]*bs,ce[1]*bs))[0]*t+o,a-ce[1]*t]}function Lt(ce){return(ce=p.invert((ce[0]-o)/t,(a-ce[1])/t))&&[ce[0]*jf,ce[1]*jf]}function kt(ce,Ee){return[(ce=e(ce,Ee))[0]*t+o,a-ce[1]*t]}function Jt(){p=uht(h=function dht(n,e,t){return(n%=bh)?e||t?uht(fht(n),pht(e,t)):fht(n):e||t?pht(e,t):a8}(c,u,d),e);var ce=e(s,l);return o=i-ce[0]*t,a=r+ce[1]*t,ne()}function ne(){return it=yt=null,lt}return lt.stream=function(ce){return it&&yt===ce?it:it=_ne(y(h,H(k(yt=ce))))},lt.clipAngle=function(ce){return arguments.length?(y=+ce?function fne(n,e){var t=Fo(n),i=t>0,r=Ql(t)>js;function a(u,d){return Fo(u)*Fo(d)>t}function l(u,d,h){var y=[1,0,0],b=Vx(jy(u),jy(d)),w=Rk(b,b),C=b[0],E=w-C*C;if(!E)return!h&&u;var k=t*w/E,j=-t*C/E,H=Vx(y,b),it=Lk(y,k);JU(it,Lk(b,j));var lt=H,Lt=Rk(it,lt),kt=Rk(lt,lt),Jt=Lt*Lt-kt*(Rk(it,it)-1);if(!(Jt<0)){var ne=cf(Jt),ce=Lk(lt,(-Lt-ne)/kt);if(JU(ce,it),ce=kk(ce),!h)return ce;var Qe,Ee=u[0],be=d[0],Be=u[1],Ne=d[1];be<Ee&&(Qe=Ee,Ee=be,be=Qe);var In=be-Ee,Fn=Ql(In-Ls)<js;if(!Fn&&Ne<Be&&(Qe=Be,Be=Ne,Ne=Qe),Fn||In<js?Fn?Be+Ne>0^ce[1]<(Ql(ce[0]-Ee)<js?Be:Ne):Be<=ce[1]&&ce[1]<=Ne:In>Ls^(Ee<=ce[0]&&ce[0]<=be)){var Qn=Lk(lt,(-Lt+ne)/kt);return JU(Qn,it),[ce,kk(Qn)]}}}function c(u,d){var h=i?n:Ls-n,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return Yht(a,function s(u){var d,h,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(b,w){var E,C=[b,w],k=a(b,w),j=i?k?0:c(b,w):k?c(b+(b<0?Ls:-Ls),w):0;if(!d&&(g=p=k)&&u.lineStart(),k!==p&&(!(E=l(d,C))||Hk(d,E)||Hk(C,E))&&(C[0]+=js,C[1]+=js,k=a(C[0],C[1])),k!==p)y=0,k?(u.lineStart(),E=l(C,d),u.point(E[0],E[1])):(E=l(d,C),u.point(E[0],E[1]),u.lineEnd()),d=E;else if(r&&d&&i^k){var H;!(j&h)&&(H=l(C,d,!0))&&(y=0,i?(u.lineStart(),u.point(H[0][0],H[0][1]),u.point(H[1][0],H[1][1]),u.lineEnd()):(u.point(H[1][0],H[1][1]),u.lineEnd(),u.lineStart(),u.point(H[0][0],H[0][1])))}k&&(!d||!Hk(d,C))&&u.point(C[0],C[1]),d=C,p=k,h=j},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return y|(g&&p)<<1}}},function o(u,d,h,p){!function mht(n,e,t,i,r,o){if(t){var a=Fo(e),s=Eo(e),l=i*t;null==r?(r=e+i*bh,o=e-l/2):(r=ght(a,r),o=ght(a,o),(i>0?r<o:r>o)&&(r+=i*bh));for(var c,u=r;i>0?u>o:u<o;u-=l)c=kk([a,-s*Fo(u),-s*Eo(u)]),n.point(c[0],c[1])}}(p,n,e,h,u,d)},i?[0,-n]:[-Ls,n-Ls])}(g=ce*bs,6*bs):(g=null,Xht),ne()):g*jf},lt.clipExtent=function(ce){return arguments.length?(k=null==ce?(b=w=C=E=null,$ht):function Cht(n,e,t,i){function r(c,u){return n<=c&&c<=t&&e<=u&&u<=i}function o(c,u,d,h){var p=0,g=0;if(null==c||(p=a(c,d))!==(g=a(u,d))||l(c,u)<0^d>0)do{h.point(0===p||3===p?n:t,p>1?i:e)}while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function a(c,u){return Ql(c[0]-n)<js?u>0?0:3:Ql(c[0]-t)<js?u>0?2:1:Ql(c[1]-e)<js?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=a(c,1),h=a(u,1);return d!==h?d-h:0===d?u[1]-c[1]:1===d?c[0]-u[0]:2===d?c[1]-u[1]:u[0]-c[0]}return function(c){var h,p,g,y,b,w,C,E,k,j,H,u=c,d=vht(),it={point:yt,lineStart:function Jt(){it.point=ce,p&&p.push(g=[]),j=!0,k=!1,C=E=NaN},lineEnd:function ne(){h&&(ce(y,b),w&&k&&d.rejoin(),h.push(d.result())),it.point=yt,k&&u.lineEnd()},polygonStart:function Lt(){u=d,h=[],p=[],H=!0},polygonEnd:function kt(){var Ee=function lt(){for(var Ee=0,be=0,Be=p.length;be<Be;++be)for(var Kn,Qn,Ne=p[be],Qe=1,In=Ne.length,Fn=Ne[0],zn=Fn[0],zi=Fn[1];Qe<In;++Qe)Kn=zn,Qn=zi,zn=(Fn=Ne[Qe])[0],zi=Fn[1],Qn<=i?zi>i&&(zn-Kn)*(i-Qn)>(zi-Qn)*(n-Kn)&&++Ee:zi<=i&&(zn-Kn)*(i-Qn)<(zi-Qn)*(n-Kn)&&--Ee;return Ee}(),be=H&&Ee,Be=(h=Sht(h)).length;(be||Be)&&(c.polygonStart(),be&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),Be&&_ht(h,s,Ee,o,c),c.polygonEnd()),u=c,h=p=g=null}};function yt(Ee,be){r(Ee,be)&&u.point(Ee,be)}function ce(Ee,be){var Be=r(Ee,be);if(p&&g.push([Ee,be]),j)y=Ee,b=be,w=Be,j=!1,Be&&(u.lineStart(),u.point(Ee,be));else if(Be&&k)u.point(Ee,be);else{var Ne=[C=Math.max(Wk,Math.min(uM,C)),E=Math.max(Wk,Math.min(uM,E))],Qe=[Ee=Math.max(Wk,Math.min(uM,Ee)),be=Math.max(Wk,Math.min(uM,be))];!function Fee(n,e,t,i,r,o){var g,a=n[0],s=n[1],u=0,d=1,h=e[0]-a,p=e[1]-s;if(g=t-a,h||!(g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=r-a,h||!(g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=i-s,p||!(g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=o-s,p||!(g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(n[0]=a+u*h,n[1]=s+u*p),d<1&&(e[0]=a+d*h,e[1]=s+d*p),!0}}}}}(Ne,Qe,n,e,t,i)?Be&&(u.lineStart(),u.point(Ee,be),H=!1):(k||(u.lineStart(),u.point(Ne[0],Ne[1])),u.point(Qe[0],Qe[1]),Be||u.lineEnd(),H=!1)}C=Ee,E=be,k=Be}return it}}(b=+ce[0][0],w=+ce[0][1],C=+ce[1][0],E=+ce[1][1]),ne()):null==b?null:[[b,w],[C,E]]},lt.scale=function(ce){return arguments.length?(t=+ce,Jt()):t},lt.translate=function(ce){return arguments.length?(i=+ce[0],r=+ce[1],Jt()):[i,r]},lt.center=function(ce){return arguments.length?(s=ce[0]%360*bs,l=ce[1]%360*bs,Jt()):[s*jf,l*jf]},lt.rotate=function(ce){return arguments.length?(c=ce[0]%360*bs,u=ce[1]%360*bs,d=ce.length>2?ce[2]%360*bs:0,Jt()):[c*jf,u*jf,d*jf]},lt.precision=function(ce){return arguments.length?(H=Qht(kt,j=ce*ce),ne()):cf(j)},lt.fitExtent=function(ce,Ee){return qht(lt,ce,Ee)},lt.fitSize=function(ce,Ee){return function pne(n,e,t){return qht(n,[[0,0],e],t)}(lt,ce,Ee)},function(){return e=n.apply(this,arguments),lt.invert=e.invert&&Lt,Jt()}}(function(){return n})()}function Jht(n){return function(e,t){var i=Fo(e),r=Fo(t),o=n(i*r);return[o*r*Eo(e),o*Eo(t)]}}function gM(n){return function(e,t){var i=cf(e*e+t*t),r=n(i),o=Eo(r),a=Fo(r);return[tg(e*o,i*a),eg(i&&t*o/i)]}}var tft=Jht(function(n){return cf(2/(1+n))});tft.invert=gM(function(n){return 2*eg(n/2)});var eft=Jht(function(n){return(n=jdt(n))&&n/Eo(n)});function D8(n,e){return[n,e]}function nR(n,e,t,i){var r=n.properties||{},o="Feature"===n.type?n.geometry:n;if("GeometryCollection"===o.type){var a=[];return th(n,function(y){var b=nR(y,e,t,i);b&&a.push(b)}),Ur(a)}var s=function Dne(n){var e=dk(n).geometry.coordinates,t=[-e[0],-e[1]];return function Sne(){return yne(eft).scale(79.4188).clipAngle(179.999)}().rotate(t).scale(nu)}(o),l={type:o.type,coordinates:lft(o.coordinates,s)},u=(new XU.GeoJSONReader).read(l),d=Ix(Ny(e,t),"meters"),h=XU.BufferOp.bufferOp(u,d,i);if(!sft((h=(new XU.GeoJSONWriter).write(h)).coordinates))return zc({type:h.type,coordinates:cft(h.coordinates,s)},r)}function sft(n){return Array.isArray(n[0])?sft(n[0]):isNaN(n[0])}function lft(n,e){return"object"!=typeof n[0]?e(n):n.map(function(t){return lft(t,e)})}function cft(n,e){return"object"!=typeof n[0]?e.invert(n):n.map(function(t){return cft(t,e)})}eft.invert=gM(function(n){return n}),D8.invert=D8,gM(aM),gM(eg),gM(function(n){return 2*aM(n)});const Ane=function Tne(n,e,t){var i=(t=t||{}).units||"kilometers",r=t.steps||8;if(!n)throw new Error("geojson is required");if("object"!=typeof t)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(n.type){case"GeometryCollection":return th(n,function(a){var s=nR(a,e,i,r);s&&o.push(s)}),Ur(o);case"FeatureCollection":return os(n,function(a){var s=nR(a,e,i,r);s&&os(s,function(l){l&&o.push(l)})}),Ur(o)}return nR(n,e,i,r)},Pne=function Ine(n,e,t){void 0===t&&(t={});var i=ul(n),r=ul(e),o=Jm.union(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?Xo(o[0],t.properties):dd(o,t.properties)};function vM(n,e,t){void 0===t&&(t={});var i=ul(n),r=ul(e),o=Jm.intersection(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?Xo(o[0],t.properties):dd(o,t.properties)}const Rne=function kne(n,e){if(!Cs(e=e||{}))throw new Error("options is invalid");var t=e.propertyName;$m(n,"Polygon","dissolve");var i=[];if(!e.propertyName)return bU(dd(Jm.union.apply(null,n.features.map(function(l){return l.geometry.coordinates}))));var r={};os(n,function(l){Object.prototype.hasOwnProperty.call(r,l.properties[t])||(r[l.properties[t]]=[]),r[l.properties[t]].push(l)});for(var o=Object.keys(r),a=0;a<o.length;a++){var s=dd(Jm.union.apply(null,r[o[a]].map(function(l){return l.geometry.coordinates})));s.properties[t]=o[a],i.push(s)}return bU(Ur(i))};function One(n,e,t,i,r,o){for(var a=[],s=0;s<6;s++)a.push([n[0]+e*r[s],n[1]+t*o[s]]);return a.push(a[0].slice()),Xo([a],i)}function Nne(n,e,t,i,r,o){for(var a=[],s=0;s<6;s++){var l=[];l.push(n),l.push([n[0]+e*r[s],n[1]+t*o[s]]),l.push([n[0]+e*r[(s+1)%6],n[1]+t*o[(s+1)%6]]),l.push(n),a.push(Xo([l],i))}return a}const uft=function Lne(n,e,t){void 0===t&&(t={});var i=JSON.stringify(t.properties||{}),r=n[0],o=n[1],a=n[2],s=n[3],l=(o+s)/2,c=(r+a)/2,d=2*e/Ms([r,l],[a,l],t)*(a-r),p=2*e/Ms([c,o],[c,s],t)*(s-o),g=d/2,y=2*g,b=Math.sqrt(3)/2*p,w=a-r,C=s-o,E=3/4*y,k=b,H=Math.floor((w-y)/(y-g/2)),it=(H*E-g/2-w)/2-g/2+E/2,yt=Math.floor((C-b)/b),lt=(C-yt*b)/2,Lt=yt*b-C>b/2;Lt&&(lt-=b/4);for(var kt=[],Jt=[],ne=0;ne<6;ne++){var ce=2*Math.PI/6*ne;kt.push(Math.cos(ce)),Jt.push(Math.sin(ce))}for(var Ee=[],be=0;be<=H;be++)for(var Be=0;Be<=yt;Be++){var Ne=be%2==1;if(!(0===Be&&Ne||0===Be&&Lt)){var Qe=be*E+r-it,In=Be*k+o+lt;if(Ne&&(In-=b/2),!0===t.triangles)Nne([Qe,In],d/2,p/2,JSON.parse(i),kt,Jt).forEach(function(Kn){t.mask?vM(t.mask,Kn)&&Ee.push(Kn):Ee.push(Kn)});else{var Fn=One([Qe,In],d/2,p/2,JSON.parse(i),kt,Jt);t.mask?vM(t.mask,Fn)&&Ee.push(Fn):Ee.push(Fn)}}}return Ur(Ee)};function dft(n){return dd(n)}const zne=function Fne(n,e){var t=function Vne(n){return Xo(n&&n.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),i=null;return i="FeatureCollection"===n.type?function Bne(n){var e=2===n.features.length?Jm.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):Jm.union.apply(Jm,n.features.map(function(t){return t.geometry.coordinates}));return dft(e)}(n):dft(Jm.union(n.geometry.coordinates)),i.geometry.coordinates.forEach(function(r){t.geometry.coordinates.push(r[0])}),t},Gne=function Une(n,e,t,i){void 0===i&&(i={});for(var r=[],o=n[0],a=n[1],s=n[2],l=n[3],u=e/Ms([o,a],[s,a],i)*(s-o),h=t/Ms([o,a],[o,l],i)*(l-a),p=s-o,g=l-a,y=Math.floor(p/u),b=Math.floor(g/h),C=(g-b*h)/2,E=o+(p-y*u)/2,k=0;k<y;k++){for(var j=a+C,H=0;H<b;H++){var it=Xo([[[E,j],[E,j+h],[E+u,j+h],[E+u,j],[E,j]]],i.properties);i.mask?udt(i.mask,it)&&r.push(it):r.push(it),j+=h}E+=u}return Ur(r)};function hft(n,e,t){return void 0===t&&(t={}),Gne(n,e,e,t)}const fft=function Hne(n,e,t){void 0===t&&(t={});for(var i=[],o=e/Ms([n[0],n[1]],[n[2],n[1]],t)*(n[2]-n[0]),s=e/Ms([n[0],n[1]],[n[0],n[3]],t)*(n[3]-n[1]),l=0,c=n[0];c<=n[2];){for(var u=0,d=n[1];d<=n[3];){var h=null,p=null;l%2==0&&u%2==0?(h=Xo([[[c,d],[c,d+s],[c+o,d],[c,d]]],t.properties),p=Xo([[[c,d+s],[c+o,d+s],[c+o,d],[c,d+s]]],t.properties)):l%2==0&&u%2==1?(h=Xo([[[c,d],[c+o,d+s],[c+o,d],[c,d]]],t.properties),p=Xo([[[c,d],[c,d+s],[c+o,d+s],[c,d]]],t.properties)):u%2==0&&l%2==1?(h=Xo([[[c,d],[c,d+s],[c+o,d+s],[c,d]]],t.properties),p=Xo([[[c,d],[c+o,d+s],[c+o,d],[c,d]]],t.properties)):u%2==1&&l%2==1&&(h=Xo([[[c,d],[c,d+s],[c+o,d],[c,d]]],t.properties),p=Xo([[[c,d+s],[c+o,d+s],[c+o,d],[c,d+s]]],t.properties)),t.mask?(vM(t.mask,h)&&i.push(h),vM(t.mask,p)&&i.push(p)):(i.push(h),i.push(p)),d+=s,u++}l++,c+=o}return Ur(i)},Wne=function jne(n,e,t){if("object"!=typeof(t=t||{}))throw new Error("options is invalid");var i=t.gridType,r=t.property,o=t.weight;if(!n)throw new Error("points is required");if($m(n,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var s,a=Uc(n);switch(i){case"point":case"points":s=Cut(a,e,t);break;case"square":case"squares":s=hft(a,e,t);break;case"hex":case"hexes":s=uft(a,e,t);break;case"triangle":case"triangles":s=fft(a,e,t);break;default:throw new Error("invalid gridType")}var l=[];return os(s,function(c){var u=0,d=0;os(n,function(p){var b,g="point"===i?c:yv(c),y=Ms(g,p,t);if(void 0!==r&&(b=p.properties[r]),void 0===b&&(b=p.geometry.coordinates[2]),void 0===b)throw new Error("zValue is missing");0===y&&(u=b);var w=1/Math.pow(y,o);d+=w,u+=w*b});var h=Su(c);h.properties[r]=u/d,l.push(h)}),Ur(l)};var _o=Z(8407),A8=Symbol.for("immer-nothing"),_M=Symbol.for("immer-draftable"),Es=Symbol.for("immer-state");function Mu(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Xy=Object.getPrototypeOf;function wv(n){return!!n&&!!n[Es]}function Up(n){return!!n&&(pft(n)||Array.isArray(n)||!!n[_M]||!!n.constructor?.[_M]||bM(n)||xM(n))}var Zne=Object.prototype.constructor.toString();function pft(n){if(!n||"object"!=typeof n)return!1;const e=Xy(n);if(null===e)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===Zne}function $y(n,e){0===qy(n)?Object.entries(n).forEach(([t,i])=>{e(t,i,n)}):n.forEach((t,i)=>e(i,t,n))}function qy(n){const e=n[Es];return e?e.type_:Array.isArray(n)?1:bM(n)?2:xM(n)?3:0}function yM(n,e){return 2===qy(n)?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function mft(n,e,t){const i=qy(n);2===i?n.set(e,t):3===i?n.add(t):n[e]=t}function bM(n){return n instanceof Map}function xM(n){return n instanceof Set}function Eu(n){return n.copy_||n.base_}function P8(n,e){if(bM(n))return new Map(n);if(xM(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&pft(n))return Xy(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[Es];let i=Reflect.ownKeys(t);for(let r=0;r<i.length;r++){const o=i[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Xy(n),t)}function k8(n,e=!1){return iR(n)||wv(n)||!Up(n)||(qy(n)>1&&(n.set=n.add=n.clear=n.delete=Xne),Object.freeze(n),e&&$y(n,(t,i)=>k8(i,!0))),n}function Xne(){Mu(2)}function iR(n){return Object.isFrozen(n)}var wM,R8={};function Ky(n){const e=R8[n];return e||Mu(0),e}function rR(){return wM}function vft(n,e){e&&(Ky("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function L8(n){O8(n),n.drafts_.forEach(qne),n.drafts_=null}function O8(n){n===wM&&(wM=n.parent_)}function _ft(n){return wM=function $ne(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(wM,n)}function qne(n){const e=n[Es];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function yft(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return void 0!==n&&n!==t?(t[Es].modified_&&(L8(e),Mu(4)),Up(n)&&(n=oR(e,n),e.parent_||aR(e,n)),e.patches_&&Ky("Patches").generateReplacementPatches_(t[Es].base_,n,e.patches_,e.inversePatches_)):n=oR(e,t,[]),L8(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==A8?n:void 0}function oR(n,e,t){if(iR(e))return e;const i=e[Es];if(!i)return $y(e,(r,o)=>bft(n,i,e,r,o,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return aR(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let o=r,a=!1;3===i.type_&&(o=new Set(r),r.clear(),a=!0),$y(o,(s,l)=>bft(n,i,r,s,l,t,a)),aR(n,r,!1),t&&n.patches_&&Ky("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function bft(n,e,t,i,r,o,a){if(wv(r)){const l=oR(n,r,o&&e&&3!==e.type_&&!yM(e.assigned_,i)?o.concat(i):void 0);if(mft(t,i,l),!wv(l))return;n.canAutoFreeze_=!1}else a&&t.add(r);if(Up(r)&&!iR(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;oR(n,r),(!e||!e.scope_.parent_)&&aR(n,r)}}function aR(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&k8(e,t)}var N8={get(n,e){if(e===Es)return n;const t=Eu(n);if(!yM(t,e))return function Qne(n,e,t){const i=xft(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}(n,t,e);const i=t[e];return n.finalized_||!Up(i)?i:i===F8(n.base_,e)?(B8(n),n.copy_[e]=CM(i,n)):i},has:(n,e)=>e in Eu(n),ownKeys:n=>Reflect.ownKeys(Eu(n)),set(n,e,t){const i=xft(Eu(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=F8(Eu(n),e),o=r?.[Es];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(function Yne(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e}(t,r)&&(void 0!==t||yM(n.base_,e)))return!0;B8(n),rg(n)}return n.copy_[e]===t&&(void 0!==t||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty:(n,e)=>(void 0!==F8(n.base_,e)||e in n.base_?(n.assigned_[e]=!1,B8(n),rg(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0),getOwnPropertyDescriptor(n,e){const t=Eu(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:1!==n.type_||"length"!==e,enumerable:i.enumerable,value:t[e]}},defineProperty(){Mu(11)},getPrototypeOf:n=>Xy(n.base_),setPrototypeOf(){Mu(12)}},SM={};function F8(n,e){const t=n[Es];return(t?Eu(t):n)[e]}function xft(n,e){if(!(e in n))return;let t=Xy(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Xy(t)}}function rg(n){n.modified_||(n.modified_=!0,n.parent_&&rg(n.parent_))}function B8(n){n.copy_||(n.copy_=P8(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function CM(n,e){const t=bM(n)?Ky("MapSet").proxyMap_(n,e):xM(n)?Ky("MapSet").proxySet_(n,e):function Kne(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:rR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=N8;t&&(r=[i],o=SM);const{revoke:a,proxy:s}=Proxy.revocable(r,o);return i.draft_=s,i.revoke_=a,s}(n,e);return(e?e.scope_:rR()).drafts_.push(t),t}function wft(n){if(!Up(n)||iR(n))return n;const e=n[Es];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=P8(n,e.scope_.immer_.useStrictShallowCopy_)}else t=P8(n,!0);return $y(t,(i,r)=>{mft(t,i,wft(r))}),e&&(e.finalized_=!1),t}$y(N8,(n,e)=>{SM[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),SM.deleteProperty=function(n,e){return SM.set.call(this,n,e,void 0)},SM.set=function(n,e,t){return N8.set.call(this,n[0],e,t,n[0])};var Sh=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if("function"==typeof e&&"function"!=typeof t){const o=t;t=e;const a=this;return function(l=o,...c){return a.produce(l,u=>t.call(this,u,...c))}}let r;if("function"!=typeof t&&Mu(6),void 0!==i&&"function"!=typeof i&&Mu(7),Up(e)){const o=_ft(this),a=CM(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?L8(o):O8(o)}return vft(o,i),yft(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===A8&&(r=void 0),this.autoFreeze_&&k8(r,!0),i){const o=[],a=[];Ky("Patches").generateReplacementPatches_(e,r,o,a),i(o,a)}return r}Mu(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let i,r;return[this.produce(e,t,(a,s)=>{i=a,r=s}),i,r]},"boolean"==typeof n?.autoFreeze&&this.setAutoFreeze(n.autoFreeze),"boolean"==typeof n?.useStrictShallowCopy&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Up(n)||Mu(8),wv(n)&&(n=function tie(n){return wv(n)||Mu(10),wft(n)}(n));const e=_ft(this),t=CM(n,void 0);return t[Es].isManual_=!0,O8(e),t}finishDraft(n,e){const t=n&&n[Es];(!t||!t.isManual_)&&Mu(9);const{scope_:i}=t;return vft(i,e),yft(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(0===r.path.length&&"replace"===r.op){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=Ky("Patches").applyPatches_;return wv(n)?i(n,e):this.produce(n,r=>i(r,e))}},sR=Sh.produce;function V8(n=0,e=255){return Math.max(0,Math.min(255,Math.round(Math.random()*(e-n)+n)))}function MM(n=0,e=255){return[V8(n,e),V8(n,e),V8(n,e)]}function Sft(n){try{return[(16711680&(n>>>=0))>>>16,(65280&n)>>>8,255&n]}catch{return console.log("number is not in correct format to be converted to color"),MM()}}Sh.produceWithPatches.bind(Sh),Sh.setAutoFreeze.bind(Sh),Sh.setUseStrictShallowCopy.bind(Sh),Sh.applyPatches.bind(Sh),Sh.createDraft.bind(Sh),Sh.finishDraft.bind(Sh);const Cft={features:[],type:"FeatureCollection"};function Mft(n,e){switch(n.type){case"Point":return Rs(n.coordinates,e,{ignoreBoundary:!1});case"Polygon":return n.coordinates.every(t=>t.every(i=>Rs(i,e,{ignoreBoundary:!1})));default:return!1}}let Eft=(()=>{class n{constructor(t){this.httpClient=t,this._db=new Map,this.fetchData=i=>this.httpClient.get(`/testMeppleProfile/assets/geojson/${i}.geojson?version=345`),this._DeepCopyAndFlattened=i=>Dx(JSON.parse(JSON.stringify(i))),this.isDataLoaded=!1,this.GetDataSource=()=>this.loadData().pipe(vt(i=>new Map(i))),this.Get=(i,r=!1)=>new Promise((o,a)=>{nr("").pipe(AD(3e3)).subscribe(s=>this.loadData().pipe(Ks(1)).subscribe(l=>{o(this._db.get(i+(r?"_F":"")))}))}),glob.push({turf:ot})}setDataInDic(t,i){this._db.set(t,i),this._db.set(t+"_F",this._DeepCopyAndFlattened(i))}loadData(){return this.isDataLoaded?nr(this._db):QN([this.fetchData(Ya.Adresses),this.fetchData(Ya.Buildings),this.fetchData(Ya.Neighborhoods),this.fetchData(Ya.OwnershipData),this.fetchData(Ya.NetloadImport),this.fetchData(Ya.TygronSectionGeometry),this.fetchData(Ya.RoadLine)]).pipe(Ks(1),vt(u=>u.map(d=>jU(d,{mutate:!1}))),Xl(([u,d,h,p,g,y,b])=>{this.setDataInDic(Ya.Adresses,u),this.setDataInDic(Ya.Buildings,d);try{h.features.forEach(w=>w.properties.area=Math.round(mk(w.geometry)/1e3)),h.features=h.features.sort((w,C)=>C.properties.area-w.properties.area)}catch(w){console.log(w)}this.setDataInDic(Ya.Neighborhoods,h),this.setDataInDic(Ya.OwnershipData,p),this.setDataInDic(Ya.NetloadImport,g),this.setDataInDic(Ya.TygronSectionGeometry,y),b.features.forEach((w,C)=>{b.features[C].id=C}),this.setDataInDic(Ya.RoadLine,b),this.setDataInDic(Ya.RoadLineInShapeOfMultiPoint,function rie(n){const e=[];return n.features.forEach(t=>{const i=function iie(n,e=100){const t=gk(n,{units:"meters"}),i=Math.floor(t/e),r=[];for(let o=0;o<=i;o++){const s=yut(n,o*e,{units:"meters"});s.id=n.id,s.properties={name:n.properties?.name},r.push(s)}return r}(t),r=Ax(i.map(o=>o.geometry.coordinates),{id:t.id,...t.properties});r.id=t.id,e.push(r)}),Ur(e)}(b)),this.isDataLoaded=!0}),vt(u=>this._db))}}return n.\u0275fac=function(t){return new(t||n)(on(G1))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ya=(()=>(function(n){n.Adresses="Adresses",n.Buildings="Buildings",n.Neighborhoods="Neighborhoods",n.NetloadImport="netload_import",n.OwnershipData="Ownership_data",n.TygronSectionGeometry="tygron_section_geometry",n.RoadLine="road_line",n.RoadLineInShapeOfMultiPoint="______RoadLineInShapeOfMultiPoint"}(Ya||(Ya={})),Ya))();const Tft=function xct(n){return gv(e=>{const t=e[n];return function o$t(){}(),t},e=>e)}("appMapSate"),oie=gv(Tft,n=>n.datasource),z8=gv(Tft,n=>n.settings),Dft=gv(z8,n=>n.layers),aie=(gv(z8,n=>n.map),gv(z8,n=>n.boundaries)),Gp=(n,e=!0,t=!1)=>gv(oie,aie,(i,r)=>0==e?i.get(t?n+"_F":n)??Cft:function eie(n,e){return sR(n,i=>{i.features=n.features.filter(r=>-1!==["MultiPolygon","Polygon","Point"].indexOf(r.geometry.type)&&function nie(n,e){switch(n.type){case"Point":case"Polygon":return Mft(n,e);case"MultiPolygon":return Dx(n).every(t=>Mft(t,e));default:return console.warn(),!1}}(r.geometry,e))})}(i.get(n)??Cft,r)),Aft=Gp(Ya.Adresses),Ift=Gp(Ya.Buildings),Pft=Gp(Ya.Neighborhoods),sie=Gp(Ya.Neighborhoods,!1),kft=Gp(Ya.NetloadImport),Rft=Gp(Ya.TygronSectionGeometry),lie=(Gp(Ya.OwnershipData),Gp(Ya.RoadLine,!1)),cie=Gp(Ya.RoadLineInShapeOfMultiPoint,!1,!0),uie=(Gp(Ya.RoadLineInShapeOfMultiPoint,!1),["map"]);let Lft=(()=>{class n{constructor(t){this.store=t,this.Adresses$=this.store.select(Aft).pipe(go(i=>!!i),yu(100)),this.Buildings$=this.store.select(Ift).pipe(go(i=>!!i),yu(150)),this.Neighborhoods$=this.store.select(Pft).pipe(Xl(i=>console.log("Neighborhoods length",i?.features.length)),yu(180),go(i=>!!i)),this.NetloadImport$=this.store.select(kft).pipe(go(i=>!!i),yu(95)),this.TygronSectionGeometry$=this.store.select(Rft).pipe(go(i=>!!i),yu(235))}ngOnInit(){this.Adresses$.subscribe(t=>{})}ngAfterViewInit(){this.prepareCharts()}prepareCharts(){var t=Ttt(this.map.nativeElement);console.log("myChart",t),t.setOption({title:{text:"ECharts Getting Started Example"},tooltip:{},xAxis:{data:["shirt","cardigan","chiffon","pants","heels","socks"]},yAxis:{},series:[{name:"sales",type:"bar",data:[5,20,36,10,10,20]}]})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym))},n.\u0275cmp=Pi({type:n,selectors:[["app-chart"]],viewQuery:function(t,i){if(1&t&&fs(uie,5),2&t){let r;Fi(r=Bi())&&(i.map=r.first)}},decls:2,vars:0,consts:[[1,"chart"],["map",""]],template:function(t,i){1&t&&kr(0,"div",0,1)},styles:[".chart[_ngcontent-%COMP%]{width:500px;height:500px;display:inline-block}"]}),n})();const die=["map"];let Oft=(()=>{class n{constructor(t){this.httpClient=t}ngOnInit(){}ngAfterViewInit(){this.preparechart2()}preparechart2(){var t;t={color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],title:{text:"Gradient Stacked Area Chart"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Line 1","Line 2","Line 3","Line 4","Line 5"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Line 1",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new Tp(0,0,0,1,[{offset:0,color:"rgb(128, 255, 165)"},{offset:1,color:"rgb(1, 191, 236)"}])},emphasis:{focus:"series"},data:[140,232,101,264,90,340,250]},{name:"Line 2",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new Tp(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:[120,282,111,234,220,340,310]},{name:"Line 3",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new Tp(0,0,0,1,[{offset:0,color:"rgb(55, 162, 255)"},{offset:1,color:"rgb(116, 21, 219)"}])},emphasis:{focus:"series"},data:[320,132,201,334,190,130,220]},{name:"Line 4",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new Tp(0,0,0,1,[{offset:0,color:"rgb(255, 0, 135)"},{offset:1,color:"rgb(135, 0, 157)"}])},emphasis:{focus:"series"},data:[220,402,231,134,190,230,120]},{name:"Line 5",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,label:{show:!0,position:"top"},areaStyle:{opacity:.8,color:new Tp(0,0,0,1,[{offset:0,color:"rgb(255, 191, 0)"},{offset:1,color:"rgb(224, 62, 76)"}])},emphasis:{focus:"series"},data:[220,302,181,234,210,290,150]}]},Ttt(this.map.nativeElement).setOption(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(G1))},n.\u0275cmp=Pi({type:n,selectors:[["app-chart2"]],viewQuery:function(t,i){if(1&t&&fs(die,5),2&t){let r;Fi(r=Bi())&&(i.map=r.first)}},decls:2,vars:0,consts:[[1,"chart"],["map",""]],template:function(t,i){1&t&&kr(0,"div",0,1)},styles:[".chart[_ngcontent-%COMP%]{width:500px;height:500px;display:inline-block}"]}),n})();function hie(n,e){1&n&&kr(0,"app-chart2")}function fie(n,e){1&n&&kr(0,"app-chart")}function pie(n,e){if(1&n&&(Rn(0,"mat-grid-tile",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title"),ao(4),Rn(5,"button",6)(6,"mat-icon"),ao(7,"more_vert"),Gn()(),Rn(8,"mat-menu",7,8)(10,"button",9),ao(11,"Expand"),Gn(),Rn(12,"button",9),ao(13,"Remove"),Gn()()()(),Rn(14,"mat-card-content",10)(15,"div"),ao(16,"Card Content Here"),Gn(),co(17,hie,1,0,"app-chart2",11),co(18,fie,1,0,"app-chart",11),Gn()()()),2&n){const t=e.$implicit,i=id(9);Mi("colspan",t.cols)("rowspan",t.rows),bi(4),op(" ",t.title," "),bi(1),Mi("matMenuTriggerFor",i),bi(12),Mi("ngIf","Card 1"==t.title),bi(1),Mi("ngIf","1"!==t.title)}}let mie=(()=>{class n{trackElement(t,i){return i?i.title:null}constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe([lb.XSmall,lb.Small,lb.Medium]).pipe(Xl(i=>{i.matches&&console.log(lb,"breakpointObserver",i.breakpoints,i)}),vt(({matches:i})=>i),vm(),vt(i=>i?[{title:"Card 1",cols:2,rows:2},{title:"Card 2",cols:2,rows:2}]:[{title:"Card 1",cols:1,rows:2},{title:"Card 2",cols:1,rows:2},{title:"Card 3",cols:1,rows:2}]))}}return n.\u0275fac=function(t){return new(t||n)(ee(_D))},n.\u0275cmp=Pi({type:n,selectors:[["app-dash"]],decls:6,vars:4,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf","ngForTrackBy"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"],[4,"ngIf"]],template:function(t,i){1&t&&(Rn(0,"div",0)(1,"h1",1),ao(2,"Dashboard"),Gn(),Rn(3,"mat-grid-list",2),co(4,pie,19,6,"mat-grid-tile",3),dT(5,"async"),Gn()()),2&t&&(bi(4),Mi("ngForOf",hT(5,2,i.cards))("ngForTrackBy",i.trackElement))},dependencies:[LO,Tf,zN,ZAt,ND,qAt,oIt,rX,sX,cX,uX,lX,jD,Lft,Oft,FO],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),n})();var lR=Z(6962),To=Z(1180),Nft=Z(2757);function gie({data:n,getIndex:e,dataRange:t,replace:i}){const{startRow:r=0,endRow:o=1/0}=t,a=n.length;let s=a,l=a;for(let h=0;h<a;h++){const p=e(n[h]);if(s>h&&p>=r&&(s=h),p>=o){l=h;break}}let c=s;const d=l-s!==i.length?n.slice(l):void 0;for(let h=0;h<i.length;h++)n[c++]=i[h];if(d){for(let h=0;h<d.length;h++)n[c++]=d[h];n.length=c}return{startRow:s,endRow:s+i.length}}var EM=Z(5670),TM=Z(6392),DM=Z(9813),Sv=Z(9531),Hp=Z(967),jx=Z(525),AM=Z(3184),wie=Z(8100),Sie=Z(1507),Cie=Z(5702),Mie=Z(4095),Eie=Z(278),Fft=Z(9088);const Bft=()=>{},Aie={10241:9987,10240:9729,10242:33071,10243:33071};function Iie(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function Pie(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function IM(n){return n&&(n.id||n.url)}function Vft(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[IM(r)]={...r,x:o,y:t}}}class Oie{constructor(e,{onUpdate:t=Bft,onError:i=Bft}){(0,To.Z)(this,"gl",void 0),(0,To.Z)(this,"onUpdate",void 0),(0,To.Z)(this,"onError",void 0),(0,To.Z)(this,"_loadOptions",null),(0,To.Z)(this,"_texture",null),(0,To.Z)(this,"_externalTexture",null),(0,To.Z)(this,"_mapping",{}),(0,To.Z)(this,"_pendingCount",0),(0,To.Z)(this,"_autoPacking",!1),(0,To.Z)(this,"_xOffset",0),(0,To.Z)(this,"_yOffset",0),(0,To.Z)(this,"_rowHeight",0),(0,To.Z)(this,"_buffer",4),(0,To.Z)(this,"_canvasWidth",1024),(0,To.Z)(this,"_canvasHeight",0),(0,To.Z)(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?IM(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r}){var o;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(o=this._texture)||void 0===o||o.delete(),this._texture=null,this._externalTexture=i)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function Lie(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=(0,Fft.jB)(n);for(const a of r){o.index++;const s=e(a,o),l=IM(s);if(!s)throw new Error("Icon is missing.");if(!s.url)throw new Error("Icon url is missing.");!i[l]&&(!t[l]||s.url!==t[l].url)&&(i[l]={...s,source:a,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:a,rowHeight:s,canvasHeight:l}=function Rie({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:a}){let s=[];for(let l=0;l<n.length;l++){const c=n[l];if(!t[IM(c)]){const{height:d,width:h}=c;i+h+e>a&&(Vft(t,s,r),i=0,r=o+r+e,o=0,s=[]),s.push({icon:c,xOffset:i}),i=i+h+e,o=Math.max(o,d)}}return s.length>0&&Vft(t,s,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:a,canvasHeight:Iie(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=s,this._mapping=r,this._xOffset=o,this._yOffset=a,this._canvasHeight=l,this._texture||(this._texture=new Cie.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:Aie})),this._texture.height!==this._canvasHeight&&(this._texture=function kie(n,e,t){const i=n.width,r=n.height,o=(0,wie.h)(n,{width:e,height:t});return(0,Sie.Lv)(n,o,{targetY:0,width:i,height:r}),n.delete(),o}(this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,(0,Eie.z)(i.url,Mie.S,this._loadOptions).then(r=>{const o=IM(i),{x:a,y:s,width:l,height:c}=this._mapping[o],u=Pie(t,r,l,c);this._texture.setSubImageData({data:u,x:a,y:s,width:l,height:c}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const zft=[0,0,0,255],Nie={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:zft},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class cR extends EM.Z{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[TM.Z,DM.Z]})}initializeState(){this.state={iconManager:new Oie(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:zft},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:a,iconMapping:s,data:l,getIcon:c}=t,{iconManager:u}=this.state,d=a||this.internalState.isAsyncPropLoading("iconAtlas");if(u.setProps({loadOptions:t.loadOptions,autoPacking:!d,iconAtlas:a,iconMapping:d?s:null}),d?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(l,c),r.extensionsChanged){var h;const{gl:p}=this.context;null===(h=this.state.model)||void 0===h||h.delete(),this.state.model=this._getModel(p),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:a,alphaCutoff:s}=this.props,{iconManager:l}=this.state,c=l.getTexture();c&&this.state.model.setUniforms(e).setUniforms({iconsTexture:c,iconsTextureDim:[c.width,c.height],sizeUnits:Sv.iI[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:a,alphaCutoff:s}).draw()}_getModel(e){return new jx.Z(e,{...this.getShaders(),id:this.props.id,geometry:new AM.Z({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):Hp.Z.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}(0,To.Z)(cR,"defaultProps",Nie),(0,To.Z)(cR,"layerName","IconLayer");const Uft=[0,0,0,255],Vie={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:n=>n.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:Uft},getLineColor:{type:"accessor",value:Uft},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class U8 extends EM.Z{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[TM.Z,DM.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){if(super.updateState(e),e.changeFlags.extensionsChanged){var t;const{gl:i}=this.context;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(i),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{radiusUnits:t,radiusScale:i,radiusMinPixels:r,radiusMaxPixels:o,stroked:a,filled:s,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}=this.props;this.state.model.setUniforms(e).setUniforms({stroked:a?1:0,filled:s,billboard:l,antialiasing:c,radiusUnits:Sv.iI[t],radiusScale:i,radiusMinPixels:r,radiusMaxPixels:o,lineWidthUnits:Sv.iI[u],lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}).draw()}_getModel(e){return new jx.Z(e,{...this.getShaders(),id:this.props.id,geometry:new AM.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}(0,To.Z)(U8,"defaultProps",Vie),(0,To.Z)(U8,"layerName","ScatterplotLayer");const Hft=[];class G8 extends cR{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&Hp.Z.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:Boolean(t),outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):Hft}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):Hft}}(0,To.Z)(G8,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,To.Z)(G8,"layerName","MultiIconLayer");var Gie=Z(1803),Hie=Z.n(Gie);const jie=32,Wie=[];function Zie(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function jft(n,e,t,i){let r=0;for(let a=e;a<t;a++){var o;r+=(null===(o=i[n[a]])||void 0===o?void 0:o.width)||0}return r}function Wft(n,e,t,i,r,o){let a=e,s=0;for(let l=e;l<t;l++){const c=jft(n,l,l+1,r);s+c>i&&(a<l&&o.push(l),a=l,s=0),s+=c}return s}function $ie(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const a=[];return"break-all"===e?Wft(n,r,o,t,i,a):function Xie(n,e,t,i,r,o){let a=e,s=e,l=e,c=0;for(let u=e;u<t;u++)if((" "===n[u]||" "===n[u+1]||u+1===t)&&(l=u+1),l>s){let d=jft(n,s,l,r);c+d>i&&(a<s&&(o.push(s),a=s,c=0),d>i&&(d=Wft(n,s,l,i,r,o),a=o[o.length-1])),s=l,c+=d}}(n,r,o,t,i,a),a}function qie(n,e,t,i,r,o){let a=0,s=0;for(let l=e;l<t;l++){const c=n[l],u=i[c];u?(s||(s=u.height),r[l]=a+u.width/2,a+=u.width):(Hp.Z.warn("Missing character: ".concat(c," (").concat(c.codePointAt(0),")"))(),r[l]=a,a+=jie)}o[0]=a,o[1]=s}function Zft(n,e,t,i,r){const o=Array.from(n),a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,d=[0,0],h=[0,0];let p=0,g=0,y=0;for(let b=0;b<=a;b++){const w=o[b];if(("\n"===w||b===a)&&(y=b),y>g){const C=u?$ie(o,t,i,r,g,y):Wie;for(let E=0;E<=C.length;E++){const k=0===E?g:C[E-1],j=E<C.length?C[E]:y;qie(o,k,j,r,s,h);for(let H=k;H<j;H++)l[H]=p+h[1]/2,c[H]=h[0];p+=h[1]*e,d[0]=Math.max(d[0],h[0])}g=y}"\n"===w&&(s[g]=0,l[g]=0,c[g]=0,g++)}return d[1]=p,{x:s,y:l,rowWidth:c,size:d}}class Yft{constructor(e=5){(0,To.Z)(this,"limit",void 0),(0,To.Z)(this,"_cache",{}),(0,To.Z)(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const PM={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function Qie(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let uR=new Yft(3);function ere(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function Kft(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class ire{constructor(){(0,To.Z)(this,"props",{...PM}),(0,To.Z)(this,"_key",void 0),(0,To.Z)(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function tre(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=uR.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=uR.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,uR.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:a,buffer:s,sdf:l,radius:c,cutoff:u}=this.props;let d=i&&i.data;d||(d=document.createElement("canvas"),d.width=1024);const h=d.getContext("2d");Kft(h,r,a,o);const{mapping:p,canvasHeight:g,xOffset:y,yOffset:b}=function Yie({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:a=0,yOffset:s=0}){let l=0,c=a;for(const d of n)if(!o[d]){const h=e(d);c+h+2*i>r&&(c=0,l++),o[d]={x:c+i,y:s+l*(t+2*i)+i,width:h,height:t},c+=h+2*i}const u=t+2*i;return{mapping:o,xOffset:c,yOffset:s+l*u,canvasHeight:Zie(s+(l+1)*u)}}({getFontWidth:w=>h.measureText(w).width,fontHeight:1.2*a,buffer:s,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(d.height!==g){const w=h.getImageData(0,0,d.width,d.height);d.height=g,h.putImageData(w,0,0)}if(Kft(h,r,a,o),l){const w=new(Hie())(a,s,c,u,r,o),C=h.getImageData(0,0,w.size,w.size);for(const E of t)ere(w.draw(E),C),h.putImageData(C,p[E].x-s,p[E].y+s)}else for(const w of t)h.fillText(w,p[w].x,p[w].y+.9*a);return{xOffset:y,yOffset:b,mapping:p,data:d,width:d.width,height:d.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:a,cutoff:s}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(a," ").concat(s):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const are={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class H8 extends EM.Z{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[TM.Z,DM.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:a,getLineWidth:s}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:Boolean(s),padding:l,sizeUnits:Sv.iI[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:a}).draw()}_getModel(e){return new jx.Z(e,{...this.getShaders(),id:this.props.id,geometry:new AM.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}(0,To.Z)(H8,"defaultProps",are),(0,To.Z)(H8,"layerName","TextBackgroundLayer");const Qft={start:1,middle:0,end:-1},Jft={top:1,center:0,bottom:-1},j8=[0,0,0,255],lre={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:j8},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:PM.characterSet},fontFamily:PM.fontFamily,fontWeight:PM.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:j8},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:j8},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class W8 extends Nft.Z{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0),(0,To.Z)(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:a,maxWidth:s,lineHeight:l,getTextAnchor:c,getAlignmentBaseline:u}=this.props,d=o(t,i)||"",{size:[h,p]}=Zft(d,l,a,s,r);return[(Qft["function"==typeof c?c(t,i):c]-1)*h/2,(Jft["function"==typeof u?u(t,i):u]-1)*p/2,h,p]}),(0,To.Z)(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:a,maxWidth:s,lineHeight:l,getTextAnchor:c,getAlignmentBaseline:u}=this.props,d=o(t,i)||"",{x:h,y:p,rowWidth:g,size:[y,b]}=Zft(d,l,a,s,r),w=Qft["function"==typeof c?c(t,i):c],C=Jft["function"==typeof u?u(t,i):u],E=h.length,k=new Array(2*E);let j=0;for(let H=0;H<E;H++)k[j++]=(w-1)*y/2+(1-w)*(y-g[H])/2+h[H],k[j++]=(C-1)*b/2+p[H];return k})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new ire}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,a={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(a),!0;for(const s in a)if(a[s]!==r.props[s])return r.setProps(a),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let s,{getText:o}=this.props,a=t.startIndices;const l="auto"===i&&new Set;if(r&&a){const{texts:c,characterCount:u}=function Kie({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const a=n.BYTES_PER_ELEMENT,s=t?t/a:1,l=i?i/a:0,c=r[e]||Math.ceil((n.length-l)/s),u=o&&new Set,d=new Array(e);let h=n;if(s>1||l>0){h=new(0,n.constructor)(c);for(let g=0;g<c;g++)h[g]=n[g*s+l]}for(let p=0;p<e;p++){const b=h.subarray(r[p],r[p+1]||c);d[p]=String.fromCodePoint.apply(null,b),u&&b.forEach(u.add,u)}if(u)for(const p of u)o.add(String.fromCodePoint(p));return{texts:d,characterCount:c}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:a,characterSet:l});s=u,o=(d,{index:h})=>c[h]}else{const{iterable:c,objectInfo:u}=(0,Fft.jB)(t);a=[0],s=0;for(const d of c){u.index++;const h=Array.from(o(d,u)||"");l&&h.forEach(l.add,l),s+=h.length,a.push(s)}}this.setState({getText:o,startIndices:a,numInstances:s,characterSet:l||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:a},styleVersion:s}=this.state,{data:l,_dataDiff:c,getPosition:u,getColor:d,getSize:h,getAngle:p,getPixelOffset:g,getBackgroundColor:y,getBorderColor:b,getBorderWidth:w,backgroundPadding:C,background:E,billboard:k,fontSettings:j,outlineWidth:H,outlineColor:it,sizeScale:yt,sizeUnits:lt,sizeMinPixels:Lt,sizeMaxPixels:kt,transitions:Jt,updateTriggers:ne}=this.props,ce=this.getSubLayerClass("characters",G8),Ee=this.getSubLayerClass("background",H8);return[E&&new Ee({getFillColor:y,getLineColor:b,getLineWidth:w,padding:C,getPosition:u,getSize:h,getAngle:p,getPixelOffset:g,billboard:k,sizeScale:yt/this.state.fontAtlasManager.props.fontSize,sizeUnits:lt,sizeMinPixels:Lt,sizeMaxPixels:kt,transitions:Jt&&{getPosition:Jt.getPosition,getAngle:Jt.getAngle,getSize:Jt.getSize,getFillColor:Jt.getBackgroundColor,getLineColor:Jt.getBorderColor,getLineWidth:Jt.getBorderWidth,getPixelOffset:Jt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:ne.getPosition,getAngle:ne.getAngle,getSize:ne.getSize,getFillColor:ne.getBackgroundColor,getLineColor:ne.getBorderColor,getLineWidth:ne.getBorderWidth,getPixelOffset:ne.getPixelOffset,getBoundingRect:{getText:ne.getText,getTextAnchor:ne.getTextAnchor,getAlignmentBaseline:ne.getAlignmentBaseline,styleVersion:s}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:c,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new ce({sdf:j.sdf,smoothing:Number.isFinite(j.smoothing)?j.smoothing:PM.smoothing,outlineWidth:H,outlineColor:it,iconAtlas:o,iconMapping:a,getPosition:u,getColor:d,getSize:h,getAngle:p,getPixelOffset:g,billboard:k,sizeScale:yt*r,sizeUnits:lt,sizeMinPixels:Lt*r,sizeMaxPixels:kt*r,transitions:Jt&&{getPosition:Jt.getPosition,getAngle:Jt.getAngle,getColor:Jt.getColor,getSize:Jt.getSize,getPixelOffset:Jt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:ne.getText,getPosition:ne.getPosition,getAngle:ne.getAngle,getColor:ne.getColor,getSize:ne.getSize,getPixelOffset:ne.getPixelOffset,getIconOffsets:{getText:ne.getText,getTextAnchor:ne.getTextAnchor,getAlignmentBaseline:ne.getAlignmentBaseline,styleVersion:s}}}),{data:l,_dataDiff:c,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function nre(n){Hp.Z.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),uR=new Yft(n)}(e)}}(0,To.Z)(W8,"defaultProps",lre),(0,To.Z)(W8,"layerName","TextLayer");var tpt=Z(5535);function npt(n,e,t={}){return function cre(n,e={}){return Math.sign(function ure(n,e={}){const{start:t=0,end:i=n.length}=e,r=e.size||2;let o=0;for(let a=t,s=i-r;a<i;a+=r)o+=(n[a]-n[s])*(n[a+1]+n[s+1]),s=a;return o/2}(n,e))}(n,t)!==e&&(function dre(n,e){const{start:t=0,end:i=n.length,size:r=2}=e,o=(i-t)/r,a=Math.floor(o/2);for(let s=0;s<a;++s){const l=t+s*r,c=t+(o-1-s)*r;for(let u=0;u<r;++u){const d=n[l+u];n[l+u]=n[c+u],n[c+u]=d}}}(n,t),!0)}function Zx(n,e,t,i,r=[]){let o,a;if(8&t)o=(i[3]-n[1])/(e[1]-n[1]),a=3;else if(4&t)o=(i[1]-n[1])/(e[1]-n[1]),a=1;else if(2&t)o=(i[2]-n[0])/(e[0]-n[0]),a=2;else{if(!(1&t))return null;o=(i[0]-n[0])/(e[0]-n[0]),a=0}for(let s=0;s<n.length;s++)r[s]=(1&a)===s?i[a]:o*(e[s]-n[s])+n[s];return r}function jp(n,e){let t=0;return n[0]<e[0]?t|=1:n[0]>e[2]&&(t|=2),n[1]<e[1]?t|=4:n[1]>e[3]&&(t|=8),t}function Zf(n,e){const t=e.length,i=n.length;if(i>0){let r=!0;for(let o=0;o<t;o++)if(n[i-t+o]!==e[o]){r=!1;break}if(r)return!1}for(let r=0;r<t;r++)n[i+r]=e[r];return!0}function X8(n,e){const t=e.length;for(let i=0;i<t;i++)n[i]=e[i]}function OM(n,e,t,i,r=[]){const o=i+e*t;for(let a=0;a<t;a++)r[a]=n[o+a];return r}function spt(n,e){const{size:t=2,broken:i=!1,gridResolution:r=10,gridOffset:o=[0,0],startIndex:a=0,endIndex:s=n.length}=e||{},l=(s-a)/t;let c=[];const u=[c],d=OM(n,0,t,a);let h,p;const g=dpt(d,r,o,[]),y=[];Zf(c,d);for(let b=1;b<l;b++){for(h=OM(n,b,t,a,h),p=jp(h,g);p;){Zx(d,h,p,g,y);const w=jp(y,g);w&&(Zx(d,y,w,g,y),p=w),Zf(c,y),X8(d,y),Ire(g,r,p),i&&c.length>t&&(c=[],u.push(c),Zf(c,d)),p=jp(h,g)}Zf(c,h),X8(d,h)}return i?u:u[0]}const lpt=0,Are=1;function pR(n,e){for(let t=0;t<e.length;t++)n.push(e[t]);return n}function cpt(n,e=null,t){if(!n.length)return[];const{size:i=2,gridResolution:r=10,gridOffset:o=[0,0],edgeTypes:a=!1}=t||{},s=[],l=[{pos:n,types:a?new Array(n.length/i).fill(Are):null,holes:e||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:d,types:h,holes:p}=l.shift();Pre(d,i,p[0]||d.length,c),u=dpt(c[0],r,o,u);const g=jp(c[1],u);if(g){let y=upt(d,h,i,0,p[0]||d.length,u,g);const b={pos:y[0].pos,types:y[0].types,holes:[]},w={pos:y[1].pos,types:y[1].types,holes:[]};l.push(b,w);for(let C=0;C<p.length;C++)y=upt(d,h,i,p[C],p[C+1]||d.length,u,g),y[0]&&(b.holes.push(b.pos.length),b.pos=pR(b.pos,y[0].pos),a&&(b.types=pR(b.types,y[0].types))),y[1]&&(w.holes.push(w.pos.length),w.pos=pR(w.pos,y[1].pos),a&&(w.types=pR(w.types,y[1].types)))}else{const y={positions:d};a&&(y.edgeTypes=h),p.length&&(y.holeIndices=p),s.push(y)}}return s}function upt(n,e,t,i,r,o,a){const s=(r-i)/t,l=[],c=[],u=[],d=[],h=[];let p,g,y;const b=OM(n,s-1,t,i);let w=Math.sign(8&a?b[1]-o[3]:b[0]-o[2]),C=e&&e[s-1],E=0,k=0;for(let j=0;j<s;j++)p=OM(n,j,t,i,p),g=Math.sign(8&a?p[1]-o[3]:p[0]-o[2]),y=e&&e[i/t+j],g&&w&&w!==g&&(Zx(b,p,a,o,h),Zf(l,h)&&u.push(C),Zf(c,h)&&d.push(C)),g<=0?(Zf(l,p)&&u.push(y),E-=g):u.length&&(u[u.length-1]=lpt),g>=0?(Zf(c,p)&&d.push(y),k+=g):d.length&&(d[d.length-1]=lpt),X8(b,p),w=g,C=y;return[E?{pos:l,types:e&&u}:null,k?{pos:c,types:e&&d}:null]}function dpt(n,e,t,i){const r=Math.floor((n[0]-t[0])/e)*e+t[0],o=Math.floor((n[1]-t[1])/e)*e+t[1];return i[0]=r,i[1]=o,i[2]=r+e,i[3]=o+e,i}function Ire(n,e,t){8&t?(n[1]+=e,n[3]+=e):4&t?(n[1]-=e,n[3]-=e):2&t?(n[0]+=e,n[2]+=e):1&t&&(n[0]-=e,n[2]-=e)}function Pre(n,e,t,i){let r=1/0,o=-1/0,a=1/0,s=-1/0;for(let l=0;l<t;l+=e){const c=n[l],u=n[l+1];r=c<r?c:r,o=c>o?c:o,a=u<a?u:a,s=u>s?u:s}return i[0][0]=r,i[0][1]=a,i[1][0]=o,i[1][1]=s,i}const kre=85.051129;function Ore(n,e,t,i){let r=-1,o=-1;for(let a=t+1;a<i;a+=e){const s=Math.abs(n[a]);s>r&&(r=s,o=a-1)}return o}function Nre(n,e,t,i,r=kre){const o=n[t],a=n[i-e];if(Math.abs(o-a)>180){const s=OM(n,0,e,t);s[0]+=360*Math.round((a-o)/360),Zf(n,s),s[1]=Math.sign(s[1])*r,Zf(n,s),s[0]=o,Zf(n,s)}}function hpt(n,e,t,i){let o,r=n[0];for(let a=t;a<i;a+=e){o=n[a];const s=o-r;(s>180||s<-180)&&(o-=360*Math.round(s/360)),n[a]=r=o}}function fpt(n,e){let t;const i=n.length/e;for(let o=0;o<i&&(t=n[o*e],(t+180)%360==0);o++);const r=360*-Math.round(t/360);if(0!==r)for(let o=0;o<i;o++)n[o*e]+=r}class zre extends tpt.Z{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?function Fre(n,e,t,i){let r;if(Array.isArray(n[0])){r=new Array(n.length*e);for(let a=0;a<n.length;a++)for(let s=0;s<e;s++)r[a*e+s]=n[a][s]||0}else r=n;return t?spt(r,{size:e,gridResolution:t}):i?function Rre(n,e){const{size:t=2,startIndex:i=0,endIndex:r=n.length,normalize:o=!0}=e||{},a=n.slice(i,r);hpt(a,t,0,r-i);const s=spt(a,{size:t,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of s)fpt(l,t);return s}(r,{size:e}):r}(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(ppt(e)){let i=0;for(const r of e)i+=this.getGeometrySize(r);return i}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&ppt(e))for(const i of e){const r=this.getGeometrySize(i);t.geometrySize=r,this.updateGeometryAttributes(i,t),t.vertexStart+=r}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const i=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),{vertexStart:o,geometrySize:a}=t;i.fill(0,o,o+a),r?(i[o]=4,i[o+a-2]=4):(i[o]+=1,i[o+a-2]+=2),i[o+a-1]=4}_updatePositions(e,t){const{positions:i}=this.attributes;if(!i||!e)return;const{vertexStart:r,geometrySize:o}=t,a=new Array(3);for(let s=r,l=0;l<o;s++,l++)this.getPointOnPath(e,l,a),i[3*s]=a[0],i[3*s+1]=a[1],i[3*s+2]=a[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t,i=[]){const{positionSize:r}=this;t*r>=e.length&&(t+=1-e.length/r);const o=t*r;return i[0]=e[o],i[1]=e[o+1],i[2]=3===r&&e[o+2]||0,i}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,i=e.length-t;return e[0]===e[i]&&e[1]===e[i+1]&&(2===t||e[2]===e[i+2])}}function ppt(n){return Array.isArray(n[0])}const mpt=[0,0,0,255],Hre={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:n=>n.path},getColor:{type:"accessor",value:mpt},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},q8={enter:(n,e)=>e.length?e.subarray(e.length-n.length):n};class K8 extends EM.Z{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[TM.Z,DM.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:q8,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:q8,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:q8,defaultValue:mpt},instancePickingColors:{size:3,type:5121,accessor:(i,{index:r,target:o})=>this.encodePickingColor(i&&i.__source?i.__source.index:r,o)}}),this.setState({pathTesselator:new zre({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:i}=e,r=this.getAttributeManager();if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath)){const{pathTesselator:s}=this.state,l=t.data.attributes||{};s.updateGeometry({data:t.data,geometryBuffer:l.getPath,buffers:l,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:i.dataChanged}),this.setState({numInstances:s.instanceCount,startIndices:s.vertexStarts}),i.dataChanged||r.invalidateAll()}if(i.extensionsChanged){var a;const{gl:s}=this.context;null===(a=this.state.model)||void 0===a||a.delete(),this.state.model=this._getModel(s),r.invalidateAll()}}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find(o=>o.__source.index===i)),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let i=0;i<t.length;i++)t[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:t,capRounded:i,billboard:r,miterLimit:o,widthUnits:a,widthScale:s,widthMinPixels:l,widthMaxPixels:c}=this.props;this.state.model.setUniforms(e).setUniforms({jointType:Number(t),capType:Number(i),billboard:r,widthUnits:Sv.iI[a],widthScale:s,miterLimit:o,widthMinPixels:l,widthMaxPixels:c}).draw()}_getModel(e){return new jx.Z(e,{...this.getShaders(),id:this.props.id,geometry:new AM.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}(0,To.Z)(K8,"defaultProps",Hre),(0,To.Z)(K8,"layerName","PathLayer");var jre=Z(8203),Wre=Z(2378),Zre=Z(7552);const mR=1,gpt=-1,Mv={isClosed:!0};function NM(n){return"positions"in n?n.positions:n}function gR(n){return"holeIndices"in n?n.holeIndices:null}function vpt(n,e,t,i,r){let o=e;const a=t.length;for(let s=0;s<a;s++)for(let l=0;l<i;l++)n[o++]=t[s][l]||0;if(!function qre(n){const e=n[0],t=n[n.length-1];return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}(t))for(let s=0;s<i;s++)n[o++]=t[0][s]||0;return Mv.start=e,Mv.end=o,Mv.size=i,npt(n,r,Mv),o}function _pt(n,e,t,i,r=0,o,a){const s=(o=o||t.length)-r;if(s<=0)return e;let l=e;for(let c=0;c<s;c++)n[l++]=t[r+c];if(!function Kre(n,e,t,i){for(let r=0;r<e;r++)if(n[t+r]!==n[i-e+r])return!1;return!0}(t,i,r,o))for(let c=0;c<i;c++)n[l++]=t[r+c];return Mv.start=e,Mv.end=l,Mv.size=i,npt(n,a,Mv),l}class toe extends tpt.Z{constructor(e){const{fp64:t,IndexType:i=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:t?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:i,size:1}}})}get(e){const{attributes:t}=this;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}updateGeometry(e){super.updateGeometry(e);const t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const t=function Qre(n,e){!function Yre(n){if(n=n&&n.positions||n,!Array.isArray(n)&&!ArrayBuffer.isView(n))throw new Error("invalid polygon")}(n);const t=[],i=[];if("positions"in n){const{positions:r,holeIndices:o}=n;if(o){let a=0;for(let s=0;s<=o.length;s++)a=_pt(t,a,r,e,o[s-1],o[s],0===s?mR:gpt),i.push(a);return i.pop(),{positions:t,holeIndices:i}}n=r}if(!function Xre(n){return Array.isArray(n[0])}(n))return _pt(t,0,n,e,0,t.length,mR),t;if(!function $re(n){return n.length>=1&&n[0].length>=2&&Number.isFinite(n[0][0])}(n)){let r=0;for(const[o,a]of n.entries())r=vpt(t,r,a,e,0===o?mR:gpt),i.push(r);return i.pop(),{positions:t,holeIndices:i}}return vpt(t,0,n,e,mR),t}(e,this.positionSize);return this.opts.resolution?cpt(NM(t),gR(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function Lre(n,e=null,t){const{size:i=2,normalize:r=!0,edgeTypes:o=!1}=t||{};e=e||[];const a=[],s=[];let l=0,c=0;for(let d=0;d<=e.length;d++){const h=e[d]||n.length,p=c,g=Ore(n,i,l,h);for(let y=g;y<h;y++)a[c++]=n[y];for(let y=l;y<g;y++)a[c++]=n[y];hpt(a,i,p,c),Nre(a,i,p,c,t?.maxLatitude),l=h,s[d]=c}s.pop();const u=cpt(a,s,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(r)for(const d of u)fpt(d.positions,i);return u}(NM(t),gR(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}getGeometrySize(e){if(ypt(e)){let t=0;for(const i of e)t+=this.getGeometrySize(i);return t}return NM(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,t){if(e&&ypt(e))for(const i of e){const r=this.getGeometrySize(i);t.geometrySize=r,this.updateGeometryAttributes(i,t),t.vertexStart+=r,t.indexStart=this.indexStarts[t.geometryIndex+1]}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}_updateIndices(e,{geometryIndex:t,vertexStart:i,indexStart:r}){const{attributes:o,indexStarts:a,typedArrayManager:s}=this;let l=o.indices;if(!l||!e)return;let c=r;const u=function Jre(n,e,t){let i=gR(n);i&&(i=i.map(o=>o/e));let r=NM(n);if(t){const o=r.length;r=r.slice();const a=[];for(let s=0;s<o;s+=e){a[0]=r[s],a[1]=r[s+1];const l=t(a);r[s]=l[0],r[s+1]=l[1]}}return pKt()(r,i,e)}(e,this.positionSize,this.opts.preproject);l=s.allocate(l,r+u.length,{copy:!0});for(let d=0;d<u.length;d++)l[c++]=u[d]+i;a[t+1]=r+u.length,o.indices=l}_updatePositions(e,{vertexStart:t,geometrySize:i}){const{attributes:{positions:r},positionSize:o}=this;if(!r||!e)return;const a=NM(e);for(let s=t,l=0;l<i;s++,l++){const u=a[l*o+1],d=o>2?a[l*o+2]:0;r[3*s]=a[l*o],r[3*s+1]=u,r[3*s+2]=d}}_updateVertexValid(e,{vertexStart:t,geometrySize:i}){const{positionSize:r}=this,o=this.attributes.vertexValid,a=e&&gR(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,t):o.fill(1,t,t+i),a)for(let s=0;s<a.length;s++)o[t+a[s]/r-1]=0;o[t+i-1]=0}}function ypt(n){return Array.isArray(n)&&n.length>0&&!Number.isFinite(n[0])}const bpt="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",eoe="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(bpt,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),noe="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(bpt,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),vR=[0,0,0,255],roe={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:n=>n.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:vR},getLineColor:{type:"accessor",value:vR},material:!0},_R={enter:(n,e)=>e.length?e.subarray(e.length-n.length):n};class Q8 extends EM.Z{constructor(...e){super(...e),(0,To.Z)(this,"state",void 0)}getShaders(e){return super.getShaders({vs:"top"===e?eoe:noe,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[TM.Z,jre.N,DM.Z]})}get wrapLongitude(){return!1}initializeState(){const{gl:e,viewport:t}=this.context;let{coordinateSystem:i}=this.props;t.isGeospatial&&i===Sv.Df.DEFAULT&&(i=Sv.Df.LNGLAT),this.setState({numInstances:0,polygonTesselator:new toe({preproject:i===Sv.Df.LNGLAT&&t.projectFlat.bind(t),fp64:this.use64bitPositions(),IndexType:!e||(0,Wre.ag)(e,Zre.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const r=this.getAttributeManager(),o=!0;r.remove(["instancePickingColors"]),r.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:o},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:_R,accessor:"getPolygon",update:this.calculatePositions,noAlloc:o,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:o},elevations:{size:1,transition:_R,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:_R,accessor:"getFillColor",defaultValue:vR,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:_R,accessor:"getLineColor",defaultValue:vR,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(a,{index:s,target:l})=>this.encodePickingColor(a&&a.__source?a.__source.index:s,l),shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find(o=>o.__source.index===i)),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let i=0;i<t.length;i++)t[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw({uniforms:e}){const{extruded:t,filled:i,wireframe:r,elevationScale:o}=this.props,{topModel:a,sideModel:s,polygonTesselator:l}=this.state,c={...e,extruded:Boolean(t),elevationScale:o};s&&(s.setInstanceCount(l.instanceCount-1),s.setUniforms(c),r&&(s.setDrawMode(3),s.setUniforms({isWireframe:!0}).draw()),i&&(s.setDrawMode(6),s.setUniforms({isWireframe:!1}).draw())),a&&(a.setVertexCount(l.vertexCount),a.setUniforms(c).draw())}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager();var s;(r.extensionsChanged||t.filled!==i.filled||t.extruded!==i.extruded)&&(null===(s=this.state.models)||void 0===s||s.forEach(l=>l.delete()),this.setState(this._getModels(this.context.gl)),o.invalidateAll())}updateGeometry({props:e,changeFlags:i}){if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPolygon)){const{polygonTesselator:o}=this.state,a=e.data.attributes||{};o.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:a.getPolygon,buffers:a,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:i.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),i.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(e){const{id:t,filled:i,extruded:r}=this.props;let o,a;if(i){const s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,o=new jx.Z(e,{...s,id:"".concat(t,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return r&&(a=new jx.Z(e,{...this.getShaders("side"),id:"".concat(t,"-side"),geometry:new AM.Z({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),a.userData.excludeAttributes={indices:!0}),{models:[a,o].filter(Boolean),topModel:o,sideModel:a}}calculateIndices(e){const{polygonTesselator:t}=this.state;e.startIndices=t.indexStarts,e.value=t.get("indices")}calculatePositions(e){const{polygonTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}(0,To.Z)(Q8,"defaultProps",roe),(0,To.Z)(Q8,"layerName","SolidPolygonLayer");const yR={circle:{type:U8,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:cR,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:W8,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},bR={type:K8,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},J8={type:Q8,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function FM({type:n,props:e}){const t={};for(const i in e)t[i]=n.defaultProps[e[i]];return t}function t6(n,e){const{transitions:t,updateTriggers:i}=n.props,r={updateTriggers:{},transitions:t&&{getPosition:t.geometry}};for(const o in e){const a=e[o];let s=n.props[o];o.startsWith("get")&&(s=n.getSubLayerAccessor(s),r.updateTriggers[a]=i[o],t&&(r.transitions[a]=t[o])),r[a]=s}return r}function xpt(n,e,t={}){const i={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:r=0,endRow:o=n.length}=t;for(let a=r;a<o;a++){const s=n[a];Hp.Z.assert(s&&s.geometry,"GeoJSON does not have geometry");const{geometry:l}=s;if("GeometryCollection"===l.type){Hp.Z.assert(Array.isArray(l.geometries),"GeoJSON does not have geometries array");const{geometries:c}=l;for(let u=0;u<c.length;u++)wpt(c[u],i,e,s,a)}else wpt(l,i,e,s,a)}return i}function wpt(n,e,t,i,r){const{type:o,coordinates:a}=n,{pointFeatures:s,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=e;if(function soe(n,e){let t=aoe[n];for(Hp.Z.assert(t,"Unknown GeoJSON type ".concat(n));e&&--t>0;)e=e[0];return e&&Number.isFinite(e[0])}(o,a))switch(o){case"Point":s.push(t({geometry:n},i,r));break;case"MultiPoint":a.forEach(d=>{s.push(t({geometry:{type:"Point",coordinates:d}},i,r))});break;case"LineString":l.push(t({geometry:n},i,r));break;case"MultiLineString":a.forEach(d=>{l.push(t({geometry:{type:"LineString",coordinates:d}},i,r))});break;case"Polygon":c.push(t({geometry:n},i,r)),a.forEach(d=>{u.push(t({geometry:{type:"LineString",coordinates:d}},i,r))});break;case"MultiPolygon":a.forEach(d=>{c.push(t({geometry:{type:"Polygon",coordinates:d}},i,r)),d.forEach(h=>{u.push(t({geometry:{type:"LineString",coordinates:h}},i,r))})})}else Hp.Z.warn("".concat(o," coordinates are malformed"))()}const aoe={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function xR(n){return n.geometry.coordinates}const uoe=["points","linestrings","polygons"],doe={...FM(yR.circle),...FM(yR.icon),...FM(yR.text),...FM(bR),...FM(J8),stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:n=>n.properties.icon},getText:{type:"accessor",value:n=>n.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class Qy extends Nft.Z{initializeState(){this.state={layerProps:{},features:{}}}updateState({props:e,changeFlags:t}){if(!t.dataChanged)return;const{data:i}=this.props,r=i&&"points"in i&&"polygons"in i&&"lines"in i;this.setState({binary:r}),r?this._updateStateBinary({props:e,changeFlags:t}):this._updateStateJSON({props:e,changeFlags:t})}_updateStateBinary({props:e}){const i=function coe(n,e){const t={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:i,lines:r,polygons:o}=n,a=function yie(n,e){const t={points:null,lines:null,polygons:null};for(const i in t){const r=n[i].globalFeatureIds.value;t[i]=new Uint8ClampedArray(3*r.length);const o=[];for(let a=0;a<r.length;a++)e(r[a],o),t[i][3*a+0]=o[0],t[i][3*a+1]=o[1],t[i][3*a+2]=o[2]}return t}(n,e);return t.points.data={length:i.positions.value.length/i.positions.size,attributes:{...i.attributes,getPosition:i.positions,instancePickingColors:{size:3,value:a.points}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},t.lines.data={length:r.pathIndices.value.length-1,startIndices:r.pathIndices.value,attributes:{...r.attributes,getPath:r.positions,instancePickingColors:{size:3,value:a.lines}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},t.lines._pathType="open",t.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},t.polygons._normalize=!1,o.triangles&&(t.polygons.data.attributes.indices=o.triangles.value),t.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},t.polygonsOutline._pathType="open",t}(e.data,this.encodePickingColor);this.setState({layerProps:i})}_updateStateJSON({props:e,changeFlags:t}){const i=function ooe(n){if(Array.isArray(n))return n;switch(Hp.Z.assert(n.type,"GeoJSON does not have type"),n.type){case"Feature":return[n];case"FeatureCollection":return Hp.Z.assert(Array.isArray(n.features),"GeoJSON does not have features array"),n.features;default:return[{geometry:n}]}}(e.data),r=this.getSubLayerRow.bind(this);let o={};const a={};if(Array.isArray(t.dataChanged)){const l=this.state.features;for(const c in l)o[c]=l[c].slice(),a[c]=[];for(const c of t.dataChanged){const u=xpt(i,r,c);for(const d in l)a[d].push(gie({data:o[d],getIndex:h=>h.__source.index,dataRange:c,replace:u[d]}))}}else o=xpt(i,r);const s=function loe(n,e){const t={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:i,lineFeatures:r,polygonFeatures:o,polygonOutlineFeatures:a}=n;return t.points.data=i,t.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),t.points.getPosition=xR,t.lines.data=r,t.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),t.lines.getPath=xR,t.polygons.data=o,t.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),t.polygons.getPolygon=xR,t.polygonsOutline.data=a,t.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),t.polygonsOutline.getPath=xR,t}(o,a);this.setState({features:o,featuresDiff:a,layerProps:s})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i,sourceLayer:r}=t;return t.featureType=uoe.find(o=>r.id.startsWith("".concat(this.id,"-").concat(o,"-"))),i>=0&&r.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(t.index=this.props.data.points.globalFeatureIds.value[i]),t}_updateAutoHighlight(e){const t="".concat(this.id,"-points-"),i="points"===e.featureType;for(const r of this.getSubLayers())r.id.startsWith(t)===i&&r.updateAutoHighlight(e)}_renderPolygonLayer(){const{extruded:e,wireframe:t}=this.props,{layerProps:i}=this.state,r="polygons-fill",o=this.shouldRenderSubLayer(r,i.polygons.data)&&this.getSubLayerClass(r,J8.type);if(o){const a=t6(this,J8.props),s=e&&t;return s||delete a.getLineColor,a.updateTriggers.lineColors=s,new o(a,this.getSubLayerProps({id:r,updateTriggers:a.updateTriggers}),i.polygons)}return null}_renderLineLayers(){const{extruded:e,stroked:t}=this.props,{layerProps:i}=this.state,r="polygons-stroke",o="linestrings",a=!e&&t&&this.shouldRenderSubLayer(r,i.polygonsOutline.data)&&this.getSubLayerClass(r,bR.type),s=this.shouldRenderSubLayer(o,i.lines.data)&&this.getSubLayerClass(o,bR.type);if(a||s){const l=t6(this,bR.props);return[a&&new a(l,this.getSubLayerProps({id:r,updateTriggers:l.updateTriggers}),i.polygonsOutline),s&&new s(l,this.getSubLayerProps({id:o,updateTriggers:l.updateTriggers}),i.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:t,binary:i}=this.state;let{highlightedObjectIndex:r}=this.props;!i&&Number.isFinite(r)&&(r=t.points.data.findIndex(s=>s.__source.index===r));const o=new Set(e.split("+")),a=[];for(const s of o){const l="points-".concat(s),c=yR[s],u=c&&this.shouldRenderSubLayer(l,t.points.data)&&this.getSubLayerClass(l,c.type);if(u){const d=t6(this,c.props);let h=t.points;if("text"===s&&i){const{instancePickingColors:p,...g}=h.data.attributes;h={...h,data:{...h.data,attributes:g}}}a.push(new u(d,this.getSubLayerProps({id:l,updateTriggers:d.updateTriggers,highlightedObjectIndex:r}),h))}}return a}renderLayers(){const{extruded:e}=this.props,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}getSubLayerAccessor(e){const{binary:t}=this.state;return t&&"function"==typeof e?(i,r)=>{const{data:o,index:a}=r,s=function vie(n,e){if(!n)return null;const t="startIndices"in n?n.startIndices[e]:e;return-1!==t?function _ie(n,e,t){const i={properties:{...n.properties[e]}};for(const r in n.numericProps)i.properties[r]=n.numericProps[r].value[t];return i}(n,n.featureIds.value[t],t):null}(o,a);return e(s,r)}:super.getSubLayerAccessor(e)}}(0,To.Z)(Qy,"layerName","GeoJsonLayer"),(0,To.Z)(Qy,"defaultProps",doe);var wR=Z(3074);const hoe=["https://tile.openstreetmap.org/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-lite,$fff[difference],$fff[@23],$fff[hsl-saturation@20])/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-background,$fff[difference],$fff[@23],$fff[hsl-saturation@20],toner-lines[destination-in])/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-lite,$fff[hsl-saturation@20],mapbox-water[destination-out])[overlay]/{z}/{x}/{y}.png","https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg","https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"],e6=[[[0,50],[10,50],[10,60],[0,60],[0,50]]];class foe extends wt{constructor(e=1/0,t=1/0,i=TN){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;t||(i.push(e),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!e.closed;a+=i?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=t.now();let s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}}function Cpt(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,sn({connector:()=>new foe(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class poe{}class BM{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new wt,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let n6=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),moe=0;const r6=new hn("CdkAccordion");let goe=(()=>{class n{constructor(){this._stateChanges=new wt,this._openCloseAllActions=new wt,this.id="cdk-accordion-"+moe++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=rr(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Ai([{provide:r6,useExisting:n}]),ve]}),n})(),voe=0,_oe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=rr(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=V.EMPTY,this.closed=new _r,this.opened=new _r,this.destroyed=new _r,this.expandedChange=new _r,this.id="cdk-accordion-child-"+voe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(ee(r6,12),ee(Gs),ee(n6))},n.\u0275dir=Cn({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ai([{provide:r6,useValue:void 0}])]}),n})(),yoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();const boe=["body"];function xoe(n,e){}const woe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Soe=["mat-expansion-panel-header","*","mat-action-row"];function Coe(n,e){1&n&&kr(0,"span",2),2&n&&Mi("@indicatorRotate",qs()._getExpandedState())}const Moe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Eoe=["mat-panel-title","mat-panel-description","*"],o6=new hn("MAT_ACCORDION"),Tpt="225ms cubic-bezier(0.4,0.0,0.2,1)",Dpt={indicatorRotate:cc("indicatorRotate",[la("collapsed, void",tr({transform:"rotate(0deg)"})),la("expanded",tr({transform:"rotate(180deg)"})),Wa("expanded <=> collapsed, void => collapsed",Qa(Tpt))]),bodyExpansion:cc("bodyExpansion",[la("collapsed, void",tr({height:"0px",visibility:"hidden"})),la("expanded",tr({height:"*",visibility:"visible"})),Wa("expanded <=> collapsed, void => collapsed",Qa(Tpt))])},Apt=new hn("MAT_EXPANSION_PANEL");let Toe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(ee(Ic),ee(Apt,8))},n.\u0275dir=Cn({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Doe=0;const Ipt=new hn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ppt=(()=>{class n extends _oe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=rr(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,a,s,l){super(t,i,r),this._viewContainerRef=o,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new _r,this.afterCollapse=new _r,this._inputChanges=new wt,this._headerId="mat-expansion-panel-header-"+Doe++,this._bodyAnimationDone=new wt,this.accordion=t,this._document=a,this._bodyAnimationDone.pipe(vm((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Bu(null),go(()=>this.expanded&&!this._portal),Ks(1)).subscribe(()=>{this._portal=new N1(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(ee(o6,12),ee(Gs),ee(n6),ee(yc),ee(io),ee($c,8),ee(Ipt,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,Toe,5),2&t){let o;Fi(o=Bi())&&(i._lazyContent=o.first)}},viewQuery:function(t,i){if(1&t&&fs(boe,5),2&t){let r;Fi(r=Bi())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&no("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ai([{provide:o6,useValue:void 0},{provide:Apt,useExisting:n}]),ti,ve],ngContentSelectors:Soe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(qa(woe),qi(0),Rn(1,"div",0,1),gr("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),Rn(3,"div",2),qi(4,1),co(5,xoe,0,0,"ng-template",3),Gn(),qi(6,2),Gn()),2&t&&(bi(1),Mi("@bodyExpansion",i._getExpandedState())("id",i.id),Mr("aria-labelledby",i._headerId),bi(4),Mi("cdkPortalOutlet",i._portal))},dependencies:[PD],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Dpt.bodyExpansion]},changeDetection:0}),n})();class Aoe{}const Ioe=kg(Aoe);let kpt=(()=>{class n extends Ioe{constructor(t,i,r,o,a,s,l){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=s,this._parentChangeSubscription=V.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(go(u=>!(!u.hideToggle&&!u.togglePosition))):ho;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=qe(t.opened,t.closed,c,t._inputChanges.pipe(go(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(go(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ud(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ppt,1),ee(Ni),ee(hh),ee(Gs),ee(Ipt,8),ee($c,8),Yc("tabindex"))},n.\u0275cmp=Pi({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&gr("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&t&&(Mr("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Vd("height",i._getHeaderHeight()),no("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[ti],ngContentSelectors:Eoe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(qa(Moe),Rn(0,"span",0),qi(1),qi(2,1),qi(3,2),Gn(),co(4,Coe,1,1,"span",1)),2&t&&(no("mat-content-hide-toggle",!i._showToggle()),bi(4),Mi("ngIf",i._showToggle()))},dependencies:[Tf],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Dpt.indicatorRotate]},changeDetection:0}),n})(),Poe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),koe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Rpt=(()=>{class n extends goe{constructor(){super(...arguments),this._ownHeaders=new um,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=rr(t)}ngAfterContentInit(){this._headers.changes.pipe(Bu(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new SD(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,kpt,5),2&t){let o;Fi(o=Bi())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&no("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ai([{provide:o6,useExisting:n}]),ti]}),n})(),Lpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[lc,yr,yoe,ym]}),n})();var Wp=Z(5861);class Roe{constructor(e,t){this.addreses=e,this.map=t,this.LayersFloor=[],this.Draw()}DestroyClusters(){this.LayersFloor.length>0&&this.LayersFloor.forEach(e=>{this.map.removeLayer(e)}),this.LayersFloor=[]}Draw(){this.DestroyClusters();let t=new _o.MarkerClusterGroup;t=_o.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(r){for(var o=r.getAllChildMarkers(),a=0,l=0;l<o.length;l++)o[l].feature?.properties.FLOOR_SPACE_M2&&(a+=o[l].feature?.properties.FLOOR_SPACE_M2??0);return a=Math.round(a),_o.divIcon({html:`\n            <div class="leaflet-marker-icon marker-cluster ${" FLOOR_SPACE_M2 marker-cluster-"+(a>4e3?"large":a<500?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n            tabindex="0"  z-index: 247; opacity: 1;">\n            <div><span title='sum of FLOOR_SPACE_M2:${a}'>${a}</span></div></div>`,className:"mycluster_FLOOR_SPACE_M2",iconSize:_o.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}),function(){var r=(0,Wp.Z)(function*(o){o.features.forEach(a=>{let s=new _o.LatLng(a.geometry.coordinates[1],a.geometry.coordinates[0]),l={icon:new _o.DivIcon({html:`<div class='FLOOR_SPACE_M2_Marker'>${(a.properties.FLOOR_SPACE_M2??0).toFixed(0)}<div/>`})},c=new _o.Marker(s,l);c.feature=a,t.addLayer(c)})});return function(a){return r.apply(this,arguments)}}()(this.addreses),this.map.addLayer(t),this.LayersFloor.push(t)}}class Loe{constructor(e,t){this.addreses=e,this.map=t,this.LayersCluster=[],this.Draw()}DestroyClusters(){this.LayersCluster.length>0&&this.LayersCluster.forEach(e=>{this.map.removeLayer(e)}),this.LayersCluster=[]}Draw(){this.DestroyClusters();let t=new _o.MarkerClusterGroup;t=_o.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(r){for(var o=r.getAllChildMarkers(),a=0,l=0;l<o.length;l++)o[l].feature?.properties.INHABITANTS&&(a+=o[l].feature?.properties.INHABITANTS??0);return a=Math.round(a),_o.divIcon({html:`\n        <div class="leaflet-marker-icon marker-cluster ${" INHABITANTS marker-cluster-"+(a>1e3?"large":a<100?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n        tabindex="0"  z-index: 247; opacity: 1;">\n        <div><span title='sum of population:${a}'>${a}</span></div></div>`,className:"mycluster_INHABITANTS",iconSize:_o.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}),function(){var r=(0,Wp.Z)(function*(o){o.features.forEach(a=>{let s=new _o.LatLng(a.geometry.coordinates[1],a.geometry.coordinates[0]),l={icon:new _o.DivIcon({html:`<div class="INHABITANTS_Marker">${(a.properties.INHABITANTS??0).toFixed(2)}<div/>`})},c=new _o.Marker(s,l);c.feature=a,t.addLayer(c)})});return function(a){return r.apply(this,arguments)}}()(this.addreses),this.map.addLayer(t),this.LayersCluster.push(t)}}class Ooe{constructor(e){this.map=e,this.Layers=[]}Clear(){this.Layers.length>0&&this.Layers.forEach(e=>{this.map.removeLayer(e)}),this.Layers=[]}Draw(e){if(!e)return;this.Clear();let t=new Qy({id:"layer_"+Ya.Buildings,data:e,stroked:!0,filled:!0,lineWidthMinPixels:2,opacity:.15,getLineColor:s=>MM(0,50),getFillColor:s=>s.properties.COLOR?Sft(s.properties.COLOR):MM()});const a=new wR.LeafletLayer({views:[new lR.Z({repeat:!0})],layers:[t]});this.map.addLayer(a),this.Layers.push(a)}}const Noe=["determinateSpinner"];function Foe(n,e){if(1&n&&(mf(),Rn(0,"svg",11),kr(1,"circle",12),Gn()),2&n){const t=qs();Mr("viewBox",t._viewBox()),bi(1),Vd("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Mr("r",t._circleRadius())}}const Boe=f_(class{constructor(n){this._elementRef=n}},"primary"),Voe=new hn("mat-progress-spinner-default-options",{providedIn:"root",factory:function zoe(){return{diameter:Opt}}}),Opt=100;let Goe=(()=>{class n extends Boe{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=Opt,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ol(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ol(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=Ol(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee($c,8),ee(Voe))},n.\u0275cmp=Pi({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&fs(Noe,5),2&t){let r;Fi(r=Bi())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,i){2&t&&(Mr("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),Vd("width",i.diameter,"px")("height",i.diameter,"px"),no("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[ti],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(co(0,Foe,2,8,"ng-template",null,0,j0),Rn(2,"div",1,2),mf(),Rn(4,"svg",3),kr(5,"circle",4),Gn()(),gd(),Rn(6,"div",5)(7,"div",6)(8,"div",7),rd(9,8),Gn(),Rn(10,"div",9),rd(11,8),Gn(),Rn(12,"div",10),rd(13,8),Gn()()()),2&t){const r=id(1);bi(4),Mr("viewBox",i._viewBox()),bi(1),Vd("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),Mr("r",i._circleRadius()),bi(4),Mi("ngTemplateOutlet",r),bi(2),Mi("ngTemplateOutlet",r),bi(2),Mi("ngTemplateOutlet",r)}},dependencies:[NO],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Npt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[lc,yr]}),n})(),Fpt=(()=>{class n{constructor(t){this.overlay=t,this.spinnerTopRef=this.cdkSpinnerCreate(),this.spin$=new wt,this.spin$.asObservable().pipe(vt(i=>i?1:-1),UT((i,r)=>i+r>=0?i+r:0,0)).subscribe(i=>{1===i?this.showSpinner():0==i&&this.spinnerTopRef.hasAttached()&&this.stopSpinner()})}cdkSpinnerCreate(){return this.overlay.create({hasBackdrop:!0,backdropClass:"dark-backdrop",positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()})}showSpinner(){console.log("attach");let t=this.spinnerTopRef.attach(new ID(Goe));t.setInput("mode","indeterminate"),t.setInput("color","warn")}stopSpinner(){console.log("dispose"),this.spinnerTopRef.detach()}}return n.\u0275fac=function(t){return new(t||n)(on(Hd))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CR=["*"],Hoe=["content"];function joe(n,e){if(1&n){const t=xg();Rn(0,"div",2),gr("click",function(){return Fd(t),Bd(qs()._onBackdropClicked())}),Gn()}2&n&&no("mat-drawer-shown",qs()._isShowingBackdrop())}function Woe(n,e){1&n&&(Rn(0,"mat-drawer-content"),qi(1,2),Gn())}const Zoe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Yoe=["mat-drawer","mat-drawer-content","*"];function Xoe(n,e){if(1&n){const t=xg();Rn(0,"div",2),gr("click",function(){return Fd(t),Bd(qs()._onBackdropClicked())}),Gn()}2&n&&no("mat-drawer-shown",qs()._isShowingBackdrop())}function $oe(n,e){1&n&&(Rn(0,"mat-sidenav-content"),qi(1,2),Gn())}const qoe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Koe=["mat-sidenav","mat-sidenav-content","*"],Bpt={transformDrawer:cc("transform",[la("open, open-instant",tr({transform:"none",visibility:"visible"})),la("void",tr({"box-shadow":"none",visibility:"hidden"})),Wa("void => open-instant",Qa("0ms")),Wa("void <=> open, open-instant => void",Qa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Joe=new hn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function tae(){return!1}}),a6=new hn("MAT_DRAWER_CONTAINER");let zM=(()=>{class n extends m_{constructor(t,i,r,o,a){super(r,o,a),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(ee(Gs),ee(pr(()=>l6)),ee(Ni),ee(gb),ee(vr))},n.\u0275cmp=Pi({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&Vd("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ai([{provide:m_,useExisting:n}]),ti],ngContentSelectors:CR,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},encapsulation:2,changeDetection:0}),n})(),s6=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=rr(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=rr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(rr(t))}constructor(t,i,r,o,a,s,l,c){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=s,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new wt,this._animationEnd=new wt,this._animationState="void",this.openedChange=new _r(!0),this._openedStream=this.openedChange.pipe(go(u=>u),vt(()=>{})),this.openedStart=this._animationStarted.pipe(go(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),GT(void 0)),this._closedStream=this.openedChange.pipe(go(u=>!u),vt(()=>{})),this.closedStart=this._animationStarted.pipe(go(u=>u.fromState!==u.toState&&"void"===u.toState),GT(void 0)),this._destroyed=new wt,this.onPositionChanged=new _r,this._modeChanged=new wt,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Rg(this._elementRef.nativeElement,"keydown").pipe(go(u=>27===u.keyCode&&!this.disableClose&&!Ud(u)),ja(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(vm((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ks(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(CD),ee(hh),ee(Lc),ee(vr),ee(k1),ee(io,8),ee(a6,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&fs(Hoe,5),2&t){let r;Fi(r=Bi())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&L2("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&t&&(Mr("align",null),z2("@transform",i._animationState),no("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:CR,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(qa(),Rn(0,"div",0,1),qi(2),Gn())},dependencies:[m_],encapsulation:2,data:{animation:[Bpt.transformDrawer]},changeDetection:0}),n})(),l6=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=rr(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:rr(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,a,s=!1,l){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new um,this.backdropClick=new _r,this._destroyed=new wt,this._doCheckSubject=new wt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new wt,t&&t.change.pipe(ja(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(ja(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(Bu(this._allDrawers),ja(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Bu(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(yu(10),ja(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(go(i=>i.fromState!==i.toState),ja(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ja(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(ja(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ks(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ja(qe(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(ee(Gd,8),ee(Ni),ee(vr),ee(Gs),ee(vb),ee(Joe),ee($c,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,zM,5),Uo(r,s6,5)),2&t){let o;Fi(o=Bi())&&(i._content=o.first),Fi(o=Bi())&&(i._allDrawers=o)}},viewQuery:function(t,i){if(1&t&&fs(zM,5),2&t){let r;Fi(r=Bi())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&no("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ai([{provide:a6,useExisting:n}])],ngContentSelectors:Yoe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(qa(Zoe),co(0,joe,1,2,"div",0),qi(1),qi(2,1),co(3,Woe,2,0,"mat-drawer-content",1)),2&t&&(Mi("ngIf",i.hasBackdrop),bi(3),Mi("ngIf",!i._content))},dependencies:[Tf,zM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),c6=(()=>{class n extends zM{constructor(t,i,r,o,a){super(t,i,r,o,a)}}return n.\u0275fac=function(t){return new(t||n)(ee(Gs),ee(pr(()=>zpt)),ee(Ni),ee(gb),ee(vr))},n.\u0275cmp=Pi({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&Vd("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ai([{provide:m_,useExisting:n}]),ti],ngContentSelectors:CR,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},encapsulation:2,changeDetection:0}),n})(),Vpt=(()=>{class n extends s6{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=rr(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ol(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ol(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275cmp=Pi({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(Mr("align",null),Vd("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),no("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ti],ngContentSelectors:CR,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(qa(),Rn(0,"div",0,1),qi(2),Gn())},dependencies:[m_],encapsulation:2,data:{animation:[Bpt.transformDrawer]},changeDetection:0}),n})(),zpt=(()=>{class n extends l6{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275cmp=Pi({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,c6,5),Uo(r,Vpt,5)),2&t){let o;Fi(o=Bi())&&(i._content=o.first),Fi(o=Bi())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&no("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ai([{provide:a6,useExisting:n}]),ti],ngContentSelectors:Koe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(qa(qoe),co(0,Xoe,1,2,"div",0),qi(1),qi(2,1),co(3,$oe,2,0,"mat-sidenav-content",1)),2&t&&(Mi("ngIf",i.hasBackdrop),bi(3),Mi("ngIf",!i._content))},dependencies:[Tf,c6],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Upt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[lc,yr,xm,xm,yr]}),n})();class eae{constructor(){this.expansionModel=new BM(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}class nae extends eae{constructor(e,t,i){super(),this.getLevel=e,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const i=[];for(let r=this.dataNodes.indexOf(e)+1;r<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[r]);r++)i.push(this.dataNodes[r]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const MR=new hn("CDK_TREE_NODE_OUTLET_NODE");let UM=(()=>{class n{constructor(t,i){this.viewContainer=t,this._node=i}}return n.\u0275fac=function(t){return new(t||n)(ee(yc),ee(MR,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeOutlet",""]]}),n})();class iae{constructor(e){this.$implicit=e}}let ER=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ee(Ic))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),n})(),og=(()=>{class n{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,i){this._differs=t,this._changeDetectorRef=i,this._onDestroy=new wt,this._levels=new Map,this.viewChange=new Rc({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(i=>!i.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;!function SR(n){return n&&"function"==typeof n.connect&&!(n instanceof QO)}(this._dataSource)?function u6(n){return!!n&&(n instanceof Pe||st(n.lift)&&st(n.subscribe))}(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=nr(this._dataSource)):t=this._dataSource.connect(this),t&&(this._dataSubscription=t.pipe(ja(this._onDestroy)).subscribe(i=>this.renderNodeChanges(i)))}renderNodeChanges(t,i=this._dataDiffer,r=this._nodeOutlet.viewContainer,o){const a=i.diff(t);a&&(a.forEachOperation((s,l,c)=>{if(null==s.previousIndex)this.insertNode(t[c],c,r,o);else if(null==c)r.remove(l),this._levels.delete(s.item);else{const u=r.get(l);r.move(u,c)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(o=>o.when&&o.when(i,t))||this._defaultNodeDef}insertNode(t,i,r,o){const a=this._getNodeDef(t,i),s=new iae(t);s.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof o<"u"&&this._levels.has(o)?this._levels.get(o)+1:0,this._levels.set(t,s.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,s,i),Zp.mostRecentTreeNode&&(Zp.mostRecentTreeNode.data=t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Oh),ee(Gs))},n.\u0275cmp=Pi({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,ER,5),2&t){let o;Fi(o=Bi())&&(i._nodeDefs=o)}},viewQuery:function(t,i){if(1&t&&fs(UM,7),2&t){let r;Fi(r=Bi())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){1&t&&rd(0,0)},dependencies:[UM],encapsulation:2}),n})(),Zp=(()=>{class n{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,i){this._elementRef=t,this._tree=i,this._destroyed=new wt,this._dataChanges=new wt,n.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function rae(n){let e=n.parentElement;for(;e&&!oae(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?Ol(e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return n.mostRecentTreeNode=null,n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(og))},n.\u0275dir=Cn({type:n,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(t,i){2&t&&Mr("aria-expanded",i.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),n})();function oae(n){const e=n.classList;return!(!e?.contains("cdk-nested-tree-node")&&!e?.contains("cdk-tree"))}const aae=/([A-Za-z%]+)$/;let h6=(()=>{class n{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,i,r,o){this._treeNode=t,this._tree=i,this._element=r,this._dir=o,this._destroyed=new wt,this.indentUnits="px",this._indent=40,this._setPadding(),o&&o.change.pipe(ja(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,i=null==this._level?t:this._level;return"number"==typeof i?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const i=this._paddingIndent();if(i!==this._currentPadding||t){const r=this._element.nativeElement,o=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",a="paddingLeft"===o?"paddingRight":"paddingLeft";r.style[o]=i||"",r.style[a]="",this._currentPadding=i}}_setLevelInput(t){this._level=Ol(t,null),this._setPadding()}_setIndentInput(t){let i=t,r="px";if("string"==typeof t){const o=t.split(aae);i=o[0],r=o[1]||r}this.indentUnits=r,this._indent=Ol(i),this._setPadding()}}return n.\u0275fac=function(t){return new(t||n)(ee(Zp),ee(og),ee(Ni),ee(Gd,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),n})(),f6=(()=>{class n{get recursive(){return this._recursive}set recursive(t){this._recursive=rr(t)}constructor(t,i){this._tree=t,this._treeNode=i,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ee(og),ee(Zp))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,i){1&t&&gr("click",function(o){return i._toggle(o)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),n})(),sae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})();const lae=kg(hb(Zp));let Gpt=(()=>{class n extends lae{constructor(t,i,r){super(t,i),this.tabIndex=Number(r)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(og),Yc("tabindex"))},n.\u0275dir=Cn({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[Ai([{provide:Zp,useExisting:n}]),ti]}),n})(),Hpt=(()=>{class n extends ER{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Ai([{provide:ER,useExisting:n}]),ti]}),n})(),jpt=(()=>{class n extends h6{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[Ai([{provide:h6,useExisting:n}]),ti]}),n})(),p6=(()=>{class n{constructor(t,i){this.viewContainer=t,this._node=i}}return n.\u0275fac=function(t){return new(t||n)(ee(yc),ee(MR,8))},n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[Ai([{provide:UM,useExisting:n}])]}),n})(),Wpt=(()=>{class n extends og{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275cmp=Pi({type:n,selectors:[["mat-tree"]],viewQuery:function(t,i){if(1&t&&fs(p6,7),2&t){let r;Fi(r=Bi())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Ai([{provide:og,useExisting:n}]),ti],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){1&t&&rd(0,0)},dependencies:[p6],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),n})(),Zpt=(()=>{class n extends f6{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Ai([{provide:f6,useExisting:n}]),ti]}),n})(),Ypt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[sae,yr,yr]}),n})();class uae{constructor(e,t,i,r){this.transformFunction=e,this.getLevel=t,this.isExpandable=i,this.getChildren=r}_flattenNode(e,t,i,r){const o=this.transformFunction(e,t);if(i.push(o),this.isExpandable(o)){const a=this.getChildren(e);a&&(Array.isArray(a)?this._flattenChildren(a,t,i,r):a.pipe(Ks(1)).subscribe(s=>{this._flattenChildren(s,t,i,r)}))}return i}_flattenChildren(e,t,i,r){e.forEach((o,a)=>{let s=r.slice();s.push(a!=e.length-1),this._flattenNode(o,t+1,i,s)})}flattenNodes(e){let t=[];return e.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(e,t){let i=[],r=[];return r[0]=!0,e.forEach(o=>{let a=!0;for(let s=0;s<=this.getLevel(o);s++)a=a&&r[s];a&&i.push(o),this.isExpandable(o)&&(r[this.getLevel(o)+1]=t.isExpanded(o))}),i}}class dae extends poe{get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(e,t,i){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new Rc([]),this._expandedData=new Rc([]),this._data=new Rc([]),i&&(this.data=i)}connect(e){return qe(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(vt(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}const Xpt=$lt({source:"Map API",events:{"Retrieved Geojson Data":{_as:"props",_p:void 0}}}),TR=$lt({source:"Map Setting Actions",events:{"set Filter MultiPolygon":{_as:"props",_p:void 0},"toggle Clustesrs ":{_as:"props",_p:void 0}}}),ou=new hn("NgValueAccessor"),Xx=new hn("CallSetDisabledState",{providedIn:"root",factory:()=>RR}),RR="always";let Nmt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),hse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[Nmt]}),n})(),pse=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xx,useValue:t.callSetDisabledState??RR}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[hse]}),n})();const mse=["input"],gse=["label"],vse=["*"],_se=new hn("mat-checkbox-default-options",{providedIn:"root",factory:Jmt});function Jmt(){return{color:"accent",clickAction:"check-indeterminate"}}const yse={provide:ou,useExisting:pr(()=>L6),multi:!0};class bse{}let xse=0;const tgt=Jmt(),wse=kg(f_(p_(hb(class{constructor(n){this._elementRef=n}}))));let Sse=(()=>{class n extends wse{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=rr(t)}constructor(t,i,r,o,a,s,l){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=s,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new _r,this.indeterminateChange=new _r,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tgt,this.color=this.defaultColor=this._options.color||tgt.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${t}${++xse}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=rr(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=rr(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=rr(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){_g()},n.\u0275dir=Cn({type:n,viewQuery:function(t,i){if(1&t&&(fs(mse,5),fs(gse,5),fs(fh,5)),2&t){let r;Fi(r=Bi())&&(i._inputElement=r.first),Fi(r=Bi())&&(i._labelElement=r.first),Fi(r=Bi())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[ti]}),n})(),L6=(()=>{class n extends Sse{constructor(t,i,r,o,a,s){super("mat-mdc-checkbox-",t,i,r,o,a,s),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new bse;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Gs),ee(vr),Yc("tabindex"),ee($c,8),ee(_se,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&(Lh("id",i.id),Mr("tabindex",null)("aria-label",null)("aria-labelledby",null),no("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Ai([yse]),ti],ngContentSelectors:vse,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(t,i){if(1&t&&(qa(),Rn(0,"div",0),gr("click",function(o){return i._preventBubblingFromLabel(o)}),Rn(1,"div",1,2)(3,"div",3),gr("click",function(){return i._onTouchTargetClick()}),Gn(),Rn(4,"input",4,5),gr("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(o){return i._onInteractionEvent(o)}),Gn(),kr(6,"div",6),Rn(7,"div",7),mf(),Rn(8,"svg",8),kr(9,"path",9),Gn(),gd(),kr(10,"div",10),Gn(),kr(11,"div",11),Gn(),Rn(12,"label",12,13),qi(14),Gn()()),2&t){const r=id(2);no("mdc-form-field--align-end","before"==i.labelPosition),bi(4),no("mdc-checkbox--selected",i.checked),Mi("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),Mr("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),bi(7),Mi("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),bi(1),Mi("for",i.inputId)}},dependencies:[fh],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),egt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,Vh,egt,yr,egt]}),n})();function Ese(n,e){if(1&n){const t=xg();Rn(0,"mat-tree-node",4),kr(1,"button",5),Rn(2,"mat-checkbox",6),gr("change",function(){const o=Fd(t).$implicit;return Bd(qs().todoLeafItemSelectionToggle(o))}),ao(3),Gn()()}if(2&n){const t=e.$implicit,i=qs();bi(2),Mi("checked",i.checklistSelection.isSelected(t)),bi(1),z0(t.item)}}function Tse(n,e){if(1&n){const t=xg();Rn(0,"mat-tree-node",7)(1,"button",8)(2,"mat-icon",9),ao(3),Gn()(),Rn(4,"mat-checkbox",10),gr("change",function(){const o=Fd(t).$implicit;return Bd(qs().todoItemSelectionToggle(o))}),ao(5),Gn()()}if(2&n){const t=e.$implicit,i=qs();bi(1),Mr("aria-label","Toggle "+t.item),bi(2),op(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),bi(1),Mi("checked",i.descendantsAllSelected(t))("indeterminate",i.descendantsPartiallySelected(t)),bi(1),z0(t.item)}}class ngt{constructor(){this.ZoneId=-1}}class Dse{}class Ase{get data(){return this.dataChange.value}constructor(e){this.dataChange=new Rc([]);let t=new ngt;t.item="ROOT",t.feature=Xo(e6),t.children=this.buildTree(e,0,t.ZoneId),this.dataChange.next([t])}buildTree(e,t,i){return e.map(o=>{let a=new ngt;return a.ZoneId=o.properties.ID,a.item=o.properties.NAME+"( "+o.properties.area+" )",a.feature=o,a})}}let Ise=(()=>{class n{ngOnInit(){this.Neighborhoods$.subscribe(t=>{t?.features&&(this._database=new Ase(t.features)),this.dataSource.data=this._database.data}),this.checklistSelection.changed.pipe(yu(1e3)).subscribe(t=>{console.log(this.checklistSelection.selected);let r=this.checklistSelection.selected.map(a=>a.feature).sort((a,s)=>s.properties.area-a.properties.area).map(a=>"MultiPolygon"==a.geometry.type?a.geometry:dd([a.geometry.coordinates]).geometry),o=0==r.length?dd([e6]).geometry:r[0];o=JSON.parse(JSON.stringify(o)),r.length>=2&&r.forEach(a=>{o.coordinates.push(a.coordinates[0])}),this.store.dispatch(TR.setFilterMultipolygon({multipolygon:o}))})}constructor(t){this.store=t,this.Neighborhoods$=this.store.select(sie).pipe(go(i=>!!i)),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new BM(!0),this.getLevel=i=>i.level,this.isExpandable=i=>i.expandable,this.getChildren=i=>i.children,this.hasChild=(i,r)=>r.expandable,this.hasNoContent=(i,r)=>""===r.item,this.transformer=(i,r)=>{const o=this.nestedNodeMap.get(i),a=o&&o.item===i.item?o:new Dse;return a.item=i.item,a.level=r,a.expandable=!!i.children?.length,a.feature=i.feature,a.ZoneId=i.ZoneId,this.flatNodeMap.set(a,i),this.nestedNodeMap.set(i,a),a},this.treeFlattener=new uae(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new nae(this.getLevel,this.isExpandable),this.dataSource=new dae(this.treeControl,this.treeFlattener)}descendantsAllSelected(t){const i=this.treeControl.getDescendants(t);return i.length>0&&i.every(o=>this.checklistSelection.isSelected(o))}descendantsPartiallySelected(t){return this.treeControl.getDescendants(t).some(o=>this.checklistSelection.isSelected(o))&&!this.descendantsAllSelected(t)}todoItemSelectionToggle(t){this.checklistSelection.toggle(t);const i=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?this.checklistSelection.select(...i):this.checklistSelection.deselect(...i),i.forEach(r=>this.checklistSelection.isSelected(r)),this.checkAllParentsSelection(t)}todoLeafItemSelectionToggle(t){this.checklistSelection.toggle(t),this.checkAllParentsSelection(t)}checkAllParentsSelection(t){let i=this.getParentNode(t);for(;i;)this.checkRootNodeSelection(i),i=this.getParentNode(i)}checkRootNodeSelection(t){const i=this.checklistSelection.isSelected(t),r=this.treeControl.getDescendants(t),o=r.length>0&&r.every(a=>this.checklistSelection.isSelected(a));i&&!o?this.checklistSelection.deselect(t):!i&&o&&this.checklistSelection.select(t)}getParentNode(t){const i=this.getLevel(t);if(i<1)return null;for(let o=this.treeControl.dataNodes.indexOf(t)-1;o>=0;o--){const a=this.treeControl.dataNodes[o];if(this.getLevel(a)<i)return a}return null}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym))},n.\u0275cmp=Pi({type:n,selectors:[["app-region-tree"]],decls:4,vars:3,consts:[[1,"divTree"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"]],template:function(t,i){1&t&&(Rn(0,"div",0)(1,"mat-tree",1),co(2,Ese,4,2,"mat-tree-node",2),co(3,Tse,6,5,"mat-tree-node",3),Gn()()),2&t&&(bi(1),Mi("dataSource",i.dataSource)("treeControl",i.treeControl),bi(2),Mi("matTreeNodeDefWhen",i.hasChild))},dependencies:[L6,zN,jD,Hpt,jpt,Zpt,Wpt,Gpt],styles:[".divTree[_ngcontent-%COMP%]{max-height:500px;overflow-y:scroll;overflow-x:hidden;max-width:300px;min-width:500px}"]}),n})();function Pse(n,e){1&n&&rd(0)}const kse=function(n){return{data:n}};let Rse=(()=>{class n{constructor(t){this.store=t,this.setting$=this.store.select(Dft),this.setting$.subscribe(i=>{this.layersSetting={...i}})}ngOnInit(){}onChangCheckBox(t,i){let r={...this.layersSetting};r[t]=i,this.store.dispatch(TR.toggleClustesrs({layersSetting:r}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym))},n.\u0275cmp=Pi({type:n,selectors:[["app-show-what-setting"]],decls:20,vars:12,consts:[[4,"ngIf"],[3,"checked","change"]],template:function(t,i){1&t&&(co(0,Pse,1,0,"ng-container",0),dT(1,"async"),Rn(2,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("populationClusterd",o.checked)}),ao(3," population "),Gn(),Rn(4,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("roofArea",o.checked)}),ao(5," Roof "),Gn(),kr(6,"br"),Rn(7,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("buildings",o.checked)}),ao(8," buildings "),Gn(),Rn(9,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("energyLables",o.checked)}),ao(10," energyLables "),Gn(),kr(11,"br"),Rn(12,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("roads",o.checked)}),ao(13," raods "),Gn(),kr(14,"br"),Rn(15,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("energyConsumptionByStreets_KWH",o.checked)}),ao(16," Sum of Energy Consumption by Streets KWH"),Gn(),kr(17,"br"),Rn(18,"mat-checkbox",1),gr("change",function(o){return i.onChangCheckBox("energyConsumptionByStreets_M3",o.checked)}),ao(19," Sum of Energy Consumption by Streets M3"),Gn()),2&t&&(Mi("ngIf",function jW(n,e,t,i){return WW(Xn(),Zc(),n,e,t,i)}(10,kse,hT(1,8,i.setting$))),bi(2),Mi("checked",i.layersSetting.populationClusterd),bi(2),Mi("checked",i.layersSetting.roofArea),bi(3),Mi("checked",i.layersSetting.buildings),bi(2),Mi("checked",i.layersSetting.energyLables),bi(3),Mi("checked",i.layersSetting.roads),bi(3),Mi("checked",i.layersSetting.energyConsumptionByStreets_KWH),bi(3),Mi("checked",i.layersSetting.energyConsumptionByStreets_M3))},dependencies:[Tf,L6,FO]}),n})(),Lse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pi({type:n,selectors:[["app-side-views"]],decls:36,vars:0,consts:[["expanded","true"]],template:function(t,i){1&t&&(Rn(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),ao(3," settings "),Gn(),Rn(4,"mat-panel-description"),ao(5," .. "),Rn(6,"mat-icon"),ao(7,"account_circle"),Gn()()(),kr(8,"app-show-what-setting"),Gn(),Rn(9,"mat-expansion-panel",0)(10,"mat-expansion-panel-header")(11,"mat-panel-title"),ao(12," regions "),Gn(),Rn(13,"mat-panel-description"),ao(14," regions "),Rn(15,"mat-icon"),ao(16,"account_circle"),Gn()()(),kr(17,"app-region-tree"),Gn(),Rn(18,"mat-expansion-panel")(19,"mat-expansion-panel-header")(20,"mat-panel-title"),ao(21," chart population "),Gn(),Rn(22,"mat-panel-description"),ao(23," Type your name and age "),Rn(24,"mat-icon"),ao(25,"account_circle"),Gn()()(),kr(26,"app-chart"),Gn(),Rn(27,"mat-expansion-panel")(28,"mat-expansion-panel-header")(29,"mat-panel-title"),ao(30," density "),Gn(),Rn(31,"mat-panel-description"),ao(32," Inform the date you wish to travel "),Rn(33,"mat-icon"),ao(34,"date_range"),Gn()()(),kr(35,"app-chart2"),Gn())},dependencies:[Ppt,kpt,koe,Poe,jD,Lft,Oft,Ise,Rse]}),n})();const Ose=["map"];let Nse=(()=>{class n{SetMapState(t=this.state){this.map.setView(t.Center,t.Zoom)}GetMapState(){this.state={Center:this.map.getCenter(),Zoom:this.map.getZoom()}}constructor(t,i,r){this.store=t,this.breakpointObserver=i,this.ui=r,this.isHandset$=this.breakpointObserver.observe(lb.Handset).pipe(Cpt()),this.Setting$=this.store.select(Dft).pipe(go(o=>!!o),yu(85)),this.Adresses$=this.store.select(Aft).pipe(go(o=>!!o),yu(100)),this.Buildings$=this.store.select(Ift).pipe(go(o=>!!o),yu(150)),this.Neighborhoods$=this.store.select(Pft).pipe(yu(180),go(o=>!!o)),this.NetloadImport$=this.store.select(kft).pipe(go(o=>!!o),yu(95)),this.TygronSectionGeometry$=this.store.select(Rft).pipe(go(o=>!!o),yu(235)),this.RoadLine$=this.store.select(lie).pipe(go(o=>!!o),yu(310)),this.RoadLineInShapeOfPoints$=this.store.select(cie).pipe(go(o=>!!o),yu(310)),this.componentActive=!0,this.startLatLng={lat:52.68340048498056,lng:6.190634965896607},this.initMap=()=>{console.log("CRS.EPSG3857, ",_o.CRS.EPSG3857);let o=_o.latLng(this.startLatLng);this.map=_o.map(this.mapElemRef.nativeElement,{renderer:_o.canvas(),maxZoom:25,minZoom:5}).setView(o,18),this.map.on("zoomend",l=>{}),_o.tileLayer(hoe[0],{maxZoom:25,attribution:"link?"}).addTo(this.map)},this.removableLayers=[],this.initLayerAddreses=(o,a)=>{o&&(this.removableLayers.forEach(s=>s.DestroyClusters()),a.populationClusterd&&this.removableLayers.push(new Loe(o,this.map)),a.roofArea&&this.removableLayers.push(new Roe(o,this.map)))},this.LayersNeighborhood=[],this.initLayerNeighborhood=o=>{if(!o)return;this.LayersNeighborhood.length>0&&this.LayersNeighborhood.forEach(d=>{this.map.removeLayer(d)}),this.LayersNeighborhood=[];let a=new Qy({id:"layer_"+Ya.Neighborhoods,data:o,stroked:!0,filled:!0,lineWidthMinPixels:2,opacity:.15,getLineColor:d=>MM(0,50),getFillColor:d=>d.properties.COLOR?Sft(d.properties.COLOR):MM()});const u=new wR.LeafletLayer({views:[new lR.Z({repeat:!0})],layers:[a]});this.map.addLayer(u),this.LayersNeighborhood.push(u)},this.LayerEnergy=[]}ngOnDestroy(){this.componentActive=!1,console.log("*********ngOnDestroy******")}ngAfterViewInit(){this.isHandset$.subscribe(i=>console.log("this.isHandset$.subsc",i)),this.initMap(),this.Neighborhoods$.subscribe(i=>{this.initLayerNeighborhood(i),console.log(i)});let t=new Ooe(this.map);s_([this.Setting$.pipe(vt(i=>i.buildings),vm()),this.Buildings$]).subscribe(([i,r])=>{i?t.Draw(r):t.Clear()}),s_([this.Setting$,this.Adresses$]).subscribe(([i,r])=>{this.initLayerAddreses(r,i)}),s_([this.Setting$.pipe(vt(i=>i.roads),vm()),this.RoadLine$]).subscribe(([i,r])=>{this.drawRoadLines(r,i)}),s_([this.Setting$.pipe(vt(i=>i.energyConsumptionByStreets_KWH),vm()),this.Setting$.pipe(vt(i=>i.energyConsumptionByStreets_M3),vm()),this.RoadLine$,this.NetloadImport$,this.RoadLineInShapeOfPoints$]).subscribe(([i,r,o,a,s])=>{(i||r)&&this.ui.spin$.next(!0),setTimeout(()=>{this.calcPointToRaods(a,s,o,i,r),(i||r)&&this.ui.spin$.next(!1)},200)})}ngOnInit(){console.log("ngOninit")}toggleClicked(t){setTimeout(()=>{this.map.invalidateSize()},250)}DrawEnergyLabels(t){this.LayerEnergy.length>0&&this.LayerEnergy.forEach(i=>{this.map.removeLayer(i)}),this.LayerEnergy=[]}drawRoadLines(t,i){!i&&this.LayerRaodLines&&this.map.removeLayer(this.LayerRaodLines),t&&i&&(this.LayerRaodLines=new wR.LeafletLayer({views:[new lR.Z({repeat:!0})],layers:[new Qy({id:"RoadLineLayer",data:t,filled:!0,lineWidthMinPixels:2,getLineColor:r=>[80,150,250]})]}),this.map.addLayer(this.LayerRaodLines))}calcPointToRaods(t,i,r,o,a){let s=o||a;if(this.LayerRaodLinesByEnergyConsumption&&(this.map.removeLayer(this.LayerRaodLinesByEnergyConsumption),this.LayerRaodLinesByEnergyConsumption=void 0),!(t&&r&&i&&s))return;console.log("calcPointToRaods"),console.log(i,r,t);let l=JSON.parse(JSON.stringify(t)),c=0,u=0,d=0,p=new Map;l.features.map(b=>{let w=YC(b.geometry.coordinates,i);if(b.properties._streetNodeID=w.id,b.properties._streetNodeDistance=w.properties.distanceToPoint,b.properties._streetNodeName=w.properties?.name,!w.id)return void console.warn("you should never see this !!!");let C=p.get(w.id);return C?(C.nloads.push(b),C.sum_VERBRUIK_KWH+=b.properties.VERBRUIK_KWH,C.avg_VERBRUIK_KWH=C.sum_VERBRUIK_KWH/C.nloads.length,C.sum_VERBRUIK_M3+=b.properties.VERBRUIK_M3,C.avg_VERBRUIK_M3=C.sum_VERBRUIK_M3/C.nloads.length,C.sum_VERBRUIK_GJ+=b.properties.VERBRUIK_GJ,C.avg_VERBRUIK_GJ=C.sum_VERBRUIK_GJ/C.nloads.length,c<C.sum_VERBRUIK_KWH&&(c=C.sum_VERBRUIK_KWH),u<C.sum_VERBRUIK_GJ&&(u=C.sum_VERBRUIK_GJ),d<C.sum_VERBRUIK_M3&&(d=C.sum_VERBRUIK_M3)):p.set(w.id,{nloads:[b],nearestPoint:w,sum_VERBRUIK_KWH:b.properties.VERBRUIK_KWH,avg_VERBRUIK_KWH:b.properties.VERBRUIK_KWH,sum_VERBRUIK_GJ:b.properties.VERBRUIK_GJ,avg_VERBRUIK_GJ:b.properties.VERBRUIK_GJ,sum_VERBRUIK_M3:b.properties.VERBRUIK_M3,avg_VERBRUIK_M3:b.properties.VERBRUIK_M3}),b}),c=(c??0)+1,d=(d??0)+1,u=(u??0)+1;let y=JSON.parse(JSON.stringify(r));y.features.forEach((b,w)=>{if(!b.id)return;let C=p.get(b.id);if(!C)return;let E=y.features[w].properties;E.sum_VERBRUIK_KWH=C.sum_VERBRUIK_KWH,E.avg_VERBRUIK_KWH=C.avg_VERBRUIK_KWH,E.sum_VERBRUIK_GJ=C.sum_VERBRUIK_GJ,E.avg_VERBRUIK_GJ=C.avg_VERBRUIK_GJ,E.sum_VERBRUIK_M3=C.sum_VERBRUIK_M3,E.avg_VERBRUIK_M3=C.avg_VERBRUIK_M3,E._color_KWH=255*C.sum_VERBRUIK_KWH/c,E._color_GJ=255*C.sum_VERBRUIK_GJ/u,E._color_M3=255*C.sum_VERBRUIK_M3/d}),console.log(y.features.filter(b=>!!b.properties.sum_VERBRUIK_M3),y.features.filter(b=>!!b.properties.sum_VERBRUIK_KWH)),this.drawRaodLinesByEnergyConsumption(y,o,a)}drawRaodLinesByEnergyConsumption(t,i,r){if(!t)return;let o=new Qy({id:"_KWH_RaodLinesByEnergyConsumption",data:t,filled:!0,lineWidthMinPixels:4,getLineColor:l=>{let u=l.properties._color_KWH;return u?[u,0,0]:[200,200,200,0]}}),a=new Qy({id:"_M3_RaodLinesByEnergyConsumption2",data:t,filled:!0,lineWidthMinPixels:4,getLineColor:l=>{let u=l.properties._color_M3;return u?[0,u,0]:[200,200,200,0]}}),s=[];i&&s.push(o),r&&s.push(a),this.LayerRaodLinesByEnergyConsumption=new wR.LeafletLayer({views:[new lR.Z({repeat:!0})],layers:s}),this.map.addLayer(this.LayerRaodLinesByEnergyConsumption)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym),ee(_D),ee(Fpt))},n.\u0275cmp=Pi({type:n,selectors:[["app-leafdeck2"]],viewQuery:function(t,i){if(1&t&&(fs(Ose,5,Ni),fs(Rpt,5)),2&t){let r;Fi(r=Bi())&&(i.mapElemRef=r.first),Fi(r=Bi())&&(i.accordion=r.first)}},decls:15,vars:1,consts:[[1,"example-container",3,"hasBackdrop"],["mode","push","opened","true","position","start"],["drawer",""],["multi","",1,"example-headers-align"],[2,"border","3px solid red","min-width","500px","min-height","100px","background-color","black"],[1,"map"],["map",""],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t){const r=xg();Rn(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),kr(3,"app-side-views")(4,"mat-accordion",3)(5,"div",4),Gn(),Rn(6,"mat-drawer-content"),kr(7,"div",5,6),Rn(9,"button",7),gr("click",function(){Fd(r);const a=id(2);return Bd(i.toggleClicked(a.toggle()))}),ao(10,"Toggle drawer"),Gn(),Rn(11,"button",7),gr("click",function(){return i.GetMapState()}),ao(12," Print State"),Gn(),Rn(13,"button",7),gr("click",function(){return i.SetMapState()}),ao(14,"Set State"),Gn()()()}2&t&&Mi("hasBackdrop",!1)},dependencies:[HDt,s6,l6,zM,Rpt,Lse],styles:[".map[_ngcontent-%COMP%]{min-height:500px;height:calc(100vh - 150px);margin:1px 2px}mat-drawer-content[_ngcontent-%COMP%]{padding:12px}[_nghost-%COMP%]     .tooltipIconWrapper{display:inline-block;align-items:center;justify-content:center;flex-direction:column;width:25px;height:25px;background-size:100% 100%;text-shadow:0px 0px 10px #FF0000}[_nghost-%COMP%]     .leaflet-tile{transform:translateZ(0);transform-origin:50% 50%}[_nghost-%COMP%]     .marker-cluster-small{background-color:#97fa3ae9}[_nghost-%COMP%]     .marker-cluster-small div{background-color:#6ecc3933}[_nghost-%COMP%]     .marker-cluster-medium{background-color:#f6f040e8}[_nghost-%COMP%]     .marker-cluster-medium div{background-color:#f0c20c33}[_nghost-%COMP%]     .marker-cluster-large{background-color:#f87a44ed}[_nghost-%COMP%]     .marker-cluster-large div{background-color:#f1801733}[_nghost-%COMP%]     .FLOOR_SPACE_M2{border:3px solid rgba(146,42,16,.714);margin:10px}[_nghost-%COMP%]     .INHABITANTS{border:3px dashed rgba(0,139,125,.841);margin:-10px}[_nghost-%COMP%]     .INHABITANTS_Marker{border:3px dashed rgba(0,139,125,.841);width:auto;height:auto;font-size:medium;display:inline-block;margin:-10px;border-radius:25%}[_nghost-%COMP%]     .FLOOR_SPACE_M2_Marker{margin:10px;border:3px solid rgba(146,42,16,.714);width:auto;height:auto;font-size:medium;display:inline-block;border-radius:10%}[_nghost-%COMP%]     .leaflet-div-icon{background:rgba(255,255,255,0);border:none}[_nghost-%COMP%]     .marker-cluster{background-clip:padding-box;border-radius:20px}[_nghost-%COMP%]     .marker-cluster div{min-width:30px;max-width:100px;min-height:30px;max-height:100px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}[_nghost-%COMP%]     .marker-cluster span{line-height:30px}"]}),n})();var Fse=Z(3316),Bse=Z.n(Fse),Vse=Z(9529);const zse=["map"],Use=[{path:"dashboard",component:mie},{path:"MainMap",component:(()=>{class n{constructor(t){this.geoJsonService=t,this.mc=[52.7,6.2],this.mc1=[52.7,6.2],this.getRandomLatLng=i=>{var r=i.getBounds(),o=r.getSouthWest(),a=r.getNorthEast(),s=a.lng-o.lng;return new _o.LatLng(o.lat+(a.lat-o.lat)*Math.random(),o.lng+s*Math.random())},this.markersList=[],this._glify=Bse().longitudeFirst(),this.title="GeoAppTest",this.rndP=(i=30)=>[52.7+(Math.random()-.5)/i,6.2+(Math.random()-.5)/i]}ngOnInit(){}ngAfterViewInit(){this.InitMap()}DrawCluster_FLOOR_SPACE_M2(){var t=this;let r=new _o.MarkerClusterGroup;r=_o.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(s){for(var l=s.getAllChildMarkers(),c=0,u=0,d=0;d<l.length;d++)l[d].feature?.properties.FLOOR_SPACE_M2?c+=l[d].feature?.properties.FLOOR_SPACE_M2??0:u++;let h=l.length,p=l.length-u;if(p>0){let y=c/p;h=Math.round(l.length*y),console.log(c,h,l.length,p,u,y)}else console.log("number of FLOOR_SPACE_M2 of all point were undefined , ",h);return _o.divIcon({html:`\n            <div class="leaflet-marker-icon marker-cluster ${" FLOOR_SPACE_M2 marker-cluster-"+(h>100?"large":h<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n            tabindex="0"  z-index: 247; opacity: 1;">\n            <div><span title='sum of estimated FLOOR_SPACE_M2:${h}'>${h}</span></div></div>`,className:"mycluster_FLOOR_SPACE_M2",iconSize:_o.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0});let o=this.markersList;(function(){var s=(0,Wp.Z)(function*(){(yield t.geoJsonService.Get(Ya.Adresses)).features.forEach(l=>{let c=new _o.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new _o.DivIcon({html:`<div class='FLOOR_SPACE_M2_Marker'>${(l.properties.FLOOR_SPACE_M2??0).toFixed(0)}<div/>`})},d=new _o.Marker(c,u);d.feature=l,o.push(d),r.addLayer(d)})});return function(){return s.apply(this,arguments)}})()(),this.map.addLayer(r)}DrawCluster_INHABITANTS(){var t=this;let r=new _o.MarkerClusterGroup;r=_o.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(s){for(var l=s.getAllChildMarkers(),c=0,u=0,d=0;d<l.length;d++)l[d].feature?.properties.INHABITANTS?c+=l[d].feature?.properties.INHABITANTS??0:u++;let h=l.length,p=l.length-u;if(p>0){let y=c/p;h=Math.round(l.length*y),console.log(c,h,l.length,p,u,y)}else console.log("number of inhabitants of all point were undefined , ",h);return _o.divIcon({html:`\n          <div class="leaflet-marker-icon marker-cluster ${" INHABITANTS marker-cluster-"+(h>100?"large":h<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n          tabindex="0"  z-index: 247; opacity: 1;">\n          <div><span title='Estimated population:${h}'>${h}</span></div></div>`,className:"mycluster_INHABITANTS",iconSize:_o.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0});let o=this.markersList;(function(){var s=(0,Wp.Z)(function*(){(yield t.geoJsonService.Get(Ya.Adresses)).features.forEach(l=>{let c=new _o.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new _o.DivIcon({html:`<div class="INHABITANTS_Marker">${(l.properties.INHABITANTS??0).toFixed(2)}<div/>`})},d=new _o.Marker(c,u);d.feature=l,o.push(d),r.addLayer(d)})});return function(){return s.apply(this,arguments)}})()(),this.map.addLayer(r)}btnGeojsonFlatten(){let t=Dx(this.geoJsonService.Get(Ya.Neighborhoods));console.log(t)}btnGliflyPolyClicked(){var t=this;return(0,Wp.Z)(function*(){console.log(t.geoJsonService.Get(Ya.Buildings,!0)),t._glify.shapes({map:t.map,click:(r,o)=>{console.log("click on Shape, FUNCTION:",o.properties.FUNCTION,o,r),console.warn("----",o.properties.NAME),_o.geoJSON(o).addTo(t.map),_o.popup().setLatLng(r.latlng).setContent(` <b> NAME:</b> ${o.properties.NAME}\n            , OWNER: ${o.properties.OWNER} \n           , FUNCTION: ${o.properties.FUNCTION}\n           , ID: ${o.properties.ID}\n           , BAG_ID: ${o.properties.BAG_ID}`).openOn(t.map),console.log("clicked on Shape",o,r)},hover:(r,o)=>{console.log(o.properties.PERMITTER),console.log("hovered on Shape",o,r)},data:yield t.geoJsonService.Get(Ya.Buildings,!0),border:!0,color:(r,o)=>{let a=r/1e4;return a>1&&console.log(a),{r:a,g:1-a,b:a,a:.5}}})})()}btnPointsClicked(){var t=this;return(0,Wp.Z)(function*(){let i=yield t.geoJsonService.Get(Ya.Adresses);t._glify.points({map:t.map,size:r=>(console.log(r),20),color:(r,o)=>({r:(o.properties.ENERGY_LABEL??0)/15,g:1-(o.properties.ENERGY_LABEL??0)/25,b:1-(o.properties.ENERGY_LABEL??0)/25}),data:i,hover:(r,o)=>{console.log("hovered on Point",o.geometry.coordinates,r)},click:(r,o)=>{_o.popup().setLatLng([r.latlng.lat,r.latlng.lng]).setContent("You clicked on111:"+o.properties.NAME+" ENERGY_LABEL:"+o.properties.ENERGY_LABEL).openOn(t.map),console.log(`You clicked the point at longitude:${r.latlng.lng}, latitude:${r.latlng.lat}`),console.log("clicked on Point",o,r)}})})()}InitMap(){var t=this;return(0,Wp.Z)(function*(){glob.push(_o),glob.push(t._glify),t.map=_o.map(t.mapElem.nativeElement,{renderer:_o.canvas()}).setView([52.683745,6.184144],17),glob.push(t.map),glob.push(Vse),_o.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:25,attribution:"link?"}).addTo(t.map)})()}btnTestClicked(){var t=this;return(0,Wp.Z)(function*(){console.log((yield t.geoJsonService.Get(Ya.TygronSectionGeometry))?.features);let i=t.map;var r=_o.circle(t.rndP(),{color:"red",fillColor:"#f03",fillOpacity:.5,radius:50}).addTo(i),o=_o.polygon([t.rndP(),t.rndP(),t.rndP()]).addTo(i);_o.marker(t.rndP()).addTo(i).bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup(),r.bindPopup("I am a circle."),o.bindPopup("I am a polygon."),_o.popup().setLatLng(t.rndP()).setContent("I am a standalone popup.").openOn(i);var l=_o.popup();i.on("click",function c(u){l.setLatLng(u.latlng).setContent("You clicked the map at "+u.latlng.toString()).openOn(i)}),i.on("zoomend",u=>{console.log("zoom ",u.sourceTarget?._zoom,u)}),console.log("btnTestClicked")})()}btnTestBuildingClicked(){var t=this;return(0,Wp.Z)(function*(){let i=yield t.geoJsonService.Get(Ya.Neighborhoods);console.log(i?.features.length),_o.geoJSON(i).addTo(t.map)})()}}return n.\u0275fac=function(t){return new(t||n)(ee(Eft))},n.\u0275cmp=Pi({type:n,selectors:[["app-mainmap"]],viewQuery:function(t,i){if(1&t&&fs(zse,5,Ni),2&t){let r;Fi(r=Bi())&&(i.mapElem=r.first)}},decls:18,vars:0,consts:[[1,"map"],["map",""],[3,"click"]],template:function(t,i){1&t&&(Rn(0,"p"),ao(1,"mainmap works!"),Gn(),kr(2,"div",0,1),Rn(4,"button",2),gr("click",function(){return i.btnTestClicked()}),ao(5,"test"),Gn(),Rn(6,"button",2),gr("click",function(){return i.DrawCluster_FLOOR_SPACE_M2()}),ao(7,"DrawCluster_FLOOR_SPACE_M2"),Gn(),Rn(8,"button",2),gr("click",function(){return i.DrawCluster_INHABITANTS()}),ao(9,"DrawCluster_INHABITANTS "),Gn(),Rn(10,"button",2),gr("click",function(){return i.btnTestBuildingClicked()}),ao(11,"Building"),Gn(),Rn(12,"button",2),gr("click",function(){return i.btnPointsClicked()}),ao(13," Add Points"),Gn(),Rn(14,"button",2),gr("click",function(){return i.btnGliflyPolyClicked()}),ao(15,"polygons"),Gn(),Rn(16,"button",2),gr("click",function(){return i.btnGeojsonFlatten()}),ao(17,"geojsonFlatten"),Gn())},styles:[".map[_ngcontent-%COMP%]{height:780px;border:1px solid red;perspective:1000px}[_nghost-%COMP%]     .tooltipIconWrapper{display:inline-block;align-items:center;justify-content:center;flex-direction:column;width:25px;height:25px;background-size:100% 100%;text-shadow:0px 0px 10px #FF0000}[_nghost-%COMP%]     .leaflet-tile{transform:translateZ(0);transform-origin:50% 50%}[_nghost-%COMP%]     .marker-cluster-small{background-color:#b5e28c3a}[_nghost-%COMP%]     .marker-cluster-small div{background-color:#6ecc3933}[_nghost-%COMP%]     .marker-cluster-medium{background-color:#f15757e8}[_nghost-%COMP%]     .marker-cluster-medium div{background-color:#f0c20c33}[_nghost-%COMP%]     .marker-cluster-large{background-color:#fd9c7333}[_nghost-%COMP%]     .marker-cluster-large div{background-color:#f1801733}[_nghost-%COMP%]     .FLOOR_SPACE_M2{border:3px solid rgba(146,42,16,.714);margin:10px}[_nghost-%COMP%]     .INHABITANTS{border:3px dashed rgba(0,139,125,.841);margin:-10px}[_nghost-%COMP%]     .INHABITANTS_Marker{border:3px dashed rgba(0,139,125,.841);width:auto;height:auto;font-size:medium;display:inline-block;margin:-10px;border-radius:25%}[_nghost-%COMP%]     .FLOOR_SPACE_M2_Marker{margin:10px;border:3px solid rgba(146,42,16,.714);width:auto;height:auto;font-size:medium;display:inline-block;border-radius:10%}[_nghost-%COMP%]     .leaflet-div-icon{background:rgba(255,255,255,0);border:none}[_nghost-%COMP%]     .marker-cluster{background-clip:padding-box;border-radius:20px}[_nghost-%COMP%]     .marker-cluster div{min-width:30px;max-width:100px;min-height:30px;max-height:100px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}[_nghost-%COMP%]     .marker-cluster span{line-height:30px}"]}),n})()},{path:"",component:Nse}];let Gse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[sY.forRoot(Use),sY]}),n})();const Hse=["*",[["mat-toolbar-row"]]],jse=["*","mat-toolbar-row"],Wse=f_(class{constructor(n){this._elementRef=n}});let Zse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Yse=(()=>{class n extends Wse{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(Lc),ee(io))},n.\u0275cmp=Pi({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,Zse,5),2&t){let o;Fi(o=Bi())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&no("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ti],ngContentSelectors:jse,decls:2,vars:0,template:function(t,i){1&t&&(qa(Hse),qi(0),qi(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),igt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,yr]}),n})(),Xse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,yr]}),n})();const rgt=["*"],agt=["unscopedContent"],$se=["text"],qse=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Kse=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],sgt=new hn("ListOption");let lgt=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni))},n.\u0275dir=Cn({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),cgt=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni))},n.\u0275dir=Cn({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),mle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),ugt=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(ee(sgt,8))},n.\u0275dir=Cn({type:n,hostVars:4,hostBindings:function(t,i){2&t&&no("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),gle=(()=>{class n extends ugt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ti]}),n})(),vle=(()=>{class n extends ugt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ti]}),n})();const _le=new hn("MAT_LIST_CONFIG");let $x=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=di(_le,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rr(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,hostVars:1,hostBindings:function(t,i){2&t&&Mr("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),O6=(()=>{class n{set lines(t){this._explicitLines=Ol(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=rr(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=rr(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,a,s){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new V,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===s,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new fb(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(qe(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(vr),ee($x,8),ee(Lc),ee(pb,8),ee($c,8))},n.\u0275dir=Cn({type:n,contentQueries:function(t,i,r){if(1&t&&(Uo(r,gle,4),Uo(r,vle,4)),2&t){let o;Fi(o=Bi())&&(i._avatars=o),Fi(o=Bi())&&(i._icons=o)}},hostVars:4,hostBindings:function(t,i){2&t&&(Mr("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),no("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),yle=(()=>{class n extends O6{get activated(){return this._activated}set activated(t){this._activated=rr(t)}constructor(t,i,r,o,a,s){super(t,i,r,o,a,s),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(vr),ee($x,8),ee(Lc),ee(pb,8),ee($c,8))},n.\u0275cmp=Pi({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,cgt,5),Uo(r,lgt,5),Uo(r,mle,5)),2&t){let o;Fi(o=Bi())&&(i._lines=o),Fi(o=Bi())&&(i._titles=o),Fi(o=Bi())&&(i._meta=o)}},viewQuery:function(t,i){if(1&t&&(fs(agt,5),fs($se,5)),2&t){let r;Fi(r=Bi())&&(i._unscopedContent=r.first),Fi(r=Bi())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(Mr("aria-current",i._getAriaCurrent()),no("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ti],ngContentSelectors:Kse,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(qa(qse),qi(0),Rn(1,"span",0),qi(2,1),qi(3,2),Rn(4,"span",1,2),gr("cdkObserveContent",function(){return i._updateItemLines(!0)}),qi(6,3),Gn()(),qi(7,4),qi(8,5),kr(9,"div",3))},dependencies:[gY],encapsulation:2,changeDetection:0}),n})(),xle=(()=>{class n extends $x{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Br(n)))(i||n)}}(),n.\u0275cmp=Pi({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ai([{provide:$x,useExisting:n}]),ti],ngContentSelectors:rgt,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),hgt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[wD,lc,yr,Vh,RY,Xse]}),n})();function Mle(n,e){if(1&n&&(Rn(0,"a",8),ao(1),dT(2,"titlecase"),Gn()),2&n){const t=e.$implicit;Mi("routerLink","/"+t.path),bi(1),op(" ",hT(2,2,t.text)," ")}}let Ele=(()=>{class n{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe(lb.Handset).pipe(vt(i=>i.matches),Cpt()),this.menuItems=[{text:"deck map",path:""},{text:"dashboard",path:"dashboard"},{text:"MainMap",path:"MainMap"}]}}return n.\u0275fac=function(t){return new(t||n)(ee(_D))},n.\u0275cmp=Pi({type:n,selectors:[["app-nav"]],decls:16,vars:3,consts:[[1,"sidenav-container"],["fixedInViewport","","mode","over",1,"sidenav",3,"opened"],["drawer",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["sidenavContent",""],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item","",3,"routerLink"]],template:function(t,i){if(1&t){const r=xg();Rn(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar"),ao(4,"TAUW Profile"),Gn(),Rn(5,"mat-nav-list"),co(6,Mle,3,4,"a",3),Gn()(),Rn(7,"mat-sidenav-content",null,4)(9,"mat-toolbar",5)(10,"button",6),gr("click",function(){return Fd(r),Bd(id(2).toggle())}),Rn(11,"mat-icon",7),ao(12,"menu"),Gn()(),Rn(13,"span"),ao(14,"GeoApp TAUW TEAM"),Gn()(),kr(15,"router-outlet"),Gn()()}2&t&&(bi(1),Mi("opened",!1),Mr("role","dialog"),bi(5),Mi("ngForOf",i.menuItems))},dependencies:[LO,pN,uD,zN,Vpt,zpt,c6,Yse,xle,yle,jD,x9],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})(),Tle=(()=>{class n{constructor(t,i,r){this.geoJsonService=t,this.store=i,this.ui=r}ngOnInit(){var t=this;return(0,Wp.Z)(function*(){glob.push(Rs),t.ui.spin$.next(!0),t.geoJsonService.GetDataSource().subscribe(i=>{t.ui.spin$.next(!1),t.store.dispatch(Xpt.retrievedGeojsonData({datasource:i}))})})()}}return n.\u0275fac=function(t){return new(t||n)(ee(Eft),ee(Ym),ee(Fpt))},n.\u0275cmp=Pi({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&kr(0,"app-nav")},dependencies:[Ele]}),n})();function fgt(n){return new Ke(3e3,!1)}function lce(){return typeof window<"u"&&typeof window.document<"u"}function N6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Dv(n){switch(n.length){case 0:return new F1;case 1:return n[0];default:return new UY(n)}}function pgt(n,e,t,i,r=new Map,o=new Map){const a=[],s=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,p=h&&c||new Map;u.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=e.normalizePropertyName(b,a),w){case ZN:w=r.get(y);break;case bm:w=o.get(y);break;default:w=e.normalizeStyleValue(y,b,w,a)}p.set(b,w)}),h||s.push(p),c=p,l=d}),a.length)throw function qle(n){return new Ke(3502,!1)}();return s}function F6(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&B6(t,"start",n)));break;case"done":n.onDone(()=>i(t&&B6(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&B6(t,"destroy",n)))}}function B6(n,e,t){const o=V6(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(o._data=a),o}function V6(n,e,t,i,r="",o=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ch(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function mgt(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let z6=(n,e)=>!1,ggt=(n,e,t)=>[],vgt=null;function U6(n){const e=n.parentNode||n.host;return e===vgt?null:e}(N6()||typeof Element<"u")&&(lce()?(vgt=(()=>document.documentElement)(),z6=(n,e)=>{for(;e;){if(e===n)return!0;e=U6(e)}return!1}):z6=(n,e)=>n.contains(e),ggt=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let e0=null,_gt=!1;const ygt=z6,bgt=ggt;let xgt=(()=>{class n{validateStyleProperty(t){return function uce(n){e0||(e0=function dce(){return typeof document<"u"?document.body:null}()||{},_gt=!!e0.style&&"WebkitAppearance"in e0.style);let e=!0;return e0.style&&!function cce(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in e0.style,!e&&_gt&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in e0.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return ygt(t,i)}getParentElement(t){return U6(t)}query(t,i,r){return bgt(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,a,s=[],l){return new F1(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),G6=(()=>{class n{}return n.NOOP=new xgt,n})();const hce=1e3,H6="ng-enter",GR="ng-leave",HR="ng-trigger",jR=".ng-trigger",Sgt="ng-animating",j6=".ng-animating";function sg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:W6(parseFloat(e[1]),e[2])}function W6(n,e){return"s"===e?n*hce:n}function WR(n,e,t){return n.hasOwnProperty("duration")?n:function pce(n,e,t){let r,o=0,a="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push(fgt()),{duration:0,delay:0,easing:""};r=W6(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=W6(parseFloat(l),s[4]));const c=s[5];c&&(a=c)}else r=n;if(!t){let s=!1,l=e.length;r<0&&(e.push(function Dle(){return new Ke(3100,!1)}()),s=!0),o<0&&(e.push(function Ale(){return new Ke(3101,!1)}()),s=!0),s&&e.splice(l,0,fgt())}return{duration:r,delay:o,easing:a}}(n,e,t)}function ZM(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Cgt(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Av(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Egt(n,e,t){return t?e+":"+t+";":""}function Tgt(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Egt(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Egt(0,_ce(t),n.style[t]));n.setAttribute("style",e)}function Yp(n,e,t){n.style&&(e.forEach((i,r)=>{const o=Y6(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),N6()&&Tgt(n))}function n0(n,e){n.style&&(e.forEach((t,i)=>{const r=Y6(i);n.style[r]=""}),N6()&&Tgt(n))}function YM(n){return Array.isArray(n)?1==n.length?n[0]:VY(n):n}const Z6=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dgt(n){let e=[];if("string"==typeof n){let t;for(;t=Z6.exec(n);)e.push(t[1]);Z6.lastIndex=0}return e}function XM(n,e,t){const i=n.toString(),r=i.replace(Z6,(o,a)=>{let s=e[a];return null==s&&(t.push(function Ple(n){return new Ke(3003,!1)}()),s=""),s.toString()});return r==i?n:r}function ZR(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vce=/-+([a-z0-9])/g;function Y6(n){return n.replace(vce,(...e)=>e[1].toUpperCase())}function _ce(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mh(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kle(n){return new Ke(3004,!1)}()}}function Agt(n,e){return window.getComputedStyle(n)[e]}const $R="*";function Cce(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Mce(n,e,t){if(":"==n[0]){const l=function Ece(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Zle(n){return new Ke(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Wle(n){return new Ke(3015,!1)}()),e;const r=i[1],o=i[2],a=i[3];e.push(Igt(r,a));"<"==o[0]&&!(r==$R&&a==$R)&&e.push(Igt(a,r))}(i,t,e)):t.push(n),t}const qR=new Set(["true","1"]),KR=new Set(["false","0"]);function Igt(n,e){const t=qR.has(n)||KR.has(n),i=qR.has(e)||KR.has(e);return(r,o)=>{let a=n==$R||n==r,s=e==$R||e==o;return!a&&t&&"boolean"==typeof r&&(a=r?qR.has(n):KR.has(n)),!s&&i&&"boolean"==typeof o&&(s=o?qR.has(e):KR.has(e)),a&&s}}const Tce=new RegExp("s*:selfs*,?","g");function X6(n,e,t,i){return new Dce(n).build(e,t,i)}class Dce{constructor(e){this._driver=e}build(e,t,i){const r=new Pce(t);return this._resetContextStyleTimingState(r),Mh(this,YM(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function Lle(){return new Ke(3006,!1)}()),e.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,t);i+=l.queryCount,r+=l.depCount,a.push(l)}else t.errors.push(function Ole(){return new Ke(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Dgt(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&(ZR(o.values()),t.errors.push(function Nle(n,e){return new Ke(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Mh(this,YM(e.animation),t);return{type:1,matchers:Cce(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:r0(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Mh(this,i,t)),options:r0(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(a=>{t.currentTime=i;const s=Mh(this,a,t);return r=Math.max(r,t.currentTime),s});return t.currentTime=r,{type:3,steps:o,options:r0(e.options)}}visitAnimate(e,t){const i=function Rce(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $6(WR(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=$6(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=WR(t,e);return $6(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:tr({});if(5==o.type)r=this.visitKeyframes(o,t);else{let a=e.styles,s=!1;if(!a){s=!0;const c={};i.easing&&(c.easing=i.easing),a=tr(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,t);l.isEmptyStep=s,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let s of r)"string"==typeof s?s===bm?i.push(s):t.errors.push(new Ke(3002,!1)):i.push(Cgt(s));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let l of s.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function Ble(n,e,t,i,r){return new Ke(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function gce(n,e,t){const i=e.params||{},r=Dgt(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Ile(n){return new Ke(3001,!1)}())})}(s,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Vle(){return new Ke(3011,!1)}()),i;let o=0;const a=[];let s=!1,l=!1,c=0;const u=e.steps.map(w=>{const C=this._makeStyleAst(w,t);let E=null!=C.offset?C.offset:function kce(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),k=0;return null!=E&&(o++,k=C.offset=E),l=l||k<0||k>1,s=s||k<c,c=k,a.push(k),C});l&&t.errors.push(function zle(){return new Ke(3012,!1)}()),s&&t.errors.push(function Ule(){return new Ke(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function Gle(){return new Ke(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,g=t.currentTime,y=t.currentAnimateTimings,b=y.duration;return u.forEach((w,C)=>{const E=h>0?C==p?1:h*C:a[C],k=E*b;t.currentTime=g+y.delay+k,y.duration=k,this._validateStyleAst(w,t),w.offset=E,i.styles.push(w)}),i}visitReference(e,t){return{type:8,animation:Mh(this,YM(e.animation),t),options:r0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:r0(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:r0(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,a]=function Ace(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Tce,"")),n=n.replace(/@\*/g,jR).replace(/@\w+/g,t=>jR+"-"+t.slice(1)).replace(/:animating/g,j6),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ch(t.collectedStyles,t.currentQuerySelector,new Map);const s=Mh(this,YM(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:r0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Hle(){return new Ke(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:WR(e.timings,t.errors,!0);return{type:12,animation:Mh(this,YM(e.animation),t),timings:i,options:null}}}class Pce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function r0(n){return n?(n=ZM(n)).params&&(n.params=function Ice(n){return n?ZM(n):null}(n.params)):n={},n}function $6(n,e,t){return{duration:n,delay:e,easing:t}}function q6(n,e,t,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}class QR{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Nce=new RegExp(":enter","g"),Bce=new RegExp(":leave","g");function K6(n,e,t,i,r,o=new Map,a=new Map,s,l,c=[]){return(new Vce).buildKeyframes(n,e,t,i,r,o,a,s,l,c)}class Vce{buildKeyframes(e,t,i,r,o,a,s,l,c,u=[]){c=c||new QR;const d=new Q6(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?sg(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),Mh(this,i,d);const p=d.timelines.filter(g=>g.containsAnimation());if(p.length&&s.size){let g;for(let y=p.length-1;y>=0;y--){const b=p[y];if(b.element===t){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([s],null,d.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[q6(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const a="number"==typeof o?o:sg(XM(o,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const a=null!=i.duration?sg(i.duration):null,s=null!=i.delay?sg(i.delay):null;return 0!==a&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Mh(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=JR);const a=sg(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Mh(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?sg(e.options.delay):0;e.steps.forEach(a=>{const s=t.createSubContext(e.options);o&&s.delayNextStep(o),Mh(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return WR(t.params?XM(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?sg(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=JR);let a=i;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Mh(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,a=Math.abs(o.duration),s=a*(t.currentQueryTotal-1);let l=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Mh(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const JR={};class Q6{constructor(e,t,i,r,o,a,s,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=JR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new tL(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=sg(i.duration)),null!=i.delay&&(r.delay=sg(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!t||!a.hasOwnProperty(s))&&(a[s]=XM(o[s],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Q6(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=JR,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new zce(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,a){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Nce,"."+this._enterClassName)).replace(Bce,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&0==s.length&&a.push(function jle(n){return new Ke(3014,!1)}()),s}}class tL{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new tL(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||bm),this._currentKeyframe.set(t,bm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},a=function Uce(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,bm)}else Av(r,t)}),t}(e,this._globalTimelineStyles);for(let[s,l]of a){const c=XM(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??bm),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,l)=>{const c=Av(s,new Map,this._backFill);c.forEach((u,d)=>{u===ZN?e.add(d):u===bm&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?ZR(e.values()):[],a=t.size?ZR(t.values()):[];if(i){const s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return q6(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class zce extends tL{constructor(e,t,i,r,o,a,s=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],a=i+t,s=t/a,l=Av(e[0]);l.set("offset",0),o.push(l);const c=Av(e[0]);c.set("offset",Rgt(s)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Av(e[d]);const p=h.get("offset");h.set("offset",Rgt((t+p*i)/a)),o.push(h)}i=a,t=0,r="",e=o}return q6(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Rgt(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class J6{}const Gce=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hce extends J6{normalizePropertyName(e,t){return Y6(e)}normalizeStyleValue(e,t,i,r){let o="";const a=i.toString().trim();if(Gce.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function Rle(n,e){return new Ke(3005,!1)}())}return a+o}}function Lgt(n,e,t,i,r,o,a,s,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const tG={};class Ogt{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function jce(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,a,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||tG,g=this.buildStyles(i,s&&s.params||tG,d),y=l&&l.params||tG,b=this.buildStyles(r,y,d),w=new Set,C=new Map,E=new Map,k="void"===r,j={params:Wce(y,h),delay:this.ast.options?.delay},H=u?[]:K6(e,t,this.ast.animation,o,a,g,b,j,c,d);let it=0;if(H.forEach(lt=>{it=Math.max(lt.duration+lt.delay,it)}),d.length)return Lgt(t,this._triggerName,i,r,k,g,b,[],[],C,E,it,d);H.forEach(lt=>{const Lt=lt.element,kt=Ch(C,Lt,new Set);lt.preStyleProps.forEach(ne=>kt.add(ne));const Jt=Ch(E,Lt,new Set);lt.postStyleProps.forEach(ne=>Jt.add(ne)),Lt!==t&&w.add(Lt)});const yt=ZR(w.values());return Lgt(t,this._triggerName,i,r,k,g,b,H,yt,C,E,it)}}function Wce(n,e){const t=ZM(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Zce{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=ZM(this.defaultParams);return Object.keys(e).forEach(o=>{const a=e[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=XM(a,r,t));const l=this.normalizer.normalizePropertyName(s,t);a=this.normalizer.normalizeStyleValue(s,l,a,t),i.set(s,a)})}),i}}class Xce{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Zce(r.style,r.options&&r.options.params||{},i))}),Ngt(this.states,"true","1"),Ngt(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Ogt(e,r,this.states))}),this.fallbackTransition=function $ce(n,e,t){return new Ogt(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ngt(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qce=new QR;class Kce{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=X6(this._driver,t,i,r);if(i.length)throw function Kle(n){return new Ke(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=pgt(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let a;const s=new Map;if(o?(a=K6(this._driver,t,o,H6,GR,new Map,new Map,i,qce,r),a.forEach(u=>{const d=Ch(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Qle(){return new Ke(3300,!1)}()),a=[]),r.length)throw function Jle(n){return new Ke(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,bm))})});const c=Dv(a.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tce(n){return new Ke(3301,!1)}();return t}listen(e,t,i,r){const o=V6(t,"","","");return F6(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Fgt="ng-animate-queued",eG="ng-animate-disabled",nue=[],Bgt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},df="__ng_removed";class nG{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function sue(n){return n??null}(i?e.value:e),i){const o=ZM(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const $M="void",iG=new nG($M);class rue{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hf(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ece(n,e){return new Ke(3302,!1)}();if(null==i||0==i.length)throw function nce(n){return new Ke(3303,!1)}();if(!function lue(n){return"start"==n||"done"==n}(i))throw function ice(n,e){return new Ke(3400,!1)}();const o=Ch(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};o.push(a);const s=Ch(this._engine.statesByElement,e,new Map);return s.has(t)||(hf(e,HR),hf(e,HR+"-"+t),s.set(t,iG)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function rce(n){return new Ke(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),a=new rG(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(hf(e,HR),hf(e,HR+"-"+t),this._engine.statesByElement.set(e,s=new Map));let l=s.get(t);const c=new nG(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=iG),c.value!==$M&&l.value===c.value){if(!function due(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const y=[],b=o.matchStyles(l.value,l.params,y),w=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{n0(e,b),Yp(e,w)})}return}const h=Ch(this._engine.playersByElement,e,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!r)return;p=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:g}),g||(hf(e,Fgt),a.onStart(()=>{qx(e,Fgt)})),a.onDone(()=>{let y=this.players.indexOf(a);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(e);if(b){let w=b.indexOf(a);w>=0&&b.splice(w,1)}}),this.players.push(a),h.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,jR,!0);i.forEach(r=>{if(r[df])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),a=new Map;if(o){const s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,$M,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&Dv(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const l=this._triggers.get(a).fallbackTransition,c=i.get(a)||iG,u=new nG($M),d=new rG(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[df];(!o||o===Bgt)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){hf(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){const l=V6(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,F6(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class oue{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new rue(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(t);for(;s;){const l=r.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(eL(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!eL(t))return;const o=t[df];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hf(e,eG)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qx(e,eG))}removeNode(e,t,i,r){if(eL(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[df]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return eL(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,jR,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,j6,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Dv(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[df];if(t&&t.setForRemoval){if(e[df]=Bgt,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(eG)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)hf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Dv(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function oce(n){return new Ke(3402,!1)}()}_flushAnimations(e,t){const i=new QR,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(be=>{u.add(be);const Be=this.driver.query(be,".ng-animate-queued",!0);for(let Ne=0;Ne<Be.length;Ne++)u.add(Be[Ne])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=Ugt(h,this.collectedEnterElements),g=new Map;let y=0;p.forEach((be,Be)=>{const Ne=H6+y++;g.set(Be,Ne),be.forEach(Qe=>hf(Qe,Ne))});const b=[],w=new Set,C=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const Be=this.collectedLeaveElements[be],Ne=Be[df];Ne&&Ne.setForRemoval&&(b.push(Be),w.add(Be),Ne.hasAnimation?this.driver.query(Be,".ng-star-inserted",!0).forEach(Qe=>w.add(Qe)):C.add(Be))}const E=new Map,k=Ugt(h,Array.from(w));k.forEach((be,Be)=>{const Ne=GR+y++;E.set(Be,Ne),be.forEach(Qe=>hf(Qe,Ne))}),e.push(()=>{p.forEach((be,Be)=>{const Ne=g.get(Be);be.forEach(Qe=>qx(Qe,Ne))}),k.forEach((be,Be)=>{const Ne=E.get(Be);be.forEach(Qe=>qx(Qe,Ne))}),b.forEach(be=>{this.processLeaveNode(be)})});const j=[],H=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(t).forEach(Ne=>{const Qe=Ne.player,In=Ne.element;if(j.push(Qe),this.collectedEnterElements.length){const Ui=In[df];if(Ui&&Ui.setForMove){if(Ui.previousTriggersValues&&Ui.previousTriggersValues.has(Ne.triggerName)){const Gi=Ui.previousTriggersValues.get(Ne.triggerName),ar=this.statesByElement.get(Ne.element);if(ar&&ar.has(Ne.triggerName)){const Er=ar.get(Ne.triggerName);Er.value=Gi,ar.set(Ne.triggerName,Er)}}return void Qe.destroy()}}const Fn=!d||!this.driver.containsElement(d,In),Kn=E.get(In),Qn=g.get(In),zn=this._buildInstruction(Ne,i,Qn,Kn,Fn);if(zn.errors&&zn.errors.length)return void H.push(zn);if(Fn)return Qe.onStart(()=>n0(In,zn.fromStyles)),Qe.onDestroy(()=>Yp(In,zn.toStyles)),void r.push(Qe);if(Ne.isFallbackTransition)return Qe.onStart(()=>n0(In,zn.fromStyles)),Qe.onDestroy(()=>Yp(In,zn.toStyles)),void r.push(Qe);const zi=[];zn.timelines.forEach(Ui=>{Ui.stretchStartingKeyframe=!0,this.disabledNodes.has(Ui.element)||zi.push(Ui)}),zn.timelines=zi,i.append(In,zn.timelines),a.push({instruction:zn,player:Qe,element:In}),zn.queriedElements.forEach(Ui=>Ch(s,Ui,[]).push(Qe)),zn.preStyleProps.forEach((Ui,Gi)=>{if(Ui.size){let ar=l.get(Gi);ar||l.set(Gi,ar=new Set),Ui.forEach((Er,Ei)=>ar.add(Ei))}}),zn.postStyleProps.forEach((Ui,Gi)=>{let ar=c.get(Gi);ar||c.set(Gi,ar=new Set),Ui.forEach((Er,Ei)=>ar.add(Ei))})});if(H.length){const be=[];H.forEach(Be=>{be.push(function ace(n,e){return new Ke(3505,!1)}())}),j.forEach(Be=>Be.destroy()),this.reportError(be)}const it=new Map,yt=new Map;a.forEach(be=>{const Be=be.element;i.has(Be)&&(yt.set(Be,Be),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,it))}),r.forEach(be=>{const Be=be.element;this._getPreviousPlayers(Be,!1,be.namespaceId,be.triggerName,null).forEach(Qe=>{Ch(it,Be,[]).push(Qe),Qe.destroy()})});const lt=b.filter(be=>Hgt(be,l,c)),Lt=new Map;zgt(Lt,this.driver,C,c,bm).forEach(be=>{Hgt(be,l,c)&&lt.push(be)});const Jt=new Map;p.forEach((be,Be)=>{zgt(Jt,this.driver,new Set(be),l,ZN)}),lt.forEach(be=>{const Be=Lt.get(be),Ne=Jt.get(be);Lt.set(be,new Map([...Array.from(Be?.entries()??[]),...Array.from(Ne?.entries()??[])]))});const ne=[],ce=[],Ee={};a.forEach(be=>{const{element:Be,player:Ne,instruction:Qe}=be;if(i.has(Be)){if(u.has(Be))return Ne.onDestroy(()=>Yp(Be,Qe.toStyles)),Ne.disabled=!0,Ne.overrideTotalTime(Qe.totalTime),void r.push(Ne);let In=Ee;if(yt.size>1){let Kn=Be;const Qn=[];for(;Kn=Kn.parentNode;){const zn=yt.get(Kn);if(zn){In=zn;break}Qn.push(Kn)}Qn.forEach(zn=>yt.set(zn,In))}const Fn=this._buildAnimation(Ne.namespaceId,Qe,it,o,Jt,Lt);if(Ne.setRealPlayer(Fn),In===Ee)ne.push(Ne);else{const Kn=this.playersByElement.get(In);Kn&&Kn.length&&(Ne.parentPlayer=Dv(Kn)),r.push(Ne)}}else n0(Be,Qe.fromStyles),Ne.onDestroy(()=>Yp(Be,Qe.toStyles)),ce.push(Ne),u.has(Be)&&r.push(Ne)}),ce.forEach(be=>{const Be=o.get(be.element);if(Be&&Be.length){const Ne=Dv(Be);be.setRealPlayer(Ne)}}),r.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<b.length;be++){const Be=b[be],Ne=Be[df];if(qx(Be,GR),Ne&&Ne.hasAnimation)continue;let Qe=[];if(s.size){let Fn=s.get(Be);Fn&&Fn.length&&Qe.push(...Fn);let Kn=this.driver.query(Be,j6,!0);for(let Qn=0;Qn<Kn.length;Qn++){let zn=s.get(Kn[Qn]);zn&&zn.length&&Qe.push(...zn)}}const In=Qe.filter(Fn=>!Fn.destroyed);In.length?cue(this,Be,In):this.processLeaveNode(Be)}return b.length=0,ne.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const Be=this.players.indexOf(be);this.players.splice(Be,1)}),be.play()}),ne}elementContainsData(e,t){let i=!1;const r=t[df];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let a=[];if(t){const s=this.playersByQueriedElement.get(e);s&&(a=s)}else{const s=this.playersByElement.get(e);if(s){const l=!o||o==$M;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(e,t,i){const o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Ch(i,c,[]);this._getPreviousPlayers(c,u,a,s,t.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),d.push(p)})}n0(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,a){const s=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(g=>{const y=g.element;u.add(y);const b=y[df];if(b&&b.removedBeforeQueried)return new F1(g.duration,g.delay);const w=y!==l,C=function uue(n){const e=[];return Ggt(n,e),e}((i.get(y)||nue).map(it=>it.getRealPlayer())).filter(it=>!!it.element&&it.element===y),E=o.get(y),k=a.get(y),j=pgt(0,this._normalizer,0,g.keyframes,E,k),H=this._buildPlayer(g,j,C);if(g.subTimeline&&r&&d.add(y),w){const it=new rG(e,s,y);it.setRealPlayer(H),c.push(it)}return H});c.forEach(g=>{Ch(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function aue(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>hf(g,Sgt));const p=Dv(h);return p.onDestroy(()=>{u.forEach(g=>qx(g,Sgt)),Yp(l,t.toStyles)}),d.forEach(g=>{Ch(r,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new F1(e.duration,e.delay)}}class rG{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new F1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>F6(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ch(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function eL(n){return n&&1===n.nodeType}function Vgt(n,e){const t=n.style.display;return n.style.display=e??"none",t}function zgt(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Vgt(l)));const a=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[df]=iue,a.push(c))}),n.set(c,u)});let s=0;return t.forEach(l=>Vgt(l,o[s++])),a}function Ugt(n,e){const t=new Map;if(n.forEach(s=>t.set(s,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;const c=s.parentNode;return l=t.has(c)?c:r.has(c)?i:a(c),o.set(s,l),l}return e.forEach(s=>{const l=a(s);l!==i&&t.get(l).push(s)}),t}function hf(n,e){n.classList?.add(e)}function qx(n,e){n.classList?.remove(e)}function cue(n,e,t){Dv(t).onDone(()=>n.processLeaveNode(e))}function Ggt(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof UY?Ggt(i.players,e):e.push(i)}}function Hgt(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class nL{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new oue(e,t,i),this._timelineEngine=new Kce(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const a=e+"-"+r;let s=this._triggerCache[a];if(!s){const l=[],c=[],u=X6(this._driver,o,l,c);if(l.length)throw function $le(n,e){return new Ke(3404,!1)}();s=function Yce(n,e,t){return new Xce(n,e,t)}(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,a]=mgt(i);this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[a,s]=mgt(i);return this._timelineEngine.listen(a,t,s,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fue=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yp(this._element,this._initialStyles),this._endStyles&&(Yp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(n0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(n0(this._element,this._endStyles),this._endStyles=null),Yp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oG(n){let e=null;return n.forEach((t,i)=>{(function pue(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class jgt{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Agt(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class mue{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ygt(e,t)}getParentElement(e){return U6(e)}query(e,t,i){return bgt(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,a=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=a.filter(p=>p instanceof jgt);(function yce(n,e){return 0===n||0===e})(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((g,y)=>c.set(y,g))});let d=function mce(n){return n.length?n[0]instanceof Map?n:n.map(e=>Cgt(e)):[]}(t).map(p=>Av(p));d=function bce(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(s=>a.set(s,Agt(n,s)))}}return e}(e,d,c);const h=function hue(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=oG(e[0]),e.length>1&&(i=oG(e[e.length-1]))):e instanceof Map&&(t=oG(e)),t||i?new fue(n,t,i):null}(e,d);return new jgt(e,d,l,h)}}let gue=(()=>{class n extends BY{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ds.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?VY(t):t;return Wgt(this._renderer,null,i,"register",[r]),new vue(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(on(Uw),on(io))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class vue extends eAt{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _ue(this._id,e,t||{},this._renderer)}}class _ue{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Wgt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wgt(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Zgt="@.disabled";let yue=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const s=a?.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new Ygt("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const a=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(a,s,t,u.name,u)};return i.data.animation.forEach(l),new bue(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(on(Uw),on(nL),on(vr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class Ygt{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Zgt?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class bue extends Ygt{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Zgt?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function xue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function wue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(e,t,i)}}let Sue=(()=>{class n extends nL{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(on(io),on(G6),on(J6),on(Y0))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const Xgt=[{provide:BY,useClass:gue},{provide:J6,useFactory:function Cue(){return new Hce}},{provide:nL,useClass:Sue},{provide:Uw,useFactory:function Mue(n,e,t){return new yue(n,e,t)},deps:[BT,nL,vr]}],aG=[{provide:G6,useFactory:()=>new mue},{provide:$c,useValue:"BrowserAnimations"},...Xgt],$gt=[{provide:G6,useClass:xgt},{provide:$c,useValue:"NoopAnimations"},...Xgt];let sG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$gt:aG}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:aG,imports:[Y9]}),n})();const Eue=function L$t(n,...e){const t=new Map;for(const i of e)for(const r of i.types){const o=t.get(r);t.set(r,o?(s,l)=>i.reducer(o(s,l),l):i.reducer)}return function(i=n,r){const o=t.get(r.type);return o?o(i,r):i}}({datasource:new Map,settings:{map:{Center:{lat:52.68340048498056,lng:6.190634965896607},Zoom:15},boundaries:{type:"Polygon",coordinates:e6},layers:{populationClusterd:!1,floorArea:!1,roofArea:!1,buildings:!1,energyLables:!0,roads:!1,energyConsumptionByStreets_KWH:!1,energyConsumptionByStreets_M3:!1}}},Z4(Xpt.retrievedGeojsonData,(n,{datasource:e})=>sR(n,t=>{t.datasource=e})),Z4(TR.setFilterMultipolygon,(n,{multipolygon:e})=>sR(n,t=>{t.settings.boundaries=e})),Z4(TR.toggleClustesrs,(n,{layersSetting:e})=>sR(n,t=>{t.settings.layers=e})));let Tue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,lc,wD,yr]}),n})(),qgt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,qM,qM,Tue,yr]}),n})();const zue={provide:new hn("mat-autocomplete-scroll-strategy"),deps:[Hd],useFactory:function Vue(n){return()=>n.scrollStrategies.reposition()}};let Qgt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[zue],imports:[up,ED,yr,lc,xm,ED,yr]}),n})(),Wue=(()=>{class n{constructor(){this.changes=new wt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ede={provide:new hn("mat-datepicker-scroll-strategy"),deps:[Hd],useFactory:function tde(n){return()=>n.scrollStrategies.reposition()}};let dG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Wue,ede],imports:[lc,O1,up,R1,ym,yr,xm]}),n})(),avt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,lc,Vh,yr]}),n})();const Sde={provide:new hn("mat-select-scroll-strategy"),deps:[Hd],useFactory:function wde(n){return()=>n.scrollStrategies.reposition()}};let hG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Sde],imports:[lc,up,ED,yr,xm,qM,ED,yr]}),n})(),cvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,lc,Vh]}),n})(),dvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({}),n})(),hvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[dvt,yr,Vh,lc,dvt,yr]}),n})(),fvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[R1,yr,yr]}),n})(),Gde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[db]}),n})(),fG=(()=>{class n{constructor(){this.changes=new wt,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jde={provide:fG,deps:[[new gl,new zo,fG]],useFactory:function Qde(n){return n||new fG}};let vvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Jde,VN],imports:[yr,lc,ym,Gde,rF,Vh,yr]}),n})(),yvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[lc,yr,ym,Vh,wD,R1,yr]}),n})(),Cvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,Vh,yr]}),n})();const aL=new hn("mat-chips-default-options");let kvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[VN,{provide:aL,useValue:{separatorKeyCodes:[13]}}],imports:[yr,lc,Vh,yr]}),n})(),Rvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr]}),n})();function Uhe(n,e){}class cL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Lvt=(()=>{class n extends jN{constructor(t,i,r,o,a,s,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=vD(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=vD();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(CD),ee(io,8),ee(cL),ee(k1),ee(vr),ee(V1),ee(hh))},n.\u0275cmp=Pi({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&fs(PD,7),2&t){let r;Fi(r=Bi())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&Mr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[ti],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&co(0,Uhe,0,0,"ng-template",0)},dependencies:[PD],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class bG{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new wt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ud(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Ovt=new hn("DialogScrollStrategy"),Ghe=new hn("DialogData"),Hhe=new hn("DefaultDialogConfig"),Whe={provide:Ovt,deps:[Hd],useFactory:function jhe(n){return()=>n.scrollStrategies.block()}};let Zhe=0,Nvt=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,a,s){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt,this._afterOpenedAtThisLevel=new wt,this._ariaHiddenElements=new Map,this.afterAllClosed=h1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bu(void 0))),this._scrollStrategy=s}open(t,i){(i={...this._defaultOptions||new cL,...i}).id=i.id||"cdk-dialog-"+Zhe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new bG(a,i),l=this._attachContainer(a,s,i);return s.containerInstance=l,this._attachDialogContent(t,s,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){xG(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){xG(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),xG(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new LD({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:cL,useValue:r},{provide:bG,useValue:i},{provide:V1,useValue:t}];let s;r.container?"function"==typeof r.container?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=Lvt;const l=new ID(s,r.viewContainerRef,Fu.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof Ic){const a=this._createInjector(o,i,r,void 0);let s={$implicit:o.data,dialogRef:i};o.templateContext&&(s={...s,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new N1(t,null,s,a))}else{const a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new ID(t,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=s.instance}}_createInjector(t,i,r,o){const a=t.injector||t.viewContainerRef?.injector,s=[{provide:Ghe,useValue:t.data},{provide:bG,useValue:i}];return t.providers&&("function"==typeof t.providers?s.push(...t.providers(i,t,r)):s.push(...t.providers)),t.direction&&(!a||!a.get(Gd,null,{optional:!0}))&&s.push({provide:Gd,useValue:{value:t.direction,change:nr()}}),Fu.create({parent:a||o,providers:s})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(on(Hd),on(Fu),on(Hhe,8),on(n,12),on(OD),on(Ovt))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function xG(n,e){let t=n.length;for(;t--;)e(n[t])}let Yhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Nvt,Whe],imports:[up,ym,R1,ym]}),n})();function Xhe(n,e){}class uL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wG="mdc-dialog--open",Fvt="mdc-dialog--opening",Bvt="mdc-dialog--closing";let Khe=(()=>{class n extends Lvt{constructor(t,i,r,o,a,s,l,c){super(t,i,r,o,a,s,l,c),this._animationStateChanged=new _r}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(CD),ee(io,8),ee(uL),ee(k1),ee(vr),ee(V1),ee(hh))},n.\u0275cmp=Pi({type:n,selectors:[["ng-component"]],features:[ti],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const Vvt="--mat-dialog-transition-duration";function zvt(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ol(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ol(n.substring(0,n.length-1)):"0"===n?0:null}let Qhe=(()=>{class n extends Khe{constructor(t,i,r,o,a,s,l,c,u){super(t,i,r,o,a,s,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?zvt(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?zvt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Vvt,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Fvt),this._hostElement.classList.add(wG),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(wG),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(wG),this._animationsEnabled?(this._hostElement.style.setProperty(Vvt,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Bvt),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Fvt),this._hostElement.classList.remove(Bvt)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ni),ee(CD),ee(io,8),ee(uL),ee(k1),ee(vr),ee(V1),ee($c,8),ee(hh))},n.\u0275cmp=Pi({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(Lh("id",i._config.id),Mr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),no("_mat-animation-noopable",!i._animationsEnabled))},features:[ti],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(Rn(0,"div",0)(1,"div",1),co(2,Xhe,0,0,"ng-template",2),Gn()())},dependencies:[PD],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Jhe{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new wt,this._beforeClosed=new wt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(go(r=>"opened"===r.state),Ks(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(go(r=>"closed"===r.state),Ks(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),qe(this.backdropClick(),this.keydownEvents().pipe(go(r=>27===r.keyCode&&!this.disableClose&&!Ud(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function tfe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(go(t=>"closing"===t.state),Ks(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const efe=new hn("MatMdcDialogData"),nfe=new hn("mat-mdc-dialog-default-options"),Uvt=new hn("mat-mdc-dialog-scroll-strategy"),rfe={provide:Uvt,deps:[Hd],useFactory:function ife(n){return()=>n.scrollStrategies.block()}};let ofe=0,afe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,a,s,l,c,u,d){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt,this._afterOpenedAtThisLevel=new wt,this._idPrefix="mat-dialog-",this.dialogConfigClass=uL,this.afterAllClosed=h1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bu(void 0))),this._scrollStrategy=s,this._dialog=i.get(Nvt)}open(t,i){let r;(i={...this._defaultOptions||new uL,...i}).id=i.id||`${this._idPrefix}${ofe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:cL,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){_g()},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),sfe=(()=>{class n extends afe{constructor(t,i,r,o,a,s,l,c){super(t,i,o,s,l,a,Jhe,Qhe,efe,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(on(Hd),on(Fu),on(o1,8),on(nfe,8),on(Uvt),on(n,12),on(OD),on($c,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),Gvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[sfe,rfe],imports:[Yhe,up,ym,yr,yr]}),n})();const dfe={provide:new hn("mat-tooltip-scroll-strategy"),deps:[Hd],useFactory:function ufe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[dfe],imports:[R1,lc,up,yr,yr,xm]}),n})(),jvt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[up,ym,lc,O1,yr,yr]}),n})(),Afe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[XN]}),n})(),e_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({imports:[yr,Afe,yr]}),n})(),LG=(()=>{class n{constructor(){this.changes=new wt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xfe={provide:LG,deps:[[new gl,new zo,LG]],useFactory:function Yfe(n){return n||new LG}};let n_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Xfe],imports:[lc,yr]}),n})(),OG=(()=>{class n{constructor(){this.changes=new wt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=t*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jfe={provide:OG,deps:[[new gl,new zo,OG]],useFactory:function Qfe(n){return n||new OG}};let i_t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[Jfe],imports:[lc,O1,hG,SG]}),n})(),tpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n}),n.\u0275inj=On({providers:[dG],imports:[lc,sG,UR,UR,O1,qgt,Qgt,dG,qM,avt,hG,cvt,hvt,eX,Upt,fvt,igt,hgt,aX,dX,vvt,yvt,Lpt,Cvt,kvt,rF,Npt,Rvt,Gvt,SG,jvt,e_t,n_t,i_t,EDt,Ypt,up,sG,UR,UR,O1,qgt,Qgt,dG,qM,avt,hG,cvt,hvt,eX,Upt,fvt,igt,hgt,aX,dX,vvt,yvt,Lpt,Cvt,kvt,rF,Npt,Rvt,Gvt,SG,jvt,e_t,n_t,i_t,Ypt,up]}),n})(),epe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=yi({type:n,bootstrap:[Tle]}),n.\u0275inj=On({imports:[Y9,jIt,Gse,sG,DTt,tpe,pse,R$t.forRoot({appMapSate:Eue})]}),n})();OCt().bootstrapModule(epe).catch(n=>console.error(n))},8325:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>G});var J=Z(25),rt=Z(8261);const F=globalThis;function G(O){if(!O&&!(0,J.Z)())return"Node";if((0,rt.Z)(O))return"Electron";const ot=O||(typeof navigator<"u"?navigator:{}).userAgent||"";if(ot.indexOf("Edge")>-1)return"Edge";const st=-1!==ot.indexOf("MSIE "),at=-1!==ot.indexOf("Trident/");return st||at?"IE":F.chrome?"Chrome":F.safari?"Safari":F.mozInnerScreenX?"Firefox":"Unknown"}},25:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>rt});var J=Z(8261);function rt(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||(0,J.Z)()}},8261:(Ye,oe,Z)=>{"use strict";function J(rt){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const F="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,Y=rt||F;return!!(Y&&Y.indexOf("Electron")>=0)}Z.d(oe,{Z:()=>J})},787:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Tt});var J=Z(1180),rt=Z(25);const F=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";(0,rt.Z)();class O{constructor(ae,ue){let Pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,J.Z)(this,"storage",void 0),(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"config",void 0),this.storage=function G(jt){try{const ae=window[jt],ue="__storage_test__";return ae.setItem(ue,ue),ae.removeItem(ue),ae}catch{return null}}(Pe),this.id=ae,this.config=ue,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(ae){if(Object.assign(this.config,ae),this.storage){const ue=JSON.stringify(this.config);this.storage.setItem(this.id,ue)}}_loadConfiguration(){let ae={};if(this.storage){const ue=this.storage.getItem(this.id);ae=ue?JSON.parse(ue):{}}return Object.assign(this.config,ae),this}}function N(jt,ae,ue){let Pe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const He=jt.src.replace(/\(/g,"%28").replace(/\)/g,"%29");jt.width>Pe&&(ue=Math.min(ue,Pe/jt.width));const de=jt.width*ue,we=jt.height*ue,Se=["font-size:1px;","padding:".concat(Math.floor(we/2),"px ").concat(Math.floor(de/2),"px;"),"line-height:".concat(we,"px;"),"background:url(".concat(He,");"),"background-size:".concat(de,"px ").concat(we,"px;"),"color:transparent;"].join("");return["".concat(ae," %c+"),Se]}let V;var jt;function bt(jt){return"string"==typeof jt?V[jt.toUpperCase()]||V.WHITE:jt}function W(jt,ae){if(!jt)throw new Error(ae||"Assertion failed")}(jt=V||(V={}))[jt.BLACK=30]="BLACK",jt[jt.RED=31]="RED",jt[jt.GREEN=32]="GREEN",jt[jt.YELLOW=33]="YELLOW",jt[jt.BLUE=34]="BLUE",jt[jt.MAGENTA=35]="MAGENTA",jt[jt.CYAN=36]="CYAN",jt[jt.WHITE=37]="WHITE",jt[jt.BRIGHT_BLACK=90]="BRIGHT_BLACK",jt[jt.BRIGHT_RED=91]="BRIGHT_RED",jt[jt.BRIGHT_GREEN=92]="BRIGHT_GREEN",jt[jt.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",jt[jt.BRIGHT_BLUE=94]="BRIGHT_BLUE",jt[jt.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",jt[jt.BRIGHT_CYAN=96]="BRIGHT_CYAN",jt[jt.BRIGHT_WHITE=97]="BRIGHT_WHITE";const nt={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},gt=(globalThis,nt.window||nt.self||nt.global),Ct=nt.process||{};function Pt(){let jt;var ae,ue;if(rt.Z&&"performance"in gt)jt=null==gt||null===(ae=gt.performance)||void 0===ae||null===(ue=ae.now)||void 0===ue?void 0:ue.call(ae);else if("hrtime"in Ct){var Pe;const He=null==Ct||null===(Pe=Ct.hrtime)||void 0===Pe?void 0:Pe.call(Ct);jt=1e3*He[0]+He[1]/1e6}else jt=Date.now();return jt}console;const Dt={debug:rt.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},It={enabled:!0,level:0};function ut(){}const re={},se={once:!0};class Tt{constructor(){let{id:ae}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"VERSION",F),(0,J.Z)(this,"_startTs",Pt()),(0,J.Z)(this,"_deltaTs",Pt()),(0,J.Z)(this,"_storage",void 0),(0,J.Z)(this,"userData",{}),(0,J.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=ae,this.userData={},this._storage=new O("__probe-".concat(this.id,"__"),It),this.timeStamp("".concat(this.id," started")),function tt(jt){let ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const ue=Object.getPrototypeOf(jt),Pe=Object.getOwnPropertyNames(ue);for(const He of Pe)"function"==typeof jt[He]&&(ae.find(de=>He===de)||(jt[He]=jt[He].bind(jt)))}(this),Object.seal(this)}set level(ae){this.setLevel(ae)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Pt()-this._startTs).toPrecision(10))}getDelta(){return Number((Pt()-this._deltaTs).toPrecision(10))}set priority(ae){this.level=ae}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(ae){return this._storage.setConfiguration({level:ae}),this}get(ae){return this._storage.config[ae]}set(ae,ue){this._storage.setConfiguration({[ae]:ue})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(ae,ue){W(ae,ue)}warn(ae){return this._getLogFunction(0,ae,Dt.warn,arguments,se)}error(ae){return this._getLogFunction(0,ae,Dt.error,arguments)}deprecated(ae,ue){return this.warn("`".concat(ae,"` is deprecated and will be removed in a later version. Use `").concat(ue,"` instead"))}removed(ae,ue){return this.error("`".concat(ae,"` has been removed. Use `").concat(ue,"` instead"))}probe(ae,ue){return this._getLogFunction(ae,ue,Dt.log,arguments,{time:!0,once:!0})}log(ae,ue){return this._getLogFunction(ae,ue,Dt.debug,arguments)}info(ae,ue){return this._getLogFunction(ae,ue,console.info,arguments)}once(ae,ue){for(var Pe=arguments.length,He=new Array(Pe>2?Pe-2:0),de=2;de<Pe;de++)He[de-2]=arguments[de];return this._getLogFunction(ae,ue,Dt.debug||Dt.info,arguments,se)}table(ae,ue,Pe){return ue?this._getLogFunction(ae,ue,console.table||ut,Pe&&[Pe],{tag:Ce(ue)}):ut}image(ae){let{logLevel:ue,priority:Pe,image:He,message:de="",scale:we=1}=ae;return this._shouldLog(ue||Pe)?rt.Z?function Vt(jt){let{image:ae,message:ue="",scale:Pe=1}=jt;if("string"==typeof ae){const de=new Image;return de.onload=()=>{const we=N(de,ue,Pe);console.log(...we)},de.src=ae,ut}const He=ae.nodeName||"";if("img"===He.toLowerCase())return console.log(...N(ae,ue,Pe)),ut;if("canvas"===He.toLowerCase()){const de=new Image;return de.onload=()=>console.log(...N(de,ue,Pe)),de.src=ae.toDataURL(),ut}return ut}({image:He,message:de,scale:we}):function Zt(jt){let{message:ue="",scale:Pe=1}=jt;return console.warn("removed"),ut}({image:He,message:de,scale:we}):ut}time(ae,ue){return this._getLogFunction(ae,ue,console.time?console.time:console.info)}timeEnd(ae,ue){return this._getLogFunction(ae,ue,console.timeEnd?console.timeEnd:console.info)}timeStamp(ae,ue){return this._getLogFunction(ae,ue,console.timeStamp||ut)}group(ae,ue){let Pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const He=dt({logLevel:ae,message:ue,opts:Pe}),{collapsed:de}=Pe;return He.method=(de?console.groupCollapsed:console.group)||console.info,this._getLogFunction(He)}groupCollapsed(ae,ue){return this.group(ae,ue,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(ae){return this._getLogFunction(ae,"",console.groupEnd||ut)}withGroup(ae,ue,Pe){this.group(ae,ue)();try{Pe()}finally{this.groupEnd(ae)()}}trace(){console.trace&&console.trace()}_shouldLog(ae){return this.isEnabled()&&this.getLevel()>=_t(ae)}_getLogFunction(ae,ue,Pe,He,de){if(this._shouldLog(ae)){de=dt({logLevel:ae,message:ue,args:He,opts:de}),W(Pe=Pe||de.method),de.total=this.getTotal(),de.delta=this.getDelta(),this._deltaTs=Pt();const we=de.tag||de.message;if(de.once){if(re[we])return ut;re[we]=Pt()}return ue=function St(jt,ae,ue){if("string"==typeof ae){const Pe=ue.time?function ot(jt){const ue=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-jt.length,0);return"".concat(" ".repeat(ue)).concat(jt)}(function Q(jt){let ae;return ae=jt<10?"".concat(jt.toFixed(2),"ms"):jt<100?"".concat(jt.toFixed(1),"ms"):jt<1e3?"".concat(jt.toFixed(0),"ms"):"".concat((jt/1e3).toFixed(2),"s"),ae}(ue.total)):"";ae=function X(jt,ae,ue){return!rt.Z&&"string"==typeof jt&&(ae&&(ae=bt(ae),jt="\x1b[".concat(ae,"m").concat(jt,"\x1b[39m")),ue&&(ae=bt(ue),jt="\x1b[".concat(ue+10,"m").concat(jt,"\x1b[49m"))),jt}(ae=ue.time?"".concat(jt,": ").concat(Pe,"  ").concat(ae):"".concat(jt,": ").concat(ae),ue.color,ue.background)}return ae}(this.id,de.message,de),Pe.bind(console,ue,...de.args)}return ut}}function _t(jt){if(!jt)return 0;let ae;switch(typeof jt){case"number":ae=jt;break;case"object":ae=jt.logLevel||jt.priority||0;break;default:return 0}return W(Number.isFinite(ae)&&ae>=0),ae}function dt(jt){const{logLevel:ae,message:ue}=jt;jt.logLevel=_t(ae);const Pe=jt.args?Array.from(jt.args):[];for(;Pe.length&&Pe.shift()!==ue;);switch(typeof ae){case"string":case"function":void 0!==ue&&Pe.unshift(ue),jt.message=ae;break;case"object":Object.assign(jt,ae)}"function"==typeof jt.message&&(jt.message=jt.message());const He=typeof jt.message;return W("string"===He||"object"===He),Object.assign(jt,{args:Pe},jt.opts)}function Ce(jt){for(const ae in jt)for(const ue in jt[ae])return ue||"untitled";return"empty"}(0,J.Z)(Tt,"VERSION",F)},5651:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Z:()=>Y});var J=Z(1180);function rt(){let G;if(typeof window<"u"&&window.performance)G=window.performance.now();else if(typeof process<"u"&&process.hrtime){const O=process.hrtime();G=1e3*O[0]+O[1]/1e6}else G=Date.now();return G}class F{constructor(O,Q){(0,J.Z)(this,"name",void 0),(0,J.Z)(this,"type",void 0),(0,J.Z)(this,"sampleSize",1),(0,J.Z)(this,"time",void 0),(0,J.Z)(this,"count",void 0),(0,J.Z)(this,"samples",void 0),(0,J.Z)(this,"lastTiming",void 0),(0,J.Z)(this,"lastSampleTime",void 0),(0,J.Z)(this,"lastSampleCount",void 0),(0,J.Z)(this,"_count",0),(0,J.Z)(this,"_time",0),(0,J.Z)(this,"_samples",0),(0,J.Z)(this,"_startTime",0),(0,J.Z)(this,"_timerPending",!1),this.name=O,this.type=Q,this.reset()}setSampleSize(O){return this.sampleSize=O,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(O){return this._count+=O,this._samples++,this._checkSampling(),this}subtractCount(O){return this._count-=O,this._samples++,this._checkSampling(),this}addTime(O){return this._time+=O,this.lastTiming=O,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=rt(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(rt()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Y{constructor(O){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"stats",{}),this.id=O.id,this.stats={},this._initializeStats(O.stats),Object.seal(this)}get(O){return this._getOrCreate({name:O,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const O in this.stats)this.stats[O].reset();return this}forEach(O){for(const Q in this.stats)O(this.stats[Q])}getTable(){const O={};return this.forEach(Q=>{O[Q.name]={time:Q.time||0,count:Q.count||0,average:Q.getAverageTime()||0,hz:Q.getHz()||0}}),O}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Q=>this._getOrCreate(Q))}_getOrCreate(O){if(!O||!O.name)return null;const{name:Q,type:ot}=O;return this.stats[Q]||(this.stats[Q]=O instanceof F?O:new F(Q,ot)),this.stats[Q]}}},1503:(Ye,oe,Z)=>{"use strict";var rt=Z(3269);function F(Y){var G=[1/0,1/0,-1/0,-1/0];return rt.coordEach(Y,function(O){G[0]>O[0]&&(G[0]=O[0]),G[1]>O[1]&&(G[1]=O[1]),G[2]<O[0]&&(G[2]=O[0]),G[3]<O[1]&&(G[3]=O[1])}),G}F.default=F,oe.Z=F},8275:(Ye,oe)=>{"use strict";function Z(Dt,It,ut){void 0===ut&&(ut={});var re={type:"Feature"};return(0===ut.id||ut.id)&&(re.id=ut.id),ut.bbox&&(re.bbox=ut.bbox),re.properties=It||{},re.geometry=Dt,re}function rt(Dt,It,ut){if(void 0===ut&&(ut={}),!Dt)throw new Error("coordinates is required");if(!Array.isArray(Dt))throw new Error("coordinates must be an Array");if(Dt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Mt(Dt[0])||!Mt(Dt[1]))throw new Error("coordinates must contain numbers");return Z({type:"Point",coordinates:Dt},It,ut)}function Y(Dt,It,ut){void 0===ut&&(ut={});for(var re=0,se=Dt;re<se.length;re++){var Tt=se[re];if(Tt.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _t=0;_t<Tt[Tt.length-1].length;_t++)if(Tt[Tt.length-1][_t]!==Tt[0][_t])throw new Error("First and last Position are not equivalent.")}return Z({type:"Polygon",coordinates:Dt},It,ut)}function O(Dt,It,ut){if(void 0===ut&&(ut={}),Dt.length<2)throw new Error("coordinates must be an array of two or more positions");return Z({type:"LineString",coordinates:Dt},It,ut)}function ot(Dt,It){void 0===It&&(It={});var ut={type:"FeatureCollection"};return It.id&&(ut.id=It.id),It.bbox&&(ut.bbox=It.bbox),ut.features=Dt,ut}function st(Dt,It,ut){return void 0===ut&&(ut={}),Z({type:"MultiLineString",coordinates:Dt},It,ut)}function at(Dt,It,ut){return void 0===ut&&(ut={}),Z({type:"MultiPoint",coordinates:Dt},It,ut)}function $(Dt,It,ut){return void 0===ut&&(ut={}),Z({type:"MultiPolygon",coordinates:Dt},It,ut)}function bt(Dt,It){void 0===It&&(It="kilometers");var ut=oe.factors[It];if(!ut)throw new Error(It+" units is invalid");return Dt*ut}function X(Dt,It){void 0===It&&(It="kilometers");var ut=oe.factors[It];if(!ut)throw new Error(It+" units is invalid");return Dt/ut}function nt(Dt){return Dt%(2*Math.PI)*180/Math.PI}function Mt(Dt){return!isNaN(Dt)&&null!==Dt&&!Array.isArray(Dt)}Object.defineProperty(oe,"__esModule",{value:!0}),oe.earthRadius=6371008.8,oe.factors={centimeters:100*oe.earthRadius,centimetres:100*oe.earthRadius,degrees:oe.earthRadius/111325,feet:3.28084*oe.earthRadius,inches:39.37*oe.earthRadius,kilometers:oe.earthRadius/1e3,kilometres:oe.earthRadius/1e3,meters:oe.earthRadius,metres:oe.earthRadius,miles:oe.earthRadius/1609.344,millimeters:1e3*oe.earthRadius,millimetres:1e3*oe.earthRadius,nauticalmiles:oe.earthRadius/1852,radians:1,yards:1.0936*oe.earthRadius},oe.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/oe.earthRadius,yards:1.0936133},oe.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},oe.feature=Z,oe.geometry=function J(Dt,It,ut){switch(void 0===ut&&(ut={}),Dt){case"Point":return rt(It).geometry;case"LineString":return O(It).geometry;case"Polygon":return Y(It).geometry;case"MultiPoint":return at(It).geometry;case"MultiLineString":return st(It).geometry;case"MultiPolygon":return $(It).geometry;default:throw new Error(Dt+" is invalid")}},oe.point=rt,oe.points=function F(Dt,It,ut){return void 0===ut&&(ut={}),ot(Dt.map(function(re){return rt(re,It)}),ut)},oe.polygon=Y,oe.polygons=function G(Dt,It,ut){return void 0===ut&&(ut={}),ot(Dt.map(function(re){return Y(re,It)}),ut)},oe.lineString=O,oe.lineStrings=function Q(Dt,It,ut){return void 0===ut&&(ut={}),ot(Dt.map(function(re){return O(re,It)}),ut)},oe.featureCollection=ot,oe.multiLineString=st,oe.multiPoint=at,oe.multiPolygon=$,oe.geometryCollection=function N(Dt,It,ut){return void 0===ut&&(ut={}),Z({type:"GeometryCollection",geometries:Dt},It,ut)},oe.round=function V(Dt,It){if(void 0===It&&(It=0),It&&!(It>=0))throw new Error("precision must be a positive number");var ut=Math.pow(10,It||0);return Math.round(Dt*ut)/ut},oe.radiansToLength=bt,oe.lengthToRadians=X,oe.lengthToDegrees=function tt(Dt,It){return nt(X(Dt,It))},oe.bearingToAzimuth=function W(Dt){var It=Dt%360;return It<0&&(It+=360),It},oe.radiansToDegrees=nt,oe.degreesToRadians=function z(Dt){return Dt%360*Math.PI/180},oe.convertLength=function ct(Dt,It,ut){if(void 0===It&&(It="kilometers"),void 0===ut&&(ut="kilometers"),!(Dt>=0))throw new Error("length must be a positive number");return bt(X(Dt,It),ut)},oe.convertArea=function gt(Dt,It,ut){if(void 0===It&&(It="meters"),void 0===ut&&(ut="kilometers"),!(Dt>=0))throw new Error("area must be a positive number");var re=oe.areaFactors[It];if(!re)throw new Error("invalid original units");var se=oe.areaFactors[ut];if(!se)throw new Error("invalid final units");return Dt/re*se},oe.isNumber=Mt,oe.isObject=function Ct(Dt){return!!Dt&&Dt.constructor===Object},oe.validateBBox=function q(Dt){if(!Dt)throw new Error("bbox is required");if(!Array.isArray(Dt))throw new Error("bbox must be an Array");if(4!==Dt.length&&6!==Dt.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Dt.forEach(function(It){if(!Mt(It))throw new Error("bbox must only contain numbers")})},oe.validateId=function Pt(Dt){if(!Dt)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Dt))throw new Error("id must be a number or a string")}},3269:(Ye,oe,Z)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});var J=Z(8275);function rt(z,ct,gt){if(null!==z)for(var Mt,Ct,q,Pt,Dt,It,ut,Tt,re=0,se=0,_t=z.type,dt="FeatureCollection"===_t,St="Feature"===_t,Zt=dt?z.features.length:1,Vt=0;Vt<Zt;Vt++){Dt=(Tt=!!(ut=dt?z.features[Vt].geometry:St?z.geometry:z)&&"GeometryCollection"===ut.type)?ut.geometries.length:1;for(var Ce=0;Ce<Dt;Ce++){var jt=0,ae=0;if(null!==(Pt=Tt?ut.geometries[Ce]:ut)){It=Pt.coordinates;var ue=Pt.type;switch(re=!gt||"Polygon"!==ue&&"MultiPolygon"!==ue?0:1,ue){case null:break;case"Point":if(!1===ct(It,se,Vt,jt,ae))return!1;se++,jt++;break;case"LineString":case"MultiPoint":for(Mt=0;Mt<It.length;Mt++){if(!1===ct(It[Mt],se,Vt,jt,ae))return!1;se++,"MultiPoint"===ue&&jt++}"LineString"===ue&&jt++;break;case"Polygon":case"MultiLineString":for(Mt=0;Mt<It.length;Mt++){for(Ct=0;Ct<It[Mt].length-re;Ct++){if(!1===ct(It[Mt][Ct],se,Vt,jt,ae))return!1;se++}"MultiLineString"===ue&&jt++,"Polygon"===ue&&ae++}"Polygon"===ue&&jt++;break;case"MultiPolygon":for(Mt=0;Mt<It.length;Mt++){for(ae=0,Ct=0;Ct<It[Mt].length;Ct++){for(q=0;q<It[Mt][Ct].length-re;q++){if(!1===ct(It[Mt][Ct][q],se,Vt,jt,ae))return!1;se++}ae++}jt++}break;case"GeometryCollection":for(Mt=0;Mt<Pt.geometries.length;Mt++)if(!1===rt(Pt.geometries[Mt],ct,gt))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Y(z,ct){var gt;switch(z.type){case"FeatureCollection":for(gt=0;gt<z.features.length&&!1!==ct(z.features[gt].properties,gt);gt++);break;case"Feature":ct(z.properties,0)}}function O(z,ct){if("Feature"===z.type)ct(z,0);else if("FeatureCollection"===z.type)for(var gt=0;gt<z.features.length&&!1!==ct(z.features[gt],gt);gt++);}function st(z,ct){var gt,Mt,Ct,q,Pt,Dt,It,ut,re,se,Tt=0,_t="FeatureCollection"===z.type,dt="Feature"===z.type,St=_t?z.features.length:1;for(gt=0;gt<St;gt++){for(ut=_t?z.features[gt].properties:dt?z.properties:{},re=_t?z.features[gt].bbox:dt?z.bbox:void 0,se=_t?z.features[gt].id:dt?z.id:void 0,Pt=(It=!!(Dt=_t?z.features[gt].geometry:dt?z.geometry:z)&&"GeometryCollection"===Dt.type)?Dt.geometries.length:1,Ct=0;Ct<Pt;Ct++)if(null!==(q=It?Dt.geometries[Ct]:Dt))switch(q.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===ct(q,Tt,ut,re,se))return!1;break;case"GeometryCollection":for(Mt=0;Mt<q.geometries.length;Mt++)if(!1===ct(q.geometries[Mt],Tt,ut,re,se))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===ct(null,Tt,ut,re,se))return!1;Tt++}}function $(z,ct){st(z,function(gt,Mt,Ct,q,Pt){var It,Dt=null===gt?null:gt.type;switch(Dt){case null:case"Point":case"LineString":case"Polygon":return!1!==ct(J.feature(gt,Ct,{bbox:q,id:Pt}),Mt,0)&&void 0}switch(Dt){case"MultiPoint":It="Point";break;case"MultiLineString":It="LineString";break;case"MultiPolygon":It="Polygon"}for(var ut=0;ut<gt.coordinates.length;ut++)if(!1===ct(J.feature({type:It,coordinates:gt.coordinates[ut]},Ct),Mt,ut))return!1})}function V(z,ct){$(z,function(gt,Mt,Ct){var q=0;if(gt.geometry){var Pt=gt.geometry.type;if("Point"!==Pt&&"MultiPoint"!==Pt){var Dt,It=0,ut=0,re=0;if(!1===rt(gt,function(se,Tt,_t,dt,St){if(void 0===Dt||Mt>It||dt>ut||St>re)return Dt=se,It=Mt,ut=dt,re=St,void(q=0);var Zt=J.lineString([Dt,se],gt.properties);if(!1===ct(Zt,Mt,Ct,St,q))return!1;q++,Dt=se}))return!1}}})}function X(z,ct){if(!z)throw new Error("geojson is required");$(z,function(gt,Mt,Ct){if(null!==gt.geometry){var Pt=gt.geometry.coordinates;switch(gt.geometry.type){case"LineString":if(!1===ct(gt,Mt,Ct,0,0))return!1;break;case"Polygon":for(var Dt=0;Dt<Pt.length;Dt++)if(!1===ct(J.lineString(Pt[Dt],gt.properties),Mt,Ct,Dt))return!1}}})}oe.coordAll=function ot(z){var ct=[];return rt(z,function(gt){ct.push(gt)}),ct},oe.coordEach=rt,oe.coordReduce=function F(z,ct,gt,Mt){var Ct=gt;return rt(z,function(q,Pt,Dt,It,ut){Ct=0===Pt&&void 0===gt?q:ct(Ct,q,Pt,Dt,It,ut)},Mt),Ct},oe.featureEach=O,oe.featureReduce=function Q(z,ct,gt){var Mt=gt;return O(z,function(Ct,q){Mt=0===q&&void 0===gt?Ct:ct(Mt,Ct,q)}),Mt},oe.findPoint=function nt(z,ct){if(!J.isObject(ct=ct||{}))throw new Error("options is invalid");var Dt,gt=ct.featureIndex||0,Mt=ct.multiFeatureIndex||0,Ct=ct.geometryIndex||0,q=ct.coordIndex||0,Pt=ct.properties;switch(z.type){case"FeatureCollection":gt<0&&(gt=z.features.length+gt),Pt=Pt||z.features[gt].properties,Dt=z.features[gt].geometry;break;case"Feature":Pt=Pt||z.properties,Dt=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Dt=z;break;default:throw new Error("geojson is invalid")}if(null===Dt)return null;var It=Dt.coordinates;switch(Dt.type){case"Point":return J.point(It,Pt,ct);case"MultiPoint":return Mt<0&&(Mt=It.length+Mt),J.point(It[Mt],Pt,ct);case"LineString":return q<0&&(q=It.length+q),J.point(It[q],Pt,ct);case"Polygon":return Ct<0&&(Ct=It.length+Ct),q<0&&(q=It[Ct].length+q),J.point(It[Ct][q],Pt,ct);case"MultiLineString":return Mt<0&&(Mt=It.length+Mt),q<0&&(q=It[Mt].length+q),J.point(It[Mt][q],Pt,ct);case"MultiPolygon":return Mt<0&&(Mt=It.length+Mt),Ct<0&&(Ct=It[Mt].length+Ct),q<0&&(q=It[Mt][Ct].length-q),J.point(It[Mt][Ct][q],Pt,ct)}throw new Error("geojson is invalid")},oe.findSegment=function W(z,ct){if(!J.isObject(ct=ct||{}))throw new Error("options is invalid");var Dt,gt=ct.featureIndex||0,Mt=ct.multiFeatureIndex||0,Ct=ct.geometryIndex||0,q=ct.segmentIndex||0,Pt=ct.properties;switch(z.type){case"FeatureCollection":gt<0&&(gt=z.features.length+gt),Pt=Pt||z.features[gt].properties,Dt=z.features[gt].geometry;break;case"Feature":Pt=Pt||z.properties,Dt=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Dt=z;break;default:throw new Error("geojson is invalid")}if(null===Dt)return null;var It=Dt.coordinates;switch(Dt.type){case"Point":case"MultiPoint":return null;case"LineString":return q<0&&(q=It.length+q-1),J.lineString([It[q],It[q+1]],Pt,ct);case"Polygon":return Ct<0&&(Ct=It.length+Ct),q<0&&(q=It[Ct].length+q-1),J.lineString([It[Ct][q],It[Ct][q+1]],Pt,ct);case"MultiLineString":return Mt<0&&(Mt=It.length+Mt),q<0&&(q=It[Mt].length+q-1),J.lineString([It[Mt][q],It[Mt][q+1]],Pt,ct);case"MultiPolygon":return Mt<0&&(Mt=It.length+Mt),Ct<0&&(Ct=It[Mt].length+Ct),q<0&&(q=It[Mt][Ct].length-q-1),J.lineString([It[Mt][Ct][q],It[Mt][Ct][q+1]],Pt,ct)}throw new Error("geojson is invalid")},oe.flattenEach=$,oe.flattenReduce=function N(z,ct,gt){var Mt=gt;return $(z,function(Ct,q,Pt){Mt=0===q&&0===Pt&&void 0===gt?Ct:ct(Mt,Ct,q,Pt)}),Mt},oe.geomEach=st,oe.geomReduce=function at(z,ct,gt){var Mt=gt;return st(z,function(Ct,q,Pt,Dt,It){Mt=0===q&&void 0===gt?Ct:ct(Mt,Ct,q,Pt,Dt,It)}),Mt},oe.lineEach=X,oe.lineReduce=function tt(z,ct,gt){var Mt=gt;return X(z,function(Ct,q,Pt,Dt){Mt=0===q&&void 0===gt?Ct:ct(Mt,Ct,q,Pt,Dt)}),Mt},oe.propEach=Y,oe.propReduce=function G(z,ct,gt){var Mt=gt;return Y(z,function(Ct,q){Mt=0===q&&void 0===gt?Ct:ct(Mt,Ct,q)}),Mt},oe.segmentEach=V,oe.segmentReduce=function bt(z,ct,gt){var Mt=gt,Ct=!1;return V(z,function(q,Pt,Dt,It,ut){Mt=!1===Ct&&void 0===gt?q:ct(Mt,q,Pt,Dt,It,ut),Ct=!0}),Mt}},5834:(Ye,oe,Z)=>{"use strict";var J=Z(5203),rt=Z(5685),F=rt(J("String.prototype.indexOf"));Ye.exports=function(G,O){var Q=J(G,!!O);return"function"==typeof Q&&F(G,".prototype.")>-1?rt(Q):Q}},5685:(Ye,oe,Z)=>{"use strict";var J=Z(4444),rt=Z(5203),F=rt("%Function.prototype.apply%"),Y=rt("%Function.prototype.call%"),G=rt("%Reflect.apply%",!0)||J.call(Y,F),O=rt("%Object.getOwnPropertyDescriptor%",!0),Q=rt("%Object.defineProperty%",!0),ot=rt("%Math.max%");if(Q)try{Q({},"a",{value:1})}catch{Q=null}Ye.exports=function($){var N=G(J,Y,arguments);return O&&Q&&O(N,"length").configurable&&Q(N,"length",{value:1+ot(0,$.length-(arguments.length-1))}),N};var st=function(){return G(J,F,arguments)};Q?Q(Ye.exports,"apply",{value:st}):Ye.exports.apply=st},1335:(Ye,oe,Z)=>{"use strict";var J=Z(3156),rt=Z(7253),F=Z(3870),Y=Z(7563).orient2d;function G(gt,Mt,Ct){Mt=Math.max(0,void 0===Mt?2:Mt),Ct=Ct||0;var q=function bt(gt){for(var Mt=gt[0],Ct=gt[0],q=gt[0],Pt=gt[0],Dt=0;Dt<gt.length;Dt++){var It=gt[Dt];It[0]<Mt[0]&&(Mt=It),It[0]>q[0]&&(q=It),It[1]<Ct[1]&&(Ct=It),It[1]>Pt[1]&&(Pt=It)}var ut=[Mt,Ct,q,Pt],re=ut.slice();for(Dt=0;Dt<gt.length;Dt++)F(gt[Dt],ut)||re.push(gt[Dt]);return function ct(gt){gt.sort(z);for(var Mt=[],Ct=0;Ct<gt.length;Ct++){for(;Mt.length>=2&&$(Mt[Mt.length-2],Mt[Mt.length-1],gt[Ct])<=0;)Mt.pop();Mt.push(gt[Ct])}for(var q=[],Pt=gt.length-1;Pt>=0;Pt--){for(;q.length>=2&&$(q[q.length-2],q[q.length-1],gt[Pt])<=0;)q.pop();q.push(gt[Pt])}return q.pop(),Mt.pop(),Mt.concat(q)}(re)}(gt),Pt=new J(16);Pt.toBBox=function(ae){return{minX:ae[0],minY:ae[1],maxX:ae[0],maxY:ae[1]}},Pt.compareMinX=function(ae,ue){return ae[0]-ue[0]},Pt.compareMinY=function(ae,ue){return ae[1]-ue[1]},Pt.load(gt);for(var ut,Dt=[],It=0;It<q.length;It++){var re=q[It];Pt.remove(re),ut=X(re,ut),Dt.push(ut)}var se=new J(16);for(It=0;It<Dt.length;It++)se.insert(V(Dt[It]));for(var Tt=Mt*Mt,_t=Ct*Ct;Dt.length;){var dt=Dt.shift(),St=dt.p,Zt=dt.next.p,Vt=tt(St,Zt);if(!(Vt<_t)){var Ce=Vt/Tt;(re=O(Pt,dt.prev.p,St,Zt,dt.next.next.p,Ce,se))&&Math.min(tt(re,St),tt(re,Zt))<=Ce&&(Dt.push(dt),Dt.push(X(re,dt)),Pt.remove(re),se.remove(dt),se.insert(V(dt)),se.insert(V(dt.next)))}}dt=ut;var jt=[];do{jt.push(dt.p),dt=dt.next}while(dt!==ut);return jt.push(dt.p),jt}function O(gt,Mt,Ct,q,Pt,Dt,It){for(var ut=new rt([],Q),re=gt.data;re;){for(var se=0;se<re.children.length;se++){var Tt=re.children[se],_t=re.leaf?W(Tt,Ct,q):ot(Ct,q,Tt);_t>Dt||ut.push({node:Tt,dist:_t})}for(;ut.length&&!ut.peek().node.children;){var dt=ut.pop(),St=dt.node,Zt=W(St,Mt,Ct),Vt=W(St,q,Pt);if(dt.dist<Zt&&dt.dist<Vt&&at(Ct,St,It)&&at(q,St,It))return St}(re=ut.pop())&&(re=re.node)}return null}function Q(gt,Mt){return gt.dist-Mt.dist}function ot(gt,Mt,Ct){if(st(gt,Ct)||st(Mt,Ct))return 0;var q=nt(gt[0],gt[1],Mt[0],Mt[1],Ct.minX,Ct.minY,Ct.maxX,Ct.minY);if(0===q)return 0;var Pt=nt(gt[0],gt[1],Mt[0],Mt[1],Ct.minX,Ct.minY,Ct.minX,Ct.maxY);if(0===Pt)return 0;var Dt=nt(gt[0],gt[1],Mt[0],Mt[1],Ct.maxX,Ct.minY,Ct.maxX,Ct.maxY);if(0===Dt)return 0;var It=nt(gt[0],gt[1],Mt[0],Mt[1],Ct.minX,Ct.maxY,Ct.maxX,Ct.maxY);return 0===It?0:Math.min(q,Pt,Dt,It)}function st(gt,Mt){return gt[0]>=Mt.minX&&gt[0]<=Mt.maxX&&gt[1]>=Mt.minY&&gt[1]<=Mt.maxY}function at(gt,Mt,Ct){for(var q=Math.min(gt[0],Mt[0]),Pt=Math.min(gt[1],Mt[1]),Dt=Math.max(gt[0],Mt[0]),It=Math.max(gt[1],Mt[1]),ut=Ct.search({minX:q,minY:Pt,maxX:Dt,maxY:It}),re=0;re<ut.length;re++)if(N(ut[re].p,ut[re].next.p,gt,Mt))return!1;return!0}function $(gt,Mt,Ct){return Y(gt[0],gt[1],Mt[0],Mt[1],Ct[0],Ct[1])}function N(gt,Mt,Ct,q){return gt!==q&&Mt!==Ct&&$(gt,Mt,Ct)>0!=$(gt,Mt,q)>0&&$(Ct,q,gt)>0!=$(Ct,q,Mt)>0}function V(gt){var Mt=gt.p,Ct=gt.next.p;return gt.minX=Math.min(Mt[0],Ct[0]),gt.minY=Math.min(Mt[1],Ct[1]),gt.maxX=Math.max(Mt[0],Ct[0]),gt.maxY=Math.max(Mt[1],Ct[1]),gt}function X(gt,Mt){var Ct={p:gt,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return Mt?(Ct.next=Mt.next,Ct.prev=Mt,Mt.next.prev=Ct,Mt.next=Ct):(Ct.prev=Ct,Ct.next=Ct),Ct}function tt(gt,Mt){var Ct=gt[0]-Mt[0],q=gt[1]-Mt[1];return Ct*Ct+q*q}function W(gt,Mt,Ct){var q=Mt[0],Pt=Mt[1],Dt=Ct[0]-q,It=Ct[1]-Pt;if(0!==Dt||0!==It){var ut=((gt[0]-q)*Dt+(gt[1]-Pt)*It)/(Dt*Dt+It*It);ut>1?(q=Ct[0],Pt=Ct[1]):ut>0&&(q+=Dt*ut,Pt+=It*ut)}return(Dt=gt[0]-q)*Dt+(It=gt[1]-Pt)*It}function nt(gt,Mt,Ct,q,Pt,Dt,It,ut){var Pe,He,de,we,re=Ct-gt,se=q-Mt,Tt=It-Pt,_t=ut-Dt,dt=gt-Pt,St=Mt-Dt,Zt=re*re+se*se,Vt=re*Tt+se*_t,Ce=Tt*Tt+_t*_t,jt=re*dt+se*St,ae=Tt*dt+_t*St,ue=Zt*Ce-Vt*Vt,Se=ue,wt=ue;0===ue?(He=0,Se=1,we=ae,wt=Ce):(we=Zt*ae-Vt*jt,(He=Vt*ae-Ce*jt)<0?(He=0,we=ae,wt=Ce):He>Se&&(He=Se,we=ae+Vt,wt=Ce)),we<0?(we=0,-jt<0?He=0:-jt>Zt?He=Se:(He=-jt,Se=Zt)):we>wt&&(we=wt,-jt+Vt<0?He=0:-jt+Vt>Zt?He=Se:(He=-jt+Vt,Se=Zt));var At=(1-(de=0===we?0:we/wt))*Pt+de*It-((1-(Pe=0===He?0:He/Se))*gt+Pe*Ct),vt=(1-de)*Dt+de*ut-((1-Pe)*Mt+Pe*q);return At*At+vt*vt}function z(gt,Mt){return gt[0]===Mt[0]?gt[1]-Mt[1]:gt[0]-Mt[0]}rt.default&&(rt=rt.default),Ye.exports=G,Ye.exports.default=G},3156:function(Ye){Ye.exports=function(){"use strict";function oe(X,tt,W,nt,z){!function ct(gt,Mt,Ct,q,Pt){for(;q>Ct;){if(q-Ct>600){var Dt=q-Ct+1,It=Mt-Ct+1,ut=Math.log(Dt),re=.5*Math.exp(2*ut/3),se=.5*Math.sqrt(ut*re*(Dt-re)/Dt)*(It-Dt/2<0?-1:1);ct(gt,Mt,Math.max(Ct,Math.floor(Mt-It*re/Dt+se)),Math.min(q,Math.floor(Mt+(Dt-It)*re/Dt+se)),Pt)}var dt=gt[Mt],St=Ct,Zt=q;for(Z(gt,Ct,Mt),Pt(gt[q],dt)>0&&Z(gt,Ct,q);St<Zt;){for(Z(gt,St,Zt),St++,Zt--;Pt(gt[St],dt)<0;)St++;for(;Pt(gt[Zt],dt)>0;)Zt--}0===Pt(gt[Ct],dt)?Z(gt,Ct,Zt):Z(gt,++Zt,q),Zt<=Mt&&(Ct=Zt+1),Mt<=Zt&&(q=Zt-1)}}(X,tt,W||0,nt||X.length-1,z||J)}function Z(X,tt,W){var nt=X[tt];X[tt]=X[W],X[W]=nt}function J(X,tt){return X<tt?-1:X>tt?1:0}var rt=function(X){void 0===X&&(X=9),this._maxEntries=Math.max(4,X),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(X,tt,W){if(!W)return tt.indexOf(X);for(var nt=0;nt<tt.length;nt++)if(W(X,tt[nt]))return nt;return-1}function Y(X,tt){G(X,0,X.children.length,tt,X)}function G(X,tt,W,nt,z){z||(z=V(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var ct=tt;ct<W;ct++){var gt=X.children[ct];O(z,X.leaf?nt(gt):gt)}return z}function O(X,tt){return X.minX=Math.min(X.minX,tt.minX),X.minY=Math.min(X.minY,tt.minY),X.maxX=Math.max(X.maxX,tt.maxX),X.maxY=Math.max(X.maxY,tt.maxY),X}function Q(X,tt){return X.minX-tt.minX}function ot(X,tt){return X.minY-tt.minY}function st(X){return(X.maxX-X.minX)*(X.maxY-X.minY)}function at(X){return X.maxX-X.minX+(X.maxY-X.minY)}function $(X,tt){return X.minX<=tt.minX&&X.minY<=tt.minY&&tt.maxX<=X.maxX&&tt.maxY<=X.maxY}function N(X,tt){return tt.minX<=X.maxX&&tt.minY<=X.maxY&&tt.maxX>=X.minX&&tt.maxY>=X.minY}function V(X){return{children:X,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function bt(X,tt,W,nt,z){for(var ct=[tt,W];ct.length;)if(!((W=ct.pop())-(tt=ct.pop())<=nt)){var gt=tt+Math.ceil((W-tt)/nt/2)*nt;oe(X,gt,tt,W,z),ct.push(tt,gt,gt,W)}}return rt.prototype.all=function(){return this._all(this.data,[])},rt.prototype.search=function(X){var tt=this.data,W=[];if(!N(X,tt))return W;for(var nt=this.toBBox,z=[];tt;){for(var ct=0;ct<tt.children.length;ct++){var gt=tt.children[ct],Mt=tt.leaf?nt(gt):gt;N(X,Mt)&&(tt.leaf?W.push(gt):$(X,Mt)?this._all(gt,W):z.push(gt))}tt=z.pop()}return W},rt.prototype.collides=function(X){var tt=this.data;if(!N(X,tt))return!1;for(var W=[];tt;){for(var nt=0;nt<tt.children.length;nt++){var z=tt.children[nt],ct=tt.leaf?this.toBBox(z):z;if(N(X,ct)){if(tt.leaf||$(X,ct))return!0;W.push(z)}}tt=W.pop()}return!1},rt.prototype.load=function(X){if(!X||!X.length)return this;if(X.length<this._minEntries){for(var tt=0;tt<X.length;tt++)this.insert(X[tt]);return this}var W=this._build(X.slice(),0,X.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var nt=this.data;this.data=W,W=nt}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},rt.prototype.insert=function(X){return X&&this._insert(X,this.data.height-1),this},rt.prototype.clear=function(){return this.data=V([]),this},rt.prototype.remove=function(X,tt){if(!X)return this;for(var W,nt,z,ct=this.data,gt=this.toBBox(X),Mt=[],Ct=[];ct||Mt.length;){if(ct||(ct=Mt.pop(),nt=Mt[Mt.length-1],W=Ct.pop(),z=!0),ct.leaf){var q=F(X,ct.children,tt);if(-1!==q)return ct.children.splice(q,1),Mt.push(ct),this._condense(Mt),this}z||ct.leaf||!$(ct,gt)?nt?(W++,ct=nt.children[W],z=!1):ct=null:(Mt.push(ct),Ct.push(W),W=0,nt=ct,ct=ct.children[0])}return this},rt.prototype.toBBox=function(X){return X},rt.prototype.compareMinX=function(X,tt){return X.minX-tt.minX},rt.prototype.compareMinY=function(X,tt){return X.minY-tt.minY},rt.prototype.toJSON=function(){return this.data},rt.prototype.fromJSON=function(X){return this.data=X,this},rt.prototype._all=function(X,tt){for(var W=[];X;)X.leaf?tt.push.apply(tt,X.children):W.push.apply(W,X.children),X=W.pop();return tt},rt.prototype._build=function(X,tt,W,nt){var z,ct=W-tt+1,gt=this._maxEntries;if(ct<=gt)return Y(z=V(X.slice(tt,W+1)),this.toBBox),z;nt||(nt=Math.ceil(Math.log(ct)/Math.log(gt)),gt=Math.ceil(ct/Math.pow(gt,nt-1))),(z=V([])).leaf=!1,z.height=nt;var Mt=Math.ceil(ct/gt),Ct=Mt*Math.ceil(Math.sqrt(gt));bt(X,tt,W,Ct,this.compareMinX);for(var q=tt;q<=W;q+=Ct){var Pt=Math.min(q+Ct-1,W);bt(X,q,Pt,Mt,this.compareMinY);for(var Dt=q;Dt<=Pt;Dt+=Mt){var It=Math.min(Dt+Mt-1,Pt);z.children.push(this._build(X,Dt,It,nt-1))}}return Y(z,this.toBBox),z},rt.prototype._chooseSubtree=function(X,tt,W,nt){for(;nt.push(tt),!tt.leaf&&nt.length-1!==W;){for(var z=1/0,ct=1/0,gt=void 0,Mt=0;Mt<tt.children.length;Mt++){var Ct=tt.children[Mt],q=st(Ct),Pt=(Dt=X,It=Ct,(Math.max(It.maxX,Dt.maxX)-Math.min(It.minX,Dt.minX))*(Math.max(It.maxY,Dt.maxY)-Math.min(It.minY,Dt.minY))-q);Pt<ct?(ct=Pt,z=q<z?q:z,gt=Ct):Pt===ct&&q<z&&(z=q,gt=Ct)}tt=gt||tt.children[0]}var Dt,It;return tt},rt.prototype._insert=function(X,tt,W){var nt=W?X:this.toBBox(X),z=[],ct=this._chooseSubtree(nt,this.data,tt,z);for(ct.children.push(X),O(ct,nt);tt>=0&&z[tt].children.length>this._maxEntries;)this._split(z,tt),tt--;this._adjustParentBBoxes(nt,z,tt)},rt.prototype._split=function(X,tt){var W=X[tt],nt=W.children.length,z=this._minEntries;this._chooseSplitAxis(W,z,nt);var ct=this._chooseSplitIndex(W,z,nt),gt=V(W.children.splice(ct,W.children.length-ct));gt.height=W.height,gt.leaf=W.leaf,Y(W,this.toBBox),Y(gt,this.toBBox),tt?X[tt-1].children.push(gt):this._splitRoot(W,gt)},rt.prototype._splitRoot=function(X,tt){this.data=V([X,tt]),this.data.height=X.height+1,this.data.leaf=!1,Y(this.data,this.toBBox)},rt.prototype._chooseSplitIndex=function(X,tt,W){for(var nt,z,ct,gt,Mt,Ct,q,Pt=1/0,Dt=1/0,It=tt;It<=W-tt;It++){var ut=G(X,0,It,this.toBBox),re=G(X,It,W,this.toBBox),se=(z=ut,ct=re,void 0,void 0,void 0,void 0,gt=Math.max(z.minX,ct.minX),Mt=Math.max(z.minY,ct.minY),Ct=Math.min(z.maxX,ct.maxX),q=Math.min(z.maxY,ct.maxY),Math.max(0,Ct-gt)*Math.max(0,q-Mt)),Tt=st(ut)+st(re);se<Pt?(Pt=se,nt=It,Dt=Tt<Dt?Tt:Dt):se===Pt&&Tt<Dt&&(Dt=Tt,nt=It)}return nt||W-tt},rt.prototype._chooseSplitAxis=function(X,tt,W){var nt=X.leaf?this.compareMinX:Q,z=X.leaf?this.compareMinY:ot;this._allDistMargin(X,tt,W,nt)<this._allDistMargin(X,tt,W,z)&&X.children.sort(nt)},rt.prototype._allDistMargin=function(X,tt,W,nt){X.children.sort(nt);for(var z=this.toBBox,ct=G(X,0,tt,z),gt=G(X,W-tt,W,z),Mt=at(ct)+at(gt),Ct=tt;Ct<W-tt;Ct++){var q=X.children[Ct];O(ct,X.leaf?z(q):q),Mt+=at(ct)}for(var Pt=W-tt-1;Pt>=tt;Pt--){var Dt=X.children[Pt];O(gt,X.leaf?z(Dt):Dt),Mt+=at(gt)}return Mt},rt.prototype._adjustParentBBoxes=function(X,tt,W){for(var nt=W;nt>=0;nt--)O(tt[nt],X)},rt.prototype._condense=function(X){for(var tt=X.length-1,W=void 0;tt>=0;tt--)0===X[tt].children.length?tt>0?(W=X[tt-1].children).splice(W.indexOf(X[tt]),1):this.clear():Y(X[tt],this.toBBox)},rt}()},3074:function(Ye,oe,Z){!function(J,rt,F){"use strict";var G=function Y(nt){if(nt&&nt.__esModule)return nt;var z=Object.create(null);return nt&&Object.keys(nt).forEach(function(ct){if("default"!==ct){var gt=Object.getOwnPropertyDescriptor(nt,ct);Object.defineProperty(z,ct,gt.get?gt:{enumerable:!0,get:function(){return nt[ct]}})}}),z.default=nt,Object.freeze(z)}(rt);function O(nt,z){for(var ct=0;ct<z.length;ct++){var gt=z[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(nt,gt.key,gt)}}function Q(nt){if(void 0===nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function ot(nt,z){return(ot=Object.setPrototypeOf||function(ct,gt){return ct.__proto__=gt,ct})(nt,z)}function st(nt){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(nt)}function $(nt){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(nt)}function N(nt,z,ct){return z in nt?Object.defineProperty(nt,z,{value:ct,enumerable:!0,configurable:!0,writable:!0}):nt[z]=ct,nt}function V(nt,z){var ct=Object.keys(nt);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(nt);z&&(gt=gt.filter(function(Mt){return Object.getOwnPropertyDescriptor(nt,Mt).enumerable})),ct.push.apply(ct,gt)}return ct}function bt(nt){for(var z=1;z<arguments.length;z++){var ct=null!=arguments[z]?arguments[z]:{};z%2?V(Object(ct),!0).forEach(function(gt){N(nt,gt,ct[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(ct)):V(Object(ct)).forEach(function(gt){Object.defineProperty(nt,gt,Object.getOwnPropertyDescriptor(ct,gt))})}return nt}function X(nt){return{longitude:nt.getCenter().lng,latitude:nt.getCenter().lat,zoom:nt.getZoom()-1,pitch:0,bearing:0}}function tt(nt){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ct,gt=$(nt);if(z){var Mt=$(this).constructor;ct=Reflect.construct(gt,arguments,Mt)}else ct=gt.apply(this,arguments);return function at(nt,z){return!z||"object"!==st(z)&&"function"!=typeof z?Q(nt):z}(this,ct)}}var W=function(nt){!function(q,Pt){if("function"!=typeof Pt&&null!==Pt)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Pt&&ot(q,Pt)}(Ct,nt);var z,ct,Mt=tt(Ct);function Ct(q){var Pt;return function(Dt,It){if(!(Dt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,Ct),N(Q(Pt=Mt.call(this)),"_container",void 0),N(Q(Pt),"_deck",void 0),N(Q(Pt),"_animate",void 0),Pt.props=q,Pt}return z=Ct,(ct=[{key:"onAdd",value:function(){return this._container=G.DomUtil.create("div"),this._container.className="leaflet-layer",this._zoomAnimated&&G.DomUtil.addClass(this._container,"leaflet-zoom-animated"),this.getPane().appendChild(this._container),this._deck=function(q,Pt,Dt,It){if(!Dt){var ut=X(q);Dt=new F.Deck(bt(bt({},It),{},{parent:Pt,controller:!1,style:{zIndex:"auto"},viewState:ut}))}return Dt}(this._map,this._container,this._deck,this.props),this._update(),this}},{key:"onRemove",value:function(q){return G.DomUtil.remove(this._container),this._container=void 0,this._deck.finalize(),this._deck=void 0,this}},{key:"getEvents",value:function(){var q={viewreset:this._reset,movestart:this._onMoveStart,moveend:this._onMoveEnd,zoomstart:this._onZoomStart,zoom:this._onZoom,zoomend:this._onZoomEnd};return this._zoomAnimated&&(q.zoomanim=this._onAnimZoom),q}},{key:"setProps",value:function(q){Object.assign(this.props,q),this._deck&&this._deck.setProps(q)}},{key:"pickObject",value:function(q){return this._deck&&this._deck.pickObject(q)}},{key:"pickMultipleObjects",value:function(q){return this._deck&&this._deck.pickMultipleObjects(q)}},{key:"pickObjects",value:function(q){return this._deck&&this._deck.pickObjects(q)}},{key:"_update",value:function(){if(!this._map._animatingZoom){var q=this._map.getSize();this._container.style.width="".concat(q.x,"px"),this._container.style.height="".concat(q.y,"px");var Pt,It,ut=this._map._getMapPanePos().multiplyBy(-1);G.DomUtil.setPosition(this._container,ut),Pt=this._deck,It=X(this._map),Pt.setProps({viewState:It}),Pt.redraw(!1)}}},{key:"_pauseAnimation",value:function(){this._deck.props._animate&&(this._animate=this._deck.props._animate,this._deck.setProps({_animate:!1}))}},{key:"_unpauseAnimation",value:function(){this._animate&&(this._deck.setProps({_animate:this._animate}),this._animate=void 0)}},{key:"_reset",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom()),this._update()}},{key:"_onMoveStart",value:function(){this._pauseAnimation()}},{key:"_onMoveEnd",value:function(){this._update(),this._unpauseAnimation()}},{key:"_onZoomStart",value:function(){this._pauseAnimation()}},{key:"_onAnimZoom",value:function(q){this._updateTransform(q.center,q.zoom)}},{key:"_onZoom",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())}},{key:"_onZoomEnd",value:function(){this._unpauseAnimation()}},{key:"_updateTransform",value:function(q,Pt){var Dt=this._map.getZoomScale(Pt,this._map.getZoom()),It=G.DomUtil.getPosition(this._container),ut=this._map.getSize().multiplyBy(.5),re=this._map.project(this._map.getCenter(),Pt),se=this._map.project(q,Pt).subtract(re),Tt=ut.multiplyBy(-Dt).add(It).add(ut).subtract(se);G.Browser.any3d?G.DomUtil.setTransform(this._container,Tt,Dt):G.DomUtil.setPosition(this._container,Tt)}}])&&O(z.prototype,ct),Ct}(G.Layer);J.LeafletLayer=W,Object.defineProperty(J,"__esModule",{value:!0})}(oe,Z(8407),Z(7034))},6952:(Ye,oe,Z)=>{var J=Z(1356),rt=Z(3407),F=Z(2e3),Y=Z(2342),G=Z(9235),O=Z(2374),Q=Date.prototype.getTime;function st(N){return null==N}function at(N){return!(!N||"object"!=typeof N||"number"!=typeof N.length||"function"!=typeof N.copy||"function"!=typeof N.slice||N.length>0&&"number"!=typeof N[0])}Ye.exports=function ot(N,V,bt){var X=bt||{};return!!(X.strict?F(N,V):N===V)||(!N||!V||"object"!=typeof N&&"object"!=typeof V?X.strict?F(N,V):N==V:function $(N,V,bt){var X,tt;if(typeof N!=typeof V||st(N)||st(V)||N.prototype!==V.prototype||rt(N)!==rt(V))return!1;var W=Y(N),nt=Y(V);if(W!==nt)return!1;if(W||nt)return N.source===V.source&&G(N)===G(V);if(O(N)&&O(V))return Q.call(N)===Q.call(V);var z=at(N),ct=at(V);if(z!==ct)return!1;if(z||ct){if(N.length!==V.length)return!1;for(X=0;X<N.length;X++)if(N[X]!==V[X])return!1;return!0}if(typeof N!=typeof V)return!1;try{var gt=J(N),Mt=J(V)}catch{return!1}if(gt.length!==Mt.length)return!1;for(gt.sort(),Mt.sort(),X=gt.length-1;X>=0;X--)if(gt[X]!=Mt[X])return!1;for(X=gt.length-1;X>=0;X--)if(!ot(N[tt=gt[X]],V[tt],bt))return!1;return!0}(N,V,X))}},2358:(Ye,oe,Z)=>{"use strict";var J=Z(1356),rt="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),F=Object.prototype.toString,Y=Array.prototype.concat,G=Object.defineProperty,Q=Z(7027)(),ot=G&&Q,st=function($,N,V,bt){if(N in $)if(!0===bt){if($[N]===V)return}else if(!function($){return"function"==typeof $&&"[object Function]"===F.call($)}(bt)||!bt())return;ot?G($,N,{configurable:!0,enumerable:!1,value:V,writable:!0}):$[N]=V},at=function($,N){var V=arguments.length>2?arguments[2]:{},bt=J(N);rt&&(bt=Y.call(bt,Object.getOwnPropertySymbols(N)));for(var X=0;X<bt.length;X+=1)st($,bt[X],N[bt[X]],V[bt[X]])};at.supportsDescriptors=!!ot,Ye.exports=at},1817:Ye=>{function oe(Z,J,rt,F){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(Z,J,rt,F)}oe.prototype.run=function(Z,J,rt,F){this._init(Z,J,rt,F);for(var Y=0;Y<this._datasetLength;Y++)if(1!==this._visited[Y]){this._visited[Y]=1;var G=this._regionQuery(Y);if(G.length<this.minPts)this.noise.push(Y);else{var O=this.clusters.length;this.clusters.push([]),this._addToCluster(Y,O),this._expandCluster(O,G)}}return this.clusters},oe.prototype._init=function(Z,J,rt,F){if(Z){if(!(Z instanceof Array))throw Error("Dataset must be of type array, "+typeof Z+" given");this.dataset=Z,this.clusters=[],this.noise=[],this._datasetLength=Z.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}J&&(this.epsilon=J),rt&&(this.minPts=rt),F&&(this.distance=F)},oe.prototype._expandCluster=function(Z,J){for(var rt=0;rt<J.length;rt++){var F=J[rt];if(1!==this._visited[F]){this._visited[F]=1;var Y=this._regionQuery(F);Y.length>=this.minPts&&(J=this._mergeArrays(J,Y))}1!==this._assigned[F]&&this._addToCluster(F,Z)}},oe.prototype._addToCluster=function(Z,J){this.clusters[J].push(Z),this._assigned[Z]=1},oe.prototype._regionQuery=function(Z){for(var J=[],rt=0;rt<this._datasetLength;rt++)this.distance(this.dataset[Z],this.dataset[rt])<this.epsilon&&J.push(rt);return J},oe.prototype._mergeArrays=function(Z,J){for(var rt=J.length,F=0;F<rt;F++){var Y=J[F];Z.indexOf(Y)<0&&Z.push(Y)}return Z},oe.prototype._euclideanDistance=function(Z,J){for(var rt=0,F=Math.min(Z.length,J.length);F--;)rt+=(Z[F]-J[F])*(Z[F]-J[F]);return Math.sqrt(rt)},Ye.exports&&(Ye.exports=oe)},4273:Ye=>{function oe(Z,J,rt){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(Z,J,rt)}oe.prototype.init=function(Z,J,rt){this.assignments=[],this.centroids=[],typeof Z<"u"&&(this.dataset=Z),typeof J<"u"&&(this.k=J),typeof rt<"u"&&(this.distance=rt)},oe.prototype.run=function(Z,J){this.init(Z,J);for(var rt=this.dataset.length,F=0;F<this.k;F++)this.centroids[F]=this.randomCentroid();for(var Y=!0;Y;){Y=this.assign();for(var G=0;G<this.k;G++){for(var O=new Array(at),Q=0,ot=0;ot<at;ot++)O[ot]=0;for(var st=0;st<rt;st++){var at=this.dataset[st].length;if(G===this.assignments[st]){for(ot=0;ot<at;ot++)O[ot]+=this.dataset[st][ot];Q++}}if(Q>0){for(ot=0;ot<at;ot++)O[ot]/=Q;this.centroids[G]=O}else this.centroids[G]=this.randomCentroid(),Y=!0}}return this.getClusters()},oe.prototype.randomCentroid=function(){var J,rt,Z=this.dataset.length-1;do{rt=Math.round(Math.random()*Z),J=this.dataset[rt]}while(this.centroids.indexOf(J)>=0);return J},oe.prototype.assign=function(){for(var rt,Z=!1,J=this.dataset.length,F=0;F<J;F++)(rt=this.argmin(this.dataset[F],this.centroids,this.distance))!=this.assignments[F]&&(this.assignments[F]=rt,Z=!0);return Z},oe.prototype.getClusters=function(){for(var J,Z=new Array(this.k),rt=0;rt<this.assignments.length;rt++)typeof Z[J=this.assignments[rt]]>"u"&&(Z[J]=[]),Z[J].push(rt);return Z},oe.prototype.argmin=function(Z,J,rt){for(var O,F=Number.MAX_VALUE,Y=0,G=J.length,Q=0;Q<G;Q++)(O=rt(Z,J[Q]))<F&&(F=O,Y=Q);return Y},oe.prototype.distance=function(Z,J){for(var rt=0,F=Math.min(Z.length,J.length);F--;){var Y=Z[F]-J[F];rt+=Y*Y}return Math.sqrt(rt)},Ye.exports&&(Ye.exports=oe)},8680:(Ye,oe,Z)=>{if(Ye.exports)var J=Z(8759);function rt(F,Y,G,O){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(F,Y,G,O)}rt.prototype.run=function(F,Y,G,O){this._init(F,Y,G,O);for(var Q=0,ot=this.dataset.length;Q<ot;Q++)if(1!==this._processed[Q]){this._processed[Q]=1,this.clusters.push([Q]);var st=this.clusters.length-1;this._orderedList.push(Q);var at=new J(null,null,"asc"),$=this._regionQuery(Q);void 0!==this._distanceToCore(Q)&&(this._updateQueue(Q,$,at),this._expandCluster(st,at))}return this.clusters},rt.prototype.getReachabilityPlot=function(){for(var F=[],Y=0,G=this._orderedList.length;Y<G;Y++){var O=this._orderedList[Y];F.push([O,this._reachability[O]])}return F},rt.prototype._init=function(F,Y,G,O){if(F){if(!(F instanceof Array))throw Error("Dataset must be of type array, "+typeof F+" given");this.dataset=F,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}Y&&(this.epsilon=Y),G&&(this.minPts=G),O&&(this.distance=O)},rt.prototype._updateQueue=function(F,Y,G){var O=this;this._coreDistance=this._distanceToCore(F),Y.forEach(function(Q){if(void 0===O._processed[Q]){var ot=O.distance(O.dataset[F],O.dataset[Q]),st=Math.max(O._coreDistance,ot);void 0===O._reachability[Q]?(O._reachability[Q]=st,G.insert(Q,st)):st<O._reachability[Q]&&(O._reachability[Q]=st,G.remove(Q),G.insert(Q,st))}})},rt.prototype._expandCluster=function(F,Y){for(var G=Y.getElements(),O=0,Q=G.length;O<Q;O++){var ot=G[O];if(void 0===this._processed[ot]){var st=this._regionQuery(ot);this._processed[ot]=1,this.clusters[F].push(ot),this._orderedList.push(ot),void 0!==this._distanceToCore(ot)&&(this._updateQueue(ot,st,Y),this._expandCluster(F,Y))}}},rt.prototype._distanceToCore=function(F){for(var Y=this.epsilon,G=0;G<Y;G++)if(this._regionQuery(F,G).length>=this.minPts)return G},rt.prototype._regionQuery=function(F,Y){Y=Y||this.epsilon;for(var G=[],O=0,Q=this.dataset.length;O<Q;O++)this.distance(this.dataset[F],this.dataset[O])<Y&&G.push(O);return G},rt.prototype._euclideanDistance=function(F,Y){for(var G=0,O=Math.min(F.length,Y.length);O--;)G+=(F[O]-Y[O])*(F[O]-Y[O]);return Math.sqrt(G)},Ye.exports&&(Ye.exports=rt)},8759:Ye=>{function oe(Z,J,rt){this._queue=[],this._priorities=[],this._sorting="desc",this._init(Z,J,rt)}oe.prototype.insert=function(Z,J){for(var rt=this._queue.length,F=rt;F--;){var Y=this._priorities[F];"desc"===this._sorting?J>Y&&(rt=F):J<Y&&(rt=F)}this._insertAt(Z,J,rt)},oe.prototype.remove=function(Z){for(var J=this._queue.length;J--;)if(Z===this._queue[J]){this._queue.splice(J,1),this._priorities.splice(J,1);break}},oe.prototype.forEach=function(Z){this._queue.forEach(Z)},oe.prototype.getElements=function(){return this._queue},oe.prototype.getElementPriority=function(Z){return this._priorities[Z]},oe.prototype.getPriorities=function(){return this._priorities},oe.prototype.getElementsWithPriorities=function(){for(var Z=[],J=0,rt=this._queue.length;J<rt;J++)Z.push([this._queue[J],this._priorities[J]]);return Z},oe.prototype._init=function(Z,J,rt){if(Z&&J){if(this._queue=[],this._priorities=[],Z.length!==J.length)throw new Error("Arrays must have the same length");for(var F=0;F<Z.length;F++)this.insert(Z[F],J[F])}rt&&(this._sorting=rt)},oe.prototype._insertAt=function(Z,J,rt){this._queue.length===rt?(this._queue.push(Z),this._priorities.push(J)):(this._queue.splice(rt,0,Z),this._priorities.splice(rt,0,J))},Ye.exports&&(Ye.exports=oe)},7470:(Ye,oe,Z)=>{Ye.exports&&(Ye.exports={DBSCAN:Z(1817),KMEANS:Z(4273),OPTICS:Z(8680),PriorityQueue:Z(8759)})},5469:Ye=>{"use strict";function oe(Tt,_t,dt){dt=dt||2;var jt,ae,ue,Pe,He,de,we,St=_t&&_t.length,Zt=St?_t[0]*dt:Tt.length,Vt=Z(Tt,0,Zt,dt,!0),Ce=[];if(!Vt||Vt.next===Vt.prev)return Ce;if(St&&(Vt=function Q(Tt,_t,dt,St){var Vt,Ce,ue,Zt=[];for(Vt=0,Ce=_t.length;Vt<Ce;Vt++)(ue=Z(Tt,_t[Vt]*St,Vt<Ce-1?_t[Vt+1]*St:Tt.length,St,!1))===ue.next&&(ue.steiner=!0),Zt.push(X(ue));for(Zt.sort(ot),Vt=0;Vt<Zt.length;Vt++)dt=st(Zt[Vt],dt);return dt}(Tt,_t,Vt,dt)),Tt.length>80*dt){jt=ue=Tt[0],ae=Pe=Tt[1];for(var Se=dt;Se<Zt;Se+=dt)(He=Tt[Se])<jt&&(jt=He),(de=Tt[Se+1])<ae&&(ae=de),He>ue&&(ue=He),de>Pe&&(Pe=de);we=0!==(we=Math.max(ue-jt,Pe-ae))?32767/we:0}return rt(Vt,Ce,dt,jt,ae,we,0),Ce}function Z(Tt,_t,dt,St,Zt){var Vt,Ce;if(Zt===se(Tt,_t,dt,St)>0)for(Vt=_t;Vt<dt;Vt+=St)Ce=It(Vt,Tt[Vt],Tt[Vt+1],Ce);else for(Vt=dt-St;Vt>=_t;Vt-=St)Ce=It(Vt,Tt[Vt],Tt[Vt+1],Ce);return Ce&&z(Ce,Ce.next)&&(ut(Ce),Ce=Ce.next),Ce}function J(Tt,_t){if(!Tt)return Tt;_t||(_t=Tt);var St,dt=Tt;do{if(St=!1,dt.steiner||!z(dt,dt.next)&&0!==nt(dt.prev,dt,dt.next))dt=dt.next;else{if(ut(dt),(dt=_t=dt.prev)===dt.next)break;St=!0}}while(St||dt!==_t);return _t}function rt(Tt,_t,dt,St,Zt,Vt,Ce){if(Tt){!Ce&&Vt&&function N(Tt,_t,dt,St){var Zt=Tt;do{0===Zt.z&&(Zt.z=bt(Zt.x,Zt.y,_t,dt,St)),Zt.prevZ=Zt.prev,Zt.nextZ=Zt.next,Zt=Zt.next}while(Zt!==Tt);Zt.prevZ.nextZ=null,Zt.prevZ=null,function V(Tt){var _t,dt,St,Zt,Vt,Ce,jt,ae,ue=1;do{for(dt=Tt,Tt=null,Vt=null,Ce=0;dt;){for(Ce++,St=dt,jt=0,_t=0;_t<ue&&(jt++,St=St.nextZ);_t++);for(ae=ue;jt>0||ae>0&&St;)0!==jt&&(0===ae||!St||dt.z<=St.z)?(Zt=dt,dt=dt.nextZ,jt--):(Zt=St,St=St.nextZ,ae--),Vt?Vt.nextZ=Zt:Tt=Zt,Zt.prevZ=Vt,Vt=Zt;dt=St}Vt.nextZ=null,ue*=2}while(Ce>1)}(Zt)}(Tt,St,Zt,Vt);for(var ae,ue,jt=Tt;Tt.prev!==Tt.next;)if(ae=Tt.prev,ue=Tt.next,Vt?Y(Tt,St,Zt,Vt):F(Tt))_t.push(ae.i/dt|0),_t.push(Tt.i/dt|0),_t.push(ue.i/dt|0),ut(Tt),Tt=ue.next,jt=ue.next;else if((Tt=ue)===jt){Ce?1===Ce?rt(Tt=G(J(Tt),_t,dt),_t,dt,St,Zt,Vt,2):2===Ce&&O(Tt,_t,dt,St,Zt,Vt):rt(J(Tt),_t,dt,St,Zt,Vt,1);break}}}function F(Tt){var _t=Tt.prev,dt=Tt,St=Tt.next;if(nt(_t,dt,St)>=0)return!1;for(var Zt=_t.x,Vt=dt.x,Ce=St.x,jt=_t.y,ae=dt.y,ue=St.y,Pe=Zt<Vt?Zt<Ce?Zt:Ce:Vt<Ce?Vt:Ce,He=jt<ae?jt<ue?jt:ue:ae<ue?ae:ue,de=Zt>Vt?Zt>Ce?Zt:Ce:Vt>Ce?Vt:Ce,we=jt>ae?jt>ue?jt:ue:ae>ue?ae:ue,Se=St.next;Se!==_t;){if(Se.x>=Pe&&Se.x<=de&&Se.y>=He&&Se.y<=we&&tt(Zt,jt,Vt,ae,Ce,ue,Se.x,Se.y)&&nt(Se.prev,Se,Se.next)>=0)return!1;Se=Se.next}return!0}function Y(Tt,_t,dt,St){var Zt=Tt.prev,Vt=Tt,Ce=Tt.next;if(nt(Zt,Vt,Ce)>=0)return!1;for(var jt=Zt.x,ae=Vt.x,ue=Ce.x,Pe=Zt.y,He=Vt.y,de=Ce.y,we=jt<ae?jt<ue?jt:ue:ae<ue?ae:ue,Se=Pe<He?Pe<de?Pe:de:He<de?He:de,wt=jt>ae?jt>ue?jt:ue:ae>ue?ae:ue,Ht=Pe>He?Pe>de?Pe:de:He>de?He:de,Wt=bt(we,Se,_t,dt,St),Nt=bt(wt,Ht,_t,dt,St),ht=Tt.prevZ,At=Tt.nextZ;ht&&ht.z>=Wt&&At&&At.z<=Nt;){if(ht.x>=we&&ht.x<=wt&&ht.y>=Se&&ht.y<=Ht&&ht!==Zt&&ht!==Ce&&tt(jt,Pe,ae,He,ue,de,ht.x,ht.y)&&nt(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,At.x>=we&&At.x<=wt&&At.y>=Se&&At.y<=Ht&&At!==Zt&&At!==Ce&&tt(jt,Pe,ae,He,ue,de,At.x,At.y)&&nt(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;ht&&ht.z>=Wt;){if(ht.x>=we&&ht.x<=wt&&ht.y>=Se&&ht.y<=Ht&&ht!==Zt&&ht!==Ce&&tt(jt,Pe,ae,He,ue,de,ht.x,ht.y)&&nt(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;At&&At.z<=Nt;){if(At.x>=we&&At.x<=wt&&At.y>=Se&&At.y<=Ht&&At!==Zt&&At!==Ce&&tt(jt,Pe,ae,He,ue,de,At.x,At.y)&&nt(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function G(Tt,_t,dt){var St=Tt;do{var Zt=St.prev,Vt=St.next.next;!z(Zt,Vt)&&ct(Zt,St,St.next,Vt)&&q(Zt,Vt)&&q(Vt,Zt)&&(_t.push(Zt.i/dt|0),_t.push(St.i/dt|0),_t.push(Vt.i/dt|0),ut(St),ut(St.next),St=Tt=Vt),St=St.next}while(St!==Tt);return J(St)}function O(Tt,_t,dt,St,Zt,Vt){var Ce=Tt;do{for(var jt=Ce.next.next;jt!==Ce.prev;){if(Ce.i!==jt.i&&W(Ce,jt)){var ae=Dt(Ce,jt);return Ce=J(Ce,Ce.next),ae=J(ae,ae.next),rt(Ce,_t,dt,St,Zt,Vt,0),void rt(ae,_t,dt,St,Zt,Vt,0)}jt=jt.next}Ce=Ce.next}while(Ce!==Tt)}function ot(Tt,_t){return Tt.x-_t.x}function st(Tt,_t){var dt=function at(Tt,_t){var Ce,dt=_t,St=Tt.x,Zt=Tt.y,Vt=-1/0;do{if(Zt<=dt.y&&Zt>=dt.next.y&&dt.next.y!==dt.y){var jt=dt.x+(Zt-dt.y)*(dt.next.x-dt.x)/(dt.next.y-dt.y);if(jt<=St&&jt>Vt&&(Vt=jt,Ce=dt.x<dt.next.x?dt:dt.next,jt===St))return Ce}dt=dt.next}while(dt!==_t);if(!Ce)return null;var de,ae=Ce,ue=Ce.x,Pe=Ce.y,He=1/0;dt=Ce;do{St>=dt.x&&dt.x>=ue&&St!==dt.x&&tt(Zt<Pe?St:Vt,Zt,ue,Pe,Zt<Pe?Vt:St,Zt,dt.x,dt.y)&&(de=Math.abs(Zt-dt.y)/(St-dt.x),q(dt,Tt)&&(de<He||de===He&&(dt.x>Ce.x||dt.x===Ce.x&&$(Ce,dt)))&&(Ce=dt,He=de)),dt=dt.next}while(dt!==ae);return Ce}(Tt,_t);if(!dt)return _t;var St=Dt(dt,Tt);return J(St,St.next),J(dt,dt.next)}function $(Tt,_t){return nt(Tt.prev,Tt,_t.prev)<0&&nt(_t.next,Tt,Tt.next)<0}function bt(Tt,_t,dt,St,Zt){return(Tt=1431655765&((Tt=858993459&((Tt=252645135&((Tt=16711935&((Tt=(Tt-dt)*Zt|0)|Tt<<8))|Tt<<4))|Tt<<2))|Tt<<1))|(_t=1431655765&((_t=858993459&((_t=252645135&((_t=16711935&((_t=(_t-St)*Zt|0)|_t<<8))|_t<<4))|_t<<2))|_t<<1))<<1}function X(Tt){var _t=Tt,dt=Tt;do{(_t.x<dt.x||_t.x===dt.x&&_t.y<dt.y)&&(dt=_t),_t=_t.next}while(_t!==Tt);return dt}function tt(Tt,_t,dt,St,Zt,Vt,Ce,jt){return(Zt-Ce)*(_t-jt)>=(Tt-Ce)*(Vt-jt)&&(Tt-Ce)*(St-jt)>=(dt-Ce)*(_t-jt)&&(dt-Ce)*(Vt-jt)>=(Zt-Ce)*(St-jt)}function W(Tt,_t){return Tt.next.i!==_t.i&&Tt.prev.i!==_t.i&&!function Ct(Tt,_t){var dt=Tt;do{if(dt.i!==Tt.i&&dt.next.i!==Tt.i&&dt.i!==_t.i&&dt.next.i!==_t.i&&ct(dt,dt.next,Tt,_t))return!0;dt=dt.next}while(dt!==Tt);return!1}(Tt,_t)&&(q(Tt,_t)&&q(_t,Tt)&&function Pt(Tt,_t){var dt=Tt,St=!1,Zt=(Tt.x+_t.x)/2,Vt=(Tt.y+_t.y)/2;do{dt.y>Vt!=dt.next.y>Vt&&dt.next.y!==dt.y&&Zt<(dt.next.x-dt.x)*(Vt-dt.y)/(dt.next.y-dt.y)+dt.x&&(St=!St),dt=dt.next}while(dt!==Tt);return St}(Tt,_t)&&(nt(Tt.prev,Tt,_t.prev)||nt(Tt,_t.prev,_t))||z(Tt,_t)&&nt(Tt.prev,Tt,Tt.next)>0&&nt(_t.prev,_t,_t.next)>0)}function nt(Tt,_t,dt){return(_t.y-Tt.y)*(dt.x-_t.x)-(_t.x-Tt.x)*(dt.y-_t.y)}function z(Tt,_t){return Tt.x===_t.x&&Tt.y===_t.y}function ct(Tt,_t,dt,St){var Zt=Mt(nt(Tt,_t,dt)),Vt=Mt(nt(Tt,_t,St)),Ce=Mt(nt(dt,St,Tt)),jt=Mt(nt(dt,St,_t));return!!(Zt!==Vt&&Ce!==jt||0===Zt&&gt(Tt,dt,_t)||0===Vt&&gt(Tt,St,_t)||0===Ce&&gt(dt,Tt,St)||0===jt&&gt(dt,_t,St))}function gt(Tt,_t,dt){return _t.x<=Math.max(Tt.x,dt.x)&&_t.x>=Math.min(Tt.x,dt.x)&&_t.y<=Math.max(Tt.y,dt.y)&&_t.y>=Math.min(Tt.y,dt.y)}function Mt(Tt){return Tt>0?1:Tt<0?-1:0}function q(Tt,_t){return nt(Tt.prev,Tt,Tt.next)<0?nt(Tt,_t,Tt.next)>=0&&nt(Tt,Tt.prev,_t)>=0:nt(Tt,_t,Tt.prev)<0||nt(Tt,Tt.next,_t)<0}function Dt(Tt,_t){var dt=new re(Tt.i,Tt.x,Tt.y),St=new re(_t.i,_t.x,_t.y),Zt=Tt.next,Vt=_t.prev;return Tt.next=_t,_t.prev=Tt,dt.next=Zt,Zt.prev=dt,St.next=dt,dt.prev=St,Vt.next=St,St.prev=Vt,St}function It(Tt,_t,dt,St){var Zt=new re(Tt,_t,dt);return St?(Zt.next=St.next,Zt.prev=St,St.next.prev=Zt,St.next=Zt):(Zt.prev=Zt,Zt.next=Zt),Zt}function ut(Tt){Tt.next.prev=Tt.prev,Tt.prev.next=Tt.next,Tt.prevZ&&(Tt.prevZ.nextZ=Tt.nextZ),Tt.nextZ&&(Tt.nextZ.prevZ=Tt.prevZ)}function re(Tt,_t,dt){this.i=Tt,this.x=_t,this.y=dt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function se(Tt,_t,dt,St){for(var Zt=0,Vt=_t,Ce=dt-St;Vt<dt;Vt+=St)Zt+=(Tt[Ce]-Tt[Vt])*(Tt[Vt+1]+Tt[Ce+1]),Ce=Vt;return Zt}Ye.exports=oe,Ye.exports.default=oe,oe.deviation=function(Tt,_t,dt,St){var Zt=_t&&_t.length,Ce=Math.abs(se(Tt,0,Zt?_t[0]*dt:Tt.length,dt));if(Zt)for(var jt=0,ae=_t.length;jt<ae;jt++)Ce-=Math.abs(se(Tt,_t[jt]*dt,jt<ae-1?_t[jt+1]*dt:Tt.length,dt));var He=0;for(jt=0;jt<St.length;jt+=3){var de=St[jt]*dt,we=St[jt+1]*dt,Se=St[jt+2]*dt;He+=Math.abs((Tt[de]-Tt[Se])*(Tt[we+1]-Tt[de+1])-(Tt[de]-Tt[we])*(Tt[Se+1]-Tt[de+1]))}return 0===Ce&&0===He?0:Math.abs((He-Ce)/Ce)},oe.flatten=function(Tt){for(var _t=Tt[0][0].length,dt={vertices:[],holes:[],dimensions:_t},St=0,Zt=0;Zt<Tt.length;Zt++){for(var Vt=0;Vt<Tt[Zt].length;Vt++)for(var Ce=0;Ce<_t;Ce++)dt.vertices.push(Tt[Zt][Vt][Ce]);Zt>0&&dt.holes.push(St+=Tt[Zt-1].length)}return dt}},3457:Ye=>{"use strict";var oe="Function.prototype.bind called on incompatible ",Z=Array.prototype.slice,J=Object.prototype.toString,rt="[object Function]";Ye.exports=function(Y){var G=this;if("function"!=typeof G||J.call(G)!==rt)throw new TypeError(oe+G);for(var Q,O=Z.call(arguments,1),st=Math.max(0,G.length-O.length),at=[],$=0;$<st;$++)at.push("$"+$);if(Q=Function("binder","return function ("+at.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Q){var V=G.apply(this,O.concat(Z.call(arguments)));return Object(V)===V?V:this}return G.apply(Y,O.concat(Z.call(arguments)))}),G.prototype){var N=function(){};N.prototype=G.prototype,Q.prototype=new N,N.prototype=null}return Q}},4444:(Ye,oe,Z)=>{"use strict";var J=Z(3457);Ye.exports=Function.prototype.bind||J},9582:Ye=>{"use strict";var oe=function(){return"string"==typeof function(){}.name},Z=Object.getOwnPropertyDescriptor;if(Z)try{Z([],"length")}catch{Z=null}oe.functionsHaveConfigurableNames=function(){if(!oe()||!Z)return!1;var F=Z(function(){},"name");return!!F&&!!F.configurable};var J=Function.prototype.bind;oe.boundFunctionsHaveNames=function(){return oe()&&"function"==typeof J&&""!==function(){}.bind().name},Ye.exports=oe},5013:(Ye,oe,Z)=>{var J=Z(6952),rt=function(O){this.precision=O&&O.precision?O.precision:17,this.direction=!(!O||!O.direction)&&O.direction,this.pseudoNode=!(!O||!O.pseudoNode)&&O.pseudoNode,this.objectComparator=O&&O.objectComparator?O.objectComparator:G};function F(O){return O.coordinates.map(function(Q){return{type:O.type.replace("Multi",""),coordinates:Q}})}function Y(O,Q){return O.hasOwnProperty("coordinates")?O.coordinates.length===Q.coordinates.length:O.length===Q.length}function G(O,Q){return J(O,Q,{strict:!0})}rt.prototype.compare=function(O,Q){if(O.type!==Q.type||!Y(O,Q))return!1;switch(O.type){case"Point":return this.compareCoord(O.coordinates,Q.coordinates);case"LineString":return this.compareLine(O.coordinates,Q.coordinates,0,!1);case"Polygon":return this.comparePolygon(O,Q);case"Feature":return this.compareFeature(O,Q);default:if(0===O.type.indexOf("Multi")){var ot=this,st=F(O),at=F(Q);return st.every(function($){return this.some(function(N){return ot.compare($,N)})},at)}}return!1},rt.prototype.compareCoord=function(O,Q){if(O.length!==Q.length)return!1;for(var ot=0;ot<O.length;ot++)if(O[ot].toFixed(this.precision)!==Q[ot].toFixed(this.precision))return!1;return!0},rt.prototype.compareLine=function(O,Q,ot,st){if(!Y(O,Q))return!1;var at=this.pseudoNode?O:this.removePseudo(O),$=this.pseudoNode?Q:this.removePseudo(Q);if(!st||this.compareCoord(at[0],$[0])||($=this.fixStartIndex($,at))){var N=this.compareCoord(at[ot],$[ot]);return this.direction||N?this.comparePath(at,$):!!this.compareCoord(at[ot],$[$.length-(1+ot)])&&this.comparePath(at.slice().reverse(),$)}},rt.prototype.fixStartIndex=function(O,Q){for(var ot,st=-1,at=0;at<O.length;at++)if(this.compareCoord(O[at],Q[0])){st=at;break}return st>=0&&(ot=[].concat(O.slice(st,O.length),O.slice(1,st+1))),ot},rt.prototype.comparePath=function(O,Q){var ot=this;return O.every(function(st,at){return ot.compareCoord(st,this[at])},Q)},rt.prototype.comparePolygon=function(O,Q){if(this.compareLine(O.coordinates[0],Q.coordinates[0],1,!0)){var ot=O.coordinates.slice(1,O.coordinates.length),st=Q.coordinates.slice(1,Q.coordinates.length),at=this;return ot.every(function($){return this.some(function(N){return at.compareLine($,N,1,!0)})},st)}return!1},rt.prototype.compareFeature=function(O,Q){return!(O.id!==Q.id||!this.objectComparator(O.properties,Q.properties)||!this.compareBBox(O,Q))&&this.compare(O.geometry,Q.geometry)},rt.prototype.compareBBox=function(O,Q){return!!(!O.bbox&&!Q.bbox||O.bbox&&Q.bbox&&this.compareCoord(O.bbox,Q.bbox))},rt.prototype.removePseudo=function(O){return O},Ye.exports=rt},5406:(Ye,oe,Z)=>{var J=Z(7192),rt=Z(8275),F=Z(3269),Y=Z(1503).Z,G=F.featureEach,ot=rt.featureCollection;function st(at){var $=new J(at);return $.insert=function(N){if("Feature"!==N.type)throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:Y(N),J.prototype.insert.call(this,N)},$.load=function(N){var V=[];return Array.isArray(N)?N.forEach(function(bt){if("Feature"!==bt.type)throw new Error("invalid features");bt.bbox=bt.bbox?bt.bbox:Y(bt),V.push(bt)}):G(N,function(bt){if("Feature"!==bt.type)throw new Error("invalid features");bt.bbox=bt.bbox?bt.bbox:Y(bt),V.push(bt)}),J.prototype.load.call(this,V)},$.remove=function(N,V){if("Feature"!==N.type)throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:Y(N),J.prototype.remove.call(this,N,V)},$.clear=function(){return J.prototype.clear.call(this)},$.search=function(N){var V=J.prototype.search.call(this,this.toBBox(N));return ot(V)},$.collides=function(N){return J.prototype.collides.call(this,this.toBBox(N))},$.all=function(){var N=J.prototype.all.call(this);return ot(N)},$.toJSON=function(){return J.prototype.toJSON.call(this)},$.fromJSON=function(N){return J.prototype.fromJSON.call(this,N)},$.toBBox=function(N){var V;if(N.bbox)V=N.bbox;else if(Array.isArray(N)&&4===N.length)V=N;else if(Array.isArray(N)&&6===N.length)V=[N[0],N[1],N[3],N[4]];else if("Feature"===N.type)V=Y(N);else{if("FeatureCollection"!==N.type)throw new Error("invalid geojson");V=Y(N)}return{minX:V[0],minY:V[1],maxX:V[2],maxY:V[3]}},$}Ye.exports=st,Ye.exports.default=st},7192:function(Ye){Ye.exports=function(){"use strict";function oe(X,tt,W,nt,z){!function ct(gt,Mt,Ct,q,Pt){for(;q>Ct;){if(q-Ct>600){var Dt=q-Ct+1,It=Mt-Ct+1,ut=Math.log(Dt),re=.5*Math.exp(2*ut/3),se=.5*Math.sqrt(ut*re*(Dt-re)/Dt)*(It-Dt/2<0?-1:1);ct(gt,Mt,Math.max(Ct,Math.floor(Mt-It*re/Dt+se)),Math.min(q,Math.floor(Mt+(Dt-It)*re/Dt+se)),Pt)}var dt=gt[Mt],St=Ct,Zt=q;for(Z(gt,Ct,Mt),Pt(gt[q],dt)>0&&Z(gt,Ct,q);St<Zt;){for(Z(gt,St,Zt),St++,Zt--;Pt(gt[St],dt)<0;)St++;for(;Pt(gt[Zt],dt)>0;)Zt--}0===Pt(gt[Ct],dt)?Z(gt,Ct,Zt):Z(gt,++Zt,q),Zt<=Mt&&(Ct=Zt+1),Mt<=Zt&&(q=Zt-1)}}(X,tt,W||0,nt||X.length-1,z||J)}function Z(X,tt,W){var nt=X[tt];X[tt]=X[W],X[W]=nt}function J(X,tt){return X<tt?-1:X>tt?1:0}var rt=function(X){void 0===X&&(X=9),this._maxEntries=Math.max(4,X),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(X,tt,W){if(!W)return tt.indexOf(X);for(var nt=0;nt<tt.length;nt++)if(W(X,tt[nt]))return nt;return-1}function Y(X,tt){G(X,0,X.children.length,tt,X)}function G(X,tt,W,nt,z){z||(z=V(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var ct=tt;ct<W;ct++){var gt=X.children[ct];O(z,X.leaf?nt(gt):gt)}return z}function O(X,tt){return X.minX=Math.min(X.minX,tt.minX),X.minY=Math.min(X.minY,tt.minY),X.maxX=Math.max(X.maxX,tt.maxX),X.maxY=Math.max(X.maxY,tt.maxY),X}function Q(X,tt){return X.minX-tt.minX}function ot(X,tt){return X.minY-tt.minY}function st(X){return(X.maxX-X.minX)*(X.maxY-X.minY)}function at(X){return X.maxX-X.minX+(X.maxY-X.minY)}function $(X,tt){return X.minX<=tt.minX&&X.minY<=tt.minY&&tt.maxX<=X.maxX&&tt.maxY<=X.maxY}function N(X,tt){return tt.minX<=X.maxX&&tt.minY<=X.maxY&&tt.maxX>=X.minX&&tt.maxY>=X.minY}function V(X){return{children:X,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function bt(X,tt,W,nt,z){for(var ct=[tt,W];ct.length;)if(!((W=ct.pop())-(tt=ct.pop())<=nt)){var gt=tt+Math.ceil((W-tt)/nt/2)*nt;oe(X,gt,tt,W,z),ct.push(tt,gt,gt,W)}}return rt.prototype.all=function(){return this._all(this.data,[])},rt.prototype.search=function(X){var tt=this.data,W=[];if(!N(X,tt))return W;for(var nt=this.toBBox,z=[];tt;){for(var ct=0;ct<tt.children.length;ct++){var gt=tt.children[ct],Mt=tt.leaf?nt(gt):gt;N(X,Mt)&&(tt.leaf?W.push(gt):$(X,Mt)?this._all(gt,W):z.push(gt))}tt=z.pop()}return W},rt.prototype.collides=function(X){var tt=this.data;if(!N(X,tt))return!1;for(var W=[];tt;){for(var nt=0;nt<tt.children.length;nt++){var z=tt.children[nt],ct=tt.leaf?this.toBBox(z):z;if(N(X,ct)){if(tt.leaf||$(X,ct))return!0;W.push(z)}}tt=W.pop()}return!1},rt.prototype.load=function(X){if(!X||!X.length)return this;if(X.length<this._minEntries){for(var tt=0;tt<X.length;tt++)this.insert(X[tt]);return this}var W=this._build(X.slice(),0,X.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var nt=this.data;this.data=W,W=nt}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},rt.prototype.insert=function(X){return X&&this._insert(X,this.data.height-1),this},rt.prototype.clear=function(){return this.data=V([]),this},rt.prototype.remove=function(X,tt){if(!X)return this;for(var W,nt,z,ct=this.data,gt=this.toBBox(X),Mt=[],Ct=[];ct||Mt.length;){if(ct||(ct=Mt.pop(),nt=Mt[Mt.length-1],W=Ct.pop(),z=!0),ct.leaf){var q=F(X,ct.children,tt);if(-1!==q)return ct.children.splice(q,1),Mt.push(ct),this._condense(Mt),this}z||ct.leaf||!$(ct,gt)?nt?(W++,ct=nt.children[W],z=!1):ct=null:(Mt.push(ct),Ct.push(W),W=0,nt=ct,ct=ct.children[0])}return this},rt.prototype.toBBox=function(X){return X},rt.prototype.compareMinX=function(X,tt){return X.minX-tt.minX},rt.prototype.compareMinY=function(X,tt){return X.minY-tt.minY},rt.prototype.toJSON=function(){return this.data},rt.prototype.fromJSON=function(X){return this.data=X,this},rt.prototype._all=function(X,tt){for(var W=[];X;)X.leaf?tt.push.apply(tt,X.children):W.push.apply(W,X.children),X=W.pop();return tt},rt.prototype._build=function(X,tt,W,nt){var z,ct=W-tt+1,gt=this._maxEntries;if(ct<=gt)return Y(z=V(X.slice(tt,W+1)),this.toBBox),z;nt||(nt=Math.ceil(Math.log(ct)/Math.log(gt)),gt=Math.ceil(ct/Math.pow(gt,nt-1))),(z=V([])).leaf=!1,z.height=nt;var Mt=Math.ceil(ct/gt),Ct=Mt*Math.ceil(Math.sqrt(gt));bt(X,tt,W,Ct,this.compareMinX);for(var q=tt;q<=W;q+=Ct){var Pt=Math.min(q+Ct-1,W);bt(X,q,Pt,Mt,this.compareMinY);for(var Dt=q;Dt<=Pt;Dt+=Mt){var It=Math.min(Dt+Mt-1,Pt);z.children.push(this._build(X,Dt,It,nt-1))}}return Y(z,this.toBBox),z},rt.prototype._chooseSubtree=function(X,tt,W,nt){for(;nt.push(tt),!tt.leaf&&nt.length-1!==W;){for(var z=1/0,ct=1/0,gt=void 0,Mt=0;Mt<tt.children.length;Mt++){var Ct=tt.children[Mt],q=st(Ct),Pt=(Dt=X,It=Ct,(Math.max(It.maxX,Dt.maxX)-Math.min(It.minX,Dt.minX))*(Math.max(It.maxY,Dt.maxY)-Math.min(It.minY,Dt.minY))-q);Pt<ct?(ct=Pt,z=q<z?q:z,gt=Ct):Pt===ct&&q<z&&(z=q,gt=Ct)}tt=gt||tt.children[0]}var Dt,It;return tt},rt.prototype._insert=function(X,tt,W){var nt=W?X:this.toBBox(X),z=[],ct=this._chooseSubtree(nt,this.data,tt,z);for(ct.children.push(X),O(ct,nt);tt>=0&&z[tt].children.length>this._maxEntries;)this._split(z,tt),tt--;this._adjustParentBBoxes(nt,z,tt)},rt.prototype._split=function(X,tt){var W=X[tt],nt=W.children.length,z=this._minEntries;this._chooseSplitAxis(W,z,nt);var ct=this._chooseSplitIndex(W,z,nt),gt=V(W.children.splice(ct,W.children.length-ct));gt.height=W.height,gt.leaf=W.leaf,Y(W,this.toBBox),Y(gt,this.toBBox),tt?X[tt-1].children.push(gt):this._splitRoot(W,gt)},rt.prototype._splitRoot=function(X,tt){this.data=V([X,tt]),this.data.height=X.height+1,this.data.leaf=!1,Y(this.data,this.toBBox)},rt.prototype._chooseSplitIndex=function(X,tt,W){for(var nt,z,ct,gt,Mt,Ct,q,Pt=1/0,Dt=1/0,It=tt;It<=W-tt;It++){var ut=G(X,0,It,this.toBBox),re=G(X,It,W,this.toBBox),se=(z=ut,ct=re,void 0,void 0,void 0,void 0,gt=Math.max(z.minX,ct.minX),Mt=Math.max(z.minY,ct.minY),Ct=Math.min(z.maxX,ct.maxX),q=Math.min(z.maxY,ct.maxY),Math.max(0,Ct-gt)*Math.max(0,q-Mt)),Tt=st(ut)+st(re);se<Pt?(Pt=se,nt=It,Dt=Tt<Dt?Tt:Dt):se===Pt&&Tt<Dt&&(Dt=Tt,nt=It)}return nt||W-tt},rt.prototype._chooseSplitAxis=function(X,tt,W){var nt=X.leaf?this.compareMinX:Q,z=X.leaf?this.compareMinY:ot;this._allDistMargin(X,tt,W,nt)<this._allDistMargin(X,tt,W,z)&&X.children.sort(nt)},rt.prototype._allDistMargin=function(X,tt,W,nt){X.children.sort(nt);for(var z=this.toBBox,ct=G(X,0,tt,z),gt=G(X,W-tt,W,z),Mt=at(ct)+at(gt),Ct=tt;Ct<W-tt;Ct++){var q=X.children[Ct];O(ct,X.leaf?z(q):q),Mt+=at(ct)}for(var Pt=W-tt-1;Pt>=tt;Pt--){var Dt=X.children[Pt];O(gt,X.leaf?z(Dt):Dt),Mt+=at(gt)}return Mt},rt.prototype._adjustParentBBoxes=function(X,tt,W){for(var nt=W;nt>=0;nt--)O(tt[nt],X)},rt.prototype._condense=function(X){for(var tt=X.length-1,W=void 0;tt>=0;tt--)0===X[tt].children.length?tt>0?(W=X[tt-1].children).splice(W.indexOf(X[tt]),1):this.clear():Y(X[tt],this.toBBox)},rt}()},5203:(Ye,oe,Z)=>{"use strict";var J,rt=SyntaxError,F=Function,Y=TypeError,G=function(ut){try{return F('"use strict"; return ('+ut+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var Q=function(){throw new Y},ot=O?function(){try{return Q}catch{try{return O(arguments,"callee").get}catch{return Q}}}():Q,st=Z(2969)(),at=Object.getPrototypeOf||function(ut){return ut.__proto__},$={},N=typeof Uint8Array>"u"?J:at(Uint8Array),V={"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":st?at([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":F,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":st?at(at([][Symbol.iterator]())):J,"%JSON%":"object"==typeof JSON?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!st?J:at((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!st?J:at((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":st?at(""[Symbol.iterator]()):J,"%Symbol%":st?Symbol:J,"%SyntaxError%":rt,"%ThrowTypeError%":ot,"%TypedArray%":N,"%TypeError%":Y,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet};try{null.error}catch(ut){var bt=at(at(ut));V["%Error.prototype%"]=bt}var X=function ut(re){var se;if("%AsyncFunction%"===re)se=G("async function () {}");else if("%GeneratorFunction%"===re)se=G("function* () {}");else if("%AsyncGeneratorFunction%"===re)se=G("async function* () {}");else if("%AsyncGenerator%"===re){var Tt=ut("%AsyncGeneratorFunction%");Tt&&(se=Tt.prototype)}else if("%AsyncIteratorPrototype%"===re){var _t=ut("%AsyncGenerator%");_t&&(se=at(_t.prototype))}return V[re]=se,se},tt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=Z(4444),nt=Z(3164),z=W.call(Function.call,Array.prototype.concat),ct=W.call(Function.apply,Array.prototype.splice),gt=W.call(Function.call,String.prototype.replace),Mt=W.call(Function.call,String.prototype.slice),Ct=W.call(Function.call,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pt=/\\(\\)?/g,Dt=function(re){var se=Mt(re,0,1),Tt=Mt(re,-1);if("%"===se&&"%"!==Tt)throw new rt("invalid intrinsic syntax, expected closing `%`");if("%"===Tt&&"%"!==se)throw new rt("invalid intrinsic syntax, expected opening `%`");var _t=[];return gt(re,q,function(dt,St,Zt,Vt){_t[_t.length]=Zt?gt(Vt,Pt,"$1"):St||dt}),_t},It=function(re,se){var _t,Tt=re;if(nt(tt,Tt)&&(Tt="%"+(_t=tt[Tt])[0]+"%"),nt(V,Tt)){var dt=V[Tt];if(dt===$&&(dt=X(Tt)),typeof dt>"u"&&!se)throw new Y("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:_t,name:Tt,value:dt}}throw new rt("intrinsic "+re+" does not exist!")};Ye.exports=function(re,se){if("string"!=typeof re||0===re.length)throw new Y("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof se)throw new Y('"allowMissing" argument must be a boolean');if(null===Ct(/^%?[^%]*%?$/,re))throw new rt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Tt=Dt(re),_t=Tt.length>0?Tt[0]:"",dt=It("%"+_t+"%",se),St=dt.name,Zt=dt.value,Vt=!1,Ce=dt.alias;Ce&&(_t=Ce[0],ct(Tt,z([0,1],Ce)));for(var jt=1,ae=!0;jt<Tt.length;jt+=1){var ue=Tt[jt],Pe=Mt(ue,0,1),He=Mt(ue,-1);if(('"'===Pe||"'"===Pe||"`"===Pe||'"'===He||"'"===He||"`"===He)&&Pe!==He)throw new rt("property names with quotes must have matching quotes");if(("constructor"===ue||!ae)&&(Vt=!0),nt(V,St="%"+(_t+="."+ue)+"%"))Zt=V[St];else if(null!=Zt){if(!(ue in Zt)){if(!se)throw new Y("base intrinsic for "+re+" exists, but the property is not available.");return}if(O&&jt+1>=Tt.length){var de=O(Zt,ue);Zt=(ae=!!de)&&"get"in de&&!("originalValue"in de.get)?de.get:Zt[ue]}else ae=nt(Zt,ue),Zt=Zt[ue];ae&&!Vt&&(V[St]=Zt)}}return Zt}},5278:(Ye,oe,Z)=>{"use strict";Z.d(oe,{Ib:()=>J,WT:()=>rt});var J=1e-6,rt=typeof Float32Array<"u"?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var ot=0,st=arguments.length;st--;)ot+=arguments[st]*arguments[st];return Math.sqrt(ot)})},711:(Ye,oe,Z)=>{"use strict";Z.d(oe,{G3:()=>Zt,GH:()=>$,Iu:()=>V,Jp:()=>N,M5:()=>ae,U1:()=>X,U_:()=>st,bA:()=>bt,en:()=>_t,jI:()=>nt,lM:()=>tt,oy:()=>dt,p4:()=>ot,uD:()=>W,zB:()=>Pe});var J=Z(5278);function ot(M,P){if(M===P){var U=P[1],pt=P[2],Et=P[3],Ot=P[6],pe=P[7],ye=P[11];M[1]=P[4],M[2]=P[8],M[3]=P[12],M[4]=U,M[6]=P[9],M[7]=P[13],M[8]=pt,M[9]=Ot,M[11]=P[14],M[12]=Et,M[13]=pe,M[14]=ye}else M[0]=P[0],M[1]=P[4],M[2]=P[8],M[3]=P[12],M[4]=P[1],M[5]=P[5],M[6]=P[9],M[7]=P[13],M[8]=P[2],M[9]=P[6],M[10]=P[10],M[11]=P[14],M[12]=P[3],M[13]=P[7],M[14]=P[11],M[15]=P[15];return M}function st(M,P){var U=P[0],pt=P[1],Et=P[2],Ot=P[3],pe=P[4],ye=P[5],xe=P[6],ze=P[7],Je=P[8],Ve=P[9],ln=P[10],fn=P[11],dn=P[12],xn=P[13],cn=P[14],ke=P[15],Kt=U*ye-pt*pe,ge=U*xe-Et*pe,Le=U*ze-Ot*pe,We=pt*xe-Et*ye,rn=pt*ze-Ot*ye,bn=Et*ze-Ot*xe,nn=Je*xn-Ve*dn,wn=Je*cn-ln*dn,zt=Je*ke-fn*dn,Qt=Ve*cn-ln*xn,Ie=Ve*ke-fn*xn,je=ln*ke-fn*cn,tn=Kt*je-ge*Ie+Le*Qt+We*zt-rn*wn+bn*nn;return tn?(M[0]=(ye*je-xe*Ie+ze*Qt)*(tn=1/tn),M[1]=(Et*Ie-pt*je-Ot*Qt)*tn,M[2]=(xn*bn-cn*rn+ke*We)*tn,M[3]=(ln*rn-Ve*bn-fn*We)*tn,M[4]=(xe*zt-pe*je-ze*wn)*tn,M[5]=(U*je-Et*zt+Ot*wn)*tn,M[6]=(cn*Le-dn*bn-ke*ge)*tn,M[7]=(Je*bn-ln*Le+fn*ge)*tn,M[8]=(pe*Ie-ye*zt+ze*nn)*tn,M[9]=(pt*zt-U*Ie-Ot*nn)*tn,M[10]=(dn*rn-xn*Le+ke*Kt)*tn,M[11]=(Ve*Le-Je*rn-fn*Kt)*tn,M[12]=(ye*wn-pe*Qt-xe*nn)*tn,M[13]=(U*Qt-pt*wn+Et*nn)*tn,M[14]=(xn*ge-dn*We-cn*Kt)*tn,M[15]=(Je*We-Ve*ge+ln*Kt)*tn,M):null}function $(M){var P=M[0],U=M[1],pt=M[2],Et=M[3],Ot=M[4],pe=M[5],ye=M[6],xe=M[7],ze=M[8],Je=M[9],Ve=M[10],ln=M[11],fn=M[12],dn=M[13],xn=M[14],cn=M[15];return(P*pe-U*Ot)*(Ve*cn-ln*xn)-(P*ye-pt*Ot)*(Je*cn-ln*dn)+(P*xe-Et*Ot)*(Je*xn-Ve*dn)+(U*ye-pt*pe)*(ze*cn-ln*fn)-(U*xe-Et*pe)*(ze*xn-Ve*fn)+(pt*xe-Et*ye)*(ze*dn-Je*fn)}function N(M,P,U){var pt=P[0],Et=P[1],Ot=P[2],pe=P[3],ye=P[4],xe=P[5],ze=P[6],Je=P[7],Ve=P[8],ln=P[9],fn=P[10],dn=P[11],xn=P[12],cn=P[13],ke=P[14],Kt=P[15],ge=U[0],Le=U[1],We=U[2],rn=U[3];return M[0]=ge*pt+Le*ye+We*Ve+rn*xn,M[1]=ge*Et+Le*xe+We*ln+rn*cn,M[2]=ge*Ot+Le*ze+We*fn+rn*ke,M[3]=ge*pe+Le*Je+We*dn+rn*Kt,M[4]=(ge=U[4])*pt+(Le=U[5])*ye+(We=U[6])*Ve+(rn=U[7])*xn,M[5]=ge*Et+Le*xe+We*ln+rn*cn,M[6]=ge*Ot+Le*ze+We*fn+rn*ke,M[7]=ge*pe+Le*Je+We*dn+rn*Kt,M[8]=(ge=U[8])*pt+(Le=U[9])*ye+(We=U[10])*Ve+(rn=U[11])*xn,M[9]=ge*Et+Le*xe+We*ln+rn*cn,M[10]=ge*Ot+Le*ze+We*fn+rn*ke,M[11]=ge*pe+Le*Je+We*dn+rn*Kt,M[12]=(ge=U[12])*pt+(Le=U[13])*ye+(We=U[14])*Ve+(rn=U[15])*xn,M[13]=ge*Et+Le*xe+We*ln+rn*cn,M[14]=ge*Ot+Le*ze+We*fn+rn*ke,M[15]=ge*pe+Le*Je+We*dn+rn*Kt,M}function V(M,P,U){var pe,ye,xe,ze,Je,Ve,ln,fn,dn,xn,cn,ke,pt=U[0],Et=U[1],Ot=U[2];return P===M?(M[12]=P[0]*pt+P[4]*Et+P[8]*Ot+P[12],M[13]=P[1]*pt+P[5]*Et+P[9]*Ot+P[13],M[14]=P[2]*pt+P[6]*Et+P[10]*Ot+P[14],M[15]=P[3]*pt+P[7]*Et+P[11]*Ot+P[15]):(ye=P[1],xe=P[2],ze=P[3],Je=P[4],Ve=P[5],ln=P[6],fn=P[7],dn=P[8],xn=P[9],cn=P[10],ke=P[11],M[0]=pe=P[0],M[1]=ye,M[2]=xe,M[3]=ze,M[4]=Je,M[5]=Ve,M[6]=ln,M[7]=fn,M[8]=dn,M[9]=xn,M[10]=cn,M[11]=ke,M[12]=pe*pt+Je*Et+dn*Ot+P[12],M[13]=ye*pt+Ve*Et+xn*Ot+P[13],M[14]=xe*pt+ln*Et+cn*Ot+P[14],M[15]=ze*pt+fn*Et+ke*Ot+P[15]),M}function bt(M,P,U){var pt=U[0],Et=U[1],Ot=U[2];return M[0]=P[0]*pt,M[1]=P[1]*pt,M[2]=P[2]*pt,M[3]=P[3]*pt,M[4]=P[4]*Et,M[5]=P[5]*Et,M[6]=P[6]*Et,M[7]=P[7]*Et,M[8]=P[8]*Ot,M[9]=P[9]*Ot,M[10]=P[10]*Ot,M[11]=P[11]*Ot,M[12]=P[12],M[13]=P[13],M[14]=P[14],M[15]=P[15],M}function X(M,P,U,pt){var xe,ze,Je,Ve,ln,fn,dn,xn,cn,ke,Kt,ge,Le,We,rn,bn,nn,wn,zt,Qt,Ie,je,tn,Dn,Et=pt[0],Ot=pt[1],pe=pt[2],ye=Math.hypot(Et,Ot,pe);return ye<J.Ib?null:(Et*=ye=1/ye,Ot*=ye,pe*=ye,xe=Math.sin(U),ze=Math.cos(U),ln=P[1],fn=P[2],dn=P[3],cn=P[5],ke=P[6],Kt=P[7],Le=P[9],We=P[10],rn=P[11],zt=Et*Ot*(Je=1-ze)-pe*xe,Qt=Ot*Ot*Je+ze,Ie=pe*Ot*Je+Et*xe,je=Et*pe*Je+Ot*xe,tn=Ot*pe*Je-Et*xe,Dn=pe*pe*Je+ze,M[0]=(Ve=P[0])*(bn=Et*Et*Je+ze)+(xn=P[4])*(nn=Ot*Et*Je+pe*xe)+(ge=P[8])*(wn=pe*Et*Je-Ot*xe),M[1]=ln*bn+cn*nn+Le*wn,M[2]=fn*bn+ke*nn+We*wn,M[3]=dn*bn+Kt*nn+rn*wn,M[4]=Ve*zt+xn*Qt+ge*Ie,M[5]=ln*zt+cn*Qt+Le*Ie,M[6]=fn*zt+ke*Qt+We*Ie,M[7]=dn*zt+Kt*Qt+rn*Ie,M[8]=Ve*je+xn*tn+ge*Dn,M[9]=ln*je+cn*tn+Le*Dn,M[10]=fn*je+ke*tn+We*Dn,M[11]=dn*je+Kt*tn+rn*Dn,P!==M&&(M[12]=P[12],M[13]=P[13],M[14]=P[14],M[15]=P[15]),M)}function tt(M,P,U){var pt=Math.sin(U),Et=Math.cos(U),Ot=P[4],pe=P[5],ye=P[6],xe=P[7],ze=P[8],Je=P[9],Ve=P[10],ln=P[11];return P!==M&&(M[0]=P[0],M[1]=P[1],M[2]=P[2],M[3]=P[3],M[12]=P[12],M[13]=P[13],M[14]=P[14],M[15]=P[15]),M[4]=Ot*Et+ze*pt,M[5]=pe*Et+Je*pt,M[6]=ye*Et+Ve*pt,M[7]=xe*Et+ln*pt,M[8]=ze*Et-Ot*pt,M[9]=Je*Et-pe*pt,M[10]=Ve*Et-ye*pt,M[11]=ln*Et-xe*pt,M}function W(M,P,U){var pt=Math.sin(U),Et=Math.cos(U),Ot=P[0],pe=P[1],ye=P[2],xe=P[3],ze=P[8],Je=P[9],Ve=P[10],ln=P[11];return P!==M&&(M[4]=P[4],M[5]=P[5],M[6]=P[6],M[7]=P[7],M[12]=P[12],M[13]=P[13],M[14]=P[14],M[15]=P[15]),M[0]=Ot*Et-ze*pt,M[1]=pe*Et-Je*pt,M[2]=ye*Et-Ve*pt,M[3]=xe*Et-ln*pt,M[8]=Ot*pt+ze*Et,M[9]=pe*pt+Je*Et,M[10]=ye*pt+Ve*Et,M[11]=xe*pt+ln*Et,M}function nt(M,P,U){var pt=Math.sin(U),Et=Math.cos(U),Ot=P[0],pe=P[1],ye=P[2],xe=P[3],ze=P[4],Je=P[5],Ve=P[6],ln=P[7];return P!==M&&(M[8]=P[8],M[9]=P[9],M[10]=P[10],M[11]=P[11],M[12]=P[12],M[13]=P[13],M[14]=P[14],M[15]=P[15]),M[0]=Ot*Et+ze*pt,M[1]=pe*Et+Je*pt,M[2]=ye*Et+Ve*pt,M[3]=xe*Et+ln*pt,M[4]=ze*Et-Ot*pt,M[5]=Je*Et-pe*pt,M[6]=Ve*Et-ye*pt,M[7]=ln*Et-xe*pt,M}function _t(M,P){var U=P[0],pt=P[1],Et=P[2],Ot=P[3],pe=U+U,ye=pt+pt,xe=Et+Et,ze=U*pe,Je=pt*pe,Ve=pt*ye,ln=Et*pe,fn=Et*ye,dn=Et*xe,xn=Ot*pe,cn=Ot*ye,ke=Ot*xe;return M[0]=1-Ve-dn,M[1]=Je+ke,M[2]=ln-cn,M[3]=0,M[4]=Je-ke,M[5]=1-ze-dn,M[6]=fn+xn,M[7]=0,M[8]=ln+cn,M[9]=fn-xn,M[10]=1-ze-Ve,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function dt(M,P,U,pt,Et,Ot,pe){var ye=1/(U-P),xe=1/(Et-pt),ze=1/(Ot-pe);return M[0]=2*Ot*ye,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=2*Ot*xe,M[6]=0,M[7]=0,M[8]=(U+P)*ye,M[9]=(Et+pt)*xe,M[10]=(pe+Ot)*ze,M[11]=-1,M[12]=0,M[13]=0,M[14]=pe*Ot*2*ze,M[15]=0,M}var Zt=function St(M,P,U,pt,Et){var pe,Ot=1/Math.tan(P/2);return M[0]=Ot/U,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=Ot,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,null!=Et&&Et!==1/0?(M[10]=(Et+pt)*(pe=1/(pt-Et)),M[14]=2*Et*pt*pe):(M[10]=-1,M[14]=-2*pt),M},ae=function jt(M,P,U,pt,Et,Ot,pe){var ye=1/(P-U),xe=1/(pt-Et),ze=1/(Ot-pe);return M[0]=-2*ye,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*xe,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*ze,M[11]=0,M[12]=(P+U)*ye,M[13]=(Et+pt)*xe,M[14]=(pe+Ot)*ze,M[15]=1,M};function Pe(M,P,U,pt){var Et,Ot,pe,ye,xe,ze,Je,Ve,ln,fn,dn=P[0],xn=P[1],cn=P[2],ke=pt[0],Kt=pt[1],ge=pt[2],Le=U[0],We=U[1],rn=U[2];return Math.abs(dn-Le)<J.Ib&&Math.abs(xn-We)<J.Ib&&Math.abs(cn-rn)<J.Ib?function Q(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}(M):(Je=dn-Le,Ve=xn-We,ln=cn-rn,Et=Kt*(ln*=fn=1/Math.hypot(Je,Ve,ln))-ge*(Ve*=fn),Ot=ge*(Je*=fn)-ke*ln,pe=ke*Ve-Kt*Je,(fn=Math.hypot(Et,Ot,pe))?(Et*=fn=1/fn,Ot*=fn,pe*=fn):(Et=0,Ot=0,pe=0),ye=Ve*pe-ln*Ot,xe=ln*Et-Je*pe,ze=Je*Ot-Ve*Et,(fn=Math.hypot(ye,xe,ze))?(ye*=fn=1/fn,xe*=fn,ze*=fn):(ye=0,xe=0,ze=0),M[0]=Et,M[1]=ye,M[2]=Je,M[3]=0,M[4]=Ot,M[5]=xe,M[6]=Ve,M[7]=0,M[8]=pe,M[9]=ze,M[10]=ln,M[11]=0,M[12]=-(Et*dn+Ot*xn+pe*cn),M[13]=-(ye*dn+xe*xn+ze*cn),M[14]=-(Je*dn+Ve*xn+ln*cn),M[15]=1,M)}},8235:(Ye,oe,Z)=>{"use strict";Z.d(oe,{IH:()=>Q,bA:()=>tt,fF:()=>_t,kE:()=>ct,lu:()=>ue,t7:()=>It,tk:()=>Mt});var J=Z(5278);function Q(Ht,Wt,Nt){return Ht[0]=Wt[0]+Nt[0],Ht[1]=Wt[1]+Nt[1],Ht}function tt(Ht,Wt,Nt){return Ht[0]=Wt[0]*Nt,Ht[1]=Wt[1]*Nt,Ht}function ct(Ht){return Math.hypot(Ht[0],Ht[1])}function Mt(Ht,Wt){return Ht[0]=-Wt[0],Ht[1]=-Wt[1],Ht}function It(Ht,Wt,Nt,ht){var At=Wt[0],vt=Wt[1];return Ht[0]=At+ht*(Nt[0]-At),Ht[1]=vt+ht*(Nt[1]-vt),Ht}function _t(Ht,Wt,Nt){var ht=Wt[0],At=Wt[1];return Ht[0]=Nt[0]*ht+Nt[4]*At+Nt[12],Ht[1]=Nt[1]*ht+Nt[5]*At+Nt[13],Ht}var ue=function ot(Ht,Wt,Nt){return Ht[0]=Wt[0]-Nt[0],Ht[1]=Wt[1]-Nt[1],Ht};(function rt(){var Ht=new J.WT(2);J.WT!=Float32Array&&(Ht[0]=0,Ht[1]=0)})()},3454:(Ye,oe,Z)=>{"use strict";Z.d(oe,{EU:()=>Ce,VC:()=>dt,Zh:()=>Ht,fF:()=>Tt,jI:()=>Vt,kC:()=>Dt,kE:()=>Y,kK:()=>_t,lM:()=>St,lu:()=>He,t7:()=>It,tk:()=>Mt,uD:()=>Zt,x9:()=>Wt});var J=Z(5278);function Y(ht){return Math.hypot(ht[0],ht[1],ht[2])}function Mt(ht,At){return ht[0]=-At[0],ht[1]=-At[1],ht[2]=-At[2],ht}function Dt(ht,At,vt){var M=At[0],P=At[1],U=At[2],pt=vt[0],Et=vt[1],Ot=vt[2];return ht[0]=P*Ot-U*Et,ht[1]=U*pt-M*Ot,ht[2]=M*Et-P*pt,ht}function It(ht,At,vt,M){var P=At[0],U=At[1],pt=At[2];return ht[0]=P+M*(vt[0]-P),ht[1]=U+M*(vt[1]-U),ht[2]=pt+M*(vt[2]-pt),ht}function Tt(ht,At,vt){var M=At[0],P=At[1],U=At[2],pt=vt[3]*M+vt[7]*P+vt[11]*U+vt[15];return ht[0]=(vt[0]*M+vt[4]*P+vt[8]*U+vt[12])/(pt=pt||1),ht[1]=(vt[1]*M+vt[5]*P+vt[9]*U+vt[13])/pt,ht[2]=(vt[2]*M+vt[6]*P+vt[10]*U+vt[14])/pt,ht}function _t(ht,At,vt){var M=At[0],P=At[1],U=At[2];return ht[0]=M*vt[0]+P*vt[3]+U*vt[6],ht[1]=M*vt[1]+P*vt[4]+U*vt[7],ht[2]=M*vt[2]+P*vt[5]+U*vt[8],ht}function dt(ht,At,vt){var M=vt[0],P=vt[1],U=vt[2],Et=At[0],Ot=At[1],pe=At[2],ye=P*pe-U*Ot,xe=U*Et-M*pe,ze=M*Ot-P*Et,Je=P*ze-U*xe,Ve=U*ye-M*ze,ln=M*xe-P*ye,fn=2*vt[3];return xe*=fn,ze*=fn,Ve*=2,ln*=2,ht[0]=Et+(ye*=fn)+(Je*=2),ht[1]=Ot+xe+Ve,ht[2]=pe+ze+ln,ht}function St(ht,At,vt,M){var P=[],U=[];return P[0]=At[0]-vt[0],P[1]=At[1]-vt[1],P[2]=At[2]-vt[2],U[0]=P[0],U[1]=P[1]*Math.cos(M)-P[2]*Math.sin(M),U[2]=P[1]*Math.sin(M)+P[2]*Math.cos(M),ht[0]=U[0]+vt[0],ht[1]=U[1]+vt[1],ht[2]=U[2]+vt[2],ht}function Zt(ht,At,vt,M){var P=[],U=[];return P[0]=At[0]-vt[0],P[1]=At[1]-vt[1],P[2]=At[2]-vt[2],U[0]=P[2]*Math.sin(M)+P[0]*Math.cos(M),U[1]=P[1],U[2]=P[2]*Math.cos(M)-P[0]*Math.sin(M),ht[0]=U[0]+vt[0],ht[1]=U[1]+vt[1],ht[2]=U[2]+vt[2],ht}function Vt(ht,At,vt,M){var P=[],U=[];return P[0]=At[0]-vt[0],P[1]=At[1]-vt[1],P[2]=At[2]-vt[2],U[0]=P[0]*Math.cos(M)-P[1]*Math.sin(M),U[1]=P[0]*Math.sin(M)+P[1]*Math.cos(M),U[2]=P[2],ht[0]=U[0]+vt[0],ht[1]=U[1]+vt[1],ht[2]=U[2]+vt[2],ht}function Ce(ht,At){var vt=ht[0],M=ht[1],P=ht[2],U=At[0],pt=At[1],Et=At[2],ye=Math.sqrt(vt*vt+M*M+P*P)*Math.sqrt(U*U+pt*pt+Et*Et),xe=ye&&function Pt(ht,At){return ht[0]*At[0]+ht[1]*At[1]+ht[2]*At[2]}(ht,At)/ye;return Math.acos(Math.min(Math.max(xe,-1),1))}var He=function st(ht,At,vt){return ht[0]=At[0]-vt[0],ht[1]=At[1]-vt[1],ht[2]=At[2]-vt[2],ht},Ht=Y,Wt=function gt(ht){var At=ht[0],vt=ht[1],M=ht[2];return At*At+vt*vt+M*M};(function rt(){var ht=new J.WT(3);J.WT!=Float32Array&&(ht[0]=0,ht[1]=0,ht[2]=0)})()},9538:(Ye,oe,Z)=>{"use strict";Z.d(oe,{bA:()=>tt,fF:()=>re});var J=Z(5278);function tt(de,we,Se){return de[0]=we[0]*Se,de[1]=we[1]*Se,de[2]=we[2]*Se,de[3]=we[3]*Se,de}function re(de,we,Se){var wt=we[0],Ht=we[1],Wt=we[2],Nt=we[3];return de[0]=Se[0]*wt+Se[4]*Ht+Se[8]*Wt+Se[12]*Nt,de[1]=Se[1]*wt+Se[5]*Ht+Se[9]*Wt+Se[13]*Nt,de[2]=Se[2]*wt+Se[6]*Ht+Se[10]*Wt+Se[14]*Nt,de[3]=Se[3]*wt+Se[7]*Ht+Se[11]*Wt+Se[15]*Nt,de}(function rt(){var de=new J.WT(4);J.WT!=Float32Array&&(de[0]=0,de[1]=0,de[2]=0,de[3]=0)})()},5386:(Ye,oe,Z)=>{var J;!function(rt,F,Y,G){"use strict";var tt,O=["","webkit","Moz","MS","ms","o"],Q=F.createElement("div"),ot="function",st=Math.round,at=Math.abs,$=Date.now;function N(Gt,Te,Ue){return setTimeout(ct(Gt,Ue),Te)}function V(Gt,Te,Ue){return!!Array.isArray(Gt)&&(bt(Gt,Ue[Te],Ue),!0)}function bt(Gt,Te,Ue){var _n;if(Gt)if(Gt.forEach)Gt.forEach(Te,Ue);else if(Gt.length!==G)for(_n=0;_n<Gt.length;)Te.call(Ue,Gt[_n],_n,Gt),_n++;else for(_n in Gt)Gt.hasOwnProperty(_n)&&Te.call(Ue,Gt[_n],_n,Gt)}function X(Gt,Te,Ue){var _n="DEPRECATED METHOD: "+Te+"\n"+Ue+" AT \n";return function(){var Hn=new Error("get-stack-trace"),Ke=Hn&&Hn.stack?Hn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ti=rt.console&&(rt.console.warn||rt.console.log);return Ti&&Ti.call(rt.console,_n,Ke),Gt.apply(this,arguments)}}tt="function"!=typeof Object.assign?function(Te){if(Te===G||null===Te)throw new TypeError("Cannot convert undefined or null to object");for(var Ue=Object(Te),_n=1;_n<arguments.length;_n++){var Hn=arguments[_n];if(Hn!==G&&null!==Hn)for(var Ke in Hn)Hn.hasOwnProperty(Ke)&&(Ue[Ke]=Hn[Ke])}return Ue}:Object.assign;var W=X(function(Te,Ue,_n){for(var Hn=Object.keys(Ue),Ke=0;Ke<Hn.length;)(!_n||_n&&Te[Hn[Ke]]===G)&&(Te[Hn[Ke]]=Ue[Hn[Ke]]),Ke++;return Te},"extend","Use `assign`."),nt=X(function(Te,Ue){return W(Te,Ue,!0)},"merge","Use `assign`.");function z(Gt,Te,Ue){var Hn,_n=Te.prototype;(Hn=Gt.prototype=Object.create(_n)).constructor=Gt,Hn._super=_n,Ue&&tt(Hn,Ue)}function ct(Gt,Te){return function(){return Gt.apply(Te,arguments)}}function gt(Gt,Te){return typeof Gt==ot?Gt.apply(Te&&Te[0]||G,Te):Gt}function Mt(Gt,Te){return Gt===G?Te:Gt}function Ct(Gt,Te,Ue){bt(It(Te),function(_n){Gt.addEventListener(_n,Ue,!1)})}function q(Gt,Te,Ue){bt(It(Te),function(_n){Gt.removeEventListener(_n,Ue,!1)})}function Pt(Gt,Te){for(;Gt;){if(Gt==Te)return!0;Gt=Gt.parentNode}return!1}function Dt(Gt,Te){return Gt.indexOf(Te)>-1}function It(Gt){return Gt.trim().split(/\s+/g)}function ut(Gt,Te,Ue){if(Gt.indexOf&&!Ue)return Gt.indexOf(Te);for(var _n=0;_n<Gt.length;){if(Ue&&Gt[_n][Ue]==Te||!Ue&&Gt[_n]===Te)return _n;_n++}return-1}function re(Gt){return Array.prototype.slice.call(Gt,0)}function se(Gt,Te,Ue){for(var _n=[],Hn=[],Ke=0;Ke<Gt.length;){var Ti=Te?Gt[Ke][Te]:Gt[Ke];ut(Hn,Ti)<0&&_n.push(Gt[Ke]),Hn[Ke]=Ti,Ke++}return Ue&&(_n=Te?_n.sort(function(ci,Rr){return ci[Te]>Rr[Te]}):_n.sort()),_n}function Tt(Gt,Te){for(var Ue,_n,Hn=Te[0].toUpperCase()+Te.slice(1),Ke=0;Ke<O.length;){if((_n=(Ue=O[Ke])?Ue+Hn:Te)in Gt)return _n;Ke++}return G}var _t=1;function St(Gt){var Te=Gt.ownerDocument||Gt;return Te.defaultView||Te.parentWindow||rt}var Vt="ontouchstart"in rt,Ce=Tt(rt,"PointerEvent")!==G,jt=Vt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ae="touch",Pe="mouse",de=25,we=1,Se=2,wt=4,Ht=8,Wt=1,Nt=2,ht=4,At=8,vt=16,M=Nt|ht,P=At|vt,U=M|P,pt=["x","y"],Et=["clientX","clientY"];function Ot(Gt,Te){var Ue=this;this.manager=Gt,this.callback=Te,this.element=Gt.element,this.target=Gt.options.inputTarget,this.domHandler=function(_n){gt(Gt.options.enable,[Gt])&&Ue.handler(_n)},this.init()}function ye(Gt,Te,Ue){var _n=Ue.pointers.length,Hn=Ue.changedPointers.length,Ke=Te&we&&_n-Hn==0,Ti=Te&(wt|Ht)&&_n-Hn==0;Ue.isFirst=!!Ke,Ue.isFinal=!!Ti,Ke&&(Gt.session={}),Ue.eventType=Te,function xe(Gt,Te){var Ue=Gt.session,_n=Te.pointers,Hn=_n.length;Ue.firstInput||(Ue.firstInput=Ve(Te)),Hn>1&&!Ue.firstMultiple?Ue.firstMultiple=Ve(Te):1===Hn&&(Ue.firstMultiple=!1);var Ke=Ue.firstInput,Ti=Ue.firstMultiple,Pn=Ti?Ti.center:Ke.center,ci=Te.center=ln(_n);Te.timeStamp=$(),Te.deltaTime=Te.timeStamp-Ke.timeStamp,Te.angle=cn(Pn,ci),Te.distance=xn(Pn,ci),function ze(Gt,Te){var Ue=Te.center,_n=Gt.offsetDelta||{},Hn=Gt.prevDelta||{},Ke=Gt.prevInput||{};(Te.eventType===we||Ke.eventType===wt)&&(Hn=Gt.prevDelta={x:Ke.deltaX||0,y:Ke.deltaY||0},_n=Gt.offsetDelta={x:Ue.x,y:Ue.y}),Te.deltaX=Hn.x+(Ue.x-_n.x),Te.deltaY=Hn.y+(Ue.y-_n.y)}(Ue,Te),Te.offsetDirection=dn(Te.deltaX,Te.deltaY);var Rr=fn(Te.deltaTime,Te.deltaX,Te.deltaY);Te.overallVelocityX=Rr.x,Te.overallVelocityY=Rr.y,Te.overallVelocity=at(Rr.x)>at(Rr.y)?Rr.x:Rr.y,Te.scale=Ti?function Kt(Gt,Te){return xn(Te[0],Te[1],Et)/xn(Gt[0],Gt[1],Et)}(Ti.pointers,_n):1,Te.rotation=Ti?function ke(Gt,Te){return cn(Te[1],Te[0],Et)+cn(Gt[1],Gt[0],Et)}(Ti.pointers,_n):0,Te.maxPointers=Ue.prevInput?Te.pointers.length>Ue.prevInput.maxPointers?Te.pointers.length:Ue.prevInput.maxPointers:Te.pointers.length,function Je(Gt,Te){var Hn,Ke,Ti,Pn,Ue=Gt.lastInterval||Te,_n=Te.timeStamp-Ue.timeStamp;if(Te.eventType!=Ht&&(_n>de||Ue.velocity===G)){var ci=Te.deltaX-Ue.deltaX,Rr=Te.deltaY-Ue.deltaY,tc=fn(_n,ci,Rr);Ke=tc.x,Ti=tc.y,Hn=at(tc.x)>at(tc.y)?tc.x:tc.y,Pn=dn(ci,Rr),Gt.lastInterval=Te}else Hn=Ue.velocity,Ke=Ue.velocityX,Ti=Ue.velocityY,Pn=Ue.direction;Te.velocity=Hn,Te.velocityX=Ke,Te.velocityY=Ti,Te.direction=Pn}(Ue,Te);var tc=Gt.element;Pt(Te.srcEvent.target,tc)&&(tc=Te.srcEvent.target),Te.target=tc}(Gt,Ue),Gt.emit("hammer.input",Ue),Gt.recognize(Ue),Gt.session.prevInput=Ue}function Ve(Gt){for(var Te=[],Ue=0;Ue<Gt.pointers.length;)Te[Ue]={clientX:st(Gt.pointers[Ue].clientX),clientY:st(Gt.pointers[Ue].clientY)},Ue++;return{timeStamp:$(),pointers:Te,center:ln(Te),deltaX:Gt.deltaX,deltaY:Gt.deltaY}}function ln(Gt){var Te=Gt.length;if(1===Te)return{x:st(Gt[0].clientX),y:st(Gt[0].clientY)};for(var Ue=0,_n=0,Hn=0;Hn<Te;)Ue+=Gt[Hn].clientX,_n+=Gt[Hn].clientY,Hn++;return{x:st(Ue/Te),y:st(_n/Te)}}function fn(Gt,Te,Ue){return{x:Te/Gt||0,y:Ue/Gt||0}}function dn(Gt,Te){return Gt===Te?Wt:at(Gt)>=at(Te)?Gt<0?Nt:ht:Te<0?At:vt}function xn(Gt,Te,Ue){Ue||(Ue=pt);var _n=Te[Ue[0]]-Gt[Ue[0]],Hn=Te[Ue[1]]-Gt[Ue[1]];return Math.sqrt(_n*_n+Hn*Hn)}function cn(Gt,Te,Ue){return Ue||(Ue=pt),180*Math.atan2(Te[Ue[1]]-Gt[Ue[1]],Te[Ue[0]]-Gt[Ue[0]])/Math.PI}Ot.prototype={handler:function(){},init:function(){this.evEl&&Ct(this.element,this.evEl,this.domHandler),this.evTarget&&Ct(this.target,this.evTarget,this.domHandler),this.evWin&&Ct(St(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(St(this.element),this.evWin,this.domHandler)}};var ge={mousedown:we,mousemove:Se,mouseup:wt},Le="mousedown",We="mousemove mouseup";function rn(){this.evEl=Le,this.evWin=We,this.pressed=!1,Ot.apply(this,arguments)}z(rn,Ot,{handler:function(Te){var Ue=ge[Te.type];Ue&we&&0===Te.button&&(this.pressed=!0),Ue&Se&&1!==Te.which&&(Ue=wt),this.pressed&&(Ue&wt&&(this.pressed=!1),this.callback(this.manager,Ue,{pointers:[Te],changedPointers:[Te],pointerType:Pe,srcEvent:Te}))}});var bn={pointerdown:we,pointermove:Se,pointerup:wt,pointercancel:Ht,pointerout:Ht},nn={2:ae,3:"pen",4:Pe,5:"kinect"},wn="pointerdown",zt="pointermove pointerup pointercancel";function Qt(){this.evEl=wn,this.evWin=zt,Ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}rt.MSPointerEvent&&!rt.PointerEvent&&(wn="MSPointerDown",zt="MSPointerMove MSPointerUp MSPointerCancel"),z(Qt,Ot,{handler:function(Te){var Ue=this.store,_n=!1,Hn=Te.type.toLowerCase().replace("ms",""),Ke=bn[Hn],Ti=nn[Te.pointerType]||Te.pointerType,Pn=Ti==ae,ci=ut(Ue,Te.pointerId,"pointerId");Ke&we&&(0===Te.button||Pn)?ci<0&&(Ue.push(Te),ci=Ue.length-1):Ke&(wt|Ht)&&(_n=!0),!(ci<0)&&(Ue[ci]=Te,this.callback(this.manager,Ke,{pointers:Ue,changedPointers:[Te],pointerType:Ti,srcEvent:Te}),_n&&Ue.splice(ci,1))}});var Ie={touchstart:we,touchmove:Se,touchend:wt,touchcancel:Ht},je="touchstart",tn="touchstart touchmove touchend touchcancel";function Dn(){this.evTarget=je,this.evWin=tn,this.started=!1,Ot.apply(this,arguments)}function fi(Gt,Te){var Ue=re(Gt.touches),_n=re(Gt.changedTouches);return Te&(wt|Ht)&&(Ue=se(Ue.concat(_n),"identifier",!0)),[Ue,_n]}z(Dn,Ot,{handler:function(Te){var Ue=Ie[Te.type];if(Ue===we&&(this.started=!0),this.started){var _n=fi.call(this,Te,Ue);Ue&(wt|Ht)&&_n[0].length-_n[1].length==0&&(this.started=!1),this.callback(this.manager,Ue,{pointers:_n[0],changedPointers:_n[1],pointerType:ae,srcEvent:Te})}}});var sr={touchstart:we,touchmove:Se,touchend:wt,touchcancel:Ht},dr="touchstart touchmove touchend touchcancel";function Qi(){this.evTarget=dr,this.targetIds={},Ot.apply(this,arguments)}function Po(Gt,Te){var Ue=re(Gt.touches),_n=this.targetIds;if(Te&(we|Se)&&1===Ue.length)return _n[Ue[0].identifier]=!0,[Ue,Ue];var Hn,Ke,Ti=re(Gt.changedTouches),Pn=[],ci=this.target;if(Ke=Ue.filter(function(Rr){return Pt(Rr.target,ci)}),Te===we)for(Hn=0;Hn<Ke.length;)_n[Ke[Hn].identifier]=!0,Hn++;for(Hn=0;Hn<Ti.length;)_n[Ti[Hn].identifier]&&Pn.push(Ti[Hn]),Te&(wt|Ht)&&delete _n[Ti[Hn].identifier],Hn++;return Pn.length?[se(Ke.concat(Pn),"identifier",!0),Pn]:void 0}z(Qi,Ot,{handler:function(Te){var Ue=sr[Te.type],_n=Po.call(this,Te,Ue);_n&&this.callback(this.manager,Ue,{pointers:_n[0],changedPointers:_n[1],pointerType:ae,srcEvent:Te})}});var Ha=2500,Wo=25;function Vi(){Ot.apply(this,arguments);var Gt=ct(this.handler,this);this.touch=new Qi(this.manager,Gt),this.mouse=new rn(this.manager,Gt),this.primaryTouch=null,this.lastTouches=[]}function sa(Gt,Te){Gt&we?(this.primaryTouch=Te.changedPointers[0].identifier,Ft.call(this,Te)):Gt&(wt|Ht)&&Ft.call(this,Te)}function Ft(Gt){var Te=Gt.changedPointers[0];if(Te.identifier===this.primaryTouch){var Ue={x:Te.clientX,y:Te.clientY};this.lastTouches.push(Ue);var _n=this.lastTouches;setTimeout(function(){var Ke=_n.indexOf(Ue);Ke>-1&&_n.splice(Ke,1)},Ha)}}function $t(Gt){for(var Te=Gt.srcEvent.clientX,Ue=Gt.srcEvent.clientY,_n=0;_n<this.lastTouches.length;_n++){var Hn=this.lastTouches[_n],Ke=Math.abs(Te-Hn.x),Ti=Math.abs(Ue-Hn.y);if(Ke<=Wo&&Ti<=Wo)return!0}return!1}z(Vi,Ot,{handler:function(Te,Ue,_n){var Ke=_n.pointerType==Pe;if(!(Ke&&_n.sourceCapabilities&&_n.sourceCapabilities.firesTouchEvents)){if(_n.pointerType==ae)sa.call(this,Ue,_n);else if(Ke&&$t.call(this,_n))return;this.callback(Te,Ue,_n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Fe=Tt(Q.style,"touchAction"),en=Fe!==G,un="compute",ii="manipulation",Ii="none",Ci="pan-x",Ri="pan-y",hr=function fa(){if(!en)return!1;var Gt={},Te=rt.CSS&&rt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ue){Gt[Ue]=!Te||rt.CSS.supports("touch-action",Ue)}),Gt}();function oo(Gt,Te){this.manager=Gt,this.set(Te)}oo.prototype={set:function(Gt){Gt==un&&(Gt=this.compute()),en&&this.manager.element.style&&hr[Gt]&&(this.manager.element.style[Fe]=Gt),this.actions=Gt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Gt=[];return bt(this.manager.recognizers,function(Te){gt(Te.options.enable,[Te])&&(Gt=Gt.concat(Te.getTouchAction()))}),function ho(Gt){if(Dt(Gt,Ii))return Ii;var Te=Dt(Gt,Ci),Ue=Dt(Gt,Ri);return Te&&Ue?Ii:Te||Ue?Te?Ci:Ri:Dt(Gt,ii)?ii:"auto"}(Gt.join(" "))},preventDefaults:function(Gt){var Te=Gt.srcEvent,Ue=Gt.offsetDirection;if(!this.manager.session.prevented){var _n=this.actions,Hn=Dt(_n,Ii)&&!hr[Ii],Ke=Dt(_n,Ri)&&!hr[Ri],Ti=Dt(_n,Ci)&&!hr[Ci];if(Hn&&1===Gt.pointers.length&&Gt.distance<2&&Gt.deltaTime<250)return;return Ti&&Ke||!(Hn||Ke&&Ue&M||Ti&&Ue&P)?void 0:this.preventSrc(Te)}Te.preventDefault()},preventSrc:function(Gt){this.manager.session.prevented=!0,Gt.preventDefault()}};var bl=1,Li=2,as=4,Yi=8,Wr=Yi,Ml=16;function ss(Gt){this.options=tt({},this.defaults,Gt||{}),this.id=function dt(){return _t++}(),this.manager=null,this.options.enable=Mt(this.options.enable,!0),this.state=bl,this.simultaneous={},this.requireFail=[]}function Pr(Gt){return Gt&Ml?"cancel":Gt&Yi?"end":Gt&as?"move":Gt&Li?"start":""}function Or(Gt){return Gt==vt?"down":Gt==At?"up":Gt==Nt?"left":Gt==ht?"right":""}function fr(Gt,Te){var Ue=Te.manager;return Ue?Ue.get(Gt):Gt}function Os(){ss.apply(this,arguments)}function kl(){Os.apply(this,arguments),this.pX=null,this.pY=null}function ie(){Os.apply(this,arguments)}function Me(){ss.apply(this,arguments),this._timer=null,this._input=null}function Re(){Os.apply(this,arguments)}function qe(){Os.apply(this,arguments)}function sn(){ss.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Zn(Gt,Te){return(Te=Te||{}).recognizers=Mt(Te.recognizers,Zn.defaults.preset),new _i(Gt,Te)}function _i(Gt,Te){this.options=tt({},Zn.defaults,Te||{}),this.options.inputTarget=this.options.inputTarget||Gt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Gt,this.input=function pe(Gt){return new(Gt.options.inputClass||(Ce?Qt:jt?Qi:Vt?Vi:rn))(Gt,ye)}(this),this.touchAction=new oo(this,this.options.touchAction),yo(this,!0),bt(this.options.recognizers,function(Ue){var _n=this.add(new Ue[0](Ue[1]));Ue[2]&&_n.recognizeWith(Ue[2]),Ue[3]&&_n.requireFailure(Ue[3])},this)}function yo(Gt,Te){var _n,Ue=Gt.element;Ue.style&&(bt(Gt.options.cssProps,function(Hn,Ke){_n=Tt(Ue.style,Ke),Te?(Gt.oldCssProps[_n]=Ue.style[_n],Ue.style[_n]=Hn):Ue.style[_n]=Gt.oldCssProps[_n]||""}),Te||(Gt.oldCssProps={}))}ss.prototype={defaults:{},set:function(Gt){return tt(this.options,Gt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Gt){if(V(Gt,"recognizeWith",this))return this;var Te=this.simultaneous;return Te[(Gt=fr(Gt,this)).id]||(Te[Gt.id]=Gt,Gt.recognizeWith(this)),this},dropRecognizeWith:function(Gt){return V(Gt,"dropRecognizeWith",this)||(Gt=fr(Gt,this),delete this.simultaneous[Gt.id]),this},requireFailure:function(Gt){if(V(Gt,"requireFailure",this))return this;var Te=this.requireFail;return-1===ut(Te,Gt=fr(Gt,this))&&(Te.push(Gt),Gt.requireFailure(this)),this},dropRequireFailure:function(Gt){if(V(Gt,"dropRequireFailure",this))return this;Gt=fr(Gt,this);var Te=ut(this.requireFail,Gt);return Te>-1&&this.requireFail.splice(Te,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Gt){return!!this.simultaneous[Gt.id]},emit:function(Gt){var Te=this,Ue=this.state;function _n(Hn){Te.manager.emit(Hn,Gt)}Ue<Yi&&_n(Te.options.event+Pr(Ue)),_n(Te.options.event),Gt.additionalEvent&&_n(Gt.additionalEvent),Ue>=Yi&&_n(Te.options.event+Pr(Ue))},tryEmit:function(Gt){if(this.canEmit())return this.emit(Gt);this.state=32},canEmit:function(){for(var Gt=0;Gt<this.requireFail.length;){if(!(this.requireFail[Gt].state&(32|bl)))return!1;Gt++}return!0},recognize:function(Gt){var Te=tt({},Gt);if(!gt(this.options.enable,[this,Te]))return this.reset(),void(this.state=32);this.state&(Wr|Ml|32)&&(this.state=bl),this.state=this.process(Te),this.state&(Li|as|Yi|Ml)&&this.tryEmit(Te)},process:function(Gt){},getTouchAction:function(){},reset:function(){}},z(Os,ss,{defaults:{pointers:1},attrTest:function(Gt){var Te=this.options.pointers;return 0===Te||Gt.pointers.length===Te},process:function(Gt){var Te=this.state,Ue=Gt.eventType,_n=Te&(Li|as),Hn=this.attrTest(Gt);return _n&&(Ue&Ht||!Hn)?Te|Ml:_n||Hn?Ue&wt?Te|Yi:Te&Li?Te|as:Li:32}}),z(kl,Os,{defaults:{event:"pan",threshold:10,pointers:1,direction:U},getTouchAction:function(){var Gt=this.options.direction,Te=[];return Gt&M&&Te.push(Ri),Gt&P&&Te.push(Ci),Te},directionTest:function(Gt){var Te=this.options,Ue=!0,_n=Gt.distance,Hn=Gt.direction,Ke=Gt.deltaX,Ti=Gt.deltaY;return Hn&Te.direction||(Te.direction&M?(Hn=0===Ke?Wt:Ke<0?Nt:ht,Ue=Ke!=this.pX,_n=Math.abs(Gt.deltaX)):(Hn=0===Ti?Wt:Ti<0?At:vt,Ue=Ti!=this.pY,_n=Math.abs(Gt.deltaY))),Gt.direction=Hn,Ue&&_n>Te.threshold&&Hn&Te.direction},attrTest:function(Gt){return Os.prototype.attrTest.call(this,Gt)&&(this.state&Li||!(this.state&Li)&&this.directionTest(Gt))},emit:function(Gt){this.pX=Gt.deltaX,this.pY=Gt.deltaY;var Te=Or(Gt.direction);Te&&(Gt.additionalEvent=this.options.event+Te),this._super.emit.call(this,Gt)}}),z(ie,Os,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ii]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.scale-1)>this.options.threshold||this.state&Li)},emit:function(Gt){1!==Gt.scale&&(Gt.additionalEvent=this.options.event+(Gt.scale<1?"in":"out")),this._super.emit.call(this,Gt)}}),z(Me,ss,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Gt){var Te=this.options,Ue=Gt.pointers.length===Te.pointers,_n=Gt.distance<Te.threshold,Hn=Gt.deltaTime>Te.time;if(this._input=Gt,!_n||!Ue||Gt.eventType&(wt|Ht)&&!Hn)this.reset();else if(Gt.eventType&we)this.reset(),this._timer=N(function(){this.state=Wr,this.tryEmit()},Te.time,this);else if(Gt.eventType&wt)return Wr;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Gt){this.state===Wr&&(Gt&&Gt.eventType&wt?this.manager.emit(this.options.event+"up",Gt):(this._input.timeStamp=$(),this.manager.emit(this.options.event,this._input)))}}),z(Re,Os,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ii]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.rotation)>this.options.threshold||this.state&Li)}}),z(qe,Os,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:M|P,pointers:1},getTouchAction:function(){return kl.prototype.getTouchAction.call(this)},attrTest:function(Gt){var Ue,Te=this.options.direction;return Te&(M|P)?Ue=Gt.overallVelocity:Te&M?Ue=Gt.overallVelocityX:Te&P&&(Ue=Gt.overallVelocityY),this._super.attrTest.call(this,Gt)&&Te&Gt.offsetDirection&&Gt.distance>this.options.threshold&&Gt.maxPointers==this.options.pointers&&at(Ue)>this.options.velocity&&Gt.eventType&wt},emit:function(Gt){var Te=Or(Gt.offsetDirection);Te&&this.manager.emit(this.options.event+Te,Gt),this.manager.emit(this.options.event,Gt)}}),z(sn,ss,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ii]},process:function(Gt){var Te=this.options,Ue=Gt.pointers.length===Te.pointers,_n=Gt.distance<Te.threshold,Hn=Gt.deltaTime<Te.time;if(this.reset(),Gt.eventType&we&&0===this.count)return this.failTimeout();if(_n&&Hn&&Ue){if(Gt.eventType!=wt)return this.failTimeout();var Ke=!this.pTime||Gt.timeStamp-this.pTime<Te.interval,Ti=!this.pCenter||xn(this.pCenter,Gt.center)<Te.posThreshold;if(this.pTime=Gt.timeStamp,this.pCenter=Gt.center,Ti&&Ke?this.count+=1:this.count=1,this._input=Gt,0==this.count%Te.taps)return this.hasRequireFailures()?(this._timer=N(function(){this.state=Wr,this.tryEmit()},Te.interval,this),Li):Wr}return 32},failTimeout:function(){return this._timer=N(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Wr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Zn.VERSION="2.0.7",Zn.defaults={domEvents:!1,touchAction:un,enable:!0,inputTarget:null,inputClass:null,preset:[[Re,{enable:!1}],[ie,{enable:!1},["rotate"]],[qe,{direction:M}],[kl,{direction:M},["swipe"]],[sn],[sn,{event:"doubletap",taps:2},["tap"]],[Me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_i.prototype={set:function(Gt){return tt(this.options,Gt),Gt.touchAction&&this.touchAction.update(),Gt.inputTarget&&(this.input.destroy(),this.input.target=Gt.inputTarget,this.input.init()),this},stop:function(Gt){this.session.stopped=Gt?2:1},recognize:function(Gt){var Te=this.session;if(!Te.stopped){this.touchAction.preventDefaults(Gt);var Ue,_n=this.recognizers,Hn=Te.curRecognizer;(!Hn||Hn&&Hn.state&Wr)&&(Hn=Te.curRecognizer=null);for(var Ke=0;Ke<_n.length;)Ue=_n[Ke],2===Te.stopped||Hn&&Ue!=Hn&&!Ue.canRecognizeWith(Hn)?Ue.reset():Ue.recognize(Gt),!Hn&&Ue.state&(Li|as|Yi)&&(Hn=Te.curRecognizer=Ue),Ke++}},get:function(Gt){if(Gt instanceof ss)return Gt;for(var Te=this.recognizers,Ue=0;Ue<Te.length;Ue++)if(Te[Ue].options.event==Gt)return Te[Ue];return null},add:function(Gt){if(V(Gt,"add",this))return this;var Te=this.get(Gt.options.event);return Te&&this.remove(Te),this.recognizers.push(Gt),Gt.manager=this,this.touchAction.update(),Gt},remove:function(Gt){if(V(Gt,"remove",this))return this;if(Gt=this.get(Gt)){var Te=this.recognizers,Ue=ut(Te,Gt);-1!==Ue&&(Te.splice(Ue,1),this.touchAction.update())}return this},on:function(Gt,Te){if(Gt!==G&&Te!==G){var Ue=this.handlers;return bt(It(Gt),function(_n){Ue[_n]=Ue[_n]||[],Ue[_n].push(Te)}),this}},off:function(Gt,Te){if(Gt!==G){var Ue=this.handlers;return bt(It(Gt),function(_n){Te?Ue[_n]&&Ue[_n].splice(ut(Ue[_n],Te),1):delete Ue[_n]}),this}},emit:function(Gt,Te){this.options.domEvents&&function Ns(Gt,Te){var Ue=F.createEvent("Event");Ue.initEvent(Gt,!0,!0),Ue.gesture=Te,Te.target.dispatchEvent(Ue)}(Gt,Te);var Ue=this.handlers[Gt]&&this.handlers[Gt].slice();if(Ue&&Ue.length){Te.type=Gt,Te.preventDefault=function(){Te.srcEvent.preventDefault()};for(var _n=0;_n<Ue.length;)Ue[_n](Te),_n++}},destroy:function(){this.element&&yo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},tt(Zn,{INPUT_START:we,INPUT_MOVE:Se,INPUT_END:wt,INPUT_CANCEL:Ht,STATE_POSSIBLE:bl,STATE_BEGAN:Li,STATE_CHANGED:as,STATE_ENDED:Yi,STATE_RECOGNIZED:Wr,STATE_CANCELLED:Ml,STATE_FAILED:32,DIRECTION_NONE:Wt,DIRECTION_LEFT:Nt,DIRECTION_RIGHT:ht,DIRECTION_UP:At,DIRECTION_DOWN:vt,DIRECTION_HORIZONTAL:M,DIRECTION_VERTICAL:P,DIRECTION_ALL:U,Manager:_i,Input:Ot,TouchAction:oo,TouchInput:Qi,MouseInput:rn,PointerEventInput:Qt,TouchMouseInput:Vi,SingleTouchInput:Dn,Recognizer:ss,AttrRecognizer:Os,Tap:sn,Pan:kl,Swipe:qe,Pinch:ie,Rotate:Re,Press:Me,on:Ct,off:q,each:bt,merge:nt,extend:W,assign:tt,inherit:z,bindFn:ct,prefixed:Tt}),(typeof rt<"u"?rt:typeof self<"u"?self:{}).Hammer=Zn,(J=function(){return Zn}.call(oe,Z,oe,Ye))!==G&&(Ye.exports=J)}(window,document)},7027:(Ye,oe,Z)=>{"use strict";var rt=Z(5203)("%Object.defineProperty%",!0),F=function(){if(rt)try{return rt({},"a",{value:1}),!0}catch{return!1}return!1};F.hasArrayLengthDefineBug=function(){if(!F())return null;try{return 1!==rt([],"length",{value:1}).length}catch{return!0}},Ye.exports=F},2969:(Ye,oe,Z)=>{"use strict";var J=typeof Symbol<"u"&&Symbol,rt=Z(1983);Ye.exports=function(){return"function"==typeof J&&"function"==typeof Symbol&&"symbol"==typeof J("foo")&&"symbol"==typeof Symbol("bar")&&rt()}},1983:Ye=>{"use strict";Ye.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var Z={},J=Symbol("test"),rt=Object(J);if("string"==typeof J||"[object Symbol]"!==Object.prototype.toString.call(J)||"[object Symbol]"!==Object.prototype.toString.call(rt))return!1;for(J in Z[J]=42,Z)return!1;if("function"==typeof Object.keys&&0!==Object.keys(Z).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(Z).length)return!1;var Y=Object.getOwnPropertySymbols(Z);if(1!==Y.length||Y[0]!==J||!Object.prototype.propertyIsEnumerable.call(Z,J))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(Z,J);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},6259:(Ye,oe,Z)=>{"use strict";var J=Z(1983);Ye.exports=function(){return J()&&!!Symbol.toStringTag}},3164:(Ye,oe,Z)=>{"use strict";var J=Z(4444);Ye.exports=J.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Ye,oe,Z)=>{"use strict";var J=Z(6259)(),F=Z(5834)("Object.prototype.toString"),Y=function(ot){return!(J&&ot&&"object"==typeof ot&&Symbol.toStringTag in ot)&&"[object Arguments]"===F(ot)},G=function(ot){return!!Y(ot)||null!==ot&&"object"==typeof ot&&"number"==typeof ot.length&&ot.length>=0&&"[object Array]"!==F(ot)&&"[object Function]"===F(ot.callee)},O=function(){return Y(arguments)}();Y.isLegacyArguments=G,Ye.exports=O?Y:G},2374:(Ye,oe,Z)=>{"use strict";var J=Date.prototype.getDay,F=Object.prototype.toString,G=Z(6259)();Ye.exports=function(Q){return"object"==typeof Q&&null!==Q&&(G?function(Q){try{return J.call(Q),!0}catch{return!1}}(Q):"[object Date]"===F.call(Q))}},2342:(Ye,oe,Z)=>{"use strict";var F,Y,G,O,J=Z(5834),rt=Z(6259)();if(rt){F=J("Object.prototype.hasOwnProperty"),Y=J("RegExp.prototype.exec"),G={};var Q=function(){throw G};O={toString:Q,valueOf:Q},"symbol"==typeof Symbol.toPrimitive&&(O[Symbol.toPrimitive]=Q)}var ot=J("Object.prototype.toString"),st=Object.getOwnPropertyDescriptor;Ye.exports=rt?function(N){if(!N||"object"!=typeof N)return!1;var V=st(N,"lastIndex");if(!V||!F(V,"value"))return!1;try{Y(N,O)}catch(X){return X===G}}:function(N){return!(!N||"object"!=typeof N&&"function"!=typeof N)&&"[object RegExp]"===ot(N)}},3316:(Ye,oe,Z)=>{var J;window,Ye.exports=(J=Z(8407),function(rt){var F={};function Y(G){if(F[G])return F[G].exports;var O=F[G]={i:G,l:!1,exports:{}};return rt[G].call(O.exports,O,O.exports,Y),O.l=!0,O.exports}return Y.m=rt,Y.c=F,Y.d=function(G,O,Q){Y.o(G,O)||Object.defineProperty(G,O,{enumerable:!0,get:Q})},Y.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Y.t=function(G,O){if(1&O&&(G=Y(G)),8&O||4&O&&"object"==typeof G&&G&&G.__esModule)return G;var Q=Object.create(null);if(Y.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:G}),2&O&&"string"!=typeof G)for(var ot in G)Y.d(Q,ot,function(st){return G[st]}.bind(null,ot));return Q},Y.n=function(G){var O=G&&G.__esModule?function(){return G.default}:function(){return G};return Y.d(O,"a",O),O},Y.o=function(G,O){return Object.prototype.hasOwnProperty.call(G,O)},Y.p="",Y(Y.s=10)}([function(rt,F){rt.exports=J},function(rt,F,Y){"use strict";function G(ut,re,se){se=se||2;var Tt,_t,dt,St,Zt,Vt,Ce,jt=re&&re.length,ae=jt?re[0]*se:ut.length,ue=O(ut,0,ae,se,!0),Pe=[];if(!ue||ue.next===ue.prev)return Pe;if(jt&&(ue=function(de,we,Se,wt){var Ht,Wt,At,vt=[];for(Ht=0,Wt=we.length;Ht<Wt;Ht++)(At=O(de,we[Ht]*wt,Ht<Wt-1?we[Ht+1]*wt:de.length,wt,!1))===At.next&&(At.steiner=!0),vt.push(tt(At));for(vt.sort(V),Ht=0;Ht<vt.length;Ht++)bt(vt[Ht],Se),Se=Q(Se,Se.next);return Se}(ut,re,ue,se)),ut.length>80*se){Tt=dt=ut[0],_t=St=ut[1];for(var He=se;He<ae;He+=se)(Zt=ut[He])<Tt&&(Tt=Zt),(Vt=ut[He+1])<_t&&(_t=Vt),Zt>dt&&(dt=Zt),Vt>St&&(St=Vt);Ce=0!==(Ce=Math.max(dt-Tt,St-_t))?1/Ce:0}return ot(ue,Pe,se,Tt,_t,Ce),Pe}function O(ut,re,se,Tt,_t){var dt,St;if(_t===It(ut,re,se,Tt)>0)for(dt=re;dt<se;dt+=Tt)St=q(dt,ut[dt],ut[dt+1],St);else for(dt=se-Tt;dt>=re;dt-=Tt)St=q(dt,ut[dt],ut[dt+1],St);return St&&ct(St,St.next)&&(Pt(St),St=St.next),St}function Q(ut,re){if(!ut)return ut;re||(re=ut);var se,Tt=ut;do{if(se=!1,Tt.steiner||!ct(Tt,Tt.next)&&0!==z(Tt.prev,Tt,Tt.next))Tt=Tt.next;else{if(Pt(Tt),(Tt=re=Tt.prev)===Tt.next)break;se=!0}}while(se||Tt!==re);return re}function ot(ut,re,se,Tt,_t,dt,St){if(ut){!St&&dt&&function(jt,ae,ue,Pe){var He=jt;do{null===He.z&&(He.z=X(He.x,He.y,ae,ue,Pe)),He.prevZ=He.prev,He.nextZ=He.next,He=He.next}while(He!==jt);He.prevZ.nextZ=null,He.prevZ=null,function(de){var we,Se,wt,Ht,Wt,Nt,ht,At,vt=1;do{for(Se=de,de=null,Wt=null,Nt=0;Se;){for(Nt++,wt=Se,ht=0,we=0;we<vt&&(ht++,wt=wt.nextZ);we++);for(At=vt;ht>0||At>0&&wt;)0!==ht&&(0===At||!wt||Se.z<=wt.z)?(Ht=Se,Se=Se.nextZ,ht--):(Ht=wt,wt=wt.nextZ,At--),Wt?Wt.nextZ=Ht:de=Ht,Ht.prevZ=Wt,Wt=Ht;Se=wt}Wt.nextZ=null,vt*=2}while(Nt>1)}(He)}(ut,Tt,_t,dt);for(var Zt,Vt,Ce=ut;ut.prev!==ut.next;)if(Zt=ut.prev,Vt=ut.next,dt?at(ut,Tt,_t,dt):st(ut))re.push(Zt.i/se),re.push(ut.i/se),re.push(Vt.i/se),Pt(ut),ut=Vt.next,Ce=Vt.next;else if((ut=Vt)===Ce){St?1===St?ot(ut=$(ut,re,se),re,se,Tt,_t,dt,2):2===St&&N(ut,re,se,Tt,_t,dt):ot(Q(ut),re,se,Tt,_t,dt,1);break}}}function st(ut){var re=ut.prev,se=ut,Tt=ut.next;if(z(re,se,Tt)>=0)return!1;for(var _t=ut.next.next;_t!==ut.prev;){if(W(re.x,re.y,se.x,se.y,Tt.x,Tt.y,_t.x,_t.y)&&z(_t.prev,_t,_t.next)>=0)return!1;_t=_t.next}return!0}function at(ut,re,se,Tt){var _t=ut.prev,dt=ut,St=ut.next;if(z(_t,dt,St)>=0)return!1;for(var Ce=_t.x>dt.x?_t.x>St.x?_t.x:St.x:dt.x>St.x?dt.x:St.x,jt=_t.y>dt.y?_t.y>St.y?_t.y:St.y:dt.y>St.y?dt.y:St.y,ae=X(_t.x<dt.x?_t.x<St.x?_t.x:St.x:dt.x<St.x?dt.x:St.x,_t.y<dt.y?_t.y<St.y?_t.y:St.y:dt.y<St.y?dt.y:St.y,re,se,Tt),ue=X(Ce,jt,re,se,Tt),Pe=ut.prevZ,He=ut.nextZ;Pe&&Pe.z>=ae&&He&&He.z<=ue;){if(Pe!==ut.prev&&Pe!==ut.next&&W(_t.x,_t.y,dt.x,dt.y,St.x,St.y,Pe.x,Pe.y)&&z(Pe.prev,Pe,Pe.next)>=0||(Pe=Pe.prevZ,He!==ut.prev&&He!==ut.next&&W(_t.x,_t.y,dt.x,dt.y,St.x,St.y,He.x,He.y)&&z(He.prev,He,He.next)>=0))return!1;He=He.nextZ}for(;Pe&&Pe.z>=ae;){if(Pe!==ut.prev&&Pe!==ut.next&&W(_t.x,_t.y,dt.x,dt.y,St.x,St.y,Pe.x,Pe.y)&&z(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.prevZ}for(;He&&He.z<=ue;){if(He!==ut.prev&&He!==ut.next&&W(_t.x,_t.y,dt.x,dt.y,St.x,St.y,He.x,He.y)&&z(He.prev,He,He.next)>=0)return!1;He=He.nextZ}return!0}function $(ut,re,se){var Tt=ut;do{var _t=Tt.prev,dt=Tt.next.next;!ct(_t,dt)&&gt(_t,Tt,Tt.next,dt)&&Mt(_t,dt)&&Mt(dt,_t)&&(re.push(_t.i/se),re.push(Tt.i/se),re.push(dt.i/se),Pt(Tt),Pt(Tt.next),Tt=ut=dt),Tt=Tt.next}while(Tt!==ut);return Tt}function N(ut,re,se,Tt,_t,dt){var St=ut;do{for(var Zt=St.next.next;Zt!==St.prev;){if(St.i!==Zt.i&&nt(St,Zt)){var Vt=Ct(St,Zt);return St=Q(St,St.next),Vt=Q(Vt,Vt.next),ot(St,re,se,Tt,_t,dt),void ot(Vt,re,se,Tt,_t,dt)}Zt=Zt.next}St=St.next}while(St!==ut)}function V(ut,re){return ut.x-re.x}function bt(ut,re){if(re=function(Tt,_t){var dt,St=_t,Zt=Tt.x,Vt=Tt.y,Ce=-1/0;do{if(Vt<=St.y&&Vt>=St.next.y&&St.next.y!==St.y){var jt=St.x+(Vt-St.y)*(St.next.x-St.x)/(St.next.y-St.y);if(jt<=Zt&&jt>Ce){if(Ce=jt,jt===Zt){if(Vt===St.y)return St;if(Vt===St.next.y)return St.next}dt=St.x<St.next.x?St:St.next}}St=St.next}while(St!==_t);if(!dt)return null;if(Zt===Ce)return dt.prev;var ae,ue=dt,Pe=dt.x,He=dt.y,de=1/0;for(St=dt.next;St!==ue;)Zt>=St.x&&St.x>=Pe&&Zt!==St.x&&W(Vt<He?Zt:Ce,Vt,Pe,He,Vt<He?Ce:Zt,Vt,St.x,St.y)&&((ae=Math.abs(Vt-St.y)/(Zt-St.x))<de||ae===de&&St.x>dt.x)&&Mt(St,Tt)&&(dt=St,de=ae),St=St.next;return dt}(ut,re)){var se=Ct(re,ut);Q(se,se.next)}}function X(ut,re,se,Tt,_t){return(ut=1431655765&((ut=858993459&((ut=252645135&((ut=16711935&((ut=32767*(ut-se)*_t)|ut<<8))|ut<<4))|ut<<2))|ut<<1))|(re=1431655765&((re=858993459&((re=252645135&((re=16711935&((re=32767*(re-Tt)*_t)|re<<8))|re<<4))|re<<2))|re<<1))<<1}function tt(ut){var re=ut,se=ut;do{(re.x<se.x||re.x===se.x&&re.y<se.y)&&(se=re),re=re.next}while(re!==ut);return se}function W(ut,re,se,Tt,_t,dt,St,Zt){return(_t-St)*(re-Zt)-(ut-St)*(dt-Zt)>=0&&(ut-St)*(Tt-Zt)-(se-St)*(re-Zt)>=0&&(se-St)*(dt-Zt)-(_t-St)*(Tt-Zt)>=0}function nt(ut,re){return ut.next.i!==re.i&&ut.prev.i!==re.i&&!function(se,Tt){var _t=se;do{if(_t.i!==se.i&&_t.next.i!==se.i&&_t.i!==Tt.i&&_t.next.i!==Tt.i&&gt(_t,_t.next,se,Tt))return!0;_t=_t.next}while(_t!==se);return!1}(ut,re)&&Mt(ut,re)&&Mt(re,ut)&&function(se,Tt){var _t=se,dt=!1,St=(se.x+Tt.x)/2,Zt=(se.y+Tt.y)/2;do{_t.y>Zt!=_t.next.y>Zt&&_t.next.y!==_t.y&&St<(_t.next.x-_t.x)*(Zt-_t.y)/(_t.next.y-_t.y)+_t.x&&(dt=!dt),_t=_t.next}while(_t!==se);return dt}(ut,re)}function z(ut,re,se){return(re.y-ut.y)*(se.x-re.x)-(re.x-ut.x)*(se.y-re.y)}function ct(ut,re){return ut.x===re.x&&ut.y===re.y}function gt(ut,re,se,Tt){return!!(ct(ut,re)&&ct(se,Tt)||ct(ut,Tt)&&ct(se,re))||z(ut,re,se)>0!=z(ut,re,Tt)>0&&z(se,Tt,ut)>0!=z(se,Tt,re)>0}function Mt(ut,re){return z(ut.prev,ut,ut.next)<0?z(ut,re,ut.next)>=0&&z(ut,ut.prev,re)>=0:z(ut,re,ut.prev)<0||z(ut,ut.next,re)<0}function Ct(ut,re){var se=new Dt(ut.i,ut.x,ut.y),Tt=new Dt(re.i,re.x,re.y),_t=ut.next,dt=re.prev;return ut.next=re,re.prev=ut,se.next=_t,_t.prev=se,Tt.next=se,se.prev=Tt,dt.next=Tt,Tt.prev=dt,Tt}function q(ut,re,se,Tt){var _t=new Dt(ut,re,se);return Tt?(_t.next=Tt.next,_t.prev=Tt,Tt.next.prev=_t,Tt.next=_t):(_t.prev=_t,_t.next=_t),_t}function Pt(ut){ut.next.prev=ut.prev,ut.prev.next=ut.next,ut.prevZ&&(ut.prevZ.nextZ=ut.nextZ),ut.nextZ&&(ut.nextZ.prevZ=ut.prevZ)}function Dt(ut,re,se){this.i=ut,this.x=re,this.y=se,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function It(ut,re,se,Tt){for(var _t=0,dt=re,St=se-Tt;dt<se;dt+=Tt)_t+=(ut[St]-ut[dt])*(ut[dt+1]+ut[St+1]),St=dt;return _t}rt.exports=G,rt.exports.default=G,G.deviation=function(ut,re,se,Tt){var _t=re&&re.length,St=Math.abs(It(ut,0,_t?re[0]*se:ut.length,se));if(_t)for(var Zt=0,Vt=re.length;Zt<Vt;Zt++)St-=Math.abs(It(ut,re[Zt]*se,Zt<Vt-1?re[Zt+1]*se:ut.length,se));var ae=0;for(Zt=0;Zt<Tt.length;Zt+=3){var ue=Tt[Zt]*se,Pe=Tt[Zt+1]*se,He=Tt[Zt+2]*se;ae+=Math.abs((ut[ue]-ut[He])*(ut[Pe+1]-ut[ue+1])-(ut[ue]-ut[Pe])*(ut[He+1]-ut[ue+1]))}return 0===St&&0===ae?0:Math.abs((ae-St)/St)},G.flatten=function(ut){for(var re=ut[0][0].length,se={vertices:[],holes:[],dimensions:re},Tt=0,_t=0;_t<ut.length;_t++){for(var dt=0;dt<ut[_t].length;dt++)for(var St=0;St<re;St++)se.vertices.push(ut[_t][dt][St]);_t>0&&se.holes.push(Tt+=ut[_t-1].length)}return se}},function(rt,F,Y){"use strict";var G=Y(3),O=Y(5),Q=Y(6),ot=Y(7);function st($){void 0!==$&&this.loadFeatureCollection($)}function at($,N){if(O($,N.geometry.coordinates[0])){for(var bt=1;bt<N.geometry.coordinates.length;bt++)if(O($,N.geometry.coordinates[bt]))return!1;return!0}return!1}st.prototype.searchForOnePolygon=function($,N){var V=this.rtree.search({minX:$,minY:N,maxX:$,maxY:N}),bt=[$,N],X=V.map(function(tt,W){return this.polygons[V[W].polyId]},this);return ot.find(X,function(tt){return at(bt,tt)})},st.prototype.searchForMultiplePolygons=function($,N,V){-1===V&&(V=Number.MAX_SAFE_INTEGER);var bt=[$,N],X=this.rtree.search({minX:$,minY:N,maxX:$,maxY:N}),tt=X.map(function(nt,z){return this.polygons[X[z].polyId]},this),W=0;return{type:"FeatureCollection",features:tt=tt.filter(function(nt){return!(W>=V||!at(bt,nt)||(W++,0))})}},st.prototype.search=function($,N,V){return void 0===V?this.searchForOnePolygon($,N):this.searchForMultiplePolygons($,N,V)},st.prototype.loadFeatureCollection=function($){var N=[],V=[],bt=0;function X(tt){V.push(tt);var W=Q.getBoundingBox(tt.geometry.coordinates[0]);W.polyId=bt++,N.push(W)}$.features.forEach(function(tt){if(tt.geometry&&void 0!==tt.geometry.coordinates[0]&&tt.geometry.coordinates[0].length>0)switch(tt.geometry.type){case"Polygon":X(tt);break;case"MultiPolygon":for(var W=tt.geometry.coordinates,nt=0;nt<W.length;nt++)X({type:"Feature",properties:tt.properties,geometry:{type:"Polygon",coordinates:W[nt]}})}}),this.rtree=(new G).load(N),this.polygons=V},rt.exports=st},function(rt,F,Y){"use strict";rt.exports=O,rt.exports.default=O;var G=Y(4);function O(z,ct){if(!(this instanceof O))return new O(z,ct);this._maxEntries=Math.max(4,z||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),ct&&this._initFormat(ct),this.clear()}function Q(z,ct,gt){if(!gt)return ct.indexOf(z);for(var Mt=0;Mt<ct.length;Mt++)if(gt(z,ct[Mt]))return Mt;return-1}function ot(z,ct){st(z,0,z.children.length,ct,z)}function st(z,ct,gt,Mt,Ct){Ct||(Ct=W(null)),Ct.minX=1/0,Ct.minY=1/0,Ct.maxX=-1/0,Ct.maxY=-1/0;for(var q,Pt=ct;Pt<gt;Pt++)q=z.children[Pt],at(Ct,z.leaf?Mt(q):q);return Ct}function at(z,ct){return z.minX=Math.min(z.minX,ct.minX),z.minY=Math.min(z.minY,ct.minY),z.maxX=Math.max(z.maxX,ct.maxX),z.maxY=Math.max(z.maxY,ct.maxY),z}function $(z,ct){return z.minX-ct.minX}function N(z,ct){return z.minY-ct.minY}function V(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function bt(z){return z.maxX-z.minX+(z.maxY-z.minY)}function X(z,ct){return z.minX<=ct.minX&&z.minY<=ct.minY&&ct.maxX<=z.maxX&&ct.maxY<=z.maxY}function tt(z,ct){return ct.minX<=z.maxX&&ct.minY<=z.maxY&&ct.maxX>=z.minX&&ct.maxY>=z.minY}function W(z){return{children:z,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function nt(z,ct,gt,Mt,Ct){for(var q,Pt=[ct,gt];Pt.length;)(gt=Pt.pop())-(ct=Pt.pop())<=Mt||(q=ct+Math.ceil((gt-ct)/Mt/2)*Mt,G(z,q,ct,gt,Ct),Pt.push(ct,q,q,gt))}O.prototype={all:function(){return this._all(this.data,[])},search:function(z){var ct=this.data,gt=[],Mt=this.toBBox;if(!tt(z,ct))return gt;for(var Ct,q,Pt,Dt,It=[];ct;){for(Ct=0,q=ct.children.length;Ct<q;Ct++)Pt=ct.children[Ct],tt(z,Dt=ct.leaf?Mt(Pt):Pt)&&(ct.leaf?gt.push(Pt):X(z,Dt)?this._all(Pt,gt):It.push(Pt));ct=It.pop()}return gt},collides:function(z){var ct=this.data,gt=this.toBBox;if(!tt(z,ct))return!1;for(var Mt,Ct,q,Pt,Dt=[];ct;){for(Mt=0,Ct=ct.children.length;Mt<Ct;Mt++)if(q=ct.children[Mt],tt(z,Pt=ct.leaf?gt(q):q)){if(ct.leaf||X(z,Pt))return!0;Dt.push(q)}ct=Dt.pop()}return!1},load:function(z){if(!z||!z.length)return this;if(z.length<this._minEntries){for(var ct=0,gt=z.length;ct<gt;ct++)this.insert(z[ct]);return this}var Mt=this._build(z.slice(),0,z.length-1,0);if(this.data.children.length)if(this.data.height===Mt.height)this._splitRoot(this.data,Mt);else{if(this.data.height<Mt.height){var Ct=this.data;this.data=Mt,Mt=Ct}this._insert(Mt,this.data.height-Mt.height-1,!0)}else this.data=Mt;return this},insert:function(z){return z&&this._insert(z,this.data.height-1),this},clear:function(){return this.data=W([]),this},remove:function(z,ct){if(!z)return this;for(var gt,Mt,Ct,q,Pt=this.data,Dt=this.toBBox(z),It=[],ut=[];Pt||It.length;){if(Pt||(Pt=It.pop(),Mt=It[It.length-1],gt=ut.pop(),q=!0),Pt.leaf&&-1!==(Ct=Q(z,Pt.children,ct)))return Pt.children.splice(Ct,1),It.push(Pt),this._condense(It),this;q||Pt.leaf||!X(Pt,Dt)?Mt?(gt++,Pt=Mt.children[gt],q=!1):Pt=null:(It.push(Pt),ut.push(gt),gt=0,Mt=Pt,Pt=Pt.children[0])}return this},toBBox:function(z){return z},compareMinX:$,compareMinY:N,toJSON:function(){return this.data},fromJSON:function(z){return this.data=z,this},_all:function(z,ct){for(var gt=[];z;)z.leaf?ct.push.apply(ct,z.children):gt.push.apply(gt,z.children),z=gt.pop();return ct},_build:function(z,ct,gt,Mt){var Ct,q=gt-ct+1,Pt=this._maxEntries;if(q<=Pt)return ot(Ct=W(z.slice(ct,gt+1)),this.toBBox),Ct;Mt||(Mt=Math.ceil(Math.log(q)/Math.log(Pt)),Pt=Math.ceil(q/Math.pow(Pt,Mt-1))),(Ct=W([])).leaf=!1,Ct.height=Mt;var Dt,It,ut,re,se=Math.ceil(q/Pt),Tt=se*Math.ceil(Math.sqrt(Pt));for(nt(z,ct,gt,Tt,this.compareMinX),Dt=ct;Dt<=gt;Dt+=Tt)for(nt(z,Dt,ut=Math.min(Dt+Tt-1,gt),se,this.compareMinY),It=Dt;It<=ut;It+=se)re=Math.min(It+se-1,ut),Ct.children.push(this._build(z,It,re,Mt-1));return ot(Ct,this.toBBox),Ct},_chooseSubtree:function(z,ct,gt,Mt){for(var Ct,q,Pt,Dt,It,ut,re,se,Tt,_t;Mt.push(ct),!ct.leaf&&Mt.length-1!==gt;){for(re=se=1/0,Ct=0,q=ct.children.length;Ct<q;Ct++)It=V(Pt=ct.children[Ct]),Tt=z,_t=Pt,(ut=(Math.max(_t.maxX,Tt.maxX)-Math.min(_t.minX,Tt.minX))*(Math.max(_t.maxY,Tt.maxY)-Math.min(_t.minY,Tt.minY))-It)<se?(se=ut,re=It<re?It:re,Dt=Pt):ut===se&&It<re&&(re=It,Dt=Pt);ct=Dt||ct.children[0]}return ct},_insert:function(z,ct,gt){var Ct=gt?z:(0,this.toBBox)(z),q=[],Pt=this._chooseSubtree(Ct,this.data,ct,q);for(Pt.children.push(z),at(Pt,Ct);ct>=0&&q[ct].children.length>this._maxEntries;)this._split(q,ct),ct--;this._adjustParentBBoxes(Ct,q,ct)},_split:function(z,ct){var gt=z[ct],Mt=gt.children.length,Ct=this._minEntries;this._chooseSplitAxis(gt,Ct,Mt);var q=this._chooseSplitIndex(gt,Ct,Mt),Pt=W(gt.children.splice(q,gt.children.length-q));Pt.height=gt.height,Pt.leaf=gt.leaf,ot(gt,this.toBBox),ot(Pt,this.toBBox),ct?z[ct-1].children.push(Pt):this._splitRoot(gt,Pt)},_splitRoot:function(z,ct){this.data=W([z,ct]),this.data.height=z.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(z,ct,gt){var Mt,Ct,q,Pt,Dt,It,ut,re,se,Tt,_t,dt,St,Zt;for(It=ut=1/0,Mt=ct;Mt<=gt-ct;Mt++)se=Ct=st(z,0,Mt,this.toBBox),Tt=q=st(z,Mt,gt,this.toBBox),void 0,void 0,void 0,void 0,_t=Math.max(se.minX,Tt.minX),dt=Math.max(se.minY,Tt.minY),St=Math.min(se.maxX,Tt.maxX),Zt=Math.min(se.maxY,Tt.maxY),Pt=Math.max(0,St-_t)*Math.max(0,Zt-dt),Dt=V(Ct)+V(q),Pt<It?(It=Pt,re=Mt,ut=Dt<ut?Dt:ut):Pt===It&&Dt<ut&&(ut=Dt,re=Mt);return re},_chooseSplitAxis:function(z,ct,gt){var Mt=z.leaf?this.compareMinX:$,Ct=z.leaf?this.compareMinY:N;this._allDistMargin(z,ct,gt,Mt)<this._allDistMargin(z,ct,gt,Ct)&&z.children.sort(Mt)},_allDistMargin:function(z,ct,gt,Mt){z.children.sort(Mt);var Ct,q,Pt=this.toBBox,Dt=st(z,0,ct,Pt),It=st(z,gt-ct,gt,Pt),ut=bt(Dt)+bt(It);for(Ct=ct;Ct<gt-ct;Ct++)q=z.children[Ct],at(Dt,z.leaf?Pt(q):q),ut+=bt(Dt);for(Ct=gt-ct-1;Ct>=ct;Ct--)q=z.children[Ct],at(It,z.leaf?Pt(q):q),ut+=bt(It);return ut},_adjustParentBBoxes:function(z,ct,gt){for(var Mt=gt;Mt>=0;Mt--)at(ct[Mt],z)},_condense:function(z){for(var ct,gt=z.length-1;gt>=0;gt--)0===z[gt].children.length?gt>0?(ct=z[gt-1].children).splice(ct.indexOf(z[gt]),1):this.clear():ot(z[gt],this.toBBox)},_initFormat:function(z){var ct=["return a"," - b",";"];this.compareMinX=new Function("a","b",ct.join(z[0])),this.compareMinY=new Function("a","b",ct.join(z[1])),this.toBBox=new Function("a","return {minX: a"+z[0]+", minY: a"+z[1]+", maxX: a"+z[2]+", maxY: a"+z[3]+"};")}}},function(rt,F,Y){rt.exports=function(){"use strict";function G(Q,ot,st){var at=Q[ot];Q[ot]=Q[st],Q[st]=at}function O(Q,ot){return Q<ot?-1:Q>ot?1:0}return function(Q,ot,st,at,$){!function N(V,bt,X,tt,W){for(;tt>X;){if(tt-X>600){var nt=tt-X+1,z=bt-X+1,ct=Math.log(nt),gt=.5*Math.exp(2*ct/3),Mt=.5*Math.sqrt(ct*gt*(nt-gt)/nt)*(z-nt/2<0?-1:1);N(V,bt,Math.max(X,Math.floor(bt-z*gt/nt+Mt)),Math.min(tt,Math.floor(bt+(nt-z)*gt/nt+Mt)),W)}var Pt=V[bt],Dt=X,It=tt;for(G(V,X,bt),W(V[tt],Pt)>0&&G(V,X,tt);Dt<It;){for(G(V,Dt,It),Dt++,It--;W(V[Dt],Pt)<0;)Dt++;for(;W(V[It],Pt)>0;)It--}0===W(V[X],Pt)?G(V,X,It):G(V,++It,tt),It<=bt&&(X=It+1),bt<=It&&(tt=It-1)}}(Q,ot,st||0,at||Q.length-1,$||O)}}()},function(rt,F){rt.exports=function(Y,G){for(var O=Y[0],Q=Y[1],ot=!1,st=0,at=G.length-1;st<G.length;at=st++){var $=G[st][0],N=G[st][1],bt=G[at][1];N>Q!=bt>Q&&O<(G[at][0]-$)*(Q-N)/(bt-N)+$&&(ot=!ot)}return ot}},function(rt,F,Y){"use strict";rt.exports={getBoundingBox:function(G){for(var O=G[0],Q={minX:O[0],minY:O[1],maxX:O[0],maxY:O[1]},ot=1;ot<G.length;ot++){var st=G[ot],at=st[0];at<Q.minX?Q.minX=at:at>Q.maxX&&(Q.maxX=at);var $=st[1];$<Q.minY?Q.minY=$:$>Q.maxY&&(Q.maxY=$)}return Q}}},function(rt,F,Y){(function(G,O){var Q;(function(){var ot="Expected a function",st="__lodash_placeholder__",at=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$="[object Arguments]",N="[object Array]",V="[object Boolean]",bt="[object Date]",X="[object Error]",tt="[object Function]",W="[object GeneratorFunction]",nt="[object Map]",z="[object Number]",ct="[object Object]",gt="[object RegExp]",Mt="[object Set]",Ct="[object String]",q="[object Symbol]",Pt="[object WeakMap]",Dt="[object ArrayBuffer]",It="[object DataView]",ut="[object Float32Array]",re="[object Float64Array]",se="[object Int8Array]",Tt="[object Int16Array]",_t="[object Int32Array]",dt="[object Uint8Array]",St="[object Uint16Array]",Zt="[object Uint32Array]",Vt=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,jt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ae=/&(?:amp|lt|gt|quot|#39);/g,ue=/[&<>"']/g,Pe=RegExp(ae.source),He=RegExp(ue.source),de=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,Wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/[\\^$.*+?()[\]{}|]/g,ht=RegExp(Nt.source),At=/^\s+/,vt=/\s/,M=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,P=/\{\n\/\* \[wrapped with (.+)\] \*/,U=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,Ot=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ye=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Je=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,ln=/^(?:0|[1-9]\d*)$/,fn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dn=/($^)/,xn=/['\n\r\u2028\u2029\\]/g,cn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="["+ke+"]",Le="["+cn+"]",We="\\d+",bn="[a-z\\xdf-\\xf6\\xf8-\\xff]",nn="[^\\ud800-\\udfff"+ke+We+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wn="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",je="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tn="(?:"+bn+"|"+nn+")",Dn="(?:"+je+"|"+nn+")",fi="(?:"+Le+"|"+wn+")?",sr="[\\ufe0e\\ufe0f]?"+fi+"(?:\\u200d(?:"+[zt,Qt,Ie].join("|")+")[\\ufe0e\\ufe0f]?"+fi+")*",dr="(?:"+["[\\u2700-\\u27bf]",Qt,Ie].join("|")+")"+sr,Qi="(?:"+[zt+Le+"?",Le,Qt,Ie,"[\\ud800-\\udfff]"].join("|")+")",Po=RegExp("['\u2019]","g"),Ha=RegExp(Le,"g"),Wo=RegExp(wn+"(?="+wn+")|"+Qi+sr,"g"),Vi=RegExp([je+"?"+bn+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ge,je,"$"].join("|")+")",Dn+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ge,je+tn,"$"].join("|")+")",je+"?"+tn+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",je+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",We,dr].join("|"),"g"),sa=RegExp("[\\u200d\\ud800-\\udfff"+cn+"\\ufe0e\\ufe0f]"),Ft=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,en={};en[ut]=en[re]=en[se]=en[Tt]=en[_t]=en[dt]=en["[object Uint8ClampedArray]"]=en[St]=en[Zt]=!0,en[$]=en[N]=en[Dt]=en[V]=en[It]=en[bt]=en[X]=en[tt]=en[nt]=en[z]=en[ct]=en[gt]=en[Mt]=en[Ct]=en[Pt]=!1;var un={};un[$]=un[N]=un[Dt]=un[It]=un[V]=un[bt]=un[ut]=un[re]=un[se]=un[Tt]=un[_t]=un[nt]=un[z]=un[ct]=un[gt]=un[Mt]=un[Ct]=un[q]=un[dt]=un["[object Uint8ClampedArray]"]=un[St]=un[Zt]=!0,un[X]=un[tt]=un[Pt]=!1;var Un={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ii=parseFloat,Ii=parseInt,Ci="object"==typeof G&&G&&G.Object===Object&&G,Ri="object"==typeof self&&self&&self.Object===Object&&self,hr=Ci||Ri||Function("return this")(),oo=F&&!F.nodeType&&F,ho=oo&&"object"==typeof O&&O&&!O.nodeType&&O,fa=ho&&ho.exports===oo,bl=fa&&Ci.process,Li=function(){try{return ho&&ho.require&&ho.require("util").types||bl&&bl.binding&&bl.binding("util")}catch{}}(),as=Li&&Li.isArrayBuffer,Yi=Li&&Li.isDate,Wr=Li&&Li.isMap,Ml=Li&&Li.isRegExp,Ja=Li&&Li.isSet,ss=Li&&Li.isTypedArray;function Pr(pn,Tn,$e){switch($e.length){case 0:return pn.call(Tn);case 1:return pn.call(Tn,$e[0]);case 2:return pn.call(Tn,$e[0],$e[1]);case 3:return pn.call(Tn,$e[0],$e[1],$e[2])}return pn.apply(Tn,$e)}function Or(pn,Tn,$e,wi){for(var On=-1,fo=null==pn?0:pn.length;++On<fo;){var dl=pn[On];Tn(wi,dl,$e(dl),pn)}return wi}function fr(pn,Tn){for(var $e=-1,wi=null==pn?0:pn.length;++$e<wi&&!1!==Tn(pn[$e],$e,pn););return pn}function Os(pn,Tn){for(var $e=null==pn?0:pn.length;$e--&&!1!==Tn(pn[$e],$e,pn););return pn}function kl(pn,Tn){for(var $e=-1,wi=null==pn?0:pn.length;++$e<wi;)if(!Tn(pn[$e],$e,pn))return!1;return!0}function ie(pn,Tn){for(var $e=-1,wi=null==pn?0:pn.length,On=0,fo=[];++$e<wi;){var dl=pn[$e];Tn(dl,$e,pn)&&(fo[On++]=dl)}return fo}function Me(pn,Tn){return!(null==pn||!pn.length)&&pr(pn,Tn,0)>-1}function Re(pn,Tn,$e){for(var wi=-1,On=null==pn?0:pn.length;++wi<On;)if($e(Tn,pn[wi]))return!0;return!1}function qe(pn,Tn){for(var $e=-1,wi=null==pn?0:pn.length,On=Array(wi);++$e<wi;)On[$e]=Tn(pn[$e],$e,pn);return On}function sn(pn,Tn){for(var $e=-1,wi=Tn.length,On=pn.length;++$e<wi;)pn[On+$e]=Tn[$e];return pn}function Zn(pn,Tn,$e,wi){var On=-1,fo=null==pn?0:pn.length;for(wi&&fo&&($e=pn[++On]);++On<fo;)$e=Tn($e,pn[On],On,pn);return $e}function ui(pn,Tn,$e,wi){var On=null==pn?0:pn.length;for(wi&&On&&($e=pn[--On]);On--;)$e=Tn($e,pn[On],On,pn);return $e}function mi(pn,Tn){for(var $e=-1,wi=null==pn?0:pn.length;++$e<wi;)if(Tn(pn[$e],$e,pn))return!0;return!1}var _i=_n("length");function yo(pn,Tn,$e){var wi;return $e(pn,function(On,fo,dl){if(Tn(On,fo,dl))return wi=fo,!1}),wi}function Ns(pn,Tn,$e,wi){for(var On=pn.length,fo=$e+(wi?1:-1);wi?fo--:++fo<On;)if(Tn(pn[fo],fo,pn))return fo;return-1}function pr(pn,Tn,$e){return Tn==Tn?function(wi,On,fo){for(var dl=fo-1,ts=wi.length;++dl<ts;)if(wi[dl]===On)return dl;return-1}(pn,Tn,$e):Ns(pn,Te,$e)}function Gt(pn,Tn,$e,wi){for(var On=$e-1,fo=pn.length;++On<fo;)if(wi(pn[On],Tn))return On;return-1}function Te(pn){return pn!=pn}function Ue(pn,Tn){var $e=null==pn?0:pn.length;return $e?Ti(pn,Tn)/$e:NaN}function _n(pn){return function(Tn){return Tn?.[pn]}}function Hn(pn){return function(Tn){return pn?.[Tn]}}function Ke(pn,Tn,$e,wi,On){return On(pn,function(fo,dl,ts){$e=wi?(wi=!1,fo):Tn($e,fo,dl,ts)}),$e}function Ti(pn,Tn){for(var $e,wi=-1,On=pn.length;++wi<On;){var fo=Tn(pn[wi]);void 0!==fo&&($e=void 0===$e?fo:$e+fo)}return $e}function Pn(pn,Tn){for(var $e=-1,wi=Array(pn);++$e<pn;)wi[$e]=Tn($e);return wi}function ci(pn){return pn&&pn.slice(0,Bo(pn)+1).replace(At,"")}function Rr(pn){return function(Tn){return pn(Tn)}}function tc(pn,Tn){return qe(Tn,function($e){return pn[$e]})}function Js(pn,Tn){return pn.has(Tn)}function Hc(pn,Tn){for(var $e=-1,wi=pn.length;++$e<wi&&pr(Tn,pn[$e],0)>-1;);return $e}function ls(pn,Tn){for(var $e=pn.length;$e--&&pr(Tn,pn[$e],0)>-1;);return $e}var pd=Hn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ws=Hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tl(pn){return"\\"+Un[pn]}function El(pn){return sa.test(pn)}function Xa(pn){var Tn=-1,$e=Array(pn.size);return pn.forEach(function(wi,On){$e[++Tn]=[On,wi]}),$e}function Fl(pn,Tn){return function($e){return pn(Tn($e))}}function Sc(pn,Tn){for(var $e=-1,wi=pn.length,On=0,fo=[];++$e<wi;){var dl=pn[$e];dl!==Tn&&dl!==st||(pn[$e]=st,fo[On++]=$e)}return fo}function Zs(pn){var Tn=-1,$e=Array(pn.size);return pn.forEach(function(wi){$e[++Tn]=wi}),$e}function Bl(pn){return El(pn)?function(Tn){for(var $e=Wo.lastIndex=0;Wo.test(Tn);)++$e;return $e}(pn):_i(pn)}function xl(pn){return El(pn)?pn.match(Wo)||[]:pn.split("")}function Bo(pn){for(var Tn=pn.length;Tn--&&vt.test(pn.charAt(Tn)););return Tn}var $o=Hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Nr=function pn(Tn){var $e,wi=(Tn=null==Tn?hr:Nr.defaults(hr.Object(),Tn,Nr.pick(hr,$t))).Array,On=Tn.Date,fo=Tn.Error,dl=Tn.Function,ts=Tn.Math,qo=Tn.Object,Fs=Tn.RegExp,Cc=Tn.String,Ko=Tn.TypeError,Tu=wi.prototype,Bn=qo.prototype,Du=Tn["__core-js_shared__"],pc=dl.prototype.toString,ir=Bn.hasOwnProperty,ec=0,Au=($e=/[^.]+$/.exec(Du&&Du.keys&&Du.keys.IE_PROTO||""))?"Symbol(src)_1."+$e:"",Zo=Bn.toString,Eh=pc.call(qo),Xp=hr._,Do=Fs("^"+pc.call(ir).replace(Nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tl=fa?Tn.Buffer:void 0,Co=Tn.Symbol,ms=Tn.Uint8Array,wl=Tl?Tl.allocUnsafe:void 0,Iu=Fl(qo.getPrototypeOf,qo),Dr=qo.create,gu=Bn.propertyIsEnumerable,ko=Tu.splice,mc=Co?Co.isConcatSpreadable:void 0,el=Co?Co.iterator:void 0,on=Co?Co.toStringTag:void 0,Yu=function(){try{var S=Jp(qo,"defineProperty");return S({},"",{}),S}catch{}}(),di=Tn.clearTimeout!==hr.clearTimeout&&Tn.clearTimeout,bo=On&&On.now!==hr.Date.now&&On.now,Vl=Tn.setTimeout!==hr.setTimeout&&Tn.setTimeout,nc=ts.ceil,Ts=ts.floor,Ys=qo.getOwnPropertySymbols,hl=Tl?Tl.isBuffer:void 0,zl=Tn.isFinite,au=Tu.join,Ds=Fl(qo.keys,qo),xo=ts.max,lr=ts.min,fl=On.now,Dl=Tn.parseInt,ic=ts.random,Rl=Tu.reverse,As=Jp(Tn,"DataView"),es=Jp(Tn,"Map"),Od=Jp(Tn,"Promise"),Pi=Jp(Tn,"Set"),pa=Jp(Tn,"WeakMap"),Mc=Jp(qo,"create"),nl=pa&&new pa,yi={},cs=vf(As),Xu=vf(es),Cn=vf(Od),il=vf(Pi),Yo=vf(pa),Xs=Co?Co.prototype:void 0,us=Xs?Xs.valueOf:void 0,$s=Xs?Xs.toString:void 0;function he(S){if(ac(S)&&!wo(S)&&!(S instanceof wr)){if(S instanceof xs)return S;if(ir.call(S,"__wrapped__"))return hw(S)}return new xs(S)}var gc=function(){function S(){}return function(I){if(!Ll(I))return{};if(Dr)return Dr(I);S.prototype=I;var et=new S;return S.prototype=void 0,et}}();function Bs(){}function xs(S,I){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!I,this.__index__=0,this.__values__=void 0}function wr(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Si(S){var I=-1,et=null==S?0:S.length;for(this.clear();++I<et;){var Rt=S[I];this.set(Rt[0],Rt[1])}}function mr(S){var I=-1,et=null==S?0:S.length;for(this.clear();++I<et;){var Rt=S[I];this.set(Rt[0],Rt[1])}}function po(S){var I=-1,et=null==S?0:S.length;for(this.clear();++I<et;){var Rt=S[I];this.set(Rt[0],Rt[1])}}function ds(S){var I=-1,et=null==S?0:S.length;for(this.__data__=new po;++I<et;)this.add(S[I])}function Ro(S){var I=this.__data__=new mr(S);this.size=I.size}function Ao(S,I){var et=wo(S),Rt=!et&&Sl(S),te=!et&&!Rt&&Qu(S),De=!et&&!Rt&&!te&&vg(S),Xe=et||Rt||te||De,an=Xe?Pn(S.length,Cc):[],Mn=an.length;for(var jn in S)!I&&!ir.call(S,jn)||Xe&&("length"==jn||te&&("offset"==jn||"parent"==jn)||De&&("buffer"==jn||"byteLength"==jn||"byteOffset"==jn)||gd(jn,Mn))||an.push(jn);return an}function Qo(S){var I=S.length;return I?S[Yt(0,I-1)]:void 0}function ns(S,I){return h0(qu(S),Vs(I,0,S.length))}function Ul(S){return h0(qu(S))}function Ec(S,I,et){(void 0!==et&&!Lu(S[I],et)||void 0===et&&!(I in S))&&hs(S,I,et)}function Hi(S,I,et){var Rt=S[I];ir.call(S,I)&&Lu(Rt,et)&&(void 0!==et||I in S)||hs(S,I,et)}function Is(S,I){for(var et=S.length;et--;)if(Lu(S[et][0],I))return et;return-1}function pl(S,I,et,Rt){return Fr(S,function(te,De,Xe){I(Rt,te,et(te),Xe)}),Rt}function Gl(S,I){return S&&Th(I,Xc(I),S)}function hs(S,I,et){"__proto__"==I&&Yu?Yu(S,I,{configurable:!0,enumerable:!0,value:et,writable:!0}):S[I]=et}function gs(S,I){for(var et=-1,Rt=I.length,te=wi(Rt),De=null==S;++et<Rt;)te[et]=De?void 0:qf(S,I[et]);return te}function Vs(S,I,et){return S==S&&(void 0!==et&&(S=S<=et?S:et),void 0!==I&&(S=S>=I?S:I)),S}function Jo(S,I,et,Rt,te,De){var Xe,an=1&I,Mn=2&I,jn=4&I;if(et&&(Xe=te?et(S,Rt,te,De):et(S)),void 0!==Xe)return Xe;if(!Ll(S))return S;var $n,li,Qr,Wn=wo(S);if(Wn){if(Qr=new($n=S).constructor(li=$n.length),li&&"string"==typeof $n[0]&&ir.call($n,"index")&&(Qr.index=$n.index,Qr.input=$n.input),Xe=Qr,!an)return qu(S,Xe)}else{var ri=Yl(S),Ji=ri==tt||ri==W;if(Qu(S))return ea(S,an);if(ri==ct||ri==$||Ji&&!te){if(Xe=Mn||Ji?{}:mf(S),!an)return Mn?function($n,li){return Th($n,vu($n),li)}(S,function($n,li){return $n&&Th(li,bd(li),$n)}(Xe,S)):function($n,li){return Th($n,lw($n),li)}(S,Gl(Xe,S))}else{if(!un[ri])return te?S:{};Xe=function($n,li,Qr){var eo,Tr,ji=$n.constructor;switch(li){case Dt:return ol($n);case V:case bt:return new ji(+$n);case It:return eo=$n,Tr=Qr?ol(eo.buffer):eo.buffer,new eo.constructor(Tr,eo.byteOffset,eo.byteLength);case ut:case re:case se:case Tt:case _t:case dt:case"[object Uint8ClampedArray]":case St:case Zt:return oc($n,Qr);case nt:return new ji;case z:case Ct:return new ji($n);case gt:return function(eo){var ia=new eo.constructor(eo.source,ye.exec(eo));return ia.lastIndex=eo.lastIndex,ia}($n);case Mt:return new ji;case q:return us?qo(us.call($n)):{}}}(S,ri,an)}}De||(De=new Ro);var Cr=De.get(S);if(Cr)return Cr;De.set(S,Xe),ww(S)?S.forEach(function($n){Xe.add(Jo($n,I,et,$n,S,De))}):Ju(S)&&S.forEach(function($n,li){Xe.set(li,Jo($n,I,et,li,S,De))});var zr=Wn?void 0:(jn?Mn?l0:sw:Mn?bd:Xc)(S);return fr(zr||S,function($n,li){zr&&($n=S[li=$n]),Hi(Xe,li,Jo($n,I,et,li,S,De))}),Xe}function ws(S,I,et){var Rt=et.length;if(null==S)return!Rt;for(S=qo(S);Rt--;){var te=et[Rt],Xe=S[te];if(void 0===Xe&&!(te in S)||!(0,I[te])(Xe))return!1}return!0}function ma(S,I,et){if("function"!=typeof S)throw new Ko(ot);return d0(function(){S.apply(void 0,et)},I)}function Pu(S,I,et,Rt){var te=-1,De=Me,Xe=!0,an=S.length,Mn=[],jn=I.length;if(!an)return Mn;et&&(I=qe(I,Rr(et))),Rt?(De=Re,Xe=!1):I.length>=200&&(De=Js,Xe=!1,I=new ds(I));t:for(;++te<an;){var Wn=S[te],ri=null==et?Wn:et(Wn);if(Wn=Rt||0!==Wn?Wn:0,Xe&&ri==ri){for(var Ji=jn;Ji--;)if(I[Ji]===ri)continue t;Mn.push(Wn)}else De(I,ri,Rt)||Mn.push(Wn)}return Mn}he.templateSettings={escape:de,evaluate:we,interpolate:Se,variable:"",imports:{_:he}},(he.prototype=Bs.prototype).constructor=he,(xs.prototype=gc(Bs.prototype)).constructor=xs,(wr.prototype=gc(Bs.prototype)).constructor=wr,Si.prototype.clear=function(){this.__data__=Mc?Mc(null):{},this.size=0},Si.prototype.delete=function(S){var I=this.has(S)&&delete this.__data__[S];return this.size-=I?1:0,I},Si.prototype.get=function(S){var I=this.__data__;if(Mc){var et=I[S];return"__lodash_hash_undefined__"===et?void 0:et}return ir.call(I,S)?I[S]:void 0},Si.prototype.has=function(S){var I=this.__data__;return Mc?void 0!==I[S]:ir.call(I,S)},Si.prototype.set=function(S,I){var et=this.__data__;return this.size+=this.has(S)?0:1,et[S]=Mc&&void 0===I?"__lodash_hash_undefined__":I,this},mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(S){var I=this.__data__,et=Is(I,S);return!(et<0||(et==I.length-1?I.pop():ko.call(I,et,1),--this.size,0))},mr.prototype.get=function(S){var I=this.__data__,et=Is(I,S);return et<0?void 0:I[et][1]},mr.prototype.has=function(S){return Is(this.__data__,S)>-1},mr.prototype.set=function(S,I){var et=this.__data__,Rt=Is(et,S);return Rt<0?(++this.size,et.push([S,I])):et[Rt][1]=I,this},po.prototype.clear=function(){this.size=0,this.__data__={hash:new Si,map:new(es||mr),string:new Si}},po.prototype.delete=function(S){var I=Ov(this,S).delete(S);return this.size-=I?1:0,I},po.prototype.get=function(S){return Ov(this,S).get(S)},po.prototype.has=function(S){return Ov(this,S).has(S)},po.prototype.set=function(S,I){var et=Ov(this,S),Rt=et.size;return et.set(S,I),this.size+=et.size==Rt?0:1,this},ds.prototype.add=ds.prototype.push=function(S){return this.__data__.set(S,"__lodash_hash_undefined__"),this},ds.prototype.has=function(S){return this.__data__.has(S)},Ro.prototype.clear=function(){this.__data__=new mr,this.size=0},Ro.prototype.delete=function(S){var I=this.__data__,et=I.delete(S);return this.size=I.size,et},Ro.prototype.get=function(S){return this.__data__.get(S)},Ro.prototype.has=function(S){return this.__data__.has(S)},Ro.prototype.set=function(S,I){var et=this.__data__;if(et instanceof mr){var Rt=et.__data__;if(!es||Rt.length<199)return Rt.push([S,I]),this.size=++et.size,this;et=this.__data__=new po(Rt)}return et.set(S,I),this.size=et.size,this};var Fr=Fd(rl),zs=Fd(mo,!0);function ml(S,I){var et=!0;return Fr(S,function(Rt,te,De){return et=!!I(Rt,te,De)}),et}function Hl(S,I,et){for(var Rt=-1,te=S.length;++Rt<te;){var De=S[Rt],Xe=I(De);if(null!=Xe&&(void 0===an?Xe==Xe&&!yd(Xe):et(Xe,an)))var an=Xe,Mn=De}return Mn}function Tc(S,I){var et=[];return Fr(S,function(Rt,te,De){I(Rt,te,De)&&et.push(Rt)}),et}function ta(S,I,et,Rt,te){var De=-1,Xe=S.length;for(et||(et=wL),te||(te=[]);++De<Xe;){var an=S[De];I>0&&et(an)?I>1?ta(an,I-1,et,Rt,te):sn(te,an):Rt||(te[te.length]=an)}return te}var vc=Bd(),Lo=Bd(!0);function rl(S,I){return S&&vc(S,I,Xc)}function mo(S,I){return S&&Lo(S,I,Xc)}function jl(S,I){return ie(I,function(et){return _d(S[et])})}function jc(S,I){for(var et=0,Rt=(I=qn(I,S)).length;null!=S&&et<Rt;)S=S[gf(I[et++])];return et&&et==Rt?S:void 0}function is(S,I,et){var Rt=I(S);return wo(S)?Rt:sn(Rt,et(S))}function $a(S){return null==S?void 0===S?"[object Undefined]":"[object Null]":on&&on in qo(S)?function(I){var et=ir.call(I,on),Rt=I[on];try{I[on]=void 0;var te=!0}catch{}var De=Zo.call(I);return te&&(et?I[on]=Rt:delete I[on]),De}(S):Zo.call(S)}function Wl(S,I){return S>I}function v(S,I){return null!=S&&ir.call(S,I)}function T(S,I){return null!=S&&I in qo(S)}function B(S,I,et){for(var Rt=et?Re:Me,te=S[0].length,De=S.length,Xe=De,an=wi(De),Mn=1/0,jn=[];Xe--;){var Wn=S[Xe];Xe&&I&&(Wn=qe(Wn,Rr(I))),Mn=lr(Wn.length,Mn),an[Xe]=!et&&(I||te>=120&&Wn.length>=120)?new ds(Xe&&Wn):void 0}Wn=S[0];var ri=-1,Ji=an[0];t:for(;++ri<te&&jn.length<Mn;){var Cr=Wn[ri],zr=I?I(Cr):Cr;if(Cr=et||0!==Cr?Cr:0,!(Ji?Js(Ji,zr):Rt(jn,zr,et))){for(Xe=De;--Xe;){var $n=an[Xe];if(!($n?Js($n,zr):Rt(S[Xe],zr,et)))continue t}Ji&&Ji.push(zr),jn.push(Cr)}}return jn}function mt(S,I,et){var Rt=null==(S=nE(S,I=qn(I,S)))?S:S[gf(vd(I))];return null==Rt?void 0:Pr(Rt,S,et)}function Ut(S){return ac(S)&&$a(S)==$}function me(S,I,et,Rt,te){return S===I||(null==S||null==I||!ac(S)&&!ac(I)?S!=S&&I!=I:function(De,Xe,an,Mn,jn,Wn){var ri=wo(De),Ji=wo(Xe),Cr=ri?N:Yl(De),zr=Ji?N:Yl(Xe),$n=(Cr=Cr==$?ct:Cr)==ct,li=(zr=zr==$?ct:zr)==ct,Qr=Cr==zr;if(Qr&&Qu(De)){if(!Qu(Xe))return!1;ri=!0,$n=!1}if(Qr&&!$n)return Wn||(Wn=new Ro),ri||vg(De)?aw(De,Xe,an,Mn,jn,Wn):function(Tr,Jr,Dc,Nu,kh,Ac,yf){switch(Dc){case It:if(Tr.byteLength!=Jr.byteLength||Tr.byteOffset!=Jr.byteOffset)return!1;Tr=Tr.buffer,Jr=Jr.buffer;case Dt:return!(Tr.byteLength!=Jr.byteLength||!Ac(new ms(Tr),new ms(Jr)));case V:case bt:case z:return Lu(+Tr,+Jr);case X:return Tr.name==Jr.name&&Tr.message==Jr.message;case gt:case Ct:return Tr==Jr+"";case nt:var bf=Xa;case Mt:if(bf||(bf=Zs),Tr.size!=Jr.size&&!(1&Nu))return!1;var Xv=yf.get(Tr);if(Xv)return Xv==Jr;Nu|=2,yf.set(Tr,Jr);var Kf=aw(bf(Tr),bf(Jr),Nu,kh,Ac,yf);return yf.delete(Tr),Kf;case q:if(us)return us.call(Tr)==us.call(Jr)}return!1}(De,Xe,Cr,an,Mn,jn,Wn);if(!(1&an)){var ji=$n&&ir.call(De,"__wrapped__"),Zr=li&&ir.call(Xe,"__wrapped__");if(ji||Zr){var eo=ji?De.value():De,ia=Zr?Xe.value():Xe;return Wn||(Wn=new Ro),jn(eo,ia,an,Mn,Wn)}}return!!Qr&&(Wn||(Wn=new Ro),function(Tr,Jr,Dc,Nu,kh,Ac){var yf=1&Dc,bf=sw(Tr),im=bf.length;if(im!=sw(Jr).length&&!yf)return!1;for(var Kf=im;Kf--;){var Qf=bf[Kf];if(!(yf?Qf in Jr:ir.call(Jr,Qf)))return!1}var BE=Ac.get(Tr),Nw=Ac.get(Jr);if(BE&&Nw)return BE==Jr&&Nw==Tr;var $v=!0;Ac.set(Tr,Jr),Ac.set(Jr,Tr);for(var xf=yf;++Kf<im;){var qv=Tr[Qf=bf[Kf]],Kv=Jr[Qf];if(Nu)var VE=yf?Nu(Kv,qv,Qf,Jr,Tr,Ac):Nu(qv,Kv,Qf,Tr,Jr,Ac);if(!(void 0===VE?qv===Kv||kh(qv,Kv,Dc,Nu,Ac):VE)){$v=!1;break}xf||(xf="constructor"==Qf)}if($v&&!xf){var Fw=Tr.constructor,rm=Jr.constructor;Fw==rm||!("constructor"in Tr)||!("constructor"in Jr)||"function"==typeof Fw&&Fw instanceof Fw&&"function"==typeof rm&&rm instanceof rm||($v=!1)}return Ac.delete(Tr),Ac.delete(Jr),$v}(De,Xe,an,Mn,jn,Wn))}(S,I,et,Rt,me,te))}function Ze(S,I,et,Rt){var te=et.length,De=te,Xe=!Rt;if(null==S)return!De;for(S=qo(S);te--;){var an=et[te];if(Xe&&an[2]?an[1]!==S[an[0]]:!(an[0]in S))return!1}for(;++te<De;){var Mn=(an=et[te])[0],jn=S[Mn],Wn=an[1];if(Xe&&an[2]){if(void 0===jn&&!(Mn in S))return!1}else{var ri=new Ro;if(Rt)var Ji=Rt(jn,Wn,Mn,S,I,ri);if(!(void 0===Ji?me(Wn,jn,3,Rt,ri):Ji))return!1}}return!0}function yn(S){return!(!Ll(S)||(I=S,Au&&Au in I))&&(_d(S)?Do:Je).test(vf(S));var I}function Sn(S){return"function"==typeof S?S:null==S?Ou:"object"==typeof S?wo(S)?md(S[0],S[1]):ku(S):OE(S)}function Yn(S){if(!Yf(S))return Ds(S);var I=[];for(var et in qo(S))ir.call(S,et)&&"constructor"!=et&&I.push(et);return I}function cr(S,I){return S<I}function Oo(S,I){var et=-1,Rt=Ku(S)?wi(S.length):[];return Fr(S,function(te,De,Xe){Rt[++et]=I(te,De,Xe)}),Rt}function ku(S){var I=Nv(S);return 1==I.length&&I[0][2]?u0(I[0][0],I[0][1]):function(et){return et===S||Ze(et,S,I)}}function md(S,I){return cw(S)&&Fv(I)?u0(gf(S),I):function(et){var Rt=qf(et,S);return void 0===Rt&&Rt===I?nm(et,S):me(I,Rt,3)}}function Zl(S,I,et,Rt,te){S!==I&&vc(I,function(De,Xe){if(te||(te=new Ro),Ll(De))!function(Mn,jn,Wn,ri,Ji,Cr,zr){var $n=tm(Mn,Wn),li=tm(jn,Wn),Qr=zr.get(li);if(Qr)Ec(Mn,Wn,Qr);else{var ji=Cr?Cr($n,li,Wn+"",Mn,jn,zr):void 0,Zr=void 0===ji;if(Zr){var eo=wo(li),ia=!eo&&Qu(li),Tr=!eo&&!ia&&vg(li);ji=li,eo||ia||Tr?wo($n)?ji=$n:vs($n)?ji=qu($n):ia?(Zr=!1,ji=ea(li,!0)):Tr?(Zr=!1,ji=oc(li,!0)):ji=[]:Ph(li)||Sl(li)?(ji=$n,Sl($n)?ji=Sw($n):Ll($n)&&!_d($n)||(ji=mf(li))):Zr=!1}Zr&&(zr.set(li,ji),Ji(ji,li,ri,Cr,zr),zr.delete(li)),Ec(Mn,Wn,ji)}}(S,I,Xe,et,Zl,Rt,te);else{var an=Rt?Rt(tm(S,Xe),De,Xe+"",S,I,te):void 0;void 0===an&&(an=De),Ec(S,Xe,an)}},bd)}function rc(S,I){var et=S.length;if(et)return gd(I+=I<0?et:0,et)?S[I]:void 0}function Oe(S,I,et){I=I.length?qe(I,function(te){return wo(te)?function(De){return jc(De,1===te.length?te[0]:te)}:te}):[Ou];var Rt=-1;return I=qe(I,Rr(Gr())),function(te,De){var Xe=te.length;for(te.sort(function(te,De){return function(Xe,an,Mn){for(var jn=-1,Wn=Xe.criteria,ri=an.criteria,Ji=Wn.length,Cr=Mn.length;++jn<Ji;){var zr=$u(Wn[jn],ri[jn]);if(zr)return jn>=Cr?zr:zr*("desc"==Mn[jn]?-1:1)}return Xe.index-an.index}(te,De,et)});Xe--;)te[Xe]=te[Xe].value;return te}(Oo(S,function(te,De,Xe){return{criteria:qe(I,function(an){return an(te)}),index:++Rt,value:te}}))}function R(S,I,et){for(var Rt=-1,te=I.length,De={};++Rt<te;){var Xe=I[Rt],an=jc(S,Xe);et(an,Xe)&&kn(De,qn(Xe,S),an)}return De}function ft(S,I,et,Rt){var te=Rt?Gt:pr,De=-1,Xe=I.length,an=S;for(S===I&&(I=qu(I)),et&&(an=qe(S,Rr(et)));++De<Xe;)for(var Mn=0,jn=I[De],Wn=et?et(jn):jn;(Mn=te(an,Wn,Mn,Rt))>-1;)an!==S&&ko.call(an,Mn,1),ko.call(S,Mn,1);return S}function Bt(S,I){for(var et=S?I.length:0,Rt=et-1;et--;){var te=I[et];if(et==Rt||te!==De){var De=te;gd(te)?ko.call(S,te,1):D(S,te)}}return S}function Yt(S,I){return S+Ts(ic()*(I-S+1))}function le(S,I){var et="";if(!S||I<1||I>9007199254740991)return et;do{I%2&&(et+=S),(I=Ts(I/2))&&(S+=S)}while(I);return et}function ve(S,I){return Bv(dw(S,I,Ou),S+"")}function Ae(S){return Qo(Wv(S))}function gn(S,I){var et=Wv(S);return h0(et,Vs(I,0,et.length))}function kn(S,I,et,Rt){if(!Ll(S))return S;for(var te=-1,De=(I=qn(I,S)).length,Xe=De-1,an=S;null!=an&&++te<De;){var Mn=gf(I[te]),jn=et;if("__proto__"===Mn||"constructor"===Mn||"prototype"===Mn)return S;if(te!=Xe){var Wn=an[Mn];void 0===(jn=Rt?Rt(Wn,Mn,an):void 0)&&(jn=Ll(Wn)?Wn:gd(I[te+1])?[]:{})}Hi(an,Mn,jn),an=an[Mn]}return S}var Vn=nl?function(S,I){return nl.set(S,I),S}:Ou,ei=Yu?function(S,I){return Yu(S,"toString",{configurable:!0,enumerable:!1,value:Aw(I),writable:!0})}:Ou;function Oi(S){return h0(Wv(S))}function oi(S,I,et){var Rt=-1,te=S.length;I<0&&(I=-I>te?0:te+I),(et=et>te?te:et)<0&&(et+=te),te=I>et?0:et-I>>>0,I>>>=0;for(var De=wi(te);++Rt<te;)De[Rt]=S[Rt+I];return De}function ki(S,I){var et;return Fr(S,function(Rt,te,De){return!(et=I(Rt,te,De))}),!!et}function Sr(S,I,et){var Rt=0,te=null==S?Rt:S.length;if("number"==typeof I&&I==I&&te<=2147483647){for(;Rt<te;){var De=Rt+te>>>1,Xe=S[De];null!==Xe&&!yd(Xe)&&(et?Xe<=I:Xe<I)?Rt=De+1:te=De}return te}return Vo(S,I,Ou,et)}function Vo(S,I,et,Rt){var te=0,De=null==S?0:S.length;if(0===De)return 0;for(var Xe=(I=et(I))!=I,an=null===I,Mn=yd(I),jn=void 0===I;te<De;){var Wn=Ts((te+De)/2),ri=et(S[Wn]),Ji=void 0!==ri,Cr=null===ri,zr=ri==ri,$n=yd(ri);if(Xe)var li=Rt||zr;else li=jn?zr&&(Rt||Ji):an?zr&&Ji&&(Rt||!Cr):Mn?zr&&Ji&&!Cr&&(Rt||!$n):!Cr&&!$n&&(Rt?ri<=I:ri<I);li?te=Wn+1:De=Wn}return lr(De,4294967294)}function f(S,I){for(var et=-1,Rt=S.length,te=0,De=[];++et<Rt;){var Xe=S[et],an=I?I(Xe):Xe;if(!et||!Lu(an,Mn)){var Mn=an;De[te++]=0===Xe?0:Xe}}return De}function m(S){return"number"==typeof S?S:yd(S)?NaN:+S}function _(S){if("string"==typeof S)return S;if(wo(S))return qe(S,_)+"";if(yd(S))return $s?$s.call(S):"";var I=S+"";return"0"==I&&1/S==-1/0?"-0":I}function x(S,I,et){var Rt=-1,te=Me,De=S.length,Xe=!0,an=[],Mn=an;if(et)Xe=!1,te=Re;else if(De>=200){var jn=I?null:xL(S);if(jn)return Zs(jn);Xe=!1,te=Js,Mn=new ds}else Mn=I?[]:an;t:for(;++Rt<De;){var Wn=S[Rt],ri=I?I(Wn):Wn;if(Wn=et||0!==Wn?Wn:0,Xe&&ri==ri){for(var Ji=Mn.length;Ji--;)if(Mn[Ji]===ri)continue t;I&&Mn.push(ri),an.push(Wn)}else te(Mn,ri,et)||(Mn!==an&&Mn.push(ri),an.push(Wn))}return an}function D(S,I){return null==(S=nE(S,I=qn(I,S)))||delete S[gf(vd(I))]}function K(S,I,et,Rt){return kn(S,I,et(jc(S,I)),Rt)}function xt(S,I,et,Rt){for(var te=S.length,De=Rt?te:-1;(Rt?De--:++De<te)&&I(S[De],De,S););return et?oi(S,Rt?0:De,Rt?De+1:te):oi(S,Rt?De+1:0,Rt?te:De)}function qt(S,I){var et=S;return et instanceof wr&&(et=et.value()),Zn(I,function(Rt,te){return te.func.apply(te.thisArg,sn([Rt],te.args))},et)}function _e(S,I,et){var Rt=S.length;if(Rt<2)return Rt?x(S[0]):[];for(var te=-1,De=wi(Rt);++te<Rt;)for(var Xe=S[te],an=-1;++an<Rt;)an!=te&&(De[te]=Pu(De[te]||Xe,S[an],I,et));return x(ta(De,1),I,et)}function Ge(S,I,et){for(var Rt=-1,te=S.length,De=I.length,Xe={};++Rt<te;)et(Xe,S[Rt],Rt<De?I[Rt]:void 0);return Xe}function mn(S){return vs(S)?S:[]}function En(S){return"function"==typeof S?S:Ou}function qn(S,I){return wo(S)?S:cw(S,I)?[S]:CL(zo(S))}var ai=ve;function gi(S,I,et){var Rt=S.length;return et=void 0===et?Rt:et,!I&&et>=Rt?S:oi(S,I,et)}var Jn=di||function(S){return hr.clearTimeout(S)};function ea(S,I){if(I)return S.slice();var et=S.length,Rt=wl?wl(et):new S.constructor(et);return S.copy(Rt),Rt}function ol(S){var I=new S.constructor(S.byteLength);return new ms(I).set(new ms(S)),I}function oc(S,I){var et=I?ol(S.buffer):S.buffer;return new S.constructor(et,S.byteOffset,S.length)}function $u(S,I){if(S!==I){var et=void 0!==S,Rt=null===S,te=S==S,De=yd(S),Xe=void 0!==I,an=null===I,Mn=I==I,jn=yd(I);if(!an&&!jn&&!De&&S>I||De&&Xe&&Mn&&!an&&!jn||Rt&&Xe&&Mn||!et&&Mn||!te)return 1;if(!Rt&&!De&&!jn&&S<I||jn&&et&&te&&!Rt&&!De||an&&et&&te||!Xe&&te||!Mn)return-1}return 0}function Nd(S,I,et,Rt){for(var te=-1,De=S.length,Xe=et.length,an=-1,Mn=I.length,jn=xo(De-Xe,0),Wn=wi(Mn+jn),ri=!Rt;++an<Mn;)Wn[an]=I[an];for(;++te<Xe;)(ri||te<De)&&(Wn[et[te]]=S[te]);for(;jn--;)Wn[an++]=S[te++];return Wn}function $p(S,I,et,Rt){for(var te=-1,De=S.length,Xe=-1,an=et.length,Mn=-1,jn=I.length,Wn=xo(De-an,0),ri=wi(Wn+jn),Ji=!Rt;++te<Wn;)ri[te]=S[te];for(var Cr=te;++Mn<jn;)ri[Cr+Mn]=I[Mn];for(;++Xe<an;)(Ji||te<De)&&(ri[Cr+et[Xe]]=S[te++]);return ri}function qu(S,I){var et=-1,Rt=S.length;for(I||(I=wi(Rt));++et<Rt;)I[et]=S[et];return I}function Th(S,I,et,Rt){var te=!et;et||(et={});for(var De=-1,Xe=I.length;++De<Xe;){var an=I[De],Mn=Rt?Rt(et[an],S[an],an,et,S):void 0;void 0===Mn&&(Mn=S[an]),te?hs(et,an,Mn):Hi(et,an,Mn)}return et}function Xn(S,I){return function(et,Rt){var te=wo(et)?Or:pl,De=I?I():{};return te(et,S,Gr(Rt,2),De)}}function na(S){return ve(function(I,et){var Rt=-1,te=et.length,De=te>1?et[te-1]:void 0,Xe=te>2?et[2]:void 0;for(De=S.length>3&&"function"==typeof De?(te--,De):void 0,Xe&&Ru(et[0],et[1],Xe)&&(De=te<3?void 0:De,te=1),I=qo(I);++Rt<te;){var an=et[Rt];an&&S(I,an,Rt,De)}return I})}function Fd(S,I){return function(et,Rt){if(null==et)return et;if(!Ku(et))return S(et,Rt);for(var te=et.length,De=I?te:-1,Xe=qo(et);(I?De--:++De<te)&&!1!==Rt(Xe[De],De,Xe););return et}}function Bd(S){return function(I,et,Rt){for(var te=-1,De=qo(I),Xe=Rt(I),an=Xe.length;an--;){var Mn=Xe[S?an:++te];if(!1===et(De[Mn],Mn,De))break}return I}}function Wc(S){return function(I){var et=El(I=zo(I))?xl(I):void 0,Rt=et?et[0]:I.charAt(0),te=et?gi(et,1).join(""):I.slice(1);return Rt[S]()+te}}function qp(S){return function(I){return Zn(UL(IE(I).replace(Po,"")),S,"")}}function ff(S){return function(){var I=arguments;switch(I.length){case 0:return new S;case 1:return new S(I[0]);case 2:return new S(I[0],I[1]);case 3:return new S(I[0],I[1],I[2]);case 4:return new S(I[0],I[1],I[2],I[3]);case 5:return new S(I[0],I[1],I[2],I[3],I[4]);case 6:return new S(I[0],I[1],I[2],I[3],I[4],I[5]);case 7:return new S(I[0],I[1],I[2],I[3],I[4],I[5],I[6])}var et=gc(S.prototype),Rt=S.apply(et,I);return Ll(Rt)?Rt:et}}function rh(S){return function(I,et,Rt){var te=qo(I);if(!Ku(I)){var De=Gr(et,3);I=Xc(I),et=function(an){return De(te[an],an,te)}}var Xe=S(I,et,Rt);return Xe>-1?te[De?I[Xe]:Xe]:void 0}}function o0(S){return ah(function(I){var et=I.length,Rt=et,te=xs.prototype.thru;for(S&&I.reverse();Rt--;){var De=I[Rt];if("function"!=typeof De)throw new Ko(ot);if(te&&!Xe&&"wrapper"==Lv(De))var Xe=new xs([],!0)}for(Rt=Xe?Rt:et;++Rt<et;){var an=Lv(De=I[Rt]),Mn="wrapper"==an?Rv(De):void 0;Xe=Mn&&uw(Mn[0])&&424==Mn[1]&&!Mn[4].length&&1==Mn[9]?Xe[Lv(Mn[0])].apply(Xe,Mn[3]):1==De.length&&uw(De)?Xe[an]():Xe.thru(De)}return function(){var jn=arguments,Wn=jn[0];if(Xe&&1==jn.length&&wo(Wn))return Xe.plant(Wn).value();for(var ri=0,Ji=et?I[ri].apply(this,jn):Wn;++ri<et;)Ji=I[ri].call(this,Ji);return Ji}})}function dg(S,I,et,Rt,te,De,Xe,an,Mn,jn){var Wn=128&I,ri=1&I,Ji=2&I,Cr=24&I,zr=512&I,$n=Ji?void 0:ff(S);return function li(){for(var Qr=arguments.length,ji=wi(Qr),Zr=Qr;Zr--;)ji[Zr]=arguments[Zr];if(Cr)var eo=Qp(li),ia=function So(pn,Tn){for(var $e=pn.length,wi=0;$e--;)pn[$e]===Tn&&++wi;return wi}(ji,eo);if(Rt&&(ji=Nd(ji,Rt,te,Cr)),De&&(ji=$p(ji,De,Xe,Cr)),Qr-=ia,Cr&&Qr<jn){var Tr=Sc(ji,eo);return Kp(S,I,dg,li.placeholder,et,ji,Tr,an,Mn,jn-Qr)}var Jr=ri?et:this,Dc=Ji?Jr[S]:S;return Qr=ji.length,an?ji=function hg(S,I){for(var et=S.length,Rt=lr(I.length,et),te=qu(S);Rt--;){var De=I[Rt];S[Rt]=gd(De,et)?te[De]:void 0}return S}(ji,an):zr&&Qr>1&&ji.reverse(),Wn&&Mn<Qr&&(ji.length=Mn),this&&this!==hr&&this instanceof li&&(Dc=$n||ff(Dc)),Dc.apply(Jr,ji)}}function tE(S,I){return function(et,Rt){return te=et,De=S,Xe=I(Rt),an={},rl(te,function(Mn,jn,Wn){De(an,Xe(Mn),jn,Wn)}),an;var te,De,Xe,an}}function iw(S,I){return function(et,Rt){var te;if(void 0===et&&void 0===Rt)return I;if(void 0!==et&&(te=et),void 0!==Rt){if(void 0===te)return Rt;"string"==typeof et||"string"==typeof Rt?(et=_(et),Rt=_(Rt)):(et=m(et),Rt=m(Rt)),te=S(et,Rt)}return te}}function a0(S){return ah(function(I){return I=qe(I,Rr(Gr())),ve(function(et){var Rt=this;return S(I,function(te){return Pr(te,Rt,et)})})})}function Zc(S,I){var et=(I=void 0===I?" ":_(I)).length;if(et<2)return et?le(I,S):I;var Rt=le(I,nc(S/Bl(I)));return El(I)?gi(xl(Rt),0,S).join(""):Rt.slice(0,S)}function Dh(S){return function(I,et,Rt){return Rt&&"number"!=typeof Rt&&Ru(I,et,Rt)&&(et=Rt=void 0),I=sh(I),void 0===et?(et=I,I=0):et=sh(et),function(te,De,Xe,an){for(var Mn=-1,jn=xo(nc((De-te)/(Xe||1)),0),Wn=wi(jn);jn--;)Wn[an?jn:++Mn]=te,te+=Xe;return Wn}(I,et,Rt=void 0===Rt?I<et?1:-1:sh(Rt),S)}}function kv(S){return function(I,et){return"string"==typeof I&&"string"==typeof et||(I=gl(I),et=gl(et)),S(I,et)}}function Kp(S,I,et,Rt,te,De,Xe,an,Mn,jn){var Wn=8&I;I|=Wn?32:64,4&(I&=~(Wn?64:32))||(I&=-4);var ri=[S,I,te,Wn?De:void 0,Wn?Xe:void 0,Wn?void 0:De,Wn?void 0:Xe,an,Mn,jn],Ji=et.apply(void 0,ri);return uw(S)&&iE(Ji,ri),Ji.placeholder=Rt,SL(Ji,S,I)}function oh(S){var I=ts[S];return function(et,Rt){if(et=gl(et),(Rt=null==Rt?0:lr(Mo(Rt),292))&&zl(et)){var te=(zo(et)+"e").split("e");return+((te=(zo(I(te[0]+"e"+(+te[1]+Rt)))+"e").split("e"))[0]+"e"+(+te[1]-Rt))}return I(et)}}var xL=Pi&&1/Zs(new Pi([,-0]))[1]==1/0?function(S){return new Pi(S)}:kw;function rw(S){return function(I){var Rt,et=Yl(I);return et==nt?Xa(I):et==Mt?function fc(pn){var Tn=-1,$e=Array(pn.size);return pn.forEach(function(wi){$e[++Tn]=[wi,wi]}),$e}(I):(Rt=I,qe(S(I),function(De){return[De,Rt[De]]}))}}function pf(S,I,et,Rt,te,De,Xe,an){var Mn=2&I;if(!Mn&&"function"!=typeof S)throw new Ko(ot);var jn=Rt?Rt.length:0;if(jn||(I&=-97,Rt=te=void 0),Xe=void 0===Xe?Xe:xo(Mo(Xe),0),an=void 0===an?an:Mo(an),jn-=te?te.length:0,64&I){var Wn=Rt,ri=te;Rt=te=void 0}var $n,li,Qr,ji,Ji=Mn?void 0:Rv(S),Cr=[S,I,et,Rt,te,Wn,ri,De,Xe,an];if(Ji&&function($n,li){var Qr=$n[1],ji=li[1],Zr=Qr|ji;if(!(Zr<131||128==ji&&8==Qr||128==ji&&256==Qr&&$n[7].length<=li[8]||384==ji&&li[7].length<=li[8]&&8==Qr))return $n;1&ji&&($n[2]=li[2],Zr|=1&Qr?0:4);var Tr=li[3];if(Tr){var Jr=$n[3];$n[3]=Jr?Nd(Jr,Tr,li[4]):Tr,$n[4]=Jr?Sc($n[3],st):li[4]}(Tr=li[5])&&($n[5]=(Jr=$n[5])?$p(Jr,Tr,li[6]):Tr,$n[6]=Jr?Sc($n[5],st):li[6]),(Tr=li[7])&&($n[7]=Tr),128&ji&&($n[8]=null==$n[8]?li[8]:lr($n[8],li[8])),null==$n[9]&&($n[9]=li[9]),$n[0]=li[0],$n[1]=Zr}(Cr,Ji),S=Cr[0],I=Cr[1],et=Cr[2],Rt=Cr[3],te=Cr[4],!(an=Cr[9]=void 0===Cr[9]?Mn?0:S.length:xo(Cr[9]-jn,0))&&24&I&&(I&=-25),I&&1!=I)zr=8==I||16==I?(li=I,Qr=an,ji=ff($n=S),function Zr(){for(var eo=arguments.length,ia=wi(eo),Tr=eo,Jr=Qp(Zr);Tr--;)ia[Tr]=arguments[Tr];var Dc=eo<3&&ia[0]!==Jr&&ia[eo-1]!==Jr?[]:Sc(ia,Jr);return(eo-=Dc.length)<Qr?Kp($n,li,dg,Zr.placeholder,void 0,ia,Dc,void 0,void 0,Qr-eo):Pr(this&&this!==hr&&this instanceof Zr?ji:$n,this,ia)}):32!=I&&33!=I||te.length?dg.apply(void 0,Cr):function($n,li,Qr,ji){var Zr=1&li,eo=ff($n);return function ia(){for(var Tr=-1,Jr=arguments.length,Dc=-1,Nu=ji.length,kh=wi(Nu+Jr),Ac=this&&this!==hr&&this instanceof ia?eo:$n;++Dc<Nu;)kh[Dc]=ji[Dc];for(;Jr--;)kh[Dc++]=arguments[++Tr];return Pr(Ac,Zr?Qr:this,kh)}}(S,I,et,Rt);else var zr=function($n,li,Qr){var ji=1&li,Zr=ff($n);return function eo(){return(this&&this!==hr&&this instanceof eo?Zr:$n).apply(ji?Qr:this,arguments)}}(S,I,et);return SL((Ji?Vn:iE)(zr,Cr),S,I)}function eE(S,I,et,Rt){return void 0===S||Lu(S,Bn[et])&&!ir.call(Rt,et)?I:S}function s0(S,I,et,Rt,te,De){return Ll(S)&&Ll(I)&&(De.set(I,S),Zl(S,I,void 0,s0,De),De.delete(I)),S}function ow(S){return Ph(S)?void 0:S}function aw(S,I,et,Rt,te,De){var Xe=1&et,an=S.length,Mn=I.length;if(an!=Mn&&!(Xe&&Mn>an))return!1;var jn=De.get(S),Wn=De.get(I);if(jn&&Wn)return jn==I&&Wn==S;var ri=-1,Ji=!0,Cr=2&et?new ds:void 0;for(De.set(S,I),De.set(I,S);++ri<an;){var zr=S[ri],$n=I[ri];if(Rt)var li=Xe?Rt($n,zr,ri,I,S,De):Rt(zr,$n,ri,S,I,De);if(void 0!==li){if(li)continue;Ji=!1;break}if(Cr){if(!mi(I,function(Qr,ji){if(!Js(Cr,ji)&&(zr===Qr||te(zr,Qr,et,Rt,De)))return Cr.push(ji)})){Ji=!1;break}}else if(zr!==$n&&!te(zr,$n,et,Rt,De)){Ji=!1;break}}return De.delete(S),De.delete(I),Ji}function ah(S){return Bv(dw(S,void 0,sE),S+"")}function sw(S){return is(S,Xc,lw)}function l0(S){return is(S,bd,vu)}var Rv=nl?function(S){return nl.get(S)}:kw;function Lv(S){for(var I=S.name+"",et=yi[I],Rt=ir.call(yi,I)?et.length:0;Rt--;){var te=et[Rt],De=te.func;if(null==De||De==S)return te.name}return I}function Qp(S){return(ir.call(he,"placeholder")?he:S).placeholder}function Gr(){var S=he.iteratee||x0;return S=S===x0?Sn:S,arguments.length?S(arguments[0],arguments[1]):S}function Ov(S,I){var et,Rt,te=S.__data__;return("string"==(Rt=typeof(et=I))||"number"==Rt||"symbol"==Rt||"boolean"==Rt?"__proto__"!==et:null===et)?te["string"==typeof I?"string":"hash"]:te.map}function Nv(S){for(var I=Xc(S),et=I.length;et--;){var Rt=I[et],te=S[Rt];I[et]=[Rt,te,Fv(te)]}return I}function Jp(S,I){var et=S?.[I];return yn(et)?et:void 0}var lw=Ys?function(S){return null==S?[]:(S=qo(S),ie(Ys(S),function(I){return gu.call(S,I)}))}:w0,vu=Ys?function(S){for(var I=[];S;)sn(I,lw(S)),S=Iu(S);return I}:w0,Yl=$a;function Al(S,I,et){for(var Rt=-1,te=(I=qn(I,S)).length,De=!1;++Rt<te;){var Xe=gf(I[Rt]);if(!(De=null!=S&&et(S,Xe)))break;S=S[Xe]}return De||++Rt!=te?De:!!(te=null==S?0:S.length)&&xw(te)&&gd(Xe,te)&&(wo(S)||Sl(S))}function mf(S){return"function"!=typeof S.constructor||Yf(S)?{}:gc(Iu(S))}function wL(S){return wo(S)||Sl(S)||!!(mc&&S&&S[mc])}function gd(S,I){var et=typeof S;return!!(I=I??9007199254740991)&&("number"==et||"symbol"!=et&&ln.test(S))&&S>-1&&S%1==0&&S<I}function Ru(S,I,et){if(!Ll(et))return!1;var Rt=typeof I;return!!("number"==Rt?Ku(et)&&gd(I,et.length):"string"==Rt&&I in et)&&Lu(et[I],S)}function cw(S,I){if(wo(S))return!1;var et=typeof S;return!("number"!=et&&"symbol"!=et&&"boolean"!=et&&null!=S&&!yd(S))||Ht.test(S)||!wt.test(S)||null!=I&&S in qo(I)}function uw(S){var I=Lv(S),et=he[I];if("function"!=typeof et||!(I in wr.prototype))return!1;if(S===et)return!0;var Rt=Rv(et);return!!Rt&&S===Rt[0]}(As&&Yl(new As(new ArrayBuffer(1)))!=It||es&&Yl(new es)!=nt||Od&&"[object Promise]"!=Yl(Od.resolve())||Pi&&Yl(new Pi)!=Mt||pa&&Yl(new pa)!=Pt)&&(Yl=function(S){var I=$a(S),et=I==ct?S.constructor:void 0,Rt=et?vf(et):"";if(Rt)switch(Rt){case cs:return It;case Xu:return nt;case Cn:return"[object Promise]";case il:return Mt;case Yo:return Pt}return I});var c0=Du?_d:Lw;function Yf(S){var I=S&&S.constructor;return S===("function"==typeof I&&I.prototype||Bn)}function Fv(S){return S==S&&!Ll(S)}function u0(S,I){return function(et){return null!=et&&et[S]===I&&(void 0!==I||S in qo(et))}}function dw(S,I,et){return I=xo(void 0===I?S.length-1:I,0),function(){for(var Rt=arguments,te=-1,De=xo(Rt.length-I,0),Xe=wi(De);++te<De;)Xe[te]=Rt[I+te];te=-1;for(var an=wi(I+1);++te<I;)an[te]=Rt[te];return an[I]=et(Xe),Pr(S,this,an)}}function nE(S,I){return I.length<2?S:jc(S,oi(I,0,-1))}function tm(S,I){if(("constructor"!==I||"function"!=typeof S[I])&&"__proto__"!=I)return S[I]}var iE=rE(Vn),d0=Vl||function(S,I){return hr.setTimeout(S,I)},Bv=rE(ei);function SL(S,I,et){var De,Rt=I+"";return Bv(S,function(te,De){var Xe=De.length;if(!Xe)return te;var an=Xe-1;return De[an]=(Xe>1?"& ":"")+De[an],De=De.join(Xe>2?", ":" "),te.replace(M,"{\n/* [wrapped with "+De+"] */\n")}(Rt,function(te,De){return fr(at,function(Xe){var an="_."+Xe[0];De&Xe[1]&&!Me(te,an)&&te.push(an)}),te.sort()}((De=Rt.match(P))?De[1].split(U):[],et)))}function rE(S){var I=0,et=0;return function(){var Rt=fl(),te=16-(Rt-et);if(et=Rt,te>0){if(++I>=800)return arguments[0]}else I=0;return S.apply(void 0,arguments)}}function h0(S,I){var et=-1,Rt=S.length,te=Rt-1;for(I=void 0===I?Rt:I;++et<I;){var De=Yt(et,te),Xe=S[De];S[De]=S[et],S[et]=Xe}return S.length=I,S}var S,I,et,CL=(S=function(S){var I=[];return 46===S.charCodeAt(0)&&I.push(""),S.replace(Wt,function(et,Rt,te,De){I.push(te?De.replace(Ot,"$1"):Rt||et)}),I},I=yw(S,function(Rt){return 500===et.size&&et.clear(),Rt}),et=I.cache,I);function gf(S){if("string"==typeof S||yd(S))return S;var I=S+"";return"0"==I&&1/S==-1/0?"-0":I}function vf(S){if(null!=S){try{return pc.call(S)}catch{}try{return S+""}catch{}}return""}function hw(S){if(S instanceof wr)return S.clone();var I=new xs(S.__wrapped__,S.__chain__);return I.__actions__=qu(S.__actions__),I.__index__=S.__index__,I.__values__=S.__values__,I}var oE=ve(function(S,I){return vs(S)?Pu(S,ta(I,1,vs,!0)):[]}),Vv=ve(function(S,I){var et=vd(I);return vs(et)&&(et=void 0),vs(S)?Pu(S,ta(I,1,vs,!0),Gr(et,2)):[]}),aE=ve(function(S,I){var et=vd(I);return vs(et)&&(et=void 0),vs(S)?Pu(S,ta(I,1,vs,!0),void 0,et):[]});function fw(S,I,et){var Rt=null==S?0:S.length;if(!Rt)return-1;var te=null==et?0:Mo(et);return te<0&&(te=xo(Rt+te,0)),Ns(S,Gr(I,3),te)}function zv(S,I,et){var Rt=null==S?0:S.length;if(!Rt)return-1;var te=Rt-1;return void 0!==et&&(te=Mo(et),te=et<0?xo(Rt+te,0):lr(te,Rt-1)),Ns(S,Gr(I,3),te,!0)}function sE(S){return null!=S&&S.length?ta(S,1):[]}function Uv(S){return S&&S.length?S[0]:void 0}var pw=ve(function(S){var I=qe(S,mn);return I.length&&I[0]===S[0]?B(I):[]}),f0=ve(function(S){var I=vd(S),et=qe(S,mn);return I===vd(et)?I=void 0:et.pop(),et.length&&et[0]===S[0]?B(et,Gr(I,2)):[]}),FG=ve(function(S){var I=vd(S),et=qe(S,mn);return(I="function"==typeof I?I:void 0)&&et.pop(),et.length&&et[0]===S[0]?B(et,void 0,I):[]});function vd(S){var I=null==S?0:S.length;return I?S[I-1]:void 0}var lE=ve(cE);function cE(S,I){return S&&S.length&&I&&I.length?ft(S,I):S}var Ah=ah(function(S,I){var et=null==S?0:S.length,Rt=gs(S,I);return Bt(S,qe(I,function(te){return gd(te,et)?+te:te}).sort($u)),Rt});function mw(S){return null==S?S:Rl.call(S)}var p0=ve(function(S){return x(ta(S,1,vs,!0))}),gw=ve(function(S){var I=vd(S);return vs(I)&&(I=void 0),x(ta(S,1,vs,!0),Gr(I,2))}),uE=ve(function(S){var I=vd(S);return I="function"==typeof I?I:void 0,x(ta(S,1,vs,!0),void 0,I)});function Gv(S){if(!S||!S.length)return[];var I=0;return S=ie(S,function(et){if(vs(et))return I=xo(et.length,I),!0}),Pn(I,function(et){return qe(S,_n(et))})}function m0(S,I){if(!S||!S.length)return[];var et=Gv(S);return null==I?et:qe(et,function(Rt){return Pr(I,void 0,Rt)})}var ML=ve(function(S,I){return vs(S)?Pu(S,I):[]}),dE=ve(function(S){return _e(ie(S,vs))}),hE=ve(function(S){var I=vd(S);return vs(I)&&(I=void 0),_e(ie(S,vs),Gr(I,2))}),fE=ve(function(S){var I=vd(S);return I="function"==typeof I?I:void 0,_e(ie(S,vs),void 0,I)}),pE=ve(Gv),EL=ve(function(S){var I=S.length,et=I>1?S[I-1]:void 0;return et="function"==typeof et?(S.pop(),et):void 0,m0(S,et)});function Hv(S){var I=he(S);return I.__chain__=!0,I}function Ih(S,I){return I(S)}var TL=ah(function(S){var I=S.length,et=I?S[0]:0,Rt=this.__wrapped__,te=function(De){return gs(De,S)};return!(I>1||this.__actions__.length)&&Rt instanceof wr&&gd(et)?((Rt=Rt.slice(et,+et+(I?1:0))).__actions__.push({func:Ih,args:[te],thisArg:void 0}),new xs(Rt,this.__chain__).thru(function(De){return I&&!De.length&&De.push(void 0),De})):this.thru(te)}),mE=Xn(function(S,I,et){ir.call(S,et)?++S[et]:hs(S,et,1)}),gE=rh(fw),fg=rh(zv);function vE(S,I){return(wo(S)?fr:Fr)(S,Gr(I,3))}function Br(S,I){return(wo(S)?Os:zs)(S,Gr(I,3))}var vw=Xn(function(S,I,et){ir.call(S,et)?S[et].push(I):hs(S,et,[I])}),DL=ve(function(S,I,et){var Rt=-1,te="function"==typeof I,De=Ku(S)?wi(S.length):[];return Fr(S,function(Xe){De[++Rt]=te?Pr(I,Xe,et):mt(Xe,I,et)}),De}),_E=Xn(function(S,I,et){hs(S,et,I)});function Yc(S,I){return(wo(S)?qe:Oo)(S,Gr(I,3))}var pg=Xn(function(S,I,et){S[et?0:1].push(I)},function(){return[[],[]]}),mg=ve(function(S,I){if(null==S)return[];var et=I.length;return et>1&&Ru(S,I[0],I[1])?I=[]:et>2&&Ru(I[0],I[1],I[2])&&(I=[I[0]]),Oe(S,ta(I,1),[])}),_f=bo||function(){return hr.Date.now()};function _w(S,I,et){return I=et?void 0:I,pf(S,128,void 0,void 0,void 0,void 0,I=S&&null==I?S.length:I)}function g0(S,I){var et;if("function"!=typeof I)throw new Ko(ot);return S=Mo(S),function(){return--S>0&&(et=I.apply(this,arguments)),S<=1&&(I=void 0),et}}var Xf=ve(function(S,I,et){var Rt=1;if(et.length){var te=Sc(et,Qp(Xf));Rt|=32}return pf(S,Rt,I,et,te)}),AL=ve(function(S,I,et){var Rt=3;if(et.length){var te=Sc(et,Qp(AL));Rt|=32}return pf(I,Rt,S,et,te)});function yE(S,I,et){var Rt,te,De,Xe,an,Mn,jn=0,Wn=!1,ri=!1,Ji=!0;if("function"!=typeof S)throw new Ko(ot);function Cr(Zr){var eo=Rt,ia=te;return Rt=te=void 0,jn=Zr,Xe=S.apply(ia,eo)}function $n(Zr){var eo=Zr-Mn;return void 0===Mn||eo>=I||eo<0||ri&&Zr-jn>=De}function li(){var eo,ia,Zr=_f();if($n(Zr))return Qr(Zr);an=d0(li,(ia=I-((eo=Zr)-Mn),ri?lr(ia,De-(eo-jn)):ia))}function Qr(Zr){return an=void 0,Ji&&Rt?Cr(Zr):(Rt=te=void 0,Xe)}function ji(){var Zr=_f(),eo=$n(Zr);if(Rt=arguments,te=this,Mn=Zr,eo){if(void 0===an)return function zr(Zr){return jn=Zr,an=d0(li,I),Wn?Cr(Zr):Xe}(Mn);if(ri)return Jn(an),an=d0(li,I),Cr(Mn)}return void 0===an&&(an=d0(li,I)),Xe}return I=gl(I)||0,Ll(et)&&(Wn=!!et.leading,De=(ri="maxWait"in et)?xo(gl(et.maxWait)||0,I):De,Ji="trailing"in et?!!et.trailing:Ji),ji.cancel=function(){void 0!==an&&Jn(an),jn=0,Rt=Mn=te=an=void 0},ji.flush=function(){return void 0===an?Xe:Qr(_f())},ji}var hn=ve(function(S,I){return ma(S,1,I)}),BG=ve(function(S,I,et){return ma(S,gl(I)||0,et)});function yw(S,I){if("function"!=typeof S||null!=I&&"function"!=typeof I)throw new Ko(ot);var et=function(){var Rt=arguments,te=I?I.apply(this,Rt):Rt[0],De=et.cache;if(De.has(te))return De.get(te);var Xe=S.apply(this,Rt);return et.cache=De.set(te,Xe)||De,Xe};return et.cache=new(yw.Cache||po),et}function bw(S){if("function"!=typeof S)throw new Ko(ot);return function(){var I=arguments;switch(I.length){case 0:return!S.call(this);case 1:return!S.call(this,I[0]);case 2:return!S.call(this,I[0],I[1]);case 3:return!S.call(this,I[0],I[1],I[2])}return!S.apply(this,I)}}yw.Cache=po;var VG=ai(function(S,I){var et=(I=1==I.length&&wo(I[0])?qe(I[0],Rr(Gr())):qe(ta(I,1),Rr(Gr()))).length;return ve(function(Rt){for(var te=-1,De=lr(Rt.length,et);++te<De;)Rt[te]=I[te].call(this,Rt[te]);return Pr(S,this,Rt)})}),bE=ve(function(S,I){return pf(S,32,void 0,I,Sc(I,Qp(bE)))}),IL=ve(function(S,I){return pf(S,64,void 0,I,Sc(I,Qp(IL)))}),zG=ah(function(S,I){return pf(S,256,void 0,void 0,void 0,I)});function Lu(S,I){return S===I||S!=S&&I!=I}var UG=kv(Wl),GG=kv(function(S,I){return S>=I}),Sl=Ut(function(){return arguments}())?Ut:function(S){return ac(S)&&ir.call(S,"callee")&&!gu.call(S,"callee")},wo=wi.isArray,jv=as?Rr(as):function(S){return ac(S)&&$a(S)==Dt};function Ku(S){return null!=S&&xw(S.length)&&!_d(S)}function vs(S){return ac(S)&&Ku(S)}var Qu=hl||Lw,xE=Yi?Rr(Yi):function(S){return ac(S)&&$a(S)==bt};function gg(S){if(!ac(S))return!1;var I=$a(S);return I==X||"[object DOMException]"==I||"string"==typeof S.message&&"string"==typeof S.name&&!Ph(S)}function _d(S){if(!Ll(S))return!1;var I=$a(S);return I==tt||I==W||"[object AsyncFunction]"==I||"[object Proxy]"==I}function wE(S){return"number"==typeof S&&S==Mo(S)}function xw(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991}function Ll(S){var I=typeof S;return null!=S&&("object"==I||"function"==I)}function ac(S){return null!=S&&"object"==typeof S}var Ju=Wr?Rr(Wr):function(S){return ac(S)&&Yl(S)==nt};function v0(S){return"number"==typeof S||ac(S)&&$a(S)==z}function Ph(S){if(!ac(S)||$a(S)!=ct)return!1;var I=Iu(S);if(null===I)return!0;var et=ir.call(I,"constructor")&&I.constructor;return"function"==typeof et&&et instanceof et&&pc.call(et)==Eh}var SE=Ml?Rr(Ml):function(S){return ac(S)&&$a(S)==gt},ww=Ja?Rr(Ja):function(S){return ac(S)&&Yl(S)==Mt};function _0(S){return"string"==typeof S||!wo(S)&&ac(S)&&$a(S)==Ct}function yd(S){return"symbol"==typeof S||ac(S)&&$a(S)==q}var vg=ss?Rr(ss):function(S){return ac(S)&&xw(S.length)&&!!en[$a(S)]},PL=kv(cr),kL=kv(function(S,I){return S<=I});function CE(S){if(!S)return[];if(Ku(S))return _0(S)?xl(S):qu(S);if(el&&S[el])return function(et){for(var Rt,te=[];!(Rt=et.next()).done;)te.push(Rt.value);return te}(S[el]());var I=Yl(S);return(I==nt?Xa:I==Mt?Zs:Wv)(S)}function sh(S){return S?(S=gl(S))===1/0||S===-1/0?17976931348623157e292*(S<0?-1:1):S==S?S:0:0===S?S:0}function Mo(S){var I=sh(S),et=I%1;return I==I?et?I-et:I:0}function em(S){return S?Vs(Mo(S),0,4294967295):0}function gl(S){if("number"==typeof S)return S;if(yd(S))return NaN;if(Ll(S)){var I="function"==typeof S.valueOf?S.valueOf():S;S=Ll(I)?I+"":I}if("string"!=typeof S)return 0===S?S:+S;S=ci(S);var et=ze.test(S);return et||Ve.test(S)?Ii(S.slice(2),et?2:8):xe.test(S)?NaN:+S}function Sw(S){return Th(S,bd(S))}function zo(S){return null==S?"":_(S)}var RL=na(function(S,I){if(Yf(I)||Ku(I))Th(I,Xc(I),S);else for(var et in I)ir.call(I,et)&&Hi(S,et,I[et])}),Cw=na(function(S,I){Th(I,bd(I),S)}),$f=na(function(S,I,et,Rt){Th(I,bd(I),S,Rt)}),y0=na(function(S,I,et,Rt){Th(I,Xc(I),S,Rt)}),ME=ah(gs),LL=ve(function(S,I){S=qo(S);var et=-1,Rt=I.length,te=Rt>2?I[2]:void 0;for(te&&Ru(I[0],I[1],te)&&(Rt=1);++et<Rt;)for(var De=I[et],Xe=bd(De),an=-1,Mn=Xe.length;++an<Mn;){var jn=Xe[an],Wn=S[jn];(void 0===Wn||Lu(Wn,Bn[jn])&&!ir.call(S,jn))&&(S[jn]=De[jn])}return S}),OL=ve(function(S){return S.push(void 0,s0),Pr(TE,void 0,S)});function qf(S,I,et){var Rt=null==S?void 0:jc(S,I);return void 0===Rt?et:Rt}function nm(S,I){return null!=S&&Al(S,I,T)}var NL=tE(function(S,I,et){null!=I&&"function"!=typeof I.toString&&(I=Zo.call(I)),S[I]=et},Aw(Ou)),HG=tE(function(S,I,et){null!=I&&"function"!=typeof I.toString&&(I=Zo.call(I)),ir.call(S,I)?S[I].push(et):S[I]=[et]},Gr),EE=ve(mt);function Xc(S){return Ku(S)?Ao(S):Yn(S)}function bd(S){return Ku(S)?Ao(S,!0):function hi(S){if(!Ll(S))return function(te){var De=[];if(null!=te)for(var Xe in qo(te))De.push(Xe);return De}(S);var I=Yf(S),et=[];for(var Rt in S)("constructor"!=Rt||!I&&ir.call(S,Rt))&&et.push(Rt);return et}(S)}var FL=na(function(S,I,et){Zl(S,I,et)}),TE=na(function(S,I,et,Rt){Zl(S,I,et,Rt)}),BL=ah(function(S,I){var et={};if(null==S)return et;var Rt=!1;I=qe(I,function(De){return De=qn(De,S),Rt||(Rt=De.length>1),De}),Th(S,l0(S),et),Rt&&(et=Jo(et,7,ow));for(var te=I.length;te--;)D(et,I[te]);return et}),b0=ah(function(S,I){return null==S?{}:function(et,Rt){return R(et,Rt,function(te,De){return nm(et,De)})}(S,I)});function Mw(S,I){if(null==S)return{};var et=qe(l0(S),function(Rt){return[Rt]});return I=Gr(I),R(S,et,function(Rt,te){return I(Rt,te[0])})}var DE=rw(Xc),Ew=rw(bd);function Wv(S){return null==S?[]:tc(S,Xc(S))}var AE=qp(function(S,I,et){return I=I.toLowerCase(),S+(et?VL(I):I)});function VL(S){return PE(zo(S).toLowerCase())}function IE(S){return(S=zo(S))&&S.replace(fn,pd).replace(Ha,"")}var zL=qp(function(S,I,et){return S+(et?"-":"")+I.toLowerCase()}),Tw=qp(function(S,I,et){return S+(et?" ":"")+I.toLowerCase()}),jG=Wc("toLowerCase"),WG=qp(function(S,I,et){return S+(et?"_":"")+I.toLowerCase()}),Dw=qp(function(S,I,et){return S+(et?" ":"")+PE(I)}),ZG=qp(function(S,I,et){return S+(et?" ":"")+I.toUpperCase()}),PE=Wc("toUpperCase");function UL(S,I,et){return S=zo(S),void 0===(I=et?void 0:I)?Ft.test(S)?S.match(Vi)||[]:function(Rt){return Rt.match(pt)||[]}(S):S.match(I)||[]}var GL=ve(function(S,I){try{return Pr(S,void 0,I)}catch(et){return gg(et)?et:new fo(et)}}),YG=ah(function(S,I){return fr(I,function(et){et=gf(et),hs(S,et,Xf(S[et],S))}),S});function Aw(S){return function(){return S}}var kE=o0(),Iw=o0(!0);function Ou(S){return S}function x0(S){return Sn("function"==typeof S?S:Jo(S,1))}var RE=ve(function(S,I){return function(et){return mt(et,S,I)}}),td=ve(function(S,I){return function(et){return mt(S,et,I)}});function Pw(S,I,et){var Rt=Xc(I),te=jl(I,Rt);null!=et||Ll(I)&&(te.length||!Rt.length)||(et=I,I=S,S=this,te=jl(I,Xc(I)));var De=!(Ll(et)&&"chain"in et&&!et.chain),Xe=_d(S);return fr(te,function(an){var Mn=I[an];S[an]=Mn,Xe&&(S.prototype[an]=function(){var jn=this.__chain__;if(De||jn){var Wn=S(this.__wrapped__);return(Wn.__actions__=qu(this.__actions__)).push({func:Mn,args:arguments,thisArg:S}),Wn.__chain__=jn,Wn}return Mn.apply(S,sn([this.value()],arguments))})}),S}function kw(){}var HL=a0(qe),LE=a0(kl),Rw=a0(mi);function OE(S){return cw(S)?_n(gf(S)):function(I){return function(et){return jc(et,I)}}(S)}var jL=Dh(),WL=Dh(!0);function w0(){return[]}function Lw(){return!1}var Zv,ZL=iw(function(S,I){return S+I},0),ed=oh("ceil"),Ow=iw(function(S,I){return S/I},1),NE=oh("floor"),_u=iw(function(S,I){return S*I},1),Yv=oh("round"),FE=iw(function(S,I){return S-I},0);return he.after=function(S,I){if("function"!=typeof I)throw new Ko(ot);return S=Mo(S),function(){if(--S<1)return I.apply(this,arguments)}},he.ary=_w,he.assign=RL,he.assignIn=Cw,he.assignInWith=$f,he.assignWith=y0,he.at=ME,he.before=g0,he.bind=Xf,he.bindAll=YG,he.bindKey=AL,he.castArray=function(){if(!arguments.length)return[];var S=arguments[0];return wo(S)?S:[S]},he.chain=Hv,he.chunk=function(S,I,et){I=(et?Ru(S,I,et):void 0===I)?1:xo(Mo(I),0);var Rt=null==S?0:S.length;if(!Rt||I<1)return[];for(var te=0,De=0,Xe=wi(nc(Rt/I));te<Rt;)Xe[De++]=oi(S,te,te+=I);return Xe},he.compact=function(S){for(var I=-1,et=null==S?0:S.length,Rt=0,te=[];++I<et;){var De=S[I];De&&(te[Rt++]=De)}return te},he.concat=function(){var S=arguments.length;if(!S)return[];for(var I=wi(S-1),et=arguments[0],Rt=S;Rt--;)I[Rt-1]=arguments[Rt];return sn(wo(et)?qu(et):[et],ta(I,1))},he.cond=function(S){var I=null==S?0:S.length,et=Gr();return S=I?qe(S,function(Rt){if("function"!=typeof Rt[1])throw new Ko(ot);return[et(Rt[0]),Rt[1]]}):[],ve(function(Rt){for(var te=-1;++te<I;){var De=S[te];if(Pr(De[0],this,Rt))return Pr(De[1],this,Rt)}})},he.conforms=function(S){return function(I){var et=Xc(I);return function(Rt){return ws(Rt,I,et)}}(Jo(S,1))},he.constant=Aw,he.countBy=mE,he.create=function(S,I){var et=gc(S);return null==I?et:Gl(et,I)},he.curry=function S(I,et,Rt){var te=pf(I,8,void 0,void 0,void 0,void 0,void 0,et=Rt?void 0:et);return te.placeholder=S.placeholder,te},he.curryRight=function S(I,et,Rt){var te=pf(I,16,void 0,void 0,void 0,void 0,void 0,et=Rt?void 0:et);return te.placeholder=S.placeholder,te},he.debounce=yE,he.defaults=LL,he.defaultsDeep=OL,he.defer=hn,he.delay=BG,he.difference=oE,he.differenceBy=Vv,he.differenceWith=aE,he.drop=function(S,I,et){var Rt=null==S?0:S.length;return Rt?oi(S,(I=et||void 0===I?1:Mo(I))<0?0:I,Rt):[]},he.dropRight=function(S,I,et){var Rt=null==S?0:S.length;return Rt?oi(S,0,(I=Rt-(I=et||void 0===I?1:Mo(I)))<0?0:I):[]},he.dropRightWhile=function(S,I){return S&&S.length?xt(S,Gr(I,3),!0,!0):[]},he.dropWhile=function(S,I){return S&&S.length?xt(S,Gr(I,3),!0):[]},he.fill=function(S,I,et,Rt){var te=null==S?0:S.length;return te?(et&&"number"!=typeof et&&Ru(S,I,et)&&(et=0,Rt=te),function(De,Xe,an,Mn){var jn=De.length;for((an=Mo(an))<0&&(an=-an>jn?0:jn+an),(Mn=void 0===Mn||Mn>jn?jn:Mo(Mn))<0&&(Mn+=jn),Mn=an>Mn?0:em(Mn);an<Mn;)De[an++]=Xe;return De}(S,I,et,Rt)):[]},he.filter=function(S,I){return(wo(S)?ie:Tc)(S,Gr(I,3))},he.flatMap=function(S,I){return ta(Yc(S,I),1)},he.flatMapDeep=function(S,I){return ta(Yc(S,I),1/0)},he.flatMapDepth=function(S,I,et){return et=void 0===et?1:Mo(et),ta(Yc(S,I),et)},he.flatten=sE,he.flattenDeep=function(S){return null!=S&&S.length?ta(S,1/0):[]},he.flattenDepth=function(S,I){return null!=S&&S.length?ta(S,I=void 0===I?1:Mo(I)):[]},he.flip=function(S){return pf(S,512)},he.flow=kE,he.flowRight=Iw,he.fromPairs=function(S){for(var I=-1,et=null==S?0:S.length,Rt={};++I<et;){var te=S[I];Rt[te[0]]=te[1]}return Rt},he.functions=function(S){return null==S?[]:jl(S,Xc(S))},he.functionsIn=function(S){return null==S?[]:jl(S,bd(S))},he.groupBy=vw,he.initial=function(S){return null!=S&&S.length?oi(S,0,-1):[]},he.intersection=pw,he.intersectionBy=f0,he.intersectionWith=FG,he.invert=NL,he.invertBy=HG,he.invokeMap=DL,he.iteratee=x0,he.keyBy=_E,he.keys=Xc,he.keysIn=bd,he.map=Yc,he.mapKeys=function(S,I){var et={};return I=Gr(I,3),rl(S,function(Rt,te,De){hs(et,I(Rt,te,De),Rt)}),et},he.mapValues=function(S,I){var et={};return I=Gr(I,3),rl(S,function(Rt,te,De){hs(et,te,I(Rt,te,De))}),et},he.matches=function(S){return ku(Jo(S,1))},he.matchesProperty=function(S,I){return md(S,Jo(I,1))},he.memoize=yw,he.merge=FL,he.mergeWith=TE,he.method=RE,he.methodOf=td,he.mixin=Pw,he.negate=bw,he.nthArg=function(S){return S=Mo(S),ve(function(I){return rc(I,S)})},he.omit=BL,he.omitBy=function(S,I){return Mw(S,bw(Gr(I)))},he.once=function(S){return g0(2,S)},he.orderBy=function(S,I,et,Rt){return null==S?[]:(wo(I)||(I=null==I?[]:[I]),wo(et=Rt?void 0:et)||(et=null==et?[]:[et]),Oe(S,I,et))},he.over=HL,he.overArgs=VG,he.overEvery=LE,he.overSome=Rw,he.partial=bE,he.partialRight=IL,he.partition=pg,he.pick=b0,he.pickBy=Mw,he.property=OE,he.propertyOf=function(S){return function(I){return null==S?void 0:jc(S,I)}},he.pull=lE,he.pullAll=cE,he.pullAllBy=function(S,I,et){return S&&S.length&&I&&I.length?ft(S,I,Gr(et,2)):S},he.pullAllWith=function(S,I,et){return S&&S.length&&I&&I.length?ft(S,I,void 0,et):S},he.pullAt=Ah,he.range=jL,he.rangeRight=WL,he.rearg=zG,he.reject=function(S,I){return(wo(S)?ie:Tc)(S,bw(Gr(I,3)))},he.remove=function(S,I){var et=[];if(!S||!S.length)return et;var Rt=-1,te=[],De=S.length;for(I=Gr(I,3);++Rt<De;){var Xe=S[Rt];I(Xe,Rt,S)&&(et.push(Xe),te.push(Rt))}return Bt(S,te),et},he.rest=function(S,I){if("function"!=typeof S)throw new Ko(ot);return ve(S,I=void 0===I?I:Mo(I))},he.reverse=mw,he.sampleSize=function(S,I,et){return I=(et?Ru(S,I,et):void 0===I)?1:Mo(I),(wo(S)?ns:gn)(S,I)},he.set=function(S,I,et){return null==S?S:kn(S,I,et)},he.setWith=function(S,I,et,Rt){return Rt="function"==typeof Rt?Rt:void 0,null==S?S:kn(S,I,et,Rt)},he.shuffle=function(S){return(wo(S)?Ul:Oi)(S)},he.slice=function(S,I,et){var Rt=null==S?0:S.length;return Rt?(et&&"number"!=typeof et&&Ru(S,I,et)?(I=0,et=Rt):(I=null==I?0:Mo(I),et=void 0===et?Rt:Mo(et)),oi(S,I,et)):[]},he.sortBy=mg,he.sortedUniq=function(S){return S&&S.length?f(S):[]},he.sortedUniqBy=function(S,I){return S&&S.length?f(S,Gr(I,2)):[]},he.split=function(S,I,et){return et&&"number"!=typeof et&&Ru(S,I,et)&&(I=et=void 0),(et=void 0===et?4294967295:et>>>0)?(S=zo(S))&&("string"==typeof I||null!=I&&!SE(I))&&!(I=_(I))&&El(S)?gi(xl(S),0,et):S.split(I,et):[]},he.spread=function(S,I){if("function"!=typeof S)throw new Ko(ot);return I=null==I?0:xo(Mo(I),0),ve(function(et){var Rt=et[I],te=gi(et,0,I);return Rt&&sn(te,Rt),Pr(S,this,te)})},he.tail=function(S){var I=null==S?0:S.length;return I?oi(S,1,I):[]},he.take=function(S,I,et){return S&&S.length?oi(S,0,(I=et||void 0===I?1:Mo(I))<0?0:I):[]},he.takeRight=function(S,I,et){var Rt=null==S?0:S.length;return Rt?oi(S,(I=Rt-(I=et||void 0===I?1:Mo(I)))<0?0:I,Rt):[]},he.takeRightWhile=function(S,I){return S&&S.length?xt(S,Gr(I,3),!1,!0):[]},he.takeWhile=function(S,I){return S&&S.length?xt(S,Gr(I,3)):[]},he.tap=function(S,I){return I(S),S},he.throttle=function(S,I,et){var Rt=!0,te=!0;if("function"!=typeof S)throw new Ko(ot);return Ll(et)&&(Rt="leading"in et?!!et.leading:Rt,te="trailing"in et?!!et.trailing:te),yE(S,I,{leading:Rt,maxWait:I,trailing:te})},he.thru=Ih,he.toArray=CE,he.toPairs=DE,he.toPairsIn=Ew,he.toPath=function(S){return wo(S)?qe(S,gf):yd(S)?[S]:qu(CL(zo(S)))},he.toPlainObject=Sw,he.transform=function(S,I,et){var Rt=wo(S),te=Rt||Qu(S)||vg(S);if(I=Gr(I,4),null==et){var De=S&&S.constructor;et=te?Rt?new De:[]:Ll(S)&&_d(De)?gc(Iu(S)):{}}return(te?fr:rl)(S,function(Xe,an,Mn){return I(et,Xe,an,Mn)}),et},he.unary=function(S){return _w(S,1)},he.union=p0,he.unionBy=gw,he.unionWith=uE,he.uniq=function(S){return S&&S.length?x(S):[]},he.uniqBy=function(S,I){return S&&S.length?x(S,Gr(I,2)):[]},he.uniqWith=function(S,I){return I="function"==typeof I?I:void 0,S&&S.length?x(S,void 0,I):[]},he.unset=function(S,I){return null==S||D(S,I)},he.unzip=Gv,he.unzipWith=m0,he.update=function(S,I,et){return null==S?S:K(S,I,En(et))},he.updateWith=function(S,I,et,Rt){return Rt="function"==typeof Rt?Rt:void 0,null==S?S:K(S,I,En(et),Rt)},he.values=Wv,he.valuesIn=function(S){return null==S?[]:tc(S,bd(S))},he.without=ML,he.words=UL,he.wrap=function(S,I){return bE(En(I),S)},he.xor=dE,he.xorBy=hE,he.xorWith=fE,he.zip=pE,he.zipObject=function(S,I){return Ge(S||[],I||[],Hi)},he.zipObjectDeep=function(S,I){return Ge(S||[],I||[],kn)},he.zipWith=EL,he.entries=DE,he.entriesIn=Ew,he.extend=Cw,he.extendWith=$f,Pw(he,he),he.add=ZL,he.attempt=GL,he.camelCase=AE,he.capitalize=VL,he.ceil=ed,he.clamp=function(S,I,et){return void 0===et&&(et=I,I=void 0),void 0!==et&&(et=(et=gl(et))==et?et:0),void 0!==I&&(I=(I=gl(I))==I?I:0),Vs(gl(S),I,et)},he.clone=function(S){return Jo(S,4)},he.cloneDeep=function(S){return Jo(S,5)},he.cloneDeepWith=function(S,I){return Jo(S,5,I="function"==typeof I?I:void 0)},he.cloneWith=function(S,I){return Jo(S,4,I="function"==typeof I?I:void 0)},he.conformsTo=function(S,I){return null==I||ws(S,I,Xc(I))},he.deburr=IE,he.defaultTo=function(S,I){return null==S||S!=S?I:S},he.divide=Ow,he.endsWith=function(S,I,et){S=zo(S),I=_(I);var Rt=S.length,te=et=void 0===et?Rt:Vs(Mo(et),0,Rt);return(et-=I.length)>=0&&S.slice(et,te)==I},he.eq=Lu,he.escape=function(S){return(S=zo(S))&&He.test(S)?S.replace(ue,Ws):S},he.escapeRegExp=function(S){return(S=zo(S))&&ht.test(S)?S.replace(Nt,"\\$&"):S},he.every=function(S,I,et){var Rt=wo(S)?kl:ml;return et&&Ru(S,I,et)&&(I=void 0),Rt(S,Gr(I,3))},he.find=gE,he.findIndex=fw,he.findKey=function(S,I){return yo(S,Gr(I,3),rl)},he.findLast=fg,he.findLastIndex=zv,he.findLastKey=function(S,I){return yo(S,Gr(I,3),mo)},he.floor=NE,he.forEach=vE,he.forEachRight=Br,he.forIn=function(S,I){return null==S?S:vc(S,Gr(I,3),bd)},he.forInRight=function(S,I){return null==S?S:Lo(S,Gr(I,3),bd)},he.forOwn=function(S,I){return S&&rl(S,Gr(I,3))},he.forOwnRight=function(S,I){return S&&mo(S,Gr(I,3))},he.get=qf,he.gt=UG,he.gte=GG,he.has=function(S,I){return null!=S&&Al(S,I,v)},he.hasIn=nm,he.head=Uv,he.identity=Ou,he.includes=function(S,I,et,Rt){S=Ku(S)?S:Wv(S),et=et&&!Rt?Mo(et):0;var te=S.length;return et<0&&(et=xo(te+et,0)),_0(S)?et<=te&&S.indexOf(I,et)>-1:!!te&&pr(S,I,et)>-1},he.indexOf=function(S,I,et){var Rt=null==S?0:S.length;if(!Rt)return-1;var te=null==et?0:Mo(et);return te<0&&(te=xo(Rt+te,0)),pr(S,I,te)},he.inRange=function(S,I,et){return I=sh(I),void 0===et?(et=I,I=0):et=sh(et),(Rt=S=gl(S))>=lr(te=I,De=et)&&Rt<xo(te,De);var Rt,te,De},he.invoke=EE,he.isArguments=Sl,he.isArray=wo,he.isArrayBuffer=jv,he.isArrayLike=Ku,he.isArrayLikeObject=vs,he.isBoolean=function(S){return!0===S||!1===S||ac(S)&&$a(S)==V},he.isBuffer=Qu,he.isDate=xE,he.isElement=function(S){return ac(S)&&1===S.nodeType&&!Ph(S)},he.isEmpty=function(S){if(null==S)return!0;if(Ku(S)&&(wo(S)||"string"==typeof S||"function"==typeof S.splice||Qu(S)||vg(S)||Sl(S)))return!S.length;var I=Yl(S);if(I==nt||I==Mt)return!S.size;if(Yf(S))return!Yn(S).length;for(var et in S)if(ir.call(S,et))return!1;return!0},he.isEqual=function(S,I){return me(S,I)},he.isEqualWith=function(S,I,et){var Rt=(et="function"==typeof et?et:void 0)?et(S,I):void 0;return void 0===Rt?me(S,I,void 0,et):!!Rt},he.isError=gg,he.isFinite=function(S){return"number"==typeof S&&zl(S)},he.isFunction=_d,he.isInteger=wE,he.isLength=xw,he.isMap=Ju,he.isMatch=function(S,I){return S===I||Ze(S,I,Nv(I))},he.isMatchWith=function(S,I,et){return et="function"==typeof et?et:void 0,Ze(S,I,Nv(I),et)},he.isNaN=function(S){return v0(S)&&S!=+S},he.isNative=function(S){if(c0(S))throw new fo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yn(S)},he.isNil=function(S){return null==S},he.isNull=function(S){return null===S},he.isNumber=v0,he.isObject=Ll,he.isObjectLike=ac,he.isPlainObject=Ph,he.isRegExp=SE,he.isSafeInteger=function(S){return wE(S)&&S>=-9007199254740991&&S<=9007199254740991},he.isSet=ww,he.isString=_0,he.isSymbol=yd,he.isTypedArray=vg,he.isUndefined=function(S){return void 0===S},he.isWeakMap=function(S){return ac(S)&&Yl(S)==Pt},he.isWeakSet=function(S){return ac(S)&&"[object WeakSet]"==$a(S)},he.join=function(S,I){return null==S?"":au.call(S,I)},he.kebabCase=zL,he.last=vd,he.lastIndexOf=function(S,I,et){var Rt=null==S?0:S.length;if(!Rt)return-1;var te=Rt;return void 0!==et&&(te=(te=Mo(et))<0?xo(Rt+te,0):lr(te,Rt-1)),I==I?function(De,Xe,an){for(var Mn=an+1;Mn--;)if(De[Mn]===Xe)return Mn;return Mn}(S,I,te):Ns(S,Te,te,!0)},he.lowerCase=Tw,he.lowerFirst=jG,he.lt=PL,he.lte=kL,he.max=function(S){return S&&S.length?Hl(S,Ou,Wl):void 0},he.maxBy=function(S,I){return S&&S.length?Hl(S,Gr(I,2),Wl):void 0},he.mean=function(S){return Ue(S,Ou)},he.meanBy=function(S,I){return Ue(S,Gr(I,2))},he.min=function(S){return S&&S.length?Hl(S,Ou,cr):void 0},he.minBy=function(S,I){return S&&S.length?Hl(S,Gr(I,2),cr):void 0},he.stubArray=w0,he.stubFalse=Lw,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=_u,he.nth=function(S,I){return S&&S.length?rc(S,Mo(I)):void 0},he.noConflict=function(){return hr._===this&&(hr._=Xp),this},he.noop=kw,he.now=_f,he.pad=function(S,I,et){S=zo(S);var Rt=(I=Mo(I))?Bl(S):0;if(!I||Rt>=I)return S;var te=(I-Rt)/2;return Zc(Ts(te),et)+S+Zc(nc(te),et)},he.padEnd=function(S,I,et){S=zo(S);var Rt=(I=Mo(I))?Bl(S):0;return I&&Rt<I?S+Zc(I-Rt,et):S},he.padStart=function(S,I,et){S=zo(S);var Rt=(I=Mo(I))?Bl(S):0;return I&&Rt<I?Zc(I-Rt,et)+S:S},he.parseInt=function(S,I,et){return et||null==I?I=0:I&&(I=+I),Dl(zo(S).replace(At,""),I||0)},he.random=function(S,I,et){if(et&&"boolean"!=typeof et&&Ru(S,I,et)&&(I=et=void 0),void 0===et&&("boolean"==typeof I?(et=I,I=void 0):"boolean"==typeof S&&(et=S,S=void 0)),void 0===S&&void 0===I?(S=0,I=1):(S=sh(S),void 0===I?(I=S,S=0):I=sh(I)),S>I){var Rt=S;S=I,I=Rt}if(et||S%1||I%1){var te=ic();return lr(S+te*(I-S+ii("1e-"+((te+"").length-1))),I)}return Yt(S,I)},he.reduce=function(S,I,et){var Rt=wo(S)?Zn:Ke,te=arguments.length<3;return Rt(S,Gr(I,4),et,te,Fr)},he.reduceRight=function(S,I,et){var Rt=wo(S)?ui:Ke,te=arguments.length<3;return Rt(S,Gr(I,4),et,te,zs)},he.repeat=function(S,I,et){return I=(et?Ru(S,I,et):void 0===I)?1:Mo(I),le(zo(S),I)},he.replace=function(){var S=arguments,I=zo(S[0]);return S.length<3?I:I.replace(S[1],S[2])},he.result=function(S,I,et){var Rt=-1,te=(I=qn(I,S)).length;for(te||(te=1,S=void 0);++Rt<te;){var De=S?.[gf(I[Rt])];void 0===De&&(Rt=te,De=et),S=_d(De)?De.call(S):De}return S},he.round=Yv,he.runInContext=pn,he.sample=function(S){return(wo(S)?Qo:Ae)(S)},he.size=function(S){if(null==S)return 0;if(Ku(S))return _0(S)?Bl(S):S.length;var I=Yl(S);return I==nt||I==Mt?S.size:Yn(S).length},he.snakeCase=WG,he.some=function(S,I,et){var Rt=wo(S)?mi:ki;return et&&Ru(S,I,et)&&(I=void 0),Rt(S,Gr(I,3))},he.sortedIndex=function(S,I){return Sr(S,I)},he.sortedIndexBy=function(S,I,et){return Vo(S,I,Gr(et,2))},he.sortedIndexOf=function(S,I){var et=null==S?0:S.length;if(et){var Rt=Sr(S,I);if(Rt<et&&Lu(S[Rt],I))return Rt}return-1},he.sortedLastIndex=function(S,I){return Sr(S,I,!0)},he.sortedLastIndexBy=function(S,I,et){return Vo(S,I,Gr(et,2),!0)},he.sortedLastIndexOf=function(S,I){if(null!=S&&S.length){var et=Sr(S,I,!0)-1;if(Lu(S[et],I))return et}return-1},he.startCase=Dw,he.startsWith=function(S,I,et){return S=zo(S),et=null==et?0:Vs(Mo(et),0,S.length),I=_(I),S.slice(et,et+I.length)==I},he.subtract=FE,he.sum=function(S){return S&&S.length?Ti(S,Ou):0},he.sumBy=function(S,I){return S&&S.length?Ti(S,Gr(I,2)):0},he.template=function(S,I,et){var Rt=he.templateSettings;et&&Ru(S,I,et)&&(I=void 0),S=zo(S),I=$f({},I,Rt,eE);var te,De,Xe=$f({},I.imports,Rt.imports,eE),an=Xc(Xe),Mn=tc(Xe,an),jn=0,Wn=I.interpolate||dn,ri="__p += '",Ji=Fs((I.escape||dn).source+"|"+Wn.source+"|"+(Wn===Se?pe:dn).source+"|"+(I.evaluate||dn).source+"|$","g"),Cr="//# sourceURL="+(ir.call(I,"sourceURL")?(I.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";S.replace(Ji,function(li,Qr,ji,Zr,eo,ia){return ji||(ji=Zr),ri+=S.slice(jn,ia).replace(xn,tl),Qr&&(te=!0,ri+="' +\n__e("+Qr+") +\n'"),eo&&(De=!0,ri+="';\n"+eo+";\n__p += '"),ji&&(ri+="' +\n((__t = ("+ji+")) == null ? '' : __t) +\n'"),jn=ia+li.length,li}),ri+="';\n";var zr=ir.call(I,"variable")&&I.variable;if(zr){if(Et.test(zr))throw new fo("Invalid `variable` option passed into `_.template`")}else ri="with (obj) {\n"+ri+"\n}\n";ri=(De?ri.replace(Vt,""):ri).replace(Ce,"$1").replace(jt,"$1;"),ri="function("+(zr||"obj")+") {\n"+(zr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(te?", __e = _.escape":"")+(De?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ri+"return __p\n}";var $n=GL(function(){return dl(an,Cr+"return "+ri).apply(void 0,Mn)});if($n.source=ri,gg($n))throw $n;return $n},he.times=function(S,I){if((S=Mo(S))<1||S>9007199254740991)return[];var et=4294967295,Rt=lr(S,4294967295);S-=4294967295;for(var te=Pn(Rt,I=Gr(I));++et<S;)I(et);return te},he.toFinite=sh,he.toInteger=Mo,he.toLength=em,he.toLower=function(S){return zo(S).toLowerCase()},he.toNumber=gl,he.toSafeInteger=function(S){return S?Vs(Mo(S),-9007199254740991,9007199254740991):0===S?S:0},he.toString=zo,he.toUpper=function(S){return zo(S).toUpperCase()},he.trim=function(S,I,et){if((S=zo(S))&&(et||void 0===I))return ci(S);if(!S||!(I=_(I)))return S;var Rt=xl(S),te=xl(I);return gi(Rt,Hc(Rt,te),ls(Rt,te)+1).join("")},he.trimEnd=function(S,I,et){if((S=zo(S))&&(et||void 0===I))return S.slice(0,Bo(S)+1);if(!S||!(I=_(I)))return S;var Rt=xl(S);return gi(Rt,0,ls(Rt,xl(I))+1).join("")},he.trimStart=function(S,I,et){if((S=zo(S))&&(et||void 0===I))return S.replace(At,"");if(!S||!(I=_(I)))return S;var Rt=xl(S);return gi(Rt,Hc(Rt,xl(I))).join("")},he.truncate=function(S,I){var et=30,Rt="...";if(Ll(I)){var te="separator"in I?I.separator:te;et="length"in I?Mo(I.length):et,Rt="omission"in I?_(I.omission):Rt}var De=(S=zo(S)).length;if(El(S)){var Xe=xl(S);De=Xe.length}if(et>=De)return S;var an=et-Bl(Rt);if(an<1)return Rt;var Mn=Xe?gi(Xe,0,an).join(""):S.slice(0,an);if(void 0===te)return Mn+Rt;if(Xe&&(an+=Mn.length-an),SE(te)){if(S.slice(an).search(te)){var jn,Wn=Mn;for(te.global||(te=Fs(te.source,zo(ye.exec(te))+"g")),te.lastIndex=0;jn=te.exec(Wn);)var ri=jn.index;Mn=Mn.slice(0,void 0===ri?an:ri)}}else if(S.indexOf(_(te),an)!=an){var Ji=Mn.lastIndexOf(te);Ji>-1&&(Mn=Mn.slice(0,Ji))}return Mn+Rt},he.unescape=function(S){return(S=zo(S))&&Pe.test(S)?S.replace(ae,$o):S},he.uniqueId=function(S){var I=++ec;return zo(S)+I},he.upperCase=ZG,he.upperFirst=PE,he.each=vE,he.eachRight=Br,he.first=Uv,Pw(he,(Zv={},rl(he,function(S,I){ir.call(he.prototype,I)||(Zv[I]=S)}),Zv),{chain:!1}),he.VERSION="4.17.21",fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){he[S].placeholder=he}),fr(["drop","take"],function(S,I){wr.prototype[S]=function(et){et=void 0===et?1:xo(Mo(et),0);var Rt=this.__filtered__&&!I?new wr(this):this.clone();return Rt.__filtered__?Rt.__takeCount__=lr(et,Rt.__takeCount__):Rt.__views__.push({size:lr(et,4294967295),type:S+(Rt.__dir__<0?"Right":"")}),Rt},wr.prototype[S+"Right"]=function(et){return this.reverse()[S](et).reverse()}}),fr(["filter","map","takeWhile"],function(S,I){var et=I+1,Rt=1==et||3==et;wr.prototype[S]=function(te){var De=this.clone();return De.__iteratees__.push({iteratee:Gr(te,3),type:et}),De.__filtered__=De.__filtered__||Rt,De}}),fr(["head","last"],function(S,I){var et="take"+(I?"Right":"");wr.prototype[S]=function(){return this[et](1).value()[0]}}),fr(["initial","tail"],function(S,I){var et="drop"+(I?"":"Right");wr.prototype[S]=function(){return this.__filtered__?new wr(this):this[et](1)}}),wr.prototype.compact=function(){return this.filter(Ou)},wr.prototype.find=function(S){return this.filter(S).head()},wr.prototype.findLast=function(S){return this.reverse().find(S)},wr.prototype.invokeMap=ve(function(S,I){return"function"==typeof S?new wr(this):this.map(function(et){return mt(et,S,I)})}),wr.prototype.reject=function(S){return this.filter(bw(Gr(S)))},wr.prototype.slice=function(S,I){S=Mo(S);var et=this;return et.__filtered__&&(S>0||I<0)?new wr(et):(S<0?et=et.takeRight(-S):S&&(et=et.drop(S)),void 0!==I&&(et=(I=Mo(I))<0?et.dropRight(-I):et.take(I-S)),et)},wr.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},wr.prototype.toArray=function(){return this.take(4294967295)},rl(wr.prototype,function(S,I){var et=/^(?:filter|find|map|reject)|While$/.test(I),Rt=/^(?:head|last)$/.test(I),te=he[Rt?"take"+("last"==I?"Right":""):I],De=Rt||/^find/.test(I);te&&(he.prototype[I]=function(){var Xe=this.__wrapped__,an=Rt?[1]:arguments,Mn=Xe instanceof wr,jn=an[0],Wn=Mn||wo(Xe),ri=function(Qr){var ji=te.apply(he,sn([Qr],an));return Rt&&Ji?ji[0]:ji};Wn&&et&&"function"==typeof jn&&1!=jn.length&&(Mn=Wn=!1);var Ji=this.__chain__,zr=De&&!Ji,$n=Mn&&!this.__actions__.length;if(!De&&Wn){Xe=$n?Xe:new wr(this);var li=S.apply(Xe,an);return li.__actions__.push({func:Ih,args:[ri],thisArg:void 0}),new xs(li,Ji)}return zr&&$n?S.apply(this,an):(li=this.thru(ri),zr?Rt?li.value()[0]:li.value():li)})}),fr(["pop","push","shift","sort","splice","unshift"],function(S){var I=Tu[S],et=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",Rt=/^(?:pop|shift)$/.test(S);he.prototype[S]=function(){var te=arguments;if(Rt&&!this.__chain__){var De=this.value();return I.apply(wo(De)?De:[],te)}return this[et](function(Xe){return I.apply(wo(Xe)?Xe:[],te)})}}),rl(wr.prototype,function(S,I){var et=he[I];if(et){var Rt=et.name+"";ir.call(yi,Rt)||(yi[Rt]=[]),yi[Rt].push({name:I,func:et})}}),yi[dg(void 0,2).name]=[{name:"wrapper",func:void 0}],wr.prototype.clone=function(){var S=new wr(this.__wrapped__);return S.__actions__=qu(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=qu(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=qu(this.__views__),S},wr.prototype.reverse=function(){if(this.__filtered__){var S=new wr(this);S.__dir__=-1,S.__filtered__=!0}else(S=this.clone()).__dir__*=-1;return S},wr.prototype.value=function(){var S=this.__wrapped__.value(),I=this.__dir__,et=wo(S),Rt=I<0,te=et?S.length:0,De=function(ia,Tr,Jr){for(var Dc=-1,Nu=Jr.length;++Dc<Nu;){var kh=Jr[Dc],Ac=kh.size;switch(kh.type){case"drop":ia+=Ac;break;case"dropRight":Tr-=Ac;break;case"take":Tr=lr(Tr,ia+Ac);break;case"takeRight":ia=xo(ia,Tr-Ac)}}return{start:ia,end:Tr}}(0,te,this.__views__),Xe=De.start,an=De.end,Mn=an-Xe,jn=Rt?an:Xe-1,Wn=this.__iteratees__,ri=Wn.length,Ji=0,Cr=lr(Mn,this.__takeCount__);if(!et||!Rt&&te==Mn&&Cr==Mn)return qt(S,this.__actions__);var zr=[];t:for(;Mn--&&Ji<Cr;){for(var $n=-1,li=S[jn+=I];++$n<ri;){var Qr=Wn[$n],Zr=Qr.type,eo=(0,Qr.iteratee)(li);if(2==Zr)li=eo;else if(!eo){if(1==Zr)continue t;break t}}zr[Ji++]=li}return zr},he.prototype.at=TL,he.prototype.chain=function(){return Hv(this)},he.prototype.commit=function(){return new xs(this.value(),this.__chain__)},he.prototype.next=function(){void 0===this.__values__&&(this.__values__=CE(this.value()));var S=this.__index__>=this.__values__.length;return{done:S,value:S?void 0:this.__values__[this.__index__++]}},he.prototype.plant=function(S){for(var I,et=this;et instanceof Bs;){var Rt=hw(et);Rt.__index__=0,Rt.__values__=void 0,I?te.__wrapped__=Rt:I=Rt;var te=Rt;et=et.__wrapped__}return te.__wrapped__=S,I},he.prototype.reverse=function(){var S=this.__wrapped__;if(S instanceof wr){var I=S;return this.__actions__.length&&(I=new wr(this)),(I=I.reverse()).__actions__.push({func:Ih,args:[mw],thisArg:void 0}),new xs(I,this.__chain__)}return this.thru(mw)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return qt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,el&&(he.prototype[el]=function(){return this}),he}();hr._=Nr,void 0===(Q=function(){return Nr}.call(F,Y,F,O))||(O.exports=Q)}).call(this)}).call(this,Y(8),Y(9)(rt))},function(rt,F){var Y;Y=function(){return this}();try{Y=Y||new Function("return this")()}catch{"object"==typeof window&&(Y=window)}rt.exports=Y},function(rt,F){rt.exports=function(Y){return Y.webpackPolyfill||(Y.deprecate=function(){},Y.paths=[],Y.children||(Y.children=[]),Object.defineProperty(Y,"loaded",{enumerable:!0,get:function(){return Y.l}}),Object.defineProperty(Y,"id",{enumerable:!0,get:function(){return Y.i}}),Y.webpackPolyfill=1),Y}},function(rt,F,Y){"use strict";Y.r(F),Y.d(F,"Glify",function(){return re}),Y.d(F,"glify",function(){return se});var G=Y(0);class O extends G.Layer{constructor(_t,dt){super(),this._userDrawFunc=_t,this._frame=null,this._redrawCallbacks=[],this._pane=dt}drawing(_t){return this._userDrawFunc=_t,this}params(_t){return G.Util.setOptions(this,_t),this}redraw(_t){return"function"==typeof _t&&this._redrawCallbacks.push(_t),null===this._frame&&(this._frame=G.Util.requestAnimFrame(this._redraw,this)),this}isAnimated(){return Boolean(this._map.options.zoomAnimation&&G.Browser.any3d)}onAdd(_t){var dt;this._map=_t;const St=this.canvas=null!==(dt=this.canvas)&&void 0!==dt?dt:document.createElement("canvas"),Zt=_t.getSize(),Vt=this.isAnimated();St.width=Zt.x,St.height=Zt.y,St.className="leaflet-zoom-"+(Vt?"animated":"hide");const Ce=_t.getPane(this._pane);if(!Ce)throw new Error("unable to find pane");return Ce.appendChild(this.canvas),_t.on("moveend",this._reset,this),_t.on("resize",this._resize,this),Vt&&_t.on("zoomanim",G.Layer?this._animateZoom:this._animateZoomNoLayer,this),this._reset(),this}onRemove(_t){if(this.canvas){const dt=_t.getPane(this._pane);if(!dt)throw new Error("unable to find pane");dt.removeChild(this.canvas)}return _t.off("moveend",this._reset,this),_t.off("resize",this._resize,this),this.isAnimated()&&_t.off("zoomanim",G.Layer?this._animateZoom:this._animateZoomNoLayer,this),this}addTo(_t){return _t.addLayer(this),this}get map(){return this._map}set map(_t){this._map=_t}_resize(_t){this.canvas&&(this.canvas.width=_t.newSize.x,this.canvas.height=_t.newSize.y)}_reset(){if(this.canvas){const _t=this._map.containerPointToLayerPoint([0,0]);G.DomUtil.setPosition(this.canvas,_t)}this._redraw()}_redraw(){const{_map:_t,canvas:dt}=this,St=_t.getSize(),Zt=_t.getBounds(),Vt=180*St.x/(20037508.34*(Zt.getEast()-Zt.getWest())),Ce=_t.getZoom(),jt=new G.LatLng(Zt.getNorth(),Zt.getWest()),ae=this._unclampedProject(jt,0);for(dt&&this._userDrawFunc({bounds:Zt,canvas:dt,offset:ae,scale:Math.pow(2,Ce),size:St,zoomScale:Vt,zoom:Ce});this._redrawCallbacks.length>0;){const ue=this._redrawCallbacks.shift();ue&&ue(this)}this._frame=null}_animateZoom(_t){const{_map:dt,canvas:St}=this,Zt=dt.getZoomScale(_t.zoom,dt.getZoom()),Vt=this._unclampedLatLngBoundsToNewLayerBounds(dt.getBounds(),_t.zoom,_t.center).min;St&&Vt&&G.DomUtil.setTransform(St,Vt,Zt)}_animateZoomNoLayer(_t){const{_map:dt,canvas:St}=this;if(St){const Zt=dt.getZoomScale(_t.zoom,dt.getZoom()),Vt=dt._getCenterOffset(_t.center)._multiplyBy(-Zt).subtract(dt._getMapPanePos());G.DomUtil.setTransform(St,Vt,Zt)}}_unclampedProject(_t,dt){var St;const{crs:Zt}=this._map.options,{R:Vt}=Zt.projection,Ce=Math.PI/180,ae=Math.sin(_t.lat*Ce),ue=new G.Point(Vt*_t.lng*Ce,Vt*Math.log((1+ae)/(1-ae))/2),Pe=null!==(St=Zt?.scale(dt))&&void 0!==St?St:0;return Zt.transformation._transform(ue,Pe)}_unclampedLatLngBoundsToNewLayerBounds(_t,dt,St){const Zt=this._map._getNewPixelOrigin(St,dt);return new G.Bounds([this._unclampedProject(_t.getSouthWest(),dt).subtract(Zt),this._unclampedProject(_t.getNorthWest(),dt).subtract(Zt),this._unclampedProject(_t.getSouthEast(),dt).subtract(Zt),this._unclampedProject(_t.getNorthEast(),dt).subtract(Zt)])}}function Q(Tt){return`"${Tt}" not properly defined`}class ot{constructor(){this.array=new Float32Array(16)}setSize(_t,dt){return this.array.set([2/_t,0,0,0,0,-2/dt,0,0,0,0,0,0,-1,1,0,1]),this}translateTo(_t,dt){const{array:St}=this;return St[12]=St[0]*_t-1,St[13]=St[5]*dt+1,this}scaleTo(_t){const{array:dt}=this;return dt[0]*=_t,dt[5]*=_t,this}}const st={pane:"overlayPane"};let at=(()=>{class Tt{constructor(dt){var St,Zt;this.bytes=0,this.buffers={},this.attributeLocations={},this.uniformLocations={},this.settings={...st,...dt},this.mapMatrix=new ot,this.active=!0,this.vertexShader=null,this.fragmentShader=null,this.program=null,this.matrix=null,this.vertices=null,this.vertexLines=null;const Vt=Boolean(dt.preserveDrawingBuffer),Ce=this.layer=new O(ae=>this.drawOnCanvas(ae),this.pane).addTo(this.map);if(!Ce.canvas)throw new Error(Q("layer.canvas"));const jt=this.canvas=Ce.canvas;jt.width=jt.clientWidth,jt.height=jt.clientHeight,jt.style.position="absolute",this.className&&(jt.className+=" "+this.className),this.gl=null!==(Zt=null!==(St=jt.getContext("webgl2",{preserveDrawingBuffer:Vt}))&&void 0!==St?St:jt.getContext("webgl",{preserveDrawingBuffer:Vt}))&&void 0!==Zt?Zt:jt.getContext("experimental-webgl",{preserveDrawingBuffer:Vt})}get data(){if(!this.settings.data)throw new Error(Q("settings.data"));return this.settings.data}get pane(){var dt;return null!==(dt=this.settings.pane)&&void 0!==dt?dt:"overlayPane"}get className(){var dt;return null!==(dt=this.settings.className)&&void 0!==dt?dt:""}get map(){if(!this.settings.map)throw new Error(Q("settings.map"));return this.settings.map}get sensitivity(){if("number"!=typeof this.settings.sensitivity)throw new Error(Q("settings.sensitivity"));return this.settings.sensitivity}get sensitivityHover(){if("number"!=typeof this.settings.sensitivityHover)throw new Error(Q("settings.sensitivityHover"));return this.settings.sensitivityHover}get hoverWait(){var dt;return null!==(dt=this.settings.hoverWait)&&void 0!==dt?dt:250}get longitudeKey(){if("number"!=typeof this.settings.longitudeKey)throw new Error(Q("settings.longitudeKey"));return this.settings.longitudeKey}get latitudeKey(){if("number"!=typeof this.settings.latitudeKey)throw new Error(Q("settings.latitudeKey"));return this.settings.latitudeKey}get opacity(){if("number"!=typeof this.settings.opacity)throw new Error(Q("settings.opacity"));return this.settings.opacity}get color(){var dt;return null!==(dt=this.settings.color)&&void 0!==dt?dt:null}attachShaderVariables(dt){if(0===this.getShaderVariableCount())return this;const{gl:St,settings:Zt}=this,{shaderVariables:Vt}=Zt;let Ce=0;for(const jt in Vt){if(!Vt.hasOwnProperty(jt))continue;const ae=Vt[jt],ue=this.getAttributeLocation(jt);if(ue<0)throw new Error("shader variable "+jt+" not found");St.vertexAttribPointer(ue,ae.size,St[ae.type],!!ae.normalize,this.bytes*dt,Ce*dt),Ce+=ae.size,St.enableVertexAttribArray(ue)}return this}getShaderVariableCount(){var dt;return Object.keys(null!==(dt=this.settings.shaderVariables)&&void 0!==dt?dt:{}).length}setData(dt){return this.settings={...this.settings,data:dt},this.render()}setup(){const dt=this.settings;return dt.click&&dt.setupClick&&dt.setupClick(this.map),dt.hover&&dt.setupHover&&dt.setupHover(this.map,this.hoverWait),this.setupVertexShader().setupFragmentShader().setupProgram()}setupVertexShader(){const{gl:dt,settings:St}=this,Zt="function"==typeof St.vertexShaderSource?St.vertexShaderSource():St.vertexShaderSource,Vt=dt.createShader(dt.VERTEX_SHADER);if(!Vt)throw new Error("Not able to create vertex");if(!Zt)throw new Error(Q("settings.vertexShaderSource"));return dt.shaderSource(Vt,Zt),dt.compileShader(Vt),this.vertexShader=Vt,this}setupFragmentShader(){const dt=this.gl,St=this.settings,Zt="function"==typeof St.fragmentShaderSource?St.fragmentShaderSource():St.fragmentShaderSource,Vt=dt.createShader(dt.FRAGMENT_SHADER);if(!Vt)throw new Error("Not able to create fragment");if(!Zt)throw new Error(Q("settings.fragmentShaderSource"));return dt.shaderSource(Vt,Zt),dt.compileShader(Vt),this.fragmentShader=Vt,this}setupProgram(){const{gl:dt,vertexShader:St,fragmentShader:Zt}=this,Vt=dt.createProgram();if(!Vt)throw new Error("Not able to create program");if(!St)throw new Error(Q("this.vertexShader"));if(!Zt)throw new Error(Q("this.fragmentShader"));return dt.attachShader(Vt,St),dt.attachShader(Vt,Zt),dt.linkProgram(Vt),dt.useProgram(Vt),dt.blendFuncSeparate(dt.SRC_ALPHA,dt.ONE_MINUS_SRC_ALPHA,dt.ONE,dt.ONE_MINUS_SRC_ALPHA),dt.enable(dt.BLEND),this.program=Vt,this}addTo(dt){return this.layer.addTo(dt??this.map),this.active=!0,this.render()}remove(dt){if(void 0===dt)this.map.removeLayer(this.layer),this.active=!1;else{const St=this.settings.data.features||this.settings.data;"number"==typeof(dt=dt instanceof Array?dt:[dt])&&(dt=[dt]),dt.sort((Zt,Vt)=>Zt-Vt).reverse().forEach(Zt=>{St.splice(Zt,1)}),this.render()}return this}insert(dt,St){return(this.settings.data.features||this.settings.data).splice(St,0,dt),this.render()}update(dt,St){return(this.settings.data.features||this.settings.data)[St]=dt,this.render()}getBuffer(dt){if(!this.buffers[dt]){const St=this.gl.createBuffer();if(!St)throw new Error("Not able to create buffer");this.buffers[dt]=St}return this.buffers[dt]}getAttributeLocation(dt){if(!this.program)throw new Error(Q("this.program"));return void 0!==this.attributeLocations[dt]?this.attributeLocations[dt]:this.attributeLocations[dt]=this.gl.getAttribLocation(this.program,dt)}getUniformLocation(dt){if(!this.program)throw new Error(Q("this.program"));if(void 0!==this.uniformLocations[dt])return this.uniformLocations[dt];const St=this.gl.getUniformLocation(this.program,dt);if(!St)throw new Error("Cannot find location");return this.uniformLocations[dt]=St}click(dt,St){if(!this.settings.click)return;const Zt=this.settings.click(dt,St);return void 0!==Zt?Zt:void 0}hover(dt,St){if(!this.settings.hover)return;const Zt=this.settings.hover(dt,St);return void 0!==Zt?Zt:void 0}hoverOff(dt,St){this.settings.hoverOff&&this.settings.hoverOff(dt,St)}}return Tt.defaults=st,Tt})();function $(){return{r:Math.random(),g:Math.random(),b:Math.random(),a:Math.random()}}class N{constructor(_t){this.pixels=[],this.latLngs=[],this.settings=_t,this.vertexCount=0,this.array=[]}get length(){return this.array.length}fillFromCoordinates(_t){var dt;const{color:St,opacity:Zt,project:Vt,latitudeKey:Ce,longitudeKey:jt}=this.settings;for(let ae=0;ae<_t.length;ae++){if(Array.isArray(_t[ae][0])){this.fillFromCoordinates(_t[ae]);continue}const Pe=new G.LatLng(_t[ae][Ce],_t[ae][jt]);this.latLngs.push(Pe);const He=Vt(Pe,0);this.pixels.push(He),this.push(He.x,He.y,St.r,St.g,St.b,null!==(dt=St.a)&&void 0!==dt?dt:Zt),0!==ae&&ae!==_t.length-1&&(this.vertexCount+=1),this.vertexCount+=1}}push(..._t){this.array.push(..._t)}}function V(Tt,_t){const dt=Math.PI/180,St=4*Math.PI,Zt=Math.sin(Tt*dt);return{x:(_t+180)/360*256,y:256*(.5-Math.log((1+Zt)/(1-Zt))/St)}}function bt(Tt,_t,dt){return(Tt.x-_t.x)*(Tt.x-_t.x)+(Tt.y-_t.y)*(Tt.y-_t.y)<=dt*dt}function X(Tt,_t,dt,St,Zt,Vt){const Ce=Zt-dt,jt=Vt-St,ae=Ce*Ce+jt*jt;let ue,Pe,He=-1;0!==ae&&(He=((Tt-dt)*Ce+(_t-St)*jt)/ae),He<0?(ue=dt,Pe=St):He>1?(ue=Zt,Pe=Vt):(ue=dt+He*Ce,Pe=St+He*jt);const de=Tt-ue,we=_t-Pe;return Math.sqrt(de*de+we*we)}function tt(Tt,_t,dt){const St=dt.latLngToLayerPoint(Tt),Zt=dt.latLngToLayerPoint(_t);return Vt=St.x-Zt.x,Ce=St.y-Zt.y,Math.sqrt(Vt*Vt+Ce*Ce);var Vt,Ce}const W={data:{type:"FeatureCollection",features:[]},color:$,className:"",opacity:.5,weight:2,sensitivity:.1,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}}};let nt=(()=>{class Tt extends at{constructor(dt){if(super(dt),this.scale=1/0,this.bytes=6,this.allVertices=[],this.allVerticesTyped=new Float32Array(0),this.vertices=[],this.aPointSize=-1,this.hoveringFeatures=[],this.settings={...Tt.defaults,...dt},!dt.data)throw new Error('"data" is missing');this.active=!0,this.setup().render()}get weight(){if(!this.settings.weight)throw new Error("settings.weight not correctly defined");return this.settings.weight}render(){this.resetVertices();const{canvas:dt,gl:St,layer:Zt,mapMatrix:Vt}=this,Ce=this.getBuffer("vertex");St.bindBuffer(St.ARRAY_BUFFER,Ce);const jt=this.allVerticesTyped.BYTES_PER_ELEMENT;St.bufferData(St.ARRAY_BUFFER,this.allVerticesTyped,St.STATIC_DRAW);const ae=this.getAttributeLocation("vertex");return St.vertexAttribPointer(ae,2,St.FLOAT,!1,jt*this.bytes,0),St.enableVertexAttribArray(ae),this.matrix=this.getUniformLocation("matrix"),this.aPointSize=this.getAttributeLocation("pointSize"),Vt.setSize(dt.width,dt.height),St.viewport(0,0,dt.width,dt.height),St.uniformMatrix4fv(this.matrix,!1,Vt.array),this.attachShaderVariables(jt),Zt.redraw(),this}resetVertices(){const{map:dt,opacity:St,color:Zt,weight:Vt,latitudeKey:Ce,longitudeKey:jt,data:ae,bytes:ue,settings:Pe}=this,{eachVertex:He}=Pe,{features:de}=ae,we=de.length;let Se,wt,Ht=null,Wt=null,Nt=0;"function"==typeof Zt&&(Ht=Zt),"function"==typeof Vt&&(Wt=Vt);const ht=dt.project.bind(dt),At=[];for(;Nt<we;Nt++){Se=de[Nt],wt=Ht?Ht(Nt,Se):Zt;const P=Wt?Wt(Nt,Se):Vt,U=new N({project:ht,latitudeKey:Ce,longitudeKey:jt,color:wt,weight:P,opacity:St});U.fillFromCoordinates(Se.geometry.coordinates),At.push(U),He&&He(U)}const vt=At.length,M=[];for(let P=0;P<vt;P++){const U=At[P].array,pt=U.length/ue;for(let Et=0;Et<pt;Et++){const Ot=Et*ue;0!==Et&&Et!==pt-1&&M.push(U[Ot],U[Ot+1],U[Ot+2],U[Ot+3],U[Ot+4],U[Ot+5]),M.push(U[Ot],U[Ot+1],U[Ot+2],U[Ot+3],U[Ot+4],U[Ot+5])}}return this.vertices=At,this.allVertices=M,this.allVerticesTyped=new Float32Array(M),this}drawOnCanvas(dt){if(!this.gl)return this;const{gl:St,data:Zt,canvas:Vt,mapMatrix:Ce,matrix:jt,allVertices:ae,vertices:ue,weight:Pe,aPointSize:He,bytes:de}=this,{scale:we,offset:Se,zoom:wt}=dt;this.scale=we;const Ht=Math.max(wt-4,4);if(St.clear(St.COLOR_BUFFER_BIT),St.viewport(0,0,Vt.width,Vt.height),St.vertexAttrib1f(He,Ht),Ce.setSize(Vt.width,Vt.height).scaleTo(we),wt>18)Ce.translateTo(-Se.x,-Se.y),St.uniformMatrix4fv(jt,!1,Ce.array),St.drawArrays(St.LINES,0,ae.length/de);else if("number"==typeof Pe)for(let Wt=-Pe;Wt<=Pe;Wt+=.5)for(let Nt=-Pe;Nt<=Pe;Nt+=.5)Ce.translateTo(Nt/we-Se.x,Wt/we-Se.y),St.uniformMatrix4fv(jt,!1,Ce.array),St.drawArrays(St.LINES,0,ae.length/de);else if("function"==typeof Pe){let Wt=0;const{features:Nt}=Zt;for(let ht=0;ht<ue.length;ht++){const At=ue[ht],{vertexCount:vt}=At,M=Pe(ht,Nt[ht]);for(let P=-M;P<=M;P+=.5)for(let U=-M;U<=M;U+=.5)Ce.translateTo(U/we-Se.x,P/we-Se.y),St.uniformMatrix4fv(this.matrix,!1,Ce.array),St.drawArrays(St.LINES,Wt,vt);Wt+=vt}}return this}static tryClick(dt,St,Zt){let Vt=null,Ce=null;if(Zt.forEach(jt=>{const{latitudeKey:ae,longitudeKey:ue,sensitivity:Pe,weight:He,scale:de,active:we}=jt;function Se(wt,Ht,Wt,Nt){X(dt.latlng.lng,dt.latlng.lat,Ht[ue],Ht[ae],wt[ue],wt[ae])<=Pe+Nt/de&&(Vt=Wt,Ce=jt)}we&&jt.map===St&&jt.data.features.forEach((wt,Ht)=>{const Wt="function"==typeof He?He(Ht,wt):He,{coordinates:Nt,type:ht}=wt.geometry;if("LineString"===ht)for(let At=1;At<Nt.length;At++)Se(Nt[At],Nt[At-1],wt,Wt);else if("MultiLineString"===ht)for(let At=0;At<Nt.length;At++){const vt=Nt[At];for(let M=0;M<vt.length;M++)if(0===M&&At>0){const P=Nt[At-1];Se(P[P.length-1],Nt[At][M],wt,Wt)}else M>0&&Se(Nt[At][M],Nt[At][M-1],wt,Wt)}})}),Ce&&Vt){const jt=Ce.click(dt,Vt);return void 0!==jt?jt:void 0}}static tryHover(dt,St,Zt){const Vt=[];return Zt.forEach(Ce=>{const{sensitivityHover:jt,latitudeKey:ae,longitudeKey:ue,data:Pe,hoveringFeatures:He,weight:de,scale:we}=Ce;function Se(Nt,ht,At,vt){return X(dt.latlng.lng,dt.latlng.lat,ht[ue],ht[ae],Nt[ue],Nt[ae])<=jt+vt/we&&(Ht.includes(At)||Ht.push(At),!wt.includes(At))}if(!Ce.active||St!==Ce.map)return;const wt=He,Ht=[];Ce.hoveringFeatures=Ht;const Wt=Object(G.geoJSON)(Pe.features).getBounds();(function(Nt,ht){const At=ht.getNorthEast(),vt=ht.getSouthWest();return At.lat>Nt.lat&&Nt.lat>vt.lat&&At.lng>Nt.lng&&Nt.lng>vt.lng})(dt.latlng,Wt)&&Pe.features.forEach((Nt,ht)=>{const At="function"==typeof de?de(ht,Nt):de,{coordinates:vt,type:M}=Nt.geometry;let P=!1;if("LineString"===M)for(let U=1;U<vt.length&&(P=Se(vt[U],vt[U-1],Nt,At),!P);U++);else if("MultiLineString"===M)for(let U=0;U<vt.length;U++){const pt=vt[U];for(let Et=0;Et<pt.length;Et++)if(0===Et&&U>0){const Ot=vt[U-1];if(P=Se(Ot[Ot.length-1],vt[U][Et],Nt,At),P)break}else if(Et>0&&(P=Se(vt[U][Et],vt[U][Et-1],Nt,At),P))break}if(P){const U=Ce.hover(dt,Nt);void 0!==U&&Vt.push(U)}});for(let Nt=0;Nt<wt.length;Nt++){const ht=wt[Nt];Ht.includes(ht)||Ce.hoverOff(dt,ht)}}),Vt}}return Tt.defaults=W,Tt})();const z={color:$,opacity:.8,className:"",sensitivity:2,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4},pointSize:{type:"FLOAT",start:6,size:1}}};class ct extends at{constructor(_t){var dt;super(_t),this.bytes=7,this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[],this.typedVertices=new Float32Array,this.settings={...z,..._t},this.active=!0;const{data:St,map:Zt}=this;if(Array.isArray(St))this.dataFormat="Array";else{if("FeatureCollection"!==St.type)throw new Error("unhandled data type. Supported types are Array and GeoJson.FeatureCollection");this.dataFormat="GeoJson.FeatureCollection"}"EPSG:3857"!==(null===(dt=Zt.options.crs)||void 0===dt?void 0:dt.code)&&console.warn("layer designed for SphericalMercator, alternate detected"),this.setup().render()}get size(){return"number"==typeof this.settings.size||"function"==typeof this.settings.size?this.settings.size:null}render(){this.resetVertices();const{gl:_t,canvas:dt,layer:St,vertices:Zt,mapMatrix:Vt}=this,Ce=this.matrix=this.getUniformLocation("matrix"),jt=this.getBuffer("vertices"),ae=this.typedVertices=new Float32Array(Zt),ue=ae.BYTES_PER_ELEMENT;return Vt.setSize(dt.width,dt.height),_t.viewport(0,0,dt.width,dt.height),_t.uniformMatrix4fv(Ce,!1,Vt.array),_t.bindBuffer(_t.ARRAY_BUFFER,jt),_t.bufferData(_t.ARRAY_BUFFER,ae,_t.STATIC_DRAW),this.attachShaderVariables(ue),St.redraw(),this}getPointLookup(_t){return this.latLngLookup[_t]||(this.latLngLookup[_t]=[])}addLookup(_t){return this.getPointLookup(_t.key).push(_t),this.allLatLngLookup.push(_t),this}resetVertices(){var _t,dt,St,Zt,Vt,Ce;this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[];const{vertices:jt,settings:ae,map:ue,size:Pe,latitudeKey:He,longitudeKey:de,color:we,opacity:Se,data:wt}=this,{eachVertex:Ht}=ae;let Wt,Nt,ht,At,vt,M,P,U=null;if(!we)throw new Error("color is not properly defined");if("function"==typeof we&&(U=we),!Pe)throw new Error("size is not properly defined");if("function"==typeof Pe&&(ht=Pe),"Array"===this.dataFormat){const pt=wt.length;for(let Et=0;Et<pt;Et++){At=wt[Et],P=At[He].toFixed(2)+"x"+At[de].toFixed(2),vt=new G.LatLng(At[He],At[de]),M=ue.project(vt,0),Wt=U?U(Et,vt):we,Wt={...Wt,a:null!==(dt=null!==(_t=Wt.a)&&void 0!==_t?_t:Se)&&void 0!==dt?dt:0},Nt=ht?ht(Et,vt):Pe,jt.push(M.x,M.y,Wt.r,Wt.g,Wt.b,null!==(St=Wt.a)&&void 0!==St?St:0,Nt);const Ot={latLng:vt,key:P,pixel:M,chosenColor:Wt,chosenSize:Nt,feature:At};this.addLookup(Ot),Ht&&Ht(Ot)}}else if("GeoJson.FeatureCollection"===this.dataFormat){const pt=wt.features.length;for(let Et=0;Et<pt;Et++){const Ot=wt.features[Et];At=Ot.geometry.coordinates,P=At[He].toFixed(2)+"x"+At[de].toFixed(2),vt=new G.LatLng(At[He],At[de]),M=ue.project(vt,0),Wt=U?U(Et,Ot):we,Wt={...Wt,a:null!==(Vt=null!==(Zt=Wt.a)&&void 0!==Zt?Zt:Se)&&void 0!==Vt?Vt:0},Nt=ht?ht(Et,vt):Pe,jt.push(M.x,M.y,Wt.r,Wt.g,Wt.b,null!==(Ce=Wt.a)&&void 0!==Ce?Ce:0,Nt);const pe={latLng:vt,key:P,pixel:M,chosenColor:Wt,chosenSize:Nt,feature:Ot};this.addLookup(pe),Ht&&Ht(pe)}}return this}pointSize(_t){const{map:dt,size:St}=this,Zt="function"==typeof St?St(_t,null):St,Vt=dt.getZoom();return null===Zt?Math.max(Vt-4,1):Zt}drawOnCanvas(_t){if(!this.gl)return this;const{gl:dt,canvas:St,mapMatrix:Zt,matrix:Vt,map:Ce,allLatLngLookup:jt}=this,{offset:ae}=_t,ue=Ce.getZoom(),Pe=Math.pow(2,ue);return Zt.setSize(St.width,St.height).scaleTo(Pe).translateTo(-ae.x,-ae.y),dt.clear(dt.COLOR_BUFFER_BIT),dt.viewport(0,0,St.width,St.height),dt.uniformMatrix4fv(Vt,!1,Zt.array),dt.drawArrays(dt.POINTS,0,jt.length),this}lookup(_t){const dt=_t.lat+.03,St=_t.lng+.03,Zt=[];let Vt,Ce,jt,ae,ue,Pe=_t.lat-.03;for(;Pe<=dt;Pe+=.01)for(Vt=_t.lng-.03;Vt<=St;Vt+=.01)if(ue=Pe.toFixed(2)+"x"+Vt.toFixed(2),ae=this.latLngLookup[ue],ae)for(Ce=0,jt=ae.length;Ce<jt;Ce++)Zt.push(ae[Ce]);const{map:He}=this;return ct.closest(_t,Zt.length>0?Zt:this.allLatLngLookup,He)}static closest(_t,dt,St){return dt.length<1?null:dt.reduce((Zt,Vt)=>tt(_t,Zt.latLng,St)<tt(_t,Vt.latLng,St)?Zt:Vt)}static tryClick(_t,dt,St){const Zt=[],Vt={};let Ce,jt,ae=null;if(St.forEach(we=>{ae=we.settings,we.active&&we.map===dt&&(jt=we.lookup(_t.latlng),null!==jt&&(Vt[jt.key]=we,Zt.push(jt)))}),Zt.length<1||!ae)return;const ue=this.closest(_t.latlng,Zt,dt);if(!ue)return;const Pe=Vt[ue.key];if(!Pe)return;const{sensitivity:He}=Pe;return bt(dt.latLngToLayerPoint(ue.latLng),_t.layerPoint,ue.chosenSize*(He??1))?(Ce=Pe.click(_t,ue.feature||ue.latLng),void 0===Ce||Ce):void 0}static tryHover(_t,dt,St){const Zt=[];return St.forEach(Vt=>{if(!Vt.active||Vt.map!==dt)return;const Ce=Vt.lookup(_t.latlng);if(Ce&&bt(dt.latLngToLayerPoint(Ce.latLng),_t.layerPoint,Ce.chosenSize*Vt.sensitivityHover*30)){const jt=Vt.hover(_t,Ce.feature||Ce.latLng);void 0!==jt&&Zt.push(jt)}}),Zt}}ct.defaults=z,ct.maps=[];var gt=Y(1),Mt=Y.n(gt),Ct=Y(2),q=Y.n(Ct);function Pt(Tt){switch(Tt&&Tt.type||null){case"FeatureCollection":return Tt.features=Tt.features.reduce(function(_t,dt){return _t.concat(Pt(dt))},[]),Tt;case"Feature":return Tt.geometry?Pt(Tt.geometry).map(function(_t){var dt={type:"Feature",properties:JSON.parse(JSON.stringify(Tt.properties)),geometry:_t};return void 0!==Tt.id&&(dt.id=Tt.id),dt}):[Tt];case"MultiPoint":return Tt.coordinates.map(function(_t){return{type:"Point",coordinates:_t}});case"MultiPolygon":return Tt.coordinates.map(function(_t){return{type:"Polygon",coordinates:_t}});case"MultiLineString":return Tt.coordinates.map(function(_t){return{type:"LineString",coordinates:_t}});case"GeometryCollection":return Tt.geometries.map(Pt).reduce(function(_t,dt){return _t.concat(dt)},[]);case"Point":case"Polygon":case"LineString":return[Tt]}}const Dt={color:$,className:"",opacity:.5,borderOpacity:1,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}},border:!1};let It=(()=>{class Tt extends at{constructor(dt){if(super(dt),this.bytes=6,this.polygonLookup=null,this.settings={...Tt.defaults,...dt},!dt.data)throw new Error(Q("settings.data"));if(!dt.map)throw new Error(Q("settings.map"));this.setup().render()}get border(){if("boolean"!=typeof this.settings.border)throw new Error(Q("settings.border"));return this.settings.border}get borderOpacity(){if("number"!=typeof this.settings.borderOpacity)throw new Error(Q("settings.borderOpacity"));return this.settings.borderOpacity}render(){this.resetVertices();const{canvas:dt,gl:St,layer:Zt,vertices:Vt,mapMatrix:Ce}=this,jt=this.getBuffer("vertex"),ae=new Float32Array(Vt),ue=ae.BYTES_PER_ELEMENT,Pe=this.getAttributeLocation("vertex");return St.bindBuffer(St.ARRAY_BUFFER,jt),St.bufferData(St.ARRAY_BUFFER,ae,St.STATIC_DRAW),St.vertexAttribPointer(Pe,2,St.FLOAT,!1,ue*this.bytes,0),St.enableVertexAttribArray(Pe),this.matrix=this.getUniformLocation("matrix"),St.viewport(0,0,dt.width,dt.height),Ce.setSize(dt.width,dt.height),St.uniformMatrix4fv(this.matrix,!1,Ce.array),this.attachShaderVariables(ue),Zt.redraw(),this}resetVertices(){this.vertices=[],this.vertexLines=[],this.polygonLookup=new q.a;const{vertices:dt,vertexLines:St,polygonLookup:Zt,map:Vt,border:Ce,opacity:jt,borderOpacity:ae,color:ue,data:Pe}=this;let He,de,we,Se,wt,Ht,Wt,Nt,ht,At,vt=null,M=0;switch(Pe.type){case"Feature":Zt.loadFeatureCollection({type:"FeatureCollection",features:[Pe]}),we=Pt(Pe);break;case"MultiPolygon":Zt.loadFeatureCollection({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:Pe.coordinates}}]}),we=Pt(Pe);break;default:Zt.loadFeatureCollection(Pe),we=Pe.features}const P=we.length;if(!ue)throw new Error(Q("settings.color"));for("function"==typeof ue&&(vt=ue);M<P;M++){Se=we[M],Wt=[],wt=null!==vt?vt(M,Se):ue;const U="number"==typeof wt.a?wt.a:jt;if(Ht=(Se.geometry||Se).coordinates,!Array.isArray(Ht[0]))continue;ht=Mt.a.flatten(Ht),Nt=Mt()(ht.vertices,ht.holes,ht.dimensions),At=Ht[0][0].length;const{longitudeKey:pt,latitudeKey:Et}=this;for(let Ot=0,pe=Nt.length;Ot<pe;Ot++){if(de=Nt[Ot],"number"!=typeof ht.vertices[0])throw new Error("unhandled polygon");Wt.push(ht.vertices[de*At+pt],ht.vertices[de*At+Et])}for(let Ot=0,pe=Wt.length;Ot<pe;Ot)He=Vt.project(new G.LatLng(Wt[Ot++],Wt[Ot++]),0),dt.push(He.x,He.y,wt.r,wt.g,wt.b,U);if(Ce){const Ot=[];for(let pe=1,ye=ht.vertices.length;pe<ye;pe+=2)Ot.push(ht.vertices[pe],ht.vertices[pe-1]),Ot.push(ht.vertices[pe+2],ht.vertices[pe+1]);for(let pe=0,ye=Ot.length;pe<ye;pe)He=V(Ot[pe++],Ot[pe++]),St.push(He.x,He.y,wt.r,wt.g,wt.b,ae)}}return this}drawOnCanvas(dt){if(!this.gl)return this;const{scale:St,offset:Zt,canvas:Vt}=dt,{mapMatrix:Ce,gl:jt,vertices:ae,settings:ue,vertexLines:Pe,border:He}=this;if(Ce.setSize(Vt.width,Vt.height).scaleTo(St).translateTo(-Zt.x,-Zt.y),jt.clear(jt.COLOR_BUFFER_BIT),jt.viewport(0,0,Vt.width,Vt.height),jt.uniformMatrix4fv(this.matrix,!1,Ce.array),He){const de=this.getBuffer("vertexLines"),we=new Float32Array(Pe),Se=we.BYTES_PER_ELEMENT,wt=this.getAttributeLocation("vertex");jt.bindBuffer(jt.ARRAY_BUFFER,null),jt.bindBuffer(jt.ARRAY_BUFFER,de),jt.bufferData(jt.ARRAY_BUFFER,we,jt.STATIC_DRAW),null!==this.settings.shaderVariables&&this.attachShaderVariables(Se),jt.vertexAttribPointer(wt,3,jt.FLOAT,!1,Se*this.bytes,0),jt.enableVertexAttribArray(wt),jt.enable(jt.DEPTH_TEST),jt.viewport(0,0,Vt.width,Vt.height),jt.drawArrays(jt.LINES,0,Pe.length/this.bytes);const Ht=this.getBuffer("vertex"),Wt=new Float32Array(ae);jt.bindBuffer(jt.ARRAY_BUFFER,null),jt.bindBuffer(jt.ARRAY_BUFFER,Ht),jt.bufferData(jt.ARRAY_BUFFER,Wt,jt.STATIC_DRAW),null!==ue.shaderVariables&&this.attachShaderVariables(Se),jt.vertexAttribPointer(wt,2,jt.FLOAT,!1,Se*this.bytes,0),jt.enableVertexAttribArray(wt),jt.enable(jt.DEPTH_TEST),jt.viewport(0,0,Vt.width,Vt.height)}return jt.drawArrays(jt.TRIANGLES,0,ae.length/this.bytes),this}static tryClick(dt,St,Zt){let Vt=null,Ce=null;if(Zt.forEach(function(jt){if(!jt.active||jt.map!==St||!jt.polygonLookup)return;const ae=jt.polygonLookup.search(dt.latlng.lng,dt.latlng.lat);ae&&(Ce=jt,Vt=ae)}),Ce&&Vt){const jt=Ce.click(dt,Vt);return void 0!==jt?jt:void 0}}static tryHover(dt,St,Zt){const Vt=[];let Ce;return Zt.forEach(jt=>{if(jt.active&&jt.map===St&&jt.polygonLookup&&(Ce=jt.polygonLookup.search(dt.latlng.lng,dt.latlng.lat),Ce)){const ae=jt.hover(dt,Ce);void 0!==ae&&Vt.push(ae)}}),Vt}}return Tt.defaults=Dt,Tt})();const ut={vertex:"uniform mat4 matrix;\nattribute vec4 vertex;\nattribute vec4 color;\nattribute float pointSize;\nvarying vec4 _color;\n\nvoid main() {\n  //set the size of the point\n  gl_PointSize = pointSize;\n\n  //multiply each vertex by a matrix.\n  gl_Position = matrix * vertex;\n\n  //pass the color to the fragment shader\n  _color = color;\n}\n",fragment:{dot:"precision mediump float;\nuniform vec4 color;\n\nvoid main() {\n    float border = 0.05;\n    float radius = 0.5;\n    vec2 center = vec2(0.5);\n\n    vec4 color0 = vec4(0.0);\n    vec4 color1 = vec4(color[0], color[1], color[2], color[3]);\n\n    vec2 m = gl_PointCoord.xy - center;\n    float dist = radius - sqrt(m.x * m.x + m.y * m.y);\n\n    float t = 0.0;\n    if (dist > border) {\n        t = 1.0;\n    } else if (dist > 0.0) {\n        t = dist / border;\n    }\n\n    //works for overlapping circles if blending is enabled\n    gl_FragColor = mix(color0, color1, t);\n}\n",point:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  float border = 0.1;\n  float radius = 0.5;\n  vec2 center = vec2(0.5, 0.5);\n\n  vec4 pointColor = vec4(\n    _color[0],\n    _color[1],\n    _color[2],\n    _color[3]\n  );\n\n  vec2 m = gl_PointCoord.xy - center;\n  float dist1 = radius - sqrt(m.x * m.x + m.y * m.y);\n\n  float t1 = 0.0;\n  if (dist1 > border) {\n      t1 = 1.0;\n  } else if (dist1 > 0.0) {\n      t1 = dist1 / border;\n  }\n\n  //works for overlapping circles if blending is enabled\n  //gl_FragColor = mix(color0, color1, t);\n\n  //border\n  float outerBorder = 0.05;\n  float innerBorder = 0.8;\n  vec4 borderColor = vec4(0, 0, 0, 0.4);\n  vec2 uv = gl_PointCoord.xy;\n  vec4 clearColor = vec4(0, 0, 0, 0);\n\n  // Offset uv with the center of the circle.\n  uv -= center;\n\n  float dist2 =  sqrt(dot(uv, uv));\n\n  float t2 = 1.0 + smoothstep(radius, radius + outerBorder, dist2)\n                - smoothstep(radius - innerBorder, radius, dist2);\n\n  gl_FragColor = mix(mix(borderColor, clearColor, t2), pointColor, t1);\n}\n",puck:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  vec2 center = vec2(0.5);\n  vec2 uv = gl_PointCoord.xy - center;\n  float smoothing = 0.005;\n  vec4 _color1 = vec4(_color[0], _color[1], _color[2], _color[3]);\n  float radius1 = 0.3;\n  vec4 _color2 = vec4(_color[0], _color[1], _color[2], _color[3]);\n  float radius2 = 0.5;\n  float dist = length(uv);\n\n  //SMOOTH\n  float gamma = 2.2;\n  color1.rgb = pow(_color1.rgb, vec3(gamma));\n  color2.rgb = pow(_color2.rgb, vec3(gamma));\n\n  vec4 puck = mix(\n    mix(\n      _color1,\n      _color2,\n      smoothstep(\n        radius1 - smoothing,\n        radius1 + smoothing,\n        dist\n      )\n    ),\n    vec4(0,0,0,0),\n      smoothstep(\n        radius2 - smoothing,\n        radius2 + smoothing,\n        dist\n    )\n  );\n\n  //Gamma correction (prevents color fringes)\n  puck.rgb = pow(puck.rgb, vec3(1.0 / gamma));\n  gl_FragColor = puck;\n}\n",simpleCircle:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n    vec4 color1 = vec4(_color[0], _color[1], _color[2], _color[3]);\n\n    //simple circles\n    float d = distance (gl_PointCoord, vec2(0.5, 0.5));\n    if (d < 0.5 ){\n        gl_FragColor = color1;\n    } else {\n        discard;\n    }\n}\n",square:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n    //squares\n    gl_FragColor = vec4(_color[0], _color[1], _color[2], _color[3]);\n}\n",polygon:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  gl_FragColor = vec4(\n    _color[0],\n    _color[1],\n    _color[2],\n    _color[3]\n  );\n}\n"}};class re{constructor(){this.longitudeKey=1,this.latitudeKey=0,this.clickSetupMaps=[],this.hoverSetupMaps=[],this.shader=ut,this.Points=ct,this.Shapes=It,this.Lines=nt,this.pointsInstances=[],this.shapesInstances=[],this.linesInstances=[]}longitudeFirst(){return this.longitudeKey=0,this.latitudeKey=1,this}latitudeFirst(){return this.latitudeKey=0,this.longitudeKey=1,this}get instances(){return[...this.pointsInstances,...this.linesInstances,...this.shapesInstances]}points(_t){const dt=new this.Points({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:se.latitudeKey,longitudeKey:se.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.point,..._t});return this.pointsInstances.push(dt),dt}lines(_t){const dt=new this.Lines({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,..._t});return this.linesInstances.push(dt),dt}shapes(_t){const dt=new this.Shapes({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,..._t});return this.shapesInstances.push(dt),dt}setupClick(_t){this.clickSetupMaps.includes(_t)||(this.clickSetupMaps.push(_t),_t.on("click",dt=>{let St;return St=this.Points.tryClick(dt,_t,this.pointsInstances),void 0!==St?St:(St=this.Lines.tryClick(dt,_t,this.linesInstances),void 0!==St?St:(St=this.Shapes.tryClick(dt,_t,this.shapesInstances),void 0!==St?St:void 0))}))}setupHover(_t,dt,St){this.hoverSetupMaps.includes(_t)||(this.hoverSetupMaps.push(_t),_t.on("mousemove",function(Zt,Vt,Ce){let jt=null;return function(ae){const ue=Ce&&!jt;null!==jt&&clearTimeout(jt),jt=setTimeout(function(){jt=null,Ce||Zt(ae)},Vt),ue&&Zt(ae)}}(Zt=>{this.Points.tryHover(Zt,_t,this.pointsInstances),this.Lines.tryHover(Zt,_t,this.linesInstances),this.Shapes.tryHover(Zt,_t,this.shapesInstances)},dt??0,St)))}}const se=new re;F.default=se,typeof window<"u"&&window.L&&(window.L.glify=se,window.L.Glify=re)}]))},9529:function(Ye,oe){!function(Z){"use strict";var J=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(F){L.Util.setOptions(this,F),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var Y=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,Y?this._withAnimation:this._noAnimation),this._markerCluster=Y?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(F){if(F instanceof L.LayerGroup)return this.addLayers([F]);if(!F.getLatLng)return this._nonPointGroup.addLayer(F),this.fire("layeradd",{layer:F}),this;if(!this._map)return this._needsClustering.push(F),this.fire("layeradd",{layer:F}),this;if(this.hasLayer(F))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(F,this._maxZoom),this.fire("layeradd",{layer:F}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var Y=F,G=this._zoom;if(F.__parent)for(;Y.__parent._zoom>=G;)Y=Y.__parent;return this._currentShownBounds.contains(Y.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(F,Y):this._animationAddLayerNonAnimated(F,Y)),this},removeLayer:function(F){return F instanceof L.LayerGroup?this.removeLayers([F]):F.getLatLng?this._map?F.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(F)),this._removeLayer(F,!0),this.fire("layerremove",{layer:F}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),F.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(F)&&(this._featureGroup.removeLayer(F),F.clusterShow&&F.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,F)&&this.hasLayer(F)&&this._needsRemoving.push({layer:F,latlng:F._latlng}),this.fire("layerremove",{layer:F}),this):(this._nonPointGroup.removeLayer(F),this.fire("layerremove",{layer:F}),this)},addLayers:function(F,Y){if(!L.Util.isArray(F))return this.addLayer(F);var V,G=this._featureGroup,O=this._nonPointGroup,Q=this.options.chunkedLoading,ot=this.options.chunkInterval,st=this.options.chunkProgress,at=F.length,$=0,N=!0;if(this._map){var bt=(new Date).getTime(),X=L.bind(function(){var W=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();$<at&&!(Q&&$%200==0&&(new Date).getTime()-W>ot);$++)if((V=F[$])instanceof L.LayerGroup)N&&(F=F.slice(),N=!1),this._extractNonGroupLayers(V,F),at=F.length;else if(V.getLatLng){if(!this.hasLayer(V)&&(this._addLayer(V,this._maxZoom),Y||this.fire("layeradd",{layer:V}),V.__parent&&2===V.__parent.getChildCount())){var z=V.__parent.getAllChildMarkers();G.removeLayer(z[0]===V?z[1]:z[0])}}else O.addLayer(V),Y||this.fire("layeradd",{layer:V});st&&st($,at,(new Date).getTime()-bt),$===at?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(X,this.options.chunkDelay)},this);X()}else for(var tt=this._needsClustering;$<at;$++)(V=F[$])instanceof L.LayerGroup?(N&&(F=F.slice(),N=!1),this._extractNonGroupLayers(V,F),at=F.length):V.getLatLng?this.hasLayer(V)||tt.push(V):O.addLayer(V);return this},removeLayers:function(F){var Y,G,O=F.length,Q=this._featureGroup,ot=this._nonPointGroup,st=!0;if(!this._map){for(Y=0;Y<O;Y++)(G=F[Y])instanceof L.LayerGroup?(st&&(F=F.slice(),st=!1),this._extractNonGroupLayers(G,F),O=F.length):(this._arraySplice(this._needsClustering,G),ot.removeLayer(G),this.hasLayer(G)&&this._needsRemoving.push({layer:G,latlng:G._latlng}),this.fire("layerremove",{layer:G}));return this}if(this._unspiderfy){this._unspiderfy();var at=F.slice(),$=O;for(Y=0;Y<$;Y++)(G=at[Y])instanceof L.LayerGroup?(this._extractNonGroupLayers(G,at),$=at.length):this._unspiderfyLayer(G)}for(Y=0;Y<O;Y++)(G=F[Y])instanceof L.LayerGroup?(st&&(F=F.slice(),st=!1),this._extractNonGroupLayers(G,F),O=F.length):G.__parent?(this._removeLayer(G,!0,!0),this.fire("layerremove",{layer:G}),Q.hasLayer(G)&&(Q.removeLayer(G),G.clusterShow&&G.clusterShow())):(ot.removeLayer(G),this.fire("layerremove",{layer:G}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(F){F.off(this._childMarkerEventHandlers,this),delete F.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var F=new L.LatLngBounds;this._topClusterLevel&&F.extend(this._topClusterLevel._bounds);for(var Y=this._needsClustering.length-1;Y>=0;Y--)F.extend(this._needsClustering[Y].getLatLng());return F.extend(this._nonPointGroup.getBounds()),F},eachLayer:function(F,Y){var Q,ot,st,G=this._needsClustering.slice(),O=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(G),ot=G.length-1;ot>=0;ot--){for(Q=!0,st=O.length-1;st>=0;st--)if(O[st].layer===G[ot]){Q=!1;break}Q&&F.call(Y,G[ot])}this._nonPointGroup.eachLayer(F,Y)},getLayers:function(){var F=[];return this.eachLayer(function(Y){F.push(Y)}),F},getLayer:function(F){var Y=null;return F=parseInt(F,10),this.eachLayer(function(G){L.stamp(G)===F&&(Y=G)}),Y},hasLayer:function(F){if(!F)return!1;var Y,G=this._needsClustering;for(Y=G.length-1;Y>=0;Y--)if(G[Y]===F)return!0;for(Y=(G=this._needsRemoving).length-1;Y>=0;Y--)if(G[Y].layer===F)return!1;return!(!F.__parent||F.__parent._group!==this)||this._nonPointGroup.hasLayer(F)},zoomToShowLayer:function(F,Y){var G=this._map;"function"!=typeof Y&&(Y=function(){});var O=function(){(G.hasLayer(F)||G.hasLayer(F.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",O,this),this.off("animationend",O,this),G.hasLayer(F)?Y():F.__parent._icon&&(this.once("spiderfied",Y,this),F.__parent.spiderfy()))};F._icon&&this._map.getBounds().contains(F.getLatLng())?Y():F.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",O,this),this._map.panTo(F.getLatLng())):(this._map.on("moveend",O,this),this.on("animationend",O,this),F.__parent.zoomToBounds())},onAdd:function(F){var Y,G,O;if(this._map=F,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(F),this._nonPointGroup.addTo(F),this._gridClusters||this._generateInitialClusters(),this._maxLat=F.options.crs.projection.MAX_LATITUDE,Y=0,G=this._needsRemoving.length;Y<G;Y++)(O=this._needsRemoving[Y]).newlatlng=O.layer._latlng,O.layer._latlng=O.latlng;for(Y=0,G=this._needsRemoving.length;Y<G;Y++)this._removeLayer((O=this._needsRemoving[Y]).layer,!0),O.layer._latlng=O.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),G=this._needsClustering,this._needsClustering=[],this.addLayers(G,!0)},onRemove:function(F){F.off("zoomend",this._zoomEnd,this),F.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(F){for(var Y=F;Y&&!Y._icon;)Y=Y.__parent;return Y||null},_arraySplice:function(F,Y){for(var G=F.length-1;G>=0;G--)if(F[G]===Y)return F.splice(G,1),!0},_removeFromGridUnclustered:function(F,Y){for(var G=this._map,O=this._gridUnclustered,Q=Math.floor(this._map.getMinZoom());Y>=Q&&O[Y].removeObject(F,G.project(F.getLatLng(),Y));Y--);},_childMarkerDragStart:function(F){F.target.__dragStart=F.target._latlng},_childMarkerMoved:function(F){if(!this._ignoreMove&&!F.target.__dragStart){var Y=F.target._popup&&F.target._popup.isOpen();this._moveChild(F.target,F.oldLatLng,F.latlng),Y&&F.target.openPopup()}},_moveChild:function(F,Y,G){F._latlng=Y,this.removeLayer(F),F._latlng=G,this.addLayer(F)},_childMarkerDragEnd:function(F){var Y=F.target.__dragStart;delete F.target.__dragStart,Y&&this._moveChild(F.target,Y,F.target._latlng)},_removeLayer:function(F,Y,G){var O=this._gridClusters,Q=this._gridUnclustered,ot=this._featureGroup,st=this._map,at=Math.floor(this._map.getMinZoom());Y&&this._removeFromGridUnclustered(F,this._maxZoom);var V,$=F.__parent;for(this._arraySplice($._markers,F);$&&($._childCount--,$._boundsNeedUpdate=!0,!($._zoom<at));)Y&&$._childCount<=1?(V=$._markers[0]===F?$._markers[1]:$._markers[0],O[$._zoom].removeObject($,st.project($._cLatLng,$._zoom)),Q[$._zoom].addObject(V,st.project(V.getLatLng(),$._zoom)),this._arraySplice($.__parent._childClusters,$),$.__parent._markers.push(V),V.__parent=$.__parent,$._icon&&(ot.removeLayer($),G||ot.addLayer(V))):$._iconNeedsUpdate=!0,$=$.__parent;delete F.__parent},_isOrIsParent:function(F,Y){for(;Y;){if(F===Y)return!0;Y=Y.parentNode}return!1},fire:function(F,Y,G){if(Y&&Y.layer instanceof L.MarkerCluster){if(Y.originalEvent&&this._isOrIsParent(Y.layer._icon,Y.originalEvent.relatedTarget))return;F="cluster"+F}L.FeatureGroup.prototype.fire.call(this,F,Y,G)},listens:function(F,Y){return L.FeatureGroup.prototype.listens.call(this,F,Y)||L.FeatureGroup.prototype.listens.call(this,"cluster"+F,Y)},_defaultIconCreateFunction:function(F){var Y=F.getChildCount(),G=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+Y+"</span></div>",className:"marker-cluster"+(G+=Y<10?"small":Y<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var F=this._map,G=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),G&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),F.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(F){var Y=F.layer,G=Y;if("clusterkeypress"!==F.type||!F.originalEvent||13===F.originalEvent.keyCode){for(;1===G._childClusters.length;)G=G._childClusters[0];G._zoom===this._maxZoom&&G._childCount===Y._childCount&&this.options.spiderfyOnMaxZoom?Y.spiderfy():this.options.zoomToBoundsOnClick&&Y.zoomToBounds(),this.options.spiderfyOnEveryZoom&&Y.spiderfy(),F.originalEvent&&13===F.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(F){var Y=this._map;this._inZoomAnimation||(this._shownPolygon&&Y.removeLayer(this._shownPolygon),F.layer.getChildCount()>2&&F.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(F.layer.getConvexHull(),this.options.polygonOptions),Y.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var Y=this.options.showCoverageOnHover,Q=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),Y&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),Q.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var F=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),F),this._currentShownBounds=F}},_generateInitialClusters:function(){var F=Math.ceil(this._map.getMaxZoom()),Y=Math.floor(this._map.getMinZoom()),G=this.options.maxClusterRadius,O=G;"function"!=typeof G&&(O=function(){return G}),null!==this.options.disableClusteringAtZoom&&(F=this.options.disableClusteringAtZoom-1),this._maxZoom=F,this._gridClusters={},this._gridUnclustered={};for(var Q=F;Q>=Y;Q--)this._gridClusters[Q]=new L.DistanceGrid(O(Q)),this._gridUnclustered[Q]=new L.DistanceGrid(O(Q));this._topClusterLevel=new this._markerCluster(this,Y-1)},_addLayer:function(F,Y){var ot,st,G=this._gridClusters,O=this._gridUnclustered,Q=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(F),F.on(this._childMarkerEventHandlers,this);Y>=Q;Y--){ot=this._map.project(F.getLatLng(),Y);var at=G[Y].getNearObject(ot);if(at)return at._addChild(F),void(F.__parent=at);if(at=O[Y].getNearObject(ot)){var $=at.__parent;$&&this._removeLayer(at,!1);var N=new this._markerCluster(this,Y,at,F);G[Y].addObject(N,this._map.project(N._cLatLng,Y)),at.__parent=N,F.__parent=N;var V=N;for(st=Y-1;st>$._zoom;st--)V=new this._markerCluster(this,st,V),G[st].addObject(V,this._map.project(at.getLatLng(),st));return $._addChild(V),void this._removeFromGridUnclustered(at,Y)}O[Y].addObject(F,ot)}this._topClusterLevel._addChild(F),F.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(F){F instanceof L.MarkerCluster&&F._iconNeedsUpdate&&F._updateIcon()})},_enqueue:function(F){this._queue.push(F),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var F=0;F<this._queue.length;F++)this._queue[F].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var F=Math.round(this._map._zoom);this._processQueue(),this._zoom<F&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,F)):this._zoom>F?(this._animationStart(),this._animationZoomOut(this._zoom,F)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(F){var Y=this._maxLat;return void 0!==Y&&(F.getNorth()>=Y&&(F._northEast.lat=1/0),F.getSouth()<=-Y&&(F._southWest.lat=-1/0)),F},_animationAddLayerNonAnimated:function(F,Y){if(Y===F)this._featureGroup.addLayer(F);else if(2===Y._childCount){Y._addToMap();var G=Y.getAllChildMarkers();this._featureGroup.removeLayer(G[0]),this._featureGroup.removeLayer(G[1])}else Y._updateIcon()},_extractNonGroupLayers:function(F,Y){var Q,G=F.getLayers(),O=0;for(Y=Y||[];O<G.length;O++)(Q=G[O])instanceof L.LayerGroup?this._extractNonGroupLayers(Q,Y):Y.push(Q);return Y},_overrideMarkerIcon:function(F){return F.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[F]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(F,Y){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Y,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(F,Y){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Y,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(F,Y){this._animationAddLayerNonAnimated(F,Y)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(F,Y){var ot,G=this._getExpandedVisibleBounds(),O=this._featureGroup,Q=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(G,F,Q,function(st){var N,at=st._latlng,$=st._markers;for(G.contains(at)||(at=null),st._isSingleParent()&&F+1===Y?(O.removeLayer(st),st._recursivelyAddChildrenToMap(null,Y,G)):(st.clusterHide(),st._recursivelyAddChildrenToMap(at,Y,G)),ot=$.length-1;ot>=0;ot--)G.contains((N=$[ot])._latlng)||O.removeLayer(N)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(G,Y),O.eachLayer(function(st){!(st instanceof L.MarkerCluster)&&st._icon&&st.clusterShow()}),this._topClusterLevel._recursively(G,F,Y,function(st){st._recursivelyRestoreChildPositions(Y)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(G,F,Q,function(st){O.removeLayer(st),st.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(F,Y){this._animationZoomOutSingle(this._topClusterLevel,F-1,Y),this._topClusterLevel._recursivelyAddChildrenToMap(null,Y,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F,this._getExpandedVisibleBounds())},_animationAddLayer:function(F,Y){var G=this,O=this._featureGroup;O.addLayer(F),Y!==F&&(Y._childCount>2?(Y._updateIcon(),this._forceLayout(),this._animationStart(),F._setPos(this._map.latLngToLayerPoint(Y.getLatLng())),F.clusterHide(),this._enqueue(function(){O.removeLayer(F),F.clusterShow(),G._animationEnd()})):(this._forceLayout(),G._animationStart(),G._animationZoomOutSingle(Y,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(F,Y,G){var O=this._getExpandedVisibleBounds(),Q=Math.floor(this._map.getMinZoom());F._recursivelyAnimateChildrenInAndAddSelfToMap(O,Q,Y+1,G);var ot=this;this._forceLayout(),F._recursivelyBecomeVisible(O,G),this._enqueue(function(){if(1===F._childCount){var st=F._markers[0];this._ignoreMove=!0,st.setLatLng(st.getLatLng()),this._ignoreMove=!1,st.clusterShow&&st.clusterShow()}else F._recursively(O,G,Q,function(at){at._recursivelyRemoveChildrenFromMap(O,Q,Y+1)});ot._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(F){return new L.MarkerClusterGroup(F)};var rt=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(F,Y,G,O){L.Marker.prototype.initialize.call(this,G?G._cLatLng||G.getLatLng():new L.LatLng(0,0),{icon:this,pane:F.options.clusterPane}),this._group=F,this._zoom=Y,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,G&&this._addChild(G),O&&this._addChild(O)},getAllChildMarkers:function(F,Y){F=F||[];for(var G=this._childClusters.length-1;G>=0;G--)this._childClusters[G].getAllChildMarkers(F,Y);for(var O=this._markers.length-1;O>=0;O--)Y&&this._markers[O].__dragStart||F.push(this._markers[O]);return F},getChildCount:function(){return this._childCount},zoomToBounds:function(F){for(var st,Y=this._childClusters.slice(),G=this._group._map,O=G.getBoundsZoom(this._bounds),Q=this._zoom+1,ot=G.getZoom();Y.length>0&&O>Q;){Q++;var at=[];for(st=0;st<Y.length;st++)at=at.concat(Y[st]._childClusters);Y=at}O>Q?this._group._map.setView(this._latlng,Q):O<=ot?this._group._map.setView(this._latlng,ot+1):this._group._map.fitBounds(this._bounds,F)},getBounds:function(){var F=new L.LatLngBounds;return F.extend(this._bounds),F},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(F,Y){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(F),F instanceof L.MarkerCluster?(Y||(this._childClusters.push(F),F.__parent=this),this._childCount+=F._childCount):(Y||this._markers.push(F),this._childCount++),this.__parent&&this.__parent._addChild(F,!0)},_setClusterCenter:function(F){this._cLatLng||(this._cLatLng=F._cLatLng||F._latlng)},_resetBounds:function(){var F=this._bounds;F._southWest&&(F._southWest.lat=1/0,F._southWest.lng=1/0),F._northEast&&(F._northEast.lat=-1/0,F._northEast.lng=-1/0)},_recalculateBounds:function(){var ot,st,at,$,F=this._markers,Y=this._childClusters,G=0,O=0,Q=this._childCount;if(0!==Q){for(this._resetBounds(),ot=0;ot<F.length;ot++)this._bounds.extend(at=F[ot]._latlng),G+=at.lat,O+=at.lng;for(ot=0;ot<Y.length;ot++)(st=Y[ot])._boundsNeedUpdate&&st._recalculateBounds(),this._bounds.extend(st._bounds),G+=(at=st._wLatLng).lat*($=st._childCount),O+=at.lng*$;this._latlng=this._wLatLng=new L.LatLng(G/Q,O/Q),this._boundsNeedUpdate=!1}},_addToMap:function(F){F&&(this._backupLatlng=this._latlng,this.setLatLng(F)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(F,Y,G){this._recursively(F,this._group._map.getMinZoom(),G-1,function(O){var ot,st,Q=O._markers;for(ot=Q.length-1;ot>=0;ot--)(st=Q[ot])._icon&&(st._setPos(Y),st.clusterHide())},function(O){var ot,st,Q=O._childClusters;for(ot=Q.length-1;ot>=0;ot--)(st=Q[ot])._icon&&(st._setPos(Y),st.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(F,Y,G,O){this._recursively(F,O,Y,function(Q){Q._recursivelyAnimateChildrenIn(F,Q._group._map.latLngToLayerPoint(Q.getLatLng()).round(),G),Q._isSingleParent()&&G-1===O?(Q.clusterShow(),Q._recursivelyRemoveChildrenFromMap(F,Y,G)):Q.clusterHide(),Q._addToMap()})},_recursivelyBecomeVisible:function(F,Y){this._recursively(F,this._group._map.getMinZoom(),Y,null,function(G){G.clusterShow()})},_recursivelyAddChildrenToMap:function(F,Y,G){this._recursively(G,this._group._map.getMinZoom()-1,Y,function(O){if(Y!==O._zoom)for(var Q=O._markers.length-1;Q>=0;Q--){var ot=O._markers[Q];G.contains(ot._latlng)&&(F&&(ot._backupLatlng=ot.getLatLng(),ot.setLatLng(F),ot.clusterHide&&ot.clusterHide()),O._group._featureGroup.addLayer(ot))}},function(O){O._addToMap(F)})},_recursivelyRestoreChildPositions:function(F){for(var Y=this._markers.length-1;Y>=0;Y--){var G=this._markers[Y];G._backupLatlng&&(G.setLatLng(G._backupLatlng),delete G._backupLatlng)}if(F-1===this._zoom)for(var O=this._childClusters.length-1;O>=0;O--)this._childClusters[O]._restorePosition();else for(var Q=this._childClusters.length-1;Q>=0;Q--)this._childClusters[Q]._recursivelyRestoreChildPositions(F)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(F,Y,G,O){var Q,ot;this._recursively(F,Y-1,G-1,function(st){for(ot=st._markers.length-1;ot>=0;ot--)Q=st._markers[ot],(!O||!O.contains(Q._latlng))&&(st._group._featureGroup.removeLayer(Q),Q.clusterShow&&Q.clusterShow())},function(st){for(ot=st._childClusters.length-1;ot>=0;ot--)Q=st._childClusters[ot],(!O||!O.contains(Q._latlng))&&(st._group._featureGroup.removeLayer(Q),Q.clusterShow&&Q.clusterShow())})},_recursively:function(F,Y,G,O,Q){var at,$,ot=this._childClusters,st=this._zoom;if(Y<=st&&(O&&O(this),Q&&st===G&&Q(this)),st<Y||st<G)for(at=ot.length-1;at>=0;at--)($=ot[at])._boundsNeedUpdate&&$._recalculateBounds(),F.intersects($._bounds)&&$._recursively(F,Y,G,O,Q)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var F=this.options.opacity;return this.setOpacity(0),this.options.opacity=F,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(F){this._cellSize=F,this._sqCellSize=F*F,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(F,Y){var G=this._getCoord(Y.x),O=this._getCoord(Y.y),Q=this._grid,ot=Q[O]=Q[O]||{},st=ot[G]=ot[G]||[],at=L.Util.stamp(F);this._objectPoint[at]=Y,st.push(F)},updateObject:function(F,Y){this.removeObject(F),this.addObject(F,Y)},removeObject:function(F,Y){var at,$,G=this._getCoord(Y.x),O=this._getCoord(Y.y),Q=this._grid,ot=Q[O]=Q[O]||{},st=ot[G]=ot[G]||[];for(delete this._objectPoint[L.Util.stamp(F)],at=0,$=st.length;at<$;at++)if(st[at]===F)return st.splice(at,1),1===$&&delete ot[G],!0},eachObject:function(F,Y){var G,O,Q,ot,st,at,N=this._grid;for(G in N)for(O in st=N[G])for(Q=0,ot=(at=st[O]).length;Q<ot;Q++)F.call(Y,at[Q])&&(Q--,ot--)},getNearObject:function(F){var O,Q,ot,st,at,$,N,V,Y=this._getCoord(F.x),G=this._getCoord(F.y),bt=this._objectPoint,X=this._sqCellSize,tt=null;for(O=G-1;O<=G+1;O++)if(st=this._grid[O])for(Q=Y-1;Q<=Y+1;Q++)if(at=st[Q])for(ot=0,$=at.length;ot<$;ot++)N=at[ot],((V=this._sqDist(bt[L.Util.stamp(N)],F))<X||V<=X&&null===tt)&&(X=V,tt=N);return tt},_getCoord:function(F){var Y=Math.floor(F/this._cellSize);return isFinite(Y)?Y:F},_sqDist:function(F,Y){var G=Y.x-F.x,O=Y.y-F.y;return G*G+O*O}},L.QuickHull={getDistant:function(F,Y){return(Y[0].lng-Y[1].lng)*(F.lat-Y[0].lat)+(Y[1].lat-Y[0].lat)*(F.lng-Y[0].lng)},findMostDistantPointFromBaseLine:function(F,Y){var ot,st,at,G=0,O=null,Q=[];for(ot=Y.length-1;ot>=0;ot--)(at=this.getDistant(st=Y[ot],F))>0&&(Q.push(st),at>G&&(G=at,O=st));return{maxPoint:O,newPoints:Q}},buildConvexHull:function(F,Y){var G=[],O=this.findMostDistantPointFromBaseLine(F,Y);return O.maxPoint?G=(G=G.concat(this.buildConvexHull([F[0],O.maxPoint],O.newPoints))).concat(this.buildConvexHull([O.maxPoint,F[1]],O.newPoints)):[F[0]]},getConvexHull:function(F){var bt,Y=!1,G=!1,O=!1,Q=!1,ot=null,st=null,at=null,$=null,N=null,V=null;for(bt=F.length-1;bt>=0;bt--){var X=F[bt];(!1===Y||X.lat>Y)&&(ot=X,Y=X.lat),(!1===G||X.lat<G)&&(st=X,G=X.lat),(!1===O||X.lng>O)&&(at=X,O=X.lng),(!1===Q||X.lng<Q)&&($=X,Q=X.lng)}return G!==Y?(V=st,N=ot):(V=$,N=at),[].concat(this.buildConvexHull([V,N],F),this.buildConvexHull([N,V],F))}},L.MarkerCluster.include({getConvexHull:function(){var G,O,F=this.getAllChildMarkers(),Y=[];for(O=F.length-1;O>=0;O--)G=F[O].getLatLng(),Y.push(G);return L.QuickHull.getConvexHull(Y)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var Q,F=this.getAllChildMarkers(null,!0),O=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?Q=this._group.options.spiderfyShapePositions(F.length,O):F.length>=this._circleSpiralSwitchover?Q=this._generatePointsSpiral(F.length,O):(O.y+=10,Q=this._generatePointsCircle(F.length,O)),this._animationSpiderfy(F,Q)}},unspiderfy:function(F){this._group._inZoomAnimation||(this._animationUnspiderfy(F),this._group._spiderfied=null)},_generatePointsCircle:function(F,Y){var st,at,O=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+F)/this._2PI,Q=this._2PI/F,ot=[];for(O=Math.max(O,35),ot.length=F,st=0;st<F;st++)at=this._circleStartAngle+st*Q,ot[st]=new L.Point(Y.x+O*Math.cos(at),Y.y+O*Math.sin(at))._round();return ot},_generatePointsSpiral:function(F,Y){var $,G=this._group.options.spiderfyDistanceMultiplier,O=G*this._spiralLengthStart,Q=G*this._spiralFootSeparation,ot=G*this._spiralLengthFactor*this._2PI,st=0,at=[];for(at.length=F,$=F;$>=0;$--)$<F&&(at[$]=new L.Point(Y.x+O*Math.cos(st),Y.y+O*Math.sin(st))._round()),O+=ot/(st+=Q/O+5e-4*$);return at},_noanimationUnspiderfy:function(){var Q,ot,F=this._group,Y=F._map,G=F._featureGroup,O=this.getAllChildMarkers(null,!0);for(F._ignoreMove=!0,this.setOpacity(1),ot=O.length-1;ot>=0;ot--)G.removeLayer(Q=O[ot]),Q._preSpiderfyLatlng&&(Q.setLatLng(Q._preSpiderfyLatlng),delete Q._preSpiderfyLatlng),Q.setZIndexOffset&&Q.setZIndexOffset(0),Q._spiderLeg&&(Y.removeLayer(Q._spiderLeg),delete Q._spiderLeg);F.fire("unspiderfied",{cluster:this,markers:O}),F._ignoreMove=!1,F._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(F,Y){var st,at,$,N,G=this._group,O=G._map,Q=G._featureGroup,ot=this._group.options.spiderLegPolylineOptions;for(G._ignoreMove=!0,st=0;st<F.length;st++)N=O.layerPointToLatLng(Y[st]),at=F[st],$=new L.Polyline([this._latlng,N],ot),O.addLayer($),at._spiderLeg=$,at._preSpiderfyLatlng=at._latlng,at.setLatLng(N),at.setZIndexOffset&&at.setZIndexOffset(1e6),Q.addLayer(at);this.setOpacity(.3),G._ignoreMove=!1,G.fire("spiderfied",{cluster:this,markers:F})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(F,Y){var bt,X,tt,W,nt,z,G=this,O=this._group,Q=O._map,ot=O._featureGroup,st=this._latlng,at=Q.latLngToLayerPoint(st),$=L.Path.SVG,N=L.extend({},this._group.options.spiderLegPolylineOptions),V=N.opacity;for(void 0===V&&(V=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(N.opacity=0,N.className=(N.className||"")+" leaflet-cluster-spider-leg"):N.opacity=V,O._ignoreMove=!0,bt=0;bt<F.length;bt++)X=F[bt],z=Q.layerPointToLatLng(Y[bt]),tt=new L.Polyline([st,z],N),Q.addLayer(tt),X._spiderLeg=tt,$&&(nt=(W=tt._path).getTotalLength()+.1,W.style.strokeDasharray=nt,W.style.strokeDashoffset=nt),X.setZIndexOffset&&X.setZIndexOffset(1e6),X.clusterHide&&X.clusterHide(),ot.addLayer(X),X._setPos&&X._setPos(at);for(O._forceLayout(),O._animationStart(),bt=F.length-1;bt>=0;bt--)z=Q.layerPointToLatLng(Y[bt]),(X=F[bt])._preSpiderfyLatlng=X._latlng,X.setLatLng(z),X.clusterShow&&X.clusterShow(),$&&((W=(tt=X._spiderLeg)._path).style.strokeDashoffset=0,tt.setStyle({opacity:V}));this.setOpacity(.3),O._ignoreMove=!1,setTimeout(function(){O._animationEnd(),O.fire("spiderfied",{cluster:G,markers:F})},200)},_animationUnspiderfy:function(F){var $,N,V,bt,X,tt,Y=this,G=this._group,O=G._map,Q=G._featureGroup,ot=F?O._latLngToNewLayerPoint(this._latlng,F.zoom,F.center):O.latLngToLayerPoint(this._latlng),st=this.getAllChildMarkers(null,!0),at=L.Path.SVG;for(G._ignoreMove=!0,G._animationStart(),this.setOpacity(1),N=st.length-1;N>=0;N--)($=st[N])._preSpiderfyLatlng&&($.closePopup(),$.setLatLng($._preSpiderfyLatlng),delete $._preSpiderfyLatlng,tt=!0,$._setPos&&($._setPos(ot),tt=!1),$.clusterHide&&($.clusterHide(),tt=!1),tt&&Q.removeLayer($),at&&(X=(bt=(V=$._spiderLeg)._path).getTotalLength()+.1,bt.style.strokeDashoffset=X,V.setStyle({opacity:0})));G._ignoreMove=!1,setTimeout(function(){var W=0;for(N=st.length-1;N>=0;N--)($=st[N])._spiderLeg&&W++;for(N=st.length-1;N>=0;N--)($=st[N])._spiderLeg&&($.clusterShow&&$.clusterShow(),$.setZIndexOffset&&$.setZIndexOffset(0),W>1&&Q.removeLayer($),O.removeLayer($._spiderLeg),delete $._spiderLeg);G._animationEnd(),G.fire("unspiderfied",{cluster:Y,markers:st})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(F){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(F))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(F){this._spiderfied&&this._spiderfied.unspiderfy(F)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(F){F._spiderLeg&&(this._featureGroup.removeLayer(F),F.clusterShow&&F.clusterShow(),F.setZIndexOffset&&F.setZIndexOffset(0),this._map.removeLayer(F._spiderLeg),delete F._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(F){return F?F instanceof L.MarkerClusterGroup?F=F._topClusterLevel.getAllChildMarkers():F instanceof L.LayerGroup?F=F._layers:F instanceof L.MarkerCluster?F=F.getAllChildMarkers():F instanceof L.Marker&&(F=[F]):F=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(F),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(F),this},_flagParentsIconsNeedUpdate:function(F){var Y,G;for(Y in F)for(G=F[Y].__parent;G;)G._iconNeedsUpdate=!0,G=G.__parent},_refreshSingleMarkerModeMarkers:function(F){var Y,G;for(Y in F)this.hasLayer(G=F[Y])&&G.setIcon(this._overrideMarkerIcon(G))}}),L.Marker.include({refreshIconOptions:function(F,Y){var G=this.options.icon;return L.setOptions(G,F),this.setIcon(G),Y&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),Z.MarkerClusterGroup=J,Z.MarkerCluster=rt,Object.defineProperty(Z,"__esModule",{value:!0})}(oe)},8407:function(Ye,oe){!function(Z){"use strict";function rt(v){var T,B,mt,Ut;for(B=1,mt=arguments.length;B<mt;B++)for(T in Ut=arguments[B])v[T]=Ut[T];return v}var F=Object.create||function(){function v(){}return function(T){return v.prototype=T,new v}}();function Y(v,T){var B=Array.prototype.slice;if(v.bind)return v.bind.apply(v,B.call(arguments,1));var mt=B.call(arguments,2);return function(){return v.apply(T,mt.length?mt.concat(B.call(arguments)):arguments)}}var G=0;function O(v){return v._leaflet_id=v._leaflet_id||++G,v._leaflet_id}function Q(v,T,B){var mt,Ut,me,Ze;return Ze=function(){mt=!1,Ut&&(me.apply(B,Ut),Ut=!1)},me=function(){mt?Ut=arguments:(v.apply(B,arguments),setTimeout(Ze,T),mt=!0)},me}function ot(v,T,B){var mt=T[1],Ut=T[0],me=mt-Ut;return v===mt&&B?v:((v-Ut)%me+me)%me+Ut}function st(){return!1}function at(v,T){var B=Math.pow(10,void 0===T?6:T);return Math.round(v*B)/B}function $(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function N(v){return $(v).split(/\s+/)}function V(v,T){for(var B in Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?F(v.options):{}),T)v.options[B]=T[B];return v.options}function bt(v,T,B){var mt=[];for(var Ut in v)mt.push(encodeURIComponent(B?Ut.toUpperCase():Ut)+"="+encodeURIComponent(v[Ut]));return(T&&-1!==T.indexOf("?")?"&":"?")+mt.join("&")}var X=/\{ *([\w_-]+) *\}/g;function tt(v,T){return v.replace(X,function(B,mt){var Ut=T[mt];if(void 0===Ut)throw new Error("No value provided for variable "+B);return"function"==typeof Ut&&(Ut=Ut(T)),Ut})}var W=Array.isArray||function(v){return"[object Array]"===Object.prototype.toString.call(v)};function nt(v,T){for(var B=0;B<v.length;B++)if(v[B]===T)return B;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ct(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var gt=0;function Mt(v){var T=+new Date,B=Math.max(0,16-(T-gt));return gt=T+B,window.setTimeout(v,B)}var Ct=window.requestAnimationFrame||ct("RequestAnimationFrame")||Mt,q=window.cancelAnimationFrame||ct("CancelAnimationFrame")||ct("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function Pt(v,T,B){if(!B||Ct!==Mt)return Ct.call(window,Y(v,T));v.call(T)}function Dt(v){v&&q.call(window,v)}var It={extend:rt,create:F,bind:Y,lastId:G,stamp:O,throttle:Q,wrapNum:ot,falseFn:st,formatNum:at,trim:$,splitWords:N,setOptions:V,getParamString:bt,template:tt,isArray:W,indexOf:nt,emptyImageUrl:z,requestFn:Ct,cancelFn:q,requestAnimFrame:Pt,cancelAnimFrame:Dt};function ut(){}ut.extend=function(v){var T=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},B=T.__super__=this.prototype,mt=F(B);for(var Ut in mt.constructor=T,T.prototype=mt,this)Object.prototype.hasOwnProperty.call(this,Ut)&&"prototype"!==Ut&&"__super__"!==Ut&&(T[Ut]=this[Ut]);return v.statics&&(rt(T,v.statics),delete v.statics),v.includes&&(function re(v){if(!(typeof L>"u")&&L&&L.Mixin){v=W(v)?v:[v];for(var T=0;T<v.length;T++)v[T]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(v.includes),rt.apply(null,[mt].concat(v.includes)),delete v.includes),mt.options&&(v.options=rt(F(mt.options),v.options)),rt(mt,v),mt._initHooks=[],mt.callInitHooks=function(){if(!this._initHooksCalled){B.callInitHooks&&B.callInitHooks.call(this),this._initHooksCalled=!0;for(var me=0,Ze=mt._initHooks.length;me<Ze;me++)mt._initHooks[me].call(this)}},T},ut.include=function(v){return rt(this.prototype,v),this},ut.mergeOptions=function(v){return rt(this.prototype.options,v),this},ut.addInitHook=function(v){var T=Array.prototype.slice.call(arguments,1),B="function"==typeof v?v:function(){this[v].apply(this,T)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(B),this};var se={on:function(v,T,B){if("object"==typeof v)for(var mt in v)this._on(mt,v[mt],T);else for(var Ut=0,me=(v=N(v)).length;Ut<me;Ut++)this._on(v[Ut],T,B);return this},off:function(v,T,B){if(v)if("object"==typeof v)for(var mt in v)this._off(mt,v[mt],T);else for(var Ut=0,me=(v=N(v)).length;Ut<me;Ut++)this._off(v[Ut],T,B);else delete this._events;return this},_on:function(v,T,B){this._events=this._events||{};var mt=this._events[v];mt||(this._events[v]=mt=[]),B===this&&(B=void 0);for(var Ut={fn:T,ctx:B},me=mt,Ze=0,yn=me.length;Ze<yn;Ze++)if(me[Ze].fn===T&&me[Ze].ctx===B)return;me.push(Ut)},_off:function(v,T,B){var mt,Ut,me;if(this._events&&(mt=this._events[v])){if(!T){for(Ut=0,me=mt.length;Ut<me;Ut++)mt[Ut].fn=st;return void delete this._events[v]}if(B===this&&(B=void 0),mt)for(Ut=0,me=mt.length;Ut<me;Ut++){var Ze=mt[Ut];if(Ze.ctx===B&&Ze.fn===T)return Ze.fn=st,this._firingCount&&(this._events[v]=mt=mt.slice()),void mt.splice(Ut,1)}}},fire:function(v,T,B){if(!this.listens(v,B))return this;var mt=rt({},T,{type:v,target:this,sourceTarget:T&&T.sourceTarget||this});if(this._events){var Ut=this._events[v];if(Ut){this._firingCount=this._firingCount+1||1;for(var me=0,Ze=Ut.length;me<Ze;me++){var yn=Ut[me];yn.fn.call(yn.ctx||this,mt)}this._firingCount--}}return B&&this._propagateEvent(mt),this},listens:function(v,T){var B=this._events&&this._events[v];if(B&&B.length)return!0;if(T)for(var mt in this._eventParents)if(this._eventParents[mt].listens(v,T))return!0;return!1},once:function(v,T,B){if("object"==typeof v){for(var mt in v)this.once(mt,v[mt],T);return this}var Ut=Y(function(){this.off(v,T,B).off(v,Ut,B)},this);return this.on(v,T,B).on(v,Ut,B)},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[O(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[O(v)],this},_propagateEvent:function(v){for(var T in this._eventParents)this._eventParents[T].fire(v.type,rt({layer:v.target,propagatedFrom:v.target},v),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var Tt=ut.extend(se);function _t(v,T,B){this.x=B?Math.round(v):v,this.y=B?Math.round(T):T}var dt=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};function St(v,T,B){return v instanceof _t?v:W(v)?new _t(v[0],v[1]):null==v?v:"object"==typeof v&&"x"in v&&"y"in v?new _t(v.x,v.y):new _t(v,T,B)}function Zt(v,T){if(v)for(var B=T?[v,T]:v,mt=0,Ut=B.length;mt<Ut;mt++)this.extend(B[mt])}function Vt(v,T){return!v||v instanceof Zt?v:new Zt(v,T)}function Ce(v,T){if(v)for(var B=T?[v,T]:v,mt=0,Ut=B.length;mt<Ut;mt++)this.extend(B[mt])}function jt(v,T){return v instanceof Ce?v:new Ce(v,T)}function ae(v,T,B){if(isNaN(v)||isNaN(T))throw new Error("Invalid LatLng object: ("+v+", "+T+")");this.lat=+v,this.lng=+T,void 0!==B&&(this.alt=+B)}function ue(v,T,B){return v instanceof ae?v:W(v)&&"object"!=typeof v[0]?3===v.length?new ae(v[0],v[1],v[2]):2===v.length?new ae(v[0],v[1]):null:null==v?v:"object"==typeof v&&"lat"in v?new ae(v.lat,"lng"in v?v.lng:v.lon,v.alt):void 0===T?null:new ae(v,T,B)}_t.prototype={clone:function(){return new _t(this.x,this.y)},add:function(v){return this.clone()._add(St(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(St(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new _t(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new _t(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(v){var T=(v=St(v)).x-this.x,B=v.y-this.y;return Math.sqrt(T*T+B*B)},equals:function(v){return(v=St(v)).x===this.x&&v.y===this.y},contains:function(v){return v=St(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+at(this.x)+", "+at(this.y)+")"}},Zt.prototype={extend:function(v){return v=St(v),this.min||this.max?(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)):(this.min=v.clone(),this.max=v.clone()),this},getCenter:function(v){return new _t((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return new _t(this.min.x,this.max.y)},getTopRight:function(){return new _t(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var T,B;return(v="number"==typeof v[0]||v instanceof _t?St(v):Vt(v))instanceof Zt?(T=v.min,B=v.max):T=B=v,T.x>=this.min.x&&B.x<=this.max.x&&T.y>=this.min.y&&B.y<=this.max.y},intersects:function(v){v=Vt(v);var T=this.min,B=this.max,mt=v.min,Ut=v.max;return Ut.x>=T.x&&mt.x<=B.x&&Ut.y>=T.y&&mt.y<=B.y},overlaps:function(v){v=Vt(v);var T=this.min,B=this.max,mt=v.min,Ut=v.max;return Ut.x>T.x&&mt.x<B.x&&Ut.y>T.y&&mt.y<B.y},isValid:function(){return!(!this.min||!this.max)}},Ce.prototype={extend:function(v){var mt,Ut,T=this._southWest,B=this._northEast;if(v instanceof ae)mt=v,Ut=v;else{if(!(v instanceof Ce))return v?this.extend(ue(v)||jt(v)):this;if(Ut=v._northEast,!(mt=v._southWest)||!Ut)return this}return T||B?(T.lat=Math.min(mt.lat,T.lat),T.lng=Math.min(mt.lng,T.lng),B.lat=Math.max(Ut.lat,B.lat),B.lng=Math.max(Ut.lng,B.lng)):(this._southWest=new ae(mt.lat,mt.lng),this._northEast=new ae(Ut.lat,Ut.lng)),this},pad:function(v){var T=this._southWest,B=this._northEast,mt=Math.abs(T.lat-B.lat)*v,Ut=Math.abs(T.lng-B.lng)*v;return new Ce(new ae(T.lat-mt,T.lng-Ut),new ae(B.lat+mt,B.lng+Ut))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){v="number"==typeof v[0]||v instanceof ae||"lat"in v?ue(v):jt(v);var mt,Ut,T=this._southWest,B=this._northEast;return v instanceof Ce?(mt=v.getSouthWest(),Ut=v.getNorthEast()):mt=Ut=v,mt.lat>=T.lat&&Ut.lat<=B.lat&&mt.lng>=T.lng&&Ut.lng<=B.lng},intersects:function(v){v=jt(v);var T=this._southWest,B=this._northEast,mt=v.getSouthWest(),Ut=v.getNorthEast();return Ut.lat>=T.lat&&mt.lat<=B.lat&&Ut.lng>=T.lng&&mt.lng<=B.lng},overlaps:function(v){v=jt(v);var T=this._southWest,B=this._northEast,mt=v.getSouthWest(),Ut=v.getNorthEast();return Ut.lat>T.lat&&mt.lat<B.lat&&Ut.lng>T.lng&&mt.lng<B.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,T){return!!v&&(v=jt(v),this._southWest.equals(v.getSouthWest(),T)&&this._northEast.equals(v.getNorthEast(),T))},isValid:function(){return!(!this._southWest||!this._northEast)}},ae.prototype={equals:function(v,T){return!!v&&(v=ue(v),Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng))<=(void 0===T?1e-9:T))},toString:function(v){return"LatLng("+at(this.lat,v)+", "+at(this.lng,v)+")"},distanceTo:function(v){return He.distance(this,ue(v))},wrap:function(){return He.wrapLatLng(this)},toBounds:function(v){var T=180*v/40075017,B=T/Math.cos(Math.PI/180*this.lat);return jt([this.lat-T,this.lng-B],[this.lat+T,this.lng+B])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};var v,Pe={latLngToPoint:function(v,T){var B=this.projection.project(v),mt=this.scale(T);return this.transformation._transform(B,mt)},pointToLatLng:function(v,T){var B=this.scale(T),mt=this.transformation.untransform(v,B);return this.projection.unproject(mt)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var T=this.projection.bounds,B=this.scale(v);return new Zt(this.transformation.transform(T.min,B),this.transformation.transform(T.max,B))},infinite:!1,wrapLatLng:function(v){var T=this.wrapLng?ot(v.lng,this.wrapLng,!0):v.lng;return new ae(this.wrapLat?ot(v.lat,this.wrapLat,!0):v.lat,T,v.alt)},wrapLatLngBounds:function(v){var T=v.getCenter(),B=this.wrapLatLng(T),mt=T.lat-B.lat,Ut=T.lng-B.lng;if(0===mt&&0===Ut)return v;var me=v.getSouthWest(),Ze=v.getNorthEast();return new Ce(new ae(me.lat-mt,me.lng-Ut),new ae(Ze.lat-mt,Ze.lng-Ut))}},He=rt({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(v,T){var B=Math.PI/180,mt=v.lat*B,Ut=T.lat*B,me=Math.sin((T.lat-v.lat)*B/2),Ze=Math.sin((T.lng-v.lng)*B/2),yn=me*me+Math.cos(mt)*Math.cos(Ut)*Ze*Ze,Sn=2*Math.atan2(Math.sqrt(yn),Math.sqrt(1-yn));return this.R*Sn}}),we={R:6378137,MAX_LATITUDE:85.0511287798,project:function(v){var T=Math.PI/180,B=this.MAX_LATITUDE,mt=Math.max(Math.min(B,v.lat),-B),Ut=Math.sin(mt*T);return new _t(this.R*v.lng*T,this.R*Math.log((1+Ut)/(1-Ut))/2)},unproject:function(v){var T=180/Math.PI;return new ae((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*T,v.x*T/this.R)},bounds:(v=6378137*Math.PI,new Zt([-v,-v],[v,v]))};function Se(v,T,B,mt){if(W(v))return this._a=v[0],this._b=v[1],this._c=v[2],void(this._d=v[3]);this._a=v,this._b=T,this._c=B,this._d=mt}function wt(v,T,B,mt){return new Se(v,T,B,mt)}Se.prototype={transform:function(v,T){return this._transform(v.clone(),T)},_transform:function(v,T){return v.x=(T=T||1)*(this._a*v.x+this._b),v.y=T*(this._c*v.y+this._d),v},untransform:function(v,T){return new _t((v.x/(T=T||1)-this._b)/this._a,(v.y/T-this._d)/this._c)}};var Ht=rt({},He,{code:"EPSG:3857",projection:we,transformation:function(){var v=.5/(Math.PI*we.R);return wt(v,.5,-v,.5)}()}),Wt=rt({},Ht,{code:"EPSG:900913"});function Nt(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function ht(v,T){var mt,Ut,me,Ze,yn,Sn,B="";for(mt=0,me=v.length;mt<me;mt++){for(Ut=0,Ze=(yn=v[mt]).length;Ut<Ze;Ut++)B+=(Ut?"L":"M")+(Sn=yn[Ut]).x+" "+Sn.y;B+=T?je?"z":"x":""}return B||"M0 0"}var At=document.documentElement.style,vt="ActiveXObject"in window,M=vt&&!document.addEventListener,P="msLaunchUri"in navigator&&!("documentMode"in document),U=Dn("webkit"),pt=Dn("android"),Et=Dn("android 2")||Dn("android 3"),Ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pe=pt&&Dn("Google")&&Ot<537&&!("AudioNode"in window),ye=!!window.opera,xe=!P&&Dn("chrome"),ze=Dn("gecko")&&!U&&!ye&&!vt,Je=!xe&&Dn("safari"),Ve=Dn("phantom"),ln="OTransition"in At,fn=0===navigator.platform.indexOf("Win"),dn=vt&&"transition"in At,xn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Et,cn="MozPerspective"in At,ke=!window.L_DISABLE_3D&&(dn||xn||cn)&&!ln&&!Ve,Kt=typeof orientation<"u"||Dn("mobile"),ge=Kt&&U,Le=Kt&&xn,We=!window.PointerEvent&&window.MSPointerEvent,rn=!(!window.PointerEvent&&!We),bn=!window.L_NO_TOUCH&&(rn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),nn=Kt&&ye,wn=Kt&&ze,zt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qt=function(){var v=!1;try{var T=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",st,T),window.removeEventListener("testPassiveEventSupport",st,T)}catch{}return v}(),Ie=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!Nt("svg").createSVGRect),tn=!je&&function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var T=v.firstChild;return T.style.behavior="url(#default#VML)",T&&"object"==typeof T.adj}catch{return!1}}();function Dn(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var fi={ie:vt,ielt9:M,edge:P,webkit:U,android:pt,android23:Et,androidStock:pe,opera:ye,chrome:xe,gecko:ze,safari:Je,phantom:Ve,opera12:ln,win:fn,ie3d:dn,webkit3d:xn,gecko3d:cn,any3d:ke,mobile:Kt,mobileWebkit:ge,mobileWebkit3d:Le,msPointer:We,pointer:rn,touch:bn,mobileOpera:nn,mobileGecko:wn,retina:zt,passiveEvents:Qt,canvas:Ie,svg:je,vml:tn},sr=We?"MSPointerDown":"pointerdown",dr=We?"MSPointerMove":"pointermove",Qi=We?"MSPointerUp":"pointerup",Po=We?"MSPointerCancel":"pointercancel",Ha={},Wo=!1;function Vi(v,T,B,mt){return"touchstart"===T?function Ft(v,T,B){var mt=Y(function(Ut){Ut.MSPOINTER_TYPE_TOUCH&&Ut.pointerType===Ut.MSPOINTER_TYPE_TOUCH&&tl(Ut),un(Ut,T)});v["_leaflet_touchstart"+B]=mt,v.addEventListener(sr,mt,!1),Wo||(document.addEventListener(sr,$t,!0),document.addEventListener(dr,Fe,!0),document.addEventListener(Qi,en,!0),document.addEventListener(Po,en,!0),Wo=!0)}(v,B,mt):"touchmove"===T?function Un(v,T,B){var mt=function(Ut){Ut.pointerType===(Ut.MSPOINTER_TYPE_MOUSE||"mouse")&&0===Ut.buttons||un(Ut,T)};v["_leaflet_touchmove"+B]=mt,v.addEventListener(dr,mt,!1)}(v,B,mt):"touchend"===T&&function ii(v,T,B){var mt=function(Ut){un(Ut,T)};v["_leaflet_touchend"+B]=mt,v.addEventListener(Qi,mt,!1),v.addEventListener(Po,mt,!1)}(v,B,mt),this}function $t(v){Ha[v.pointerId]=v}function Fe(v){Ha[v.pointerId]&&(Ha[v.pointerId]=v)}function en(v){delete Ha[v.pointerId]}function un(v,T){for(var B in v.touches=[],Ha)v.touches.push(Ha[B]);v.changedTouches=[v],T(v)}var Ii=We?"MSPointerDown":rn?"pointerdown":"touchstart",Ci=We?"MSPointerUp":rn?"pointerup":"touchend",Ri="_leaflet_";var ui,mi,_i,Gt,Te,ho=Re(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fa=Re(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bl="webkitTransition"===fa||"OTransition"===fa?fa+"End":"transitionend";function Li(v){return"string"==typeof v?document.getElementById(v):v}function as(v,T){var B=v.style[T]||v.currentStyle&&v.currentStyle[T];if((!B||"auto"===B)&&document.defaultView){var mt=document.defaultView.getComputedStyle(v,null);B=mt?mt[T]:null}return"auto"===B?null:B}function Yi(v,T,B){var mt=document.createElement(v);return mt.className=T||"",B&&B.appendChild(mt),mt}function Wr(v){var T=v.parentNode;T&&T.removeChild(v)}function Ml(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function Ja(v){var T=v.parentNode;T&&T.lastChild!==v&&T.appendChild(v)}function ss(v){var T=v.parentNode;T&&T.firstChild!==v&&T.insertBefore(v,T.firstChild)}function Pr(v,T){if(void 0!==v.classList)return v.classList.contains(T);var B=kl(v);return B.length>0&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(B)}function Or(v,T){if(void 0!==v.classList)for(var B=N(T),mt=0,Ut=B.length;mt<Ut;mt++)v.classList.add(B[mt]);else if(!Pr(v,T)){var me=kl(v);Os(v,(me?me+" ":"")+T)}}function fr(v,T){void 0!==v.classList?v.classList.remove(T):Os(v,$((" "+kl(v)+" ").replace(" "+T+" "," ")))}function Os(v,T){void 0===v.className.baseVal?v.className=T:v.className.baseVal=T}function kl(v){return v.correspondingElement&&(v=v.correspondingElement),void 0===v.className.baseVal?v.className:v.className.baseVal}function ie(v,T){"opacity"in v.style?v.style.opacity=T:"filter"in v.style&&function Me(v,T){var B=!1,mt="DXImageTransform.Microsoft.Alpha";try{B=v.filters.item(mt)}catch{if(1===T)return}T=Math.round(100*T),B?(B.Enabled=100!==T,B.Opacity=T):v.style.filter+=" progid:"+mt+"(opacity="+T+")"}(v,T)}function Re(v){for(var T=document.documentElement.style,B=0;B<v.length;B++)if(v[B]in T)return v[B];return!1}function qe(v,T,B){var mt=T||new _t(0,0);v.style[ho]=(dn?"translate("+mt.x+"px,"+mt.y+"px)":"translate3d("+mt.x+"px,"+mt.y+"px,0)")+(B?" scale("+B+")":"")}function sn(v,T){v._leaflet_pos=T,ke?qe(v,T):(v.style.left=T.x+"px",v.style.top=T.y+"px")}function Zn(v){return v._leaflet_pos||new _t(0,0)}if("onselectstart"in document)ui=function(){Pn(window,"selectstart",tl)},mi=function(){Rr(window,"selectstart",tl)};else{var yo=Re(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ui=function(){if(yo){var v=document.documentElement.style;_i=v[yo],v[yo]="none"}},mi=function(){yo&&(document.documentElement.style[yo]=_i,_i=void 0)}}function Ns(){Pn(window,"dragstart",tl)}function pr(){Rr(window,"dragstart",tl)}function Ue(v){for(;-1===v.tabIndex;)v=v.parentNode;v.style&&(_n(),Gt=v,Te=v.style.outline,v.style.outline="none",Pn(window,"keydown",_n))}function _n(){Gt&&(Gt.style.outline=Te,Gt=void 0,Te=void 0,Rr(window,"keydown",_n))}function Hn(v){do{v=v.parentNode}while(!(v.offsetWidth&&v.offsetHeight||v===document.body));return v}function Ke(v){var T=v.getBoundingClientRect();return{x:T.width/v.offsetWidth||1,y:T.height/v.offsetHeight||1,boundingClientRect:T}}var Ti={TRANSFORM:ho,TRANSITION:fa,TRANSITION_END:bl,get:Li,getStyle:as,create:Yi,remove:Wr,empty:Ml,toFront:Ja,toBack:ss,hasClass:Pr,addClass:Or,removeClass:fr,setClass:Os,getClass:kl,setOpacity:ie,testProp:Re,setTransform:qe,setPosition:sn,getPosition:Zn,disableTextSelection:ui,enableTextSelection:mi,disableImageDrag:Ns,enableImageDrag:pr,preventOutline:Ue,restoreOutline:_n,getSizedParentNode:Hn,getScale:Ke};function Pn(v,T,B,mt){if("object"==typeof T)for(var Ut in T)Hc(v,Ut,T[Ut],B);else for(var me=0,Ze=(T=N(T)).length;me<Ze;me++)Hc(v,T[me],B,mt);return this}var ci="_leaflet_events";function Rr(v,T,B,mt){if("object"==typeof T)for(var Ut in T)ls(v,Ut,T[Ut],B);else if(T)for(var me=0,Ze=(T=N(T)).length;me<Ze;me++)ls(v,T[me],B,mt);else{for(var yn in v[ci])ls(v,yn,v[ci][yn]);delete v[ci]}return this}function tc(){if(rn)return!(P||Je)}var Js={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hc(v,T,B,mt){var Ut=T+O(B)+(mt?"_"+O(mt):"");if(v[ci]&&v[ci][Ut])return this;var me=function(yn){return B.call(mt||v,yn||window.event)},Ze=me;rn&&0===T.indexOf("touch")?Vi(v,T,me,Ut):bn&&"dblclick"===T&&!tc()?function hr(v,T,B){var mt,Ut,me=!1,Ze=250;function yn(Yn){if(rn){if(!Yn.isPrimary||"mouse"===Yn.pointerType)return}else if(Yn.touches.length>1)return;var hi=Date.now(),cr=hi-(mt||hi);Ut=Yn.touches?Yn.touches[0]:Yn,me=cr>0&&cr<=Ze,mt=hi}function Sn(Yn){if(me&&!Ut.cancelBubble){if(rn){if("mouse"===Yn.pointerType)return;var cr,Oo,hi={};for(Oo in Ut)hi[Oo]=(cr=Ut[Oo])&&cr.bind?cr.bind(Ut):cr;Ut=hi}Ut.type="dblclick",Ut.button=0,T(Ut),mt=null}}return v[Ri+Ii+B]=yn,v[Ri+Ci+B]=Sn,v[Ri+"dblclick"+B]=T,v.addEventListener(Ii,yn,!!Qt&&{passive:!1}),v.addEventListener(Ci,Sn,!!Qt&&{passive:!1}),v.addEventListener("dblclick",T,!1),this}(v,me,Ut):"addEventListener"in v?"touchstart"===T||"touchmove"===T||"wheel"===T||"mousewheel"===T?v.addEventListener(Js[T]||T,me,!!Qt&&{passive:!1}):"mouseenter"===T||"mouseleave"===T?v.addEventListener(Js[T],me=function(yn){yn=yn||window.event,xl(v,yn)&&Ze(yn)},!1):v.addEventListener(T,Ze,!1):"attachEvent"in v&&v.attachEvent("on"+T,me),v[ci]=v[ci]||{},v[ci][Ut]=me}function ls(v,T,B,mt){var Ut=T+O(B)+(mt?"_"+O(mt):""),me=v[ci]&&v[ci][Ut];if(!me)return this;rn&&0===T.indexOf("touch")?function sa(v,T,B){var mt=v["_leaflet_"+T+B];return"touchstart"===T?v.removeEventListener(sr,mt,!1):"touchmove"===T?v.removeEventListener(dr,mt,!1):"touchend"===T&&(v.removeEventListener(Qi,mt,!1),v.removeEventListener(Po,mt,!1)),this}(v,T,Ut):bn&&"dblclick"===T&&!tc()?function oo(v,T){var mt=v[Ri+Ci+T],Ut=v[Ri+"dblclick"+T];return v.removeEventListener(Ii,v[Ri+Ii+T],!!Qt&&{passive:!1}),v.removeEventListener(Ci,mt,!!Qt&&{passive:!1}),v.removeEventListener("dblclick",Ut,!1),this}(v,Ut):"removeEventListener"in v?v.removeEventListener(Js[T]||T,me,!1):"detachEvent"in v&&v.detachEvent("on"+T,me),v[ci][Ut]=null}function So(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,Bl(v),this}function pd(v){return Hc(v,"wheel",So),this}function Ws(v){return Pn(v,"mousedown touchstart dblclick",So),Hc(v,"click",fc),this}function tl(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function El(v){return tl(v),So(v),this}function Xa(v,T){if(!T)return new _t(v.clientX,v.clientY);var B=Ke(T),mt=B.boundingClientRect;return new _t((v.clientX-mt.left)/B.x-T.clientLeft,(v.clientY-mt.top)/B.y-T.clientTop)}var Fl=fn&&xe?2*window.devicePixelRatio:ze?window.devicePixelRatio:1;function Sc(v){return P?v.wheelDeltaY/2:v.deltaY&&0===v.deltaMode?-v.deltaY/Fl:v.deltaY&&1===v.deltaMode?20*-v.deltaY:v.deltaY&&2===v.deltaMode?60*-v.deltaY:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?20*-v.detail:v.detail?v.detail/-32765*60:0}var Zs={};function fc(v){Zs[v.type]=!0}function Bl(v){var T=Zs[v.type];return Zs[v.type]=!1,T}function xl(v,T){var B=T.relatedTarget;if(!B)return!0;try{for(;B&&B!==v;)B=B.parentNode}catch{return!1}return B!==v}var Bo={on:Pn,off:Rr,stopPropagation:So,disableScrollPropagation:pd,disableClickPropagation:Ws,preventDefault:tl,stop:El,getMousePosition:Xa,getWheelDelta:Sc,fakeStop:fc,skipped:Bl,isExternalTarget:xl,addListener:Pn,removeListener:Rr},$o=Tt.extend({run:function(v,T,B,mt){this.stop(),this._el=v,this._inProgress=!0,this._duration=B||.25,this._easeOutPower=1/Math.max(mt||.5,.2),this._startPos=Zn(v),this._offset=T.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(v){var T=+new Date-this._startTime,B=1e3*this._duration;T<B?this._runFrame(this._easeOut(T/B),v):(this._runFrame(1),this._complete())},_runFrame:function(v,T){var B=this._startPos.add(this._offset.multiplyBy(v));T&&B._round(),sn(this._el,B),this.fire("step")},_complete:function(){Dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),Nr=Tt.extend({options:{crs:Ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,T){T=V(this,T),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=Y(this._onResize,this),this._initEvents(),T.maxBounds&&this.setMaxBounds(T.maxBounds),void 0!==T.zoom&&(this._zoom=this._limitZoom(T.zoom)),T.center&&void 0!==T.zoom&&this.setView(ue(T.center),T.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fa&&ke&&!nn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pn(this._proxy,bl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,T,B){return T=void 0===T?this._zoom:this._limitZoom(T),v=this._limitCenter(ue(v),T,this.options.maxBounds),B=B||{},this._stop(),this._loaded&&!B.reset&&!0!==B&&(void 0!==B.animate&&(B.zoom=rt({animate:B.animate},B.zoom),B.pan=rt({animate:B.animate,duration:B.duration},B.pan)),this._zoom!==T?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,T,B.zoom):this._tryAnimatedPan(v,B.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(v,T),this)},setZoom:function(v,T){return this._loaded?this.setView(this.getCenter(),v,{zoom:T}):(this._zoom=v,this)},zoomIn:function(v,T){return this.setZoom(this._zoom+(v=v||(ke?this.options.zoomDelta:1)),T)},zoomOut:function(v,T){return this.setZoom(this._zoom-(v=v||(ke?this.options.zoomDelta:1)),T)},setZoomAround:function(v,T,B){var mt=this.getZoomScale(T),Ut=this.getSize().divideBy(2),Ze=(v instanceof _t?v:this.latLngToContainerPoint(v)).subtract(Ut).multiplyBy(1-1/mt),yn=this.containerPointToLatLng(Ut.add(Ze));return this.setView(yn,T,{zoom:B})},_getBoundsCenterZoom:function(v,T){T=T||{},v=v.getBounds?v.getBounds():jt(v);var B=St(T.paddingTopLeft||T.padding||[0,0]),mt=St(T.paddingBottomRight||T.padding||[0,0]),Ut=this.getBoundsZoom(v,!1,B.add(mt));if((Ut="number"==typeof T.maxZoom?Math.min(T.maxZoom,Ut):Ut)===1/0)return{center:v.getCenter(),zoom:Ut};var me=mt.subtract(B).divideBy(2),Ze=this.project(v.getSouthWest(),Ut),yn=this.project(v.getNorthEast(),Ut);return{center:this.unproject(Ze.add(yn).divideBy(2).add(me),Ut),zoom:Ut}},fitBounds:function(v,T){if(!(v=jt(v)).isValid())throw new Error("Bounds are not valid.");var B=this._getBoundsCenterZoom(v,T);return this.setView(B.center,B.zoom,T)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,T){return this.setView(v,this._zoom,{pan:T})},panBy:function(v,T){if(T=T||{},!(v=St(v).round()).x&&!v.y)return this.fire("moveend");if(!0!==T.animate&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $o,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),T.noMoveStart||this.fire("movestart"),!1!==T.animate){Or(this._mapPane,"leaflet-pan-anim");var B=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,B,T.duration||.25,T.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,T,B){if(!1===(B=B||{}).animate||!ke)return this.setView(v,T,B);this._stop();var mt=this.project(this.getCenter()),Ut=this.project(v),me=this.getSize(),Ze=this._zoom;v=ue(v),T=void 0===T?Ze:T;var yn=Math.max(me.x,me.y),Sn=yn*this.getZoomScale(Ze,T),Yn=Ut.distanceTo(mt)||1,hi=1.42,cr=hi*hi;function Oo(Ae){var Oi=(Sn*Sn-yn*yn+(Ae?-1:1)*cr*cr*Yn*Yn)/(2*(Ae?Sn:yn)*cr*Yn),oi=Math.sqrt(Oi*Oi+1)-Oi;return oi<1e-9?-18:Math.log(oi)}function ku(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function md(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}var rc=Oo(0);function R(Ae){return yn*(md(rc)*function Zl(Ae){return ku(Ae)/md(Ae)}(rc+hi*Ae)-ku(rc))/cr}var Bt=Date.now(),Yt=(Oo(1)-rc)/hi,le=B.duration?1e3*B.duration:1e3*Yt*.8;return this._moveStart(!0,B.noMoveStart),function ve(){var Ae=(Date.now()-Bt)/le,gn=function ft(Ae){return 1-Math.pow(1-Ae,1.5)}(Ae)*Yt;Ae<=1?(this._flyToFrame=Pt(ve,this),this._move(this.unproject(mt.add(Ut.subtract(mt).multiplyBy(R(gn)/Yn)),Ze),this.getScaleZoom(yn/function Oe(Ae){return yn*(md(rc)/md(rc+hi*Ae))}(gn),Ze),{flyTo:!0})):this._move(v,T)._moveEnd(!0)}.call(this),this},flyToBounds:function(v,T){var B=this._getBoundsCenterZoom(v,T);return this.flyTo(B.center,B.zoom,T)},setMaxBounds:function(v){return(v=jt(v)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(v){var T=this.options.minZoom;return this.options.minZoom=v,this._loaded&&T!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var T=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&T!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,T){this._enforcingBounds=!0;var B=this.getCenter(),mt=this._limitCenter(B,this._zoom,jt(v));return B.equals(mt)||this.panTo(mt,T),this._enforcingBounds=!1,this},panInside:function(v,T){var B=St((T=T||{}).paddingTopLeft||T.padding||[0,0]),mt=St(T.paddingBottomRight||T.padding||[0,0]),Ut=this.getCenter(),me=this.project(Ut),Ze=this.project(v),yn=this.getPixelBounds(),Sn=yn.getSize().divideBy(2),Yn=Vt([yn.min.add(B),yn.max.subtract(mt)]);if(!Yn.contains(Ze)){this._enforcingBounds=!0;var hi=me.subtract(Ze),cr=St(Ze.x+hi.x,Ze.y+hi.y);(Ze.x<Yn.min.x||Ze.x>Yn.max.x)&&(cr.x=me.x-hi.x,hi.x>0?cr.x+=Sn.x-B.x:cr.x-=Sn.x-mt.x),(Ze.y<Yn.min.y||Ze.y>Yn.max.y)&&(cr.y=me.y-hi.y,hi.y>0?cr.y+=Sn.y-B.y:cr.y-=Sn.y-mt.y),this.panTo(this.unproject(cr),T),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=rt({animate:!1,pan:!0},!0===v?{animate:!0}:v);var T=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var B=this.getSize(),mt=T.divideBy(2).round(),Ut=B.divideBy(2).round(),me=mt.subtract(Ut);return me.x||me.y?(v.animate&&v.pan?this.panBy(me):(v.pan&&this._rawPanBy(me),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:T,newSize:B})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=rt({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var T=Y(this._handleGeolocationResponse,this),B=Y(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(T,B,v):navigator.geolocation.getCurrentPosition(T,B,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){var T=v.code,B=v.message||(1===T?"permission denied":2===T?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:T,message:"Geolocation error: "+B+"."})},_handleGeolocationResponse:function(v){var mt=new ae(v.coords.latitude,v.coords.longitude),Ut=mt.toBounds(2*v.coords.accuracy),me=this._locateOptions;if(me.setView){var Ze=this.getBoundsZoom(Ut);this.setView(mt,me.maxZoom?Math.min(Ze,me.maxZoom):Ze)}var yn={latlng:mt,bounds:Ut,timestamp:v.timestamp};for(var Sn in v.coords)"number"==typeof v.coords[Sn]&&(yn[Sn]=v.coords[Sn]);this.fire("locationfound",yn)},addHandler:function(v,T){if(!T)return this;var B=this[v]=new T(this);return this._handlers.push(B),this.options[v]&&B.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var v;for(v in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Wr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[v].remove();for(v in this._panes)Wr(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,T){var mt=Yi("div","leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),T||this._mapPane);return v&&(this._panes[v]=mt),mt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds();return new Ce(this.unproject(v.getBottomLeft()),this.unproject(v.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,T,B){v=jt(v),B=St(B||[0,0]);var mt=this.getZoom()||0,Ut=this.getMinZoom(),me=this.getMaxZoom(),Ze=v.getNorthWest(),yn=v.getSouthEast(),Sn=this.getSize().subtract(B),Yn=Vt(this.project(yn,mt),this.project(Ze,mt)).getSize(),hi=ke?this.options.zoomSnap:1,cr=Sn.x/Yn.x,Oo=Sn.y/Yn.y,ku=T?Math.max(cr,Oo):Math.min(cr,Oo);return mt=this.getScaleZoom(ku,mt),hi&&(mt=Math.round(mt/(hi/100))*(hi/100),mt=T?Math.ceil(mt/hi)*hi:Math.floor(mt/hi)*hi),Math.max(Ut,Math.min(me,mt))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,T){var B=this._getTopLeftPoint(v,T);return new Zt(B,B.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(void 0===v?this.getZoom():v)},getPane:function(v){return"string"==typeof v?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,T){var B=this.options.crs;return T=void 0===T?this._zoom:T,B.scale(v)/B.scale(T)},getScaleZoom:function(v,T){var B=this.options.crs,mt=B.zoom(v*B.scale(T=void 0===T?this._zoom:T));return isNaN(mt)?1/0:mt},project:function(v,T){return T=void 0===T?this._zoom:T,this.options.crs.latLngToPoint(ue(v),T)},unproject:function(v,T){return T=void 0===T?this._zoom:T,this.options.crs.pointToLatLng(St(v),T)},layerPointToLatLng:function(v){var T=St(v).add(this.getPixelOrigin());return this.unproject(T)},latLngToLayerPoint:function(v){return this.project(ue(v))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(ue(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(jt(v))},distance:function(v,T){return this.options.crs.distance(ue(v),ue(T))},containerPointToLayerPoint:function(v){return St(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return St(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var T=this.containerPointToLayerPoint(St(v));return this.layerPointToLatLng(T)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(v)))},mouseEventToContainerPoint:function(v){return Xa(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var T=this._container=Li(v);if(!T)throw new Error("Map container not found.");if(T._leaflet_id)throw new Error("Map container is already initialized.");Pn(T,"scroll",this._onScroll,this),this._containerId=O(T)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke,Or(v,"leaflet-container"+(bn?" leaflet-touch":"")+(zt?" leaflet-retina":"")+(M?" leaflet-oldie":"")+(Je?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var T=as(v,"position");"absolute"!==T&&"relative"!==T&&"fixed"!==T&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),sn(this._mapPane,new _t(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Or(v.markerPane,"leaflet-zoom-hide"),Or(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,T){sn(this._mapPane,new _t(0,0));var B=!this._loaded;this._loaded=!0,T=this._limitZoom(T),this.fire("viewprereset");var mt=this._zoom!==T;this._moveStart(mt,!1)._move(v,T)._moveEnd(mt),this.fire("viewreset"),B&&this.fire("load")},_moveStart:function(v,T){return v&&this.fire("zoomstart"),T||this.fire("movestart"),this},_move:function(v,T,B){void 0===T&&(T=this._zoom);var mt=this._zoom!==T;return this._zoom=T,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),(mt||B&&B.pinch)&&this.fire("zoom",B),this.fire("move",B)},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){sn(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[O(this._container)]=this;var T=v?Rr:Pn;T(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&T(window,"resize",this._onResize,this),ke&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Dt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,T){for(var mt,B=[],Ut="mouseout"===T||"mouseover"===T,me=v.target||v.srcElement,Ze=!1;me;){if((mt=this._targets[O(me)])&&("click"===T||"preclick"===T)&&!v._simulated&&this._draggableMoved(mt)){Ze=!0;break}if(mt&&mt.listens(T,!0)&&(Ut&&!xl(me,v)||(B.push(mt),Ut))||me===this._container)break;me=me.parentNode}return!B.length&&!Ze&&!Ut&&xl(me,v)&&(B=[this]),B},_handleDOMEvent:function(v){if(this._loaded&&!Bl(v)){var T=v.type;("mousedown"===T||"keypress"===T||"keyup"===T||"keydown"===T)&&Ue(v.target||v.srcElement),this._fireDOMEvent(v,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,T,B){if("click"===v.type){var mt=rt({},v);mt.type="preclick",this._fireDOMEvent(mt,mt.type,B)}if(!v._stopped&&(B=(B||[]).concat(this._findEventTargets(v,T))).length){var Ut=B[0];"contextmenu"===T&&Ut.listens(T,!0)&&tl(v);var me={originalEvent:v};if("keypress"!==v.type&&"keydown"!==v.type&&"keyup"!==v.type){var Ze=Ut.getLatLng&&(!Ut._radius||Ut._radius<=10);me.containerPoint=Ze?this.latLngToContainerPoint(Ut.getLatLng()):this.mouseEventToContainerPoint(v),me.layerPoint=this.containerPointToLayerPoint(me.containerPoint),me.latlng=Ze?Ut.getLatLng():this.layerPointToLatLng(me.layerPoint)}for(var yn=0;yn<B.length;yn++)if(B[yn].fire(T,me,!0),me.originalEvent._stopped||!1===B[yn].options.bubblingMouseEvents&&-1!==nt(this._mouseEvents,T))return}},_draggableMoved:function(v){return(v=v.dragging&&v.dragging.enabled()?v:this).dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,T=this._handlers.length;v<T;v++)this._handlers[v].disable()},whenReady:function(v,T){return this._loaded?v.call(T||this,{target:this}):this.on("load",v,T),this},_getMapPanePos:function(){return Zn(this._mapPane)||new _t(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,T){return(v&&void 0!==T?this._getNewPixelOrigin(v,T):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,T){var B=this.getSize()._divideBy(2);return this.project(v,T)._subtract(B)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,T,B){var mt=this._getNewPixelOrigin(B,T);return this.project(v,T)._subtract(mt)},_latLngBoundsToNewLayerBounds:function(v,T,B){var mt=this._getNewPixelOrigin(B,T);return Vt([this.project(v.getSouthWest(),T)._subtract(mt),this.project(v.getNorthWest(),T)._subtract(mt),this.project(v.getSouthEast(),T)._subtract(mt),this.project(v.getNorthEast(),T)._subtract(mt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,T,B){if(!B)return v;var mt=this.project(v,T),Ut=this.getSize().divideBy(2),me=new Zt(mt.subtract(Ut),mt.add(Ut)),Ze=this._getBoundsOffset(me,B,T);return Ze.round().equals([0,0])?v:this.unproject(mt.add(Ze),T)},_limitOffset:function(v,T){if(!T)return v;var B=this.getPixelBounds(),mt=new Zt(B.min.add(v),B.max.add(v));return v.add(this._getBoundsOffset(mt,T))},_getBoundsOffset:function(v,T,B){var mt=Vt(this.project(T.getNorthEast(),B),this.project(T.getSouthWest(),B)),Ut=mt.min.subtract(v.min),me=mt.max.subtract(v.max);return new _t(this._rebound(Ut.x,-me.x),this._rebound(Ut.y,-me.y))},_rebound:function(v,T){return v+T>0?Math.round(v-T)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(T))},_limitZoom:function(v){var T=this.getMinZoom(),B=this.getMaxZoom(),mt=ke?this.options.zoomSnap:1;return mt&&(v=Math.round(v/mt)*mt),Math.max(T,Math.min(B,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,T){var B=this._getCenterOffset(v)._trunc();return!(!0!==(T&&T.animate)&&!this.getSize().contains(B)||(this.panBy(B,T),0))},_createAnimProxy:function(){var v=this._proxy=Yi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(T){var B=ho,mt=this._proxy.style[B];qe(this._proxy,this.project(T.center,T.zoom),this.getZoomScale(T.zoom,1)),mt===this._proxy.style[B]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),T=this.getZoom();qe(this._proxy,this.project(v,T),this.getZoomScale(T,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,T,B){if(this._animatingZoom)return!0;if(B=B||{},!this._zoomAnimated||!1===B.animate||this._nothingToAnimate()||Math.abs(T-this._zoom)>this.options.zoomAnimationThreshold)return!1;var mt=this.getZoomScale(T),Ut=this._getCenterOffset(v)._divideBy(1-1/mt);return!(!0!==B.animate&&!this.getSize().contains(Ut)||(Pt(function(){this._moveStart(!0,!1)._animateZoom(v,T,!0)},this),0))},_animateZoom:function(v,T,B,mt){this._mapPane&&(B&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=T,Or(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:T,noUpdate:mt}),setTimeout(Y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Pt(function(){this._moveEnd(!0)},this))}});var Tn=ut.extend({options:{position:"topright"},initialize:function(v){V(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var T=this._map;return T&&T.removeControl(this),this.options.position=v,T&&T.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var T=this._container=this.onAdd(v),B=this.getPosition(),mt=v._controlCorners[B];return Or(T,"leaflet-control"),-1!==B.indexOf("bottom")?mt.insertBefore(T,mt.firstChild):mt.appendChild(T),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),$e=function(v){return new Tn(v)};Nr.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},T="leaflet-",B=this._controlContainer=Yi("div",T+"control-container",this._container);function mt(Ut,me){v[Ut+me]=Yi("div",T+Ut+" "+T+me,B)}mt("top","left"),mt("top","right"),mt("bottom","left"),mt("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)Wr(this._controlCorners[v]);Wr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wi=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,T,B,mt){return B<mt?-1:mt<B?1:0}},initialize:function(v,T,B){for(var mt in V(this,B),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,v)this._addLayer(v[mt],mt);for(mt in T)this._addLayer(T[mt],mt,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return Tn.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,T){return this._addLayer(v,T),this._map?this._update():this},addOverlay:function(v,T){return this._addLayer(v,T,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var T=this._getLayer(O(v));return T&&this._layers.splice(this._layers.indexOf(T),1),this._map?this._update():this},expand:function(){Or(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(Or(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):fr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",T=this._container=Yi("div",v),B=this.options.collapsed;T.setAttribute("aria-haspopup",!0),Ws(T),pd(T);var mt=this._section=Yi("section",v+"-list");B&&(this._map.on("click",this.collapse,this),pt||Pn(T,{mouseenter:this.expand,mouseleave:this.collapse},this));var Ut=this._layersLink=Yi("a",v+"-toggle",T);Ut.href="#",Ut.title="Layers",bn?(Pn(Ut,"click",El),Pn(Ut,"click",this.expand,this)):Pn(Ut,"focus",this.expand,this),B||this.expand(),this._baseLayersList=Yi("div",v+"-base",mt),this._separator=Yi("div",v+"-separator",mt),this._overlaysList=Yi("div",v+"-overlays",mt),T.appendChild(mt)},_getLayer:function(v){for(var T=0;T<this._layers.length;T++)if(this._layers[T]&&O(this._layers[T].layer)===v)return this._layers[T]},_addLayer:function(v,T,B){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:T,overlay:B}),this.options.sortLayers&&this._layers.sort(Y(function(mt,Ut){return this.options.sortFunction(mt.layer,Ut.layer,mt.name,Ut.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ml(this._baseLayersList),Ml(this._overlaysList),this._layerControlInputs=[];var v,T,B,mt,Ut=0;for(B=0;B<this._layers.length;B++)this._addItem(mt=this._layers[B]),T=T||mt.overlay,v=v||!mt.overlay,Ut+=mt.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(v=v&&Ut>1)?"":"none"),this._separator.style.display=T&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var T=this._getLayer(O(v.target)),B=T.overlay?"add"===v.type?"overlayadd":"overlayremove":"add"===v.type?"baselayerchange":null;B&&this._map.fire(B,T)},_createRadioElement:function(v,T){var B='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(T?' checked="checked"':"")+"/>",mt=document.createElement("div");return mt.innerHTML=B,mt.firstChild},_addItem:function(v){var mt,T=document.createElement("label"),B=this._map.hasLayer(v.layer);v.overlay?((mt=document.createElement("input")).type="checkbox",mt.className="leaflet-control-layers-selector",mt.defaultChecked=B):mt=this._createRadioElement("leaflet-base-layers_"+O(this),B),this._layerControlInputs.push(mt),mt.layerId=O(v.layer),Pn(mt,"click",this._onInputClick,this);var Ut=document.createElement("span");Ut.innerHTML=" "+v.name;var me=document.createElement("div");return T.appendChild(me),me.appendChild(mt),me.appendChild(Ut),(v.overlay?this._overlaysList:this._baseLayersList).appendChild(T),this._checkDisabledLayers(),T},_onInputClick:function(){var T,B,v=this._layerControlInputs,mt=[],Ut=[];this._handlingClick=!0;for(var me=v.length-1;me>=0;me--)B=this._getLayer((T=v[me]).layerId).layer,T.checked?mt.push(B):T.checked||Ut.push(B);for(me=0;me<Ut.length;me++)this._map.hasLayer(Ut[me])&&this._map.removeLayer(Ut[me]);for(me=0;me<mt.length;me++)this._map.hasLayer(mt[me])||this._map.addLayer(mt[me]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var T,B,v=this._layerControlInputs,mt=this._map.getZoom(),Ut=v.length-1;Ut>=0;Ut--)B=this._getLayer((T=v[Ut]).layerId).layer,T.disabled=void 0!==B.options.minZoom&&mt<B.options.minZoom||void 0!==B.options.maxZoom&&mt>B.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),fo=Tn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(v){var T="leaflet-control-zoom",B=Yi("div",T+" leaflet-bar"),mt=this.options;return this._zoomInButton=this._createButton(mt.zoomInText,mt.zoomInTitle,T+"-in",B,this._zoomIn),this._zoomOutButton=this._createButton(mt.zoomOutText,mt.zoomOutTitle,T+"-out",B,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),B},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,T,B,mt,Ut){var me=Yi("a",B,mt);return me.innerHTML=v,me.href="#",me.title=T,me.setAttribute("role","button"),me.setAttribute("aria-label",T),Ws(me),Pn(me,"click",El),Pn(me,"click",Ut,this),Pn(me,"click",this._refocusOnMap,this),me},_updateDisabled:function(){var v=this._map,T="leaflet-disabled";fr(this._zoomInButton,T),fr(this._zoomOutButton,T),(this._disabled||v._zoom===v.getMinZoom())&&Or(this._zoomOutButton,T),(this._disabled||v._zoom===v.getMaxZoom())&&Or(this._zoomInButton,T)}});Nr.mergeOptions({zoomControl:!0}),Nr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fo,this.addControl(this.zoomControl))});var ts=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var T="leaflet-control-scale",B=Yi("div",T),mt=this.options;return this._addScales(mt,T+"-line",B),v.on(mt.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),B},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,T,B){v.metric&&(this._mScale=Yi("div",T,B)),v.imperial&&(this._iScale=Yi("div",T,B))},_update:function(){var v=this._map,T=v.getSize().y/2,B=v.distance(v.containerPointToLatLng([0,T]),v.containerPointToLatLng([this.options.maxWidth,T]));this._updateScales(B)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var T=this._getRoundNum(v);this._updateScale(this._mScale,T<1e3?T+" m":T/1e3+" km",T/v)},_updateImperial:function(v){var B,mt,Ut,T=3.2808399*v;T>5280?(mt=this._getRoundNum(B=T/5280),this._updateScale(this._iScale,mt+" mi",mt/B)):(Ut=this._getRoundNum(T),this._updateScale(this._iScale,Ut+" ft",Ut/T))},_updateScale:function(v,T,B){v.style.width=Math.round(this.options.maxWidth*B)+"px",v.innerHTML=T},_getRoundNum:function(v){var T=Math.pow(10,(Math.floor(v)+"").length-1),B=v/T;return T*(B>=10?10:B>=5?5:B>=3?3:B>=2?2:1)}}),Fs=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(v){V(this,v),this._attributions={}},onAdd:function(v){for(var T in v.attributionControl=this,this._container=Yi("div","leaflet-control-attribution"),Ws(this._container),v._layers)v._layers[T].getAttribution&&this.addAttribution(v._layers[T].getAttribution());return this._update(),this._container},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var T in this._attributions)this._attributions[T]&&v.push(T);var B=[];this.options.prefix&&B.push(this.options.prefix),v.length&&B.push(v.join(", ")),this._container.innerHTML=B.join(" | ")}}});Nr.mergeOptions({attributionControl:!0}),Nr.addInitHook(function(){this.options.attributionControl&&(new Fs).addTo(this)});Tn.Layers=wi,Tn.Zoom=fo,Tn.Scale=ts,Tn.Attribution=Fs,$e.layers=function(v,T,B){return new wi(v,T,B)},$e.zoom=function(v){return new fo(v)},$e.scale=function(v){return new ts(v)},$e.attribution=function(v){return new Fs(v)};var Ko=ut.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ko.addTo=function(v,T){return v.addHandler(T,this),this};var Do,Tu={Events:se},ps=bn?"touchstart mousedown":"mousedown",Bn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Du={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},pc=Tt.extend({options:{clickTolerance:3},initialize:function(v,T,B,mt){V(this,mt),this._element=v,this._dragStartTarget=T||v,this._preventOutline=B},enable:function(){this._enabled||(Pn(this._dragStartTarget,ps,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pc._dragging===this&&this.finishDrag(),Rr(this._dragStartTarget,ps,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(!v._simulated&&this._enabled&&(this._moved=!1,!Pr(this._element,"leaflet-zoom-anim")&&!(pc._dragging||v.shiftKey||1!==v.which&&1!==v.button&&!v.touches)&&(pc._dragging=this,this._preventOutline&&Ue(this._element),Ns(),ui(),!this._moving))){this.fire("down");var T=v.touches?v.touches[0]:v,B=Hn(this._element);this._startPoint=new _t(T.clientX,T.clientY),this._parentScale=Ke(B),Pn(document,Du[v.type],this._onMove,this),Pn(document,Bn[v.type],this._onUp,this)}},_onMove:function(v){if(!v._simulated&&this._enabled){if(v.touches&&v.touches.length>1)return void(this._moved=!0);var T=v.touches&&1===v.touches.length?v.touches[0]:v,B=new _t(T.clientX,T.clientY)._subtract(this._startPoint);!B.x&&!B.y||Math.abs(B.x)+Math.abs(B.y)<this.options.clickTolerance||(B.x/=this._parentScale.x,B.y/=this._parentScale.y,tl(v),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Zn(this._element).subtract(B),Or(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Or(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(B),this._moving=!0,Dt(this._animRequest),this._lastEvent=v,this._animRequest=Pt(this._updatePosition,this,!0))}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),sn(this._element,this._newPos),this.fire("drag",v)},_onUp:function(v){v._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var v in fr(document.body,"leaflet-dragging"),this._lastTarget&&(fr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Du)Rr(document,Du[v],this._onMove,this),Rr(document,Bn[v],this._onUp,this);pr(),mi(),this._moved&&this._moving&&(Dt(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,pc._dragging=!1}});function ir(v,T){if(!T||!v.length)return v.slice();var B=T*T;return function Zo(v,T){var B=v.length,Ut=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(B);Ut[0]=Ut[B-1]=1,Eh(v,Ut,T,0,B-1);var me,Ze=[];for(me=0;me<B;me++)Ut[me]&&Ze.push(v[me]);return Ze}(v=function Xp(v,T){for(var B=[v[0]],mt=1,Ut=0,me=v.length;mt<me;mt++)wl(v[mt],v[Ut])>T&&(B.push(v[mt]),Ut=mt);return Ut<me-1&&B.push(v[me-1]),B}(v,B),B)}function ec(v,T,B){return Math.sqrt(Iu(v,T,B,!0))}function Eh(v,T,B,mt,Ut){var Ze,yn,Sn,me=0;for(yn=mt+1;yn<=Ut-1;yn++)(Sn=Iu(v[yn],v[mt],v[Ut],!0))>me&&(Ze=yn,me=Sn);me>B&&(T[Ze]=1,Eh(v,T,B,mt,Ze),Eh(v,T,B,Ze,Ut))}function Tl(v,T,B,mt,Ut){var yn,Sn,Yn,me=mt?Do:ms(v,B),Ze=ms(T,B);for(Do=Ze;;){if(!(me|Ze))return[v,T];if(me&Ze)return!1;Yn=ms(Sn=Co(v,T,yn=me||Ze,B,Ut),B),yn===me?(v=Sn,me=Yn):(T=Sn,Ze=Yn)}}function Co(v,T,B,mt,Ut){var Yn,hi,me=T.x-v.x,Ze=T.y-v.y,yn=mt.min,Sn=mt.max;return 8&B?(Yn=v.x+me*(Sn.y-v.y)/Ze,hi=Sn.y):4&B?(Yn=v.x+me*(yn.y-v.y)/Ze,hi=yn.y):2&B?(Yn=Sn.x,hi=v.y+Ze*(Sn.x-v.x)/me):1&B&&(Yn=yn.x,hi=v.y+Ze*(yn.x-v.x)/me),new _t(Yn,hi,Ut)}function ms(v,T){var B=0;return v.x<T.min.x?B|=1:v.x>T.max.x&&(B|=2),v.y<T.min.y?B|=4:v.y>T.max.y&&(B|=8),B}function wl(v,T){var B=T.x-v.x,mt=T.y-v.y;return B*B+mt*mt}function Iu(v,T,B,mt){var Yn,Ut=T.x,me=T.y,Ze=B.x-Ut,yn=B.y-me,Sn=Ze*Ze+yn*yn;return Sn>0&&((Yn=((v.x-Ut)*Ze+(v.y-me)*yn)/Sn)>1?(Ut=B.x,me=B.y):Yn>0&&(Ut+=Ze*Yn,me+=yn*Yn)),Ze=v.x-Ut,yn=v.y-me,mt?Ze*Ze+yn*yn:new _t(Ut,me)}function Dr(v){return!W(v[0])||"object"!=typeof v[0][0]&&typeof v[0][0]<"u"}function gu(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dr(v)}var ko={simplify:ir,pointToSegmentDistance:ec,closestPointOnSegment:function Au(v,T,B){return Iu(v,T,B)},clipSegment:Tl,_getEdgeIntersection:Co,_getBitCode:ms,_sqClosestPointOnSegment:Iu,isFlat:Dr,_flat:gu};function mc(v,T,B){var mt,me,Ze,yn,Sn,Yn,hi,cr,Oo,Ut=[1,4,2,8];for(me=0,hi=v.length;me<hi;me++)v[me]._code=ms(v[me],T);for(yn=0;yn<4;yn++){for(cr=Ut[yn],mt=[],me=0,Ze=(hi=v.length)-1;me<hi;Ze=me++)Yn=v[Ze],(Sn=v[me])._code&cr?Yn._code&cr||((Oo=Co(Yn,Sn,cr,T,B))._code=ms(Oo,T),mt.push(Oo)):(Yn._code&cr&&((Oo=Co(Yn,Sn,cr,T,B))._code=ms(Oo,T),mt.push(Oo)),mt.push(Sn));v=mt}return v}var el={clipPolygon:mc},on={project:function(v){return new _t(v.lng,v.lat)},unproject:function(v){return new ae(v.y,v.x)},bounds:new Zt([-180,-90],[180,90])},Yu={R:6378137,R_MINOR:6356752.314245179,bounds:new Zt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(v){var T=Math.PI/180,B=this.R,mt=v.lat*T,Ut=this.R_MINOR/B,me=Math.sqrt(1-Ut*Ut),Ze=me*Math.sin(mt),yn=Math.tan(Math.PI/4-mt/2)/Math.pow((1-Ze)/(1+Ze),me/2);return mt=-B*Math.log(Math.max(yn,1e-10)),new _t(v.lng*T*B,mt)},unproject:function(v){for(var Yn,T=180/Math.PI,B=this.R,mt=this.R_MINOR/B,Ut=Math.sqrt(1-mt*mt),me=Math.exp(-v.y/B),Ze=Math.PI/2-2*Math.atan(me),yn=0,Sn=.1;yn<15&&Math.abs(Sn)>1e-7;yn++)Yn=Ut*Math.sin(Ze),Yn=Math.pow((1-Yn)/(1+Yn),Ut/2),Ze+=Sn=Math.PI/2-2*Math.atan(me*Yn)-Ze;return new ae(Ze*T,v.x*T/B)}},di={LonLat:on,Mercator:Yu,SphericalMercator:we},bo=rt({},He,{code:"EPSG:3395",projection:Yu,transformation:function(){var v=.5/(Math.PI*Yu.R);return wt(v,.5,-v,.5)}()}),Vl=rt({},He,{code:"EPSG:4326",projection:on,transformation:wt(1/180,1,-1/180,.5)}),nc=rt({},Pe,{projection:on,transformation:wt(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,T){var B=T.lng-v.lng,mt=T.lat-v.lat;return Math.sqrt(B*B+mt*mt)},infinite:!0});Pe.Earth=He,Pe.EPSG3395=bo,Pe.EPSG3857=Ht,Pe.EPSG900913=Wt,Pe.EPSG4326=Vl,Pe.Simple=nc;var Ts=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[O(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[O(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var T=v.target;if(T.hasLayer(this)){if(this._map=T,this._zoomAnimated=T._zoomAnimated,this.getEvents){var B=this.getEvents();T.on(B,this),this.once("remove",function(){T.off(B,this)},this)}this.onAdd(T),this.getAttribution&&T.attributionControl&&T.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),T.fire("layeradd",{layer:this})}}});Nr.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var T=O(v);return this._layers[T]||(this._layers[T]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v)),this},removeLayer:function(v){var T=O(v);return this._layers[T]?(this._loaded&&v.onRemove(this),v.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(v.getAttribution()),delete this._layers[T],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return!!v&&O(v)in this._layers},eachLayer:function(v,T){for(var B in this._layers)v.call(T,this._layers[B]);return this},_addLayers:function(v){for(var T=0,B=(v=v?W(v)?v:[v]:[]).length;T<B;T++)this.addLayer(v[T])},_addZoomLimit:function(v){(isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[O(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var T=O(v);this._zoomBoundLayers[T]&&(delete this._zoomBoundLayers[T],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,T=-1/0,B=this._getZoomSpan();for(var mt in this._zoomBoundLayers){var Ut=this._zoomBoundLayers[mt].options;v=void 0===Ut.minZoom?v:Math.min(v,Ut.minZoom),T=void 0===Ut.maxZoom?T:Math.max(T,Ut.maxZoom)}this._layersMaxZoom=T===-1/0?void 0:T,this._layersMinZoom=v===1/0?void 0:v,B!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ys=Ts.extend({initialize:function(v,T){var B,mt;if(V(this,T),this._layers={},v)for(B=0,mt=v.length;B<mt;B++)this.addLayer(v[B])},addLayer:function(v){var T=this.getLayerId(v);return this._layers[T]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var T=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[T]&&this._map.removeLayer(this._layers[T]),delete this._layers[T],this},hasLayer:function(v){return!!v&&("number"==typeof v?v:this.getLayerId(v))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var B,mt,T=Array.prototype.slice.call(arguments,1);for(B in this._layers)(mt=this._layers[B])[v]&&mt[v].apply(mt,T);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,T){for(var B in this._layers)v.call(T,this._layers[B]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return O(v)}}),zl=Ys.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),Ys.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),Ys.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new Ce;for(var T in this._layers){var B=this._layers[T];v.extend(B.getBounds?B.getBounds():B.getLatLng())}return v}}),Ds=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(v){V(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,T){var B=this._getIconUrl(v);if(!B){if("icon"===v)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var mt=this._createImg(B,T&&"IMG"===T.tagName?T:null);return this._setIconStyles(mt,v),mt},_setIconStyles:function(v,T){var B=this.options,mt=B[T+"Size"];"number"==typeof mt&&(mt=[mt,mt]);var Ut=St(mt),me=St("shadow"===T&&B.shadowAnchor||B.iconAnchor||Ut&&Ut.divideBy(2,!0));v.className="leaflet-marker-"+T+" "+(B.className||""),me&&(v.style.marginLeft=-me.x+"px",v.style.marginTop=-me.y+"px"),Ut&&(v.style.width=Ut.x+"px",v.style.height=Ut.y+"px")},_createImg:function(v,T){return(T=T||document.createElement("img")).src=v,T},_getIconUrl:function(v){return zt&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});var lr=Ds.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return lr.imagePath||(lr.imagePath=this._detectIconPath()),(this.options.imagePath||lr.imagePath)+Ds.prototype._getIconUrl.call(this,v)},_detectIconPath:function(){var v=Yi("div","leaflet-default-icon-path",document.body),T=as(v,"background-image")||as(v,"backgroundImage");return document.body.removeChild(v),null===T||0!==T.indexOf("url")?"":T.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),fl=Ko.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new pc(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Or(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var T=this._marker,B=T._map,mt=this._marker.options.autoPanSpeed,Ut=this._marker.options.autoPanPadding,me=Zn(T._icon),Ze=B.getPixelBounds(),yn=B.getPixelOrigin(),Sn=Vt(Ze.min._subtract(yn).add(Ut),Ze.max._subtract(yn).subtract(Ut));if(!Sn.contains(me)){var Yn=St((Math.max(Sn.max.x,me.x)-Sn.max.x)/(Ze.max.x-Sn.max.x)-(Math.min(Sn.min.x,me.x)-Sn.min.x)/(Ze.min.x-Sn.min.x),(Math.max(Sn.max.y,me.y)-Sn.max.y)/(Ze.max.y-Sn.max.y)-(Math.min(Sn.min.y,me.y)-Sn.min.y)/(Ze.min.y-Sn.min.y)).multiplyBy(mt);B.panBy(Yn,{animate:!1}),this._draggable._newPos._add(Yn),this._draggable._startPos._add(Yn),sn(T._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=Pt(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(Dt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,v)))},_onDrag:function(v){var T=this._marker,B=T._shadow,mt=Zn(T._icon),Ut=T._map.layerPointToLatLng(mt);B&&sn(B,mt),T._latlng=Ut,v.latlng=Ut,v.oldLatLng=this._oldLatLng,T.fire("move",v).fire("drag",v)},_onDragEnd:function(v){Dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),Dl=Ts.extend({options:{icon:new lr,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,T){V(this,T),this._latlng=ue(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var T=this._latlng;return this._latlng=ue(v),this.update(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,T="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),B=v.icon.createIcon(this._icon),mt=!1;B!==this._icon&&(this._icon&&this._removeIcon(),mt=!0,v.title&&(B.title=v.title),"IMG"===B.tagName&&(B.alt=v.alt||"")),Or(B,T),v.keyboard&&(B.tabIndex="0"),this._icon=B,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var Ut=v.icon.createShadow(this._shadow),me=!1;Ut!==this._shadow&&(this._removeShadow(),me=!0),Ut&&(Or(Ut,T),Ut.alt=""),this._shadow=Ut,v.opacity<1&&this._updateOpacity(),mt&&this.getPane().appendChild(this._icon),this._initInteraction(),Ut&&me&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Wr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wr(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&sn(this._icon,v),this._shadow&&sn(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(T)},_initInteraction:function(){if(this.options.interactive&&(Or(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fl)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fl(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&ie(this._icon,v),this._shadow&&ie(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Rl=Ts.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return V(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),As=Rl.extend({options:{fill:!0,radius:10},initialize:function(v,T){V(this,T),this._latlng=ue(v),this._radius=this.options.radius},setLatLng:function(v){var T=this._latlng;return this._latlng=ue(v),this.redraw(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var T=v&&v.radius||this._radius;return Rl.prototype.setStyle.call(this,v),this.setRadius(T),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,T=this._radiusY||v,B=this._clickTolerance(),mt=[v+B,T+B];this._pxBounds=new Zt(this._point.subtract(mt),this._point.add(mt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Od=As.extend({initialize:function(v,T,B){if("number"==typeof T&&(T=rt({},B,{radius:T})),V(this,T),this._latlng=ue(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:Rl.prototype.setStyle,_project:function(){var v=this._latlng.lng,T=this._latlng.lat,B=this._map,mt=B.options.crs;if(mt.distance===He.distance){var Ut=Math.PI/180,me=this._mRadius/He.R/Ut,Ze=B.project([T+me,v]),yn=B.project([T-me,v]),Sn=Ze.add(yn).divideBy(2),Yn=B.unproject(Sn).lat,hi=Math.acos((Math.cos(me*Ut)-Math.sin(T*Ut)*Math.sin(Yn*Ut))/(Math.cos(T*Ut)*Math.cos(Yn*Ut)))/Ut;(isNaN(hi)||0===hi)&&(hi=me/Math.cos(Math.PI/180*T)),this._point=Sn.subtract(B.getPixelOrigin()),this._radius=isNaN(hi)?0:Sn.x-B.project([Yn,v-hi]).x,this._radiusY=Sn.y-Ze.y}else{var cr=mt.unproject(mt.project(this._latlng).subtract([this._mRadius,0]));this._point=B.latLngToLayerPoint(this._latlng),this._radius=this._point.x-B.latLngToLayerPoint(cr).x}this._updateBounds()}});var pa=Rl.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,T){V(this,T),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var Ut,me,T=1/0,B=null,mt=Iu,Ze=0,yn=this._parts.length;Ze<yn;Ze++)for(var Sn=this._parts[Ze],Yn=1,hi=Sn.length;Yn<hi;Yn++){var cr=mt(v,Ut=Sn[Yn-1],me=Sn[Yn],!0);cr<T&&(T=cr,B=mt(v,Ut,me))}return B&&(B.distance=Math.sqrt(T)),B},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var v,T,B,mt,Ut,me,Ze,yn=this._rings[0],Sn=yn.length;if(!Sn)return null;for(v=0,T=0;v<Sn-1;v++)T+=yn[v].distanceTo(yn[v+1])/2;if(0===T)return this._map.layerPointToLatLng(yn[0]);for(v=0,mt=0;v<Sn-1;v++)if((mt+=B=(Ut=yn[v]).distanceTo(me=yn[v+1]))>T)return this._map.layerPointToLatLng([me.x-(Ze=(mt-T)/B)*(me.x-Ut.x),me.y-Ze*(me.y-Ut.y)])},getBounds:function(){return this._bounds},addLatLng:function(v,T){return T=T||this._defaultShape(),v=ue(v),T.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new Ce,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return Dr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var T=[],B=Dr(v),mt=0,Ut=v.length;mt<Ut;mt++)B?(T[mt]=ue(v[mt]),this._bounds.extend(T[mt])):T[mt]=this._convertLatLngs(v[mt]);return T},_project:function(){var v=new Zt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),T=new _t(v,v);this._pxBounds=new Zt([this._rawPxBounds.min.subtract(T),this._rawPxBounds.max.add(T)])},_projectLatlngs:function(v,T,B){var me,Ze,Ut=v.length;if(v[0]instanceof ae){for(Ze=[],me=0;me<Ut;me++)Ze[me]=this._map.latLngToLayerPoint(v[me]),B.extend(Ze[me]);T.push(Ze)}else for(me=0;me<Ut;me++)this._projectLatlngs(v[me],T,B)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(v)){if(this.options.noClip)return void(this._parts=this._rings);var B,mt,Ut,me,Ze,yn,Sn,T=this._parts;for(B=0,Ut=0,me=this._rings.length;B<me;B++)for(mt=0,Ze=(Sn=this._rings[B]).length;mt<Ze-1;mt++)(yn=Tl(Sn[mt],Sn[mt+1],v,mt,!0))&&(T[Ut]=T[Ut]||[],T[Ut].push(yn[0]),(yn[1]!==Sn[mt+1]||mt===Ze-2)&&(T[Ut].push(yn[1]),Ut++))}},_simplifyPoints:function(){for(var v=this._parts,T=this.options.smoothFactor,B=0,mt=v.length;B<mt;B++)v[B]=ir(v[B],T)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,T){var B,mt,Ut,me,Ze,yn,Sn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(B=0,me=this._parts.length;B<me;B++)for(mt=0,Ut=(Ze=(yn=this._parts[B]).length)-1;mt<Ze;Ut=mt++)if((T||0!==mt)&&ec(v,yn[Ut],yn[mt])<=Sn)return!0;return!1}});pa._flat=gu;var nl=pa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var v,T,B,mt,Ut,me,Ze,yn,Yn=this._rings[0],hi=Yn.length;if(!hi)return null;for(me=Ze=yn=0,v=0,T=hi-1;v<hi;T=v++)Ze+=((B=Yn[v]).x+(mt=Yn[T]).x)*(Ut=B.y*mt.x-mt.y*B.x),yn+=(B.y+mt.y)*Ut,me+=3*Ut;return this._map.layerPointToLatLng(0===me?Yn[0]:[Ze/me,yn/me])},_convertLatLngs:function(v){var T=pa.prototype._convertLatLngs.call(this,v),B=T.length;return B>=2&&T[0]instanceof ae&&T[0].equals(T[B-1])&&T.pop(),T},_setLatLngs:function(v){pa.prototype._setLatLngs.call(this,v),Dr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,T=this.options.weight,B=new _t(T,T);if(v=new Zt(v.min.subtract(B),v.max.add(B)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(v)){if(this.options.noClip)return void(this._parts=this._rings);for(var me,mt=0,Ut=this._rings.length;mt<Ut;mt++)(me=mc(this._rings[mt],v,!0)).length&&this._parts.push(me)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var B,mt,Ut,me,Ze,yn,Sn,Yn,T=!1;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(me=0,Sn=this._parts.length;me<Sn;me++)for(Ze=0,yn=(Yn=(B=this._parts[me]).length)-1;Ze<Yn;yn=Ze++)(mt=B[Ze]).y>v.y!=(Ut=B[yn]).y>v.y&&v.x<(Ut.x-mt.x)*(v.y-mt.y)/(Ut.y-mt.y)+mt.x&&(T=!T);return T||pa.prototype._containsPoint.call(this,v,!0)}});var cs=zl.extend({initialize:function(v,T){V(this,T),this._layers={},v&&this.addData(v)},addData:function(v){var B,mt,Ut,T=W(v)?v:v.features;if(T){for(B=0,mt=T.length;B<mt;B++)((Ut=T[B]).geometries||Ut.geometry||Ut.features||Ut.coordinates)&&this.addData(Ut);return this}var me=this.options;if(me.filter&&!me.filter(v))return this;var Ze=Xu(v,me);return Ze?(Ze.feature=he(v),Ze.defaultOptions=Ze.options,this.resetStyle(Ze),me.onEachFeature&&me.onEachFeature(v,Ze),this.addLayer(Ze)):this},resetStyle:function(v){return void 0===v?this.eachLayer(this.resetStyle,this):(v.options=rt({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(T){this._setLayerStyle(T,v)},this)},_setLayerStyle:function(v,T){v.setStyle&&("function"==typeof T&&(T=T(v.feature)),v.setStyle(T))}});function Xu(v,T){var yn,Sn,Yn,hi,B="Feature"===v.type?v.geometry:v,mt=B?B.coordinates:null,Ut=[],me=T&&T.pointToLayer,Ze=T&&T.coordsToLatLng||il;if(!mt&&!B)return null;switch(B.type){case"Point":return Cn(me,v,yn=Ze(mt),T);case"MultiPoint":for(Yn=0,hi=mt.length;Yn<hi;Yn++)yn=Ze(mt[Yn]),Ut.push(Cn(me,v,yn,T));return new zl(Ut);case"LineString":case"MultiLineString":return Sn=Yo(mt,"LineString"===B.type?0:1,Ze),new pa(Sn,T);case"Polygon":case"MultiPolygon":return Sn=Yo(mt,"Polygon"===B.type?1:2,Ze),new nl(Sn,T);case"GeometryCollection":for(Yn=0,hi=B.geometries.length;Yn<hi;Yn++){var cr=Xu({geometry:B.geometries[Yn],type:"Feature",properties:v.properties},T);cr&&Ut.push(cr)}return new zl(Ut);default:throw new Error("Invalid GeoJSON object.")}}function Cn(v,T,B,mt){return v?v(T,B):new Dl(B,mt&&mt.markersInheritOptions&&mt)}function il(v){return new ae(v[1],v[0],v[2])}function Yo(v,T,B){for(var Ze,mt=[],Ut=0,me=v.length;Ut<me;Ut++)Ze=T?Yo(v[Ut],T-1,B):(B||il)(v[Ut]),mt.push(Ze);return mt}function Xs(v,T){return T="number"==typeof T?T:6,void 0!==v.alt?[at(v.lng,T),at(v.lat,T),at(v.alt,T)]:[at(v.lng,T),at(v.lat,T)]}function us(v,T,B,mt){for(var Ut=[],me=0,Ze=v.length;me<Ze;me++)Ut.push(T?us(v[me],T-1,B,mt):Xs(v[me],mt));return!T&&B&&Ut.push(Ut[0]),Ut}function $s(v,T){return v.feature?rt({},v.feature,{geometry:T}):he(T)}function he(v){return"Feature"===v.type||"FeatureCollection"===v.type?v:{type:"Feature",properties:{},geometry:v}}var gc={toGeoJSON:function(v){return $s(this,{type:"Point",coordinates:Xs(this.getLatLng(),v)})}};function Bs(v,T){return new cs(v,T)}Dl.include(gc),Od.include(gc),As.include(gc),pa.include({toGeoJSON:function(v){var T=!Dr(this._latlngs);return $s(this,{type:(T?"Multi":"")+"LineString",coordinates:us(this._latlngs,T?1:0,!1,v)})}}),nl.include({toGeoJSON:function(v){var T=!Dr(this._latlngs),B=T&&!Dr(this._latlngs[0]),mt=us(this._latlngs,B?2:T?1:0,!0,v);return T||(mt=[mt]),$s(this,{type:(B?"Multi":"")+"Polygon",coordinates:mt})}}),Ys.include({toMultiPoint:function(v){var T=[];return this.eachLayer(function(B){T.push(B.toGeoJSON(v).geometry.coordinates)}),$s(this,{type:"MultiPoint",coordinates:T})},toGeoJSON:function(v){var T=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===T)return this.toMultiPoint(v);var B="GeometryCollection"===T,mt=[];return this.eachLayer(function(Ut){if(Ut.toGeoJSON){var me=Ut.toGeoJSON(v);if(B)mt.push(me.geometry);else{var Ze=he(me);"FeatureCollection"===Ze.type?mt.push.apply(mt,Ze.features):mt.push(Ze)}}}),B?$s(this,{geometries:mt,type:"GeometryCollection"}):{type:"FeatureCollection",features:mt}}});var xs=Bs,wr=Ts.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,T,B){this._url=v,this._bounds=jt(T),V(this,B)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Or(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&Ja(this._image),this},bringToBack:function(){return this._map&&ss(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=jt(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v="IMG"===this._url.tagName,T=this._image=v?this._url:Yi("img");Or(T,"leaflet-image-layer"),this._zoomAnimated&&Or(T,"leaflet-zoom-animated"),this.options.className&&Or(T,this.options.className),T.onselectstart=st,T.onmousemove=st,T.onload=Y(this.fire,this,"load"),T.onerror=Y(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(T.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v?this._url=T.src:(T.src=this._url,T.alt=this.options.alt)},_animateZoom:function(v){var T=this._map.getZoomScale(v.zoom),B=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;qe(this._image,B,T)},_reset:function(){var v=this._image,T=new Zt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),B=T.getSize();sn(v,T.min),v.style.width=B.x+"px",v.style.height=B.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)}}),mr=wr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var v="VIDEO"===this._url.tagName,T=this._image=v?this._url:Yi("video");if(Or(T,"leaflet-image-layer"),this._zoomAnimated&&Or(T,"leaflet-zoom-animated"),this.options.className&&Or(T,this.options.className),T.onselectstart=st,T.onmousemove=st,T.onloadeddata=Y(this.fire,this,"load"),v){for(var B=T.getElementsByTagName("source"),mt=[],Ut=0;Ut<B.length;Ut++)mt.push(B[Ut].src);this._url=B.length>0?mt:[T.src]}else{W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(T.style,"objectFit")&&(T.style.objectFit="fill"),T.autoplay=!!this.options.autoplay,T.loop=!!this.options.loop,T.muted=!!this.options.muted;for(var me=0;me<this._url.length;me++){var Ze=Yi("source");Ze.src=this._url[me],T.appendChild(Ze)}}}});var ds=wr.extend({_initImage:function(){var v=this._image=this._url;Or(v,"leaflet-image-layer"),this._zoomAnimated&&Or(v,"leaflet-zoom-animated"),this.options.className&&Or(v,this.options.className),v.onselectstart=st,v.onmousemove=st}});var Ao=Ts.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(v,T){V(this,v),this._source=T},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&ie(this._container,1),this.bringToFront()},onRemove:function(v){v._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(Y(Wr,void 0,this._container),200)):Wr(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=ue(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ja(this._container),this},bringToBack:function(){return this._map&&ss(this._container),this},_prepareOpen:function(v,T,B){if(T instanceof Ts||(B=T,T=v),T instanceof zl)for(var mt in v._layers){T=v._layers[mt];break}if(!B)if(T.getCenter)B=T.getCenter();else{if(!T.getLatLng)throw new Error("Unable to get source layer LatLng.");B=T.getLatLng()}return this._source=T,this.update(),B},_updateContent:function(){if(this._content){var v=this._contentNode,T="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof T)v.innerHTML=T;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(T)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),T=St(this.options.offset),B=this._getAnchor();this._zoomAnimated?sn(this._container,v.add(B)):T=T.add(v).add(B);var mt=this._containerBottom=-T.y,Ut=this._containerLeft=-Math.round(this._containerWidth/2)+T.x;this._container.style.bottom=mt+"px",this._container.style.left=Ut+"px"}},_getAnchor:function(){return[0,0]}}),Qo=Ao.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v.openPopup(this),this},onAdd:function(v){Ao.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rl||this._source.on("preclick",So))},onRemove:function(v){Ao.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rl||this._source.off("preclick",So))},getEvents:function(){var v=Ao.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this._close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var v="leaflet-popup",T=this._container=Yi("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),B=this._wrapper=Yi("div",v+"-content-wrapper",T);if(this._contentNode=Yi("div",v+"-content",B),Ws(T),pd(this._contentNode),Pn(T,"contextmenu",So),this._tipContainer=Yi("div",v+"-tip-container",T),this._tip=Yi("div",v+"-tip",this._tipContainer),this.options.closeButton){var mt=this._closeButton=Yi("a",v+"-close-button",T);mt.href="#close",mt.innerHTML="&#215;",Pn(mt,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var v=this._contentNode,T=v.style;T.width="",T.whiteSpace="nowrap";var B=v.offsetWidth;B=Math.min(B,this.options.maxWidth),B=Math.max(B,this.options.minWidth),T.width=B+1+"px",T.whiteSpace="",T.height="";var Ut=this.options.maxHeight,me="leaflet-popup-scrolled";Ut&&v.offsetHeight>Ut?(T.height=Ut+"px",Or(v,me)):fr(v,me),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),B=this._getAnchor();sn(this._container,T.add(B))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var v=this._map,T=parseInt(as(this._container,"marginBottom"),10)||0,B=this._container.offsetHeight+T,mt=this._containerWidth,Ut=new _t(this._containerLeft,-B-this._containerBottom);Ut._add(Zn(this._container));var me=v.layerPointToContainerPoint(Ut),Ze=St(this.options.autoPanPadding),yn=St(this.options.autoPanPaddingTopLeft||Ze),Sn=St(this.options.autoPanPaddingBottomRight||Ze),Yn=v.getSize(),hi=0,cr=0;me.x+mt+Sn.x>Yn.x&&(hi=me.x+mt-Yn.x+Sn.x),me.x-hi-yn.x<0&&(hi=me.x-yn.x),me.y+B+Sn.y>Yn.y&&(cr=me.y+B-Yn.y+Sn.y),me.y-cr-yn.y<0&&(cr=me.y-yn.y),(hi||cr)&&v.fire("autopanstart").panBy([hi,cr])}},_onCloseButtonClick:function(v){this._close(),El(v)},_getAnchor:function(){return St(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Nr.mergeOptions({closePopupOnClick:!0}),Nr.include({openPopup:function(v,T,B){return v instanceof Qo||(v=new Qo(B).setContent(v)),T&&v.setLatLng(T),this.hasLayer(v)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=v,this.addLayer(v))},closePopup:function(v){return(!v||v===this._popup)&&(v=this._popup,this._popup=null),v&&this.removeLayer(v),this}}),Ts.include({bindPopup:function(v,T){return v instanceof Qo?(V(v,T),this._popup=v,v._source=this):((!this._popup||T)&&(this._popup=new Qo(T,this)),this._popup.setContent(v)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v,T){return this._popup&&this._map&&(T=this._popup._prepareOpen(this,v,T),this._map.openPopup(this._popup,T)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(v){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(v)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){var T=v.layer||v.target;if(this._popup&&this._map){if(El(v),T instanceof Rl)return void this.openPopup(v.layer||v.target,v.latlng);this._map.hasLayer(this._popup)&&this._popup._source===T?this.closePopup():this.openPopup(T,v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){13===v.originalEvent.keyCode&&this._openPopup(v)}});var Ul=Ao.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(v){Ao.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(v){Ao.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var v=Ao.prototype.getEvents.call(this);return bn&&!this.options.permanent&&(v.preclick=this._close),v},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Yi("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var T,B,mt=this._map,Ut=this._container,me=mt.latLngToContainerPoint(mt.getCenter()),Ze=mt.layerPointToContainerPoint(v),yn=this.options.direction,Sn=Ut.offsetWidth,Yn=Ut.offsetHeight,hi=St(this.options.offset),cr=this._getAnchor();"top"===yn?(T=Sn/2,B=Yn):"bottom"===yn?(T=Sn/2,B=0):"center"===yn?(T=Sn/2,B=Yn/2):"right"===yn?(T=0,B=Yn/2):"left"===yn?(T=Sn,B=Yn/2):Ze.x<me.x?(yn="right",T=0,B=Yn/2):(yn="left",T=Sn+2*(hi.x+cr.x),B=Yn/2),v=v.subtract(St(T,B,!0)).add(hi).add(cr),fr(Ut,"leaflet-tooltip-right"),fr(Ut,"leaflet-tooltip-left"),fr(Ut,"leaflet-tooltip-top"),fr(Ut,"leaflet-tooltip-bottom"),Or(Ut,"leaflet-tooltip-"+yn),sn(Ut,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&ie(this._container,v)},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(T)},_getAnchor:function(){return St(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Nr.include({openTooltip:function(v,T,B){return v instanceof Ul||(v=new Ul(B).setContent(v)),T&&v.setLatLng(T),this.hasLayer(v)?this:this.addLayer(v)},closeTooltip:function(v){return v&&this.removeLayer(v),this}}),Ts.include({bindTooltip:function(v,T){return v instanceof Ul?(V(v,T),this._tooltip=v,v._source=this):((!this._tooltip||T)&&(this._tooltip=new Ul(T,this)),this._tooltip.setContent(v)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(v||!this._tooltipHandlersAdded){var T=v?"off":"on",B={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?B.add=this._openTooltip:(B.mouseover=this._openTooltip,B.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(B.mousemove=this._moveTooltip),bn&&(B.click=this._openTooltip)),this[T](B),this._tooltipHandlersAdded=!v}},openTooltip:function(v,T){return this._tooltip&&this._map&&(T=this._tooltip._prepareOpen(this,v,T),this._map.openTooltip(this._tooltip,T),this._tooltip.options.interactive&&this._tooltip._container&&(Or(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fr(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(v){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(v)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_openTooltip:function(v){!this._tooltip||!this._map||this.openTooltip(v.layer||v.target,this._tooltip.options.sticky?v.latlng:void 0)},_moveTooltip:function(v){var B,mt,T=v.latlng;this._tooltip.options.sticky&&v.originalEvent&&(B=this._map.mouseEventToContainerPoint(v.originalEvent),mt=this._map.containerPointToLayerPoint(B),T=this._map.layerPointToLatLng(mt)),this._tooltip.setLatLng(T)}});var Hi=Ds.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var T=v&&"DIV"===v.tagName?v:document.createElement("div"),B=this.options;if(B.html instanceof Element?(Ml(T),T.appendChild(B.html)):T.innerHTML=!1!==B.html?B.html:"",B.bgPos){var mt=St(B.bgPos);T.style.backgroundPosition=-mt.x+"px "+-mt.y+"px"}return this._setIconStyles(T,"icon"),T},createShadow:function(){return null}});Ds.Default=lr;var pl=Ts.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){V(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),Wr(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ja(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof _t?v:new _t(v,v)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var me,T=this.getPane().children,B=-v(-1/0,1/0),mt=0,Ut=T.length;mt<Ut;mt++)me=T[mt].style.zIndex,T[mt]!==this._container&&me&&(B=v(B,+me));isFinite(B)&&(this.options.zIndex=B+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!M){ie(this._container,this.options.opacity);var v=+new Date,T=!1,B=!1;for(var mt in this._tiles){var Ut=this._tiles[mt];if(Ut.current&&Ut.loaded){var me=Math.min(1,(v-Ut.loaded)/200);ie(Ut.el,me),me<1?T=!0:(Ut.active?B=!0:this._onOpaqueTile(Ut),Ut.active=!0)}}B&&!this._noPrune&&this._pruneTiles(),T&&(Dt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:st,_initContainer:function(){this._container||(this._container=Yi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,T=this.options.maxZoom;if(void 0!==v){for(var B in this._levels)B=Number(B),this._levels[B].el.children.length||B===v?(this._levels[B].el.style.zIndex=T-Math.abs(v-B),this._onUpdateLevel(B)):(Wr(this._levels[B].el),this._removeTilesAtZoom(B),this._onRemoveLevel(B),delete this._levels[B]);var mt=this._levels[v],Ut=this._map;return mt||((mt=this._levels[v]={}).el=Yi("div","leaflet-tile-container leaflet-zoom-animated",this._container),mt.el.style.zIndex=T,mt.origin=Ut.project(Ut.unproject(Ut.getPixelOrigin()),v).round(),mt.zoom=v,this._setZoomTransform(mt,Ut.getCenter(),Ut.getZoom()),this._onCreateLevel(mt)),this._level=mt,mt}},_onUpdateLevel:st,_onRemoveLevel:st,_onCreateLevel:st,_pruneTiles:function(){if(this._map){var v,T,B=this._map.getZoom();if(B>this.options.maxZoom||B<this.options.minZoom)return void this._removeAllTiles();for(v in this._tiles)(T=this._tiles[v]).retain=T.current;for(v in this._tiles)if((T=this._tiles[v]).current&&!T.active){var mt=T.coords;this._retainParent(mt.x,mt.y,mt.z,mt.z-5)||this._retainChildren(mt.x,mt.y,mt.z,mt.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var T in this._tiles)this._tiles[T].coords.z===v&&this._removeTile(T)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)Wr(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,T,B,mt){var Ut=Math.floor(v/2),me=Math.floor(T/2),Ze=B-1,yn=new _t(+Ut,+me);yn.z=+Ze;var Sn=this._tileCoordsToKey(yn),Yn=this._tiles[Sn];return Yn&&Yn.active?(Yn.retain=!0,!0):(Yn&&Yn.loaded&&(Yn.retain=!0),Ze>mt&&this._retainParent(Ut,me,Ze,mt))},_retainChildren:function(v,T,B,mt){for(var Ut=2*v;Ut<2*v+2;Ut++)for(var me=2*T;me<2*T+2;me++){var Ze=new _t(Ut,me);Ze.z=B+1;var yn=this._tileCoordsToKey(Ze),Sn=this._tiles[yn];Sn&&Sn.active?Sn.retain=!0:(Sn&&Sn.loaded&&(Sn.retain=!0),B+1<mt&&this._retainChildren(Ut,me,B+1,mt))}},_resetView:function(v){var T=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),T,T)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var T=this.options;return void 0!==T.minNativeZoom&&v<T.minNativeZoom?T.minNativeZoom:void 0!==T.maxNativeZoom&&T.maxNativeZoom<v?T.maxNativeZoom:v},_setView:function(v,T,B,mt){var Ut=Math.round(T);Ut=void 0!==this.options.maxZoom&&Ut>this.options.maxZoom||void 0!==this.options.minZoom&&Ut<this.options.minZoom?void 0:this._clampZoom(Ut),(!mt||this.options.updateWhenZooming&&Ut!==this._tileZoom)&&(this._tileZoom=Ut,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Ut&&this._update(v),B||this._pruneTiles(),this._noPrune=!!B),this._setZoomTransforms(v,T)},_setZoomTransforms:function(v,T){for(var B in this._levels)this._setZoomTransform(this._levels[B],v,T)},_setZoomTransform:function(v,T,B){var mt=this._map.getZoomScale(B,v.zoom),Ut=v.origin.multiplyBy(mt).subtract(this._map._getNewPixelOrigin(T,B)).round();ke?qe(v.el,Ut,mt):sn(v.el,Ut)},_resetGrid:function(){var v=this._map,T=v.options.crs,B=this._tileSize=this.getTileSize(),mt=this._tileZoom,Ut=this._map.getPixelWorldBounds(this._tileZoom);Ut&&(this._globalTileRange=this._pxBoundsToTileRange(Ut)),this._wrapX=T.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,T.wrapLng[0]],mt).x/B.x),Math.ceil(v.project([0,T.wrapLng[1]],mt).x/B.y)],this._wrapY=T.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([T.wrapLat[0],0],mt).y/B.x),Math.ceil(v.project([T.wrapLat[1],0],mt).y/B.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var T=this._map,B=T._animatingZoom?Math.max(T._animateToZoom,T.getZoom()):T.getZoom(),mt=T.getZoomScale(B,this._tileZoom),Ut=T.project(v,this._tileZoom).floor(),me=T.getSize().divideBy(2*mt);return new Zt(Ut.subtract(me),Ut.add(me))},_update:function(v){var T=this._map;if(T){var B=this._clampZoom(T.getZoom());if(void 0===v&&(v=T.getCenter()),void 0!==this._tileZoom){var mt=this._getTiledPixelBounds(v),Ut=this._pxBoundsToTileRange(mt),me=Ut.getCenter(),Ze=[],yn=this.options.keepBuffer,Sn=new Zt(Ut.getBottomLeft().subtract([yn,-yn]),Ut.getTopRight().add([yn,-yn]));if(!(isFinite(Ut.min.x)&&isFinite(Ut.min.y)&&isFinite(Ut.max.x)&&isFinite(Ut.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Yn in this._tiles){var hi=this._tiles[Yn].coords;(hi.z!==this._tileZoom||!Sn.contains(new _t(hi.x,hi.y)))&&(this._tiles[Yn].current=!1)}if(Math.abs(B-this._tileZoom)>1)return void this._setView(v,B);for(var cr=Ut.min.y;cr<=Ut.max.y;cr++)for(var Oo=Ut.min.x;Oo<=Ut.max.x;Oo++){var ku=new _t(Oo,cr);if(ku.z=this._tileZoom,this._isValidTile(ku)){var md=this._tiles[this._tileCoordsToKey(ku)];md?md.current=!0:Ze.push(ku)}}if(Ze.sort(function(rc,Oe){return rc.distanceTo(me)-Oe.distanceTo(me)}),0!==Ze.length){this._loading||(this._loading=!0,this.fire("loading"));var Zl=document.createDocumentFragment();for(Oo=0;Oo<Ze.length;Oo++)this._addTile(Ze[Oo],Zl);this._level.el.appendChild(Zl)}}}},_isValidTile:function(v){var T=this._map.options.crs;if(!T.infinite){var B=this._globalTileRange;if(!T.wrapLng&&(v.x<B.min.x||v.x>B.max.x)||!T.wrapLat&&(v.y<B.min.y||v.y>B.max.y))return!1}if(!this.options.bounds)return!0;var mt=this._tileCoordsToBounds(v);return jt(this.options.bounds).overlaps(mt)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var T=this._map,B=this.getTileSize(),mt=v.scaleBy(B),Ut=mt.add(B);return[T.unproject(mt,v.z),T.unproject(Ut,v.z)]},_tileCoordsToBounds:function(v){var T=this._tileCoordsToNwSe(v),B=new Ce(T[0],T[1]);return this.options.noWrap||(B=this._map.wrapLatLngBounds(B)),B},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var T=v.split(":"),B=new _t(+T[0],+T[1]);return B.z=+T[2],B},_removeTile:function(v){var T=this._tiles[v];T&&(Wr(T.el),delete this._tiles[v],this.fire("tileunload",{tile:T.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){Or(v,"leaflet-tile");var T=this.getTileSize();v.style.width=T.x+"px",v.style.height=T.y+"px",v.onselectstart=st,v.onmousemove=st,M&&this.options.opacity<1&&ie(v,this.options.opacity),pt&&!Et&&(v.style.WebkitBackfaceVisibility="hidden")},_addTile:function(v,T){var B=this._getTilePos(v),mt=this._tileCoordsToKey(v),Ut=this.createTile(this._wrapCoords(v),Y(this._tileReady,this,v));this._initTile(Ut),this.createTile.length<2&&Pt(Y(this._tileReady,this,v,null,Ut)),sn(Ut,B),this._tiles[mt]={el:Ut,coords:v,current:!0},T.appendChild(Ut),this.fire("tileloadstart",{tile:Ut,coords:v})},_tileReady:function(v,T,B){T&&this.fire("tileerror",{error:T,tile:B,coords:v});var mt=this._tileCoordsToKey(v);(B=this._tiles[mt])&&(B.loaded=+new Date,this._map._fadeAnimated?(ie(B.el,0),Dt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(B.active=!0,this._pruneTiles()),T||(Or(B.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:B.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),M||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(Y(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var T=new _t(this._wrapX?ot(v.x,this._wrapX):v.x,this._wrapY?ot(v.y,this._wrapY):v.y);return T.z=v.z,T},_pxBoundsToTileRange:function(v){var T=this.getTileSize();return new Zt(v.min.unscaleBy(T).floor(),v.max.unscaleBy(T).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});var hs=pl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(v,T){this._url=v,(T=V(this,T)).detectRetina&&zt&&T.maxZoom>0&&(T.tileSize=Math.floor(T.tileSize/2),T.zoomReverse?(T.zoomOffset--,T.minZoom++):(T.zoomOffset++,T.maxZoom--),T.minZoom=Math.max(0,T.minZoom)),"string"==typeof T.subdomains&&(T.subdomains=T.subdomains.split("")),pt||this.on("tileunload",this._onTileRemove)},setUrl:function(v,T){return this._url===v&&void 0===T&&(T=!0),this._url=v,T||this.redraw(),this},createTile:function(v,T){var B=document.createElement("img");return Pn(B,"load",Y(this._tileOnLoad,this,T,B)),Pn(B,"error",Y(this._tileOnError,this,T,B)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(B.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),B.alt="",B.setAttribute("role","presentation"),B.src=this.getTileUrl(v),B},getTileUrl:function(v){var T={r:zt?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var B=this._globalTileRange.max.y-v.y;this.options.tms&&(T.y=B),T["-y"]=B}return tt(this._url,rt(T,this.options))},_tileOnLoad:function(v,T){M?setTimeout(Y(v,this,null,T),0):v(null,T)},_tileOnError:function(v,T,B){var mt=this.options.errorTileUrl;mt&&T.getAttribute("src")!==mt&&(T.src=mt),v(B,T)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom;return this.options.zoomReverse&&(v=this.options.maxZoom-v),v+this.options.zoomOffset},_getSubdomain:function(v){var T=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[T]},_abortLoading:function(){var v,T;for(v in this._tiles)this._tiles[v].coords.z!==this._tileZoom&&((T=this._tiles[v].el).onload=st,T.onerror=st,T.complete||(T.src=z,Wr(T),delete this._tiles[v]))},_removeTile:function(v){var T=this._tiles[v];if(T)return pe||T.el.setAttribute("src",z),pl.prototype._removeTile.call(this,v)},_tileReady:function(v,T,B){if(this._map&&(!B||B.getAttribute("src")!==z))return pl.prototype._tileReady.call(this,v,T,B)}});function gs(v,T){return new hs(v,T)}var Vs=hs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,T){this._url=v;var B=rt({},this.defaultWmsParams);for(var mt in T)mt in this.options||(B[mt]=T[mt]);var Ut=(T=V(this,T)).detectRetina&&zt?2:1,me=this.getTileSize();B.width=me.x*Ut,B.height=me.y*Ut,this.wmsParams=B},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,hs.prototype.onAdd.call(this,v)},getTileUrl:function(v){var T=this._tileCoordsToNwSe(v),B=this._crs,mt=Vt(B.project(T[0]),B.project(T[1])),Ut=mt.min,me=mt.max,Ze=(this._wmsVersion>=1.3&&this._crs===Vl?[Ut.y,Ut.x,me.y,me.x]:[Ut.x,Ut.y,me.x,me.y]).join(","),yn=hs.prototype.getTileUrl.call(this,v);return yn+bt(this.wmsParams,yn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ze},setParams:function(v,T){return rt(this.wmsParams,v),T||this.redraw(),this}});hs.WMS=Vs,gs.wms=function Jo(v,T){return new Vs(v,T)};var ws=Ts.extend({options:{padding:.1,tolerance:0},initialize:function(v){V(this,v),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Or(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,T){var B=this._map.getZoomScale(T,this._zoom),mt=Zn(this._container),Ut=this._map.getSize().multiplyBy(.5+this.options.padding),me=this._map.project(this._center,T),yn=this._map.project(v,T).subtract(me),Sn=Ut.multiplyBy(-B).add(mt).add(Ut).subtract(yn);ke?qe(this._container,Sn,B):sn(this._container,Sn)},_reset:function(){for(var v in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,T=this._map.getSize(),B=this._map.containerPointToLayerPoint(T.multiplyBy(-v)).round();this._bounds=new Zt(B,B.add(T.multiplyBy(1+2*v)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ma=ws.extend({getEvents:function(){var v=ws.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ws.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");Pn(v,"mousemove",this._onMouseMove,this),Pn(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pn(v,"mouseout",this._handleMouseOut,this),this._ctx=v.getContext("2d")},_destroyContainer:function(){Dt(this._redrawRequest),delete this._ctx,Wr(this._container),Rr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var T in this._redrawBounds=null,this._layers)this._layers[T]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ws.prototype._update.call(this);var v=this._bounds,T=this._container,B=v.getSize(),mt=zt?2:1;sn(T,v.min),T.width=mt*B.x,T.height=mt*B.y,T.style.width=B.x+"px",T.style.height=B.y+"px",zt&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){ws.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[O(v)]=v;var T=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=T),this._drawLast=T,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var T=v._order,B=T.next,mt=T.prev;B?B.prev=mt:this._drawLast=mt,mt?mt.next=B:this._drawFirst=B,delete v._order,delete this._layers[O(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if("string"==typeof v.options.dashArray){var mt,Ut,T=v.options.dashArray.split(/[, ]+/),B=[];for(Ut=0;Ut<T.length;Ut++){if(mt=Number(T[Ut]),isNaN(mt))return;B.push(mt)}v.options._dashArray=B}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var T=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Zt,this._redrawBounds.extend(v._pxBounds.min.subtract([T,T])),this._redrawBounds.extend(v._pxBounds.max.add([T,T]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var T=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,T.x,T.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,T=this._redrawBounds;if(this._ctx.save(),T){var B=T.getSize();this._ctx.beginPath(),this._ctx.rect(T.min.x,T.min.y,B.x,B.y),this._ctx.clip()}this._drawing=!0;for(var mt=this._drawFirst;mt;mt=mt.next)v=mt.layer,(!T||v._pxBounds&&v._pxBounds.intersects(T))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,T){if(this._drawing){var B,mt,Ut,me,Ze=v._parts,yn=Ze.length,Sn=this._ctx;if(yn){for(Sn.beginPath(),B=0;B<yn;B++){for(mt=0,Ut=Ze[B].length;mt<Ut;mt++)Sn[mt?"lineTo":"moveTo"]((me=Ze[B][mt]).x,me.y);T&&Sn.closePath()}this._fillStroke(Sn,v)}}},_updateCircle:function(v){if(this._drawing&&!v._empty()){var T=v._point,B=this._ctx,mt=Math.max(Math.round(v._radius),1),Ut=(Math.max(Math.round(v._radiusY),1)||mt)/mt;1!==Ut&&(B.save(),B.scale(1,Ut)),B.beginPath(),B.arc(T.x,T.y/Ut,mt,0,2*Math.PI,!1),1!==Ut&&B.restore(),this._fillStroke(B,v)}},_fillStroke:function(v,T){var B=T.options;B.fill&&(v.globalAlpha=B.fillOpacity,v.fillStyle=B.fillColor||B.color,v.fill(B.fillRule||"evenodd")),B.stroke&&0!==B.weight&&(v.setLineDash&&v.setLineDash(T.options&&T.options._dashArray||[]),v.globalAlpha=B.opacity,v.lineWidth=B.weight,v.strokeStyle=B.color,v.lineCap=B.lineCap,v.lineJoin=B.lineJoin,v.stroke())},_onClick:function(v){for(var B,mt,T=this._map.mouseEventToLayerPoint(v),Ut=this._drawFirst;Ut;Ut=Ut.next)(B=Ut.layer).options.interactive&&B._containsPoint(T)&&("click"!==v.type&&"preclick"===v.type||!this._map._draggableMoved(B))&&(mt=B);mt&&(fc(v),this._fireEvent([mt],v))},_onMouseMove:function(v){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var T=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,T)}},_handleMouseOut:function(v){var T=this._hoveredLayer;T&&(fr(this._container,"leaflet-interactive"),this._fireEvent([T],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,T){if(!this._mouseHoverThrottled){for(var B,mt,Ut=this._drawFirst;Ut;Ut=Ut.next)(B=Ut.layer).options.interactive&&B._containsPoint(T)&&(mt=B);mt!==this._hoveredLayer&&(this._handleMouseOut(v),mt&&(Or(this._container,"leaflet-interactive"),this._fireEvent([mt],v,"mouseover"),this._hoveredLayer=mt)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],v),this._mouseHoverThrottled=!0,setTimeout(Y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,T,B){this._map._fireDOMEvent(T,B||T.type,v)},_bringToFront:function(v){var T=v._order;if(T){var B=T.next,mt=T.prev;if(!B)return;B.prev=mt,mt?mt.next=B:B&&(this._drawFirst=B),T.prev=this._drawLast,this._drawLast.next=T,T.next=null,this._drawLast=T,this._requestRedraw(v)}},_bringToBack:function(v){var T=v._order;if(T){var B=T.next,mt=T.prev;if(!mt)return;mt.next=B,B?B.prev=mt:mt&&(this._drawLast=mt),T.prev=null,T.next=this._drawFirst,this._drawFirst.prev=T,this._drawFirst=T,this._requestRedraw(v)}}});function Pu(v){return Ie?new ma(v):null}var Fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{return function(T){return document.createElement("<"+T+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),zs={_initContainer:function(){this._container=Yi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ws.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var T=v._container=Fr("shape");Or(T,"leaflet-vml-shape "+(this.options.className||"")),T.coordsize="1 1",v._path=Fr("path"),T.appendChild(v._path),this._updateStyle(v),this._layers[O(v)]=v},_addPath:function(v){var T=v._container;this._container.appendChild(T),v.options.interactive&&v.addInteractiveTarget(T)},_removePath:function(v){var T=v._container;Wr(T),v.removeInteractiveTarget(T),delete this._layers[O(v)]},_updateStyle:function(v){var T=v._stroke,B=v._fill,mt=v.options,Ut=v._container;Ut.stroked=!!mt.stroke,Ut.filled=!!mt.fill,mt.stroke?(T||(T=v._stroke=Fr("stroke")),Ut.appendChild(T),T.weight=mt.weight+"px",T.color=mt.color,T.opacity=mt.opacity,T.dashStyle=mt.dashArray?W(mt.dashArray)?mt.dashArray.join(" "):mt.dashArray.replace(/( *, *)/g," "):"",T.endcap=mt.lineCap.replace("butt","flat"),T.joinstyle=mt.lineJoin):T&&(Ut.removeChild(T),v._stroke=null),mt.fill?(B||(B=v._fill=Fr("fill")),Ut.appendChild(B),B.color=mt.fillColor||mt.color,B.opacity=mt.fillOpacity):B&&(Ut.removeChild(B),v._fill=null)},_updateCircle:function(v){var T=v._point.round(),B=Math.round(v._radius),mt=Math.round(v._radiusY||B);this._setPath(v,v._empty()?"M0 0":"AL "+T.x+","+T.y+" "+B+","+mt+" 0,23592600")},_setPath:function(v,T){v._path.v=T},_bringToFront:function(v){Ja(v._container)},_bringToBack:function(v){ss(v._container)}},ml=tn?Fr:Nt,Hl=ws.extend({getEvents:function(){var v=ws.prototype.getEvents.call(this);return v.zoomstart=this._onZoomStart,v},_initContainer:function(){this._container=ml("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ml("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wr(this._container),Rr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ws.prototype._update.call(this);var v=this._bounds,T=v.getSize(),B=this._container;(!this._svgSize||!this._svgSize.equals(T))&&(this._svgSize=T,B.setAttribute("width",T.x),B.setAttribute("height",T.y)),sn(B,v.min),B.setAttribute("viewBox",[v.min.x,v.min.y,T.x,T.y].join(" ")),this.fire("update")}},_initPath:function(v){var T=v._path=ml("path");v.options.className&&Or(T,v.options.className),v.options.interactive&&Or(T,"leaflet-interactive"),this._updateStyle(v),this._layers[O(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){Wr(v._path),v.removeInteractiveTarget(v._path),delete this._layers[O(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var T=v._path,B=v.options;T&&(B.stroke?(T.setAttribute("stroke",B.color),T.setAttribute("stroke-opacity",B.opacity),T.setAttribute("stroke-width",B.weight),T.setAttribute("stroke-linecap",B.lineCap),T.setAttribute("stroke-linejoin",B.lineJoin),B.dashArray?T.setAttribute("stroke-dasharray",B.dashArray):T.removeAttribute("stroke-dasharray"),B.dashOffset?T.setAttribute("stroke-dashoffset",B.dashOffset):T.removeAttribute("stroke-dashoffset")):T.setAttribute("stroke","none"),B.fill?(T.setAttribute("fill",B.fillColor||B.color),T.setAttribute("fill-opacity",B.fillOpacity),T.setAttribute("fill-rule",B.fillRule||"evenodd")):T.setAttribute("fill","none"))},_updatePoly:function(v,T){this._setPath(v,ht(v._parts,T))},_updateCircle:function(v){var T=v._point,B=Math.max(Math.round(v._radius),1),Ut="a"+B+","+(Math.max(Math.round(v._radiusY),1)||B)+" 0 1,0 ",me=v._empty()?"M0 0":"M"+(T.x-B)+","+T.y+Ut+2*B+",0 "+Ut+2*-B+",0 ";this._setPath(v,me)},_setPath:function(v,T){v._path.setAttribute("d",T)},_bringToFront:function(v){Ja(v._path)},_bringToBack:function(v){ss(v._path)}});function Tc(v){return je||tn?new Hl(v):null}tn&&Hl.include(zs),Nr.include({getRenderer:function(v){var T=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return T||(T=this._renderer=this._createRenderer()),this.hasLayer(T)||this.addLayer(T),T},_getPaneRenderer:function(v){if("overlayPane"===v||void 0===v)return!1;var T=this._paneRenderers[v];return void 0===T&&(T=this._createRenderer({pane:v}),this._paneRenderers[v]=T),T},_createRenderer:function(v){return this.options.preferCanvas&&Pu(v)||Tc(v)}});var ta=nl.extend({initialize:function(v,T){nl.prototype.initialize.call(this,this._boundsToLatLngs(v),T)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return[(v=jt(v)).getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});Hl.create=ml,Hl.pointsToPath=ht,cs.geometryToLayer=Xu,cs.coordsToLatLng=il,cs.coordsToLatLngs=Yo,cs.latLngToCoords=Xs,cs.latLngsToCoords=us,cs.getFeature=$s,cs.asFeature=he,Nr.mergeOptions({boxZoom:!0});var Lo=Ko.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){Pn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||1!==v.which&&1!==v.button)return!1;this._clearDeferredResetState(),this._resetState(),ui(),Ns(),this._startPoint=this._map.mouseEventToContainerPoint(v),Pn(document,{contextmenu:El,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=Yi("div","leaflet-zoom-box",this._container),Or(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var T=new Zt(this._point,this._startPoint),B=T.getSize();sn(this._box,T.min),this._box.style.width=B.x+"px",this._box.style.height=B.y+"px"},_finish:function(){this._moved&&(Wr(this._box),fr(this._container,"leaflet-crosshair")),mi(),pr(),Rr(document,{contextmenu:El,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if((1===v.which||1===v.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Y(this._resetState,this),0);var T=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(T).fire("boxzoomend",{boxZoomBounds:T})}},_onKeyDown:function(v){27===v.keyCode&&this._finish()}});Nr.addInitHook("addHandler","boxZoom",Lo),Nr.mergeOptions({doubleClickZoom:!0});var rl=Ko.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var T=this._map,B=T.getZoom(),mt=T.options.zoomDelta,Ut=v.originalEvent.shiftKey?B-mt:B+mt;"center"===T.options.doubleClickZoom?T.setZoom(Ut):T.setZoomAround(v.containerPoint,Ut)}});Nr.addInitHook("addHandler","doubleClickZoom",rl),Nr.mergeOptions({dragging:!0,inertia:!Et,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mo=Ko.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new pc(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}Or(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fr(this._map._container,"leaflet-grab"),fr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var T=jt(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(T.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(T.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var T=this._lastTime=+new Date,B=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(B),this._times.push(T),this._prunePositions(T)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),T=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=T.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,T){return v-(v-T)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var v=this._draggable._newPos.subtract(this._draggable._startPos),T=this._offsetLimit;v.x<T.min.x&&(v.x=this._viscousLimit(v.x,T.min.x)),v.y<T.min.y&&(v.y=this._viscousLimit(v.y,T.min.y)),v.x>T.max.x&&(v.x=this._viscousLimit(v.x,T.max.x)),v.y>T.max.y&&(v.y=this._viscousLimit(v.y,T.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,T=Math.round(v/2),B=this._initialWorldOffset,mt=this._draggable._newPos.x,Ut=(mt-T+B)%v+T-B,me=(mt+T+B)%v-T-B,Ze=Math.abs(Ut+B)<Math.abs(me+B)?Ut:me;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ze},_onDragEnd:function(v){var T=this._map,B=T.options,mt=!B.inertia||this._times.length<2;if(T.fire("dragend",v),mt)T.fire("moveend");else{this._prunePositions(+new Date);var Ut=this._lastPos.subtract(this._positions[0]),Ze=B.easeLinearity,yn=Ut.multiplyBy(Ze/((this._lastTime-this._times[0])/1e3)),Sn=yn.distanceTo([0,0]),Yn=Math.min(B.inertiaMaxSpeed,Sn),hi=yn.multiplyBy(Yn/Sn),cr=Yn/(B.inertiaDeceleration*Ze),Oo=hi.multiplyBy(-cr/2).round();Oo.x||Oo.y?(Oo=T._limitOffset(Oo,T.options.maxBounds),Pt(function(){T.panBy(Oo,{duration:cr,easeLinearity:Ze,noMoveStart:!0,animate:!0})})):T.fire("moveend")}}});Nr.addInitHook("addHandler","dragging",mo),Nr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jl=Ko.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),Pn(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,T=document.documentElement,B=v.scrollTop||T.scrollTop,mt=v.scrollLeft||T.scrollLeft;this._map._container.focus(),window.scrollTo(mt,B)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var mt,Ut,T=this._panKeys={},B=this.keyCodes;for(mt=0,Ut=B.left.length;mt<Ut;mt++)T[B.left[mt]]=[-1*v,0];for(mt=0,Ut=B.right.length;mt<Ut;mt++)T[B.right[mt]]=[v,0];for(mt=0,Ut=B.down.length;mt<Ut;mt++)T[B.down[mt]]=[0,v];for(mt=0,Ut=B.up.length;mt<Ut;mt++)T[B.up[mt]]=[0,-1*v]},_setZoomDelta:function(v){var mt,Ut,T=this._zoomKeys={},B=this.keyCodes;for(mt=0,Ut=B.zoomIn.length;mt<Ut;mt++)T[B.zoomIn[mt]]=v;for(mt=0,Ut=B.zoomOut.length;mt<Ut;mt++)T[B.zoomOut[mt]]=-v},_addHooks:function(){Pn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var mt,T=v.keyCode,B=this._map;if(T in this._panKeys)(!B._panAnim||!B._panAnim._inProgress)&&(mt=this._panKeys[T],v.shiftKey&&(mt=St(mt).multiplyBy(3)),B.panBy(mt),B.options.maxBounds&&B.panInsideBounds(B.options.maxBounds));else if(T in this._zoomKeys)B.setZoom(B.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[T]);else{if(27!==T||!B._popup||!B._popup.options.closeOnEscapeKey)return;B.closePopup()}El(v)}}});Nr.addInitHook("addHandler","keyboard",jl),Nr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jc=Ko.extend({addHooks:function(){Pn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var T=Sc(v),B=this._map.options.wheelDebounceTime;this._delta+=T,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var mt=Math.max(B-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Y(this._performZoom,this),mt),El(v)},_performZoom:function(){var v=this._map,T=v.getZoom(),B=this._map.options.zoomSnap||0;v._stop();var Ut=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,me=B?Math.ceil(Ut/B)*B:Ut,Ze=v._limitZoom(T+(this._delta>0?me:-me))-T;this._delta=0,this._startTime=null,Ze&&("center"===v.options.scrollWheelZoom?v.setZoom(T+Ze):v.setZoomAround(this._lastMousePos,T+Ze))}});Nr.addInitHook("addHandler","scrollWheelZoom",jc),Nr.mergeOptions({tap:!0,tapTolerance:15});var is=Ko.extend({addHooks:function(){Pn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(v.touches){if(tl(v),this._fireClick=!0,v.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var T=v.touches[0],B=T.target;this._startPos=this._newPos=new _t(T.clientX,T.clientY),B.tagName&&"a"===B.tagName.toLowerCase()&&Or(B,"leaflet-active"),this._holdTimeout=setTimeout(Y(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",T))},this),1e3),this._simulateEvent("mousedown",T),Pn(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(v){if(clearTimeout(this._holdTimeout),Rr(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&v&&v.changedTouches){var T=v.changedTouches[0],B=T.target;B&&B.tagName&&"a"===B.tagName.toLowerCase()&&fr(B,"leaflet-active"),this._simulateEvent("mouseup",T),this._isTapValid()&&this._simulateEvent("click",T)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(v){var T=v.touches[0];this._newPos=new _t(T.clientX,T.clientY),this._simulateEvent("mousemove",T)},_simulateEvent:function(v,T){var B=document.createEvent("MouseEvents");B._simulated=!0,T.target._simulatedClick=!0,B.initMouseEvent(v,!0,!0,window,1,T.screenX,T.screenY,T.clientX,T.clientY,!1,!1,!1,!1,0,null),T.target.dispatchEvent(B)}});bn&&(!rn||Je)&&Nr.addInitHook("addHandler","tap",is),Nr.mergeOptions({touchZoom:bn&&!Et,bounceAtZoomLimits:!0});var $a=Ko.extend({addHooks:function(){Or(this._map._container,"leaflet-touch-zoom"),Pn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fr(this._map._container,"leaflet-touch-zoom"),Rr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var T=this._map;if(v.touches&&2===v.touches.length&&!T._animatingZoom&&!this._zooming){var B=T.mouseEventToContainerPoint(v.touches[0]),mt=T.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=T.getSize()._divideBy(2),this._startLatLng=T.containerPointToLatLng(this._centerPoint),"center"!==T.options.touchZoom&&(this._pinchStartLatLng=T.containerPointToLatLng(B.add(mt)._divideBy(2))),this._startDist=B.distanceTo(mt),this._startZoom=T.getZoom(),this._moved=!1,this._zooming=!0,T._stop(),Pn(document,"touchmove",this._onTouchMove,this),Pn(document,"touchend",this._onTouchEnd,this),tl(v)}},_onTouchMove:function(v){if(v.touches&&2===v.touches.length&&this._zooming){var T=this._map,B=T.mouseEventToContainerPoint(v.touches[0]),mt=T.mouseEventToContainerPoint(v.touches[1]),Ut=B.distanceTo(mt)/this._startDist;if(this._zoom=T.getScaleZoom(Ut,this._startZoom),!T.options.bounceAtZoomLimits&&(this._zoom<T.getMinZoom()&&Ut<1||this._zoom>T.getMaxZoom()&&Ut>1)&&(this._zoom=T._limitZoom(this._zoom)),"center"===T.options.touchZoom){if(this._center=this._startLatLng,1===Ut)return}else{var me=B._add(mt)._divideBy(2)._subtract(this._centerPoint);if(1===Ut&&0===me.x&&0===me.y)return;this._center=T.unproject(T.project(this._pinchStartLatLng,this._zoom).subtract(me),this._zoom)}this._moved||(T._moveStart(!0,!1),this._moved=!0),Dt(this._animRequest);var Ze=Y(T._move,T,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Pt(Ze,this,!0),tl(v)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Dt(this._animRequest),Rr(document,"touchmove",this._onTouchMove,this),Rr(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Nr.addInitHook("addHandler","touchZoom",$a),Nr.BoxZoom=Lo,Nr.DoubleClickZoom=rl,Nr.Drag=mo,Nr.Keyboard=jl,Nr.ScrollWheelZoom=jc,Nr.Tap=is,Nr.TouchZoom=$a,Z.version="1.7.1",Z.Control=Tn,Z.control=$e,Z.Browser=fi,Z.Evented=Tt,Z.Mixin=Tu,Z.Util=It,Z.Class=ut,Z.Handler=Ko,Z.extend=rt,Z.bind=Y,Z.stamp=O,Z.setOptions=V,Z.DomEvent=Bo,Z.DomUtil=Ti,Z.PosAnimation=$o,Z.Draggable=pc,Z.LineUtil=ko,Z.PolyUtil=el,Z.Point=_t,Z.point=St,Z.Bounds=Zt,Z.bounds=Vt,Z.Transformation=Se,Z.transformation=wt,Z.Projection=di,Z.LatLng=ae,Z.latLng=ue,Z.LatLngBounds=Ce,Z.latLngBounds=jt,Z.CRS=Pe,Z.GeoJSON=cs,Z.geoJSON=Bs,Z.geoJson=xs,Z.Layer=Ts,Z.LayerGroup=Ys,Z.layerGroup=function(v,T){return new Ys(v,T)},Z.FeatureGroup=zl,Z.featureGroup=function(v,T){return new zl(v,T)},Z.ImageOverlay=wr,Z.imageOverlay=function(v,T,B){return new wr(v,T,B)},Z.VideoOverlay=mr,Z.videoOverlay=function po(v,T,B){return new mr(v,T,B)},Z.SVGOverlay=ds,Z.svgOverlay=function Ro(v,T,B){return new ds(v,T,B)},Z.DivOverlay=Ao,Z.Popup=Qo,Z.popup=function(v,T){return new Qo(v,T)},Z.Tooltip=Ul,Z.tooltip=function(v,T){return new Ul(v,T)},Z.Icon=Ds,Z.icon=function xo(v){return new Ds(v)},Z.DivIcon=Hi,Z.divIcon=function Is(v){return new Hi(v)},Z.Marker=Dl,Z.marker=function ic(v,T){return new Dl(v,T)},Z.TileLayer=hs,Z.tileLayer=gs,Z.GridLayer=pl,Z.gridLayer=function Gl(v){return new pl(v)},Z.SVG=Hl,Z.svg=Tc,Z.Renderer=ws,Z.Canvas=ma,Z.canvas=Pu,Z.Path=Rl,Z.CircleMarker=As,Z.circleMarker=function es(v,T){return new As(v,T)},Z.Circle=Od,Z.circle=function Pi(v,T,B){return new Od(v,T,B)},Z.Polyline=pa,Z.polyline=function Mc(v,T){return new pa(v,T)},Z.Polygon=nl,Z.polygon=function yi(v,T){return new nl(v,T)},Z.Rectangle=ta,Z.rectangle=function vc(v,T){return new ta(v,T)},Z.Map=Nr,Z.map=function pn(v,T){return new Nr(v,T)};var Wl=window.L;Z.noConflict=function(){return window.L=Wl,this},window.L=Z}(oe)},5943:Ye=>{"use strict";var oe=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;Ye.exports=function F(){try{if(!Object.assign)return!1;var Y=new String("abc");if(Y[5]="de","5"===Object.getOwnPropertyNames(Y)[0])return!1;for(var G={},O=0;O<10;O++)G["_"+String.fromCharCode(O)]=O;if("0123456789"!==Object.getOwnPropertyNames(G).map(function(st){return G[st]}).join(""))return!1;var ot={};return"abcdefghijklmnopqrst".split("").forEach(function(st){ot[st]=st}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},ot)).join("")}catch{return!1}}()?Object.assign:function(Y,G){for(var O,ot,Q=function rt(Y){if(null==Y)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Y)}(Y),st=1;st<arguments.length;st++){for(var at in O=Object(arguments[st]))Z.call(O,at)&&(Q[at]=O[at]);if(oe){ot=oe(O);for(var $=0;$<ot.length;$++)J.call(O,ot[$])&&(Q[ot[$]]=O[ot[$]])}}return Q}},1175:Ye=>{"use strict";var oe=function(Z){return Z!=Z};Ye.exports=function(J,rt){return 0===J&&0===rt?1/J==1/rt:!!(J===rt||oe(J)&&oe(rt))}},2e3:(Ye,oe,Z)=>{"use strict";var J=Z(2358),rt=Z(5685),F=Z(1175),Y=Z(6305),G=Z(3859),O=rt(Y(),Object);J(O,{getPolyfill:Y,implementation:F,shim:G}),Ye.exports=O},6305:(Ye,oe,Z)=>{"use strict";var J=Z(1175);Ye.exports=function(){return"function"==typeof Object.is?Object.is:J}},3859:(Ye,oe,Z)=>{"use strict";var J=Z(6305),rt=Z(2358);Ye.exports=function(){var Y=J();return rt(Object,{is:Y},{is:function(){return Object.is!==Y}}),Y}},2450:(Ye,oe,Z)=>{"use strict";var J;if(!Object.keys){var rt=Object.prototype.hasOwnProperty,F=Object.prototype.toString,Y=Z(9978),G=Object.prototype.propertyIsEnumerable,O=!G.call({toString:null},"toString"),Q=G.call(function(){},"prototype"),ot=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],st=function(V){var bt=V.constructor;return bt&&bt.prototype===V},at={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},$=function(){if(typeof window>"u")return!1;for(var V in window)try{if(!at["$"+V]&&rt.call(window,V)&&null!==window[V]&&"object"==typeof window[V])try{st(window[V])}catch{return!0}}catch{return!0}return!1}();J=function(bt){var X=null!==bt&&"object"==typeof bt,tt="[object Function]"===F.call(bt),W=Y(bt),nt=X&&"[object String]"===F.call(bt),z=[];if(!X&&!tt&&!W)throw new TypeError("Object.keys called on a non-object");var ct=Q&&tt;if(nt&&bt.length>0&&!rt.call(bt,0))for(var gt=0;gt<bt.length;++gt)z.push(String(gt));if(W&&bt.length>0)for(var Mt=0;Mt<bt.length;++Mt)z.push(String(Mt));else for(var Ct in bt)(!ct||"prototype"!==Ct)&&rt.call(bt,Ct)&&z.push(String(Ct));if(O)for(var q=function(V){if(typeof window>"u"||!$)return st(V);try{return st(V)}catch{return!1}}(bt),Pt=0;Pt<ot.length;++Pt)(!q||"constructor"!==ot[Pt])&&rt.call(bt,ot[Pt])&&z.push(ot[Pt]);return z}}Ye.exports=J},1356:(Ye,oe,Z)=>{"use strict";var J=Array.prototype.slice,rt=Z(9978),F=Object.keys,Y=F?function(Q){return F(Q)}:Z(2450),G=Object.keys;Y.shim=function(){if(Object.keys){var Q=function(){var ot=Object.keys(arguments);return ot&&ot.length===arguments.length}(1,2);Q||(Object.keys=function(st){return rt(st)?G(J.call(st)):G(st)})}else Object.keys=Y;return Object.keys||Y},Ye.exports=Y},9978:Ye=>{"use strict";var oe=Object.prototype.toString;Ye.exports=function(J){var rt=oe.call(J),F="[object Arguments]"===rt;return F||(F="[object Array]"!==rt&&null!==J&&"object"==typeof J&&"number"==typeof J.length&&J.length>=0&&"[object Function]"===oe.call(J.callee)),F}},1766:Ye=>{Ye.exports=function(Z,J,rt,F){var Y=Z[0],G=Z[1],O=!1;void 0===rt&&(rt=0),void 0===F&&(F=J.length);for(var Q=(F-rt)/2,ot=0,st=Q-1;ot<Q;st=ot++){var at=J[rt+2*ot+0],$=J[rt+2*ot+1],V=J[rt+2*st+1];$>G!=V>G&&Y<(J[rt+2*st+0]-at)*(G-$)/(V-$)+at&&(O=!O)}return O}},3870:(Ye,oe,Z)=>{var J=Z(1766),rt=Z(2260);Ye.exports=function(Y,G,O,Q){return G.length>0&&Array.isArray(G[0])?rt(Y,G,O,Q):J(Y,G,O,Q)},Ye.exports.nested=rt,Ye.exports.flat=J},2260:Ye=>{Ye.exports=function(Z,J,rt,F){var Y=Z[0],G=Z[1],O=!1;void 0===rt&&(rt=0),void 0===F&&(F=J.length);for(var Q=F-rt,ot=0,st=Q-1;ot<Q;st=ot++){var at=J[ot+rt][0],$=J[ot+rt][1],V=J[st+rt][1];$>G!=V>G&&Y<(J[st+rt][0]-at)*(G-$)/(V-$)+at&&(O=!O)}return O}},9855:function(Ye){Ye.exports=function(){"use strict";function oe(vt,M){if(!(vt instanceof M))throw new TypeError("Cannot call a class as a function")}function Z(vt,M){for(var P=0;P<M.length;P++){var U=M[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(vt,U.key,U)}}function J(vt,M,P){return M&&Z(vt.prototype,M),P&&Z(vt,P),vt}var rt=function vt(M,P){this.next=null,this.key=M,this.data=P,this.left=null,this.right=null};function F(vt,M){return vt>M?1:vt<M?-1:0}function Y(vt,M,P){for(var U=new rt(null,null),pt=U,Et=U;;){var Ot=P(vt,M.key);if(Ot<0){if(null===M.left)break;if(P(vt,M.left.key)<0&&(M.left=(pe=M.left).right,pe.right=M,null===(M=pe).left))break;Et.left=M,Et=M,M=M.left}else{if(!(Ot>0))break;if(null===M.right)break;var pe;if(P(vt,M.right.key)>0&&(M.right=(pe=M.right).left,pe.left=M,null===(M=pe).right))break;pt.right=M,pt=M,M=M.right}}return pt.right=M.left,Et.left=M.right,M.left=U.right,M.right=U.left,M}function G(vt,M,P,U){var pt=new rt(vt,M);if(null===P)return pt.left=pt.right=null,pt;var Et=U(vt,(P=Y(vt,P,U)).key);return Et<0?(pt.left=P.left,pt.right=P,P.left=null):Et>=0&&(pt.right=P.right,pt.left=P,P.right=null),pt}function O(vt,M,P){var U=null,pt=null;if(M){var Et=P((M=Y(vt,M,P)).key,vt);0===Et?(U=M.left,pt=M.right):Et<0?(pt=M.right,M.right=null,U=M):(U=M.left,M.left=null,pt=M)}return{left:U,right:pt}}function ot(vt,M,P,U,pt){if(vt){U(M+(P?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+pt(vt)+"\n");var Et=M+(P?"    ":"\u2502   ");vt.left&&ot(vt.left,Et,!1,U,pt),vt.right&&ot(vt.right,Et,!0,U,pt)}}var st=function(){function vt(M){void 0===M&&(M=F),this._root=null,this._size=0,this._comparator=M}return vt.prototype.insert=function(M,P){return this._size++,this._root=G(M,P,this._root,this._comparator)},vt.prototype.add=function(M,P){var U=new rt(M,P);null===this._root&&(U.left=U.right=null,this._size++,this._root=U);var pt=this._comparator,Et=Y(M,this._root,pt),Ot=pt(M,Et.key);return 0===Ot?this._root=Et:(Ot<0?(U.left=Et.left,U.right=Et,Et.left=null):Ot>0&&(U.right=Et.right,U.left=Et,Et.right=null),this._size++,this._root=U),this._root},vt.prototype.remove=function(M){this._root=this._remove(M,this._root,this._comparator)},vt.prototype._remove=function(M,P,U){var pt;return null===P?null:0===U(M,(P=Y(M,P,U)).key)?(null===P.left?pt=P.right:(pt=Y(M,P.left,U)).right=P.right,this._size--,pt):P},vt.prototype.pop=function(){var M=this._root;if(M){for(;M.left;)M=M.left;return this._root=Y(M.key,this._root,this._comparator),this._root=this._remove(M.key,this._root,this._comparator),{key:M.key,data:M.data}}return null},vt.prototype.findStatic=function(M){for(var P=this._root,U=this._comparator;P;){var pt=U(M,P.key);if(0===pt)return P;P=pt<0?P.left:P.right}return null},vt.prototype.find=function(M){return this._root&&(this._root=Y(M,this._root,this._comparator),0!==this._comparator(M,this._root.key))?null:this._root},vt.prototype.contains=function(M){for(var P=this._root,U=this._comparator;P;){var pt=U(M,P.key);if(0===pt)return!0;P=pt<0?P.left:P.right}return!1},vt.prototype.forEach=function(M,P){for(var U=this._root,pt=[],Et=!1;!Et;)null!==U?(pt.push(U),U=U.left):0!==pt.length?(U=pt.pop(),M.call(P,U),U=U.right):Et=!0;return this},vt.prototype.range=function(M,P,U,pt){for(var Et=[],Ot=this._comparator,pe=this._root;0!==Et.length||pe;)if(pe)Et.push(pe),pe=pe.left;else{if(Ot((pe=Et.pop()).key,P)>0)break;if(Ot(pe.key,M)>=0&&U.call(pt,pe))return this;pe=pe.right}return this},vt.prototype.keys=function(){var M=[];return this.forEach(function(P){return M.push(P.key)}),M},vt.prototype.values=function(){var M=[];return this.forEach(function(P){return M.push(P.data)}),M},vt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},vt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},vt.prototype.minNode=function(M){if(void 0===M&&(M=this._root),M)for(;M.left;)M=M.left;return M},vt.prototype.maxNode=function(M){if(void 0===M&&(M=this._root),M)for(;M.right;)M=M.right;return M},vt.prototype.at=function(M){for(var P=this._root,U=!1,pt=0,Et=[];!U;)if(P)Et.push(P),P=P.left;else if(Et.length>0){if(P=Et.pop(),pt===M)return P;pt++,P=P.right}else U=!0;return null},vt.prototype.next=function(M){var P=this._root,U=null;if(M.right){for(U=M.right;U.left;)U=U.left;return U}for(var pt=this._comparator;P;){var Et=pt(M.key,P.key);if(0===Et)break;Et<0?(U=P,P=P.left):P=P.right}return U},vt.prototype.prev=function(M){var P=this._root,U=null;if(null!==M.left){for(U=M.left;U.right;)U=U.right;return U}for(var pt=this._comparator;P;){var Et=pt(M.key,P.key);if(0===Et)break;Et<0?P=P.left:(U=P,P=P.right)}return U},vt.prototype.clear=function(){return this._root=null,this._size=0,this},vt.prototype.toList=function(){return function N(vt){for(var M=vt,P=[],U=!1,pt=new rt(null,null),Et=pt;!U;)M?(P.push(M),M=M.left):P.length>0?M=(M=Et=Et.next=P.pop()).right:U=!0;return Et.next=null,pt.next}(this._root)},vt.prototype.load=function(M,P,U){void 0===P&&(P=[]),void 0===U&&(U=!1);var pt=M.length,Et=this._comparator;if(U&&X(M,P,0,pt-1,Et),null===this._root)this._root=at(M,P,0,pt),this._size=pt;else{var Ot=function bt(vt,M,P){for(var U=new rt(null,null),pt=U,Et=vt,Ot=M;null!==Et&&null!==Ot;)P(Et.key,Ot.key)<0?(pt.next=Et,Et=Et.next):(pt.next=Ot,Ot=Ot.next),pt=pt.next;return null!==Et?pt.next=Et:null!==Ot&&(pt.next=Ot),U.next}(this.toList(),function $(vt,M){for(var P=new rt(null,null),U=P,pt=0;pt<vt.length;pt++)U=U.next=new rt(vt[pt],M[pt]);return U.next=null,P.next}(M,P),Et);this._root=V({head:Ot},0,pt=this._size+pt)}return this},vt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(vt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),vt.prototype.toString=function(M){void 0===M&&(M=function(pt){return String(pt.key)});var P=[];return ot(this._root,"",!0,function(U){return P.push(U)},M),P.join("")},vt.prototype.update=function(M,P,U){var pt=this._comparator,Et=O(M,this._root,pt),Ot=Et.left,pe=Et.right;pt(M,P)<0?pe=G(P,U,pe,pt):Ot=G(P,U,Ot,pt),this._root=function Q(vt,M,P){return null===M?vt:(null===vt||((M=Y(vt.key,M,P)).left=vt),M)}(Ot,pe,pt)},vt.prototype.split=function(M){return O(M,this._root,this._comparator)},vt}();function at(vt,M,P,U){var pt=U-P;if(pt>0){var Et=P+Math.floor(pt/2),ye=new rt(vt[Et],M[Et]);return ye.left=at(vt,M,P,Et),ye.right=at(vt,M,Et+1,U),ye}return null}function V(vt,M,P){var U=P-M;if(U>0){var pt=M+Math.floor(U/2),Et=V(vt,M,pt),Ot=vt.head;return Ot.left=Et,vt.head=vt.head.next,Ot.right=V(vt,pt+1,P),Ot}return null}function X(vt,M,P,U,pt){if(!(P>=U)){for(var Et=vt[P+U>>1],Ot=P-1,pe=U+1;;){do{Ot++}while(pt(vt[Ot],Et)<0);do{pe--}while(pt(vt[pe],Et)>0);if(Ot>=pe)break;var ye=vt[Ot];vt[Ot]=vt[pe],vt[pe]=ye,ye=M[Ot],M[Ot]=M[pe],M[pe]=ye}X(vt,M,P,pe,pt),X(vt,M,pe+1,U,pt)}}var tt=function(M,P){return M.ll.x<=P.x&&P.x<=M.ur.x&&M.ll.y<=P.y&&P.y<=M.ur.y},W=function(M,P){return P.ur.x<M.ll.x||M.ur.x<P.ll.x||P.ur.y<M.ll.y||M.ur.y<P.ll.y?null:{ll:{x:M.ll.x<P.ll.x?P.ll.x:M.ll.x,y:M.ll.y<P.ll.y?P.ll.y:M.ll.y},ur:{x:M.ur.x<P.ur.x?M.ur.x:P.ur.x,y:M.ur.y<P.ur.y?M.ur.y:P.ur.y}}},nt=Number.EPSILON;void 0===nt&&(nt=Math.pow(2,-52));var z=nt*nt,ct=function(M,P){if(-nt<M&&M<nt&&-nt<P&&P<nt)return 0;var U=M-P;return U*U<z*M*P?0:M<P?-1:1},gt=function(){function vt(){oe(this,vt),this.reset()}return J(vt,[{key:"reset",value:function(){this.xRounder=new Mt,this.yRounder=new Mt}},{key:"round",value:function(P,U){return{x:this.xRounder.round(P),y:this.yRounder.round(U)}}}]),vt}(),Mt=function(){function vt(){oe(this,vt),this.tree=new st,this.round(0)}return J(vt,[{key:"round",value:function(P){var U=this.tree.add(P),pt=this.tree.prev(U);if(null!==pt&&0===ct(U.key,pt.key))return this.tree.remove(P),pt.key;var Et=this.tree.next(U);return null!==Et&&0===ct(U.key,Et.key)?(this.tree.remove(P),Et.key):P}}]),vt}(),Ct=new gt,q=function(M,P){return M.x*P.y-M.y*P.x},Pt=function(M,P){return M.x*P.x+M.y*P.y},Dt=function(M,P,U){var Ot=q({x:P.x-M.x,y:P.y-M.y},{x:U.x-M.x,y:U.y-M.y});return ct(Ot,0)},It=function(M){return Math.sqrt(Pt(M,M))},ut=function(M,P,U){var pt={x:P.x-M.x,y:P.y-M.y},Et={x:U.x-M.x,y:U.y-M.y};return q(Et,pt)/It(Et)/It(pt)},re=function(M,P,U){var pt={x:P.x-M.x,y:P.y-M.y},Et={x:U.x-M.x,y:U.y-M.y};return Pt(Et,pt)/It(Et)/It(pt)},se=function(M,P,U){return 0===P.y?null:{x:M.x+P.x/P.y*(U-M.y),y:U}},Tt=function(M,P,U){return 0===P.x?null:{x:U,y:M.y+P.y/P.x*(U-M.x)}},dt=function(){function vt(M,P){oe(this,vt),void 0===M.events?M.events=[this]:M.events.push(this),this.point=M,this.isLeft=P}return J(vt,null,[{key:"compare",value:function(P,U){var pt=vt.comparePoints(P.point,U.point);return 0!==pt?pt:(P.point!==U.point&&P.link(U),P.isLeft!==U.isLeft?P.isLeft?1:-1:Zt.compare(P.segment,U.segment))}},{key:"comparePoints",value:function(P,U){return P.x<U.x?-1:P.x>U.x?1:P.y<U.y?-1:P.y>U.y?1:0}}]),J(vt,[{key:"link",value:function(P){if(P.point===this.point)throw new Error("Tried to link already linked events");for(var U=P.point.events,pt=0,Et=U.length;pt<Et;pt++){var Ot=U[pt];this.point.events.push(Ot),Ot.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var P=this.point.events.length,U=0;U<P;U++){var pt=this.point.events[U];if(void 0===pt.segment.consumedBy)for(var Et=U+1;Et<P;Et++){var Ot=this.point.events[Et];void 0===Ot.consumedBy&&pt.otherSE.point.events===Ot.otherSE.point.events&&pt.segment.consume(Ot.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var P=[],U=0,pt=this.point.events.length;U<pt;U++){var Et=this.point.events[U];Et!==this&&!Et.segment.ringOut&&Et.segment.isInResult()&&P.push(Et)}return P}},{key:"getLeftmostComparator",value:function(P){var U=this,pt=new Map,Et=function(pe){var ye=pe.otherSE;pt.set(pe,{sine:ut(U.point,P.point,ye.point),cosine:re(U.point,P.point,ye.point)})};return function(Ot,pe){pt.has(Ot)||Et(Ot),pt.has(pe)||Et(pe);var ye=pt.get(Ot),xe=ye.sine,ze=ye.cosine,Je=pt.get(pe),Ve=Je.sine,ln=Je.cosine;return xe>=0&&Ve>=0?ze<ln?1:ze>ln?-1:0:xe<0&&Ve<0?ze<ln?-1:ze>ln?1:0:Ve<xe?-1:Ve>xe?1:0}}}]),vt}(),St=0,Zt=function(){function vt(M,P,U,pt){oe(this,vt),this.id=++St,this.leftSE=M,M.segment=this,M.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=M,this.rings=U,this.windings=pt}return J(vt,null,[{key:"compare",value:function(P,U){var pt=P.leftSE.point.x,Et=U.leftSE.point.x,Ot=P.rightSE.point.x,pe=U.rightSE.point.x;if(pe<pt)return 1;if(Ot<Et)return-1;var ye=P.leftSE.point.y,xe=U.leftSE.point.y,ze=P.rightSE.point.y,Je=U.rightSE.point.y;if(pt<Et){if(xe<ye&&xe<ze)return 1;if(xe>ye&&xe>ze)return-1;var Ve=P.comparePoint(U.leftSE.point);if(Ve<0)return 1;if(Ve>0)return-1;var ln=U.comparePoint(P.rightSE.point);return 0!==ln?ln:-1}if(pt>Et){if(ye<xe&&ye<Je)return-1;if(ye>xe&&ye>Je)return 1;var fn=U.comparePoint(P.leftSE.point);if(0!==fn)return fn;var dn=P.comparePoint(U.rightSE.point);return dn<0?1:dn>0?-1:1}if(ye<xe)return-1;if(ye>xe)return 1;if(Ot<pe){var xn=U.comparePoint(P.rightSE.point);if(0!==xn)return xn}if(Ot>pe){var cn=P.comparePoint(U.rightSE.point);if(cn<0)return 1;if(cn>0)return-1}if(Ot!==pe){var ke=ze-ye,Kt=Ot-pt,ge=Je-xe,Le=pe-Et;if(ke>Kt&&ge<Le)return 1;if(ke<Kt&&ge>Le)return-1}return Ot>pe?1:Ot<pe||ze<Je?-1:ze>Je?1:P.id<U.id?-1:P.id>U.id?1:0}}]),J(vt,[{key:"replaceRightSE",value:function(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var P=this.leftSE.point.y,U=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<U?P:U},ur:{x:this.rightSE.point.x,y:P>U?P:U}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}},{key:"comparePoint",value:function(P){if(this.isAnEndpoint(P))return 0;var U=this.leftSE.point,pt=this.rightSE.point,Et=this.vector();if(U.x===pt.x)return P.x===U.x?0:P.x<U.x?1:-1;if(P.x===U.x+(P.y-U.y)/Et.y*Et.x)return 0;var xe=U.y+(P.x-U.x)/Et.x*Et.y;return P.y===xe?0:P.y<xe?-1:1}},{key:"getIntersection",value:function(P){var U=this.bbox(),pt=P.bbox(),Et=W(U,pt);if(null===Et)return null;var Ot=this.leftSE.point,pe=this.rightSE.point,ye=P.leftSE.point,xe=P.rightSE.point,ze=tt(U,ye)&&0===this.comparePoint(ye),Je=tt(pt,Ot)&&0===P.comparePoint(Ot),Ve=tt(U,xe)&&0===this.comparePoint(xe),ln=tt(pt,pe)&&0===P.comparePoint(pe);if(Je&&ze)return ln&&!Ve?pe:!ln&&Ve?xe:null;if(Je)return Ve&&Ot.x===xe.x&&Ot.y===xe.y?null:Ot;if(ze)return ln&&pe.x===ye.x&&pe.y===ye.y?null:ye;if(ln&&Ve)return null;if(ln)return pe;if(Ve)return xe;var fn=function(M,P,U,pt){if(0===P.x)return Tt(U,pt,M.x);if(0===pt.x)return Tt(M,P,U.x);if(0===P.y)return se(U,pt,M.y);if(0===pt.y)return se(M,P,U.y);var Et=q(P,pt);if(0==Et)return null;var Ot={x:U.x-M.x,y:U.y-M.y},pe=q(Ot,P)/Et,ye=q(Ot,pt)/Et;return{x:(M.x+ye*P.x+(U.x+pe*pt.x))/2,y:(M.y+ye*P.y+(U.y+pe*pt.y))/2}}(Ot,this.vector(),ye,P.vector());return null!==fn&&tt(Et,fn)?Ct.round(fn.x,fn.y):null}},{key:"split",value:function(P){var U=[],pt=void 0!==P.events,Et=new dt(P,!0),Ot=new dt(P,!1),pe=this.rightSE;this.replaceRightSE(Ot),U.push(Ot),U.push(Et);var ye=new vt(Et,pe,this.rings.slice(),this.windings.slice());return dt.comparePoints(ye.leftSE.point,ye.rightSE.point)>0&&ye.swapEvents(),dt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),pt&&(Et.checkForConsuming(),Ot.checkForConsuming()),U}},{key:"swapEvents",value:function(){var P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var U=0,pt=this.windings.length;U<pt;U++)this.windings[U]*=-1}},{key:"consume",value:function(P){for(var U=this,pt=P;U.consumedBy;)U=U.consumedBy;for(;pt.consumedBy;)pt=pt.consumedBy;var Et=vt.compare(U,pt);if(0!==Et){if(Et>0){var Ot=U;U=pt,pt=Ot}if(U.prev===pt){var pe=U;U=pt,pt=pe}for(var ye=0,xe=pt.rings.length;ye<xe;ye++){var ze=pt.rings[ye],Je=pt.windings[ye],Ve=U.rings.indexOf(ze);-1===Ve?(U.rings.push(ze),U.windings.push(Je)):U.windings[Ve]+=Je}pt.rings=null,pt.windings=null,pt.consumedBy=U,pt.leftSE.consumedBy=U.leftSE,pt.rightSE.consumedBy=U.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};for(var U=this._afterState.rings,pt=this._afterState.windings,Et=this._afterState.multiPolys,Ot=0,pe=this.rings.length;Ot<pe;Ot++){var ye=this.rings[Ot],xe=this.windings[Ot],ze=U.indexOf(ye);-1===ze?(U.push(ye),pt.push(xe)):pt[ze]+=xe}for(var Je=[],Ve=[],ln=0,fn=U.length;ln<fn;ln++)if(0!==pt[ln]){var dn=U[ln],xn=dn.poly;if(-1===Ve.indexOf(xn))if(dn.isExterior)Je.push(xn);else{-1===Ve.indexOf(xn)&&Ve.push(xn);var cn=Je.indexOf(dn.poly);-1!==cn&&Je.splice(cn,1)}}for(var ke=0,Kt=Je.length;ke<Kt;ke++){var ge=Je[ke].multiPoly;-1===Et.indexOf(ge)&&Et.push(ge)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var P=this.beforeState().multiPolys,U=this.afterState().multiPolys;switch(wt.type){case"union":this._isInResult=0===P.length!=(0===U.length);break;case"intersection":var Ot,pe;P.length<U.length?(Ot=P.length,pe=U.length):(Ot=U.length,pe=P.length),this._isInResult=pe===wt.numMultiPolys&&Ot<pe;break;case"xor":var ye=Math.abs(P.length-U.length);this._isInResult=ye%2==1;break;case"difference":var xe=function(Je){return 1===Je.length&&Je[0].isSubject};this._isInResult=xe(P)!==xe(U);break;default:throw new Error("Unrecognized operation type found ".concat(wt.type))}return this._isInResult}}],[{key:"fromRing",value:function(P,U,pt){var Et,Ot,pe,ye=dt.comparePoints(P,U);if(ye<0)Et=P,Ot=U,pe=1;else{if(!(ye>0))throw new Error("Tried to create degenerate segment at [".concat(P.x,", ").concat(P.y,"]"));Et=U,Ot=P,pe=-1}return new vt(new dt(Et,!0),new dt(Ot,!1),[pt],[pe])}}]),vt}(),Vt=function(){function vt(M,P,U){if(oe(this,vt),!Array.isArray(M)||0===M.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=U,this.segments=[],"number"!=typeof M[0][0]||"number"!=typeof M[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var pt=Ct.round(M[0][0],M[0][1]);this.bbox={ll:{x:pt.x,y:pt.y},ur:{x:pt.x,y:pt.y}};for(var Et=pt,Ot=1,pe=M.length;Ot<pe;Ot++){if("number"!=typeof M[Ot][0]||"number"!=typeof M[Ot][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ye=Ct.round(M[Ot][0],M[Ot][1]);ye.x===Et.x&&ye.y===Et.y||(this.segments.push(Zt.fromRing(Et,ye,this)),ye.x<this.bbox.ll.x&&(this.bbox.ll.x=ye.x),ye.y<this.bbox.ll.y&&(this.bbox.ll.y=ye.y),ye.x>this.bbox.ur.x&&(this.bbox.ur.x=ye.x),ye.y>this.bbox.ur.y&&(this.bbox.ur.y=ye.y),Et=ye)}(pt.x!==Et.x||pt.y!==Et.y)&&this.segments.push(Zt.fromRing(Et,pt,this))}return J(vt,[{key:"getSweepEvents",value:function(){for(var P=[],U=0,pt=this.segments.length;U<pt;U++){var Et=this.segments[U];P.push(Et.leftSE),P.push(Et.rightSE)}return P}}]),vt}(),Ce=function(){function vt(M,P){if(oe(this,vt),!Array.isArray(M))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Vt(M[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var U=1,pt=M.length;U<pt;U++){var Et=new Vt(M[U],this,!1);Et.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Et.bbox.ll.x),Et.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Et.bbox.ll.y),Et.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Et.bbox.ur.x),Et.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Et.bbox.ur.y),this.interiorRings.push(Et)}this.multiPoly=P}return J(vt,[{key:"getSweepEvents",value:function(){for(var P=this.exteriorRing.getSweepEvents(),U=0,pt=this.interiorRings.length;U<pt;U++)for(var Et=this.interiorRings[U].getSweepEvents(),Ot=0,pe=Et.length;Ot<pe;Ot++)P.push(Et[Ot]);return P}}]),vt}(),jt=function(){function vt(M,P){if(oe(this,vt),!Array.isArray(M))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof M[0][0][0]&&(M=[M])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var U=0,pt=M.length;U<pt;U++){var Et=new Ce(M[U],this);Et.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Et.bbox.ll.x),Et.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Et.bbox.ll.y),Et.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Et.bbox.ur.x),Et.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Et.bbox.ur.y),this.polys.push(Et)}this.isSubject=P}return J(vt,[{key:"getSweepEvents",value:function(){for(var P=[],U=0,pt=this.polys.length;U<pt;U++)for(var Et=this.polys[U].getSweepEvents(),Ot=0,pe=Et.length;Ot<pe;Ot++)P.push(Et[Ot]);return P}}]),vt}(),ae=function(){function vt(M){oe(this,vt),this.events=M;for(var P=0,U=M.length;P<U;P++)M[P].segment.ringOut=this;this.poly=null}return J(vt,null,[{key:"factory",value:function(P){for(var U=[],pt=0,Et=P.length;pt<Et;pt++){var Ot=P[pt];if(Ot.isInResult()&&!Ot.ringOut){for(var pe=null,ye=Ot.leftSE,xe=Ot.rightSE,ze=[ye],Je=ye.point,Ve=[];pe=ye,ze.push(ye=xe),ye.point!==Je;)for(;;){var ln=ye.getAvailableLinkedEvents();if(0===ln.length){var fn=ze[0].point,dn=ze[ze.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(fn.x,",")+" ".concat(fn.y,"]. Last matching segment found ends at")+" [".concat(dn.x,", ").concat(dn.y,"]."))}if(1===ln.length){xe=ln[0].otherSE;break}for(var xn=null,cn=0,ke=Ve.length;cn<ke;cn++)if(Ve[cn].point===ye.point){xn=cn;break}if(null===xn){Ve.push({index:ze.length,point:ye.point});var Le=ye.getLeftmostComparator(pe);xe=ln.sort(Le)[0].otherSE;break}var Kt=Ve.splice(xn)[0],ge=ze.splice(Kt.index);ge.unshift(ge[0].otherSE),U.push(new vt(ge.reverse()))}U.push(new vt(ze))}}return U}}]),J(vt,[{key:"getGeom",value:function(){for(var P=this.events[0].point,U=[P],pt=1,Et=this.events.length-1;pt<Et;pt++){var Ot=this.events[pt].point;0!==Dt(Ot,P,this.events[pt+1].point)&&(U.push(Ot),P=Ot)}if(1===U.length)return null;0===Dt(U[0],P,U[1])&&U.shift(),U.push(U[0]);for(var ze=this.isExteriorRing()?1:-1,Je=this.isExteriorRing()?0:U.length-1,Ve=this.isExteriorRing()?U.length:-1,ln=[],fn=Je;fn!=Ve;fn+=ze)ln.push([U[fn].x,U[fn].y]);return ln}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var P=this.events[0],U=1,pt=this.events.length;U<pt;U++){var Et=this.events[U];dt.compare(P,Et)>0&&(P=Et)}for(var Ot=P.segment.prevInResult(),pe=Ot?Ot.prevInResult():null;;){if(!Ot)return null;if(!pe)return Ot.ringOut;if(pe.ringOut!==Ot.ringOut)return pe.ringOut.enclosingRing()!==Ot.ringOut?Ot.ringOut:Ot.ringOut.enclosingRing();Ot=pe.prevInResult(),pe=Ot?Ot.prevInResult():null}}}]),vt}(),ue=function(){function vt(M){oe(this,vt),this.exteriorRing=M,M.poly=this,this.interiorRings=[]}return J(vt,[{key:"addInterior",value:function(P){this.interiorRings.push(P),P.poly=this}},{key:"getGeom",value:function(){var P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(var U=0,pt=this.interiorRings.length;U<pt;U++){var Et=this.interiorRings[U].getGeom();null!==Et&&P.push(Et)}return P}}]),vt}(),Pe=function(){function vt(M){oe(this,vt),this.rings=M,this.polys=this._composePolys(M)}return J(vt,[{key:"getGeom",value:function(){for(var P=[],U=0,pt=this.polys.length;U<pt;U++){var Et=this.polys[U].getGeom();null!==Et&&P.push(Et)}return P}},{key:"_composePolys",value:function(P){for(var U=[],pt=0,Et=P.length;pt<Et;pt++){var Ot=P[pt];if(!Ot.poly)if(Ot.isExteriorRing())U.push(new ue(Ot));else{var pe=Ot.enclosingRing();pe.poly||U.push(new ue(pe)),pe.poly.addInterior(Ot)}}return U}}]),vt}(),He=function(){function vt(M){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.compare;oe(this,vt),this.queue=M,this.tree=new st(P),this.segments=[]}return J(vt,[{key:"process",value:function(P){var U=P.segment,pt=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(U),pt;var Et=P.isLeft?this.tree.insert(U):this.tree.find(U);if(!Et)throw new Error("Unable to find segment #".concat(U.id," ")+"[".concat(U.leftSE.point.x,", ").concat(U.leftSE.point.y,"] -> ")+"[".concat(U.rightSE.point.x,", ").concat(U.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Ot=Et,pe=Et,ye=void 0,xe=void 0;void 0===ye;)null===(Ot=this.tree.prev(Ot))?ye=null:void 0===Ot.key.consumedBy&&(ye=Ot.key);for(;void 0===xe;)null===(pe=this.tree.next(pe))?xe=null:void 0===pe.key.consumedBy&&(xe=pe.key);if(P.isLeft){var ze=null;if(ye){var Je=ye.getIntersection(U);if(null!==Je&&(U.isAnEndpoint(Je)||(ze=Je),!ye.isAnEndpoint(Je)))for(var Ve=this._splitSafely(ye,Je),ln=0,fn=Ve.length;ln<fn;ln++)pt.push(Ve[ln])}var dn=null;if(xe){var xn=xe.getIntersection(U);if(null!==xn&&(U.isAnEndpoint(xn)||(dn=xn),!xe.isAnEndpoint(xn)))for(var cn=this._splitSafely(xe,xn),ke=0,Kt=cn.length;ke<Kt;ke++)pt.push(cn[ke])}if(null!==ze||null!==dn){var ge;ge=null===ze?dn:null===dn||dt.comparePoints(ze,dn)<=0?ze:dn,this.queue.remove(U.rightSE),pt.push(U.rightSE);for(var We=U.split(ge),rn=0,bn=We.length;rn<bn;rn++)pt.push(We[rn])}pt.length>0?(this.tree.remove(U),pt.push(P)):(this.segments.push(U),U.prev=ye)}else{if(ye&&xe){var nn=ye.getIntersection(xe);if(null!==nn){if(!ye.isAnEndpoint(nn))for(var wn=this._splitSafely(ye,nn),zt=0,Qt=wn.length;zt<Qt;zt++)pt.push(wn[zt]);if(!xe.isAnEndpoint(nn))for(var Ie=this._splitSafely(xe,nn),je=0,tn=Ie.length;je<tn;je++)pt.push(Ie[je])}}this.tree.remove(U)}return pt}},{key:"_splitSafely",value:function(P,U){this.tree.remove(P);var pt=P.rightSE;this.queue.remove(pt);var Et=P.split(U);return Et.push(pt),void 0===P.consumedBy&&this.tree.insert(P),Et}}]),vt}(),de=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,we=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,wt=new(function(){function vt(){oe(this,vt)}return J(vt,[{key:"run",value:function(P,U,pt){wt.type=P,Ct.reset();for(var Et=[new jt(U,!0)],Ot=0,pe=pt.length;Ot<pe;Ot++)Et.push(new jt(pt[Ot],!1));if(wt.numMultiPolys=Et.length,"difference"===wt.type)for(var ye=Et[0],xe=1;xe<Et.length;)null!==W(Et[xe].bbox,ye.bbox)?xe++:Et.splice(xe,1);if("intersection"===wt.type)for(var ze=0,Je=Et.length;ze<Je;ze++)for(var Ve=Et[ze],ln=ze+1,fn=Et.length;ln<fn;ln++)if(null===W(Ve.bbox,Et[ln].bbox))return[];for(var dn=new st(dt.compare),xn=0,cn=Et.length;xn<cn;xn++)for(var ke=Et[xn].getSweepEvents(),Kt=0,ge=ke.length;Kt<ge;Kt++)if(dn.insert(ke[Kt]),dn.size>de)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Le=new He(dn),We=dn.size,rn=dn.pop();rn;){var bn=rn.key;if(dn.size===We){var nn=bn.segment;throw new Error("Unable to pop() ".concat(bn.isLeft?"left":"right"," SweepEvent ")+"[".concat(bn.point.x,", ").concat(bn.point.y,"] from segment #").concat(nn.id," ")+"[".concat(nn.leftSE.point.x,", ").concat(nn.leftSE.point.y,"] -> ")+"[".concat(nn.rightSE.point.x,", ").concat(nn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(dn.size>de)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Le.segments.length>we)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var wn=Le.process(bn),zt=0,Qt=wn.length;zt<Qt;zt++){var Ie=wn[zt];void 0===Ie.consumedBy&&dn.insert(Ie)}We=dn.size,rn=dn.pop()}Ct.reset();var je=ae.factory(Le.segments);return new Pe(je).getGeom()}}]),vt}());return{union:function(M){for(var P=arguments.length,U=new Array(P>1?P-1:0),pt=1;pt<P;pt++)U[pt-1]=arguments[pt];return wt.run("union",M,U)},intersection:function(M){for(var P=arguments.length,U=new Array(P>1?P-1:0),pt=1;pt<P;pt++)U[pt-1]=arguments[pt];return wt.run("intersection",M,U)},xor:function(M){for(var P=arguments.length,U=new Array(P>1?P-1:0),pt=1;pt<P;pt++)U[pt-1]=arguments[pt];return wt.run("xor",M,U)},difference:function(M){for(var P=arguments.length,U=new Array(P>1?P-1:0),pt=1;pt<P;pt++)U[pt-1]=arguments[pt];return wt.run("difference",M,U)}}}()},4678:function(Ye){Ye.exports=function(){"use strict";function Z(F,Y,G,O,Q){for(;O>G;){if(O-G>600){var ot=O-G+1,st=Y-G+1,at=Math.log(ot),$=.5*Math.exp(2*at/3),N=.5*Math.sqrt(at*$*(ot-$)/ot)*(st-ot/2<0?-1:1);Z(F,Y,Math.max(G,Math.floor(Y-st*$/ot+N)),Math.min(O,Math.floor(Y+(ot-st)*$/ot+N)),Q)}var X=F[Y],tt=G,W=O;for(J(F,G,Y),Q(F[O],X)>0&&J(F,G,O);tt<W;){for(J(F,tt,W),tt++,W--;Q(F[tt],X)<0;)tt++;for(;Q(F[W],X)>0;)W--}0===Q(F[G],X)?J(F,G,W):J(F,++W,O),W<=Y&&(G=W+1),Y<=W&&(O=W-1)}}function J(F,Y,G){var O=F[Y];F[Y]=F[G],F[G]=O}function rt(F,Y){return F<Y?-1:F>Y?1:0}return function oe(F,Y,G,O,Q){Z(F,Y,G||0,O||F.length-1,Q||rt)}}()},3544:(Ye,oe,Z)=>{"use strict";Ye.exports=rt,Ye.exports.default=rt;var J=Z(4678);function rt(W,nt){if(!(this instanceof rt))return new rt(W,nt);this._maxEntries=Math.max(4,W||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),nt&&this._initFormat(nt),this.clear()}function F(W,nt,z){if(!z)return nt.indexOf(W);for(var ct=0;ct<nt.length;ct++)if(z(W,nt[ct]))return ct;return-1}function Y(W,nt){G(W,0,W.children.length,nt,W)}function G(W,nt,z,ct,gt){gt||(gt=X(null)),gt.minX=1/0,gt.minY=1/0,gt.maxX=-1/0,gt.maxY=-1/0;for(var Ct,Mt=nt;Mt<z;Mt++)Ct=W.children[Mt],O(gt,W.leaf?ct(Ct):Ct);return gt}function O(W,nt){return W.minX=Math.min(W.minX,nt.minX),W.minY=Math.min(W.minY,nt.minY),W.maxX=Math.max(W.maxX,nt.maxX),W.maxY=Math.max(W.maxY,nt.maxY),W}function Q(W,nt){return W.minX-nt.minX}function ot(W,nt){return W.minY-nt.minY}function st(W){return(W.maxX-W.minX)*(W.maxY-W.minY)}function at(W){return W.maxX-W.minX+(W.maxY-W.minY)}function $(W,nt){return(Math.max(nt.maxX,W.maxX)-Math.min(nt.minX,W.minX))*(Math.max(nt.maxY,W.maxY)-Math.min(nt.minY,W.minY))}function N(W,nt){var z=Math.max(W.minX,nt.minX),ct=Math.max(W.minY,nt.minY),gt=Math.min(W.maxX,nt.maxX),Mt=Math.min(W.maxY,nt.maxY);return Math.max(0,gt-z)*Math.max(0,Mt-ct)}function V(W,nt){return W.minX<=nt.minX&&W.minY<=nt.minY&&nt.maxX<=W.maxX&&nt.maxY<=W.maxY}function bt(W,nt){return nt.minX<=W.maxX&&nt.minY<=W.maxY&&nt.maxX>=W.minX&&nt.maxY>=W.minY}function X(W){return{children:W,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tt(W,nt,z,ct,gt){for(var Ct,Mt=[nt,z];Mt.length;)!((z=Mt.pop())-(nt=Mt.pop())<=ct)&&(Ct=nt+Math.ceil((z-nt)/ct/2)*ct,J(W,Ct,nt,z,gt),Mt.push(nt,Ct,Ct,z))}rt.prototype={all:function(){return this._all(this.data,[])},search:function(W){var nt=this.data,z=[],ct=this.toBBox;if(!bt(W,nt))return z;for(var Mt,Ct,q,Pt,gt=[];nt;){for(Mt=0,Ct=nt.children.length;Mt<Ct;Mt++)q=nt.children[Mt],bt(W,Pt=nt.leaf?ct(q):q)&&(nt.leaf?z.push(q):V(W,Pt)?this._all(q,z):gt.push(q));nt=gt.pop()}return z},collides:function(W){var nt=this.data,z=this.toBBox;if(!bt(W,nt))return!1;for(var gt,Mt,Ct,q,ct=[];nt;){for(gt=0,Mt=nt.children.length;gt<Mt;gt++)if(Ct=nt.children[gt],bt(W,q=nt.leaf?z(Ct):Ct)){if(nt.leaf||V(W,q))return!0;ct.push(Ct)}nt=ct.pop()}return!1},load:function(W){if(!W||!W.length)return this;if(W.length<this._minEntries){for(var nt=0,z=W.length;nt<z;nt++)this.insert(W[nt]);return this}var ct=this._build(W.slice(),0,W.length-1,0);if(this.data.children.length)if(this.data.height===ct.height)this._splitRoot(this.data,ct);else{if(this.data.height<ct.height){var gt=this.data;this.data=ct,ct=gt}this._insert(ct,this.data.height-ct.height-1,!0)}else this.data=ct;return this},insert:function(W){return W&&this._insert(W,this.data.height-1),this},clear:function(){return this.data=X([]),this},remove:function(W,nt){if(!W)return this;for(var Ct,q,Pt,Dt,z=this.data,ct=this.toBBox(W),gt=[],Mt=[];z||gt.length;){if(z||(z=gt.pop(),q=gt[gt.length-1],Ct=Mt.pop(),Dt=!0),z.leaf&&-1!==(Pt=F(W,z.children,nt)))return z.children.splice(Pt,1),gt.push(z),this._condense(gt),this;Dt||z.leaf||!V(z,ct)?q?(Ct++,z=q.children[Ct],Dt=!1):z=null:(gt.push(z),Mt.push(Ct),Ct=0,q=z,z=z.children[0])}return this},toBBox:function(W){return W},compareMinX:Q,compareMinY:ot,toJSON:function(){return this.data},fromJSON:function(W){return this.data=W,this},_all:function(W,nt){for(var z=[];W;)W.leaf?nt.push.apply(nt,W.children):z.push.apply(z,W.children),W=z.pop();return nt},_build:function(W,nt,z,ct){var Ct,gt=z-nt+1,Mt=this._maxEntries;if(gt<=Mt)return Y(Ct=X(W.slice(nt,z+1)),this.toBBox),Ct;ct||(ct=Math.ceil(Math.log(gt)/Math.log(Mt)),Mt=Math.ceil(gt/Math.pow(Mt,ct-1))),(Ct=X([])).leaf=!1,Ct.height=ct;var Dt,It,ut,re,q=Math.ceil(gt/Mt),Pt=q*Math.ceil(Math.sqrt(Mt));for(tt(W,nt,z,Pt,this.compareMinX),Dt=nt;Dt<=z;Dt+=Pt)for(tt(W,Dt,ut=Math.min(Dt+Pt-1,z),q,this.compareMinY),It=Dt;It<=ut;It+=q)re=Math.min(It+q-1,ut),Ct.children.push(this._build(W,It,re,ct-1));return Y(Ct,this.toBBox),Ct},_chooseSubtree:function(W,nt,z,ct){for(var gt,Mt,Ct,q,Pt,Dt,It,ut;ct.push(nt),!nt.leaf&&ct.length-1!==z;){for(It=ut=1/0,gt=0,Mt=nt.children.length;gt<Mt;gt++)Pt=st(Ct=nt.children[gt]),(Dt=$(W,Ct)-Pt)<ut?(ut=Dt,It=Pt<It?Pt:It,q=Ct):Dt===ut&&Pt<It&&(It=Pt,q=Ct);nt=q||nt.children[0]}return nt},_insert:function(W,nt,z){var gt=z?W:(0,this.toBBox)(W),Mt=[],Ct=this._chooseSubtree(gt,this.data,nt,Mt);for(Ct.children.push(W),O(Ct,gt);nt>=0&&Mt[nt].children.length>this._maxEntries;)this._split(Mt,nt),nt--;this._adjustParentBBoxes(gt,Mt,nt)},_split:function(W,nt){var z=W[nt],ct=z.children.length,gt=this._minEntries;this._chooseSplitAxis(z,gt,ct);var Mt=this._chooseSplitIndex(z,gt,ct),Ct=X(z.children.splice(Mt,z.children.length-Mt));Ct.height=z.height,Ct.leaf=z.leaf,Y(z,this.toBBox),Y(Ct,this.toBBox),nt?W[nt-1].children.push(Ct):this._splitRoot(z,Ct)},_splitRoot:function(W,nt){this.data=X([W,nt]),this.data.height=W.height+1,this.data.leaf=!1,Y(this.data,this.toBBox)},_chooseSplitIndex:function(W,nt,z){var ct,gt,Mt,Ct,q,Pt,Dt,It;for(Pt=Dt=1/0,ct=nt;ct<=z-nt;ct++)Ct=N(gt=G(W,0,ct,this.toBBox),Mt=G(W,ct,z,this.toBBox)),q=st(gt)+st(Mt),Ct<Pt?(Pt=Ct,It=ct,Dt=q<Dt?q:Dt):Ct===Pt&&q<Dt&&(Dt=q,It=ct);return It},_chooseSplitAxis:function(W,nt,z){var ct=W.leaf?this.compareMinX:Q,gt=W.leaf?this.compareMinY:ot;this._allDistMargin(W,nt,z,ct)<this._allDistMargin(W,nt,z,gt)&&W.children.sort(ct)},_allDistMargin:function(W,nt,z,ct){W.children.sort(ct);var Pt,Dt,gt=this.toBBox,Mt=G(W,0,nt,gt),Ct=G(W,z-nt,z,gt),q=at(Mt)+at(Ct);for(Pt=nt;Pt<z-nt;Pt++)Dt=W.children[Pt],O(Mt,W.leaf?gt(Dt):Dt),q+=at(Mt);for(Pt=z-nt-1;Pt>=nt;Pt--)Dt=W.children[Pt],O(Ct,W.leaf?gt(Dt):Dt),q+=at(Ct);return q},_adjustParentBBoxes:function(W,nt,z){for(var ct=z;ct>=0;ct--)O(nt[ct],W)},_condense:function(W){for(var z,nt=W.length-1;nt>=0;nt--)0===W[nt].children.length?nt>0?(z=W[nt-1].children).splice(z.indexOf(W[nt]),1):this.clear():Y(W[nt],this.toBBox)},_initFormat:function(W){var nt=["return a"," - b",";"];this.compareMinX=new Function("a","b",nt.join(W[0])),this.compareMinY=new Function("a","b",nt.join(W[1])),this.toBBox=new Function("a","return {minX: a"+W[0]+", minY: a"+W[1]+", maxX: a"+W[2]+", maxY: a"+W[3]+"};")}}},4468:(Ye,oe,Z)=>{"use strict";var J=Z(9582).functionsHaveConfigurableNames(),rt=Object,F=TypeError;Ye.exports=function(){if(null!=this&&this!==rt(this))throw new F("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.unicodeSets&&(G+="v"),this.sticky&&(G+="y"),G},J&&Object.defineProperty&&Object.defineProperty(Ye.exports,"name",{value:"get flags"})},9235:(Ye,oe,Z)=>{"use strict";var J=Z(2358),rt=Z(5685),F=Z(4468),Y=Z(6343),G=Z(1956),O=rt(Y());J(O,{getPolyfill:Y,implementation:F,shim:G}),Ye.exports=O},6343:(Ye,oe,Z)=>{"use strict";var J=Z(4468),rt=Z(2358).supportsDescriptors,F=Object.getOwnPropertyDescriptor;Ye.exports=function(){if(rt&&"gim"===/a/gim.flags){var G=F(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var O="",Q={};if(Object.defineProperty(Q,"hasIndices",{get:function(){O+="d"}}),Object.defineProperty(Q,"sticky",{get:function(){O+="y"}}),"dy"===O)return G.get}}return J}},1956:(Ye,oe,Z)=>{"use strict";var J=Z(2358).supportsDescriptors,rt=Z(6343),F=Object.getOwnPropertyDescriptor,Y=Object.defineProperty,G=TypeError,O=Object.getPrototypeOf,Q=/a/;Ye.exports=function(){if(!J||!O)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var st=rt(),at=O(Q),$=F(at,"flags");return(!$||$.get!==st)&&Y(at,"flags",{configurable:!0,enumerable:!1,get:st}),st}},7563:function(Ye,oe){!function(Z){"use strict";function F(V,bt,X,tt,W){let nt,z,ct,gt,Mt=bt[0],Ct=tt[0],q=0,Pt=0;Ct>Mt==Ct>-Mt?(nt=Mt,Mt=bt[++q]):(nt=Ct,Ct=tt[++Pt]);let Dt=0;if(q<V&&Pt<X)for(Ct>Mt==Ct>-Mt?(ct=nt-((z=Mt+nt)-Mt),Mt=bt[++q]):(ct=nt-((z=Ct+nt)-Ct),Ct=tt[++Pt]),nt=z,0!==ct&&(W[Dt++]=ct);q<V&&Pt<X;)Ct>Mt==Ct>-Mt?(ct=nt-((z=nt+Mt)-(gt=z-nt))+(Mt-gt),Mt=bt[++q]):(ct=nt-((z=nt+Ct)-(gt=z-nt))+(Ct-gt),Ct=tt[++Pt]),nt=z,0!==ct&&(W[Dt++]=ct);for(;q<V;)ct=nt-((z=nt+Mt)-(gt=z-nt))+(Mt-gt),Mt=bt[++q],nt=z,0!==ct&&(W[Dt++]=ct);for(;Pt<X;)ct=nt-((z=nt+Ct)-(gt=z-nt))+(Ct-gt),Ct=tt[++Pt],nt=z,0!==ct&&(W[Dt++]=ct);return 0===nt&&0!==Dt||(W[Dt++]=nt),Dt}function Y(V){return new Float64Array(V)}const ot=Y(4),st=Y(8),at=Y(12),$=Y(16),N=Y(4);Z.orient2d=function(V,bt,X,tt,W,nt){const z=(bt-nt)*(X-W),ct=(V-W)*(tt-nt),gt=z-ct;if(0===z||0===ct||z>0!=ct>0)return gt;const Mt=Math.abs(z+ct);return Math.abs(gt)>=33306690738754716e-32*Mt?gt:-function(Ct,q,Pt,Dt,It,ut,re){let se,Tt,_t,dt,St,Zt,Vt,Ce,jt,ae,ue,Pe,He,de,we,Se,wt,Ht;const Wt=Ct-It,Nt=Pt-It,ht=q-ut,At=Dt-ut;St=(we=(Ce=Wt-(Vt=(Zt=134217729*Wt)-(Zt-Wt)))*(ae=At-(jt=(Zt=134217729*At)-(Zt-At)))-((de=Wt*At)-Vt*jt-Ce*jt-Vt*ae))-(ue=we-(wt=(Ce=ht-(Vt=(Zt=134217729*ht)-(Zt-ht)))*(ae=Nt-(jt=(Zt=134217729*Nt)-(Zt-Nt)))-((Se=ht*Nt)-Vt*jt-Ce*jt-Vt*ae))),ot[0]=we-(ue+St)+(St-wt),St=(He=de-((Pe=de+ue)-(St=Pe-de))+(ue-St))-(ue=He-Se),ot[1]=He-(ue+St)+(St-Se),St=(Ht=Pe+ue)-Pe,ot[2]=Pe-(Ht-St)+(ue-St),ot[3]=Ht;let vt=function(Et,Ot){let pe=Ot[0];for(let ye=1;ye<4;ye++)pe+=Ot[ye];return pe}(0,ot),M=22204460492503146e-32*re;if(vt>=M||-vt>=M||(se=Ct-(Wt+(St=Ct-Wt))+(St-It),_t=Pt-(Nt+(St=Pt-Nt))+(St-It),Tt=q-(ht+(St=q-ht))+(St-ut),dt=Dt-(At+(St=Dt-At))+(St-ut),0===se&&0===Tt&&0===_t&&0===dt)||(M=11093356479670487e-47*re+33306690738754706e-32*Math.abs(vt),(vt+=Wt*dt+At*se-(ht*_t+Nt*Tt))>=M||-vt>=M))return vt;St=(we=(Ce=se-(Vt=(Zt=134217729*se)-(Zt-se)))*(ae=At-(jt=(Zt=134217729*At)-(Zt-At)))-((de=se*At)-Vt*jt-Ce*jt-Vt*ae))-(ue=we-(wt=(Ce=Tt-(Vt=(Zt=134217729*Tt)-(Zt-Tt)))*(ae=Nt-(jt=(Zt=134217729*Nt)-(Zt-Nt)))-((Se=Tt*Nt)-Vt*jt-Ce*jt-Vt*ae))),N[0]=we-(ue+St)+(St-wt),St=(He=de-((Pe=de+ue)-(St=Pe-de))+(ue-St))-(ue=He-Se),N[1]=He-(ue+St)+(St-Se),St=(Ht=Pe+ue)-Pe,N[2]=Pe-(Ht-St)+(ue-St),N[3]=Ht;const P=F(4,ot,4,N,st);St=(we=(Ce=Wt-(Vt=(Zt=134217729*Wt)-(Zt-Wt)))*(ae=dt-(jt=(Zt=134217729*dt)-(Zt-dt)))-((de=Wt*dt)-Vt*jt-Ce*jt-Vt*ae))-(ue=we-(wt=(Ce=ht-(Vt=(Zt=134217729*ht)-(Zt-ht)))*(ae=_t-(jt=(Zt=134217729*_t)-(Zt-_t)))-((Se=ht*_t)-Vt*jt-Ce*jt-Vt*ae))),N[0]=we-(ue+St)+(St-wt),St=(He=de-((Pe=de+ue)-(St=Pe-de))+(ue-St))-(ue=He-Se),N[1]=He-(ue+St)+(St-Se),St=(Ht=Pe+ue)-Pe,N[2]=Pe-(Ht-St)+(ue-St),N[3]=Ht;const U=F(P,st,4,N,at);St=(we=(Ce=se-(Vt=(Zt=134217729*se)-(Zt-se)))*(ae=dt-(jt=(Zt=134217729*dt)-(Zt-dt)))-((de=se*dt)-Vt*jt-Ce*jt-Vt*ae))-(ue=we-(wt=(Ce=Tt-(Vt=(Zt=134217729*Tt)-(Zt-Tt)))*(ae=_t-(jt=(Zt=134217729*_t)-(Zt-_t)))-((Se=Tt*_t)-Vt*jt-Ce*jt-Vt*ae))),N[0]=we-(ue+St)+(St-wt),St=(He=de-((Pe=de+ue)-(St=Pe-de))+(ue-St))-(ue=He-Se),N[1]=He-(ue+St)+(St-Se),St=(Ht=Pe+ue)-Pe,N[2]=Pe-(Ht-St)+(ue-St),N[3]=Ht;const pt=F(U,at,4,N,$);return $[pt-1]}(V,bt,X,tt,W,nt,Mt)},Z.orient2dfast=function(V,bt,X,tt,W,nt){return(bt-nt)*(X-W)-(V-W)*(tt-nt)},Object.defineProperty(Z,"__esModule",{value:!0})}(oe)},9231:Ye=>{"use strict";Ye.exports={eudist:function(Z,J,rt){for(var F=Z.length,Y=0,G=0;G<F;G++){var O=(Z[G]||0)-(J[G]||0);Y+=O*O}return rt?Math.sqrt(Y):Y},mandist:function(Z,J,rt){for(var F=Z.length,Y=0,G=0;G<F;G++)Y+=Math.abs((Z[G]||0)-(J[G]||0));return rt?Math.sqrt(Y):Y},dist:function(Z,J,rt){var F=Math.abs(Z-J);return rt?F:F*F}}},5561:(Ye,oe,Z)=>{"use strict";var J=Z(9231),rt=J.eudist,F=J.dist;Ye.exports={kmrand:function(G,O){for(var Q={},ot=[],st=O<<2,at=G.length,$=G[0].length>0;ot.length<O&&st-- >0;){var N=G[Math.floor(Math.random()*at)],V=$?N.join("_"):""+N;Q[V]||(Q[V]=!0,ot.push(N))}if(ot.length<O)throw new Error("Error initializating clusters");return ot},kmpp:function(G,O){var Q=G[0].length?rt:F,ot=[],st=G.length,at=G[0].length>0,N=G[Math.floor(Math.random()*st)];for(at&&N.join("_"),ot.push(N);ot.length<O;){for(var bt=[],X=ot.length,tt=0,W=[],nt=0;nt<st;nt++){for(var z=1/0,ct=0;ct<X;ct++){var gt=Q(G[nt],ot[ct]);gt<=z&&(z=gt)}bt[nt]=z}for(var Mt=0;Mt<st;Mt++)tt+=bt[Mt];for(var Ct=0;Ct<st;Ct++)W[Ct]={i:Ct,v:G[Ct],pr:bt[Ct]/tt,cs:0};W.sort(function(It,ut){return It.pr-ut.pr}),W[0].cs=W[0].pr;for(var q=1;q<st;q++)W[q].cs=W[q-1].cs+W[q].pr;for(var Pt=Math.random(),Dt=0;Dt<st-1&&W[Dt++].cs<Pt;);ot.push(W[Dt-1].v)}return ot}}},9475:(Ye,oe,Z)=>{"use strict";var J=Z(9231),rt=Z(5561),F=J.eudist,O=rt.kmrand,Q=rt.kmpp;function st($,N,V){V=V||[];for(var bt=0;bt<$;bt++)V[bt]=N;return V}Ye.exports=function at($,N,V,bt){var X=[],tt=[],W=[],nt=[],z=!1,ct=bt||1e4,gt=$.length,Mt=$[0].length,Ct=Mt>0,q=[];if(V)X="kmrand"==V?O($,N):"kmpp"==V?Q($,N):V;else for(var Pt={};X.length<N;){var Dt=Math.floor(Math.random()*gt);Pt[Dt]||(Pt[Dt]=!0,X.push($[Dt]))}do{st(N,0,q);for(var It=0;It<gt;It++){for(var ut=1/0,re=0,se=0;se<N;se++)(nt=Ct?F($[It],X[se]):Math.abs($[It]-X[se]))<=ut&&(ut=nt,re=se);W[It]=re,q[re]++}for(var Tt=[],dt=(tt=[],0);dt<N;dt++)Tt[dt]=Ct?st(Mt,0,Tt[dt]):0,tt[dt]=X[dt];if(Ct){for(var St=0;St<N;St++)X[St]=[];for(var Zt=0;Zt<gt;Zt++)for(var Ce=Tt[W[Zt]],jt=$[Zt],ae=0;ae<Mt;ae++)Ce[ae]+=jt[ae];z=!0;for(var ue=0;ue<N;ue++){for(var Pe=X[ue],He=Tt[ue],de=tt[ue],we=q[ue],Se=0;Se<Mt;Se++)Pe[Se]=He[Se]/we||0;if(z)for(var wt=0;wt<Mt;wt++)if(de[wt]!=Pe[wt]){z=!1;break}}}else{for(var Ht=0;Ht<gt;Ht++)Tt[W[Ht]]+=$[Ht];for(var Nt=0;Nt<N;Nt++)X[Nt]=Tt[Nt]/q[Nt]||0;z=!0;for(var ht=0;ht<N;ht++)if(tt[ht]!=X[ht]){z=!1;break}}z=z||--ct<=0}while(!z);return{it:1e4-ct,k:N,idxs:W,centroids:X}}},7253:(Ye,oe,Z)=>{"use strict";Z.r(oe),Z.d(oe,{default:()=>J});class J{constructor(Y=[],G=rt){if(this.data=Y,this.length=this.data.length,this.compare=G,this.length>0)for(let O=(this.length>>1)-1;O>=0;O--)this._down(O)}push(Y){this.data.push(Y),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const Y=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),Y}peek(){return this.data[0]}_up(Y){const{data:G,compare:O}=this,Q=G[Y];for(;Y>0;){const ot=Y-1>>1,st=G[ot];if(O(Q,st)>=0)break;G[Y]=st,Y=ot}G[Y]=Q}_down(Y){const{data:G,compare:O}=this,Q=this.length>>1,ot=G[Y];for(;Y<Q;){let st=1+(Y<<1),at=G[st];const $=st+1;if($<this.length&&O(G[$],at)<0&&(st=$,at=G[$]),O(at,ot)>=0)break;G[Y]=at,Y=st}G[Y]=ot}}function rt(F,Y){return F<Y?-1:F>Y?1:0}},770:function(Ye,oe){!function(Z){"use strict";function J(){}function rt(f){this.message=f||""}function F(f){this.message=f||""}function Y(f){this.message=f||""}function G(){}function O(f){return null===f?Qi:f.color}function Q(f){return null===f?null:f.parent}function ot(f,m){null!==f&&(f.color=m)}function st(f){return null===f?null:f.left}function at(f){return null===f?null:f.right}function $(){this.root_=null,this.size_=0}function N(){}function V(){this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}function bt(){}function X(f){this.message=f||""}function tt(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(f){if(null==this)throw new TypeError(this+" is not an object");var m=Object(this),_=Math.max(Math.min(m.length,9007199254740991),0)||0,x=1 in arguments&&parseInt(Number(arguments[1]),10)||0;x=x<0?Math.max(_+x,0):Math.min(x,_);var D=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:_;for(D=D<0?Math.max(_+arguments[2],0):Math.min(D,_);x<D;)m[x]=f,++x;return m},writable:!0}),Number.isFinite=Number.isFinite||function(f){return"number"==typeof f&&isFinite(f)},Number.isInteger=Number.isInteger||function(f){return"number"==typeof f&&isFinite(f)&&Math.floor(f)===f},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(f){return f!=f},Math.trunc=Math.trunc||function(f){return f<0?Math.ceil(f):Math.floor(f)};var W=function(){};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.prototype.equalsWithTolerance=function(f,m,_){return Math.abs(f-m)<=_};var nt=function(f){function m(_){f.call(this,_),this.name="IllegalArgumentException",this.message=_,this.stack=(new f).stack}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(Error),z=function(){},ct={MAX_VALUE:{configurable:!0}};z.isNaN=function(f){return Number.isNaN(f)},z.doubleToLongBits=function(f){return f},z.longBitsToDouble=function(f){return f},z.isInfinite=function(f){return!Number.isFinite(f)},ct.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(z,ct);var gt=function(){},Mt=function(){},Ct=function(){},q=function f(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=f.NULL_ORDINATE;else if(1===arguments.length){var m=arguments[0];this.x=m.x,this.y=m.y,this.z=m.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=f.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Pt={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};q.prototype.setOrdinate=function(f,m){switch(f){case q.X:this.x=m;break;case q.Y:this.y=m;break;case q.Z:this.z=m;break;default:throw new nt("Invalid ordinate index: "+f)}},q.prototype.equals2D=function(){if(1===arguments.length){var f=arguments[0];return this.x===f.x&&this.y===f.y}if(2===arguments.length){var m=arguments[0],_=arguments[1];return!!W.equalsWithTolerance(this.x,m.x,_)&&!!W.equalsWithTolerance(this.y,m.y,_)}},q.prototype.getOrdinate=function(f){switch(f){case q.X:return this.x;case q.Y:return this.y;case q.Z:return this.z}throw new nt("Invalid ordinate index: "+f)},q.prototype.equals3D=function(f){return this.x===f.x&&this.y===f.y&&(this.z===f.z||z.isNaN(this.z))&&z.isNaN(f.z)},q.prototype.equals=function(f){return f instanceof q&&this.equals2D(f)},q.prototype.equalInZ=function(f,m){return W.equalsWithTolerance(this.z,f.z,m)},q.prototype.compareTo=function(f){return this.x<f.x?-1:this.x>f.x?1:this.y<f.y?-1:this.y>f.y?1:0},q.prototype.clone=function(){},q.prototype.copy=function(){return new q(this)},q.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},q.prototype.distance3D=function(f){var m=this.x-f.x,_=this.y-f.y,x=this.z-f.z;return Math.sqrt(m*m+_*_+x*x)},q.prototype.distance=function(f){var m=this.x-f.x,_=this.y-f.y;return Math.sqrt(m*m+_*_)},q.prototype.hashCode=function(){var f=17;return 37*(f=37*f+q.hashCode(this.x))+q.hashCode(this.y)},q.prototype.setCoordinate=function(f){this.x=f.x,this.y=f.y,this.z=f.z},q.prototype.interfaces_=function(){return[gt,Mt,J]},q.prototype.getClass=function(){return q},q.hashCode=function(){if(1===arguments.length){var m=z.doubleToLongBits(arguments[0]);return Math.trunc((m^m)>>>32)}},Pt.DimensionalComparator.get=function(){return Dt},Pt.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Pt.NULL_ORDINATE.get=function(){return z.NaN},Pt.X.get=function(){return 0},Pt.Y.get=function(){return 1},Pt.Z.get=function(){return 2},Object.defineProperties(q,Pt);var Dt=function(f){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var m=arguments[0];if(2!==m&&3!==m)throw new nt("only 2 or 3 dimensions may be specified");this._dimensionsToTest=m}};Dt.prototype.compare=function(f,m){var _=f,x=m,D=Dt.compare(_.x,x.x);if(0!==D)return D;var K=Dt.compare(_.y,x.y);return 0!==K?K:this._dimensionsToTest<=2?0:Dt.compare(_.z,x.z)},Dt.prototype.interfaces_=function(){return[Ct]},Dt.prototype.getClass=function(){return Dt},Dt.compare=function(f,m){return f<m?-1:f>m?1:z.isNaN(f)?z.isNaN(m)?0:-1:z.isNaN(m)?1:0};var It=function(){};It.prototype.create=function(){},It.prototype.interfaces_=function(){return[]},It.prototype.getClass=function(){return It};var ut=function(){},re={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut},ut.toLocationSymbol=function(f){switch(f){case ut.EXTERIOR:return"e";case ut.BOUNDARY:return"b";case ut.INTERIOR:return"i";case ut.NONE:return"-"}throw new nt("Unknown location value: "+f)},re.INTERIOR.get=function(){return 0},re.BOUNDARY.get=function(){return 1},re.EXTERIOR.get=function(){return 2},re.NONE.get=function(){return-1},Object.defineProperties(ut,re);var se=function(f,m){return f.interfaces_&&f.interfaces_().indexOf(m)>-1},Tt=function(){},_t={LOG_10:{configurable:!0}};Tt.prototype.interfaces_=function(){return[]},Tt.prototype.getClass=function(){return Tt},Tt.log10=function(f){var m=Math.log(f);return z.isInfinite(m)||z.isNaN(m)?m:m/Tt.LOG_10},Tt.min=function(f,m,_,x){var D=f;return m<D&&(D=m),_<D&&(D=_),x<D&&(D=x),D},Tt.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1],_=arguments[2];return f<m?m:f>_?_:f}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],D=arguments[1],K=arguments[2];return x<D?D:x>K?K:x}},Tt.wrap=function(f,m){return f<0?m- -f%m:f%m},Tt.max=function(){if(3===arguments.length){var m=arguments[1],_=arguments[2],x=arguments[0];return m>x&&(x=m),_>x&&(x=_),x}if(4===arguments.length){var K=arguments[1],xt=arguments[2],qt=arguments[3],_e=arguments[0];return K>_e&&(_e=K),xt>_e&&(_e=xt),qt>_e&&(_e=qt),_e}},Tt.average=function(f,m){return(f+m)/2},_t.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Tt,_t);var dt=function(f){this.str=f};dt.prototype.append=function(f){this.str+=f},dt.prototype.setCharAt=function(f,m){this.str=this.str.substr(0,f)+m+this.str.substr(f+1)},dt.prototype.toString=function(f){return this.str};var St=function(f){this.value=f};St.prototype.intValue=function(){return this.value},St.prototype.compareTo=function(f){return this.value<f?-1:this.value>f?1:0},St.isNaN=function(f){return Number.isNaN(f)};var Zt=function(){};Zt.isWhitespace=function(f){return f<=32&&f>=0||127===f},Zt.toUpperCase=function(f){return f.toUpperCase()};var Vt=function f(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof f?this.init(arguments[0]):"string"==typeof arguments[0]&&f.call(this,f.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Ce={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Vt.prototype.le=function(f){return(this._hi<f._hi||this._hi===f._hi)&&this._lo<=f._lo},Vt.prototype.extractSignificantDigits=function(f,m){var _=this.abs(),x=Vt.magnitude(_._hi),D=Vt.TEN.pow(x);(_=_.divide(D)).gt(Vt.TEN)?(_=_.divide(Vt.TEN),x+=1):_.lt(Vt.ONE)&&(_=_.multiply(Vt.TEN),x-=1);for(var K=x+1,xt=new dt,qt=Vt.MAX_PRINT_DIGITS-1,_e=0;_e<=qt;_e++){f&&_e===K&&xt.append(".");var Ge=Math.trunc(_._hi);if(Ge<0)break;var mn=!1,En=0;Ge>9?(mn=!0,En="9"):En="0"+Ge,xt.append(En),_=_.subtract(Vt.valueOf(Ge)).multiply(Vt.TEN),mn&&_.selfAdd(Vt.TEN);var qn=!0,ai=Vt.magnitude(_._hi);if(ai<0&&Math.abs(ai)>=qt-_e&&(qn=!1),!qn)break}return m[0]=x,xt.toString()},Vt.prototype.sqr=function(){return this.multiply(this)},Vt.prototype.doubleValue=function(){return this._hi+this._lo},Vt.prototype.subtract=function(){return arguments[0]instanceof Vt?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},Vt.prototype.equals=function(){if(1===arguments.length){var f=arguments[0];return this._hi===f._hi&&this._lo===f._lo}},Vt.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Vt.prototype.selfSubtract=function(){if(arguments[0]instanceof Vt){var f=arguments[0];return this.isNaN()?this:this.selfAdd(-f._hi,-f._lo)}if("number"==typeof arguments[0]){var m=arguments[0];return this.isNaN()?this:this.selfAdd(-m,0)}},Vt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Vt.prototype.min=function(f){return this.le(f)?this:f},Vt.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Vt){var f=arguments[0];return this.selfDivide(f._hi,f._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var K,qt,_e,mn,_=arguments[0],D=null,xt=null,Ge=null,En=null;return this._hi=En=(_e=this._hi/_)+(Ge=(this._hi-(mn=_e*_)-(En=(D=(Ge=Vt.SPLIT*_e)-(D=Ge-_e))*(xt=(En=Vt.SPLIT*_)-(xt=En-_))-mn+D*(qt=_-xt)+(K=_e-D)*xt+K*qt)+this._lo-_e*arguments[1])/_),this._lo=_e-En+Ge,this}},Vt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Vt.prototype.divide=function(){if(arguments[0]instanceof Vt){var _,D,K,qt,f=arguments[0],m=null,x=null,xt=null,_e=null;return _=(K=this._hi/f._hi)-(m=(xt=Vt.SPLIT*K)-(m=xt-K)),_e=m*(x=(_e=Vt.SPLIT*f._hi)-(x=_e-f._hi))-(qt=K*f._hi)+m*(D=f._hi-x)+_*x+_*D,new Vt(_e=K+(xt=(this._hi-qt-_e+this._lo-K*f._lo)/f._hi),K-_e+xt)}if("number"==typeof arguments[0]){var Ge=arguments[0];return z.isNaN(Ge)?Vt.createNaN():Vt.copy(this).selfDivide(Ge,0)}},Vt.prototype.ge=function(f){return(this._hi>f._hi||this._hi===f._hi)&&this._lo>=f._lo},Vt.prototype.pow=function(f){if(0===f)return Vt.valueOf(1);var m=new Vt(this),_=Vt.valueOf(1),x=Math.abs(f);if(x>1)for(;x>0;)x%2==1&&_.selfMultiply(m),(x/=2)>0&&(m=m.sqr());else _=m;return f<0?_.reciprocal():_},Vt.prototype.ceil=function(){if(this.isNaN())return Vt.NaN;var f=Math.ceil(this._hi),m=0;return f===this._hi&&(m=Math.ceil(this._lo)),new Vt(f,m)},Vt.prototype.compareTo=function(f){return this._hi<f._hi?-1:this._hi>f._hi?1:this._lo<f._lo?-1:this._lo>f._lo?1:0},Vt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Vt.prototype.setValue=function(){return arguments[0]instanceof Vt||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},Vt.prototype.max=function(f){return this.ge(f)?this:f},Vt.prototype.sqrt=function(){if(this.isZero())return Vt.valueOf(0);if(this.isNegative())return Vt.NaN;var f=1/Math.sqrt(this._hi),_=Vt.valueOf(this._hi*f),x=this.subtract(_.sqr())._hi*(.5*f);return _.add(x)},Vt.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Vt){var f=arguments[0];return this.selfAdd(f._hi,f._lo)}if("number"==typeof arguments[0]){var _,x,D,xt,qt,m=arguments[0];return this._hi=(_=(D=this._hi+m)+(qt=m-(xt=D-this._hi)+(this._hi-(D-xt))+this._lo))+(x=qt+(D-_)),this._lo=x+(_-this._hi),this}}else if(2===arguments.length){var mn,En,ai,ea,_e=arguments[0],Ge=arguments[1],qn=null,gi=null,Jn=null;gi=(ai=this._hi+_e)-(Jn=ai-this._hi),qn=(En=this._lo+Ge)-(ea=En-this._lo);var ol=(mn=ai+(Jn=(gi=_e-Jn+(this._hi-gi))+En))+(Jn=(qn=Ge-ea+(this._lo-qn))+(Jn+(ai-mn))),oc=Jn+(mn-ol);return this._hi=ol,this._lo=oc,this}},Vt.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Vt){var f=arguments[0];return this.selfMultiply(f._hi,f._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var K,qt,_=arguments[0],D=null,xt=null,_e=null,Ge=null;D=(_e=Vt.SPLIT*this._hi)-this._hi,D=_e-D;var mn=(_e=this._hi*_)+(Ge=D*(xt=(Ge=Vt.SPLIT*_)-(xt=Ge-_))-_e+D*(qt=_-xt)+(K=this._hi-D)*xt+K*qt+(this._hi*arguments[1]+this._lo*_)),En=Ge+(D=_e-mn);return this._hi=mn,this._lo=En,this}},Vt.prototype.selfSqr=function(){return this.selfMultiply(this)},Vt.prototype.floor=function(){if(this.isNaN())return Vt.NaN;var f=Math.floor(this._hi),m=0;return f===this._hi&&(m=Math.floor(this._lo)),new Vt(f,m)},Vt.prototype.negate=function(){return this.isNaN()?this:new Vt(-this._hi,-this._lo)},Vt.prototype.clone=function(){},Vt.prototype.multiply=function(){if(arguments[0]instanceof Vt){var f=arguments[0];return f.isNaN()?Vt.createNaN():Vt.copy(this).selfMultiply(f)}if("number"==typeof arguments[0]){var m=arguments[0];return z.isNaN(m)?Vt.createNaN():Vt.copy(this).selfMultiply(m,0)}},Vt.prototype.isNaN=function(){return z.isNaN(this._hi)},Vt.prototype.intValue=function(){return Math.trunc(this._hi)},Vt.prototype.toString=function(){var f=Vt.magnitude(this._hi);return f>=-3&&f<=20?this.toStandardNotation():this.toSciNotation()},Vt.prototype.toStandardNotation=function(){var f=this.getSpecialNumberString();if(null!==f)return f;var m=new Array(1).fill(null),_=this.extractSignificantDigits(!0,m),x=m[0]+1,D=_;return"."===_.charAt(0)?D="0"+_:x<0?D="0."+Vt.stringOfChar("0",-x)+_:-1===_.indexOf(".")&&(D=_+Vt.stringOfChar("0",x-_.length)+".0"),this.isNegative()?"-"+D:D},Vt.prototype.reciprocal=function(){var m,x,D,xt,f=null,_=null,K=null,qt=null;m=(D=1/this._hi)-(f=(K=Vt.SPLIT*D)-(f=K-D)),_=(qt=Vt.SPLIT*this._hi)-this._hi;var _e=D+(K=(1-(xt=D*this._hi)-(qt=f*(_=qt-_)-xt+f*(x=this._hi-_)+m*_+m*x)-D*this._lo)/this._hi);return new Vt(_e,D-_e+K)},Vt.prototype.toSciNotation=function(){if(this.isZero())return Vt.SCI_NOT_ZERO;var f=this.getSpecialNumberString();if(null!==f)return f;var m=new Array(1).fill(null),_=this.extractSignificantDigits(!1,m),x=Vt.SCI_NOT_EXPONENT_CHAR+m[0];if("0"===_.charAt(0))throw new Error("Found leading zero: "+_);var D="";_.length>1&&(D=_.substring(1));var K=_.charAt(0)+"."+D;return this.isNegative()?"-"+K+x:K+x},Vt.prototype.abs=function(){return this.isNaN()?Vt.NaN:this.isNegative()?this.negate():new Vt(this)},Vt.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Vt.prototype.lt=function(f){return(this._hi<f._hi||this._hi===f._hi)&&this._lo<f._lo},Vt.prototype.add=function(){if(arguments[0]instanceof Vt){var f=arguments[0];return Vt.copy(this).selfAdd(f)}if("number"==typeof arguments[0]){var m=arguments[0];return Vt.copy(this).selfAdd(m)}},Vt.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof Vt){var m=arguments[0];this._hi=m._hi,this._lo=m._lo}}else if(2===arguments.length){var x=arguments[1];this._hi=arguments[0],this._lo=x}},Vt.prototype.gt=function(f){return(this._hi>f._hi||this._hi===f._hi)&&this._lo>f._lo},Vt.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Vt.prototype.trunc=function(){return this.isNaN()?Vt.NaN:this.isPositive()?this.floor():this.ceil()},Vt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Vt.prototype.interfaces_=function(){return[J,gt,Mt]},Vt.prototype.getClass=function(){return Vt},Vt.sqr=function(f){return Vt.valueOf(f).selfMultiply(f)},Vt.valueOf=function(){return"string"==typeof arguments[0]?Vt.parse(arguments[0]):"number"==typeof arguments[0]?new Vt(arguments[0]):void 0},Vt.sqrt=function(f){return Vt.valueOf(f).sqrt()},Vt.parse=function(f){for(var m=0,_=f.length;Zt.isWhitespace(f.charAt(m));)m++;var x=!1;if(m<_){var D=f.charAt(m);"-"!==D&&"+"!==D||(m++,"-"===D&&(x=!0))}for(var K=new Vt,xt=0,qt=0,_e=0;!(m>=_);){var Ge=f.charAt(m);if(m++,Zt.isDigit(Ge)){var mn=Ge-"0";K.selfMultiply(Vt.TEN),K.selfAdd(mn),xt++}else{if("."!==Ge){if("e"===Ge||"E"===Ge){var En=f.substring(m);try{_e=St.parseInt(En)}catch(ea){throw ea instanceof Error?new Error("Invalid exponent "+En+" in string "+f):ea}break}throw new Error("Unexpected character '"+Ge+"' at position "+m+" in string "+f)}qt=xt}}var qn=K,ai=xt-qt-_e;if(0===ai)qn=K;else if(ai>0){var gi=Vt.TEN.pow(ai);qn=K.divide(gi)}else if(ai<0){var Jn=Vt.TEN.pow(-ai);qn=K.multiply(Jn)}return x?qn.negate():qn},Vt.createNaN=function(){return new Vt(z.NaN,z.NaN)},Vt.copy=function(f){return new Vt(f)},Vt.magnitude=function(f){var m=Math.abs(f),_=Math.log(m)/Math.log(10),x=Math.trunc(Math.floor(_));return 10*Math.pow(10,x)<=m&&(x+=1),x},Vt.stringOfChar=function(f,m){for(var _=new dt,x=0;x<m;x++)_.append(f);return _.toString()},Ce.PI.get=function(){return new Vt(3.141592653589793,12246467991473532e-32)},Ce.TWO_PI.get=function(){return new Vt(6.283185307179586,24492935982947064e-32)},Ce.PI_2.get=function(){return new Vt(1.5707963267948966,6123233995736766e-32)},Ce.E.get=function(){return new Vt(2.718281828459045,14456468917292502e-32)},Ce.NaN.get=function(){return new Vt(z.NaN,z.NaN)},Ce.EPS.get=function(){return 123259516440783e-46},Ce.SPLIT.get=function(){return 134217729},Ce.MAX_PRINT_DIGITS.get=function(){return 32},Ce.TEN.get=function(){return Vt.valueOf(10)},Ce.ONE.get=function(){return Vt.valueOf(1)},Ce.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Ce.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Vt,Ce);var jt=function(){},ae={DP_SAFE_EPSILON:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.orientationIndex=function(f,m,_){var x=jt.orientationIndexFilter(f,m,_);if(x<=1)return x;var D=Vt.valueOf(m.x).selfAdd(-f.x),K=Vt.valueOf(m.y).selfAdd(-f.y),xt=Vt.valueOf(_.x).selfAdd(-m.x),qt=Vt.valueOf(_.y).selfAdd(-m.y);return D.selfMultiply(qt).selfSubtract(K.selfMultiply(xt)).signum()},jt.signOfDet2x2=function(f,m,_,x){return f.multiply(x).selfSubtract(m.multiply(_)).signum()},jt.intersection=function(f,m,_,x){var D=Vt.valueOf(x.y).selfSubtract(_.y).selfMultiply(Vt.valueOf(m.x).selfSubtract(f.x)),K=Vt.valueOf(x.x).selfSubtract(_.x).selfMultiply(Vt.valueOf(m.y).selfSubtract(f.y)),xt=D.subtract(K),qt=Vt.valueOf(x.x).selfSubtract(_.x).selfMultiply(Vt.valueOf(f.y).selfSubtract(_.y)),_e=Vt.valueOf(x.y).selfSubtract(_.y).selfMultiply(Vt.valueOf(f.x).selfSubtract(_.x)),Ge=qt.subtract(_e).selfDivide(xt).doubleValue(),mn=Vt.valueOf(f.x).selfAdd(Vt.valueOf(m.x).selfSubtract(f.x).selfMultiply(Ge)).doubleValue(),En=Vt.valueOf(m.x).selfSubtract(f.x).selfMultiply(Vt.valueOf(f.y).selfSubtract(_.y)),qn=Vt.valueOf(m.y).selfSubtract(f.y).selfMultiply(Vt.valueOf(f.x).selfSubtract(_.x)),ai=En.subtract(qn).selfDivide(xt).doubleValue(),gi=Vt.valueOf(_.y).selfAdd(Vt.valueOf(x.y).selfSubtract(_.y).selfMultiply(ai)).doubleValue();return new q(mn,gi)},jt.orientationIndexFilter=function(f,m,_){var x=null,D=(f.x-_.x)*(m.y-_.y),K=(f.y-_.y)*(m.x-_.x),xt=D-K;if(D>0){if(K<=0)return jt.signum(xt);x=D+K}else{if(!(D<0)||K>=0)return jt.signum(xt);x=-D-K}var qt=jt.DP_SAFE_EPSILON*x;return xt>=qt||-xt>=qt?jt.signum(xt):2},jt.signum=function(f){return f>0?1:f<0?-1:0},ae.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(jt,ae);var ue=function(){},Pe={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Pe.X.get=function(){return 0},Pe.Y.get=function(){return 1},Pe.Z.get=function(){return 2},Pe.M.get=function(){return 3},ue.prototype.setOrdinate=function(f,m,_){},ue.prototype.size=function(){},ue.prototype.getOrdinate=function(f,m){},ue.prototype.getCoordinate=function(){},ue.prototype.getCoordinateCopy=function(f){},ue.prototype.getDimension=function(){},ue.prototype.getX=function(f){},ue.prototype.clone=function(){},ue.prototype.expandEnvelope=function(f){},ue.prototype.copy=function(){},ue.prototype.getY=function(f){},ue.prototype.toCoordinateArray=function(){},ue.prototype.interfaces_=function(){return[Mt]},ue.prototype.getClass=function(){return ue},Object.defineProperties(ue,Pe);var He=function(){},de=function(f){function m(){f.call(this,"Projective point not representable on the Cartesian plane.")}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(He),we=function(){};we.arraycopy=function(f,m,_,x,D){for(var K=0,xt=m;xt<m+D;xt++)_[x+K]=f[xt],K++},we.getProperty=function(f){return{"line.separator":"\n"}[f]};var Se=function f(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var m=arguments[0];this.x=m.x,this.y=m.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var x=arguments[1];this.x=arguments[0],this.y=x,this.w=1}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var D=arguments[0],K=arguments[1];this.x=D.y*K.w-K.y*D.w,this.y=K.x*D.w-D.x*K.w,this.w=D.x*K.y-K.x*D.y}else if(arguments[0]instanceof q&&arguments[1]instanceof q){var xt=arguments[0],qt=arguments[1];this.x=xt.y-qt.y,this.y=qt.x-xt.x,this.w=xt.x*qt.y-qt.x*xt.y}}else if(3===arguments.length){var Ge=arguments[1],mn=arguments[2];this.x=arguments[0],this.y=Ge,this.w=mn}else if(4===arguments.length){var En=arguments[0],qn=arguments[1],ai=arguments[2],gi=arguments[3],Jn=En.y-qn.y,ea=qn.x-En.x,ol=En.x*qn.y-qn.x*En.y,oc=ai.y-gi.y,$u=gi.x-ai.x,Nd=ai.x*gi.y-gi.x*ai.y;this.x=ea*Nd-$u*ol,this.y=oc*ol-Jn*Nd,this.w=Jn*$u-oc*ea}};Se.prototype.getY=function(){var f=this.y/this.w;if(z.isNaN(f)||z.isInfinite(f))throw new de;return f},Se.prototype.getX=function(){var f=this.x/this.w;if(z.isNaN(f)||z.isInfinite(f))throw new de;return f},Se.prototype.getCoordinate=function(){var f=new q;return f.x=this.getX(),f.y=this.getY(),f},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.intersection=function(f,m,_,x){var D=f.y-m.y,K=m.x-f.x,xt=f.x*m.y-m.x*f.y,qt=_.y-x.y,_e=x.x-_.x,Ge=_.x*x.y-x.x*_.y,mn=D*_e-qt*K,En=(K*Ge-_e*xt)/mn,qn=(qt*xt-D*Ge)/mn;if(z.isNaN(En)||z.isInfinite(En)||z.isNaN(qn)||z.isInfinite(qn))throw new de;return new q(En,qn)};var wt=function f(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof q){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else arguments[0]instanceof f&&this.init(arguments[0]);else if(2===arguments.length){var x=arguments[0],D=arguments[1];this.init(x.x,D.x,x.y,D.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Ht={serialVersionUID:{configurable:!0}};wt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},wt.prototype.equals=function(f){if(!(f instanceof wt))return!1;var m=f;return this.isNull()?m.isNull():this._maxx===m.getMaxX()&&this._maxy===m.getMaxY()&&this._minx===m.getMinX()&&this._miny===m.getMinY()},wt.prototype.intersection=function(f){return this.isNull()||f.isNull()||!this.intersects(f)?new wt:new wt(this._minx>f._minx?this._minx:f._minx,this._maxx<f._maxx?this._maxx:f._maxx,this._miny>f._miny?this._miny:f._miny,this._maxy<f._maxy?this._maxy:f._maxy)},wt.prototype.isNull=function(){return this._maxx<this._minx},wt.prototype.getMaxX=function(){return this._maxx},wt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];return this.covers(f.x,f.y)}if(arguments[0]instanceof wt){var m=arguments[0];return!this.isNull()&&!m.isNull()&&m.getMinX()>=this._minx&&m.getMaxX()<=this._maxx&&m.getMinY()>=this._miny&&m.getMaxY()<=this._maxy}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return!this.isNull()&&_>=this._minx&&_<=this._maxx&&x>=this._miny&&x<=this._maxy}},wt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof wt){var f=arguments[0];return!this.isNull()&&!f.isNull()&&!(f._minx>this._maxx||f._maxx<this._minx||f._miny>this._maxy||f._maxy<this._miny)}if(arguments[0]instanceof q){var m=arguments[0];return this.intersects(m.x,m.y)}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return!this.isNull()&&!(_>this._maxx||_<this._minx||x>this._maxy||x<this._miny)}},wt.prototype.getMinY=function(){return this._miny},wt.prototype.getMinX=function(){return this._minx},wt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];this.expandToInclude(f.x,f.y)}else if(arguments[0]instanceof wt){var m=arguments[0];if(m.isNull())return null;this.isNull()?(this._minx=m.getMinX(),this._maxx=m.getMaxX(),this._miny=m.getMinY(),this._maxy=m.getMaxY()):(m._minx<this._minx&&(this._minx=m._minx),m._maxx>this._maxx&&(this._maxx=m._maxx),m._miny<this._miny&&(this._miny=m._miny),m._maxy>this._maxy&&(this._maxy=m._maxy))}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this.isNull()?(this._minx=_,this._maxx=_,this._miny=x,this._maxy=x):(_<this._minx&&(this._minx=_),_>this._maxx&&(this._maxx=_),x<this._miny&&(this._miny=x),x>this._maxy&&(this._maxy=x))}},wt.prototype.minExtent=function(){if(this.isNull())return 0;var f=this.getWidth(),m=this.getHeight();return f<m?f:m},wt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},wt.prototype.compareTo=function(f){var m=f;return this.isNull()?m.isNull()?0:-1:m.isNull()?1:this._minx<m._minx?-1:this._minx>m._minx?1:this._miny<m._miny?-1:this._miny>m._miny?1:this._maxx<m._maxx?-1:this._maxx>m._maxx?1:this._maxy<m._maxy?-1:this._maxy>m._maxy?1:0},wt.prototype.translate=function(f,m){if(this.isNull())return null;this.init(this.getMinX()+f,this.getMaxX()+f,this.getMinY()+m,this.getMaxY()+m)},wt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},wt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},wt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},wt.prototype.maxExtent=function(){if(this.isNull())return 0;var f=this.getWidth(),m=this.getHeight();return f>m?f:m},wt.prototype.expandBy=function(){if(1===arguments.length){var f=arguments[0];this.expandBy(f,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this.isNull())return null;this._minx-=m,this._maxx+=m,this._miny-=_,this._maxy+=_,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},wt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof wt)return this.covers(arguments[0]);if(arguments[0]instanceof q)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},wt.prototype.centre=function(){return this.isNull()?null:new q((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},wt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];this.init(f.x,f.x,f.y,f.y)}else if(arguments[0]instanceof wt){var m=arguments[0];this._minx=m._minx,this._maxx=m._maxx,this._miny=m._miny,this._maxy=m._maxy}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this.init(_.x,x.x,_.y,x.y)}else if(4===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2],qt=arguments[3];D<K?(this._minx=D,this._maxx=K):(this._minx=K,this._maxx=D),xt<qt?(this._miny=xt,this._maxy=qt):(this._miny=qt,this._maxy=xt)}},wt.prototype.getMaxY=function(){return this._maxy},wt.prototype.distance=function(f){if(this.intersects(f))return 0;var m=0;this._maxx<f._minx?m=f._minx-this._maxx:this._minx>f._maxx&&(m=this._minx-f._maxx);var _=0;return this._maxy<f._miny?_=f._miny-this._maxy:this._miny>f._maxy&&(_=this._miny-f._maxy),0===m?_:0===_?m:Math.sqrt(m*m+_*_)},wt.prototype.hashCode=function(){var f=17;return 37*(f=37*(f=37*(f=37*f+q.hashCode(this._minx))+q.hashCode(this._maxx))+q.hashCode(this._miny))+q.hashCode(this._maxy)},wt.prototype.interfaces_=function(){return[gt,J]},wt.prototype.getClass=function(){return wt},wt.intersects=function(){if(3===arguments.length){var f=arguments[0],m=arguments[1],_=arguments[2];return _.x>=(f.x<m.x?f.x:m.x)&&_.x<=(f.x>m.x?f.x:m.x)&&_.y>=(f.y<m.y?f.y:m.y)&&_.y<=(f.y>m.y?f.y:m.y)}if(4===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2],xt=arguments[3],qt=Math.min(K.x,xt.x),_e=Math.max(K.x,xt.x),Ge=Math.min(x.x,D.x),mn=Math.max(x.x,D.x);return!(Ge>_e||mn<qt||(qt=Math.min(K.y,xt.y),_e=Math.max(K.y,xt.y),Ge=Math.min(x.y,D.y),mn=Math.max(x.y,D.y),Ge>_e||mn<qt))}},Ht.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(wt,Ht);var Wt={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Nt=function(f){this.geometryFactory=f||new sn};Nt.prototype.read=function(f){var m,_;f=f.replace(/[\n\r]/g," ");var D=Wt.typeStr.exec(f);if(-1!==f.search("EMPTY")&&((D=Wt.emptyTypeStr.exec(f))[2]=void 0),D&&(_=D[1].toLowerCase(),At[_]&&(m=At[_].apply(this,[D[2]]))),void 0===m)throw new Error("Could not parse WKT "+f);return m},Nt.prototype.write=function(f){return this.extractGeometry(f)},Nt.prototype.extractGeometry=function(f){var m=f.getGeometryType().toLowerCase();if(!ht[m])return null;var _=m.toUpperCase();return f.isEmpty()?_+" EMPTY":_+"("+ht[m].apply(this,[f])+")"};var ht={coordinate:function(f){return f.x+" "+f.y},point:function(f){return ht.coordinate.call(this,f._coordinates._coordinates[0])},multipoint:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+ht.point.apply(this,[f._geometries[_]])+")");return m.join(",")},linestring:function(f){for(var m=[],_=0,x=f._points._coordinates.length;_<x;++_)m.push(ht.coordinate.apply(this,[f._points._coordinates[_]]));return m.join(",")},linearring:function(f){for(var m=[],_=0,x=f._points._coordinates.length;_<x;++_)m.push(ht.coordinate.apply(this,[f._points._coordinates[_]]));return m.join(",")},multilinestring:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+ht.linestring.apply(this,[f._geometries[_]])+")");return m.join(",")},polygon:function(f){var m=[];m.push("("+ht.linestring.apply(this,[f._shell])+")");for(var _=0,x=f._holes.length;_<x;++_)m.push("("+ht.linestring.apply(this,[f._holes[_]])+")");return m.join(",")},multipolygon:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+ht.polygon.apply(this,[f._geometries[_]])+")");return m.join(",")},geometrycollection:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push(this.extractGeometry(f._geometries[_]));return m.join(",")}},At={point:function(f){if(void 0===f)return this.geometryFactory.createPoint();var m=f.trim().split(Wt.spaces);return this.geometryFactory.createPoint(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])))},multipoint:function(f){if(void 0===f)return this.geometryFactory.createMultiPoint();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(Wt.trimParens,"$1"),x.push(At.point.apply(this,[m]));return this.geometryFactory.createMultiPoint(x)},linestring:function(f){if(void 0===f)return this.geometryFactory.createLineString();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].trim().split(Wt.spaces),x.push(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])));return this.geometryFactory.createLineString(x)},linearring:function(f){if(void 0===f)return this.geometryFactory.createLinearRing();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].trim().split(Wt.spaces),x.push(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])));return this.geometryFactory.createLinearRing(x)},multilinestring:function(f){if(void 0===f)return this.geometryFactory.createMultiLineString();for(var m,_=f.trim().split(Wt.parenComma),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(Wt.trimParens,"$1"),x.push(At.linestring.apply(this,[m]));return this.geometryFactory.createMultiLineString(x)},polygon:function(f){if(void 0===f)return this.geometryFactory.createPolygon();for(var m,_,x,D,K=f.trim().split(Wt.parenComma),xt=[],qt=0,_e=K.length;qt<_e;++qt)m=K[qt].replace(Wt.trimParens,"$1"),_=At.linestring.apply(this,[m]),x=this.geometryFactory.createLinearRing(_._points),0===qt?D=x:xt.push(x);return this.geometryFactory.createPolygon(D,xt)},multipolygon:function(f){if(void 0===f)return this.geometryFactory.createMultiPolygon();for(var m,_=f.trim().split(Wt.doubleParenComma),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(Wt.trimParens,"$1"),x.push(At.polygon.apply(this,[m]));return this.geometryFactory.createMultiPolygon(x)},geometrycollection:function(f){if(void 0===f)return this.geometryFactory.createGeometryCollection();for(var m=(f=f.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),_=[],x=0,D=m.length;x<D;++x)_.push(this.read(m[x]));return this.geometryFactory.createGeometryCollection(_)}},vt=function(f){this.parser=new Nt(f)};vt.prototype.write=function(f){return this.parser.write(f)},vt.toLineString=function(f,m){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+f.x+" "+f.y+", "+m.x+" "+m.y+" )"};var M=function(f){function m(_){f.call(this,_),this.name="RuntimeException",this.message=_,this.stack=(new f).stack}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(Error),P=function(f){function m(){f.call(this),0===arguments.length?f.call(this):1===arguments.length&&f.call(this,arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(M),U=function(){};U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.shouldNeverReachHere=function(){if(0===arguments.length)U.shouldNeverReachHere(null);else if(1===arguments.length){var f=arguments[0];throw new P("Should never reach here"+(null!==f?": "+f:""))}},U.isTrue=function(){var m;if(1===arguments.length)U.isTrue(arguments[0],null);else if(2===arguments.length&&(m=arguments[1],!arguments[0]))throw null===m?new P:new P(m)},U.equals=function(){var f,m,_;if(2===arguments.length)U.equals(f=arguments[0],m=arguments[1],null);else if(3===arguments.length&&(_=arguments[2],!(m=arguments[1]).equals(f=arguments[0])))throw new P("Expected "+f+" but encountered "+m+(null!==_?": "+_:""))};var pt=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new q,this._intPt[1]=new q,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Et={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};pt.prototype.getIndexAlongSegment=function(f,m){return this.computeIntLineIndex(),this._intLineIndex[f][m]},pt.prototype.getTopologySummary=function(){var f=new dt;return this.isEndPoint()&&f.append(" endpoint"),this._isProper&&f.append(" proper"),this.isCollinear()&&f.append(" collinear"),f.toString()},pt.prototype.computeIntersection=function(f,m,_,x){this._inputLines[0][0]=f,this._inputLines[0][1]=m,this._inputLines[1][0]=_,this._inputLines[1][1]=x,this._result=this.computeIntersect(f,m,_,x)},pt.prototype.getIntersectionNum=function(){return this._result},pt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var f=arguments[0];this.getEdgeDistance(f,0)>this.getEdgeDistance(f,1)?(this._intLineIndex[f][0]=0,this._intLineIndex[f][1]=1):(this._intLineIndex[f][0]=1,this._intLineIndex[f][1]=0)}},pt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},pt.prototype.setPrecisionModel=function(f){this._precisionModel=f},pt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var f=arguments[0],m=0;m<this._result;m++)if(!this._intPt[m].equals2D(this._inputLines[f][0])&&!this._intPt[m].equals2D(this._inputLines[f][1]))return!0;return!1}},pt.prototype.getIntersection=function(f){return this._intPt[f]},pt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},pt.prototype.hasIntersection=function(){return this._result!==pt.NO_INTERSECTION},pt.prototype.getEdgeDistance=function(f,m){return pt.computeEdgeDistance(this._intPt[m],this._inputLines[f][0],this._inputLines[f][1])},pt.prototype.isCollinear=function(){return this._result===pt.COLLINEAR_INTERSECTION},pt.prototype.toString=function(){return vt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+vt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},pt.prototype.getEndpoint=function(f,m){return this._inputLines[f][m]},pt.prototype.isIntersection=function(f){for(var m=0;m<this._result;m++)if(this._intPt[m].equals2D(f))return!0;return!1},pt.prototype.getIntersectionAlongSegment=function(f,m){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[f][m]]},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt},pt.computeEdgeDistance=function(f,m,_){var x=Math.abs(_.x-m.x),D=Math.abs(_.y-m.y),K=-1;if(f.equals(m))K=0;else if(f.equals(_))K=x>D?x:D;else{var xt=Math.abs(f.x-m.x),qt=Math.abs(f.y-m.y);0!==(K=x>D?xt:qt)||f.equals(m)||(K=Math.max(xt,qt))}return U.isTrue(!(0===K&&!f.equals(m)),"Bad distance calculation"),K},pt.nonRobustComputeEdgeDistance=function(f,m,_){var x=f.x-m.x,D=f.y-m.y,K=Math.sqrt(x*x+D*D);return U.isTrue(!(0===K&&!f.equals(m)),"Invalid distance calculation"),K},Et.DONT_INTERSECT.get=function(){return 0},Et.DO_INTERSECT.get=function(){return 1},Et.COLLINEAR.get=function(){return 2},Et.NO_INTERSECTION.get=function(){return 0},Et.POINT_INTERSECTION.get=function(){return 1},Et.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(pt,Et);var Ot=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isInSegmentEnvelopes=function(_){var x=new wt(this._inputLines[0][0],this._inputLines[0][1]),D=new wt(this._inputLines[1][0],this._inputLines[1][1]);return x.contains(_)&&D.contains(_)},m.prototype.computeIntersection=function(){if(3!==arguments.length)return f.prototype.computeIntersection.apply(this,arguments);var _=arguments[0],x=arguments[1],D=arguments[2];if(this._isProper=!1,wt.intersects(x,D,_)&&0===xe.orientationIndex(x,D,_)&&0===xe.orientationIndex(D,x,_))return this._isProper=!0,(_.equals(x)||_.equals(D))&&(this._isProper=!1),this._result=f.POINT_INTERSECTION,null;this._result=f.NO_INTERSECTION},m.prototype.normalizeToMinimum=function(_,x,D,K,xt){xt.x=this.smallestInAbsValue(_.x,x.x,D.x,K.x),xt.y=this.smallestInAbsValue(_.y,x.y,D.y,K.y),_.x-=xt.x,_.y-=xt.y,x.x-=xt.x,x.y-=xt.y,D.x-=xt.x,D.y-=xt.y,K.x-=xt.x,K.y-=xt.y},m.prototype.safeHCoordinateIntersection=function(_,x,D,K){var xt=null;try{xt=Se.intersection(_,x,D,K)}catch(qt){if(!(qt instanceof de))throw qt;xt=m.nearestEndpoint(_,x,D,K)}return xt},m.prototype.intersection=function(_,x,D,K){var xt=this.intersectionWithNormalization(_,x,D,K);return this.isInSegmentEnvelopes(xt)||(xt=new q(m.nearestEndpoint(_,x,D,K))),null!==this._precisionModel&&this._precisionModel.makePrecise(xt),xt},m.prototype.smallestInAbsValue=function(_,x,D,K){var xt=_,qt=Math.abs(xt);return Math.abs(x)<qt&&(xt=x,qt=Math.abs(x)),Math.abs(D)<qt&&(xt=D,qt=Math.abs(D)),Math.abs(K)<qt&&(xt=K),xt},m.prototype.checkDD=function(_,x,D,K,xt){var qt=jt.intersection(_,x,D,K),_e=this.isInSegmentEnvelopes(qt);we.out.println("DD in env = "+_e+"  --------------------- "+qt),xt.distance(qt)>1e-4&&we.out.println("Distance = "+xt.distance(qt))},m.prototype.intersectionWithNormalization=function(_,x,D,K){var xt=new q(_),qt=new q(x),_e=new q(D),Ge=new q(K),mn=new q;this.normalizeToEnvCentre(xt,qt,_e,Ge,mn);var En=this.safeHCoordinateIntersection(xt,qt,_e,Ge);return En.x+=mn.x,En.y+=mn.y,En},m.prototype.computeCollinearIntersection=function(_,x,D,K){var xt=wt.intersects(_,x,D),qt=wt.intersects(_,x,K),_e=wt.intersects(D,K,_),Ge=wt.intersects(D,K,x);return xt&&qt?(this._intPt[0]=D,this._intPt[1]=K,f.COLLINEAR_INTERSECTION):_e&&Ge?(this._intPt[0]=_,this._intPt[1]=x,f.COLLINEAR_INTERSECTION):xt&&_e?(this._intPt[0]=D,this._intPt[1]=_,!D.equals(_)||qt||Ge?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):xt&&Ge?(this._intPt[0]=D,this._intPt[1]=x,!D.equals(x)||qt||_e?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):qt&&_e?(this._intPt[0]=K,this._intPt[1]=_,!K.equals(_)||xt||Ge?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):qt&&Ge?(this._intPt[0]=K,this._intPt[1]=x,!K.equals(x)||xt||_e?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):f.NO_INTERSECTION},m.prototype.normalizeToEnvCentre=function(_,x,D,K,xt){var qt=_.x<x.x?_.x:x.x,_e=_.y<x.y?_.y:x.y,Ge=_.x>x.x?_.x:x.x,mn=_.y>x.y?_.y:x.y,En=D.x<K.x?D.x:K.x,qn=D.y<K.y?D.y:K.y,ai=D.x>K.x?D.x:K.x,gi=D.y>K.y?D.y:K.y,ea=((_e>qn?_e:qn)+(mn<gi?mn:gi))/2;xt.x=((qt>En?qt:En)+(Ge<ai?Ge:ai))/2,xt.y=ea,_.x-=xt.x,_.y-=xt.y,x.x-=xt.x,x.y-=xt.y,D.x-=xt.x,D.y-=xt.y,K.x-=xt.x,K.y-=xt.y},m.prototype.computeIntersect=function(_,x,D,K){if(this._isProper=!1,!wt.intersects(_,x,D,K))return f.NO_INTERSECTION;var xt=xe.orientationIndex(_,x,D),qt=xe.orientationIndex(_,x,K);if(xt>0&&qt>0||xt<0&&qt<0)return f.NO_INTERSECTION;var _e=xe.orientationIndex(D,K,_),Ge=xe.orientationIndex(D,K,x);return _e>0&&Ge>0||_e<0&&Ge<0?f.NO_INTERSECTION:0===xt&&0===qt&&0===_e&&0===Ge?this.computeCollinearIntersection(_,x,D,K):(0===xt||0===qt||0===_e||0===Ge?(this._isProper=!1,_.equals2D(D)||_.equals2D(K)?this._intPt[0]=_:x.equals2D(D)||x.equals2D(K)?this._intPt[0]=x:0===xt?this._intPt[0]=new q(D):0===qt?this._intPt[0]=new q(K):0===_e?this._intPt[0]=new q(_):0===Ge&&(this._intPt[0]=new q(x))):(this._isProper=!0,this._intPt[0]=this.intersection(_,x,D,K)),f.POINT_INTERSECTION)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.nearestEndpoint=function(_,x,D,K){var xt=_,qt=xe.distancePointLine(_,D,K),_e=xe.distancePointLine(x,D,K);return _e<qt&&(qt=_e,xt=x),(_e=xe.distancePointLine(D,_,x))<qt&&(qt=_e,xt=D),(_e=xe.distancePointLine(K,_,x))<qt&&(qt=_e,xt=K),xt},m}(pt),pe=function(){};pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},pe.orientationIndex=function(f,m,_){return pe.signOfDet2x2(m.x-f.x,m.y-f.y,_.x-m.x,_.y-m.y)},pe.signOfDet2x2=function(f,m,_,x){var D=null,K=null,xt=null;if(D=1,0===f||0===x)return 0===m||0===_?0:m>0?_>0?-D:D:_>0?D:-D;if(0===m||0===_)return x>0?f>0?D:-D:f>0?-D:D;if(m>0?x>0?m<=x||(D=-D,K=f,f=_,_=K,K=m,m=x,x=K):m<=-x?(D=-D,_=-_,x=-x):(K=f,f=-_,_=K,K=m,m=-x,x=K):x>0?-m<=x?(D=-D,f=-f,m=-m):(K=-f,f=_,_=K,K=-m,m=x,x=K):m>=x?(f=-f,m=-m,_=-_,x=-x):(D=-D,K=-f,f=-_,_=K,K=-m,m=-x,x=K),f>0){if(!(_>0&&f<=_))return D}else{if(_>0||!(f>=_))return-D;D=-D,f=-f,_=-_}for(;;){if((x-=(xt=Math.floor(_/f))*m)<0)return-D;if(x>m)return D;if(f>(_-=xt*f)+_){if(m<x+x)return D}else{if(m>x+x)return-D;_=f-_,x=m-x,D=-D}if(0===x)return 0===_?0:-D;if(0===_||(f-=(xt=Math.floor(f/_))*_,(m-=xt*x)<0))return D;if(m>x)return-D;if(_>f+f){if(x<m+m)return-D}else{if(x>m+m)return D;f=_-f,m=x-m,D=-D}if(0===m)return 0===f?0:D;if(0===f)return-D}};var ye=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};ye.prototype.countSegment=function(f,m){if(f.x<this._p.x&&m.x<this._p.x)return null;if(this._p.x===m.x&&this._p.y===m.y)return this._isPointOnSegment=!0,null;if(f.y===this._p.y&&m.y===this._p.y){var _=f.x,x=m.x;return _>x&&(_=m.x,x=f.x),this._p.x>=_&&this._p.x<=x&&(this._isPointOnSegment=!0),null}if(f.y>this._p.y&&m.y<=this._p.y||m.y>this._p.y&&f.y<=this._p.y){var K=f.y-this._p.y,qt=m.y-this._p.y,_e=pe.signOfDet2x2(f.x-this._p.x,K,m.x-this._p.x,qt);if(0===_e)return this._isPointOnSegment=!0,null;qt<K&&(_e=-_e),_e>0&&this._crossingCount++}},ye.prototype.isPointInPolygon=function(){return this.getLocation()!==ut.EXTERIOR},ye.prototype.getLocation=function(){return this._isPointOnSegment?ut.BOUNDARY:this._crossingCount%2==1?ut.INTERIOR:ut.EXTERIOR},ye.prototype.isOnSegment=function(){return this._isPointOnSegment},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye},ye.locatePointInRing=function(){if(arguments[0]instanceof q&&se(arguments[1],ue)){for(var m=arguments[1],_=new ye(arguments[0]),x=new q,D=new q,K=1;K<m.size();K++)if(m.getCoordinate(K,x),m.getCoordinate(K-1,D),_.countSegment(x,D),_.isOnSegment())return _.getLocation();return _.getLocation()}if(arguments[0]instanceof q&&arguments[1]instanceof Array){for(var qt=arguments[1],_e=new ye(arguments[0]),Ge=1;Ge<qt.length;Ge++)if(_e.countSegment(qt[Ge],qt[Ge-1]),_e.isOnSegment())return _e.getLocation();return _e.getLocation()}};var xe=function(){},ze={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe},xe.orientationIndex=function(f,m,_){return jt.orientationIndex(f,m,_)},xe.signedArea=function(){if(arguments[0]instanceof Array){var f=arguments[0];if(f.length<3)return 0;for(var m=0,_=f[0].x,x=1;x<f.length-1;x++)m+=(f[x].x-_)*(f[x-1].y-f[x+1].y);return m/2}if(se(arguments[0],ue)){var xt=arguments[0],qt=xt.size();if(qt<3)return 0;var _e=new q,Ge=new q,mn=new q;xt.getCoordinate(0,Ge),xt.getCoordinate(1,mn);var En=Ge.x;mn.x-=En;for(var qn=0,ai=1;ai<qt-1;ai++)_e.y=Ge.y,Ge.x=mn.x,Ge.y=mn.y,xt.getCoordinate(ai+1,mn),mn.x-=En,qn+=Ge.x*(_e.y-mn.y);return qn/2}},xe.distanceLineLine=function(f,m,_,x){if(f.equals(m))return xe.distancePointLine(f,_,x);if(_.equals(x))return xe.distancePointLine(x,f,m);var D=!1;if(wt.intersects(f,m,_,x)){var K=(m.x-f.x)*(x.y-_.y)-(m.y-f.y)*(x.x-_.x);if(0===K)D=!0;else{var qt=((f.y-_.y)*(m.x-f.x)-(f.x-_.x)*(m.y-f.y))/K,_e=((f.y-_.y)*(x.x-_.x)-(f.x-_.x)*(x.y-_.y))/K;(_e<0||_e>1||qt<0||qt>1)&&(D=!0)}}else D=!0;return D?Tt.min(xe.distancePointLine(f,_,x),xe.distancePointLine(m,_,x),xe.distancePointLine(_,f,m),xe.distancePointLine(x,f,m)):0},xe.isPointInRing=function(f,m){return xe.locatePointInRing(f,m)!==ut.EXTERIOR},xe.computeLength=function(f){var m=f.size();if(m<=1)return 0;var _=0,x=new q;f.getCoordinate(0,x);for(var D=x.x,K=x.y,xt=1;xt<m;xt++){f.getCoordinate(xt,x);var qt=x.x,_e=x.y,Ge=qt-D,mn=_e-K;_+=Math.sqrt(Ge*Ge+mn*mn),D=qt,K=_e}return _},xe.isCCW=function(f){var m=f.length-1;if(m<3)throw new nt("Ring has fewer than 4 points, so orientation cannot be determined");for(var _=f[0],x=0,D=1;D<=m;D++){var K=f[D];K.y>_.y&&(_=K,x=D)}var xt=x;do{(xt-=1)<0&&(xt=m)}while(f[xt].equals2D(_)&&xt!==x);var qt=x;do{qt=(qt+1)%m}while(f[qt].equals2D(_)&&qt!==x);var _e=f[xt],Ge=f[qt];if(_e.equals2D(_)||Ge.equals2D(_)||_e.equals2D(Ge))return!1;var mn=xe.computeOrientation(_e,_,Ge);return 0===mn?_e.x>Ge.x:mn>0},xe.locatePointInRing=function(f,m){return ye.locatePointInRing(f,m)},xe.distancePointLinePerpendicular=function(f,m,_){var x=(_.x-m.x)*(_.x-m.x)+(_.y-m.y)*(_.y-m.y);return Math.abs(((m.y-f.y)*(_.x-m.x)-(m.x-f.x)*(_.y-m.y))/x)*Math.sqrt(x)},xe.computeOrientation=function(f,m,_){return xe.orientationIndex(f,m,_)},xe.distancePointLine=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];if(0===m.length)throw new nt("Line array must contain at least one vertex");for(var _=f.distance(m[0]),x=0;x<m.length-1;x++){var D=xe.distancePointLine(f,m[x],m[x+1]);D<_&&(_=D)}return _}if(3===arguments.length){var K=arguments[0],xt=arguments[1],qt=arguments[2];if(xt.x===qt.x&&xt.y===qt.y)return K.distance(xt);var _e=(qt.x-xt.x)*(qt.x-xt.x)+(qt.y-xt.y)*(qt.y-xt.y),Ge=((K.x-xt.x)*(qt.x-xt.x)+(K.y-xt.y)*(qt.y-xt.y))/_e;return Ge<=0?K.distance(xt):Ge>=1?K.distance(qt):Math.abs(((xt.y-K.y)*(qt.x-xt.x)-(xt.x-K.x)*(qt.y-xt.y))/_e)*Math.sqrt(_e)}},xe.isOnLine=function(f,m){for(var _=new Ot,x=1;x<m.length;x++)if(_.computeIntersection(f,m[x-1],m[x]),_.hasIntersection())return!0;return!1},ze.CLOCKWISE.get=function(){return-1},ze.RIGHT.get=function(){return xe.CLOCKWISE},ze.COUNTERCLOCKWISE.get=function(){return 1},ze.LEFT.get=function(){return xe.COUNTERCLOCKWISE},ze.COLLINEAR.get=function(){return 0},ze.STRAIGHT.get=function(){return xe.COLLINEAR},Object.defineProperties(xe,ze);var Je=function(){};Je.prototype.filter=function(f){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Ve=function(){var f=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=f,this._SRID=f.getSRID()},ln={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ve.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ve.SORTINDEX_GEOMETRYCOLLECTION},Ve.prototype.getFactory=function(){return this._factory},Ve.prototype.getGeometryN=function(f){return this},Ve.prototype.getArea=function(){return 0},Ve.prototype.isRectangle=function(){return!1},Ve.prototype.equals=function(){if(arguments[0]instanceof Ve){var f=arguments[0];return null!==f&&this.equalsTopo(f)}if(arguments[0]instanceof Object){var m=arguments[0];return m instanceof Ve&&this.equalsExact(m)}},Ve.prototype.equalsExact=function(f){return this===f||this.equalsExact(f,0)},Ve.prototype.geometryChanged=function(){this.apply(Ve.geometryChangedFilter)},Ve.prototype.geometryChangedAction=function(){this._envelope=null},Ve.prototype.equalsNorm=function(f){return null!==f&&this.norm().equalsExact(f.norm())},Ve.prototype.getLength=function(){return 0},Ve.prototype.getNumGeometries=function(){return 1},Ve.prototype.compareTo=function(){if(1===arguments.length){var f=arguments[0],m=f;return this.getSortIndex()!==m.getSortIndex()?this.getSortIndex()-m.getSortIndex():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(f)}if(2===arguments.length){var _=arguments[0],x=arguments[1];return this.getSortIndex()!==_.getSortIndex()?this.getSortIndex()-_.getSortIndex():this.isEmpty()&&_.isEmpty()?0:this.isEmpty()?-1:_.isEmpty()?1:this.compareToSameClass(_,x)}},Ve.prototype.getUserData=function(){return this._userData},Ve.prototype.getSRID=function(){return this._SRID},Ve.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ve.prototype.checkNotGeometryCollection=function(f){if(f.getSortIndex()===Ve.SORTINDEX_GEOMETRYCOLLECTION)throw new nt("This method does not support GeometryCollection arguments")},Ve.prototype.equal=function(f,m,_){return 0===_?f.equals(m):f.distance(m)<=_},Ve.prototype.norm=function(){var f=this.copy();return f.normalize(),f},Ve.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ve.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new wt(this._envelope)},Ve.prototype.setSRID=function(f){this._SRID=f},Ve.prototype.setUserData=function(f){this._userData=f},Ve.prototype.compare=function(f,m){for(var _=f.iterator(),x=m.iterator();_.hasNext()&&x.hasNext();){var D=_.next(),K=x.next(),xt=D.compareTo(K);if(0!==xt)return xt}return _.hasNext()?1:x.hasNext()?-1:0},Ve.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ve.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ve.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ve.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ve.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ve.SORTINDEX_MULTIPOLYGON},Ve.prototype.interfaces_=function(){return[Mt,gt,J]},Ve.prototype.getClass=function(){return Ve},Ve.hasNonEmptyElements=function(f){for(var m=0;m<f.length;m++)if(!f[m].isEmpty())return!0;return!1},Ve.hasNullElements=function(f){for(var m=0;m<f.length;m++)if(null===f[m])return!0;return!1},ln.serialVersionUID.get=function(){return 0x799ea46522854c00},ln.SORTINDEX_POINT.get=function(){return 0},ln.SORTINDEX_MULTIPOINT.get=function(){return 1},ln.SORTINDEX_LINESTRING.get=function(){return 2},ln.SORTINDEX_LINEARRING.get=function(){return 3},ln.SORTINDEX_MULTILINESTRING.get=function(){return 4},ln.SORTINDEX_POLYGON.get=function(){return 5},ln.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ln.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ln.geometryChangedFilter.get=function(){return fn},Object.defineProperties(Ve,ln);var fn=function(){};fn.interfaces_=function(){return[Je]},fn.filter=function(f){f.geometryChangedAction()};var dn=function(){};dn.prototype.filter=function(f){},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn};var xn=function(){},cn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};xn.prototype.isInBoundary=function(f){},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},cn.Mod2BoundaryNodeRule.get=function(){return ke},cn.EndPointBoundaryNodeRule.get=function(){return Kt},cn.MultiValentEndPointBoundaryNodeRule.get=function(){return ge},cn.MonoValentEndPointBoundaryNodeRule.get=function(){return Le},cn.MOD2_BOUNDARY_RULE.get=function(){return new ke},cn.ENDPOINT_BOUNDARY_RULE.get=function(){return new Kt},cn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ge},cn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Le},cn.OGC_SFS_BOUNDARY_RULE.get=function(){return xn.MOD2_BOUNDARY_RULE},Object.defineProperties(xn,cn);var ke=function(){};ke.prototype.isInBoundary=function(f){return f%2==1},ke.prototype.interfaces_=function(){return[xn]},ke.prototype.getClass=function(){return ke};var Kt=function(){};Kt.prototype.isInBoundary=function(f){return f>0},Kt.prototype.interfaces_=function(){return[xn]},Kt.prototype.getClass=function(){return Kt};var ge=function(){};ge.prototype.isInBoundary=function(f){return f>1},ge.prototype.interfaces_=function(){return[xn]},ge.prototype.getClass=function(){return ge};var Le=function(){};Le.prototype.isInBoundary=function(f){return 1===f},Le.prototype.interfaces_=function(){return[xn]},Le.prototype.getClass=function(){return Le};var We=function(){};We.prototype.add=function(){},We.prototype.addAll=function(){},We.prototype.isEmpty=function(){},We.prototype.iterator=function(){},We.prototype.size=function(){},We.prototype.toArray=function(){},We.prototype.remove=function(){},(rt.prototype=new Error).name="IndexOutOfBoundsException";var rn=function(){};rn.prototype.hasNext=function(){},rn.prototype.next=function(){},rn.prototype.remove=function(){};var bn=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.get=function(){},m.prototype.set=function(){},m.prototype.isEmpty=function(){},m}(We);(F.prototype=new Error).name="NoSuchElementException";var nn=function(f){function m(){f.call(this),this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.ensureCapacity=function(){},m.prototype.interfaces_=function(){return[f,We]},m.prototype.add=function(_){return 1===arguments.length?this.array_.push(_):this.array_.splice(arguments[0],arguments[1]),!0},m.prototype.clear=function(){this.array_=[]},m.prototype.addAll=function(_){for(var x=_.iterator();x.hasNext();)this.add(x.next());return!0},m.prototype.set=function(_,x){var D=this.array_[_];return this.array_[_]=x,D},m.prototype.iterator=function(){return new wn(this)},m.prototype.get=function(_){if(_<0||_>=this.size())throw new rt;return this.array_[_]},m.prototype.isEmpty=function(){return 0===this.array_.length},m.prototype.size=function(){return this.array_.length},m.prototype.toArray=function(){for(var _=[],x=0,D=this.array_.length;x<D;x++)_.push(this.array_[x]);return _},m.prototype.remove=function(_){for(var x=!1,D=0,K=this.array_.length;D<K;D++)if(this.array_[D]===_){this.array_.splice(D,1),x=!0;break}return x},m}(bn),wn=function(f){function m(_){f.call(this),this.arrayList_=_,this.position_=0}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new F;return this.arrayList_.get(this.position_++)},m.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},m.prototype.set=function(_){return this.arrayList_.set(this.position_-1,_)},m.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},m}(rn),zt=function(f){function m(){if(f.call(this),0!==arguments.length)if(1===arguments.length){var x=arguments[0];this.ensureCapacity(x.length),this.add(x,!0)}else if(2===arguments.length){var D=arguments[0],K=arguments[1];this.ensureCapacity(D.length),this.add(D,K)}}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={coordArrayType:{configurable:!0}};return _.coordArrayType.get=function(){return new Array(0).fill(null)},m.prototype.getCoordinate=function(x){return this.get(x)},m.prototype.addAll=function(){if(2===arguments.length){for(var D=arguments[1],K=!1,xt=arguments[0].iterator();xt.hasNext();)this.add(xt.next(),D),K=!0;return K}return f.prototype.addAll.apply(this,arguments)},m.prototype.clone=function(){for(var x=f.prototype.clone.call(this),D=0;D<this.size();D++)x.add(D,this.get(D).copy());return x},m.prototype.toCoordinateArray=function(){return this.toArray(m.coordArrayType)},m.prototype.add=function(){if(1===arguments.length)f.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof q&&"boolean"==typeof arguments[1]){var xt=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(xt))return null;f.prototype.add.call(this,xt)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var Ge=arguments[0],mn=arguments[1];if(arguments[2])for(var En=0;En<Ge.length;En++)this.add(Ge[En],mn);else for(var qn=Ge.length-1;qn>=0;qn--)this.add(Ge[qn],mn);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof q){var ai=arguments[0],gi=arguments[1];if(!arguments[2]){var Jn=this.size();if(Jn>0&&(ai>0&&this.get(ai-1).equals2D(gi)||ai<Jn&&this.get(ai).equals2D(gi)))return null}f.prototype.add.call(this,ai,gi)}}else if(4===arguments.length){var ea=arguments[0],ol=arguments[1],oc=arguments[2],$u=arguments[3],Nd=1;oc>$u&&(Nd=-1);for(var $p=oc;$p!==$u;$p+=Nd)this.add(ea[$p],ol);return!0}},m.prototype.closeRing=function(){this.size()>0&&this.add(new q(this.get(0)),!1)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},Object.defineProperties(m,_),m}(nn),Qt=function(){},Ie={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ie.ForwardComparator.get=function(){return je},Ie.BidirectionalComparator.get=function(){return tn},Ie.coordArrayType.get=function(){return new Array(0).fill(null)},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt},Qt.isRing=function(f){return!(f.length<4||!f[0].equals2D(f[f.length-1]))},Qt.ptNotInList=function(f,m){for(var _=0;_<f.length;_++){var x=f[_];if(Qt.indexOf(x,m)<0)return x}return null},Qt.scroll=function(f,m){var _=Qt.indexOf(m,f);if(_<0)return null;var x=new Array(f.length).fill(null);we.arraycopy(f,_,x,0,f.length-_),we.arraycopy(f,0,x,f.length-_,_),we.arraycopy(x,0,f,0,f.length)},Qt.equals=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];if(f===m)return!0;if(null===f||null===m||f.length!==m.length)return!1;for(var _=0;_<f.length;_++)if(!f[_].equals(m[_]))return!1;return!0}if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2];if(x===D)return!0;if(null===x||null===D||x.length!==D.length)return!1;for(var xt=0;xt<x.length;xt++)if(0!==K.compare(x[xt],D[xt]))return!1;return!0}},Qt.intersection=function(f,m){for(var _=new zt,x=0;x<f.length;x++)m.intersects(f[x])&&_.add(f[x],!0);return _.toCoordinateArray()},Qt.hasRepeatedPoints=function(f){for(var m=1;m<f.length;m++)if(f[m-1].equals(f[m]))return!0;return!1},Qt.removeRepeatedPoints=function(f){return Qt.hasRepeatedPoints(f)?new zt(f,!1).toCoordinateArray():f},Qt.reverse=function(f){for(var m=f.length-1,_=Math.trunc(m/2),x=0;x<=_;x++){var D=f[x];f[x]=f[m-x],f[m-x]=D}},Qt.removeNull=function(f){for(var m=0,_=0;_<f.length;_++)null!==f[_]&&m++;var x=new Array(m).fill(null);if(0===m)return x;for(var D=0,K=0;K<f.length;K++)null!==f[K]&&(x[D++]=f[K]);return x},Qt.copyDeep=function(){if(1===arguments.length){for(var f=arguments[0],m=new Array(f.length).fill(null),_=0;_<f.length;_++)m[_]=new q(f[_]);return m}if(5===arguments.length)for(var x=arguments[0],D=arguments[1],K=arguments[2],xt=arguments[3],qt=arguments[4],_e=0;_e<qt;_e++)K[xt+_e]=new q(x[D+_e])},Qt.isEqualReversed=function(f,m){for(var _=0;_<f.length;_++)if(0!==f[_].compareTo(m[f.length-_-1]))return!1;return!0},Qt.envelope=function(f){for(var m=new wt,_=0;_<f.length;_++)m.expandToInclude(f[_]);return m},Qt.toCoordinateArray=function(f){return f.toArray(Qt.coordArrayType)},Qt.atLeastNCoordinatesOrNothing=function(f,m){return m.length>=f?m:[]},Qt.indexOf=function(f,m){for(var _=0;_<m.length;_++)if(f.equals(m[_]))return _;return-1},Qt.increasingDirection=function(f){for(var m=0;m<Math.trunc(f.length/2);m++){var x=f[m].compareTo(f[f.length-1-m]);if(0!==x)return x}return 1},Qt.compare=function(f,m){for(var _=0;_<f.length&&_<m.length;){var x=f[_].compareTo(m[_]);if(0!==x)return x;_++}return _<m.length?-1:_<f.length?1:0},Qt.minCoordinate=function(f){for(var m=null,_=0;_<f.length;_++)(null===m||m.compareTo(f[_])>0)&&(m=f[_]);return m},Qt.extract=function(f,m,_){m=Tt.clamp(m,0,f.length);var x=(_=Tt.clamp(_,-1,f.length))-m+1;_<0&&(x=0),m>=f.length&&(x=0),_<m&&(x=0);var D=new Array(x).fill(null);if(0===x)return D;for(var K=0,xt=m;xt<=_;xt++)D[K++]=f[xt];return D},Object.defineProperties(Qt,Ie);var je=function(){};je.prototype.compare=function(f,m){return Qt.compare(f,m)},je.prototype.interfaces_=function(){return[Ct]},je.prototype.getClass=function(){return je};var tn=function(){};tn.prototype.compare=function(f,m){var _=f,x=m;if(_.length<x.length)return-1;if(_.length>x.length)return 1;if(0===_.length)return 0;var D=Qt.compare(_,x);return Qt.isEqualReversed(_,x)?0:D},tn.prototype.OLDcompare=function(f,m){var _=f,x=m;if(_.length<x.length)return-1;if(_.length>x.length)return 1;if(0===_.length)return 0;for(var D=Qt.increasingDirection(_),K=Qt.increasingDirection(x),xt=D>0?0:_.length-1,qt=K>0?0:_.length-1,_e=0;_e<_.length;_e++){var Ge=_[xt].compareTo(x[qt]);if(0!==Ge)return Ge;xt+=D,qt+=K}return 0},tn.prototype.interfaces_=function(){return[Ct]},tn.prototype.getClass=function(){return tn};var Dn=function(){};Dn.prototype.get=function(){},Dn.prototype.put=function(){},Dn.prototype.size=function(){},Dn.prototype.values=function(){},Dn.prototype.entrySet=function(){};var fi=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(Dn);(Y.prototype=new Error).name="OperationNotSupported",(G.prototype=new We).contains=function(){};var sr=function(f){function m(){f.call(this),this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.contains=function(_){for(var x=0,D=this.array_.length;x<D;x++)if(this.array_[x]===_)return!0;return!1},m.prototype.add=function(_){return!this.contains(_)&&(this.array_.push(_),!0)},m.prototype.addAll=function(_){for(var x=_.iterator();x.hasNext();)this.add(x.next());return!0},m.prototype.remove=function(_){throw new Error},m.prototype.size=function(){return this.array_.length},m.prototype.isEmpty=function(){return 0===this.array_.length},m.prototype.toArray=function(){for(var _=[],x=0,D=this.array_.length;x<D;x++)_.push(this.array_[x]);return _},m.prototype.iterator=function(){return new dr(this)},m}(G),dr=function(f){function m(_){f.call(this),this.hashSet_=_,this.position_=0}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new F;return this.hashSet_.array_[this.position_++]},m.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},m.prototype.remove=function(){throw new Y},m}(rn),Qi=0;($.prototype=new fi).get=function(f){for(var m=this.root_;null!==m;){var _=f.compareTo(m.key);if(_<0)m=m.left;else{if(!(_>0))return m.value;m=m.right}}return null},$.prototype.put=function(f,m){if(null===this.root_)return this.root_={key:f,value:m,left:null,right:null,parent:null,color:Qi,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var _,x,D=this.root_;do{if(_=D,(x=f.compareTo(D.key))<0)D=D.left;else{if(!(x>0)){var K=D.value;return D.value=m,K}D=D.right}}while(null!==D);var xt={key:f,left:null,right:null,value:m,parent:_,color:Qi,getValue:function(){return this.value},getKey:function(){return this.key}};return x<0?_.left=xt:_.right=xt,this.fixAfterInsertion(xt),this.size_++,null},$.prototype.fixAfterInsertion=function(f){for(f.color=1;null!=f&&f!==this.root_&&1===f.parent.color;)if(Q(f)===st(Q(Q(f)))){var m=at(Q(Q(f)));1===O(m)?(ot(Q(f),Qi),ot(m,Qi),ot(Q(Q(f)),1),f=Q(Q(f))):(f===at(Q(f))&&(f=Q(f),this.rotateLeft(f)),ot(Q(f),Qi),ot(Q(Q(f)),1),this.rotateRight(Q(Q(f))))}else{var _=st(Q(Q(f)));1===O(_)?(ot(Q(f),Qi),ot(_,Qi),ot(Q(Q(f)),1),f=Q(Q(f))):(f===st(Q(f))&&(f=Q(f),this.rotateRight(f)),ot(Q(f),Qi),ot(Q(Q(f)),1),this.rotateLeft(Q(Q(f))))}this.root_.color=Qi},$.prototype.values=function(){var f=new nn,m=this.getFirstEntry();if(null!==m)for(f.add(m.value);null!==(m=$.successor(m));)f.add(m.value);return f},$.prototype.entrySet=function(){var f=new sr,m=this.getFirstEntry();if(null!==m)for(f.add(m);null!==(m=$.successor(m));)f.add(m);return f},$.prototype.rotateLeft=function(f){if(null!=f){var m=f.right;f.right=m.left,null!=m.left&&(m.left.parent=f),m.parent=f.parent,null===f.parent?this.root_=m:f.parent.left===f?f.parent.left=m:f.parent.right=m,m.left=f,f.parent=m}},$.prototype.rotateRight=function(f){if(null!=f){var m=f.left;f.left=m.right,null!=m.right&&(m.right.parent=f),m.parent=f.parent,null===f.parent?this.root_=m:f.parent.right===f?f.parent.right=m:f.parent.left=m,m.right=f,f.parent=m}},$.prototype.getFirstEntry=function(){var f=this.root_;if(null!=f)for(;null!=f.left;)f=f.left;return f},$.successor=function(f){if(null===f)return null;if(null!==f.right){for(var m=f.right;null!==m.left;)m=m.left;return m}for(var _=f.parent,x=f;null!==_&&x===_.right;)x=_,_=_.parent;return _},$.prototype.size=function(){return this.size_};var Po=function(){};Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},N.prototype=new G,(V.prototype=new N).contains=function(f){for(var m=0,_=this.array_.length;m<_;m++)if(0===this.array_[m].compareTo(f))return!0;return!1},V.prototype.add=function(f){if(this.contains(f))return!1;for(var m=0,_=this.array_.length;m<_;m++)if(1===this.array_[m].compareTo(f))return this.array_.splice(m,0,f),!0;return this.array_.push(f),!0},V.prototype.addAll=function(f){for(var m=f.iterator();m.hasNext();)this.add(m.next());return!0},V.prototype.remove=function(f){throw new Y},V.prototype.size=function(){return this.array_.length},V.prototype.isEmpty=function(){return 0===this.array_.length},V.prototype.toArray=function(){for(var f=[],m=0,_=this.array_.length;m<_;m++)f.push(this.array_[m]);return f},V.prototype.iterator=function(){return new Ha(this)};var Ha=function(f){this.treeSet_=f,this.position_=0};Ha.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new F;return this.treeSet_.array_[this.position_++]},Ha.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ha.prototype.remove=function(){throw new Y};var Wo=function(){};Wo.sort=function(){var f,m,_,D=arguments[0];if(1===arguments.length)D.sort(function(xt,qt){return xt.compareTo(qt)});else if(2===arguments.length)_=arguments[1],D.sort(function(xt,qt){return _.compare(xt,qt)});else if(3===arguments.length){(m=D.slice(arguments[1],arguments[2])).sort();var K=D.slice(0,arguments[1]).concat(m,D.slice(arguments[2],D.length));for(D.splice(0,D.length),f=0;f<K.length;f++)D.push(K[f])}else if(4===arguments.length)for(m=D.slice(arguments[1],arguments[2]),_=arguments[3],m.sort(function(xt,qt){return _.compare(xt,qt)}),K=D.slice(0,arguments[1]).concat(m,D.slice(arguments[2],D.length)),D.splice(0,D.length),f=0;f<K.length;f++)D.push(K[f])},Wo.asList=function(f){for(var m=new nn,_=0,x=f.length;_<x;_++)m.add(f[_]);return m};var Vi=function(){},sa={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};sa.P.get=function(){return 0},sa.L.get=function(){return 1},sa.A.get=function(){return 2},sa.FALSE.get=function(){return-1},sa.TRUE.get=function(){return-2},sa.DONTCARE.get=function(){return-3},sa.SYM_FALSE.get=function(){return"F"},sa.SYM_TRUE.get=function(){return"T"},sa.SYM_DONTCARE.get=function(){return"*"},sa.SYM_P.get=function(){return"0"},sa.SYM_L.get=function(){return"1"},sa.SYM_A.get=function(){return"2"},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},Vi.toDimensionSymbol=function(f){switch(f){case Vi.FALSE:return Vi.SYM_FALSE;case Vi.TRUE:return Vi.SYM_TRUE;case Vi.DONTCARE:return Vi.SYM_DONTCARE;case Vi.P:return Vi.SYM_P;case Vi.L:return Vi.SYM_L;case Vi.A:return Vi.SYM_A}throw new nt("Unknown dimension value: "+f)},Vi.toDimensionValue=function(f){switch(Zt.toUpperCase(f)){case Vi.SYM_FALSE:return Vi.FALSE;case Vi.SYM_TRUE:return Vi.TRUE;case Vi.SYM_DONTCARE:return Vi.DONTCARE;case Vi.SYM_P:return Vi.P;case Vi.SYM_L:return Vi.L;case Vi.SYM_A:return Vi.A}throw new nt("Unknown dimension symbol: "+f)},Object.defineProperties(Vi,sa);var Ft=function(){};Ft.prototype.filter=function(f){},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft};var $t=function(){};$t.prototype.filter=function(f,m){},$t.prototype.isDone=function(){},$t.prototype.isGeometryChanged=function(){},$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Fe=function(f){function m(x,D){if(f.call(this,D),this._geometries=x||[],f.hasNullElements(this._geometries))throw new nt("geometries must not contain null elements")}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){for(var x=new wt,D=0;D<this._geometries.length;D++)x.expandToInclude(this._geometries[D].getEnvelopeInternal());return x},m.prototype.getGeometryN=function(x){return this._geometries[x]},m.prototype.getSortIndex=function(){return f.SORTINDEX_GEOMETRYCOLLECTION},m.prototype.getCoordinates=function(){for(var x=new Array(this.getNumPoints()).fill(null),D=-1,K=0;K<this._geometries.length;K++)for(var xt=this._geometries[K].getCoordinates(),qt=0;qt<xt.length;qt++)x[++D]=xt[qt];return x},m.prototype.getArea=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getArea();return x},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(this._geometries.length!==K._geometries.length)return!1;for(var xt=0;xt<this._geometries.length;xt++)if(!this._geometries[xt].equalsExact(K._geometries[xt],D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){for(var x=0;x<this._geometries.length;x++)this._geometries[x].normalize();Wo.sort(this._geometries)},m.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},m.prototype.getBoundaryDimension=function(){for(var x=Vi.FALSE,D=0;D<this._geometries.length;D++)x=Math.max(x,this._geometries[D].getBoundaryDimension());return x},m.prototype.getDimension=function(){for(var x=Vi.FALSE,D=0;D<this._geometries.length;D++)x=Math.max(x,this._geometries[D].getDimension());return x},m.prototype.getLength=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getLength();return x},m.prototype.getNumPoints=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getNumPoints();return x},m.prototype.getNumGeometries=function(){return this._geometries.length},m.prototype.reverse=function(){for(var D=new Array(this._geometries.length).fill(null),K=0;K<this._geometries.length;K++)D[K]=this._geometries[K].reverse();return this.getFactory().createGeometryCollection(D)},m.prototype.compareToSameClass=function(){if(1===arguments.length){var x=arguments[0],D=new V(Wo.asList(this._geometries)),K=new V(Wo.asList(x._geometries));return this.compare(D,K)}if(2===arguments.length){for(var qt=arguments[1],_e=arguments[0],Ge=this.getNumGeometries(),mn=_e.getNumGeometries(),En=0;En<Ge&&En<mn;){var qn=this.getGeometryN(En),ai=_e.getGeometryN(En),gi=qn.compareToSameClass(ai,qt);if(0!==gi)return gi;En++}return En<Ge?1:En<mn?-1:0}},m.prototype.apply=function(){if(se(arguments[0],dn))for(var x=arguments[0],D=0;D<this._geometries.length;D++)this._geometries[D].apply(x);else if(se(arguments[0],$t)){var K=arguments[0];if(0===this._geometries.length)return null;for(var xt=0;xt<this._geometries.length&&(this._geometries[xt].apply(K),!K.isDone());xt++);K.isGeometryChanged()&&this.geometryChanged()}else if(se(arguments[0],Ft)){var qt=arguments[0];qt.filter(this);for(var _e=0;_e<this._geometries.length;_e++)this._geometries[_e].apply(qt)}else if(se(arguments[0],Je)){var Ge=arguments[0];Ge.filter(this);for(var mn=0;mn<this._geometries.length;mn++)this._geometries[mn].apply(Ge)}},m.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),U.shouldNeverReachHere(),null},m.prototype.clone=function(){var x=f.prototype.clone.call(this);x._geometries=new Array(this._geometries.length).fill(null);for(var D=0;D<this._geometries.length;D++)x._geometries[D]=this._geometries[D].clone();return x},m.prototype.getGeometryType=function(){return"GeometryCollection"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.isEmpty=function(){for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isEmpty())return!1;return!0},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(m,_),m}(Ve),en=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ve.SORTINDEX_MULTILINESTRING},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return this.isClosed()?Vi.FALSE:0},m.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isClosed())return!1;return!0},m.prototype.getDimension=function(){return 1},m.prototype.reverse=function(){for(var x=this._geometries.length,D=new Array(x).fill(null),K=0;K<this._geometries.length;K++)D[x-1-K]=this._geometries[K].reverse();return this.getFactory().createMultiLineString(D)},m.prototype.getBoundary=function(){return new un(this).getBoundary()},m.prototype.getGeometryType=function(){return"MultiLineString"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[Po]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(m,_),m}(Fe),un=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var f=arguments[0],m=xn.MOD2_BOUNDARY_RULE;this._geom=f,this._geomFact=f.getFactory(),this._bnRule=m}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this._geom=_,this._geomFact=_.getFactory(),this._bnRule=x}};un.prototype.boundaryMultiLineString=function(f){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var m=this.computeBoundaryCoordinates(f);return 1===m.length?this._geomFact.createPoint(m[0]):this._geomFact.createMultiPointFromCoords(m)},un.prototype.getBoundary=function(){return this._geom instanceof Ri?this.boundaryLineString(this._geom):this._geom instanceof en?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},un.prototype.boundaryLineString=function(f){return this._geom.isEmpty()?this.getEmptyMultiPoint():f.isClosed()?this._bnRule.isInBoundary(2)?f.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([f.getStartPoint(),f.getEndPoint()])},un.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},un.prototype.computeBoundaryCoordinates=function(f){var m=new nn;this._endpointMap=new $;for(var _=0;_<f.getNumGeometries();_++){var x=f.getGeometryN(_);0!==x.getNumPoints()&&(this.addEndpoint(x.getCoordinateN(0)),this.addEndpoint(x.getCoordinateN(x.getNumPoints()-1)))}for(var D=this._endpointMap.entrySet().iterator();D.hasNext();){var K=D.next(),xt=K.getValue().count;this._bnRule.isInBoundary(xt)&&m.add(K.getKey())}return Qt.toCoordinateArray(m)},un.prototype.addEndpoint=function(f){var m=this._endpointMap.get(f);null===m&&(m=new Un,this._endpointMap.put(f,m)),m.count++},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.getBoundary=function(){return 1===arguments.length?new un(arguments[0]).getBoundary():2===arguments.length?new un(arguments[0],arguments[1]).getBoundary():void 0};var Un=function(){this.count=null};Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var ii=function(){},Ii={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.chars=function(f,m){for(var _=new Array(m).fill(null),x=0;x<m;x++)_[x]=f;return String(_)},ii.getStackTrace=function(){if(1===arguments.length){var f=arguments[0],m=new function(){},_=new function(){}(m);return f.printStackTrace(_),m.toString()}if(2===arguments.length){for(var D=arguments[1],K="",xt=new function(){}(new function(){}(ii.getStackTrace(arguments[0]))),qt=0;qt<D;qt++)try{K+=xt.readLine()+ii.NEWLINE}catch(_e){if(!(_e instanceof bt))throw _e;U.shouldNeverReachHere()}return K}},ii.split=function(f,m){for(var _=m.length,x=new nn,D=""+f,K=D.indexOf(m);K>=0;){var xt=D.substring(0,K);x.add(xt),K=(D=D.substring(K+_)).indexOf(m)}D.length>0&&x.add(D);for(var qt=new Array(x.size()).fill(null),_e=0;_e<qt.length;_e++)qt[_e]=x.get(_e);return qt},ii.toString=function(){if(1===arguments.length)return ii.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},ii.spaces=function(f){return ii.chars(" ",f)},Ii.NEWLINE.get=function(){return we.getProperty("line.separator")},Ii.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(ii,Ii);var Ci=function(){};Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ci.copyCoord=function(f,m,_,x){for(var D=Math.min(f.getDimension(),_.getDimension()),K=0;K<D;K++)_.setOrdinate(x,K,f.getOrdinate(m,K))},Ci.isRing=function(f){var m=f.size();return 0===m||!(m<=3)&&f.getOrdinate(0,ue.X)===f.getOrdinate(m-1,ue.X)&&f.getOrdinate(0,ue.Y)===f.getOrdinate(m-1,ue.Y)},Ci.isEqual=function(f,m){var _=f.size();if(_!==m.size())return!1;for(var x=Math.min(f.getDimension(),m.getDimension()),D=0;D<_;D++)for(var K=0;K<x;K++){var xt=f.getOrdinate(D,K),qt=m.getOrdinate(D,K);if(!(f.getOrdinate(D,K)===m.getOrdinate(D,K)||z.isNaN(xt)&&z.isNaN(qt)))return!1}return!0},Ci.extend=function(f,m,_){var x=f.create(_,m.getDimension()),D=m.size();if(Ci.copy(m,0,x,0,D),D>0)for(var K=D;K<_;K++)Ci.copy(m,D-1,x,K,1);return x},Ci.reverse=function(f){for(var m=f.size()-1,_=Math.trunc(m/2),x=0;x<=_;x++)Ci.swap(f,x,m-x)},Ci.swap=function(f,m,_){if(m===_)return null;for(var x=0;x<f.getDimension();x++){var D=f.getOrdinate(m,x);f.setOrdinate(m,x,f.getOrdinate(_,x)),f.setOrdinate(_,x,D)}},Ci.copy=function(f,m,_,x,D){for(var K=0;K<D;K++)Ci.copyCoord(f,m+K,_,x+K)},Ci.toString=function(){if(1===arguments.length){var f=arguments[0],m=f.size();if(0===m)return"()";var _=f.getDimension(),x=new dt;x.append("(");for(var D=0;D<m;D++){D>0&&x.append(" ");for(var K=0;K<_;K++)K>0&&x.append(","),x.append(ii.toString(f.getOrdinate(D,K)))}return x.append(")"),x.toString()}},Ci.ensureValidRing=function(f,m){var _=m.size();return 0===_?m:_<=3?Ci.createClosedRing(f,m,4):m.getOrdinate(0,ue.X)===m.getOrdinate(_-1,ue.X)&&m.getOrdinate(0,ue.Y)===m.getOrdinate(_-1,ue.Y)?m:Ci.createClosedRing(f,m,_+1)},Ci.createClosedRing=function(f,m,_){var x=f.create(_,m.getDimension()),D=m.size();Ci.copy(m,0,x,0,D);for(var K=D;K<_;K++)Ci.copy(m,0,x,K,1);return x};var Ri=function(f){function m(x,D){f.call(this,D),this._points=null,this.init(x)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new wt:this._points.expandEnvelope(new wt)},m.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},m.prototype.getSortIndex=function(){return f.SORTINDEX_LINESTRING},m.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(this._points.size()!==K._points.size())return!1;for(var xt=0;xt<this._points.size();xt++)if(!this.equal(this._points.getCoordinate(xt),K._points.getCoordinate(xt),D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){for(var x=0;x<Math.trunc(this._points.size()/2);x++){var D=this._points.size()-1-x;if(!this._points.getCoordinate(x).equals(this._points.getCoordinate(D)))return this._points.getCoordinate(x).compareTo(this._points.getCoordinate(D))>0&&Ci.reverse(this._points),null}},m.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},m.prototype.getBoundaryDimension=function(){return this.isClosed()?Vi.FALSE:0},m.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},m.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},m.prototype.getDimension=function(){return 1},m.prototype.getLength=function(){return xe.computeLength(this._points)},m.prototype.getNumPoints=function(){return this._points.size()},m.prototype.reverse=function(){var x=this._points.copy();return Ci.reverse(x),this.getFactory().createLineString(x)},m.prototype.compareToSameClass=function(){if(1===arguments.length){for(var x=arguments[0],D=0,K=0;D<this._points.size()&&K<x._points.size();){var xt=this._points.getCoordinate(D).compareTo(x._points.getCoordinate(K));if(0!==xt)return xt;D++,K++}return D<this._points.size()?1:K<x._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},m.prototype.apply=function(){if(se(arguments[0],dn))for(var x=arguments[0],D=0;D<this._points.size();D++)x.filter(this._points.getCoordinate(D));else if(se(arguments[0],$t)){var K=arguments[0];if(0===this._points.size())return null;for(var xt=0;xt<this._points.size()&&(K.filter(this._points,xt),!K.isDone());xt++);K.isGeometryChanged()&&this.geometryChanged()}else(se(arguments[0],Ft)||se(arguments[0],Je))&&arguments[0].filter(this)},m.prototype.getBoundary=function(){return new un(this).getBoundary()},m.prototype.isEquivalentClass=function(x){return x instanceof m},m.prototype.clone=function(){var x=f.prototype.clone.call(this);return x._points=this._points.clone(),x},m.prototype.getCoordinateN=function(x){return this._points.getCoordinate(x)},m.prototype.getGeometryType=function(){return"LineString"},m.prototype.copy=function(){return new m(this._points.copy(),this._factory)},m.prototype.getCoordinateSequence=function(){return this._points},m.prototype.isEmpty=function(){return 0===this._points.size()},m.prototype.init=function(x){if(null===x&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),1===x.size())throw new nt("Invalid number of points in LineString (found "+x.size()+" - must be 0 or >= 2)");this._points=x},m.prototype.isCoordinate=function(x){for(var D=0;D<this._points.size();D++)if(this._points.getCoordinate(D).equals(x))return!0;return!1},m.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},m.prototype.getPointN=function(x){return this.getFactory().createPoint(this._points.getCoordinate(x))},m.prototype.interfaces_=function(){return[Po]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(m,_),m}(Ve),hr=function(){};hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var oo=function(f){function m(x,D){f.call(this,D),this._coordinates=x||null,this.init(this._coordinates)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new wt;var x=new wt;return x.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),x},m.prototype.getSortIndex=function(){return f.SORTINDEX_POINT},m.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&(!(!this.isEmpty()||!x.isEmpty())||this.isEmpty()===x.isEmpty()&&this.equal(x.getCoordinate(),this.getCoordinate(),D))}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){},m.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},m.prototype.getBoundaryDimension=function(){return Vi.FALSE},m.prototype.getDimension=function(){return 0},m.prototype.getNumPoints=function(){return this.isEmpty()?0:1},m.prototype.reverse=function(){return this.copy()},m.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},m.prototype.compareToSameClass=function(){if(1===arguments.length){var x=arguments[0];return this.getCoordinate().compareTo(x.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},m.prototype.apply=function(){if(se(arguments[0],dn)){var x=arguments[0];if(this.isEmpty())return null;x.filter(this.getCoordinate())}else if(se(arguments[0],$t)){var D=arguments[0];if(this.isEmpty())return null;D.filter(this._coordinates,0),D.isGeometryChanged()&&this.geometryChanged()}else(se(arguments[0],Ft)||se(arguments[0],Je))&&arguments[0].filter(this)},m.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},m.prototype.clone=function(){var x=f.prototype.clone.call(this);return x._coordinates=this._coordinates.clone(),x},m.prototype.getGeometryType=function(){return"Point"},m.prototype.copy=function(){return new m(this._coordinates.copy(),this._factory)},m.prototype.getCoordinateSequence=function(){return this._coordinates},m.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},m.prototype.isEmpty=function(){return 0===this._coordinates.size()},m.prototype.init=function(x){null===x&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),U.isTrue(x.size()<=1),this._coordinates=x},m.prototype.isSimple=function(){return!0},m.prototype.interfaces_=function(){return[hr]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(m,_),m}(Ve),ho=function(){};ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho};var fa=function(f){function m(x,D,K){if(f.call(this,K),this._shell=null,this._holes=null,null===x&&(x=this.getFactory().createLinearRing()),null===D&&(D=[]),f.hasNullElements(D))throw new nt("holes must not contain null elements");if(x.isEmpty()&&f.hasNonEmptyElements(D))throw new nt("shell is empty but holes are not");this._shell=x,this._holes=D}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},m.prototype.getSortIndex=function(){return f.SORTINDEX_POLYGON},m.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var x=new Array(this.getNumPoints()).fill(null),D=-1,K=this._shell.getCoordinates(),xt=0;xt<K.length;xt++)x[++D]=K[xt];for(var qt=0;qt<this._holes.length;qt++)for(var _e=this._holes[qt].getCoordinates(),Ge=0;Ge<_e.length;Ge++)x[++D]=_e[Ge];return x},m.prototype.getArea=function(){var x=0;x+=Math.abs(xe.signedArea(this._shell.getCoordinateSequence()));for(var D=0;D<this._holes.length;D++)x-=Math.abs(xe.signedArea(this._holes[D].getCoordinateSequence()));return x},m.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var x=this._shell.getCoordinateSequence(),D=this.getEnvelopeInternal(),K=0;K<5;K++){var xt=x.getX(K);if(xt!==D.getMinX()&&xt!==D.getMaxX())return!1;var qt=x.getY(K);if(qt!==D.getMinY()&&qt!==D.getMaxY())return!1}for(var _e=x.getX(0),Ge=x.getY(0),mn=1;mn<=4;mn++){var En=x.getX(mn),qn=x.getY(mn);if(En!==_e==(qn!==Ge))return!1;_e=En,Ge=qn}return!0},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(!this._shell.equalsExact(K._shell,D)||this._holes.length!==K._holes.length)return!1;for(var _e=0;_e<this._holes.length;_e++)if(!this._holes[_e].equalsExact(K._holes[_e],D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var x=0;x<this._holes.length;x++)this.normalize(this._holes[x],!1);Wo.sort(this._holes)}else if(2===arguments.length){var D=arguments[0],K=arguments[1];if(D.isEmpty())return null;var xt=new Array(D.getCoordinates().length-1).fill(null);we.arraycopy(D.getCoordinates(),0,xt,0,xt.length);var qt=Qt.minCoordinate(D.getCoordinates());Qt.scroll(xt,qt),we.arraycopy(xt,0,D.getCoordinates(),0,xt.length),D.getCoordinates()[xt.length]=xt[0],xe.isCCW(D.getCoordinates())===K&&Qt.reverse(D.getCoordinates())}},m.prototype.getCoordinate=function(){return this._shell.getCoordinate()},m.prototype.getNumInteriorRing=function(){return this._holes.length},m.prototype.getBoundaryDimension=function(){return 1},m.prototype.getDimension=function(){return 2},m.prototype.getLength=function(){var x=0;x+=this._shell.getLength();for(var D=0;D<this._holes.length;D++)x+=this._holes[D].getLength();return x},m.prototype.getNumPoints=function(){for(var x=this._shell.getNumPoints(),D=0;D<this._holes.length;D++)x+=this._holes[D].getNumPoints();return x},m.prototype.reverse=function(){var x=this.copy();x._shell=this._shell.copy().reverse(),x._holes=new Array(this._holes.length).fill(null);for(var D=0;D<this._holes.length;D++)x._holes[D]=this._holes[D].copy().reverse();return x},m.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},m.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var qt=arguments[1],_e=arguments[0],En=this._shell.compareToSameClass(_e._shell,qt);if(0!==En)return En;for(var qn=this.getNumInteriorRing(),ai=_e.getNumInteriorRing(),gi=0;gi<qn&&gi<ai;){var Jn=this.getInteriorRingN(gi),ea=_e.getInteriorRingN(gi),ol=Jn.compareToSameClass(ea,qt);if(0!==ol)return ol;gi++}return gi<qn?1:gi<ai?-1:0}},m.prototype.apply=function(x){if(se(x,dn)){this._shell.apply(x);for(var D=0;D<this._holes.length;D++)this._holes[D].apply(x)}else if(se(x,$t)){if(this._shell.apply(x),!x.isDone())for(var K=0;K<this._holes.length&&(this._holes[K].apply(x),!x.isDone());K++);x.isGeometryChanged()&&this.geometryChanged()}else if(se(x,Ft))x.filter(this);else if(se(x,Je)){x.filter(this),this._shell.apply(x);for(var xt=0;xt<this._holes.length;xt++)this._holes[xt].apply(x)}},m.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var x=new Array(this._holes.length+1).fill(null);x[0]=this._shell;for(var D=0;D<this._holes.length;D++)x[D+1]=this._holes[D];return x.length<=1?this.getFactory().createLinearRing(x[0].getCoordinateSequence()):this.getFactory().createMultiLineString(x)},m.prototype.clone=function(){var x=f.prototype.clone.call(this);x._shell=this._shell.clone(),x._holes=new Array(this._holes.length).fill(null);for(var D=0;D<this._holes.length;D++)x._holes[D]=this._holes[D].clone();return x},m.prototype.getGeometryType=function(){return"Polygon"},m.prototype.copy=function(){for(var x=this._shell.copy(),D=new Array(this._holes.length).fill(null),K=0;K<D.length;K++)D[K]=this._holes[K].copy();return new m(x,D,this._factory)},m.prototype.getExteriorRing=function(){return this._shell},m.prototype.isEmpty=function(){return this._shell.isEmpty()},m.prototype.getInteriorRingN=function(x){return this._holes[x]},m.prototype.interfaces_=function(){return[ho]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(m,_),m}(Ve),bl=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ve.SORTINDEX_MULTIPOINT},m.prototype.isValid=function(){return!0},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():f.prototype.getCoordinate.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return Vi.FALSE},m.prototype.getDimension=function(){return 0},m.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},m.prototype.getGeometryType=function(){return"MultiPoint"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[hr]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(m,_),m}(Fe),Li=function(f){function m(x,D){x instanceof q&&D instanceof sn&&(x=D.getCoordinateSequenceFactory().create(x)),f.call(this,x,D),this.validateConstruction()}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ve.SORTINDEX_LINEARRING},m.prototype.getBoundaryDimension=function(){return Vi.FALSE},m.prototype.isClosed=function(){return!!this.isEmpty()||f.prototype.isClosed.call(this)},m.prototype.reverse=function(){var x=this._points.copy();return Ci.reverse(x),this.getFactory().createLinearRing(x)},m.prototype.validateConstruction=function(){if(!this.isEmpty()&&!f.prototype.isClosed.call(this))throw new nt("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<m.MINIMUM_VALID_SIZE)throw new nt("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},m.prototype.getGeometryType=function(){return"LinearRing"},m.prototype.copy=function(){return new m(this._points.copy(),this._factory)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.MINIMUM_VALID_SIZE.get=function(){return 4},_.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(m,_),m}(Ri),as=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ve.SORTINDEX_MULTIPOLYGON},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return 1},m.prototype.getDimension=function(){return 2},m.prototype.reverse=function(){for(var D=new Array(this._geometries.length).fill(null),K=0;K<this._geometries.length;K++)D[K]=this._geometries[K].reverse();return this.getFactory().createMultiPolygon(D)},m.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var x=new nn,D=0;D<this._geometries.length;D++)for(var K=this._geometries[D].getBoundary(),xt=0;xt<K.getNumGeometries();xt++)x.add(K.getGeometryN(xt));var qt=new Array(x.size()).fill(null);return this.getFactory().createMultiLineString(x.toArray(qt))},m.prototype.getGeometryType=function(){return"MultiPolygon"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[ho]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(m,_),m}(Fe),Yi=function(f){this._factory=f||null,this._isUserDataCopied=!1},Wr={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Yi.prototype.setCopyUserData=function(f){this._isUserDataCopied=f},Yi.prototype.edit=function(f,m){if(null===f)return null;var _=this.editInternal(f,m);return this._isUserDataCopied&&_.setUserData(f.getUserData()),_},Yi.prototype.editInternal=function(f,m){return null===this._factory&&(this._factory=f.getFactory()),f instanceof Fe?this.editGeometryCollection(f,m):f instanceof fa?this.editPolygon(f,m):f instanceof oo||f instanceof Ri?m.edit(f,this._factory):(U.shouldNeverReachHere("Unsupported Geometry class: "+f.getClass().getName()),null)},Yi.prototype.editGeometryCollection=function(f,m){for(var _=m.edit(f,this._factory),x=new nn,D=0;D<_.getNumGeometries();D++){var K=this.edit(_.getGeometryN(D),m);null===K||K.isEmpty()||x.add(K)}return _.getClass()===bl?this._factory.createMultiPoint(x.toArray([])):_.getClass()===en?this._factory.createMultiLineString(x.toArray([])):_.getClass()===as?this._factory.createMultiPolygon(x.toArray([])):this._factory.createGeometryCollection(x.toArray([]))},Yi.prototype.editPolygon=function(f,m){var _=m.edit(f,this._factory);if(null===_&&(_=this._factory.createPolygon(null)),_.isEmpty())return _;var x=this.edit(_.getExteriorRing(),m);if(null===x||x.isEmpty())return this._factory.createPolygon();for(var D=new nn,K=0;K<_.getNumInteriorRing();K++){var xt=this.edit(_.getInteriorRingN(K),m);null===xt||xt.isEmpty()||D.add(xt)}return this._factory.createPolygon(x,D.toArray([]))},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.GeometryEditorOperation=function(){},Wr.NoOpGeometryOperation.get=function(){return Ml},Wr.CoordinateOperation.get=function(){return Ja},Wr.CoordinateSequenceOperation.get=function(){return ss},Object.defineProperties(Yi,Wr);var Ml=function(){};Ml.prototype.edit=function(f,m){return f},Ml.prototype.interfaces_=function(){return[Yi.GeometryEditorOperation]},Ml.prototype.getClass=function(){return Ml};var Ja=function(){};Ja.prototype.edit=function(f,m){var _=this.editCoordinates(f.getCoordinates(),f);return null===_?f:f instanceof Li?m.createLinearRing(_):f instanceof Ri?m.createLineString(_):f instanceof oo?_.length>0?m.createPoint(_[0]):m.createPoint():f},Ja.prototype.interfaces_=function(){return[Yi.GeometryEditorOperation]},Ja.prototype.getClass=function(){return Ja};var ss=function(){};ss.prototype.edit=function(f,m){return f instanceof Li?m.createLinearRing(this.edit(f.getCoordinateSequence(),f)):f instanceof Ri?m.createLineString(this.edit(f.getCoordinateSequence(),f)):f instanceof oo?m.createPoint(this.edit(f.getCoordinateSequence(),f)):f},ss.prototype.interfaces_=function(){return[Yi.GeometryEditorOperation]},ss.prototype.getClass=function(){return ss};var Pr=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var f=arguments[0];this._coordinates=new Array(f).fill(null);for(var m=0;m<f;m++)this._coordinates[m]=new q}else if(se(arguments[0],ue)){var _=arguments[0];if(null===_)return this._coordinates=new Array(0).fill(null),null;this._dimension=_.getDimension(),this._coordinates=new Array(_.size()).fill(null);for(var x=0;x<this._coordinates.length;x++)this._coordinates[x]=_.getCoordinateCopy(x)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var D=arguments[0],K=arguments[1];this._coordinates=D,this._dimension=K,null===D&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var xt=arguments[0],qt=arguments[1];this._coordinates=new Array(xt).fill(null),this._dimension=qt;for(var _e=0;_e<xt;_e++)this._coordinates[_e]=new q}},Or={serialVersionUID:{configurable:!0}};Pr.prototype.setOrdinate=function(f,m,_){switch(m){case ue.X:this._coordinates[f].x=_;break;case ue.Y:this._coordinates[f].y=_;break;case ue.Z:this._coordinates[f].z=_;break;default:throw new nt("invalid ordinateIndex")}},Pr.prototype.size=function(){return this._coordinates.length},Pr.prototype.getOrdinate=function(f,m){switch(m){case ue.X:return this._coordinates[f].x;case ue.Y:return this._coordinates[f].y;case ue.Z:return this._coordinates[f].z}return z.NaN},Pr.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var m=arguments[0],_=arguments[1];_.x=this._coordinates[m].x,_.y=this._coordinates[m].y,_.z=this._coordinates[m].z}},Pr.prototype.getCoordinateCopy=function(f){return new q(this._coordinates[f])},Pr.prototype.getDimension=function(){return this._dimension},Pr.prototype.getX=function(f){return this._coordinates[f].x},Pr.prototype.clone=function(){for(var f=new Array(this.size()).fill(null),m=0;m<this._coordinates.length;m++)f[m]=this._coordinates[m].clone();return new Pr(f,this._dimension)},Pr.prototype.expandEnvelope=function(f){for(var m=0;m<this._coordinates.length;m++)f.expandToInclude(this._coordinates[m]);return f},Pr.prototype.copy=function(){for(var f=new Array(this.size()).fill(null),m=0;m<this._coordinates.length;m++)f[m]=this._coordinates[m].copy();return new Pr(f,this._dimension)},Pr.prototype.toString=function(){if(this._coordinates.length>0){var f=new dt(17*this._coordinates.length);f.append("("),f.append(this._coordinates[0]);for(var m=1;m<this._coordinates.length;m++)f.append(", "),f.append(this._coordinates[m]);return f.append(")"),f.toString()}return"()"},Pr.prototype.getY=function(f){return this._coordinates[f].y},Pr.prototype.toCoordinateArray=function(){return this._coordinates},Pr.prototype.interfaces_=function(){return[ue,J]},Pr.prototype.getClass=function(){return Pr},Or.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Pr,Or);var fr=function(){},Os={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};fr.prototype.readResolve=function(){return fr.instance()},fr.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Pr(arguments[0]);if(se(arguments[0],ue))return new Pr(arguments[0])}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return x>3&&(x=3),x<2?new Pr(_):new Pr(_,x)}},fr.prototype.interfaces_=function(){return[It,J]},fr.prototype.getClass=function(){return fr},fr.instance=function(){return fr.instanceObject},Os.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Os.instanceObject.get=function(){return new fr},Object.defineProperties(fr,Os);var kl=function(f){function m(){f.call(this),this.map_=new Map}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.get=function(_){return this.map_.get(_)||null},m.prototype.put=function(_,x){return this.map_.set(_,x),x},m.prototype.values=function(){for(var _=new nn,x=this.map_.values(),D=x.next();!D.done;)_.add(D.value),D=x.next();return _},m.prototype.entrySet=function(){var _=new sr;return this.map_.entries().forEach(function(x){return _.add(x)}),_},m.prototype.size=function(){return this.map_.size()},m}(Dn),ie=function f(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=f.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Re){var m=arguments[0];this._modelType=m,m===f.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var _=arguments[0];this._modelType=f.FIXED,this.setScale(_)}else if(arguments[0]instanceof f){var x=arguments[0];this._modelType=x._modelType,this._scale=x._scale}},Me={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};ie.prototype.equals=function(f){return f instanceof ie&&this._modelType===f._modelType&&this._scale===f._scale},ie.prototype.compareTo=function(f){var m=f,_=this.getMaximumSignificantDigits(),x=m.getMaximumSignificantDigits();return new St(_).compareTo(new St(x))},ie.prototype.getScale=function(){return this._scale},ie.prototype.isFloating=function(){return this._modelType===ie.FLOATING||this._modelType===ie.FLOATING_SINGLE},ie.prototype.getType=function(){return this._modelType},ie.prototype.toString=function(){var f="UNKNOWN";return this._modelType===ie.FLOATING?f="Floating":this._modelType===ie.FLOATING_SINGLE?f="Floating-Single":this._modelType===ie.FIXED&&(f="Fixed (Scale="+this.getScale()+")"),f},ie.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var f=arguments[0];return z.isNaN(f)||this._modelType===ie.FLOATING_SINGLE?f:this._modelType===ie.FIXED?Math.round(f*this._scale)/this._scale:f}if(arguments[0]instanceof q){var m=arguments[0];if(this._modelType===ie.FLOATING)return null;m.x=this.makePrecise(m.x),m.y=this.makePrecise(m.y)}},ie.prototype.getMaximumSignificantDigits=function(){var f=16;return this._modelType===ie.FLOATING?f=16:this._modelType===ie.FLOATING_SINGLE?f=6:this._modelType===ie.FIXED&&(f=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),f},ie.prototype.setScale=function(f){this._scale=Math.abs(f)},ie.prototype.interfaces_=function(){return[J,gt]},ie.prototype.getClass=function(){return ie},ie.mostPrecise=function(f,m){return f.compareTo(m)>=0?f:m},Me.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Me.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(ie,Me);var Re=function f(m){this._name=m||null,f.nameToTypeMap.put(m,this)},qe={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Re.prototype.readResolve=function(){return Re.nameToTypeMap.get(this._name)},Re.prototype.toString=function(){return this._name},Re.prototype.interfaces_=function(){return[J]},Re.prototype.getClass=function(){return Re},qe.serialVersionUID.get=function(){return-552860263173159e4},qe.nameToTypeMap.get=function(){return new kl},Object.defineProperties(Re,qe),ie.Type=Re,ie.FIXED=new Re("FIXED"),ie.FLOATING=new Re("FLOATING"),ie.FLOATING_SINGLE=new Re("FLOATING SINGLE");var sn=function f(){this._precisionModel=new ie,this._SRID=0,this._coordinateSequenceFactory=f.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?se(arguments[0],It)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof ie&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Zn={serialVersionUID:{configurable:!0}};sn.prototype.toGeometry=function(f){return f.isNull()?this.createPoint(null):f.getMinX()===f.getMaxX()&&f.getMinY()===f.getMaxY()?this.createPoint(new q(f.getMinX(),f.getMinY())):f.getMinX()===f.getMaxX()||f.getMinY()===f.getMaxY()?this.createLineString([new q(f.getMinX(),f.getMinY()),new q(f.getMaxX(),f.getMaxY())]):this.createPolygon(this.createLinearRing([new q(f.getMinX(),f.getMinY()),new q(f.getMinX(),f.getMaxY()),new q(f.getMaxX(),f.getMaxY()),new q(f.getMaxX(),f.getMinY()),new q(f.getMinX(),f.getMinY())]),null)},sn.prototype.createLineString=function(f){return f?f instanceof Array?new Ri(this.getCoordinateSequenceFactory().create(f),this):se(f,ue)?new Ri(f,this):void 0:new Ri(this.getCoordinateSequenceFactory().create([]),this)},sn.prototype.createMultiLineString=function(){return 0===arguments.length?new en(null,this):1===arguments.length?new en(arguments[0],this):void 0},sn.prototype.buildGeometry=function(f){for(var m=null,_=!1,x=!1,D=f.iterator();D.hasNext();){var K=D.next(),xt=K.getClass();null===m&&(m=xt),xt!==m&&(_=!0),K.isGeometryCollectionOrDerived()&&(x=!0)}if(null===m)return this.createGeometryCollection();if(_||x)return this.createGeometryCollection(sn.toGeometryArray(f));var qt=f.iterator().next();if(f.size()>1){if(qt instanceof fa)return this.createMultiPolygon(sn.toPolygonArray(f));if(qt instanceof Ri)return this.createMultiLineString(sn.toLineStringArray(f));if(qt instanceof oo)return this.createMultiPoint(sn.toPointArray(f));U.shouldNeverReachHere("Unhandled class: "+qt.getClass().getName())}return qt},sn.prototype.createMultiPointFromCoords=function(f){return this.createMultiPoint(null!==f?this.getCoordinateSequenceFactory().create(f):null)},sn.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];return this.createPoint(null!==f?this.getCoordinateSequenceFactory().create([f]):null)}if(se(arguments[0],ue))return new oo(arguments[0],this)}},sn.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},sn.prototype.createPolygon=function(){if(0===arguments.length)return new fa(null,null,this);if(1===arguments.length){if(se(arguments[0],ue))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Li)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new fa(arguments[0],arguments[1],this)},sn.prototype.getSRID=function(){return this._SRID},sn.prototype.createGeometryCollection=function(){return 0===arguments.length?new Fe(null,this):1===arguments.length?new Fe(arguments[0],this):void 0},sn.prototype.createGeometry=function(f){return new Yi(this).edit(f,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},sn.prototype.getPrecisionModel=function(){return this._precisionModel},sn.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var f=arguments[0];return this.createLinearRing(null!==f?this.getCoordinateSequenceFactory().create(f):null)}if(se(arguments[0],ue))return new Li(arguments[0],this)}},sn.prototype.createMultiPolygon=function(){return 0===arguments.length?new as(null,this):1===arguments.length?new as(arguments[0],this):void 0},sn.prototype.createMultiPoint=function(){if(0===arguments.length)return new bl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new bl(arguments[0],this);if(arguments[0]instanceof Array){var m=arguments[0];return this.createMultiPoint(null!==m?this.getCoordinateSequenceFactory().create(m):null)}if(se(arguments[0],ue)){var _=arguments[0];if(null===_)return this.createMultiPoint(new Array(0).fill(null));for(var x=new Array(_.size()).fill(null),D=0;D<_.size();D++){var K=this.getCoordinateSequenceFactory().create(1,_.getDimension());Ci.copy(_,D,K,0,1),x[D]=this.createPoint(K)}return this.createMultiPoint(x)}}},sn.prototype.interfaces_=function(){return[J]},sn.prototype.getClass=function(){return sn},sn.toMultiPolygonArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toGeometryArray=function(f){if(null===f)return null;var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.getDefaultCoordinateSequenceFactory=function(){return fr.instance()},sn.toMultiLineStringArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toLineStringArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toMultiPointArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toLinearRingArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toPointArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.toPolygonArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},sn.createPointFromInternalCoord=function(f,m){return m.getPrecisionModel().makePrecise(f),m.getFactory().createPoint(f)},Zn.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(sn,Zn);var ui=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],mi=function(f){this.geometryFactory=f||new sn};mi.prototype.read=function(f){var m,_=(m="string"==typeof f?JSON.parse(f):f).type;if(!_i[_])throw new Error("Unknown GeoJSON type: "+m.type);return-1!==ui.indexOf(_)?_i[_].apply(this,[m.coordinates]):_i[_].apply(this,"GeometryCollection"===_?[m.geometries]:[m])},mi.prototype.write=function(f){var m=f.getGeometryType();if(!yo[m])throw new Error("Geometry is not supported");return yo[m].apply(this,[f])};var _i={Feature:function(f){var m={};for(var _ in f)m[_]=f[_];if(f.geometry){if(!_i[f.geometry.type])throw new Error("Unknown GeoJSON type: "+f.type);m.geometry=this.read(f.geometry)}return f.bbox&&(m.bbox=_i.bbox.apply(this,[f.bbox])),m},FeatureCollection:function(f){var m={};if(f.features){m.features=[];for(var _=0;_<f.features.length;++_)m.features.push(this.read(f.features[_]))}return f.bbox&&(m.bbox=this.parse.bbox.apply(this,[f.bbox])),m},coordinates:function(f){for(var m=[],_=0;_<f.length;++_){var x=f[_];m.push(new q(x[0],x[1]))}return m},bbox:function(f){return this.geometryFactory.createLinearRing([new q(f[0],f[1]),new q(f[2],f[1]),new q(f[2],f[3]),new q(f[0],f[3]),new q(f[0],f[1])])},Point:function(f){var m=new q(f[0],f[1]);return this.geometryFactory.createPoint(m)},MultiPoint:function(f){for(var m=[],_=0;_<f.length;++_)m.push(_i.Point.apply(this,[f[_]]));return this.geometryFactory.createMultiPoint(m)},LineString:function(f){var m=_i.coordinates.apply(this,[f]);return this.geometryFactory.createLineString(m)},MultiLineString:function(f){for(var m=[],_=0;_<f.length;++_)m.push(_i.LineString.apply(this,[f[_]]));return this.geometryFactory.createMultiLineString(m)},Polygon:function(f){for(var m=_i.coordinates.apply(this,[f[0]]),_=this.geometryFactory.createLinearRing(m),x=[],D=1;D<f.length;++D){var xt=_i.coordinates.apply(this,[f[D]]),qt=this.geometryFactory.createLinearRing(xt);x.push(qt)}return this.geometryFactory.createPolygon(_,x)},MultiPolygon:function(f){for(var m=[],_=0;_<f.length;++_)m.push(_i.Polygon.apply(this,[f[_]]));return this.geometryFactory.createMultiPolygon(m)},GeometryCollection:function(f){for(var m=[],_=0;_<f.length;++_)m.push(this.read(f[_]));return this.geometryFactory.createGeometryCollection(m)}},yo={coordinate:function(f){return[f.x,f.y]},Point:function(f){return{type:"Point",coordinates:yo.coordinate.apply(this,[f.getCoordinate()])}},MultiPoint:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=yo.Point.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiPoint",coordinates:m}},LineString:function(f){for(var m=[],_=f.getCoordinates(),x=0;x<_.length;++x)m.push(yo.coordinate.apply(this,[_[x]]));return{type:"LineString",coordinates:m}},MultiLineString:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=yo.LineString.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiLineString",coordinates:m}},Polygon:function(f){var m=[],_=yo.LineString.apply(this,[f._shell]);m.push(_.coordinates);for(var x=0;x<f._holes.length;++x){var K=yo.LineString.apply(this,[f._holes[x]]);m.push(K.coordinates)}return{type:"Polygon",coordinates:m}},MultiPolygon:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=yo.Polygon.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiPolygon",coordinates:m}},GeometryCollection:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var x=f._geometries[_],D=x.getGeometryType();m.push(yo[D].apply(this,[x]))}return{type:"GeometryCollection",geometries:m}}},Ns=function(f){this.geometryFactory=f||new sn,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new mi(this.geometryFactory)};Ns.prototype.read=function(f){var m=this.parser.read(f);return this.precisionModel.getType()===ie.FIXED&&this.reducePrecision(m),m},Ns.prototype.reducePrecision=function(f){var m,_;if(f.coordinate)this.precisionModel.makePrecise(f.coordinate);else if(f.points)for(m=0,_=f.points.length;m<_;m++)this.precisionModel.makePrecise(f.points[m]);else if(f.geometries)for(m=0,_=f.geometries.length;m<_;m++)this.reducePrecision(f.geometries[m])};var pr=function(){this.parser=new mi(this.geometryFactory)};pr.prototype.write=function(f){return this.parser.write(f)};var Gt=function(){},Te={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.opposite=function(f){return f===Gt.LEFT?Gt.RIGHT:f===Gt.RIGHT?Gt.LEFT:f},Te.ON.get=function(){return 0},Te.LEFT.get=function(){return 1},Te.RIGHT.get=function(){return 2},Object.defineProperties(Gt,Te),(X.prototype=new Error).name="EmptyStackException",(tt.prototype=new bn).add=function(f){return this.array_.push(f),!0},tt.prototype.get=function(f){if(f<0||f>=this.size())throw new Error;return this.array_[f]},tt.prototype.push=function(f){return this.array_.push(f),f},tt.prototype.pop=function(f){if(0===this.array_.length)throw new X;return this.array_.pop()},tt.prototype.peek=function(){if(0===this.array_.length)throw new X;return this.array_[this.array_.length-1]},tt.prototype.empty=function(){return 0===this.array_.length},tt.prototype.isEmpty=function(){return this.empty()},tt.prototype.search=function(f){return this.array_.indexOf(f)},tt.prototype.size=function(){return this.array_.length},tt.prototype.toArray=function(){for(var f=[],m=0,_=this.array_.length;m<_;m++)f.push(this.array_[m]);return f};var Ue=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ue.prototype.getCoordinate=function(){return this._minCoord},Ue.prototype.getRightmostSide=function(f,m){var _=this.getRightmostSideOfSegment(f,m);return _<0&&(_=this.getRightmostSideOfSegment(f,m-1)),_<0&&(this._minCoord=null,this.checkForRightmostCoordinate(f)),_},Ue.prototype.findRightmostEdgeAtVertex=function(){var f=this._minDe.getEdge().getCoordinates();U.isTrue(this._minIndex>0&&this._minIndex<f.length,"rightmost point expected to be interior vertex of edge");var m=f[this._minIndex-1],_=f[this._minIndex+1],x=xe.computeOrientation(this._minCoord,_,m),D=!1;(m.y<this._minCoord.y&&_.y<this._minCoord.y&&x===xe.COUNTERCLOCKWISE||m.y>this._minCoord.y&&_.y>this._minCoord.y&&x===xe.CLOCKWISE)&&(D=!0),D&&(this._minIndex=this._minIndex-1)},Ue.prototype.getRightmostSideOfSegment=function(f,m){var _=f.getEdge().getCoordinates();if(m<0||m+1>=_.length||_[m].y===_[m+1].y)return-1;var x=Gt.LEFT;return _[m].y<_[m+1].y&&(x=Gt.RIGHT),x},Ue.prototype.getEdge=function(){return this._orientedDe},Ue.prototype.checkForRightmostCoordinate=function(f){for(var m=f.getEdge().getCoordinates(),_=0;_<m.length-1;_++)(null===this._minCoord||m[_].x>this._minCoord.x)&&(this._minDe=f,this._minIndex=_,this._minCoord=m[_])},Ue.prototype.findRightmostEdgeAtNode=function(){var f=this._minDe.getNode().getEdges();this._minDe=f.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ue.prototype.findEdge=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next();_.isForward()&&this.checkForRightmostCoordinate(_)}U.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Gt.LEFT&&(this._orientedDe=this._minDe.getSym())},Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue};var _n=function(f){function m(_,x){f.call(this,m.msgWithCoord(_,x)),this.pt=x?new q(x):null,this.name="TopologyException"}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getCoordinate=function(){return this.pt},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.msgWithCoord=function(_,x){return x?_:_+" [ "+x+" ]"},m}(M),Hn=function(){this.array_=[]};Hn.prototype.addLast=function(f){this.array_.push(f)},Hn.prototype.removeFirst=function(){return this.array_.shift()},Hn.prototype.isEmpty=function(){return 0===this.array_.length};var Ke=function(){this._finder=null,this._dirEdgeList=new nn,this._nodes=new nn,this._rightMostCoord=null,this._env=null,this._finder=new Ue};Ke.prototype.clearVisitedEdges=function(){for(var f=this._dirEdgeList.iterator();f.hasNext();)f.next().setVisited(!1)},Ke.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ke.prototype.computeNodeDepth=function(f){for(var m=null,_=f.getEdges().iterator();_.hasNext();){var x=_.next();if(x.isVisited()||x.getSym().isVisited()){m=x;break}}if(null===m)throw new _n("unable to find edge to compute depths at "+f.getCoordinate());f.getEdges().computeDepths(m);for(var D=f.getEdges().iterator();D.hasNext();){var K=D.next();K.setVisited(!0),this.copySymDepths(K)}},Ke.prototype.computeDepth=function(f){this.clearVisitedEdges();var m=this._finder.getEdge();m.setEdgeDepths(Gt.RIGHT,f),this.copySymDepths(m),this.computeDepths(m)},Ke.prototype.create=function(f){this.addReachable(f),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ke.prototype.findResultEdges=function(){for(var f=this._dirEdgeList.iterator();f.hasNext();){var m=f.next();m.getDepth(Gt.RIGHT)>=1&&m.getDepth(Gt.LEFT)<=0&&!m.isInteriorAreaEdge()&&m.setInResult(!0)}},Ke.prototype.computeDepths=function(f){var m=new sr,_=new Hn,x=f.getNode();for(_.addLast(x),m.add(x),f.setVisited(!0);!_.isEmpty();){var D=_.removeFirst();m.add(D),this.computeNodeDepth(D);for(var K=D.getEdges().iterator();K.hasNext();){var xt=K.next().getSym();if(!xt.isVisited()){var qt=xt.getNode();m.contains(qt)||(_.addLast(qt),m.add(qt))}}}},Ke.prototype.compareTo=function(f){return this._rightMostCoord.x<f._rightMostCoord.x?-1:this._rightMostCoord.x>f._rightMostCoord.x?1:0},Ke.prototype.getEnvelope=function(){if(null===this._env){for(var f=new wt,m=this._dirEdgeList.iterator();m.hasNext();)for(var _=m.next().getEdge().getCoordinates(),x=0;x<_.length-1;x++)f.expandToInclude(_[x]);this._env=f}return this._env},Ke.prototype.addReachable=function(f){var m=new tt;for(m.add(f);!m.empty();){var _=m.pop();this.add(_,m)}},Ke.prototype.copySymDepths=function(f){var m=f.getSym();m.setDepth(Gt.LEFT,f.getDepth(Gt.RIGHT)),m.setDepth(Gt.RIGHT,f.getDepth(Gt.LEFT))},Ke.prototype.add=function(f,m){f.setVisited(!0),this._nodes.add(f);for(var _=f.getEdges().iterator();_.hasNext();){var x=_.next();this._dirEdgeList.add(x);var D=x.getSym().getNode();D.isVisited()||m.push(D)}},Ke.prototype.getNodes=function(){return this._nodes},Ke.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ke.prototype.interfaces_=function(){return[gt]},Ke.prototype.getClass=function(){return Ke};var Ti=function f(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var _=arguments[0];this.init(1),this.location[Gt.ON]=_}else if(arguments[0]instanceof f){var x=arguments[0];if(this.init(x.location.length),null!==x)for(var D=0;D<this.location.length;D++)this.location[D]=x.location[D]}}else if(3===arguments.length){var K=arguments[0],xt=arguments[1],qt=arguments[2];this.init(3),this.location[Gt.ON]=K,this.location[Gt.LEFT]=xt,this.location[Gt.RIGHT]=qt}};Ti.prototype.setAllLocations=function(f){for(var m=0;m<this.location.length;m++)this.location[m]=f},Ti.prototype.isNull=function(){for(var f=0;f<this.location.length;f++)if(this.location[f]!==ut.NONE)return!1;return!0},Ti.prototype.setAllLocationsIfNull=function(f){for(var m=0;m<this.location.length;m++)this.location[m]===ut.NONE&&(this.location[m]=f)},Ti.prototype.isLine=function(){return 1===this.location.length},Ti.prototype.merge=function(f){if(f.location.length>this.location.length){var m=new Array(3).fill(null);m[Gt.ON]=this.location[Gt.ON],m[Gt.LEFT]=ut.NONE,m[Gt.RIGHT]=ut.NONE,this.location=m}for(var _=0;_<this.location.length;_++)this.location[_]===ut.NONE&&_<f.location.length&&(this.location[_]=f.location[_])},Ti.prototype.getLocations=function(){return this.location},Ti.prototype.flip=function(){if(this.location.length<=1)return null;var f=this.location[Gt.LEFT];this.location[Gt.LEFT]=this.location[Gt.RIGHT],this.location[Gt.RIGHT]=f},Ti.prototype.toString=function(){var f=new dt;return this.location.length>1&&f.append(ut.toLocationSymbol(this.location[Gt.LEFT])),f.append(ut.toLocationSymbol(this.location[Gt.ON])),this.location.length>1&&f.append(ut.toLocationSymbol(this.location[Gt.RIGHT])),f.toString()},Ti.prototype.setLocations=function(f,m,_){this.location[Gt.ON]=f,this.location[Gt.LEFT]=m,this.location[Gt.RIGHT]=_},Ti.prototype.get=function(f){return f<this.location.length?this.location[f]:ut.NONE},Ti.prototype.isArea=function(){return this.location.length>1},Ti.prototype.isAnyNull=function(){for(var f=0;f<this.location.length;f++)if(this.location[f]===ut.NONE)return!0;return!1},Ti.prototype.setLocation=function(){1===arguments.length?this.setLocation(Gt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Ti.prototype.init=function(f){this.location=new Array(f).fill(null),this.setAllLocations(ut.NONE)},Ti.prototype.isEqualOnSide=function(f,m){return this.location[m]===f.location[m]},Ti.prototype.allPositionsEqual=function(f){for(var m=0;m<this.location.length;m++)if(this.location[m]!==f)return!1;return!0},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti};var Pn=function f(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var m=arguments[0];this.elt[0]=new Ti(m),this.elt[1]=new Ti(m)}else if(arguments[0]instanceof f){var _=arguments[0];this.elt[0]=new Ti(_.elt[0]),this.elt[1]=new Ti(_.elt[1])}}else if(2===arguments.length){var x=arguments[0],D=arguments[1];this.elt[0]=new Ti(ut.NONE),this.elt[1]=new Ti(ut.NONE),this.elt[x].setLocation(D)}else if(3===arguments.length){var K=arguments[0],xt=arguments[1],qt=arguments[2];this.elt[0]=new Ti(K,xt,qt),this.elt[1]=new Ti(K,xt,qt)}else if(4===arguments.length){var _e=arguments[0],Ge=arguments[1],mn=arguments[2],En=arguments[3];this.elt[0]=new Ti(ut.NONE,ut.NONE,ut.NONE),this.elt[1]=new Ti(ut.NONE,ut.NONE,ut.NONE),this.elt[_e].setLocations(Ge,mn,En)}};Pn.prototype.getGeometryCount=function(){var f=0;return this.elt[0].isNull()||f++,this.elt[1].isNull()||f++,f},Pn.prototype.setAllLocations=function(f,m){this.elt[f].setAllLocations(m)},Pn.prototype.isNull=function(f){return this.elt[f].isNull()},Pn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var f=arguments[0];this.setAllLocationsIfNull(0,f),this.setAllLocationsIfNull(1,f)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Pn.prototype.isLine=function(f){return this.elt[f].isLine()},Pn.prototype.merge=function(f){for(var m=0;m<2;m++)null===this.elt[m]&&null!==f.elt[m]?this.elt[m]=new Ti(f.elt[m]):this.elt[m].merge(f.elt[m])},Pn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Gt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Pn.prototype.toString=function(){var f=new dt;return null!==this.elt[0]&&(f.append("A:"),f.append(this.elt[0].toString())),null!==this.elt[1]&&(f.append(" B:"),f.append(this.elt[1].toString())),f.toString()},Pn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Pn.prototype.isAnyNull=function(f){return this.elt[f].isAnyNull()},Pn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Gt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Pn.prototype.isEqualOnSide=function(f,m){return this.elt[0].isEqualOnSide(f.elt[0],m)&&this.elt[1].isEqualOnSide(f.elt[1],m)},Pn.prototype.allPositionsEqual=function(f,m){return this.elt[f].allPositionsEqual(m)},Pn.prototype.toLine=function(f){this.elt[f].isArea()&&(this.elt[f]=new Ti(this.elt[f].location[0]))},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.toLineLabel=function(f){for(var m=new Pn(ut.NONE),_=0;_<2;_++)m.setLocation(_,f.getLocation(_));return m};var ci=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nn,this._pts=new nn,this._label=new Pn(ut.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nn,this._geometryFactory=null;var f=arguments[0];this._geometryFactory=arguments[1],this.computePoints(f),this.computeRing()};ci.prototype.computeRing=function(){if(null!==this._ring)return null;for(var f=new Array(this._pts.size()).fill(null),m=0;m<this._pts.size();m++)f[m]=this._pts.get(m);this._ring=this._geometryFactory.createLinearRing(f),this._isHole=xe.isCCW(this._ring.getCoordinates())},ci.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},ci.prototype.computePoints=function(f){this._startDe=f;var m=f,_=!0;do{if(null===m)throw new _n("Found null DirectedEdge");if(m.getEdgeRing()===this)throw new _n("Directed Edge visited twice during ring-building at "+m.getCoordinate());this._edges.add(m);var x=m.getLabel();U.isTrue(x.isArea()),this.mergeLabel(x),this.addPoints(m.getEdge(),m.isForward(),_),_=!1,this.setEdgeRing(m,this),m=this.getNext(m)}while(m!==this._startDe)},ci.prototype.getLinearRing=function(){return this._ring},ci.prototype.getCoordinate=function(f){return this._pts.get(f)},ci.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var f=this._startDe;do{var m=f.getNode().getEdges().getOutgoingDegree(this);m>this._maxNodeDegree&&(this._maxNodeDegree=m),f=this.getNext(f)}while(f!==this._startDe);this._maxNodeDegree*=2},ci.prototype.addPoints=function(f,m,_){var x=f.getCoordinates();if(m){var D=1;_&&(D=0);for(var K=D;K<x.length;K++)this._pts.add(x[K])}else{var xt=x.length-2;_&&(xt=x.length-1);for(var qt=xt;qt>=0;qt--)this._pts.add(x[qt])}},ci.prototype.isHole=function(){return this._isHole},ci.prototype.setInResult=function(){var f=this._startDe;do{f.getEdge().setInResult(!0),f=f.getNext()}while(f!==this._startDe)},ci.prototype.containsPoint=function(f){var m=this.getLinearRing();if(!m.getEnvelopeInternal().contains(f)||!xe.isPointInRing(f,m.getCoordinates()))return!1;for(var _=this._holes.iterator();_.hasNext();)if(_.next().containsPoint(f))return!1;return!0},ci.prototype.addHole=function(f){this._holes.add(f)},ci.prototype.isShell=function(){return null===this._shell},ci.prototype.getLabel=function(){return this._label},ci.prototype.getEdges=function(){return this._edges},ci.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},ci.prototype.getShell=function(){return this._shell},ci.prototype.mergeLabel=function(){if(1===arguments.length){var f=arguments[0];this.mergeLabel(f,0),this.mergeLabel(f,1)}else if(2===arguments.length){var _=arguments[1],x=arguments[0].getLocation(_,Gt.RIGHT);if(x===ut.NONE)return null;if(this._label.getLocation(_)===ut.NONE)return this._label.setLocation(_,x),null}},ci.prototype.setShell=function(f){this._shell=f,null!==f&&f.addHole(this)},ci.prototype.toPolygon=function(f){for(var m=new Array(this._holes.size()).fill(null),_=0;_<this._holes.size();_++)m[_]=this._holes.get(_).getLinearRing();return f.createPolygon(this.getLinearRing(),m)},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci};var Rr=function(f){function m(){f.call(this,arguments[0],arguments[1])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.setEdgeRing=function(_,x){_.setMinEdgeRing(x)},m.prototype.getNext=function(_){return _.getNextMin()},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ci),tc=function(f){function m(){f.call(this,arguments[0],arguments[1])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.buildMinimalRings=function(){var _=new nn,x=this._startDe;do{if(null===x.getMinEdgeRing()){var D=new Rr(x,this._geometryFactory);_.add(D)}x=x.getNext()}while(x!==this._startDe);return _},m.prototype.setEdgeRing=function(_,x){_.setEdgeRing(x)},m.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var _=this._startDe;do{_.getNode().getEdges().linkMinimalDirectedEdges(this),_=_.getNext()}while(_!==this._startDe)},m.prototype.getNext=function(_){return _.getNext()},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ci),Js=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Js.prototype.setVisited=function(f){this._isVisited=f},Js.prototype.setInResult=function(f){this._isInResult=f},Js.prototype.isCovered=function(){return this._isCovered},Js.prototype.isCoveredSet=function(){return this._isCoveredSet},Js.prototype.setLabel=function(f){this._label=f},Js.prototype.getLabel=function(){return this._label},Js.prototype.setCovered=function(f){this._isCovered=f,this._isCoveredSet=!0},Js.prototype.updateIM=function(f){U.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(f)},Js.prototype.isInResult=function(){return this._isInResult},Js.prototype.isVisited=function(){return this._isVisited},Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js};var Hc=function(f){function m(){f.call(this),this._coord=null,this._edges=null;var x=arguments[1];this._coord=arguments[0],this._edges=x,this._label=new Pn(0,ut.NONE)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isIncidentEdgeInResult=function(){for(var _=this.getEdges().getEdges().iterator();_.hasNext();)if(_.next().getEdge().isInResult())return!0;return!1},m.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},m.prototype.getCoordinate=function(){return this._coord},m.prototype.print=function(_){_.println("node "+this._coord+" lbl: "+this._label)},m.prototype.computeIM=function(_){},m.prototype.computeMergedLocation=function(_,x){var D=ut.NONE;if(D=this._label.getLocation(x),!_.isNull(x)){var K=_.getLocation(x);D!==ut.BOUNDARY&&(D=K)}return D},m.prototype.setLabel=function(){if(2!==arguments.length)return f.prototype.setLabel.apply(this,arguments);var _=arguments[0],x=arguments[1];null===this._label?this._label=new Pn(_,x):this._label.setLocation(_,x)},m.prototype.getEdges=function(){return this._edges},m.prototype.mergeLabel=function(){if(arguments[0]instanceof m)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Pn)for(var x=arguments[0],D=0;D<2;D++){var K=this.computeMergedLocation(x,D);this._label.getLocation(D)===ut.NONE&&this._label.setLocation(D,K)}},m.prototype.add=function(_){this._edges.insert(_),_.setNode(this)},m.prototype.setLabelBoundary=function(_){if(null===this._label)return null;var x=ut.NONE;null!==this._label&&(x=this._label.getLocation(_)),this._label.setLocation(_,x===ut.BOUNDARY?ut.INTERIOR:ut.BOUNDARY)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Js),ls=function(){this.nodeMap=new $,this.nodeFact=null,this.nodeFact=arguments[0]};ls.prototype.find=function(f){return this.nodeMap.get(f)},ls.prototype.addNode=function(){if(arguments[0]instanceof q){var f=arguments[0],m=this.nodeMap.get(f);return null===m&&(m=this.nodeFact.createNode(f),this.nodeMap.put(f,m)),m}if(arguments[0]instanceof Hc){var _=arguments[0],x=this.nodeMap.get(_.getCoordinate());return null===x?(this.nodeMap.put(_.getCoordinate(),_),_):(x.mergeLabel(_),x)}},ls.prototype.print=function(f){for(var m=this.iterator();m.hasNext();)m.next().print(f)},ls.prototype.iterator=function(){return this.nodeMap.values().iterator()},ls.prototype.values=function(){return this.nodeMap.values()},ls.prototype.getBoundaryNodes=function(f){for(var m=new nn,_=this.iterator();_.hasNext();){var x=_.next();x.getLabel().getLocation(f)===ut.BOUNDARY&&m.add(x)}return m},ls.prototype.add=function(f){var m=f.getCoordinate();this.addNode(m).add(f)},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls};var So=function(){},pd={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.isNorthern=function(f){return f===So.NE||f===So.NW},So.isOpposite=function(f,m){return f!==m&&(f-m+4)%4==2},So.commonHalfPlane=function(f,m){if(f===m)return f;if((f-m+4)%4==2)return-1;var _=f<m?f:m;return 0===_&&3===(f>m?f:m)?3:_},So.isInHalfPlane=function(f,m){return m===So.SE?f===So.SE||f===So.SW:f===m||f===m+1},So.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1];if(0===f&&0===m)throw new nt("Cannot compute the quadrant for point ( "+f+", "+m+" )");return f>=0?m>=0?So.NE:So.SE:m>=0?So.NW:So.SW}if(arguments[0]instanceof q&&arguments[1]instanceof q){var _=arguments[0],x=arguments[1];if(x.x===_.x&&x.y===_.y)throw new nt("Cannot compute the quadrant for two identical points "+_);return x.x>=_.x?x.y>=_.y?So.NE:So.SE:x.y>=_.y?So.NW:So.SW}},pd.NE.get=function(){return 0},pd.NW.get=function(){return 1},pd.SW.get=function(){return 2},pd.SE.get=function(){return 3},Object.defineProperties(So,pd);var Ws=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var _=arguments[1],x=arguments[2];this._edge=arguments[0],this.init(_,x),this._label=null}else if(4===arguments.length){var K=arguments[1],xt=arguments[2],qt=arguments[3];this._edge=arguments[0],this.init(K,xt),this._label=qt}};Ws.prototype.compareDirection=function(f){return this._dx===f._dx&&this._dy===f._dy?0:this._quadrant>f._quadrant?1:this._quadrant<f._quadrant?-1:xe.computeOrientation(f._p0,f._p1,this._p1)},Ws.prototype.getDy=function(){return this._dy},Ws.prototype.getCoordinate=function(){return this._p0},Ws.prototype.setNode=function(f){this._node=f},Ws.prototype.print=function(f){var m=Math.atan2(this._dy,this._dx),_=this.getClass().getName(),x=_.lastIndexOf("."),D=_.substring(x+1);f.print("  "+D+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+m+"   "+this._label)},Ws.prototype.compareTo=function(f){return this.compareDirection(f)},Ws.prototype.getDirectedCoordinate=function(){return this._p1},Ws.prototype.getDx=function(){return this._dx},Ws.prototype.getLabel=function(){return this._label},Ws.prototype.getEdge=function(){return this._edge},Ws.prototype.getQuadrant=function(){return this._quadrant},Ws.prototype.getNode=function(){return this._node},Ws.prototype.toString=function(){var f=Math.atan2(this._dy,this._dx),m=this.getClass().getName(),_=m.lastIndexOf(".");return"  "+m.substring(_+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+f+"   "+this._label},Ws.prototype.computeLabel=function(f){},Ws.prototype.init=function(f,m){this._p0=f,this._p1=m,this._dx=m.x-f.x,this._dy=m.y-f.y,this._quadrant=So.quadrant(this._dx,this._dy),U.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ws.prototype.interfaces_=function(){return[gt]},Ws.prototype.getClass=function(){return Ws};var tl=function(f){function m(){var _=arguments[0],x=arguments[1];if(f.call(this,_),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=x,x)this.init(_.getCoordinate(0),_.getCoordinate(1));else{var D=_.getNumPoints()-1;this.init(_.getCoordinate(D),_.getCoordinate(D-1))}this.computeDirectedLabel()}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getNextMin=function(){return this._nextMin},m.prototype.getDepth=function(_){return this._depth[_]},m.prototype.setVisited=function(_){this._isVisited=_},m.prototype.computeDirectedLabel=function(){this._label=new Pn(this._edge.getLabel()),this._isForward||this._label.flip()},m.prototype.getNext=function(){return this._next},m.prototype.setDepth=function(_,x){if(-999!==this._depth[_]&&this._depth[_]!==x)throw new _n("assigned depths do not match",this.getCoordinate());this._depth[_]=x},m.prototype.isInteriorAreaEdge=function(){for(var _=!0,x=0;x<2;x++)this._label.isArea(x)&&this._label.getLocation(x,Gt.LEFT)===ut.INTERIOR&&this._label.getLocation(x,Gt.RIGHT)===ut.INTERIOR||(_=!1);return _},m.prototype.setNextMin=function(_){this._nextMin=_},m.prototype.print=function(_){f.prototype.print.call(this,_),_.print(" "+this._depth[Gt.LEFT]+"/"+this._depth[Gt.RIGHT]),_.print(" ("+this.getDepthDelta()+")"),this._isInResult&&_.print(" inResult")},m.prototype.setMinEdgeRing=function(_){this._minEdgeRing=_},m.prototype.isLineEdge=function(){var _=this._label.isLine(0)||this._label.isLine(1),x=!this._label.isArea(0)||this._label.allPositionsEqual(0,ut.EXTERIOR),D=!this._label.isArea(1)||this._label.allPositionsEqual(1,ut.EXTERIOR);return _&&x&&D},m.prototype.setEdgeRing=function(_){this._edgeRing=_},m.prototype.getMinEdgeRing=function(){return this._minEdgeRing},m.prototype.getDepthDelta=function(){var _=this._edge.getDepthDelta();return this._isForward||(_=-_),_},m.prototype.setInResult=function(_){this._isInResult=_},m.prototype.getSym=function(){return this._sym},m.prototype.isForward=function(){return this._isForward},m.prototype.getEdge=function(){return this._edge},m.prototype.printEdge=function(_){this.print(_),_.print(" "),this._isForward?this._edge.print(_):this._edge.printReverse(_)},m.prototype.setSym=function(_){this._sym=_},m.prototype.setVisitedEdge=function(_){this.setVisited(_),this._sym.setVisited(_)},m.prototype.setEdgeDepths=function(_,x){var D=this.getEdge().getDepthDelta();this._isForward||(D=-D);var K=1;_===Gt.LEFT&&(K=-1);var xt=Gt.opposite(_),qt=x+D*K;this.setDepth(_,x),this.setDepth(xt,qt)},m.prototype.getEdgeRing=function(){return this._edgeRing},m.prototype.isInResult=function(){return this._isInResult},m.prototype.setNext=function(_){this._next=_},m.prototype.isVisited=function(){return this._isVisited},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.depthFactor=function(_,x){return _===ut.EXTERIOR&&x===ut.INTERIOR?1:_===ut.INTERIOR&&x===ut.EXTERIOR?-1:0},m}(Ws),El=function(){};El.prototype.createNode=function(f){return new Hc(f,null)},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El};var Xa=function(){this._edges=new nn,this._nodes=null,this._edgeEndList=new nn,0===arguments.length?this._nodes=new ls(new El):1===arguments.length&&(this._nodes=new ls(arguments[0]))};Xa.prototype.printEdges=function(f){f.println("Edges:");for(var m=0;m<this._edges.size();m++){f.println("edge "+m+":");var _=this._edges.get(m);_.print(f),_.eiList.print(f)}},Xa.prototype.find=function(f){return this._nodes.find(f)},Xa.prototype.addNode=function(){return arguments[0]instanceof Hc||arguments[0]instanceof q?this._nodes.addNode(arguments[0]):void 0},Xa.prototype.getNodeIterator=function(){return this._nodes.iterator()},Xa.prototype.linkResultDirectedEdges=function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()},Xa.prototype.debugPrintln=function(f){we.out.println(f)},Xa.prototype.isBoundaryNode=function(f,m){var _=this._nodes.find(m);if(null===_)return!1;var x=_.getLabel();return null!==x&&x.getLocation(f)===ut.BOUNDARY},Xa.prototype.linkAllDirectedEdges=function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkAllDirectedEdges()},Xa.prototype.matchInSameDirection=function(f,m,_,x){return!!f.equals(_)&&xe.computeOrientation(f,m,x)===xe.COLLINEAR&&So.quadrant(f,m)===So.quadrant(_,x)},Xa.prototype.getEdgeEnds=function(){return this._edgeEndList},Xa.prototype.debugPrint=function(f){we.out.print(f)},Xa.prototype.getEdgeIterator=function(){return this._edges.iterator()},Xa.prototype.findEdgeInSameDirection=function(f,m){for(var _=0;_<this._edges.size();_++){var x=this._edges.get(_),D=x.getCoordinates();if(this.matchInSameDirection(f,m,D[0],D[1])||this.matchInSameDirection(f,m,D[D.length-1],D[D.length-2]))return x}return null},Xa.prototype.insertEdge=function(f){this._edges.add(f)},Xa.prototype.findEdgeEnd=function(f){for(var m=this.getEdgeEnds().iterator();m.hasNext();){var _=m.next();if(_.getEdge()===f)return _}return null},Xa.prototype.addEdges=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next();this._edges.add(_);var x=new tl(_,!0),D=new tl(_,!1);x.setSym(D),D.setSym(x),this.add(x),this.add(D)}},Xa.prototype.add=function(f){this._nodes.add(f),this._edgeEndList.add(f)},Xa.prototype.getNodes=function(){return this._nodes.values()},Xa.prototype.findEdge=function(f,m){for(var _=0;_<this._edges.size();_++){var x=this._edges.get(_),D=x.getCoordinates();if(f.equals(D[0])&&m.equals(D[1]))return x}return null},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.linkResultDirectedEdges=function(f){for(var m=f.iterator();m.hasNext();)m.next().getEdges().linkResultDirectedEdges()};var Fl=function(){this._geometryFactory=null,this._shellList=new nn,this._geometryFactory=arguments[0]};Fl.prototype.sortShellsAndHoles=function(f,m,_){for(var x=f.iterator();x.hasNext();){var D=x.next();D.isHole()?_.add(D):m.add(D)}},Fl.prototype.computePolygons=function(f){for(var m=new nn,_=f.iterator();_.hasNext();){var x=_.next().toPolygon(this._geometryFactory);m.add(x)}return m},Fl.prototype.placeFreeHoles=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next();if(null===x.getShell()){var D=this.findEdgeRingContaining(x,f);if(null===D)throw new _n("unable to assign hole to a shell",x.getCoordinate(0));x.setShell(D)}}},Fl.prototype.buildMinimalEdgeRings=function(f,m,_){for(var x=new nn,D=f.iterator();D.hasNext();){var K=D.next();if(K.getMaxNodeDegree()>2){K.linkDirectedEdgesForMinimalEdgeRings();var xt=K.buildMinimalRings(),qt=this.findShell(xt);null!==qt?(this.placePolygonHoles(qt,xt),m.add(qt)):_.addAll(xt)}else x.add(K)}return x},Fl.prototype.containsPoint=function(f){for(var m=this._shellList.iterator();m.hasNext();)if(m.next().containsPoint(f))return!0;return!1},Fl.prototype.buildMaximalEdgeRings=function(f){for(var m=new nn,_=f.iterator();_.hasNext();){var x=_.next();if(x.isInResult()&&x.getLabel().isArea()&&null===x.getEdgeRing()){var D=new tc(x,this._geometryFactory);m.add(D),D.setInResult()}}return m},Fl.prototype.placePolygonHoles=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next();x.isHole()&&x.setShell(f)}},Fl.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Fl.prototype.findEdgeRingContaining=function(f,m){for(var _=f.getLinearRing(),x=_.getEnvelopeInternal(),D=_.getCoordinateN(0),K=null,xt=null,qt=m.iterator();qt.hasNext();){var _e=qt.next(),Ge=_e.getLinearRing(),mn=Ge.getEnvelopeInternal();null!==K&&(xt=K.getLinearRing().getEnvelopeInternal());var En=!1;mn.contains(x)&&xe.isPointInRing(D,Ge.getCoordinates())&&(En=!0),En&&(null===K||xt.contains(mn))&&(K=_e)}return K},Fl.prototype.findShell=function(f){for(var m=0,_=null,x=f.iterator();x.hasNext();){var D=x.next();D.isHole()||(_=D,m++)}return U.isTrue(m<=1,"found two shells in MinimalEdgeRing list"),_},Fl.prototype.add=function(){if(1===arguments.length){var f=arguments[0];this.add(f.getEdgeEnds(),f.getNodes())}else if(2===arguments.length){var m=arguments[0];Xa.linkResultDirectedEdges(arguments[1]);var x=this.buildMaximalEdgeRings(m),D=new nn,K=this.buildMinimalEdgeRings(x,this._shellList,D);this.sortShellsAndHoles(K,this._shellList,D),this.placeFreeHoles(this._shellList,D)}},Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var Sc=function(){};Sc.prototype.getBounds=function(){},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var Zs=function(){this._bounds=null,this._item=null;var m=arguments[1];this._bounds=arguments[0],this._item=m};Zs.prototype.getItem=function(){return this._item},Zs.prototype.getBounds=function(){return this._bounds},Zs.prototype.interfaces_=function(){return[Sc,J]},Zs.prototype.getClass=function(){return Zs};var fc=function(){this._size=null,this._items=null,this._size=0,this._items=new nn,this._items.add(null)};fc.prototype.poll=function(){if(this.isEmpty())return null;var f=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),f},fc.prototype.size=function(){return this._size},fc.prototype.reorder=function(f){for(var m=null,_=this._items.get(f);2*f<=this._size&&((m=2*f)!==this._size&&this._items.get(m+1).compareTo(this._items.get(m))<0&&m++,this._items.get(m).compareTo(_)<0);f=m)this._items.set(f,this._items.get(m));this._items.set(f,_)},fc.prototype.clear=function(){this._size=0,this._items.clear()},fc.prototype.isEmpty=function(){return 0===this._size},fc.prototype.add=function(f){this._items.add(null),this._size+=1;var m=this._size;for(this._items.set(0,f);f.compareTo(this._items.get(Math.trunc(m/2)))<0;m/=2)this._items.set(m,this._items.get(Math.trunc(m/2)));this._items.set(m,f)},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var Bl=function(){};Bl.prototype.visitItem=function(f){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var xl=function(){};xl.prototype.insert=function(f,m){},xl.prototype.remove=function(f,m){},xl.prototype.query=function(){},xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl};var Bo=function(){this._childBoundables=new nn,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},$o={serialVersionUID:{configurable:!0}};Bo.prototype.getLevel=function(){return this._level},Bo.prototype.size=function(){return this._childBoundables.size()},Bo.prototype.getChildBoundables=function(){return this._childBoundables},Bo.prototype.addChildBoundable=function(f){U.isTrue(null===this._bounds),this._childBoundables.add(f)},Bo.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Bo.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Bo.prototype.interfaces_=function(){return[Sc,J]},Bo.prototype.getClass=function(){return Bo},$o.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Bo,$o);var Nr=function(){};Nr.reverseOrder=function(){return{compare:function(f,m){return m.compareTo(f)}}},Nr.min=function(f){return Nr.sort(f),f.get(0)},Nr.sort=function(f,m){var _=f.toArray();m?Wo.sort(_,m):Wo.sort(_);for(var x=f.iterator(),D=0,K=_.length;D<K;D++)x.next(),x.set(_[D])},Nr.singletonList=function(f){var m=new nn;return m.add(f),m};var pn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var m=arguments[1],_=arguments[2];this._boundable1=arguments[0],this._boundable2=m,this._itemDistance=_,this._distance=this.distance()};pn.prototype.expandToQueue=function(f,m){var _=pn.isComposite(this._boundable1),x=pn.isComposite(this._boundable2);if(_&&x)return pn.area(this._boundable1)>pn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,f,m),null):(this.expand(this._boundable2,this._boundable1,f,m),null);if(_)return this.expand(this._boundable1,this._boundable2,f,m),null;if(x)return this.expand(this._boundable2,this._boundable1,f,m),null;throw new nt("neither boundable is composite")},pn.prototype.isLeaves=function(){return!(pn.isComposite(this._boundable1)||pn.isComposite(this._boundable2))},pn.prototype.compareTo=function(f){return this._distance<f._distance?-1:this._distance>f._distance?1:0},pn.prototype.expand=function(f,m,_,x){for(var D=f.getChildBoundables().iterator();D.hasNext();){var K=D.next(),xt=new pn(K,m,this._itemDistance);xt.getDistance()<x&&_.add(xt)}},pn.prototype.getBoundable=function(f){return 0===f?this._boundable1:this._boundable2},pn.prototype.getDistance=function(){return this._distance},pn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},pn.prototype.interfaces_=function(){return[gt]},pn.prototype.getClass=function(){return pn},pn.area=function(f){return f.getBounds().getArea()},pn.isComposite=function(f){return f instanceof Bo};var Tn=function f(){if(this._root=null,this._built=!1,this._itemBoundables=new nn,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=f.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var _=arguments[0];U.isTrue(_>1,"Node capacity must be greater than 1"),this._nodeCapacity=_}},$e={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},Tn.prototype.lastNode=function(f){return f.get(f.size()-1)},Tn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var f=0,m=arguments[0].getChildBoundables().iterator();m.hasNext();){var _=m.next();_ instanceof Bo?f+=this.size(_):_ instanceof Zs&&(f+=1)}return f}},Tn.prototype.removeItem=function(f,m){for(var _=null,x=f.getChildBoundables().iterator();x.hasNext();){var D=x.next();D instanceof Zs&&D.getItem()===m&&(_=D)}return null!==_&&(f.getChildBoundables().remove(_),!0)},Tn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var f=this.itemsTree(this._root);return null===f?new nn:f}if(1===arguments.length){for(var m=arguments[0],_=new nn,x=m.getChildBoundables().iterator();x.hasNext();){var D=x.next();if(D instanceof Bo){var K=this.itemsTree(D);null!==K&&_.add(K)}else D instanceof Zs?_.add(D.getItem()):U.shouldNeverReachHere()}return _.size()<=0?null:_}},Tn.prototype.insert=function(f,m){U.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Zs(f,m))},Tn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var f=arguments[0],m=new nn;return this.boundablesAtLevel(f,this._root,m),m}if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2];if(U.isTrue(_>-2),x.getLevel()===_)return D.add(x),null;for(var K=x.getChildBoundables().iterator();K.hasNext();){var xt=K.next();xt instanceof Bo?this.boundablesAtLevel(_,xt,D):(U.isTrue(xt instanceof Zs),-1===_&&D.add(xt))}return null}},Tn.prototype.query=function(){if(1===arguments.length){var f=arguments[0];this.build();var m=new nn;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),f)&&this.query(f,this._root,m),m}if(2===arguments.length){var _=arguments[0],x=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),_)&&this.query(_,this._root,x)}else if(3===arguments.length)if(se(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof Bo)for(var D=arguments[0],xt=arguments[2],qt=arguments[1].getChildBoundables(),_e=0;_e<qt.size();_e++){var Ge=qt.get(_e);this.getIntersectsOp().intersects(Ge.getBounds(),D)&&(Ge instanceof Bo?this.query(D,Ge,xt):Ge instanceof Zs?xt.visitItem(Ge.getItem()):U.shouldNeverReachHere())}else if(se(arguments[2],bn)&&arguments[0]instanceof Object&&arguments[1]instanceof Bo)for(var mn=arguments[0],qn=arguments[2],ai=arguments[1].getChildBoundables(),gi=0;gi<ai.size();gi++){var Jn=ai.get(gi);this.getIntersectsOp().intersects(Jn.getBounds(),mn)&&(Jn instanceof Bo?this.query(mn,Jn,qn):Jn instanceof Zs?qn.add(Jn.getItem()):U.shouldNeverReachHere())}},Tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Tn.prototype.getRoot=function(){return this.build(),this._root},Tn.prototype.remove=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),f)&&this.remove(f,this._root,m)}if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2],K=this.removeItem(x,D);if(K)return!0;for(var xt=null,qt=x.getChildBoundables().iterator();qt.hasNext();){var _e=qt.next();if(this.getIntersectsOp().intersects(_e.getBounds(),_)&&_e instanceof Bo&&(K=this.remove(_,_e,D))){xt=_e;break}}return null!==xt&&xt.getChildBoundables().isEmpty()&&x.getChildBoundables().remove(xt),K}},Tn.prototype.createHigherLevels=function(f,m){U.isTrue(!f.isEmpty());var _=this.createParentBoundables(f,m+1);return 1===_.size()?_.get(0):this.createHigherLevels(_,m+1)},Tn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var f=0,m=arguments[0].getChildBoundables().iterator();m.hasNext();){var _=m.next();if(_ instanceof Bo){var x=this.depth(_);x>f&&(f=x)}}return f+1}},Tn.prototype.createParentBoundables=function(f,m){U.isTrue(!f.isEmpty());var _=new nn;_.add(this.createNode(m));var x=new nn(f);Nr.sort(x,this.getComparator());for(var D=x.iterator();D.hasNext();){var K=D.next();this.lastNode(_).getChildBoundables().size()===this.getNodeCapacity()&&_.add(this.createNode(m)),this.lastNode(_).addChildBoundable(K)}return _},Tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Tn.prototype.interfaces_=function(){return[J]},Tn.prototype.getClass=function(){return Tn},Tn.compareDoubles=function(f,m){return f>m?1:f<m?-1:0},$e.IntersectsOp.get=function(){return wi},$e.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},$e.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Tn,$e);var wi=function(){},On=function(){};On.prototype.distance=function(f,m){},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On};var fo=function(f){function m(x){f.call(this,x=x||m.DEFAULT_NODE_CAPACITY)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return m.prototype.createParentBoundablesFromVerticalSlices=function(x,D){U.isTrue(x.length>0);for(var K=new nn,xt=0;xt<x.length;xt++)K.addAll(this.createParentBoundablesFromVerticalSlice(x[xt],D));return K},m.prototype.createNode=function(x){return new dl(x)},m.prototype.size=function(){return 0===arguments.length?f.prototype.size.call(this):f.prototype.size.apply(this,arguments)},m.prototype.insert=function(){if(2!==arguments.length)return f.prototype.insert.apply(this,arguments);var x=arguments[0],D=arguments[1];if(x.isNull())return null;f.prototype.insert.call(this,x,D)},m.prototype.getIntersectsOp=function(){return m.intersectsOp},m.prototype.verticalSlices=function(x,D){for(var K=Math.trunc(Math.ceil(x.size()/D)),xt=new Array(D).fill(null),qt=x.iterator(),_e=0;_e<D;_e++){xt[_e]=new nn;for(var Ge=0;qt.hasNext()&&Ge<K;){var mn=qt.next();xt[_e].add(mn),Ge++}}return xt},m.prototype.query=function(){if(1===arguments.length)return f.prototype.query.call(this,arguments[0]);2===arguments.length?f.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(se(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof Bo||se(arguments[2],bn)&&arguments[0]instanceof Object&&arguments[1]instanceof Bo)&&f.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},m.prototype.getComparator=function(){return m.yComparator},m.prototype.createParentBoundablesFromVerticalSlice=function(x,D){return f.prototype.createParentBoundables.call(this,x,D)},m.prototype.remove=function(){return 2===arguments.length?f.prototype.remove.call(this,arguments[0],arguments[1]):f.prototype.remove.apply(this,arguments)},m.prototype.depth=function(){return 0===arguments.length?f.prototype.depth.call(this):f.prototype.depth.apply(this,arguments)},m.prototype.createParentBoundables=function(x,D){U.isTrue(!x.isEmpty());var K=Math.trunc(Math.ceil(x.size()/this.getNodeCapacity())),xt=new nn(x);Nr.sort(xt,m.xComparator);var qt=this.verticalSlices(xt,Math.trunc(Math.ceil(Math.sqrt(K))));return this.createParentBoundablesFromVerticalSlices(qt,D)},m.prototype.nearestNeighbour=function(){if(1===arguments.length){if(se(arguments[0],On)){var x=arguments[0],D=new pn(this.getRoot(),this.getRoot(),x);return this.nearestNeighbour(D)}if(arguments[0]instanceof pn)return this.nearestNeighbour(arguments[0],z.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof m&&se(arguments[1],On)){var xt=arguments[0],qt=arguments[1],_e=new pn(this.getRoot(),xt.getRoot(),qt);return this.nearestNeighbour(_e)}if(arguments[0]instanceof pn&&"number"==typeof arguments[1]){var Ge=arguments[0],mn=arguments[1],En=null,qn=new fc;for(qn.add(Ge);!qn.isEmpty()&&mn>0;){var ai=qn.poll(),gi=ai.getDistance();if(gi>=mn)break;ai.isLeaves()?(mn=gi,En=ai):ai.expandToQueue(qn,mn)}return[En.getBoundable(0).getItem(),En.getBoundable(1).getItem()]}}else if(3===arguments.length){var ol=arguments[2],oc=new Zs(arguments[0],arguments[1]),$u=new pn(this.getRoot(),oc,ol);return this.nearestNeighbour($u)[0]}},m.prototype.interfaces_=function(){return[xl,J]},m.prototype.getClass=function(){return m},m.centreX=function(x){return m.avg(x.getMinX(),x.getMaxX())},m.avg=function(x,D){return(x+D)/2},m.centreY=function(x){return m.avg(x.getMinY(),x.getMaxY())},_.STRtreeNode.get=function(){return dl},_.serialVersionUID.get=function(){return 0x39920f7d5f261e0},_.xComparator.get=function(){return{interfaces_:function(){return[Ct]},compare:function(x,D){return f.compareDoubles(m.centreX(x.getBounds()),m.centreX(D.getBounds()))}}},_.yComparator.get=function(){return{interfaces_:function(){return[Ct]},compare:function(x,D){return f.compareDoubles(m.centreY(x.getBounds()),m.centreY(D.getBounds()))}}},_.intersectsOp.get=function(){return{interfaces_:function(){return[f.IntersectsOp]},intersects:function(x,D){return x.intersects(D)}}},_.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(m,_),m}(Tn),dl=function(f){function m(){f.call(this,arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.computeBounds=function(){for(var _=null,x=this.getChildBoundables().iterator();x.hasNext();){var D=x.next();null===_?_=new wt(D.getBounds()):_.expandToInclude(D.getBounds())}return _},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Bo),ts=function(){};ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts},ts.relativeSign=function(f,m){return f<m?-1:f>m?1:0},ts.compare=function(f,m,_){if(m.equals2D(_))return 0;var x=ts.relativeSign(m.x,_.x),D=ts.relativeSign(m.y,_.y);switch(f){case 0:return ts.compareValue(x,D);case 1:return ts.compareValue(D,x);case 2:return ts.compareValue(D,-x);case 3:return ts.compareValue(-x,D);case 4:return ts.compareValue(-x,-D);case 5:return ts.compareValue(-D,-x);case 6:return ts.compareValue(-D,x);case 7:return ts.compareValue(x,-D)}return U.shouldNeverReachHere("invalid octant value"),0},ts.compareValue=function(f,m){return f<0?-1:f>0?1:m<0?-1:m>0?1:0};var qo=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var f=arguments[0],m=arguments[1],_=arguments[2],x=arguments[3];this._segString=f,this.coord=new q(m),this.segmentIndex=_,this._segmentOctant=x,this._isInterior=!m.equals2D(f.getCoordinate(_))};qo.prototype.getCoordinate=function(){return this.coord},qo.prototype.print=function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex)},qo.prototype.compareTo=function(f){var m=f;return this.segmentIndex<m.segmentIndex?-1:this.segmentIndex>m.segmentIndex?1:this.coord.equals2D(m.coord)?0:ts.compare(this._segmentOctant,this.coord,m.coord)},qo.prototype.isEndPoint=function(f){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===f},qo.prototype.isInterior=function(){return this._isInterior},qo.prototype.interfaces_=function(){return[gt]},qo.prototype.getClass=function(){return qo};var Fs=function(){this._nodeMap=new $,this._edge=null,this._edge=arguments[0]};Fs.prototype.getSplitCoordinates=function(){var f=new zt;this.addEndpoints();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next();this.addEdgeCoordinates(_,x,f),_=x}return f.toCoordinateArray()},Fs.prototype.addCollapsedNodes=function(){var f=new nn;this.findCollapsesFromInsertedNodes(f),this.findCollapsesFromExistingVertices(f);for(var m=f.iterator();m.hasNext();){var _=m.next().intValue();this.add(this._edge.getCoordinate(_),_)}},Fs.prototype.print=function(f){f.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(f)},Fs.prototype.findCollapsesFromExistingVertices=function(f){for(var m=0;m<this._edge.size()-2;m++){var _=this._edge.getCoordinate(m),x=this._edge.getCoordinate(m+2);_.equals2D(x)&&f.add(new St(m+1))}},Fs.prototype.addEdgeCoordinates=function(f,m,_){var x=this._edge.getCoordinate(m.segmentIndex),D=m.isInterior()||!m.coord.equals2D(x);_.add(new q(f.coord),!1);for(var K=f.segmentIndex+1;K<=m.segmentIndex;K++)_.add(this._edge.getCoordinate(K));D&&_.add(new q(m.coord))},Fs.prototype.iterator=function(){return this._nodeMap.values().iterator()},Fs.prototype.addSplitEdges=function(f){this.addEndpoints(),this.addCollapsedNodes();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next(),D=this.createSplitEdge(_,x);f.add(D),_=x}},Fs.prototype.findCollapseIndex=function(f,m,_){if(!f.coord.equals2D(m.coord))return!1;var x=m.segmentIndex-f.segmentIndex;return m.isInterior()||x--,1===x&&(_[0]=f.segmentIndex+1,!0)},Fs.prototype.findCollapsesFromInsertedNodes=function(f){for(var m=new Array(1).fill(null),_=this.iterator(),x=_.next();_.hasNext();){var D=_.next();this.findCollapseIndex(x,D,m)&&f.add(new St(m[0])),x=D}},Fs.prototype.getEdge=function(){return this._edge},Fs.prototype.addEndpoints=function(){var f=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(f),f)},Fs.prototype.createSplitEdge=function(f,m){var _=m.segmentIndex-f.segmentIndex+2,x=this._edge.getCoordinate(m.segmentIndex),D=m.isInterior()||!m.coord.equals2D(x);D||_--;var K=new Array(_).fill(null),xt=0;K[xt++]=new q(f.coord);for(var qt=f.segmentIndex+1;qt<=m.segmentIndex;qt++)K[xt++]=this._edge.getCoordinate(qt);return D&&(K[xt]=new q(m.coord)),new ps(K,this._edge.getData())},Fs.prototype.add=function(f,m){var _=new qo(this._edge,f,m,this._edge.getSegmentOctant(m)),x=this._nodeMap.get(_);return null!==x?(U.isTrue(x.coord.equals2D(f),"Found equal nodes with different coordinates"),x):(this._nodeMap.put(_,_),_)},Fs.prototype.checkSplitEdgesCorrectness=function(f){var m=this._edge.getCoordinates(),_=f.get(0).getCoordinate(0);if(!_.equals2D(m[0]))throw new M("bad split edge start point at "+_);var x=f.get(f.size()-1).getCoordinates(),D=x[x.length-1];if(!D.equals2D(m[m.length-1]))throw new M("bad split edge end point at "+D)},Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs};var Cc=function(){};Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc},Cc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1];if(0===f&&0===m)throw new nt("Cannot compute the octant for point ( "+f+", "+m+" )");var _=Math.abs(f),x=Math.abs(m);return f>=0?m>=0?_>=x?0:1:_>=x?7:6:m>=0?_>=x?3:2:_>=x?4:5}if(arguments[0]instanceof q&&arguments[1]instanceof q){var D=arguments[0],K=arguments[1],xt=K.x-D.x,qt=K.y-D.y;if(0===xt&&0===qt)throw new nt("Cannot compute the octant for two identical points "+D);return Cc.octant(xt,qt)}};var Ko=function(){};Ko.prototype.getCoordinates=function(){},Ko.prototype.size=function(){},Ko.prototype.getCoordinate=function(f){},Ko.prototype.isClosed=function(){},Ko.prototype.setData=function(f){},Ko.prototype.getData=function(){},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko};var Tu=function(){};Tu.prototype.addIntersection=function(f,m){},Tu.prototype.interfaces_=function(){return[Ko]},Tu.prototype.getClass=function(){return Tu};var ps=function(){this._nodeList=new Fs(this),this._pts=null,this._data=null;var m=arguments[1];this._pts=arguments[0],this._data=m};ps.prototype.getCoordinates=function(){return this._pts},ps.prototype.size=function(){return this._pts.length},ps.prototype.getCoordinate=function(f){return this._pts[f]},ps.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},ps.prototype.getSegmentOctant=function(f){return f===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(f),this.getCoordinate(f+1))},ps.prototype.setData=function(f){this._data=f},ps.prototype.safeOctant=function(f,m){return f.equals2D(m)?0:Cc.octant(f,m)},ps.prototype.getData=function(){return this._data},ps.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var x=arguments[1],K=new q(arguments[0].getIntersection(arguments[3]));this.addIntersection(K,x)}},ps.prototype.toString=function(){return vt.toLineString(new Pr(this._pts))},ps.prototype.getNodeList=function(){return this._nodeList},ps.prototype.addIntersectionNode=function(f,m){var _=m,x=_+1;return x<this._pts.length&&f.equals2D(this._pts[x])&&(_=x),this._nodeList.add(f,_)},ps.prototype.addIntersections=function(f,m,_){for(var x=0;x<f.getIntersectionNum();x++)this.addIntersection(f,m,_,x)},ps.prototype.interfaces_=function(){return[Tu]},ps.prototype.getClass=function(){return ps},ps.getNodedSubstrings=function(){if(1===arguments.length){var f=arguments[0],m=new nn;return ps.getNodedSubstrings(f,m),m}if(2===arguments.length)for(var x=arguments[1],D=arguments[0].iterator();D.hasNext();)D.next().getNodeList().addSplitEdges(x)};var Bn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new q,this.p1=new q;else if(1===arguments.length){var f=arguments[0];this.p0=new q(f.p0),this.p1=new q(f.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var x=arguments[2],D=arguments[3];this.p0=new q(arguments[0],arguments[1]),this.p1=new q(x,D)}},Du={serialVersionUID:{configurable:!0}};Bn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Bn.prototype.orientationIndex=function(){if(arguments[0]instanceof Bn){var f=arguments[0],m=xe.orientationIndex(this.p0,this.p1,f.p0),_=xe.orientationIndex(this.p0,this.p1,f.p1);return m>=0&&_>=0||m<=0&&_<=0?Math.max(m,_):0}if(arguments[0]instanceof q)return xe.orientationIndex(this.p0,this.p1,arguments[0])},Bn.prototype.toGeometry=function(f){return f.createLineString([this.p0,this.p1])},Bn.prototype.isVertical=function(){return this.p0.x===this.p1.x},Bn.prototype.equals=function(f){if(!(f instanceof Bn))return!1;var m=f;return this.p0.equals(m.p0)&&this.p1.equals(m.p1)},Bn.prototype.intersection=function(f){var m=new Ot;return m.computeIntersection(this.p0,this.p1,f.p0,f.p1),m.hasIntersection()?m.getIntersection(0):null},Bn.prototype.project=function(){if(arguments[0]instanceof q){var f=arguments[0];if(f.equals(this.p0)||f.equals(this.p1))return new q(f);var m=this.projectionFactor(f),_=new q;return _.x=this.p0.x+m*(this.p1.x-this.p0.x),_.y=this.p0.y+m*(this.p1.y-this.p0.y),_}if(arguments[0]instanceof Bn){var x=arguments[0],D=this.projectionFactor(x.p0),K=this.projectionFactor(x.p1);if(D>=1&&K>=1||D<=0&&K<=0)return null;var xt=this.project(x.p0);D<0&&(xt=this.p0),D>1&&(xt=this.p1);var qt=this.project(x.p1);return K<0&&(qt=this.p0),K>1&&(qt=this.p1),new Bn(xt,qt)}},Bn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Bn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Bn.prototype.getCoordinate=function(f){return 0===f?this.p0:this.p1},Bn.prototype.distancePerpendicular=function(f){return xe.distancePointLinePerpendicular(f,this.p0,this.p1)},Bn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Bn.prototype.midPoint=function(){return Bn.midPoint(this.p0,this.p1)},Bn.prototype.projectionFactor=function(f){if(f.equals(this.p0))return 0;if(f.equals(this.p1))return 1;var m=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=m*m+_*_;return x<=0?z.NaN:((f.x-this.p0.x)*m+(f.y-this.p0.y)*_)/x},Bn.prototype.closestPoints=function(f){var m=this.intersection(f);if(null!==m)return[m,m];var _=new Array(2).fill(null),x=z.MAX_VALUE,D=null,K=this.closestPoint(f.p0);x=K.distance(f.p0),_[0]=K,_[1]=f.p0;var xt=this.closestPoint(f.p1);(D=xt.distance(f.p1))<x&&(x=D,_[0]=xt,_[1]=f.p1);var qt=f.closestPoint(this.p0);(D=qt.distance(this.p0))<x&&(x=D,_[0]=this.p0,_[1]=qt);var _e=f.closestPoint(this.p1);return(D=_e.distance(this.p1))<x&&(x=D,_[0]=this.p1,_[1]=_e),_},Bn.prototype.closestPoint=function(f){var m=this.projectionFactor(f);return m>0&&m<1?this.project(f):this.p0.distance(f)<this.p1.distance(f)?this.p0:this.p1},Bn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Bn.prototype.getLength=function(){return this.p0.distance(this.p1)},Bn.prototype.compareTo=function(f){var m=f,_=this.p0.compareTo(m.p0);return 0!==_?_:this.p1.compareTo(m.p1)},Bn.prototype.reverse=function(){var f=this.p0;this.p0=this.p1,this.p1=f},Bn.prototype.equalsTopo=function(f){return this.p0.equals(f.p0)&&(this.p1.equals(f.p1)||this.p0.equals(f.p1))&&this.p1.equals(f.p0)},Bn.prototype.lineIntersection=function(f){try{return Se.intersection(this.p0,this.p1,f.p0,f.p1)}catch(m){if(!(m instanceof de))throw m}return null},Bn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Bn.prototype.pointAlongOffset=function(f,m){var _=this.p0.x+f*(this.p1.x-this.p0.x),x=this.p0.y+f*(this.p1.y-this.p0.y),D=this.p1.x-this.p0.x,K=this.p1.y-this.p0.y,xt=Math.sqrt(D*D+K*K),qt=0,_e=0;if(0!==m){if(xt<=0)throw new Error("Cannot compute offset from zero-length line segment");qt=m*D/xt,_e=m*K/xt}return new q(_-_e,x+qt)},Bn.prototype.setCoordinates=function(){if(1===arguments.length){var f=arguments[0];this.setCoordinates(f.p0,f.p1)}else if(2===arguments.length){var m=arguments[0],_=arguments[1];this.p0.x=m.x,this.p0.y=m.y,this.p1.x=_.x,this.p1.y=_.y}},Bn.prototype.segmentFraction=function(f){var m=this.projectionFactor(f);return m<0?m=0:(m>1||z.isNaN(m))&&(m=1),m},Bn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Bn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Bn.prototype.distance=function(){if(arguments[0]instanceof Bn){var f=arguments[0];return xe.distanceLineLine(this.p0,this.p1,f.p0,f.p1)}if(arguments[0]instanceof q)return xe.distancePointLine(arguments[0],this.p0,this.p1)},Bn.prototype.pointAlong=function(f){var m=new q;return m.x=this.p0.x+f*(this.p1.x-this.p0.x),m.y=this.p0.y+f*(this.p1.y-this.p0.y),m},Bn.prototype.hashCode=function(){var f=z.doubleToLongBits(this.p0.x);f^=31*z.doubleToLongBits(this.p0.y);var m=Math.trunc(f)^Math.trunc(f>>32),_=z.doubleToLongBits(this.p1.x);return _^=31*z.doubleToLongBits(this.p1.y),m^Math.trunc(_)^Math.trunc(_>>32)},Bn.prototype.interfaces_=function(){return[gt,J]},Bn.prototype.getClass=function(){return Bn},Bn.midPoint=function(f,m){return new q((f.x+m.x)/2,(f.y+m.y)/2)},Du.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Bn,Du);var pc=function(){this.tempEnv1=new wt,this.tempEnv2=new wt,this._overlapSeg1=new Bn,this._overlapSeg2=new Bn};pc.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var _=arguments[2],x=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),_.getLineSegment(x,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var ir=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var m=arguments[1],_=arguments[2],x=arguments[3];this._pts=arguments[0],this._start=m,this._end=_,this._context=x};ir.prototype.getLineSegment=function(f,m){m.p0=this._pts[f],m.p1=this._pts[f+1]},ir.prototype.computeSelect=function(f,m,_,x){if(x.tempEnv1.init(this._pts[m],this._pts[_]),_-m==1)return x.select(this,m),null;if(!f.intersects(x.tempEnv1))return null;var xt=Math.trunc((m+_)/2);m<xt&&this.computeSelect(f,m,xt,x),xt<_&&this.computeSelect(f,xt,_,x)},ir.prototype.getCoordinates=function(){for(var f=new Array(this._end-this._start+1).fill(null),m=0,_=this._start;_<=this._end;_++)f[m++]=this._pts[_];return f},ir.prototype.computeOverlaps=function(f,m){this.computeOverlapsInternal(this._start,this._end,f,f._start,f._end,m)},ir.prototype.setId=function(f){this._id=f},ir.prototype.select=function(f,m){this.computeSelect(f,this._start,this._end,m)},ir.prototype.getEnvelope=function(){return null===this._env&&(this._env=new wt(this._pts[this._start],this._pts[this._end])),this._env},ir.prototype.getEndIndex=function(){return this._end},ir.prototype.getStartIndex=function(){return this._start},ir.prototype.getContext=function(){return this._context},ir.prototype.getId=function(){return this._id},ir.prototype.computeOverlapsInternal=function(f,m,_,x,D,K){var xt=this._pts[f],qt=this._pts[m],_e=_._pts[x],Ge=_._pts[D];if(m-f==1&&D-x==1)return K.overlap(this,f,_,x),null;if(K.tempEnv1.init(xt,qt),K.tempEnv2.init(_e,Ge),!K.tempEnv1.intersects(K.tempEnv2))return null;var mn=Math.trunc((f+m)/2),En=Math.trunc((x+D)/2);f<mn&&(x<En&&this.computeOverlapsInternal(f,mn,_,x,En,K),En<D&&this.computeOverlapsInternal(f,mn,_,En,D,K)),mn<m&&(x<En&&this.computeOverlapsInternal(mn,m,_,x,En,K),En<D&&this.computeOverlapsInternal(mn,m,_,En,D,K))},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var ec=function(){};ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec},ec.getChainStartIndices=function(f){var m=0,_=new nn;_.add(new St(m));do{var x=ec.findChainEnd(f,m);_.add(new St(x)),m=x}while(m<f.length-1);return ec.toIntArray(_)},ec.findChainEnd=function(f,m){for(var _=m;_<f.length-1&&f[_].equals2D(f[_+1]);)_++;if(_>=f.length-1)return f.length-1;for(var x=So.quadrant(f[_],f[_+1]),D=m+1;D<f.length&&(f[D-1].equals2D(f[D])||So.quadrant(f[D-1],f[D])===x);)D++;return D-1},ec.getChains=function(){if(1===arguments.length)return ec.getChains(arguments[0],null);if(2===arguments.length){for(var m=arguments[0],_=arguments[1],x=new nn,D=ec.getChainStartIndices(m),K=0;K<D.length-1;K++){var xt=new ir(m,D[K],D[K+1],_);x.add(xt)}return x}},ec.toIntArray=function(f){for(var m=new Array(f.size()).fill(null),_=0;_<m.length;_++)m[_]=f.get(_).intValue();return m};var Au=function(){};Au.prototype.computeNodes=function(f){},Au.prototype.getNodedSubstrings=function(){},Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au};var Zo=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};Zo.prototype.setSegmentIntersector=function(f){this._segInt=f},Zo.prototype.interfaces_=function(){return[Au]},Zo.prototype.getClass=function(){return Zo};var Eh=function(f){function m(x){x?f.call(this,x):f.call(this),this._monoChains=new nn,this._index=new fo,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={SegmentOverlapAction:{configurable:!0}};return m.prototype.getMonotoneChains=function(){return this._monoChains},m.prototype.getNodedSubstrings=function(){return ps.getNodedSubstrings(this._nodedSegStrings)},m.prototype.getIndex=function(){return this._index},m.prototype.add=function(x){for(var D=ec.getChains(x.getCoordinates(),x).iterator();D.hasNext();){var K=D.next();K.setId(this._idCounter++),this._index.insert(K.getEnvelope(),K),this._monoChains.add(K)}},m.prototype.computeNodes=function(x){this._nodedSegStrings=x;for(var D=x.iterator();D.hasNext();)this.add(D.next());this.intersectChains()},m.prototype.intersectChains=function(){for(var x=new Xp(this._segInt),D=this._monoChains.iterator();D.hasNext();)for(var K=D.next(),xt=this._index.query(K.getEnvelope()).iterator();xt.hasNext();){var qt=xt.next();if(qt.getId()>K.getId()&&(K.computeOverlaps(qt,x),this._nOverlaps++),this._segInt.isDone())return null}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.SegmentOverlapAction.get=function(){return Xp},Object.defineProperties(m,_),m}(Zo),Xp=function(f){function m(){f.call(this),this._si=null,this._si=arguments[0]}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.overlap=function(){if(4!==arguments.length)return f.prototype.overlap.apply(this,arguments);var x=arguments[1],D=arguments[2],K=arguments[3],xt=arguments[0].getContext(),qt=D.getContext();this._si.processIntersections(xt,x,qt,K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(pc),Do=function f(){if(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=f.CAP_ROUND,this._joinStyle=f.JOIN_ROUND,this._mitreLimit=f.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=f.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var x=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(x)}else if(4===arguments.length){var K=arguments[1],xt=arguments[2],qt=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(K),this.setJoinStyle(xt),this.setMitreLimit(qt)}},Tl={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Do.prototype.getEndCapStyle=function(){return this._endCapStyle},Do.prototype.isSingleSided=function(){return this._isSingleSided},Do.prototype.setQuadrantSegments=function(f){this._quadrantSegments=f,0===this._quadrantSegments&&(this._joinStyle=Do.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Do.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),f<=0&&(this._quadrantSegments=1),this._joinStyle!==Do.JOIN_ROUND&&(this._quadrantSegments=Do.DEFAULT_QUADRANT_SEGMENTS)},Do.prototype.getJoinStyle=function(){return this._joinStyle},Do.prototype.setJoinStyle=function(f){this._joinStyle=f},Do.prototype.setSimplifyFactor=function(f){this._simplifyFactor=f<0?0:f},Do.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Do.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Do.prototype.setEndCapStyle=function(f){this._endCapStyle=f},Do.prototype.getMitreLimit=function(){return this._mitreLimit},Do.prototype.setMitreLimit=function(f){this._mitreLimit=f},Do.prototype.setSingleSided=function(f){this._isSingleSided=f},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.bufferDistanceError=function(f){var m=Math.PI/2/f;return 1-Math.cos(m/2)},Tl.CAP_ROUND.get=function(){return 1},Tl.CAP_FLAT.get=function(){return 2},Tl.CAP_SQUARE.get=function(){return 3},Tl.JOIN_ROUND.get=function(){return 1},Tl.JOIN_MITRE.get=function(){return 2},Tl.JOIN_BEVEL.get=function(){return 3},Tl.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Tl.DEFAULT_MITRE_LIMIT.get=function(){return 5},Tl.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Do,Tl);var Co=function(f){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=xe.COUNTERCLOCKWISE,this._inputLine=f||null},ms={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Co.prototype.isDeletable=function(f,m,_,x){var D=this._inputLine[f],K=this._inputLine[m],xt=this._inputLine[_];return!!this.isConcave(D,K,xt)&&!!this.isShallow(D,K,xt,x)&&this.isShallowSampled(D,K,f,_,x)},Co.prototype.deleteShallowConcavities=function(){for(var f=1,m=this.findNextNonDeletedIndex(f),_=this.findNextNonDeletedIndex(m),x=!1;_<this._inputLine.length;){var D=!1;this.isDeletable(f,m,_,this._distanceTol)&&(this._isDeleted[m]=Co.DELETE,D=!0,x=!0),m=this.findNextNonDeletedIndex(f=D?_:m),_=this.findNextNonDeletedIndex(m)}return x},Co.prototype.isShallowConcavity=function(f,m,_,x){return xe.computeOrientation(f,m,_)===this._angleOrientation&&xe.distancePointLine(m,f,_)<x},Co.prototype.isShallowSampled=function(f,m,_,x,D){var K=Math.trunc((x-_)/Co.NUM_PTS_TO_CHECK);K<=0&&(K=1);for(var xt=_;xt<x;xt+=K)if(!this.isShallow(f,m,this._inputLine[xt],D))return!1;return!0},Co.prototype.isConcave=function(f,m,_){return xe.computeOrientation(f,m,_)===this._angleOrientation},Co.prototype.simplify=function(f){this._distanceTol=Math.abs(f),f<0&&(this._angleOrientation=xe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var m=!1;do{m=this.deleteShallowConcavities()}while(m);return this.collapseLine()},Co.prototype.findNextNonDeletedIndex=function(f){for(var m=f+1;m<this._inputLine.length&&this._isDeleted[m]===Co.DELETE;)m++;return m},Co.prototype.isShallow=function(f,m,_,x){return xe.distancePointLine(m,f,_)<x},Co.prototype.collapseLine=function(){for(var f=new zt,m=0;m<this._inputLine.length;m++)this._isDeleted[m]!==Co.DELETE&&f.add(this._inputLine[m]);return f.toCoordinateArray()},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.simplify=function(f,m){return new Co(f).simplify(m)},ms.INIT.get=function(){return 0},ms.DELETE.get=function(){return 1},ms.KEEP.get=function(){return 1},ms.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Co,ms);var wl=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nn},Iu={COORDINATE_ARRAY_TYPE:{configurable:!0}};wl.prototype.getCoordinates=function(){return this._ptList.toArray(wl.COORDINATE_ARRAY_TYPE)},wl.prototype.setPrecisionModel=function(f){this._precisionModel=f},wl.prototype.addPt=function(f){var m=new q(f);if(this._precisionModel.makePrecise(m),this.isRedundant(m))return null;this._ptList.add(m)},wl.prototype.revere=function(){},wl.prototype.addPts=function(f,m){if(m)for(var _=0;_<f.length;_++)this.addPt(f[_]);else for(var x=f.length-1;x>=0;x--)this.addPt(f[x])},wl.prototype.isRedundant=function(f){if(this._ptList.size()<1)return!1;var m=this._ptList.get(this._ptList.size()-1);return f.distance(m)<this._minimimVertexDistance},wl.prototype.toString=function(){return(new sn).createLineString(this.getCoordinates()).toString()},wl.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var f=new q(this._ptList.get(0)),m=this._ptList.get(this._ptList.size()-1);if(f.equals(m))return null;this._ptList.add(f)},wl.prototype.setMinimumVertexDistance=function(f){this._minimimVertexDistance=f},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl},Iu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(wl,Iu);var Dr=function(){},gu={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.toDegrees=function(f){return 180*f/Math.PI},Dr.normalize=function(f){for(;f>Math.PI;)f-=Dr.PI_TIMES_2;for(;f<=-Math.PI;)f+=Dr.PI_TIMES_2;return f},Dr.angle=function(){if(1===arguments.length){var f=arguments[0];return Math.atan2(f.y,f.x)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return Math.atan2(_.y-m.y,_.x-m.x)}},Dr.isAcute=function(f,m,_){return(f.x-m.x)*(_.x-m.x)+(f.y-m.y)*(_.y-m.y)>0},Dr.isObtuse=function(f,m,_){return(f.x-m.x)*(_.x-m.x)+(f.y-m.y)*(_.y-m.y)<0},Dr.interiorAngle=function(f,m,_){var x=Dr.angle(m,f),D=Dr.angle(m,_);return Math.abs(D-x)},Dr.normalizePositive=function(f){if(f<0){for(;f<0;)f+=Dr.PI_TIMES_2;f>=Dr.PI_TIMES_2&&(f=0)}else{for(;f>=Dr.PI_TIMES_2;)f-=Dr.PI_TIMES_2;f<0&&(f=0)}return f},Dr.angleBetween=function(f,m,_){var x=Dr.angle(m,f),D=Dr.angle(m,_);return Dr.diff(x,D)},Dr.diff=function(f,m){var _=null;return(_=f<m?m-f:f-m)>Math.PI&&(_=2*Math.PI-_),_},Dr.toRadians=function(f){return f*Math.PI/180},Dr.getTurn=function(f,m){var _=Math.sin(m-f);return _>0?Dr.COUNTERCLOCKWISE:_<0?Dr.CLOCKWISE:Dr.NONE},Dr.angleBetweenOriented=function(f,m,_){var x=Dr.angle(m,f),D=Dr.angle(m,_)-x;return D<=-Math.PI?D+Dr.PI_TIMES_2:D>Math.PI?D-Dr.PI_TIMES_2:D},gu.PI_TIMES_2.get=function(){return 2*Math.PI},gu.PI_OVER_2.get=function(){return Math.PI/2},gu.PI_OVER_4.get=function(){return Math.PI/4},gu.COUNTERCLOCKWISE.get=function(){return xe.COUNTERCLOCKWISE},gu.CLOCKWISE.get=function(){return xe.CLOCKWISE},gu.NONE.get=function(){return xe.COLLINEAR},Object.defineProperties(Dr,gu);var ko=function f(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Bn,this._seg1=new Bn,this._offset0=new Bn,this._offset1=new Bn,this._side=0,this._hasNarrowConcaveAngle=!1;var _=arguments[1],x=arguments[2];this._precisionModel=arguments[0],this._bufParams=_,this._li=new Ot,this._filletAngleQuantum=Math.PI/2/_.getQuadrantSegments(),_.getQuadrantSegments()>=8&&_.getJoinStyle()===Do.JOIN_ROUND&&(this._closingSegLengthFactor=f.MAX_CLOSING_SEG_LEN_FACTOR),this.init(x)},mc={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ko.prototype.addNextSegment=function(f,m){if(this._s0=this._s1,this._s1=this._s2,this._s2=f,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var _=xe.computeOrientation(this._s0,this._s1,this._s2),x=_===xe.CLOCKWISE&&this._side===Gt.LEFT||_===xe.COUNTERCLOCKWISE&&this._side===Gt.RIGHT;0===_?this.addCollinear(m):x?this.addOutsideTurn(_,m):this.addInsideTurn(_,m)},ko.prototype.addLineEndCap=function(f,m){var _=new Bn(f,m),x=new Bn;this.computeOffsetSegment(_,Gt.LEFT,this._distance,x);var D=new Bn;this.computeOffsetSegment(_,Gt.RIGHT,this._distance,D);var qt=Math.atan2(m.y-f.y,m.x-f.x);switch(this._bufParams.getEndCapStyle()){case Do.CAP_ROUND:this._segList.addPt(x.p1),this.addFilletArc(m,qt+Math.PI/2,qt-Math.PI/2,xe.CLOCKWISE,this._distance),this._segList.addPt(D.p1);break;case Do.CAP_FLAT:this._segList.addPt(x.p1),this._segList.addPt(D.p1);break;case Do.CAP_SQUARE:var _e=new q;_e.x=Math.abs(this._distance)*Math.cos(qt),_e.y=Math.abs(this._distance)*Math.sin(qt);var Ge=new q(x.p1.x+_e.x,x.p1.y+_e.y),mn=new q(D.p1.x+_e.x,D.p1.y+_e.y);this._segList.addPt(Ge),this._segList.addPt(mn)}},ko.prototype.getCoordinates=function(){return this._segList.getCoordinates()},ko.prototype.addMitreJoin=function(f,m,_,x){var D=!0,K=null;try{K=Se.intersection(m.p0,m.p1,_.p0,_.p1),(x<=0?1:K.distance(f)/Math.abs(x))>this._bufParams.getMitreLimit()&&(D=!1)}catch(xt){if(!(xt instanceof de))throw xt;K=new q(0,0),D=!1}D?this._segList.addPt(K):this.addLimitedMitreJoin(m,_,x,this._bufParams.getMitreLimit())},ko.prototype.addFilletCorner=function(f,m,_,x,D){var qt=Math.atan2(m.y-f.y,m.x-f.x),mn=Math.atan2(_.y-f.y,_.x-f.x);x===xe.CLOCKWISE?qt<=mn&&(qt+=2*Math.PI):qt>=mn&&(qt-=2*Math.PI),this._segList.addPt(m),this.addFilletArc(f,qt,mn,x,D),this._segList.addPt(_)},ko.prototype.addOutsideTurn=function(f,m){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ko.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Do.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Do.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(m&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,f,this._distance),this._segList.addPt(this._offset1.p0))},ko.prototype.createSquare=function(f){this._segList.addPt(new q(f.x+this._distance,f.y+this._distance)),this._segList.addPt(new q(f.x+this._distance,f.y-this._distance)),this._segList.addPt(new q(f.x-this._distance,f.y-this._distance)),this._segList.addPt(new q(f.x-this._distance,f.y+this._distance)),this._segList.closeRing()},ko.prototype.addSegments=function(f,m){this._segList.addPts(f,m)},ko.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},ko.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},ko.prototype.initSideSegments=function(f,m,_){this._s1=f,this._s2=m,this._side=_,this._seg1.setCoordinates(f,m),this.computeOffsetSegment(this._seg1,_,this._distance,this._offset1)},ko.prototype.addLimitedMitreJoin=function(f,m,_,x){var D=this._seg0.p1,K=Dr.angle(D,this._seg0.p0),xt=Dr.angleBetweenOriented(this._seg0.p0,D,this._seg1.p1)/2,qt=Dr.normalize(K+xt),_e=Dr.normalize(qt+Math.PI),Ge=x*_,mn=_-Ge*Math.abs(Math.sin(xt)),En=D.x+Ge*Math.cos(_e),qn=D.y+Ge*Math.sin(_e),ai=new q(En,qn),gi=new Bn(D,ai),Jn=gi.pointAlongOffset(1,mn),ea=gi.pointAlongOffset(1,-mn);this._side===Gt.LEFT?(this._segList.addPt(Jn),this._segList.addPt(ea)):(this._segList.addPt(ea),this._segList.addPt(Jn))},ko.prototype.computeOffsetSegment=function(f,m,_,x){var D=m===Gt.LEFT?1:-1,K=f.p1.x-f.p0.x,xt=f.p1.y-f.p0.y,qt=Math.sqrt(K*K+xt*xt),_e=D*_*K/qt,Ge=D*_*xt/qt;x.p0.x=f.p0.x-Ge,x.p0.y=f.p0.y+_e,x.p1.x=f.p1.x-Ge,x.p1.y=f.p1.y+_e},ko.prototype.addFilletArc=function(f,m,_,x,D){var K=x===xe.CLOCKWISE?-1:1,xt=Math.abs(m-_),qt=Math.trunc(xt/this._filletAngleQuantum+.5);if(qt<1)return null;for(var _e=xt/qt,Ge=0,mn=new q;Ge<xt;){var En=m+K*Ge;mn.x=f.x+D*Math.cos(En),mn.y=f.y+D*Math.sin(En),this._segList.addPt(mn),Ge+=_e}},ko.prototype.addInsideTurn=function(f,m){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ko.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var _=new q((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(_);var x=new q((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(x)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},ko.prototype.createCircle=function(f){var m=new q(f.x+this._distance,f.y);this._segList.addPt(m),this.addFilletArc(f,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},ko.prototype.addBevelJoin=function(f,m){this._segList.addPt(f.p1),this._segList.addPt(m.p0)},ko.prototype.init=function(f){this._distance=f,this._maxCurveSegmentError=f*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wl,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(f*ko.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},ko.prototype.addCollinear=function(f){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Do.JOIN_BEVEL||this._bufParams.getJoinStyle()===Do.JOIN_MITRE?(f&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,xe.CLOCKWISE,this._distance))},ko.prototype.closeRing=function(){this._segList.closeRing()},ko.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},mc.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},mc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},mc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},mc.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(ko,mc);var el=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var m=arguments[1];this._precisionModel=arguments[0],this._bufParams=m};el.prototype.getOffsetCurve=function(f,m){if(this._distance=m,0===m)return null;var _=m<0,x=Math.abs(m),D=this.getSegGen(x);f.length<=1?this.computePointCurve(f[0],D):this.computeOffsetCurve(f,_,D);var K=D.getCoordinates();return _&&Qt.reverse(K),K},el.prototype.computeSingleSidedBufferCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);if(m){_.addSegments(f,!0);var D=Co.simplify(f,-x),K=D.length-1;_.initSideSegments(D[K],D[K-1],Gt.LEFT),_.addFirstSegment();for(var xt=K-2;xt>=0;xt--)_.addNextSegment(D[xt],!0)}else{_.addSegments(f,!1);var qt=Co.simplify(f,x),_e=qt.length-1;_.initSideSegments(qt[0],qt[1],Gt.LEFT),_.addFirstSegment();for(var Ge=2;Ge<=_e;Ge++)_.addNextSegment(qt[Ge],!0)}_.addLastSegment(),_.closeRing()},el.prototype.computeRingBufferCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);m===Gt.RIGHT&&(x=-x);var D=Co.simplify(f,x),K=D.length-1;_.initSideSegments(D[K-1],D[0],m);for(var xt=1;xt<=K;xt++)_.addNextSegment(D[xt],1!==xt);_.closeRing()},el.prototype.computeLineBufferCurve=function(f,m){var _=this.simplifyTolerance(this._distance),x=Co.simplify(f,_),D=x.length-1;m.initSideSegments(x[0],x[1],Gt.LEFT);for(var K=2;K<=D;K++)m.addNextSegment(x[K],!0);m.addLastSegment(),m.addLineEndCap(x[D-1],x[D]);var xt=Co.simplify(f,-_),qt=xt.length-1;m.initSideSegments(xt[qt],xt[qt-1],Gt.LEFT);for(var _e=qt-2;_e>=0;_e--)m.addNextSegment(xt[_e],!0);m.addLastSegment(),m.addLineEndCap(xt[1],xt[0]),m.closeRing()},el.prototype.computePointCurve=function(f,m){switch(this._bufParams.getEndCapStyle()){case Do.CAP_ROUND:m.createCircle(f);break;case Do.CAP_SQUARE:m.createSquare(f)}},el.prototype.getLineCurve=function(f,m){if(this._distance=m,m<0&&!this._bufParams.isSingleSided()||0===m)return null;var _=Math.abs(m),x=this.getSegGen(_);return f.length<=1?this.computePointCurve(f[0],x):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(f,m<0,x):this.computeLineBufferCurve(f,x),x.getCoordinates()},el.prototype.getBufferParameters=function(){return this._bufParams},el.prototype.simplifyTolerance=function(f){return f*this._bufParams.getSimplifyFactor()},el.prototype.getRingCurve=function(f,m,_){if(this._distance=_,f.length<=2)return this.getLineCurve(f,_);if(0===_)return el.copyCoordinates(f);var x=this.getSegGen(_);return this.computeRingBufferCurve(f,m,x),x.getCoordinates()},el.prototype.computeOffsetCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);if(m){var D=Co.simplify(f,-x),K=D.length-1;_.initSideSegments(D[K],D[K-1],Gt.LEFT),_.addFirstSegment();for(var xt=K-2;xt>=0;xt--)_.addNextSegment(D[xt],!0)}else{var qt=Co.simplify(f,x),_e=qt.length-1;_.initSideSegments(qt[0],qt[1],Gt.LEFT),_.addFirstSegment();for(var Ge=2;Ge<=_e;Ge++)_.addNextSegment(qt[Ge],!0)}_.addLastSegment()},el.prototype.getSegGen=function(f){return new ko(this._precisionModel,this._bufParams,f)},el.prototype.interfaces_=function(){return[]},el.prototype.getClass=function(){return el},el.copyCoordinates=function(f){for(var m=new Array(f.length).fill(null),_=0;_<m.length;_++)m[_]=new q(f[_]);return m};var on=function(){this._subgraphs=null,this._seg=new Bn,this._cga=new xe,this._subgraphs=arguments[0]},Yu={DepthSegment:{configurable:!0}};on.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var f=arguments[0],m=new nn,_=this._subgraphs.iterator();_.hasNext();){var x=_.next(),D=x.getEnvelope();f.y<D.getMinY()||f.y>D.getMaxY()||this.findStabbedSegments(f,x.getDirectedEdges(),m)}return m}if(3===arguments.length)if(se(arguments[2],bn)&&arguments[0]instanceof q&&arguments[1]instanceof tl){for(var K=arguments[0],xt=arguments[1],qt=arguments[2],_e=xt.getEdge().getCoordinates(),Ge=0;Ge<_e.length-1;Ge++)if(this._seg.p0=_e[Ge],this._seg.p1=_e[Ge+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<K.x||this._seg.isHorizontal()||K.y<this._seg.p0.y||K.y>this._seg.p1.y||xe.computeOrientation(this._seg.p0,this._seg.p1,K)===xe.RIGHT)){var mn=xt.getDepth(Gt.LEFT);this._seg.p0.equals(_e[Ge])||(mn=xt.getDepth(Gt.RIGHT));var En=new di(this._seg,mn);qt.add(En)}}else if(se(arguments[2],bn)&&arguments[0]instanceof q&&se(arguments[1],bn))for(var qn=arguments[0],gi=arguments[2],Jn=arguments[1].iterator();Jn.hasNext();){var ea=Jn.next();ea.isForward()&&this.findStabbedSegments(qn,ea,gi)}},on.prototype.getDepth=function(f){var m=this.findStabbedSegments(f);return 0===m.size()?0:Nr.min(m)._leftDepth},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},Yu.DepthSegment.get=function(){return di},Object.defineProperties(on,Yu);var di=function(){this._upwardSeg=null,this._leftDepth=null;var m=arguments[1];this._upwardSeg=new Bn(arguments[0]),this._leftDepth=m};di.prototype.compareTo=function(f){var m=f;if(this._upwardSeg.minX()>=m._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=m._upwardSeg.minX())return-1;var _=this._upwardSeg.orientationIndex(m._upwardSeg);return 0!==_||0!=(_=-1*m._upwardSeg.orientationIndex(this._upwardSeg))?_:this._upwardSeg.compareTo(m._upwardSeg)},di.prototype.compareX=function(f,m){var _=f.p0.compareTo(m.p0);return 0!==_?_:f.p1.compareTo(m.p1)},di.prototype.toString=function(){return this._upwardSeg.toString()},di.prototype.interfaces_=function(){return[gt]},di.prototype.getClass=function(){return di};var bo=function(f,m,_){this.p0=f||null,this.p1=m||null,this.p2=_||null};bo.prototype.area=function(){return bo.area(this.p0,this.p1,this.p2)},bo.prototype.signedArea=function(){return bo.signedArea(this.p0,this.p1,this.p2)},bo.prototype.interpolateZ=function(f){if(null===f)throw new nt("Supplied point is null.");return bo.interpolateZ(f,this.p0,this.p1,this.p2)},bo.prototype.longestSideLength=function(){return bo.longestSideLength(this.p0,this.p1,this.p2)},bo.prototype.isAcute=function(){return bo.isAcute(this.p0,this.p1,this.p2)},bo.prototype.circumcentre=function(){return bo.circumcentre(this.p0,this.p1,this.p2)},bo.prototype.area3D=function(){return bo.area3D(this.p0,this.p1,this.p2)},bo.prototype.centroid=function(){return bo.centroid(this.p0,this.p1,this.p2)},bo.prototype.inCentre=function(){return bo.inCentre(this.p0,this.p1,this.p2)},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},bo.area=function(f,m,_){return Math.abs(((_.x-f.x)*(m.y-f.y)-(m.x-f.x)*(_.y-f.y))/2)},bo.signedArea=function(f,m,_){return((_.x-f.x)*(m.y-f.y)-(m.x-f.x)*(_.y-f.y))/2},bo.det=function(f,m,_,x){return f*x-m*_},bo.interpolateZ=function(f,m,_,x){var D=m.x,K=m.y,xt=_.x-D,qt=x.x-D,_e=_.y-K,Ge=x.y-K,mn=xt*Ge-qt*_e,En=f.x-D,qn=f.y-K;return m.z+(Ge*En-qt*qn)/mn*(_.z-m.z)+(-_e*En+xt*qn)/mn*(x.z-m.z)},bo.longestSideLength=function(f,m,_){var x=f.distance(m),D=m.distance(_),K=_.distance(f),xt=x;return D>xt&&(xt=D),K>xt&&(xt=K),xt},bo.isAcute=function(f,m,_){return!!Dr.isAcute(f,m,_)&&!!Dr.isAcute(m,_,f)&&!!Dr.isAcute(_,f,m)},bo.circumcentre=function(f,m,_){var x=_.x,D=_.y,K=f.x-x,xt=f.y-D,qt=m.x-x,_e=m.y-D,Ge=2*bo.det(K,xt,qt,_e),mn=bo.det(xt,K*K+xt*xt,_e,qt*qt+_e*_e),En=bo.det(K,K*K+xt*xt,qt,qt*qt+_e*_e);return new q(x-mn/Ge,D+En/Ge)},bo.perpendicularBisector=function(f,m){var _=m.x-f.x,x=m.y-f.y,D=new Se(f.x+_/2,f.y+x/2,1),K=new Se(f.x-x+_/2,f.y+_+x/2,1);return new Se(D,K)},bo.angleBisector=function(f,m,_){var x=m.distance(f),D=x/(x+m.distance(_));return new q(f.x+D*(_.x-f.x),f.y+D*(_.y-f.y))},bo.area3D=function(f,m,_){var x=m.x-f.x,D=m.y-f.y,K=m.z-f.z,xt=_.x-f.x,qt=_.y-f.y,_e=_.z-f.z,Ge=D*_e-K*qt,mn=K*xt-x*_e,En=x*qt-D*xt;return Math.sqrt(Ge*Ge+mn*mn+En*En)/2},bo.centroid=function(f,m,_){return new q((f.x+m.x+_.x)/3,(f.y+m.y+_.y)/3)},bo.inCentre=function(f,m,_){var x=m.distance(_),D=f.distance(_),K=f.distance(m),xt=x+D+K;return new q((x*f.x+D*m.x+K*_.x)/xt,(x*f.y+D*m.y+K*_.y)/xt)};var Vl=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nn;var m=arguments[1],_=arguments[2];this._inputGeom=arguments[0],this._distance=m,this._curveBuilder=_};Vl.prototype.addPoint=function(f){if(this._distance<=0)return null;var m=f.getCoordinates(),_=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(_,ut.EXTERIOR,ut.INTERIOR)},Vl.prototype.addPolygon=function(f){var m=this._distance,_=Gt.LEFT;this._distance<0&&(m=-this._distance,_=Gt.RIGHT);var x=f.getExteriorRing(),D=Qt.removeRepeatedPoints(x.getCoordinates());if(this._distance<0&&this.isErodedCompletely(x,this._distance)||this._distance<=0&&D.length<3)return null;this.addPolygonRing(D,m,_,ut.EXTERIOR,ut.INTERIOR);for(var K=0;K<f.getNumInteriorRing();K++){var xt=f.getInteriorRingN(K),qt=Qt.removeRepeatedPoints(xt.getCoordinates());this._distance>0&&this.isErodedCompletely(xt,-this._distance)||this.addPolygonRing(qt,m,Gt.opposite(_),ut.INTERIOR,ut.EXTERIOR)}},Vl.prototype.isTriangleErodedCompletely=function(f,m){var _=new bo(f[0],f[1],f[2]),x=_.inCentre();return xe.distancePointLine(x,_.p0,_.p1)<Math.abs(m)},Vl.prototype.addLineString=function(f){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var m=Qt.removeRepeatedPoints(f.getCoordinates()),_=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(_,ut.EXTERIOR,ut.INTERIOR)},Vl.prototype.addCurve=function(f,m,_){if(null===f||f.length<2)return null;var x=new ps(f,new Pn(0,ut.BOUNDARY,m,_));this._curveList.add(x)},Vl.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Vl.prototype.addPolygonRing=function(f,m,_,x,D){if(0===m&&f.length<Li.MINIMUM_VALID_SIZE)return null;var K=x,xt=D;f.length>=Li.MINIMUM_VALID_SIZE&&xe.isCCW(f)&&(K=D,xt=x,_=Gt.opposite(_));var qt=this._curveBuilder.getRingCurve(f,_,m);this.addCurve(qt,K,xt)},Vl.prototype.add=function(f){if(f.isEmpty())return null;f instanceof fa?this.addPolygon(f):f instanceof Ri?this.addLineString(f):f instanceof oo?this.addPoint(f):(f instanceof bl||f instanceof en||f instanceof as||f instanceof Fe)&&this.addCollection(f)},Vl.prototype.isErodedCompletely=function(f,m){var _=f.getCoordinates();if(_.length<4)return m<0;if(4===_.length)return this.isTriangleErodedCompletely(_,m);var x=f.getEnvelopeInternal(),D=Math.min(x.getHeight(),x.getWidth());return m<0&&2*Math.abs(m)>D},Vl.prototype.addCollection=function(f){for(var m=0;m<f.getNumGeometries();m++){var _=f.getGeometryN(m);this.add(_)}},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl};var nc=function(){};nc.prototype.locate=function(f){},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc};var Ts=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var f=arguments[0];this._parent=f,this._atStart=!0,this._index=0,this._max=f.getNumGeometries()};Ts.prototype.next=function(){if(this._atStart)return this._atStart=!1,Ts.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new F;var f=this._parent.getGeometryN(this._index++);return f instanceof Fe?(this._subcollectionIterator=new Ts(f),this._subcollectionIterator.next()):f},Ts.prototype.remove=function(){throw new Error(this.getClass().getName())},Ts.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Ts.prototype.interfaces_=function(){return[rn]},Ts.prototype.getClass=function(){return Ts},Ts.isAtomic=function(f){return!(f instanceof Fe)};var Ys=function(){this._geom=null,this._geom=arguments[0]};Ys.prototype.locate=function(f){return Ys.locate(f,this._geom)},Ys.prototype.interfaces_=function(){return[nc]},Ys.prototype.getClass=function(){return Ys},Ys.isPointInRing=function(f,m){return!!m.getEnvelopeInternal().intersects(f)&&xe.isPointInRing(f,m.getCoordinates())},Ys.containsPointInPolygon=function(f,m){if(m.isEmpty())return!1;var _=m.getExteriorRing();if(!Ys.isPointInRing(f,_))return!1;for(var x=0;x<m.getNumInteriorRing();x++){var D=m.getInteriorRingN(x);if(Ys.isPointInRing(f,D))return!1}return!0},Ys.containsPoint=function(f,m){if(m instanceof fa)return Ys.containsPointInPolygon(f,m);if(m instanceof Fe)for(var _=new Ts(m);_.hasNext();){var x=_.next();if(x!==m&&Ys.containsPoint(f,x))return!0}return!1},Ys.locate=function(f,m){return m.isEmpty()?ut.EXTERIOR:Ys.containsPoint(f,m)?ut.INTERIOR:ut.EXTERIOR};var hl=function(){this._edgeMap=new $,this._edgeList=null,this._ptInAreaLocation=[ut.NONE,ut.NONE]};hl.prototype.getNextCW=function(f){this.getEdges();var m=this._edgeList.indexOf(f),_=m-1;return 0===m&&(_=this._edgeList.size()-1),this._edgeList.get(_)},hl.prototype.propagateSideLabels=function(f){for(var m=ut.NONE,_=this.iterator();_.hasNext();){var x=_.next().getLabel();x.isArea(f)&&x.getLocation(f,Gt.LEFT)!==ut.NONE&&(m=x.getLocation(f,Gt.LEFT))}if(m===ut.NONE)return null;for(var D=m,K=this.iterator();K.hasNext();){var xt=K.next(),qt=xt.getLabel();if(qt.getLocation(f,Gt.ON)===ut.NONE&&qt.setLocation(f,Gt.ON,D),qt.isArea(f)){var _e=qt.getLocation(f,Gt.LEFT),Ge=qt.getLocation(f,Gt.RIGHT);if(Ge!==ut.NONE){if(Ge!==D)throw new _n("side location conflict",xt.getCoordinate());_e===ut.NONE&&U.shouldNeverReachHere("found single null side (at "+xt.getCoordinate()+")"),D=_e}else U.isTrue(qt.getLocation(f,Gt.LEFT)===ut.NONE,"found single null side"),qt.setLocation(f,Gt.RIGHT,D),qt.setLocation(f,Gt.LEFT,D)}}},hl.prototype.getCoordinate=function(){var f=this.iterator();return f.hasNext()?f.next().getCoordinate():null},hl.prototype.print=function(f){we.out.println("EdgeEndStar:   "+this.getCoordinate());for(var m=this.iterator();m.hasNext();)m.next().print(f)},hl.prototype.isAreaLabelsConsistent=function(f){return this.computeEdgeEndLabels(f.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},hl.prototype.checkAreaLabelsConsistent=function(f){var m=this.getEdges();if(m.size()<=0)return!0;var _=m.size()-1,x=m.get(_).getLabel().getLocation(f,Gt.LEFT);U.isTrue(x!==ut.NONE,"Found unlabelled area edge");for(var D=x,K=this.iterator();K.hasNext();){var xt=K.next().getLabel();U.isTrue(xt.isArea(f),"Found non-area edge");var qt=xt.getLocation(f,Gt.LEFT),_e=xt.getLocation(f,Gt.RIGHT);if(qt===_e||_e!==D)return!1;D=qt}return!0},hl.prototype.findIndex=function(f){this.iterator();for(var m=0;m<this._edgeList.size();m++)if(this._edgeList.get(m)===f)return m;return-1},hl.prototype.iterator=function(){return this.getEdges().iterator()},hl.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new nn(this._edgeMap.values())),this._edgeList},hl.prototype.getLocation=function(f,m,_){return this._ptInAreaLocation[f]===ut.NONE&&(this._ptInAreaLocation[f]=Ys.locate(m,_[f].getGeometry())),this._ptInAreaLocation[f]},hl.prototype.toString=function(){var f=new dt;f.append("EdgeEndStar:   "+this.getCoordinate()),f.append("\n");for(var m=this.iterator();m.hasNext();){var _=m.next();f.append(_),f.append("\n")}return f.toString()},hl.prototype.computeEdgeEndLabels=function(f){for(var m=this.iterator();m.hasNext();)m.next().computeLabel(f)},hl.prototype.computeLabelling=function(f){this.computeEdgeEndLabels(f[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var m=[!1,!1],_=this.iterator();_.hasNext();)for(var x=_.next().getLabel(),D=0;D<2;D++)x.isLine(D)&&x.getLocation(D)===ut.BOUNDARY&&(m[D]=!0);for(var K=this.iterator();K.hasNext();)for(var xt=K.next(),qt=xt.getLabel(),_e=0;_e<2;_e++)if(qt.isAnyNull(_e)){var Ge=ut.NONE;if(m[_e])Ge=ut.EXTERIOR;else{var mn=xt.getCoordinate();Ge=this.getLocation(_e,mn,f)}qt.setAllLocationsIfNull(_e,Ge)}},hl.prototype.getDegree=function(){return this._edgeMap.size()},hl.prototype.insertEdgeEnd=function(f,m){this._edgeMap.put(f,m),this._edgeList=null},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl};var zl=function(f){function m(){f.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var _=null,x=null,D=this._SCANNING_FOR_INCOMING,K=0;K<this._resultAreaEdgeList.size();K++){var xt=this._resultAreaEdgeList.get(K),qt=xt.getSym();if(xt.getLabel().isArea())switch(null===_&&xt.isInResult()&&(_=xt),D){case this._SCANNING_FOR_INCOMING:if(!qt.isInResult())continue;x=qt,D=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!xt.isInResult())continue;x.setNext(xt),D=this._SCANNING_FOR_INCOMING}}if(D===this._LINKING_TO_OUTGOING){if(null===_)throw new _n("no outgoing dirEdge found",this.getCoordinate());U.isTrue(_.isInResult(),"unable to link last incoming dirEdge"),x.setNext(_)}},m.prototype.insert=function(_){this.insertEdgeEnd(_,_)},m.prototype.getRightmostEdge=function(){var _=this.getEdges(),x=_.size();if(x<1)return null;var D=_.get(0);if(1===x)return D;var K=_.get(x-1),xt=D.getQuadrant(),qt=K.getQuadrant();return So.isNorthern(xt)&&So.isNorthern(qt)?D:So.isNorthern(xt)||So.isNorthern(qt)?0!==D.getDy()?D:0!==K.getDy()?K:(U.shouldNeverReachHere("found two horizontal edges incident on node"),null):K},m.prototype.print=function(_){we.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var x=this.iterator();x.hasNext();){var D=x.next();_.print("out "),D.print(_),_.println(),_.print("in "),D.getSym().print(_),_.println()}},m.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nn;for(var _=this.iterator();_.hasNext();){var x=_.next();(x.isInResult()||x.getSym().isInResult())&&this._resultAreaEdgeList.add(x)}return this._resultAreaEdgeList},m.prototype.updateLabelling=function(_){for(var x=this.iterator();x.hasNext();){var D=x.next().getLabel();D.setAllLocationsIfNull(0,_.getLocation(0)),D.setAllLocationsIfNull(1,_.getLocation(1))}},m.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var _=null,x=null,D=this._edgeList.size()-1;D>=0;D--){var K=this._edgeList.get(D),xt=K.getSym();null===x&&(x=xt),null!==_&&xt.setNext(_),_=K}x.setNext(_)},m.prototype.computeDepths=function(){if(1===arguments.length){var _=arguments[0],x=this.findIndex(_),D=_.getDepth(Gt.LEFT),K=_.getDepth(Gt.RIGHT),xt=this.computeDepths(x+1,this._edgeList.size(),D);if(this.computeDepths(0,x,xt)!==K)throw new _n("depth mismatch at "+_.getCoordinate())}else if(3===arguments.length){for(var _e=arguments[1],Ge=arguments[2],mn=arguments[0];mn<_e;mn++){var En=this._edgeList.get(mn);En.setEdgeDepths(Gt.RIGHT,Ge),Ge=En.getDepth(Gt.LEFT)}return Ge}},m.prototype.mergeSymLabels=function(){for(var _=this.iterator();_.hasNext();){var x=_.next();x.getLabel().merge(x.getSym().getLabel())}},m.prototype.linkMinimalDirectedEdges=function(_){for(var x=null,D=null,K=this._SCANNING_FOR_INCOMING,xt=this._resultAreaEdgeList.size()-1;xt>=0;xt--){var qt=this._resultAreaEdgeList.get(xt),_e=qt.getSym();switch(null===x&&qt.getEdgeRing()===_&&(x=qt),K){case this._SCANNING_FOR_INCOMING:if(_e.getEdgeRing()!==_)continue;D=_e,K=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(qt.getEdgeRing()!==_)continue;D.setNextMin(qt),K=this._SCANNING_FOR_INCOMING}}K===this._LINKING_TO_OUTGOING&&(U.isTrue(null!==x,"found null for first outgoing dirEdge"),U.isTrue(x.getEdgeRing()===_,"unable to link last incoming dirEdge"),D.setNextMin(x))},m.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var _=0,x=this.iterator();x.hasNext();)x.next().isInResult()&&_++;return _}if(1===arguments.length){for(var D=arguments[0],K=0,xt=this.iterator();xt.hasNext();)xt.next().getEdgeRing()===D&&K++;return K}},m.prototype.getLabel=function(){return this._label},m.prototype.findCoveredLineEdges=function(){for(var _=ut.NONE,x=this.iterator();x.hasNext();){var D=x.next(),K=D.getSym();if(!D.isLineEdge()){if(D.isInResult()){_=ut.INTERIOR;break}if(K.isInResult()){_=ut.EXTERIOR;break}}}if(_===ut.NONE)return null;for(var xt=_,qt=this.iterator();qt.hasNext();){var _e=qt.next(),Ge=_e.getSym();_e.isLineEdge()?_e.getEdge().setCovered(xt===ut.INTERIOR):(_e.isInResult()&&(xt=ut.EXTERIOR),Ge.isInResult()&&(xt=ut.INTERIOR))}},m.prototype.computeLabelling=function(_){f.prototype.computeLabelling.call(this,_),this._label=new Pn(ut.NONE);for(var x=this.iterator();x.hasNext();)for(var D=x.next().getEdge().getLabel(),K=0;K<2;K++){var xt=D.getLocation(K);xt!==ut.INTERIOR&&xt!==ut.BOUNDARY||this._label.setLocation(K,ut.INTERIOR)}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(hl),au=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.createNode=function(_){return new Hc(_,new zl)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(El),Ds=function f(){this._pts=null,this._orientation=null;var m=arguments[0];this._pts=m,this._orientation=f.orientation(m)};Ds.prototype.compareTo=function(f){return Ds.compareOriented(this._pts,this._orientation,f._pts,f._orientation)},Ds.prototype.interfaces_=function(){return[gt]},Ds.prototype.getClass=function(){return Ds},Ds.orientation=function(f){return 1===Qt.increasingDirection(f)},Ds.compareOriented=function(f,m,_,x){for(var D=m?1:-1,K=x?1:-1,xt=m?f.length:-1,qt=x?_.length:-1,_e=m?0:f.length-1,Ge=x?0:_.length-1;;){var mn=f[_e].compareTo(_[Ge]);if(0!==mn)return mn;var En=(_e+=D)===xt,qn=(Ge+=K)===qt;if(En&&!qn)return-1;if(!En&&qn)return 1;if(En&&qn)return 0}};var xo=function(){this._edges=new nn,this._ocaMap=new $};xo.prototype.print=function(f){f.print("MULTILINESTRING ( ");for(var m=0;m<this._edges.size();m++){var _=this._edges.get(m);m>0&&f.print(","),f.print("(");for(var x=_.getCoordinates(),D=0;D<x.length;D++)D>0&&f.print(","),f.print(x[D].x+" "+x[D].y);f.println(")")}f.print(")  ")},xo.prototype.addAll=function(f){for(var m=f.iterator();m.hasNext();)this.add(m.next())},xo.prototype.findEdgeIndex=function(f){for(var m=0;m<this._edges.size();m++)if(this._edges.get(m).equals(f))return m;return-1},xo.prototype.iterator=function(){return this._edges.iterator()},xo.prototype.getEdges=function(){return this._edges},xo.prototype.get=function(f){return this._edges.get(f)},xo.prototype.findEqualEdge=function(f){var m=new Ds(f.getCoordinates());return this._ocaMap.get(m)},xo.prototype.add=function(f){this._edges.add(f);var m=new Ds(f.getCoordinates());this._ocaMap.put(m,f)},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var lr=function(){};lr.prototype.processIntersections=function(f,m,_,x){},lr.prototype.isDone=function(){},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var fl=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};fl.prototype.isTrivialIntersection=function(f,m,_,x){if(f===_&&1===this._li.getIntersectionNum()){if(fl.isAdjacentSegments(m,x))return!0;if(f.isClosed()){var D=f.size()-1;if(0===m&&x===D||0===x&&m===D)return!0}}return!1},fl.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},fl.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},fl.prototype.getLineIntersector=function(){return this._li},fl.prototype.hasProperIntersection=function(){return this._hasProper},fl.prototype.processIntersections=function(f,m,_,x){if(f===_&&m===x)return null;this.numTests++;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],qt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,qt),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(f,m,_,x)||(this._hasIntersection=!0,f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},fl.prototype.hasIntersection=function(){return this._hasIntersection},fl.prototype.isDone=function(){return!1},fl.prototype.hasInteriorIntersection=function(){return this._hasInterior},fl.prototype.interfaces_=function(){return[lr]},fl.prototype.getClass=function(){return fl},fl.isAdjacentSegments=function(f,m){return 1===Math.abs(f-m)};var Dl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var m=arguments[1],_=arguments[2];this.coord=new q(arguments[0]),this.segmentIndex=m,this.dist=_};Dl.prototype.getSegmentIndex=function(){return this.segmentIndex},Dl.prototype.getCoordinate=function(){return this.coord},Dl.prototype.print=function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex),f.println(" dist = "+this.dist)},Dl.prototype.compareTo=function(f){return this.compare(f.segmentIndex,f.dist)},Dl.prototype.isEndPoint=function(f){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===f},Dl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Dl.prototype.getDistance=function(){return this.dist},Dl.prototype.compare=function(f,m){return this.segmentIndex<f?-1:this.segmentIndex>f?1:this.dist<m?-1:this.dist>m?1:0},Dl.prototype.interfaces_=function(){return[gt]},Dl.prototype.getClass=function(){return Dl};var ic=function(){this._nodeMap=new $,this.edge=null,this.edge=arguments[0]};ic.prototype.print=function(f){f.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(f)},ic.prototype.iterator=function(){return this._nodeMap.values().iterator()},ic.prototype.addSplitEdges=function(f){this.addEndpoints();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next(),D=this.createSplitEdge(_,x);f.add(D),_=x}},ic.prototype.addEndpoints=function(){var f=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[f],f,0)},ic.prototype.createSplitEdge=function(f,m){var _=m.segmentIndex-f.segmentIndex+2,D=m.dist>0||!m.coord.equals2D(this.edge.pts[m.segmentIndex]);D||_--;var K=new Array(_).fill(null),xt=0;K[xt++]=new q(f.coord);for(var qt=f.segmentIndex+1;qt<=m.segmentIndex;qt++)K[xt++]=this.edge.pts[qt];return D&&(K[xt]=m.coord),new Pi(K,new Pn(this.edge._label))},ic.prototype.add=function(f,m,_){var x=new Dl(f,m,_),D=this._nodeMap.get(x);return null!==D?D:(this._nodeMap.put(x,x),x)},ic.prototype.isIntersection=function(f){for(var m=this.iterator();m.hasNext();)if(m.next().coord.equals(f))return!0;return!1},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic};var Rl=function(){};Rl.prototype.getChainStartIndices=function(f){var m=0,_=new nn;_.add(new St(m));do{var x=this.findChainEnd(f,m);_.add(new St(x)),m=x}while(m<f.length-1);return Rl.toIntArray(_)},Rl.prototype.findChainEnd=function(f,m){for(var _=So.quadrant(f[m],f[m+1]),x=m+1;x<f.length&&So.quadrant(f[x-1],f[x])===_;)x++;return x-1},Rl.prototype.interfaces_=function(){return[]},Rl.prototype.getClass=function(){return Rl},Rl.toIntArray=function(f){for(var m=new Array(f.size()).fill(null),_=0;_<m.length;_++)m[_]=f.get(_).intValue();return m};var As=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new wt,this.env2=new wt;var f=arguments[0];this.e=f,this.pts=f.getCoordinates();var m=new Rl;this.startIndex=m.getChainStartIndices(this.pts)};As.prototype.getCoordinates=function(){return this.pts},As.prototype.getMaxX=function(f){var m=this.pts[this.startIndex[f]].x,_=this.pts[this.startIndex[f+1]].x;return m>_?m:_},As.prototype.getMinX=function(f){var m=this.pts[this.startIndex[f]].x,_=this.pts[this.startIndex[f+1]].x;return m<_?m:_},As.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var f=arguments[0],m=arguments[1],_=arguments[2];this.computeIntersectsForChain(this.startIndex[f],this.startIndex[f+1],m,m.startIndex[_],m.startIndex[_+1],arguments[3])}else if(6===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2],qt=arguments[3],_e=arguments[4],Ge=arguments[5],mn=this.pts[D],En=this.pts[K],qn=xt.pts[qt],ai=xt.pts[_e];if(K-D==1&&_e-qt==1)return Ge.addIntersections(this.e,D,xt.e,qt),null;if(this.env1.init(mn,En),this.env2.init(qn,ai),!this.env1.intersects(this.env2))return null;var gi=Math.trunc((D+K)/2),Jn=Math.trunc((qt+_e)/2);D<gi&&(qt<Jn&&this.computeIntersectsForChain(D,gi,xt,qt,Jn,Ge),Jn<_e&&this.computeIntersectsForChain(D,gi,xt,Jn,_e,Ge)),gi<K&&(qt<Jn&&this.computeIntersectsForChain(gi,K,xt,qt,Jn,Ge),Jn<_e&&this.computeIntersectsForChain(gi,K,xt,Jn,_e,Ge))}},As.prototype.getStartIndexes=function(){return this.startIndex},As.prototype.computeIntersects=function(f,m){for(var _=0;_<this.startIndex.length-1;_++)for(var x=0;x<f.startIndex.length-1;x++)this.computeIntersectsForChain(_,f,x,m)},As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As};var es=function f(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var m=0;m<2;m++)for(var _=0;_<3;_++)this._depth[m][_]=f.NULL_VALUE},Od={NULL_VALUE:{configurable:!0}};es.prototype.getDepth=function(f,m){return this._depth[f][m]},es.prototype.setDepth=function(f,m,_){this._depth[f][m]=_},es.prototype.isNull=function(){if(0===arguments.length){for(var f=0;f<2;f++)for(var m=0;m<3;m++)if(this._depth[f][m]!==es.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===es.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===es.NULL_VALUE:void 0},es.prototype.normalize=function(){for(var f=0;f<2;f++)if(!this.isNull(f)){var m=this._depth[f][1];this._depth[f][2]<m&&(m=this._depth[f][2]),m<0&&(m=0);for(var _=1;_<3;_++){var x=0;this._depth[f][_]>m&&(x=1),this._depth[f][_]=x}}},es.prototype.getDelta=function(f){return this._depth[f][Gt.RIGHT]-this._depth[f][Gt.LEFT]},es.prototype.getLocation=function(f,m){return this._depth[f][m]<=0?ut.EXTERIOR:ut.INTERIOR},es.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},es.prototype.add=function(){if(1===arguments.length)for(var f=arguments[0],m=0;m<2;m++)for(var _=1;_<3;_++){var x=f.getLocation(m,_);x!==ut.EXTERIOR&&x!==ut.INTERIOR||(this.isNull(m,_)?this._depth[m][_]=es.depthAtLocation(x):this._depth[m][_]+=es.depthAtLocation(x))}else 3===arguments.length&&arguments[2]===ut.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},es.prototype.interfaces_=function(){return[]},es.prototype.getClass=function(){return es},es.depthAtLocation=function(f){return f===ut.EXTERIOR?0:f===ut.INTERIOR?1:es.NULL_VALUE},Od.NULL_VALUE.get=function(){return-1},Object.defineProperties(es,Od);var Pi=function(f){function m(){if(f.call(this),this.pts=null,this._env=null,this.eiList=new ic(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new es,this._depthDelta=0,1===arguments.length)m.call(this,arguments[0],null);else if(2===arguments.length){var D=arguments[1];this.pts=arguments[0],this._label=D}}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getDepth=function(){return this._depth},m.prototype.getCollapsedEdge=function(){var _=new Array(2).fill(null);return _[0]=this.pts[0],_[1]=this.pts[1],new m(_,Pn.toLineLabel(this._label))},m.prototype.isIsolated=function(){return this._isIsolated},m.prototype.getCoordinates=function(){return this.pts},m.prototype.setIsolated=function(_){this._isIsolated=_},m.prototype.setName=function(_){this._name=_},m.prototype.equals=function(_){if(!(_ instanceof m))return!1;var x=_;if(this.pts.length!==x.pts.length)return!1;for(var D=!0,K=!0,xt=this.pts.length,qt=0;qt<this.pts.length;qt++)if(this.pts[qt].equals2D(x.pts[qt])||(D=!1),this.pts[qt].equals2D(x.pts[--xt])||(K=!1),!D&&!K)return!1;return!0},m.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},m.prototype.print=function(_){_.print("edge "+this._name+": "),_.print("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&_.print(","),_.print(this.pts[x].x+" "+this.pts[x].y);_.print(")  "+this._label+" "+this._depthDelta)},m.prototype.computeIM=function(_){m.updateIM(this._label,_)},m.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},m.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},m.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},m.prototype.getDepthDelta=function(){return this._depthDelta},m.prototype.getNumPoints=function(){return this.pts.length},m.prototype.printReverse=function(_){_.print("edge "+this._name+": ");for(var x=this.pts.length-1;x>=0;x--)_.print(this.pts[x]+" ");_.println("")},m.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new As(this)),this._mce},m.prototype.getEnvelope=function(){if(null===this._env){this._env=new wt;for(var _=0;_<this.pts.length;_++)this._env.expandToInclude(this.pts[_])}return this._env},m.prototype.addIntersection=function(_,x,D,K){var xt=new q(_.getIntersection(K)),qt=x,_e=_.getEdgeDistance(D,K),Ge=qt+1;Ge<this.pts.length&&xt.equals2D(this.pts[Ge])&&(qt=Ge,_e=0),this.eiList.add(xt,qt,_e)},m.prototype.toString=function(){var _=new dt;_.append("edge "+this._name+": "),_.append("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&_.append(","),_.append(this.pts[x].x+" "+this.pts[x].y);return _.append(")  "+this._label+" "+this._depthDelta),_.toString()},m.prototype.isPointwiseEqual=function(_){if(this.pts.length!==_.pts.length)return!1;for(var x=0;x<this.pts.length;x++)if(!this.pts[x].equals2D(_.pts[x]))return!1;return!0},m.prototype.setDepthDelta=function(_){this._depthDelta=_},m.prototype.getEdgeIntersectionList=function(){return this.eiList},m.prototype.addIntersections=function(_,x,D){for(var K=0;K<_.getIntersectionNum();K++)this.addIntersection(_,x,D,K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.updateIM=function(){if(2!==arguments.length)return f.prototype.updateIM.apply(this,arguments);var _=arguments[0],x=arguments[1];x.setAtLeastIfValid(_.getLocation(0,Gt.ON),_.getLocation(1,Gt.ON),1),_.isArea()&&(x.setAtLeastIfValid(_.getLocation(0,Gt.LEFT),_.getLocation(1,Gt.LEFT),2),x.setAtLeastIfValid(_.getLocation(0,Gt.RIGHT),_.getLocation(1,Gt.RIGHT),2))},m}(Js),pa=function(f){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new xo,this._bufParams=f||null};pa.prototype.setWorkingPrecisionModel=function(f){this._workingPrecisionModel=f},pa.prototype.insertUniqueEdge=function(f){var m=this._edgeList.findEqualEdge(f);if(null!==m){var _=m.getLabel(),x=f.getLabel();m.isPointwiseEqual(f)||(x=new Pn(f.getLabel())).flip(),_.merge(x);var D=pa.depthDelta(x),K=m.getDepthDelta()+D;m.setDepthDelta(K)}else this._edgeList.add(f),f.setDepthDelta(pa.depthDelta(f.getLabel()))},pa.prototype.buildSubgraphs=function(f,m){for(var _=new nn,x=f.iterator();x.hasNext();){var D=x.next(),K=D.getRightmostCoordinate(),xt=new on(_).getDepth(K);D.computeDepth(xt),D.findResultEdges(),_.add(D),m.add(D.getDirectedEdges(),D.getNodes())}},pa.prototype.createSubgraphs=function(f){for(var m=new nn,_=f.getNodes().iterator();_.hasNext();){var x=_.next();if(!x.isVisited()){var D=new Ke;D.create(x),m.add(D)}}return Nr.sort(m,Nr.reverseOrder()),m},pa.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},pa.prototype.getNoder=function(f){if(null!==this._workingNoder)return this._workingNoder;var m=new Eh,_=new Ot;return _.setPrecisionModel(f),m.setSegmentIntersector(new fl(_)),m},pa.prototype.buffer=function(f,m){var _=this._workingPrecisionModel;null===_&&(_=f.getPrecisionModel()),this._geomFact=f.getFactory();var x=new el(_,this._bufParams),D=new Vl(f,m,x).getCurves();if(D.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(D,_),this._graph=new Xa(new au),this._graph.addEdges(this._edgeList.getEdges());var K=this.createSubgraphs(this._graph),xt=new Fl(this._geomFact);this.buildSubgraphs(K,xt);var qt=xt.getPolygons();return qt.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(qt)},pa.prototype.computeNodedEdges=function(f,m){var _=this.getNoder(m);_.computeNodes(f);for(var x=_.getNodedSubstrings().iterator();x.hasNext();){var D=x.next(),K=D.getCoordinates();if(2!==K.length||!K[0].equals2D(K[1])){var xt=D.getData(),qt=new Pi(D.getCoordinates(),new Pn(xt));this.insertUniqueEdge(qt)}}},pa.prototype.setNoder=function(f){this._workingNoder=f},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa},pa.depthDelta=function(f){var m=f.getLocation(0,Gt.LEFT),_=f.getLocation(0,Gt.RIGHT);return m===ut.INTERIOR&&_===ut.EXTERIOR?1:m===ut.EXTERIOR&&_===ut.INTERIOR?-1:0},pa.convertSegStrings=function(f){for(var m=new sn,_=new nn;f.hasNext();){var x=f.next(),D=m.createLineString(x.getCoordinates());_.add(D)}return m.buildGeometry(_)};var Mc=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var m=arguments[1];this._noder=arguments[0],this._scaleFactor=m,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var x=arguments[1],D=arguments[2],K=arguments[3];this._noder=arguments[0],this._scaleFactor=x,this._offsetX=D,this._offsetY=K,this._isScaled=!this.isIntegerPrecision()}};Mc.prototype.rescale=function(){if(se(arguments[0],We))for(var f=arguments[0].iterator();f.hasNext();){var m=f.next();this.rescale(m.getCoordinates())}else if(arguments[0]instanceof Array){for(var _=arguments[0],x=0;x<_.length;x++)_[x].x=_[x].x/this._scaleFactor+this._offsetX,_[x].y=_[x].y/this._scaleFactor+this._offsetY;2===_.length&&_[0].equals2D(_[1])&&we.out.println(_)}},Mc.prototype.scale=function(){if(se(arguments[0],We)){for(var f=arguments[0],m=new nn,_=f.iterator();_.hasNext();){var x=_.next();m.add(new ps(this.scale(x.getCoordinates()),x.getData()))}return m}if(arguments[0]instanceof Array){for(var D=arguments[0],K=new Array(D.length).fill(null),xt=0;xt<D.length;xt++)K[xt]=new q(Math.round((D[xt].x-this._offsetX)*this._scaleFactor),Math.round((D[xt].y-this._offsetY)*this._scaleFactor),D[xt].z);return Qt.removeRepeatedPoints(K)}},Mc.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Mc.prototype.getNodedSubstrings=function(){var f=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(f),f},Mc.prototype.computeNodes=function(f){var m=f;this._isScaled&&(m=this.scale(f)),this._noder.computeNodes(m)},Mc.prototype.interfaces_=function(){return[Au]},Mc.prototype.getClass=function(){return Mc};var nl=function(){this._li=new Ot,this._segStrings=null,this._segStrings=arguments[0]},yi={fact:{configurable:!0}};nl.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();){var m=f.next().getCoordinates();this.checkEndPtVertexIntersections(m[0],this._segStrings),this.checkEndPtVertexIntersections(m[m.length-1],this._segStrings)}else if(2===arguments.length)for(var _=arguments[0],x=arguments[1].iterator();x.hasNext();)for(var D=x.next().getCoordinates(),K=1;K<D.length-1;K++)if(D[K].equals(_))throw new M("found endpt/interior pt intersection at index "+K+" :pt "+_)},nl.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();)for(var m=f.next(),_=this._segStrings.iterator();_.hasNext();){var x=_.next();this.checkInteriorIntersections(m,x)}else if(2===arguments.length)for(var D=arguments[0],K=arguments[1],xt=D.getCoordinates(),qt=K.getCoordinates(),_e=0;_e<xt.length-1;_e++)for(var Ge=0;Ge<qt.length-1;Ge++)this.checkInteriorIntersections(D,_e,K,Ge);else if(4===arguments.length){var mn=arguments[0],En=arguments[1],qn=arguments[2],ai=arguments[3];if(mn===qn&&En===ai)return null;var gi=mn.getCoordinates()[En],Jn=mn.getCoordinates()[En+1],ea=qn.getCoordinates()[ai],ol=qn.getCoordinates()[ai+1];if(this._li.computeIntersection(gi,Jn,ea,ol),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,gi,Jn)||this.hasInteriorIntersection(this._li,ea,ol)))throw new M("found non-noded intersection at "+gi+"-"+Jn+" and "+ea+"-"+ol)}},nl.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},nl.prototype.checkCollapses=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();){var m=f.next();this.checkCollapses(m)}else if(1===arguments.length)for(var _=arguments[0].getCoordinates(),x=0;x<_.length-2;x++)this.checkCollapse(_[x],_[x+1],_[x+2])},nl.prototype.hasInteriorIntersection=function(f,m,_){for(var x=0;x<f.getIntersectionNum();x++){var D=f.getIntersection(x);if(!D.equals(m)&&!D.equals(_))return!0}return!1},nl.prototype.checkCollapse=function(f,m,_){if(f.equals(_))throw new M("found non-noded collapse at "+nl.fact.createLineString([f,m,_]))},nl.prototype.interfaces_=function(){return[]},nl.prototype.getClass=function(){return nl},yi.fact.get=function(){return new sn},Object.defineProperties(nl,yi);var cs=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var f=arguments[0],m=arguments[1],_=arguments[2];if(this._originalPt=f,this._pt=f,this._scaleFactor=m,this._li=_,m<=0)throw new nt("Scale factor must be non-zero");1!==m&&(this._pt=new q(this.scale(f.x),this.scale(f.y)),this._p0Scaled=new q,this._p1Scaled=new q),this.initCorners(this._pt)},Xu={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};cs.prototype.intersectsScaled=function(f,m){var _=Math.min(f.x,m.x),x=Math.max(f.x,m.x),D=Math.min(f.y,m.y),K=Math.max(f.y,m.y),xt=this._maxx<_||this._minx>x||this._maxy<D||this._miny>K;if(xt)return!1;var qt=this.intersectsToleranceSquare(f,m);return U.isTrue(!(xt&&qt),"Found bad envelope test"),qt},cs.prototype.initCorners=function(f){this._minx=f.x-.5,this._maxx=f.x+.5,this._miny=f.y-.5,this._maxy=f.y+.5,this._corner[0]=new q(this._maxx,this._maxy),this._corner[1]=new q(this._minx,this._maxy),this._corner[2]=new q(this._minx,this._miny),this._corner[3]=new q(this._maxx,this._miny)},cs.prototype.intersects=function(f,m){return 1===this._scaleFactor?this.intersectsScaled(f,m):(this.copyScaled(f,this._p0Scaled),this.copyScaled(m,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},cs.prototype.scale=function(f){return Math.round(f*this._scaleFactor)},cs.prototype.getCoordinate=function(){return this._originalPt},cs.prototype.copyScaled=function(f,m){m.x=this.scale(f.x),m.y=this.scale(f.y)},cs.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var f=cs.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new wt(this._originalPt.x-f,this._originalPt.x+f,this._originalPt.y-f,this._originalPt.y+f)}return this._safeEnv},cs.prototype.intersectsPixelClosure=function(f,m){return this._li.computeIntersection(f,m,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},cs.prototype.intersectsToleranceSquare=function(f,m){var _=!1,x=!1;return this._li.computeIntersection(f,m,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(f,m,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(_=!0),this._li.computeIntersection(f,m,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(x=!0),this._li.computeIntersection(f,m,this._corner[3],this._corner[0]),this._li.isProper()||_&&x||f.equals(this._pt)||m.equals(this._pt)))))},cs.prototype.addSnappedNode=function(f,m){var _=f.getCoordinate(m),x=f.getCoordinate(m+1);return!!this.intersects(_,x)&&(f.addIntersection(this.getCoordinate(),m),!0)},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs},Xu.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(cs,Xu);var Cn=function(){this.tempEnv1=new wt,this.selectedSegment=new Bn};Cn.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var il=function(){this._index=null,this._index=arguments[0]},Yo={HotPixelSnapAction:{configurable:!0}};il.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var m=arguments[0],_=arguments[1],x=arguments[2],D=m.getSafeEnvelope(),K=new Xs(m,_,x);return this._index.query(D,{interfaces_:function(){return[Bl]},visitItem:function(xt){xt.select(D,K)}}),K.isNodeAdded()}},il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},Yo.HotPixelSnapAction.get=function(){return Xs},Object.defineProperties(il,Yo);var Xs=function(f){function m(){f.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var x=arguments[1],D=arguments[2];this._hotPixel=arguments[0],this._parentEdge=x,this._hotPixelVertexIndex=D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isNodeAdded=function(){return this._isNodeAdded},m.prototype.select=function(){if(2!==arguments.length)return f.prototype.select.apply(this,arguments);var x=arguments[1],D=arguments[0].getContext();if(null!==this._parentEdge&&D===this._parentEdge&&x===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(D,x)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Cn),us=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new nn};us.prototype.processIntersections=function(f,m,_,x){if(f===_&&m===x)return null;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],qt=_.getCoordinates()[x+1];if(this._li.computeIntersection(D,K,xt,qt),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var _e=0;_e<this._li.getIntersectionNum();_e++)this._interiorIntersections.add(this._li.getIntersection(_e));f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1)}},us.prototype.isDone=function(){return!1},us.prototype.getInteriorIntersections=function(){return this._interiorIntersections},us.prototype.interfaces_=function(){return[lr]},us.prototype.getClass=function(){return us};var $s=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var f=arguments[0];this._pm=f,this._li=new Ot,this._li.setPrecisionModel(f),this._scaleFactor=f.getScale()};$s.prototype.checkCorrectness=function(f){var m=ps.getNodedSubstrings(f),_=new nl(m);try{_.checkValid()}catch(x){if(!(x instanceof He))throw x;x.printStackTrace()}},$s.prototype.getNodedSubstrings=function(){return ps.getNodedSubstrings(this._nodedSegStrings)},$s.prototype.snapRound=function(f,m){var _=this.findInteriorIntersections(f,m);this.computeIntersectionSnaps(_),this.computeVertexSnaps(f)},$s.prototype.findInteriorIntersections=function(f,m){var _=new us(m);return this._noder.setSegmentIntersector(_),this._noder.computeNodes(f),_.getInteriorIntersections()},$s.prototype.computeVertexSnaps=function(){if(se(arguments[0],We))for(var f=arguments[0].iterator();f.hasNext();){var m=f.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof ps)for(var _=arguments[0],x=_.getCoordinates(),D=0;D<x.length;D++){var K=new cs(x[D],this._scaleFactor,this._li);this._pointSnapper.snap(K,_,D)&&_.addIntersection(x[D],D)}},$s.prototype.computeNodes=function(f){this._nodedSegStrings=f,this._noder=new Eh,this._pointSnapper=new il(this._noder.getIndex()),this.snapRound(f,this._li)},$s.prototype.computeIntersectionSnaps=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next(),x=new cs(_,this._scaleFactor,this._li);this._pointSnapper.snap(x)}},$s.prototype.interfaces_=function(){return[Au]},$s.prototype.getClass=function(){return $s};var he=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Do,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var _=arguments[1];this._argGeom=arguments[0],this._bufParams=_}},gc={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};he.prototype.bufferFixedPrecision=function(f){var m=new Mc(new $s(new ie(1)),f.getScale()),_=new pa(this._bufParams);_.setWorkingPrecisionModel(f),_.setNoder(m),this._resultGeometry=_.buffer(this._argGeom,this._distance)},he.prototype.bufferReducedPrecision=function(){var f=this;if(0===arguments.length){for(var m=he.MAX_PRECISION_DIGITS;m>=0;m--){try{f.bufferReducedPrecision(m)}catch(K){if(!(K instanceof _n))throw K;f._saveException=K}if(null!==f._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var x=he.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),D=new ie(x);this.bufferFixedPrecision(D)}},he.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var f=this._argGeom.getFactory().getPrecisionModel();f.getType()===ie.FIXED?this.bufferFixedPrecision(f):this.bufferReducedPrecision()},he.prototype.setQuadrantSegments=function(f){this._bufParams.setQuadrantSegments(f)},he.prototype.bufferOriginalPrecision=function(){try{var f=new pa(this._bufParams);this._resultGeometry=f.buffer(this._argGeom,this._distance)}catch(m){if(!(m instanceof M))throw m;this._saveException=m}},he.prototype.getResultGeometry=function(f){return this._distance=f,this.computeGeometry(),this._resultGeometry},he.prototype.setEndCapStyle=function(f){this._bufParams.setEndCapStyle(f)},he.prototype.interfaces_=function(){return[]},he.prototype.getClass=function(){return he},he.bufferOp=function(){if(2===arguments.length){var m=arguments[1];return new he(arguments[0]).getResultGeometry(m)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ve&&"number"==typeof arguments[1]){var x=arguments[1],D=arguments[2],K=new he(arguments[0]);return K.setQuadrantSegments(D),K.getResultGeometry(x)}if(arguments[2]instanceof Do&&arguments[0]instanceof Ve&&"number"==typeof arguments[1]){var qt=arguments[1];return new he(arguments[0],arguments[2]).getResultGeometry(qt)}}else if(4===arguments.length){var mn=arguments[1],En=arguments[2],qn=arguments[3],ai=new he(arguments[0]);return ai.setQuadrantSegments(En),ai.setEndCapStyle(qn),ai.getResultGeometry(mn)}},he.precisionScaleFactor=function(f,m,_){var x=f.getEnvelopeInternal(),D=Tt.max(Math.abs(x.getMaxX()),Math.abs(x.getMaxY()),Math.abs(x.getMinX()),Math.abs(x.getMinY()))+2*(m>0?m:0),K=_-Math.trunc(Math.log(D)/Math.log(10)+1);return Math.pow(10,K)},gc.CAP_ROUND.get=function(){return Do.CAP_ROUND},gc.CAP_BUTT.get=function(){return Do.CAP_FLAT},gc.CAP_FLAT.get=function(){return Do.CAP_FLAT},gc.CAP_SQUARE.get=function(){return Do.CAP_SQUARE},gc.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(he,gc);var Bs=function(){this._pt=[new q,new q],this._distance=z.NaN,this._isNull=!0};Bs.prototype.getCoordinates=function(){return this._pt},Bs.prototype.getCoordinate=function(f){return this._pt[f]},Bs.prototype.setMinimum=function(){if(1===arguments.length){var f=arguments[0];this.setMinimum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x<this._distance&&this.initialize(m,_,x)}},Bs.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var f=arguments[0],m=arguments[1];this._pt[0].setCoordinate(f),this._pt[1].setCoordinate(m),this._distance=f.distance(m),this._isNull=!1}else if(3===arguments.length){var x=arguments[1],D=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(x),this._distance=D,this._isNull=!1}},Bs.prototype.getDistance=function(){return this._distance},Bs.prototype.setMaximum=function(){if(1===arguments.length){var f=arguments[0];this.setMaximum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x>this._distance&&this.initialize(m,_,x)}},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs};var xs=function(){};xs.prototype.interfaces_=function(){return[]},xs.prototype.getClass=function(){return xs},xs.computeDistance=function(){if(arguments[2]instanceof Bs&&arguments[0]instanceof Ri&&arguments[1]instanceof q)for(var m=arguments[1],_=arguments[2],x=arguments[0].getCoordinates(),D=new Bn,K=0;K<x.length-1;K++){D.setCoordinates(x[K],x[K+1]);var xt=D.closestPoint(m);_.setMinimum(xt,m)}else if(arguments[2]instanceof Bs&&arguments[0]instanceof fa&&arguments[1]instanceof q){var qt=arguments[0],_e=arguments[1],Ge=arguments[2];xs.computeDistance(qt.getExteriorRing(),_e,Ge);for(var mn=0;mn<qt.getNumInteriorRing();mn++)xs.computeDistance(qt.getInteriorRingN(mn),_e,Ge)}else if(arguments[2]instanceof Bs&&arguments[0]instanceof Ve&&arguments[1]instanceof q){var En=arguments[0],qn=arguments[1],ai=arguments[2];if(En instanceof Ri)xs.computeDistance(En,qn,ai);else if(En instanceof fa)xs.computeDistance(En,qn,ai);else if(En instanceof Fe)for(var gi=En,Jn=0;Jn<gi.getNumGeometries();Jn++){var ea=gi.getGeometryN(Jn);xs.computeDistance(ea,qn,ai)}else ai.setMinimum(En.getCoordinate(),qn)}else if(arguments[2]instanceof Bs&&arguments[0]instanceof Bn&&arguments[1]instanceof q){var oc=arguments[1],$u=arguments[2],Nd=arguments[0].closestPoint(oc);$u.setMinimum(Nd,oc)}};var wr=function(f){this._maxPtDist=new Bs,this._inputGeom=f||null},Si={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};wr.prototype.computeMaxMidpointDistance=function(f){var m=new po(this._inputGeom);f.apply(m),this._maxPtDist.setMaximum(m.getMaxPointDistance())},wr.prototype.computeMaxVertexDistance=function(f){var m=new mr(this._inputGeom);f.apply(m),this._maxPtDist.setMaximum(m.getMaxPointDistance())},wr.prototype.findDistance=function(f){return this.computeMaxVertexDistance(f),this.computeMaxMidpointDistance(f),this._maxPtDist.getDistance()},wr.prototype.getDistancePoints=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},Si.MaxPointDistanceFilter.get=function(){return mr},Si.MaxMidpointDistanceFilter.get=function(){return po},Object.defineProperties(wr,Si);var mr=function(f){this._maxPtDist=new Bs,this._minPtDist=new Bs,this._geom=f||null};mr.prototype.filter=function(f){this._minPtDist.initialize(),xs.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},mr.prototype.getMaxPointDistance=function(){return this._maxPtDist},mr.prototype.interfaces_=function(){return[dn]},mr.prototype.getClass=function(){return mr};var po=function(f){this._maxPtDist=new Bs,this._minPtDist=new Bs,this._geom=f||null};po.prototype.filter=function(f,m){if(0===m)return null;var _=f.getCoordinate(m-1),x=f.getCoordinate(m),D=new q((_.x+x.x)/2,(_.y+x.y)/2);this._minPtDist.initialize(),xs.computeDistance(this._geom,D,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},po.prototype.isDone=function(){return!1},po.prototype.isGeometryChanged=function(){return!1},po.prototype.getMaxPointDistance=function(){return this._maxPtDist},po.prototype.interfaces_=function(){return[$t]},po.prototype.getClass=function(){return po};var ds=function(f){this._comps=f||null};ds.prototype.filter=function(f){f instanceof fa&&this._comps.add(f)},ds.prototype.interfaces_=function(){return[Ft]},ds.prototype.getClass=function(){return ds},ds.getPolygons=function(){if(1===arguments.length)return ds.getPolygons(arguments[0],new nn);if(2===arguments.length){var m=arguments[0],_=arguments[1];return m instanceof fa?_.add(m):m instanceof Fe&&m.apply(new ds(_)),_}};var Ro=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var _=arguments[1];this._lines=arguments[0],this._isForcedToLineString=_}};Ro.prototype.filter=function(f){if(this._isForcedToLineString&&f instanceof Li){var m=f.getFactory().createLineString(f.getCoordinateSequence());return this._lines.add(m),null}f instanceof Ri&&this._lines.add(f)},Ro.prototype.setForceToLineString=function(f){this._isForcedToLineString=f},Ro.prototype.interfaces_=function(){return[Je]},Ro.prototype.getClass=function(){return Ro},Ro.getGeometry=function(){if(1===arguments.length){var f=arguments[0];return f.getFactory().buildGeometry(Ro.getLines(f))}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m.getFactory().buildGeometry(Ro.getLines(m,_))}},Ro.getLines=function(){if(1===arguments.length)return Ro.getLines(arguments[0],!1);if(2===arguments.length){if(se(arguments[0],We)&&se(arguments[1],We)){for(var _=arguments[1],x=arguments[0].iterator();x.hasNext();){var D=x.next();Ro.getLines(D,_)}return _}if(arguments[0]instanceof Ve&&"boolean"==typeof arguments[1]){var K=arguments[0],xt=arguments[1],qt=new nn;return K.apply(new Ro(qt,xt)),qt}if(arguments[0]instanceof Ve&&se(arguments[1],We)){var _e=arguments[0],Ge=arguments[1];return _e instanceof Ri?Ge.add(_e):_e.apply(new Ro(Ge)),Ge}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&se(arguments[0],We)&&se(arguments[1],We)){for(var En=arguments[1],qn=arguments[2],ai=arguments[0].iterator();ai.hasNext();){var gi=ai.next();Ro.getLines(gi,En,qn)}return En}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ve&&se(arguments[1],We)){var ea=arguments[1];return arguments[0].apply(new Ro(ea,arguments[2])),ea}}};var Ao=function(){if(this._boundaryRule=xn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var f=arguments[0];if(null===f)throw new nt("Rule must be non-null");this._boundaryRule=f}};Ao.prototype.locateInternal=function(){if(arguments[0]instanceof q&&arguments[1]instanceof fa){var f=arguments[0],m=arguments[1];if(m.isEmpty())return ut.EXTERIOR;var _=m.getExteriorRing(),x=this.locateInPolygonRing(f,_);if(x===ut.EXTERIOR)return ut.EXTERIOR;if(x===ut.BOUNDARY)return ut.BOUNDARY;for(var D=0;D<m.getNumInteriorRing();D++){var K=m.getInteriorRingN(D),xt=this.locateInPolygonRing(f,K);if(xt===ut.INTERIOR)return ut.EXTERIOR;if(xt===ut.BOUNDARY)return ut.BOUNDARY}return ut.INTERIOR}if(arguments[0]instanceof q&&arguments[1]instanceof Ri){var qt=arguments[0],_e=arguments[1];if(!_e.getEnvelopeInternal().intersects(qt))return ut.EXTERIOR;var Ge=_e.getCoordinates();return _e.isClosed()||!qt.equals(Ge[0])&&!qt.equals(Ge[Ge.length-1])?xe.isOnLine(qt,Ge)?ut.INTERIOR:ut.EXTERIOR:ut.BOUNDARY}if(arguments[0]instanceof q&&arguments[1]instanceof oo){var mn=arguments[0];return arguments[1].getCoordinate().equals2D(mn)?ut.INTERIOR:ut.EXTERIOR}},Ao.prototype.locateInPolygonRing=function(f,m){return m.getEnvelopeInternal().intersects(f)?xe.locatePointInRing(f,m.getCoordinates()):ut.EXTERIOR},Ao.prototype.intersects=function(f,m){return this.locate(f,m)!==ut.EXTERIOR},Ao.prototype.updateLocationInfo=function(f){f===ut.INTERIOR&&(this._isIn=!0),f===ut.BOUNDARY&&this._numBoundaries++},Ao.prototype.computeLocation=function(f,m){if(m instanceof oo&&this.updateLocationInfo(this.locateInternal(f,m)),m instanceof Ri)this.updateLocationInfo(this.locateInternal(f,m));else if(m instanceof fa)this.updateLocationInfo(this.locateInternal(f,m));else if(m instanceof en)for(var _=m,x=0;x<_.getNumGeometries();x++){var D=_.getGeometryN(x);this.updateLocationInfo(this.locateInternal(f,D))}else if(m instanceof as)for(var K=m,xt=0;xt<K.getNumGeometries();xt++){var qt=K.getGeometryN(xt);this.updateLocationInfo(this.locateInternal(f,qt))}else if(m instanceof Fe)for(var _e=new Ts(m);_e.hasNext();){var Ge=_e.next();Ge!==m&&this.computeLocation(f,Ge)}},Ao.prototype.locate=function(f,m){return m.isEmpty()?ut.EXTERIOR:m instanceof Ri||m instanceof fa?this.locateInternal(f,m):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(f,m),this._boundaryRule.isInBoundary(this._numBoundaries)?ut.BOUNDARY:this._numBoundaries>0||this._isIn?ut.INTERIOR:ut.EXTERIOR)},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao};var Qo=function f(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)f.call(this,arguments[0],f.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var D=arguments[1],K=arguments[2];this._component=arguments[0],this._segIndex=D,this._pt=K}},ns={INSIDE_AREA:{configurable:!0}};Qo.prototype.isInsideArea=function(){return this._segIndex===Qo.INSIDE_AREA},Qo.prototype.getCoordinate=function(){return this._pt},Qo.prototype.getGeometryComponent=function(){return this._component},Qo.prototype.getSegmentIndex=function(){return this._segIndex},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo},ns.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Qo,ns);var Ul=function(f){this._pts=f||null};Ul.prototype.filter=function(f){f instanceof oo&&this._pts.add(f)},Ul.prototype.interfaces_=function(){return[Ft]},Ul.prototype.getClass=function(){return Ul},Ul.getPoints=function(){if(1===arguments.length){var f=arguments[0];return f instanceof oo?Nr.singletonList(f):Ul.getPoints(f,new nn)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m instanceof oo?_.add(m):m instanceof Fe&&m.apply(new Ul(_)),_}};var Ec=function(){this._locations=null,this._locations=arguments[0]};Ec.prototype.filter=function(f){(f instanceof oo||f instanceof Ri||f instanceof fa)&&this._locations.add(new Qo(f,0,f.getCoordinate()))},Ec.prototype.interfaces_=function(){return[Ft]},Ec.prototype.getClass=function(){return Ec},Ec.getLocations=function(f){var m=new nn;return f.apply(new Ec(m)),m};var Hi=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Ao,this._minDistanceLocation=null,this._minDistance=z.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=_,this._geom[1]=x,this._terminateDistance=D}};Hi.prototype.computeContainmentDistance=function(){if(0===arguments.length){var f=new Array(2).fill(null);if(this.computeContainmentDistance(0,f),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1],x=1-m,D=ds.getPolygons(this._geom[m]);if(D.size()>0){var K=Ec.getLocations(this._geom[x]);if(this.computeContainmentDistance(K,D,_),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[x]=_[0],this._minDistanceLocation[m]=_[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&se(arguments[0],bn)&&se(arguments[1],bn)){for(var xt=arguments[0],qt=arguments[1],_e=arguments[2],Ge=0;Ge<xt.size();Ge++)for(var mn=xt.get(Ge),En=0;En<qt.size();En++)if(this.computeContainmentDistance(mn,qt.get(En),_e),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qo&&arguments[1]instanceof fa){var qn=arguments[0],ai=arguments[1],gi=arguments[2],Jn=qn.getCoordinate();if(ut.EXTERIOR!==this._ptLocator.locate(Jn,ai))return this._minDistance=0,gi[0]=qn,gi[1]=new Qo(ai,Jn),null}},Hi.prototype.computeMinDistanceLinesPoints=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K);if(this.computeMinDistance(D,xt,_),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.computeFacetDistance=function(){var f=new Array(2).fill(null),m=Ro.getLines(this._geom[0]),_=Ro.getLines(this._geom[1]),x=Ul.getPoints(this._geom[0]),D=Ul.getPoints(this._geom[1]);return this.computeMinDistanceLines(m,_,f),this.updateMinDistance(f,!1),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistanceLinesPoints(m,D,f),this.updateMinDistance(f,!1),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistanceLinesPoints(_,x,f),this.updateMinDistance(f,!0),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistancePoints(x,D,f),void this.updateMinDistance(f,!1))))},Hi.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Hi.prototype.updateMinDistance=function(f,m){if(null===f[0])return null;m?(this._minDistanceLocation[0]=f[1],this._minDistanceLocation[1]=f[0]):(this._minDistanceLocation[0]=f[0],this._minDistanceLocation[1]=f[1])},Hi.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Hi.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ri&&arguments[1]instanceof oo){var f=arguments[0],m=arguments[1],_=arguments[2];if(f.getEnvelopeInternal().distance(m.getEnvelopeInternal())>this._minDistance)return null;for(var x=f.getCoordinates(),D=m.getCoordinate(),K=0;K<x.length-1;K++){var xt=xe.distancePointLine(D,x[K],x[K+1]);if(xt<this._minDistance){this._minDistance=xt;var qt=new Bn(x[K],x[K+1]).closestPoint(D);_[0]=new Qo(f,K,qt),_[1]=new Qo(m,0,D)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ri&&arguments[1]instanceof Ri){var _e=arguments[0],Ge=arguments[1],mn=arguments[2];if(_e.getEnvelopeInternal().distance(Ge.getEnvelopeInternal())>this._minDistance)return null;for(var En=_e.getCoordinates(),qn=Ge.getCoordinates(),ai=0;ai<En.length-1;ai++)for(var gi=0;gi<qn.length-1;gi++){var Jn=xe.distanceLineLine(En[ai],En[ai+1],qn[gi],qn[gi+1]);if(Jn<this._minDistance){this._minDistance=Jn;var ea=new Bn(En[ai],En[ai+1]),ol=new Bn(qn[gi],qn[gi+1]),oc=ea.closestPoints(ol);mn[0]=new Qo(_e,ai,oc[0]),mn[1]=new Qo(Ge,gi,oc[1])}if(this._minDistance<=this._terminateDistance)return null}}},Hi.prototype.computeMinDistancePoints=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K),qt=D.getCoordinate().distance(xt.getCoordinate());if(qt<this._minDistance&&(this._minDistance=qt,_[0]=new Qo(D,0,D.getCoordinate()),_[1]=new Qo(xt,0,xt.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new nt("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Hi.prototype.computeMinDistanceLines=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K);if(this.computeMinDistance(D,xt,_),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.distance=function(f,m){return new Hi(f,m).distance()},Hi.isWithinDistance=function(f,m,_){return new Hi(f,m,_).distance()<=_},Hi.nearestPoints=function(f,m){return new Hi(f,m).nearestPoints()};var Is=function(){this._pt=[new q,new q],this._distance=z.NaN,this._isNull=!0};Is.prototype.getCoordinates=function(){return this._pt},Is.prototype.getCoordinate=function(f){return this._pt[f]},Is.prototype.setMinimum=function(){if(1===arguments.length){var f=arguments[0];this.setMinimum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x<this._distance&&this.initialize(m,_,x)}},Is.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var f=arguments[0],m=arguments[1];this._pt[0].setCoordinate(f),this._pt[1].setCoordinate(m),this._distance=f.distance(m),this._isNull=!1}else if(3===arguments.length){var x=arguments[1],D=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(x),this._distance=D,this._isNull=!1}},Is.prototype.toString=function(){return vt.toLineString(this._pt[0],this._pt[1])},Is.prototype.getDistance=function(){return this._distance},Is.prototype.setMaximum=function(){if(1===arguments.length){var f=arguments[0];this.setMaximum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x>this._distance&&this.initialize(m,_,x)}},Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is};var pl=function(){};pl.prototype.interfaces_=function(){return[]},pl.prototype.getClass=function(){return pl},pl.computeDistance=function(){if(arguments[2]instanceof Is&&arguments[0]instanceof Ri&&arguments[1]instanceof q)for(var f=arguments[0],m=arguments[1],_=arguments[2],x=new Bn,D=f.getCoordinates(),K=0;K<D.length-1;K++){x.setCoordinates(D[K],D[K+1]);var xt=x.closestPoint(m);_.setMinimum(xt,m)}else if(arguments[2]instanceof Is&&arguments[0]instanceof fa&&arguments[1]instanceof q){var qt=arguments[0],_e=arguments[1],Ge=arguments[2];pl.computeDistance(qt.getExteriorRing(),_e,Ge);for(var mn=0;mn<qt.getNumInteriorRing();mn++)pl.computeDistance(qt.getInteriorRingN(mn),_e,Ge)}else if(arguments[2]instanceof Is&&arguments[0]instanceof Ve&&arguments[1]instanceof q){var En=arguments[0],qn=arguments[1],ai=arguments[2];if(En instanceof Ri)pl.computeDistance(En,qn,ai);else if(En instanceof fa)pl.computeDistance(En,qn,ai);else if(En instanceof Fe)for(var gi=En,Jn=0;Jn<gi.getNumGeometries();Jn++){var ea=gi.getGeometryN(Jn);pl.computeDistance(ea,qn,ai)}else ai.setMinimum(En.getCoordinate(),qn)}else if(arguments[2]instanceof Is&&arguments[0]instanceof Bn&&arguments[1]instanceof q){var oc=arguments[1],$u=arguments[2],Nd=arguments[0].closestPoint(oc);$u.setMinimum(Nd,oc)}};var Gl=function(){this._g0=null,this._g1=null,this._ptDist=new Is,this._densifyFrac=0;var m=arguments[1];this._g0=arguments[0],this._g1=m},hs={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Gl.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Gl.prototype.setDensifyFraction=function(f){if(f>1||f<=0)throw new nt("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=f},Gl.prototype.compute=function(f,m){this.computeOrientedDistance(f,m,this._ptDist),this.computeOrientedDistance(m,f,this._ptDist)},Gl.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Gl.prototype.computeOrientedDistance=function(f,m,_){var x=new gs(m);if(f.apply(x),_.setMaximum(x.getMaxPointDistance()),this._densifyFrac>0){var D=new Vs(m,this._densifyFrac);f.apply(D),_.setMaximum(D.getMaxPointDistance())}},Gl.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl},Gl.distance=function(){if(2===arguments.length)return new Gl(arguments[0],arguments[1]).distance();if(3===arguments.length){var D=arguments[2],K=new Gl(arguments[0],arguments[1]);return K.setDensifyFraction(D),K.distance()}},hs.MaxPointDistanceFilter.get=function(){return gs},hs.MaxDensifiedByFractionDistanceFilter.get=function(){return Vs},Object.defineProperties(Gl,hs);var gs=function(){this._maxPtDist=new Is,this._minPtDist=new Is,this._euclideanDist=new pl,this._geom=null,this._geom=arguments[0]};gs.prototype.filter=function(f){this._minPtDist.initialize(),pl.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},gs.prototype.getMaxPointDistance=function(){return this._maxPtDist},gs.prototype.interfaces_=function(){return[dn]},gs.prototype.getClass=function(){return gs};var Vs=function(){this._maxPtDist=new Is,this._minPtDist=new Is,this._geom=null,this._numSubSegs=0;var m=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/m))};Vs.prototype.filter=function(f,m){if(0===m)return null;for(var _=f.getCoordinate(m-1),x=f.getCoordinate(m),D=(x.x-_.x)/this._numSubSegs,K=(x.y-_.y)/this._numSubSegs,xt=0;xt<this._numSubSegs;xt++){var Ge=new q(_.x+xt*D,_.y+xt*K);this._minPtDist.initialize(),pl.computeDistance(this._geom,Ge,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Vs.prototype.isDone=function(){return!1},Vs.prototype.isGeometryChanged=function(){return!1},Vs.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vs.prototype.interfaces_=function(){return[$t]},Vs.prototype.getClass=function(){return Vs};var Jo=function(f,m,_){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=f||null,this._bufDistance=m||null,this._result=_||null},ws={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Jo.prototype.checkMaximumDistance=function(f,m,_){var x=new Gl(m,f);if(x.setDensifyFraction(.25),this._maxDistanceFound=x.orientedDistance(),this._maxDistanceFound>_){this._isValid=!1;var D=x.getCoordinates();this._errorLocation=D[1],this._errorIndicator=f.getFactory().createLineString(D),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+vt.toLineString(D[0],D[1])+")"}},Jo.prototype.isValid=function(){var f=Math.abs(this._bufDistance),m=Jo.MAX_DISTANCE_DIFF_FRAC*f;return this._minValidDistance=f-m,this._maxValidDistance=f+m,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Jo.VERBOSE&&we.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Jo.prototype.checkNegativeValid=function(){if(!(this._input instanceof fa||this._input instanceof as||this._input instanceof Fe))return null;var f=this.getPolygonLines(this._input);if(this.checkMinimumDistance(f,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(f,this._result,this._maxValidDistance)},Jo.prototype.getErrorIndicator=function(){return this._errorIndicator},Jo.prototype.checkMinimumDistance=function(f,m,_){var x=new Hi(f,m,_);if(this._minDistanceFound=x.distance(),this._minDistanceFound<_){this._isValid=!1;var D=x.nearestPoints();this._errorLocation=x.nearestPoints()[1],this._errorIndicator=f.getFactory().createLineString(D),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+vt.toLineString(D[0],D[1])+" )"}},Jo.prototype.checkPositiveValid=function(){var f=this._result.getBoundary();if(this.checkMinimumDistance(this._input,f,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,f,this._maxValidDistance)},Jo.prototype.getErrorLocation=function(){return this._errorLocation},Jo.prototype.getPolygonLines=function(f){for(var m=new nn,_=new Ro(m),x=ds.getPolygons(f).iterator();x.hasNext();)x.next().apply(_);return f.getFactory().buildGeometry(m)},Jo.prototype.getErrorMessage=function(){return this._errMsg},Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo},ws.VERBOSE.get=function(){return!1},ws.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Jo,ws);var ma=function(f,m,_){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=f||null,this._distance=m||null,this._result=_||null},Pu={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ma.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ma.prototype.checkEnvelope=function(){if(this._distance<0)return null;var f=this._distance*ma.MAX_ENV_DIFF_FRAC;0===f&&(f=.001);var m=new wt(this._input.getEnvelopeInternal());m.expandBy(this._distance);var _=new wt(this._result.getEnvelopeInternal());_.expandBy(f),_.contains(m)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(_)),this.report("Envelope")},ma.prototype.checkDistance=function(){var f=new Jo(this._input,this._distance,this._result);f.isValid()||(this._isValid=!1,this._errorMsg=f.getErrorMessage(),this._errorLocation=f.getErrorLocation(),this._errorIndicator=f.getErrorIndicator()),this.report("Distance")},ma.prototype.checkArea=function(){var f=this._input.getArea(),m=this._result.getArea();this._distance>0&&f>m&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&f<m&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ma.prototype.checkPolygonal=function(){this._result instanceof fa||this._result instanceof as||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ma.prototype.getErrorIndicator=function(){return this._errorIndicator},ma.prototype.getErrorLocation=function(){return this._errorLocation},ma.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ma.prototype.report=function(f){if(!ma.VERBOSE)return null;we.out.println("Check "+f+": "+(this._isValid?"passed":"FAILED"))},ma.prototype.getErrorMessage=function(){return this._errorMsg},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma},ma.isValidMsg=function(f,m,_){var x=new ma(f,m,_);return x.isValid()?null:x.getErrorMessage()},ma.isValid=function(f,m,_){return!!new ma(f,m,_).isValid()},Pu.VERBOSE.get=function(){return!1},Pu.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ma,Pu);var Fr=function(){this._pts=null,this._data=null;var m=arguments[1];this._pts=arguments[0],this._data=m};Fr.prototype.getCoordinates=function(){return this._pts},Fr.prototype.size=function(){return this._pts.length},Fr.prototype.getCoordinate=function(f){return this._pts[f]},Fr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Fr.prototype.getSegmentOctant=function(f){return f===this._pts.length-1?-1:Cc.octant(this.getCoordinate(f),this.getCoordinate(f+1))},Fr.prototype.setData=function(f){this._data=f},Fr.prototype.getData=function(){return this._data},Fr.prototype.toString=function(){return vt.toLineString(new Pr(this._pts))},Fr.prototype.interfaces_=function(){return[Ko]},Fr.prototype.getClass=function(){return Fr};var zs=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nn,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};zs.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zs.prototype.setCheckEndSegmentsOnly=function(f){this._isCheckEndSegmentsOnly=f},zs.prototype.getIntersectionSegments=function(){return this._intSegments},zs.prototype.count=function(){return this._intersectionCount},zs.prototype.getIntersections=function(){return this._intersections},zs.prototype.setFindAllIntersections=function(f){this._findAllIntersections=f},zs.prototype.setKeepIntersections=function(f){this._keepIntersections=f},zs.prototype.processIntersections=function(f,m,_,x){if(!this._findAllIntersections&&this.hasIntersection()||f===_&&m===x||this._isCheckEndSegmentsOnly&&!this.isEndSegment(f,m)&&!this.isEndSegment(_,x))return null;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],qt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,qt),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=D,this._intSegments[1]=K,this._intSegments[2]=xt,this._intSegments[3]=qt,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zs.prototype.isEndSegment=function(f,m){return 0===m||m>=f.size()-2},zs.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zs.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zs.prototype.interfaces_=function(){return[lr]},zs.prototype.getClass=function(){return zs},zs.createAllIntersectionsFinder=function(f){var m=new zs(f);return m.setFindAllIntersections(!0),m},zs.createAnyIntersectionFinder=function(f){return new zs(f)},zs.createIntersectionCounter=function(f){var m=new zs(f);return m.setFindAllIntersections(!0),m.setKeepIntersections(!1),m};var ml=function(){this._li=new Ot,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};ml.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},ml.prototype.getIntersections=function(){return this._segInt.getIntersections()},ml.prototype.isValid=function(){return this.execute(),this._isValid},ml.prototype.setFindAllIntersections=function(f){this._findAllIntersections=f},ml.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zs(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var f=new Eh;if(f.setSegmentIntersector(this._segInt),f.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},ml.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new _n(this.getErrorMessage(),this._segInt.getInteriorIntersection())},ml.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var f=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+vt.toLineString(f[0],f[1])+" and "+vt.toLineString(f[2],f[3])},ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml},ml.computeIntersections=function(f){var m=new ml(f);return m.setFindAllIntersections(!0),m.isValid(),m.getIntersections()};var Hl=function f(){this._nv=null,this._nv=new ml(f.toSegmentStrings(arguments[0]))};Hl.prototype.checkValid=function(){this._nv.checkValid()},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl},Hl.toSegmentStrings=function(f){for(var m=new nn,_=f.iterator();_.hasNext();){var x=_.next();m.add(new Fr(x.getCoordinates(),x))}return m},Hl.checkValid=function(f){new Hl(f).checkValid()};var Tc=function(f){this._mapOp=f};Tc.prototype.map=function(f){for(var m=new nn,_=0;_<f.getNumGeometries();_++){var x=this._mapOp.map(f.getGeometryN(_));x.isEmpty()||m.add(x)}return f.getFactory().createGeometryCollection(sn.toGeometryArray(m))},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc},Tc.map=function(f,m){return new Tc(m).map(f)};var ta=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nn,this._resultLineList=new nn;var m=arguments[1],_=arguments[2];this._op=arguments[0],this._geometryFactory=m,this._ptLocator=_};ta.prototype.collectLines=function(f){for(var m=this._op.getGraph().getEdgeEnds().iterator();m.hasNext();){var _=m.next();this.collectLineEdge(_,f,this._lineEdgesList),this.collectBoundaryTouchEdge(_,f,this._lineEdgesList)}},ta.prototype.labelIsolatedLine=function(f,m){var _=this._ptLocator.locate(f.getCoordinate(),this._op.getArgGeometry(m));f.getLabel().setLocation(m,_)},ta.prototype.build=function(f){return this.findCoveredLineEdges(),this.collectLines(f),this.buildLines(f),this._resultLineList},ta.prototype.collectLineEdge=function(f,m,_){var x=f.getLabel(),D=f.getEdge();f.isLineEdge()&&(f.isVisited()||!Ae.isResultOfOp(x,m)||D.isCovered()||(_.add(D),f.setVisitedEdge(!0)))},ta.prototype.findCoveredLineEdges=function(){for(var f=this._op.getGraph().getNodes().iterator();f.hasNext();)f.next().getEdges().findCoveredLineEdges();for(var m=this._op.getGraph().getEdgeEnds().iterator();m.hasNext();){var _=m.next(),x=_.getEdge();if(_.isLineEdge()&&!x.isCoveredSet()){var D=this._op.isCoveredByA(_.getCoordinate());x.setCovered(D)}}},ta.prototype.labelIsolatedLines=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next(),x=_.getLabel();_.isIsolated()&&(x.isNull(0)?this.labelIsolatedLine(_,0):this.labelIsolatedLine(_,1))}},ta.prototype.buildLines=function(f){for(var m=this._lineEdgesList.iterator();m.hasNext();){var _=m.next(),x=this._geometryFactory.createLineString(_.getCoordinates());this._resultLineList.add(x),_.setInResult(!0)}},ta.prototype.collectBoundaryTouchEdge=function(f,m,_){var x=f.getLabel();return f.isLineEdge()||f.isVisited()||f.isInteriorAreaEdge()||f.getEdge().isInResult()?null:(U.isTrue(!(f.isInResult()||f.getSym().isInResult())||!f.getEdge().isInResult()),void(Ae.isResultOfOp(x,m)&&m===Ae.INTERSECTION&&(_.add(f.getEdge()),f.setVisitedEdge(!0))))},ta.prototype.interfaces_=function(){return[]},ta.prototype.getClass=function(){return ta};var vc=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nn;var m=arguments[1];this._op=arguments[0],this._geometryFactory=m};vc.prototype.filterCoveredNodeToPoint=function(f){var m=f.getCoordinate();if(!this._op.isCoveredByLA(m)){var _=this._geometryFactory.createPoint(m);this._resultPointList.add(_)}},vc.prototype.extractNonCoveredResultNodes=function(f){for(var m=this._op.getGraph().getNodes().iterator();m.hasNext();){var _=m.next();if(!(_.isInResult()||_.isIncidentEdgeInResult()||0!==_.getEdges().getDegree()&&f!==Ae.INTERSECTION)){var x=_.getLabel();Ae.isResultOfOp(x,f)&&this.filterCoveredNodeToPoint(_)}}},vc.prototype.build=function(f){return this.extractNonCoveredResultNodes(f),this._resultPointList},vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc};var Lo=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Lo.prototype.transformPoint=function(f,m){return this._factory.createPoint(this.transformCoordinates(f.getCoordinateSequence(),f))},Lo.prototype.transformPolygon=function(f,m){var _=!0,x=this.transformLinearRing(f.getExteriorRing(),f);null!==x&&x instanceof Li&&!x.isEmpty()||(_=!1);for(var D=new nn,K=0;K<f.getNumInteriorRing();K++){var xt=this.transformLinearRing(f.getInteriorRingN(K),f);null===xt||xt.isEmpty()||(xt instanceof Li||(_=!1),D.add(xt))}if(_)return this._factory.createPolygon(x,D.toArray([]));var qt=new nn;return null!==x&&qt.add(x),qt.addAll(D),this._factory.buildGeometry(qt)},Lo.prototype.createCoordinateSequence=function(f){return this._factory.getCoordinateSequenceFactory().create(f)},Lo.prototype.getInputGeometry=function(){return this._inputGeom},Lo.prototype.transformMultiLineString=function(f,m){for(var _=new nn,x=0;x<f.getNumGeometries();x++){var D=this.transformLineString(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},Lo.prototype.transformCoordinates=function(f,m){return this.copy(f)},Lo.prototype.transformLineString=function(f,m){return this._factory.createLineString(this.transformCoordinates(f.getCoordinateSequence(),f))},Lo.prototype.transformMultiPoint=function(f,m){for(var _=new nn,x=0;x<f.getNumGeometries();x++){var D=this.transformPoint(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},Lo.prototype.transformMultiPolygon=function(f,m){for(var _=new nn,x=0;x<f.getNumGeometries();x++){var D=this.transformPolygon(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},Lo.prototype.copy=function(f){return f.copy()},Lo.prototype.transformGeometryCollection=function(f,m){for(var _=new nn,x=0;x<f.getNumGeometries();x++){var D=this.transform(f.getGeometryN(x));null!==D&&(this._pruneEmptyGeometry&&D.isEmpty()||_.add(D))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(sn.toGeometryArray(_)):this._factory.buildGeometry(_)},Lo.prototype.transform=function(f){if(this._inputGeom=f,this._factory=f.getFactory(),f instanceof oo)return this.transformPoint(f,null);if(f instanceof bl)return this.transformMultiPoint(f,null);if(f instanceof Li)return this.transformLinearRing(f,null);if(f instanceof Ri)return this.transformLineString(f,null);if(f instanceof en)return this.transformMultiLineString(f,null);if(f instanceof fa)return this.transformPolygon(f,null);if(f instanceof as)return this.transformMultiPolygon(f,null);if(f instanceof Fe)return this.transformGeometryCollection(f,null);throw new nt("Unknown Geometry subtype: "+f.getClass().getName())},Lo.prototype.transformLinearRing=function(f,m){var _=this.transformCoordinates(f.getCoordinateSequence(),f);if(null===_)return this._factory.createLinearRing(null);var x=_.size();return x>0&&x<4&&!this._preserveType?this._factory.createLineString(_):this._factory.createLinearRing(_)},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo};var rl=function f(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Bn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ri&&"number"==typeof arguments[1]){var _=arguments[1];f.call(this,arguments[0].getCoordinates(),_)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var x=arguments[0],D=arguments[1];this._srcPts=x,this._isClosed=f.isClosed(x),this._snapTolerance=D}};rl.prototype.snapVertices=function(f,m){for(var _=this._isClosed?f.size()-1:f.size(),x=0;x<_;x++){var D=f.get(x),K=this.findSnapForVertex(D,m);null!==K&&(f.set(x,new q(K)),0===x&&this._isClosed&&f.set(f.size()-1,new q(K)))}},rl.prototype.findSnapForVertex=function(f,m){for(var _=0;_<m.length;_++){if(f.equals2D(m[_]))return null;if(f.distance(m[_])<this._snapTolerance)return m[_]}return null},rl.prototype.snapTo=function(f){var m=new zt(this._srcPts);return this.snapVertices(m,f),this.snapSegments(m,f),m.toCoordinateArray()},rl.prototype.snapSegments=function(f,m){if(0===m.length)return null;var _=m.length;m[0].equals2D(m[m.length-1])&&(_=m.length-1);for(var x=0;x<_;x++){var D=m[x],K=this.findSegmentIndexToSnap(D,f);K>=0&&f.add(K+1,new q(D),!1)}},rl.prototype.findSegmentIndexToSnap=function(f,m){for(var _=z.MAX_VALUE,x=-1,D=0;D<m.size()-1;D++){if(this._seg.p0=m.get(D),this._seg.p1=m.get(D+1),this._seg.p0.equals2D(f)||this._seg.p1.equals2D(f)){if(this._allowSnappingToSourceVertices)continue;return-1}var K=this._seg.distance(f);K<this._snapTolerance&&K<_&&(_=K,x=D)}return x},rl.prototype.setAllowSnappingToSourceVertices=function(f){this._allowSnappingToSourceVertices=f},rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl},rl.isClosed=function(f){return!(f.length<=1)&&f[0].equals2D(f[f.length-1])};var mo=function(f){this._srcGeom=f||null},jl={SNAP_PRECISION_FACTOR:{configurable:!0}};mo.prototype.snapTo=function(f,m){var _=this.extractTargetCoordinates(f);return new jc(m,_).transform(this._srcGeom)},mo.prototype.snapToSelf=function(f,m){var _=this.extractTargetCoordinates(this._srcGeom),x=new jc(f,_,!0).transform(this._srcGeom),D=x;return m&&se(D,ho)&&(D=x.buffer(0)),D},mo.prototype.computeSnapTolerance=function(f){return this.computeMinimumSegmentLength(f)/10},mo.prototype.extractTargetCoordinates=function(f){for(var m=new V,_=f.getCoordinates(),x=0;x<_.length;x++)m.add(_[x]);return m.toArray(new Array(0).fill(null))},mo.prototype.computeMinimumSegmentLength=function(f){for(var m=z.MAX_VALUE,_=0;_<f.length-1;_++){var x=f[_].distance(f[_+1]);x<m&&(m=x)}return m},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.snap=function(f,m,_){var x=new Array(2).fill(null),D=new mo(f);x[0]=D.snapTo(m,_);var K=new mo(m);return x[1]=K.snapTo(x[0],_),x},mo.computeOverlaySnapTolerance=function(){if(1===arguments.length){var f=arguments[0],m=mo.computeSizeBasedSnapTolerance(f),_=f.getPrecisionModel();if(_.getType()===ie.FIXED){var x=1/_.getScale()*2/1.415;x>m&&(m=x)}return m}if(2===arguments.length){var K=arguments[1];return Math.min(mo.computeOverlaySnapTolerance(arguments[0]),mo.computeOverlaySnapTolerance(K))}},mo.computeSizeBasedSnapTolerance=function(f){var m=f.getEnvelopeInternal();return Math.min(m.getHeight(),m.getWidth())*mo.SNAP_PRECISION_FACTOR},mo.snapToSelf=function(f,m,_){return new mo(f).snapToSelf(m,_)},jl.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(mo,jl);var jc=function(f){function m(_,x,D){f.call(this),this._snapTolerance=_||null,this._snapPts=x||null,this._isSelfSnap=void 0!==D&&D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.snapLine=function(_,x){var D=new rl(_,this._snapTolerance);return D.setAllowSnappingToSourceVertices(this._isSelfSnap),D.snapTo(x)},m.prototype.transformCoordinates=function(_,x){var D=_.toCoordinateArray(),K=this.snapLine(D,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Lo),is=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};is.prototype.getCommon=function(){return z.longBitsToDouble(this._commonBits)},is.prototype.add=function(f){var m=z.doubleToLongBits(f);return this._isFirst?(this._commonBits=m,this._commonSignExp=is.signExpBits(this._commonBits),this._isFirst=!1,null):is.signExpBits(m)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=is.numCommonMostSigMantissaBits(this._commonBits,m),void(this._commonBits=is.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},is.prototype.toString=function(){if(1===arguments.length){var f=arguments[0],m=z.longBitsToDouble(f),_="0000000000000000000000000000000000000000000000000000000000000000"+z.toBinaryString(f),x=_.substring(_.length-64);return x.substring(0,1)+"  "+x.substring(1,12)+"(exp) "+x.substring(12)+" [ "+m+" ]"}},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is},is.getBit=function(f,m){return f&1<<m?1:0},is.signExpBits=function(f){return f>>52},is.zeroLowerBits=function(f,m){return f&~((1<<m)-1)},is.numCommonMostSigMantissaBits=function(f,m){for(var _=0,x=52;x>=0;x--){if(is.getBit(f,x)!==is.getBit(m,x))return _;_++}return 52};var $a=function(){this._commonCoord=null,this._ccFilter=new v},Wl={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$a.prototype.addCommonBits=function(f){var m=new T(this._commonCoord);f.apply(m),f.geometryChanged()},$a.prototype.removeCommonBits=function(f){if(0===this._commonCoord.x&&0===this._commonCoord.y)return f;var m=new q(this._commonCoord);m.x=-m.x,m.y=-m.y;var _=new T(m);return f.apply(_),f.geometryChanged(),f},$a.prototype.getCommonCoordinate=function(){return this._commonCoord},$a.prototype.add=function(f){f.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$a.prototype.interfaces_=function(){return[]},$a.prototype.getClass=function(){return $a},Wl.CommonCoordinateFilter.get=function(){return v},Wl.Translater.get=function(){return T},Object.defineProperties($a,Wl);var v=function(){this._commonBitsX=new is,this._commonBitsY=new is};v.prototype.filter=function(f){this._commonBitsX.add(f.x),this._commonBitsY.add(f.y)},v.prototype.getCommonCoordinate=function(){return new q(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},v.prototype.interfaces_=function(){return[dn]},v.prototype.getClass=function(){return v};var T=function(){this.trans=null,this.trans=arguments[0]};T.prototype.filter=function(f,m){var _=f.getOrdinate(m,0)+this.trans.x,x=f.getOrdinate(m,1)+this.trans.y;f.setOrdinate(m,0,_),f.setOrdinate(m,1,x)},T.prototype.isDone=function(){return!1},T.prototype.isGeometryChanged=function(){return!0},T.prototype.interfaces_=function(){return[$t]},T.prototype.getClass=function(){return T};var B=function(f,m){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=f,this._geom[1]=m,this.computeSnapTolerance()};B.prototype.selfSnap=function(f){return new mo(f).snapTo(f,this._snapTolerance)},B.prototype.removeCommonBits=function(f){this._cbr=new $a,this._cbr.add(f[0]),this._cbr.add(f[1]);var m=new Array(2).fill(null);return m[0]=this._cbr.removeCommonBits(f[0].copy()),m[1]=this._cbr.removeCommonBits(f[1].copy()),m},B.prototype.prepareResult=function(f){return this._cbr.addCommonBits(f),f},B.prototype.getResultGeometry=function(f){var m=this.snap(this._geom),_=Ae.overlayOp(m[0],m[1],f);return this.prepareResult(_)},B.prototype.checkValid=function(f){f.isValid()||we.out.println("Snapped geometry is invalid")},B.prototype.computeSnapTolerance=function(){this._snapTolerance=mo.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},B.prototype.snap=function(f){var m=this.removeCommonBits(f);return mo.snap(m[0],m[1],this._snapTolerance)},B.prototype.interfaces_=function(){return[]},B.prototype.getClass=function(){return B},B.overlayOp=function(f,m,_){return new B(f,m).getResultGeometry(_)},B.union=function(f,m){return B.overlayOp(f,m,Ae.UNION)},B.intersection=function(f,m){return B.overlayOp(f,m,Ae.INTERSECTION)},B.symDifference=function(f,m){return B.overlayOp(f,m,Ae.SYMDIFFERENCE)},B.difference=function(f,m){return B.overlayOp(f,m,Ae.DIFFERENCE)};var mt=function(f,m){this._geom=new Array(2).fill(null),this._geom[0]=f,this._geom[1]=m};mt.prototype.getResultGeometry=function(f){var m=null,_=!1,x=null;try{m=Ae.overlayOp(this._geom[0],this._geom[1],f),_=!0}catch(D){if(!(D instanceof M))throw D;x=D}if(!_)try{m=B.overlayOp(this._geom[0],this._geom[1],f)}catch(D){throw D instanceof M?x:D}return m},mt.prototype.interfaces_=function(){return[]},mt.prototype.getClass=function(){return mt},mt.overlayOp=function(f,m,_){return new mt(f,m).getResultGeometry(_)},mt.union=function(f,m){return mt.overlayOp(f,m,Ae.UNION)},mt.intersection=function(f,m){return mt.overlayOp(f,m,Ae.INTERSECTION)},mt.symDifference=function(f,m){return mt.overlayOp(f,m,Ae.SYMDIFFERENCE)},mt.difference=function(f,m){return mt.overlayOp(f,m,Ae.DIFFERENCE)};var Ut=function(){this.mce=null,this.chainIndex=null;var m=arguments[1];this.mce=arguments[0],this.chainIndex=m};Ut.prototype.computeIntersections=function(f,m){this.mce.computeIntersectsForChain(this.chainIndex,f.mce,f.chainIndex,m)},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var me=function f(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var m=arguments[0],_=arguments[1];this._eventType=f.DELETE,this._xValue=m,this._insertEvent=_}else if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2];this._eventType=f.INSERT,this._label=x,this._xValue=D,this._obj=K}},Ze={INSERT:{configurable:!0},DELETE:{configurable:!0}};me.prototype.isDelete=function(){return this._eventType===me.DELETE},me.prototype.setDeleteEventIndex=function(f){this._deleteEventIndex=f},me.prototype.getObject=function(){return this._obj},me.prototype.compareTo=function(f){return this._xValue<f._xValue?-1:this._xValue>f._xValue?1:this._eventType<f._eventType?-1:this._eventType>f._eventType?1:0},me.prototype.getInsertEvent=function(){return this._insertEvent},me.prototype.isInsert=function(){return this._eventType===me.INSERT},me.prototype.isSameLabel=function(f){return null!==this._label&&this._label===f._label},me.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},me.prototype.interfaces_=function(){return[gt]},me.prototype.getClass=function(){return me},Ze.INSERT.get=function(){return 1},Ze.DELETE.get=function(){return 2},Object.defineProperties(me,Ze);var yn=function(){};yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var Sn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var m=arguments[1],_=arguments[2];this._li=arguments[0],this._includeProper=m,this._recordIsolated=_};Sn.prototype.isTrivialIntersection=function(f,m,_,x){if(f===_&&1===this._li.getIntersectionNum()){if(Sn.isAdjacentSegments(m,x))return!0;if(f.isClosed()){var D=f.getNumPoints()-1;if(0===m&&x===D||0===x&&m===D)return!0}}return!1},Sn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Sn.prototype.setIsDoneIfProperInt=function(f){this._isDoneWhenProperInt=f},Sn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Sn.prototype.isBoundaryPointInternal=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next().getCoordinate();if(f.isIntersection(x))return!0}return!1},Sn.prototype.hasProperIntersection=function(){return this._hasProper},Sn.prototype.hasIntersection=function(){return this._hasIntersection},Sn.prototype.isDone=function(){return this._isDone},Sn.prototype.isBoundaryPoint=function(f,m){return!(null===m||!this.isBoundaryPointInternal(f,m[0])&&!this.isBoundaryPointInternal(f,m[1]))},Sn.prototype.setBoundaryNodes=function(f,m){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=f,this._bdyNodes[1]=m},Sn.prototype.addIntersections=function(f,m,_,x){if(f===_&&m===x)return null;this.numTests++;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],qt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,qt),this._li.hasIntersection()&&(this._recordIsolated&&(f.setIsolated(!1),_.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(f,m,_,x)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.isAdjacentSegments=function(f,m){return 1===Math.abs(f-m)};var Yn=function(f){function m(){f.call(this),this.events=new nn,this.nOverlaps=null}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.prepareEvents=function(){Nr.sort(this.events);for(var _=0;_<this.events.size();_++){var x=this.events.get(_);x.isDelete()&&x.getInsertEvent().setDeleteEventIndex(_)}},m.prototype.computeIntersections=function(){if(1===arguments.length){var _=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var x=0;x<this.events.size();x++){var D=this.events.get(x);if(D.isInsert()&&this.processOverlaps(x,D.getDeleteEventIndex(),D,_),_.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Sn&&se(arguments[0],bn)&&se(arguments[1],bn)){var K=arguments[0],xt=arguments[1],qt=arguments[2];this.addEdges(K,K),this.addEdges(xt,xt),this.computeIntersections(qt)}else if("boolean"==typeof arguments[2]&&se(arguments[0],bn)&&arguments[1]instanceof Sn){var _e=arguments[0],Ge=arguments[1];arguments[2]?this.addEdges(_e,null):this.addEdges(_e),this.computeIntersections(Ge)}},m.prototype.addEdge=function(_,x){for(var D=_.getMonotoneChainEdge(),K=D.getStartIndexes(),xt=0;xt<K.length-1;xt++){var qt=new Ut(D,xt),_e=new me(x,D.getMinX(xt),qt);this.events.add(_e),this.events.add(new me(D.getMaxX(xt),_e))}},m.prototype.processOverlaps=function(_,x,D,K){for(var xt=D.getObject(),qt=_;qt<x;qt++){var _e=this.events.get(qt);if(_e.isInsert()){var Ge=_e.getObject();D.isSameLabel(_e)||(xt.computeIntersections(Ge,K),this.nOverlaps++)}}},m.prototype.addEdges=function(){if(1===arguments.length)for(var _=arguments[0].iterator();_.hasNext();){var x=_.next();this.addEdge(x,x)}else if(2===arguments.length)for(var K=arguments[1],xt=arguments[0].iterator();xt.hasNext();){var qt=xt.next();this.addEdge(qt,K)}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(yn),hi=function(){this._min=z.POSITIVE_INFINITY,this._max=z.NEGATIVE_INFINITY},cr={NodeComparator:{configurable:!0}};hi.prototype.getMin=function(){return this._min},hi.prototype.intersects=function(f,m){return!(this._min>m||this._max<f)},hi.prototype.getMax=function(){return this._max},hi.prototype.toString=function(){return vt.toLineString(new q(this._min,0),new q(this._max,0))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},cr.NodeComparator.get=function(){return Oo},Object.defineProperties(hi,cr);var Oo=function(){};Oo.prototype.compare=function(f,m){var D=(f._min+f._max)/2,K=(m._min+m._max)/2;return D<K?-1:D>K?1:0},Oo.prototype.interfaces_=function(){return[Ct]},Oo.prototype.getClass=function(){return Oo};var ku=function(f){function m(){f.call(this),this._item=null;var x=arguments[1],D=arguments[2];this._min=arguments[0],this._max=x,this._item=D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.query=function(_,x,D){if(!this.intersects(_,x))return null;D.visitItem(this._item)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(hi),md=function(f){function m(){f.call(this),this._node1=null,this._node2=null;var x=arguments[1];this._node1=arguments[0],this._node2=x,this.buildExtent(this._node1,this._node2)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.buildExtent=function(_,x){this._min=Math.min(_._min,x._min),this._max=Math.max(_._max,x._max)},m.prototype.query=function(_,x,D){if(!this.intersects(_,x))return null;null!==this._node1&&this._node1.query(_,x,D),null!==this._node2&&this._node2.query(_,x,D)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(hi),Zl=function(){this._leaves=new nn,this._root=null,this._level=0};Zl.prototype.buildTree=function(){Nr.sort(this._leaves,new hi.NodeComparator);for(var f=this._leaves,m=null,_=new nn;;){if(this.buildLevel(f,_),1===_.size())return _.get(0);m=f,f=_,_=m}},Zl.prototype.insert=function(f,m,_){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new ku(f,m,_))},Zl.prototype.query=function(f,m,_){this.init(),this._root.query(f,m,_)},Zl.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Zl.prototype.printNode=function(f){we.out.println(vt.toLineString(new q(f._min,this._level),new q(f._max,this._level)))},Zl.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Zl.prototype.buildLevel=function(f,m){this._level++,m.clear();for(var _=0;_<f.size();_+=2){var x=f.get(_);if(null===(_+1<f.size()?f.get(_):null))m.add(x);else{var D=new md(f.get(_),f.get(_+1));m.add(D)}}},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var rc=function(){this._items=new nn};rc.prototype.visitItem=function(f){this._items.add(f)},rc.prototype.getItems=function(){return this._items},rc.prototype.interfaces_=function(){return[Bl]},rc.prototype.getClass=function(){return rc};var Oe=function(){this._index=null;var f=arguments[0];if(!se(f,ho))throw new nt("Argument must be Polygonal");this._index=new Bt(f)},R={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Oe.prototype.locate=function(f){var m=new ye(f),_=new ft(m);return this._index.query(f.y,f.y,_),m.getLocation()},Oe.prototype.interfaces_=function(){return[nc]},Oe.prototype.getClass=function(){return Oe},R.SegmentVisitor.get=function(){return ft},R.IntervalIndexedGeometry.get=function(){return Bt},Object.defineProperties(Oe,R);var ft=function(){this._counter=null,this._counter=arguments[0]};ft.prototype.visitItem=function(f){var m=f;this._counter.countSegment(m.getCoordinate(0),m.getCoordinate(1))},ft.prototype.interfaces_=function(){return[Bl]},ft.prototype.getClass=function(){return ft};var Bt=function(){this._index=new Zl,this.init(arguments[0])};Bt.prototype.init=function(f){for(var m=Ro.getLines(f).iterator();m.hasNext();){var _=m.next().getCoordinates();this.addLine(_)}},Bt.prototype.addLine=function(f){for(var m=1;m<f.length;m++){var _=new Bn(f[m-1],f[m]),x=Math.min(_.p0.y,_.p1.y),D=Math.max(_.p0.y,_.p1.y);this._index.insert(x,D,_)}},Bt.prototype.query=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=new rc;return this._index.query(f,m,_),_.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt};var Yt=function(f){function m(){if(f.call(this),this._parentGeom=null,this._lineEdgeMap=new kl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Ao,2===arguments.length){var x=arguments[1],D=xn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=x,this._boundaryNodeRule=D,null!==x&&this.add(x)}else if(3===arguments.length){var xt=arguments[1],qt=arguments[2];this._argIndex=arguments[0],this._parentGeom=xt,this._boundaryNodeRule=qt,null!==xt&&this.add(xt)}}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.insertBoundaryPoint=function(_,x){var D=this._nodes.addNode(x).getLabel(),K=1;D.getLocation(_,Gt.ON)===ut.BOUNDARY&&K++;var xt=m.determineBoundary(this._boundaryNodeRule,K);D.setLocation(_,xt)},m.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var K=arguments[1],xt=arguments[2],qt=new Sn(arguments[0],!0,!1);return qt.setIsDoneIfProperInt(xt),this.createEdgeSetIntersector().computeIntersections(this._edges,qt,K||!(this._parentGeom instanceof Li||this._parentGeom instanceof fa||this._parentGeom instanceof as)),this.addSelfIntersectionNodes(this._argIndex),qt}},m.prototype.computeSplitEdges=function(_){for(var x=this._edges.iterator();x.hasNext();)x.next().eiList.addSplitEdges(_)},m.prototype.computeEdgeIntersections=function(_,x,D){var K=new Sn(x,D,!0);return K.setBoundaryNodes(this.getBoundaryNodes(),_.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,_._edges,K),K},m.prototype.getGeometry=function(){return this._parentGeom},m.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},m.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},m.prototype.addPoint=function(){if(arguments[0]instanceof oo){var _=arguments[0].getCoordinate();this.insertPoint(this._argIndex,_,ut.INTERIOR)}else arguments[0]instanceof q&&this.insertPoint(this._argIndex,arguments[0],ut.INTERIOR)},m.prototype.addPolygon=function(_){this.addPolygonRing(_.getExteriorRing(),ut.EXTERIOR,ut.INTERIOR);for(var x=0;x<_.getNumInteriorRing();x++){var D=_.getInteriorRingN(x);this.addPolygonRing(D,ut.INTERIOR,ut.EXTERIOR)}},m.prototype.addEdge=function(_){this.insertEdge(_);var x=_.getCoordinates();this.insertPoint(this._argIndex,x[0],ut.BOUNDARY),this.insertPoint(this._argIndex,x[x.length-1],ut.BOUNDARY)},m.prototype.addLineString=function(_){var x=Qt.removeRepeatedPoints(_.getCoordinates());if(x.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=x[0],null;var D=new Pi(x,new Pn(this._argIndex,ut.INTERIOR));this._lineEdgeMap.put(_,D),this.insertEdge(D),U.isTrue(x.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,x[0]),this.insertBoundaryPoint(this._argIndex,x[x.length-1])},m.prototype.getInvalidPoint=function(){return this._invalidPoint},m.prototype.getBoundaryPoints=function(){for(var _=this.getBoundaryNodes(),x=new Array(_.size()).fill(null),D=0,K=_.iterator();K.hasNext();){var xt=K.next();x[D++]=xt.getCoordinate().copy()}return x},m.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},m.prototype.addSelfIntersectionNode=function(_,x,D){if(this.isBoundaryNode(_,x))return null;D===ut.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(_,x):this.insertPoint(_,x,D)},m.prototype.addPolygonRing=function(_,x,D){if(_.isEmpty())return null;var K=Qt.removeRepeatedPoints(_.getCoordinates());if(K.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=K[0],null;var xt=x,qt=D;xe.isCCW(K)&&(xt=D,qt=x);var _e=new Pi(K,new Pn(this._argIndex,ut.BOUNDARY,xt,qt));this._lineEdgeMap.put(_,_e),this.insertEdge(_e),this.insertPoint(this._argIndex,K[0],ut.BOUNDARY)},m.prototype.insertPoint=function(_,x,D){var K=this._nodes.addNode(x),xt=K.getLabel();null===xt?K._label=new Pn(_,D):xt.setLocation(_,D)},m.prototype.createEdgeSetIntersector=function(){return new Yn},m.prototype.addSelfIntersectionNodes=function(_){for(var x=this._edges.iterator();x.hasNext();)for(var D=x.next(),K=D.getLabel().getLocation(_),xt=D.eiList.iterator();xt.hasNext();){var qt=xt.next();this.addSelfIntersectionNode(_,qt.coord,K)}},m.prototype.add=function(){if(1!==arguments.length)return f.prototype.add.apply(this,arguments);var _=arguments[0];if(_.isEmpty())return null;if(_ instanceof as&&(this._useBoundaryDeterminationRule=!1),_ instanceof fa)this.addPolygon(_);else if(_ instanceof Ri)this.addLineString(_);else if(_ instanceof oo)this.addPoint(_);else if(_ instanceof bl)this.addCollection(_);else if(_ instanceof en)this.addCollection(_);else if(_ instanceof as)this.addCollection(_);else{if(!(_ instanceof Fe))throw new Error(_.getClass().getName());this.addCollection(_)}},m.prototype.addCollection=function(_){for(var x=0;x<_.getNumGeometries();x++){var D=_.getGeometryN(x);this.add(D)}},m.prototype.locate=function(_){return se(this._parentGeom,ho)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Oe(this._parentGeom)),this._areaPtLocator.locate(_)):this._ptLocator.locate(_,this._parentGeom)},m.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):f.prototype.findEdge.apply(this,arguments)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.determineBoundary=function(_,x){return _.isInBoundary(x)?ut.BOUNDARY:ut.INTERIOR},m}(Xa),le=function(){if(this._li=new Ot,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var f=arguments[0];this.setComputationPrecision(f.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Yt(0,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1],x=xn.OGC_SFS_BOUNDARY_RULE;m.getPrecisionModel().compareTo(_.getPrecisionModel())>=0?this.setComputationPrecision(m.getPrecisionModel()):this.setComputationPrecision(_.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Yt(0,m,x),this._arg[1]=new Yt(1,_,x)}else if(3===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2];D.getPrecisionModel().compareTo(K.getPrecisionModel())>=0?this.setComputationPrecision(D.getPrecisionModel()):this.setComputationPrecision(K.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Yt(0,D,xt),this._arg[1]=new Yt(1,K,xt)}};le.prototype.getArgGeometry=function(f){return this._arg[f].getGeometry()},le.prototype.setComputationPrecision=function(f){this._resultPrecisionModel=f,this._li.setPrecisionModel(this._resultPrecisionModel)},le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le};var ve=function(){};ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},ve.map=function(){if(arguments[0]instanceof Ve&&se(arguments[1],ve.MapOp)){for(var f=arguments[0],m=arguments[1],_=new nn,x=0;x<f.getNumGeometries();x++){var D=m.map(f.getGeometryN(x));null!==D&&_.add(D)}return f.getFactory().buildGeometry(_)}if(se(arguments[0],We)&&se(arguments[1],ve.MapOp)){for(var K=arguments[0],xt=arguments[1],qt=new nn,_e=K.iterator();_e.hasNext();){var Ge=_e.next(),mn=xt.map(Ge);null!==mn&&qt.add(mn)}return qt}},ve.MapOp=function(){};var Ae=function(f){function m(){var _=arguments[0];f.call(this,_,arguments[1]),this._ptLocator=new Ao,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new xo,this._resultPolyList=new nn,this._resultLineList=new nn,this._resultPointList=new nn,this._graph=new Xa(new au),this._geomFact=_.getFactory()}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.insertUniqueEdge=function(_){var x=this._edgeList.findEqualEdge(_);if(null!==x){var D=x.getLabel(),K=_.getLabel();x.isPointwiseEqual(_)||(K=new Pn(_.getLabel())).flip();var xt=x.getDepth();xt.isNull()&&xt.add(D),xt.add(K),D.merge(K)}else this._edgeList.add(_)},m.prototype.getGraph=function(){return this._graph},m.prototype.cancelDuplicateResultEdges=function(){for(var _=this._graph.getEdgeEnds().iterator();_.hasNext();){var x=_.next(),D=x.getSym();x.isInResult()&&D.isInResult()&&(x.setInResult(!1),D.setInResult(!1))}},m.prototype.isCoveredByLA=function(_){return!!this.isCovered(_,this._resultLineList)||!!this.isCovered(_,this._resultPolyList)},m.prototype.computeGeometry=function(_,x,D,K){var xt=new nn;return xt.addAll(_),xt.addAll(x),xt.addAll(D),xt.isEmpty()?m.createEmptyResult(K,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(xt)},m.prototype.mergeSymLabels=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().mergeSymLabels()},m.prototype.isCovered=function(_,x){for(var D=x.iterator();D.hasNext();){var K=D.next();if(this._ptLocator.locate(_,K)!==ut.EXTERIOR)return!0}return!1},m.prototype.replaceCollapsedEdges=function(){for(var _=new nn,x=this._edgeList.iterator();x.hasNext();){var D=x.next();D.isCollapsed()&&(x.remove(),_.add(D.getCollapsedEdge()))}this._edgeList.addAll(_)},m.prototype.updateNodeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var x=_.next(),D=x.getEdges().getLabel();x.getLabel().merge(D)}},m.prototype.getResultGeometry=function(_){return this.computeOverlay(_),this._resultGeom},m.prototype.insertUniqueEdges=function(_){for(var x=_.iterator();x.hasNext();){var D=x.next();this.insertUniqueEdge(D)}},m.prototype.computeOverlay=function(_){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var x=new nn;this._arg[0].computeSplitEdges(x),this._arg[1].computeSplitEdges(x),this.insertUniqueEdges(x),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Hl.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(_),this.cancelDuplicateResultEdges();var D=new Fl(this._geomFact);D.add(this._graph),this._resultPolyList=D.getPolygons();var K=new ta(this,this._geomFact,this._ptLocator);this._resultLineList=K.build(_);var xt=new vc(this,this._geomFact,this._ptLocator);this._resultPointList=xt.build(_),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,_)},m.prototype.labelIncompleteNode=function(_,x){var D=this._ptLocator.locate(_.getCoordinate(),this._arg[x].getGeometry());_.getLabel().setLocation(x,D)},m.prototype.copyPoints=function(_){for(var x=this._arg[_].getNodeIterator();x.hasNext();){var D=x.next();this._graph.addNode(D.getCoordinate()).setLabel(_,D.getLabel().getLocation(_))}},m.prototype.findResultAreaEdges=function(_){for(var x=this._graph.getEdgeEnds().iterator();x.hasNext();){var D=x.next(),K=D.getLabel();K.isArea()&&!D.isInteriorAreaEdge()&&m.isResultOfOp(K.getLocation(0,Gt.RIGHT),K.getLocation(1,Gt.RIGHT),_)&&D.setInResult(!0)}},m.prototype.computeLabelsFromDepths=function(){for(var _=this._edgeList.iterator();_.hasNext();){var x=_.next(),D=x.getLabel(),K=x.getDepth();if(!K.isNull()){K.normalize();for(var xt=0;xt<2;xt++)D.isNull(xt)||!D.isArea()||K.isNull(xt)||(0===K.getDelta(xt)?D.toLine(xt):(U.isTrue(!K.isNull(xt,Gt.LEFT),"depth of LEFT side has not been initialized"),D.setLocation(xt,Gt.LEFT,K.getLocation(xt,Gt.LEFT)),U.isTrue(!K.isNull(xt,Gt.RIGHT),"depth of RIGHT side has not been initialized"),D.setLocation(xt,Gt.RIGHT,K.getLocation(xt,Gt.RIGHT))))}}},m.prototype.computeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},m.prototype.labelIncompleteNodes=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var x=_.next(),D=x.getLabel();x.isIsolated()&&(D.isNull(0)?this.labelIncompleteNode(x,0):this.labelIncompleteNode(x,1)),x.getEdges().updateLabelling(D)}},m.prototype.isCoveredByA=function(_){return!!this.isCovered(_,this._resultPolyList)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(le);Ae.overlayOp=function(f,m,_){return new Ae(f,m).getResultGeometry(_)},Ae.intersection=function(f,m){if(f.isEmpty()||m.isEmpty())return Ae.createEmptyResult(Ae.INTERSECTION,f,m,f.getFactory());if(f.isGeometryCollection()){var _=m;return Tc.map(f,{interfaces_:function(){return[ve.MapOp]},map:function(x){return x.intersection(_)}})}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),mt.overlayOp(f,m,Ae.INTERSECTION)},Ae.symDifference=function(f,m){if(f.isEmpty()||m.isEmpty()){if(f.isEmpty()&&m.isEmpty())return Ae.createEmptyResult(Ae.SYMDIFFERENCE,f,m,f.getFactory());if(f.isEmpty())return m.copy();if(m.isEmpty())return f.copy()}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),mt.overlayOp(f,m,Ae.SYMDIFFERENCE)},Ae.resultDimension=function(f,m,_){var x=m.getDimension(),D=_.getDimension(),K=-1;switch(f){case Ae.INTERSECTION:K=Math.min(x,D);break;case Ae.UNION:K=Math.max(x,D);break;case Ae.DIFFERENCE:K=x;break;case Ae.SYMDIFFERENCE:K=Math.max(x,D)}return K},Ae.createEmptyResult=function(f,m,_,x){var D=null;switch(Ae.resultDimension(f,m,_)){case-1:D=x.createGeometryCollection(new Array(0).fill(null));break;case 0:D=x.createPoint();break;case 1:D=x.createLineString();break;case 2:D=x.createPolygon()}return D},Ae.difference=function(f,m){return f.isEmpty()?Ae.createEmptyResult(Ae.DIFFERENCE,f,m,f.getFactory()):m.isEmpty()?f.copy():(f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),mt.overlayOp(f,m,Ae.DIFFERENCE))},Ae.isResultOfOp=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=f.getLocation(0),x=f.getLocation(1);return Ae.isResultOfOp(_,x,m)}if(3===arguments.length){var D=arguments[0],K=arguments[1];switch(D===ut.BOUNDARY&&(D=ut.INTERIOR),K===ut.BOUNDARY&&(K=ut.INTERIOR),arguments[2]){case Ae.INTERSECTION:return D===ut.INTERIOR&&K===ut.INTERIOR;case Ae.UNION:return D===ut.INTERIOR||K===ut.INTERIOR;case Ae.DIFFERENCE:return D===ut.INTERIOR&&K!==ut.INTERIOR;case Ae.SYMDIFFERENCE:return D===ut.INTERIOR&&K!==ut.INTERIOR||D!==ut.INTERIOR&&K===ut.INTERIOR}return!1}},Ae.INTERSECTION=1,Ae.UNION=2,Ae.DIFFERENCE=3,Ae.SYMDIFFERENCE=4;var gn=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Ao,this._seg=new Bn;var f=arguments[0],m=arguments[1];this._g=f,this._boundaryDistanceTolerance=m,this._linework=this.extractLinework(f)};gn.prototype.isWithinToleranceOfBoundary=function(f){for(var m=0;m<this._linework.getNumGeometries();m++)for(var _=this._linework.getGeometryN(m).getCoordinateSequence(),x=0;x<_.size()-1;x++)if(_.getCoordinate(x,this._seg.p0),_.getCoordinate(x+1,this._seg.p1),this._seg.distance(f)<=this._boundaryDistanceTolerance)return!0;return!1},gn.prototype.getLocation=function(f){return this.isWithinToleranceOfBoundary(f)?ut.BOUNDARY:this._ptLocator.locate(f,this._g)},gn.prototype.extractLinework=function(f){var m=new kn;f.apply(m);var _=m.getLinework(),x=sn.toLineStringArray(_);return f.getFactory().createMultiLineString(x)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn};var kn=function(){this._linework=null,this._linework=new nn};kn.prototype.getLinework=function(){return this._linework},kn.prototype.filter=function(f){if(f instanceof fa){var m=f;this._linework.add(m.getExteriorRing());for(var _=0;_<m.getNumInteriorRing();_++)this._linework.add(m.getInteriorRingN(_))}},kn.prototype.interfaces_=function(){return[Ft]},kn.prototype.getClass=function(){return kn};var Vn=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Vn.prototype.extractPoints=function(f,m,_){for(var x=f.getCoordinates(),D=0;D<x.length-1;D++)this.computeOffsetPoints(x[D],x[D+1],m,_)},Vn.prototype.setSidesToGenerate=function(f,m){this._doLeft=f,this._doRight=m},Vn.prototype.getPoints=function(f){for(var m=new nn,_=Ro.getLines(this._g).iterator();_.hasNext();){var x=_.next();this.extractPoints(x,f,m)}return m},Vn.prototype.computeOffsetPoints=function(f,m,_,x){var D=m.x-f.x,K=m.y-f.y,xt=Math.sqrt(D*D+K*K),qt=_*D/xt,_e=_*K/xt,Ge=(m.x+f.x)/2,mn=(m.y+f.y)/2;if(this._doLeft){var En=new q(Ge-_e,mn+qt);x.add(En)}if(this._doRight){var qn=new q(Ge+_e,mn-qt);x.add(qn)}},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var ei=function f(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=f.TOLERANCE,this._testCoords=new nn;var m=arguments[0],_=arguments[1],x=arguments[2];this._boundaryDistanceTolerance=f.computeBoundaryDistanceTolerance(m,_),this._geom=[m,_,x],this._locFinder=[new gn(this._geom[0],this._boundaryDistanceTolerance),new gn(this._geom[1],this._boundaryDistanceTolerance),new gn(this._geom[2],this._boundaryDistanceTolerance)]},Oi={TOLERANCE:{configurable:!0}};ei.prototype.reportResult=function(f,m,_){we.out.println("Overlay result invalid - A:"+ut.toLocationSymbol(m[0])+" B:"+ut.toLocationSymbol(m[1])+" expected:"+(_?"i":"e")+" actual:"+ut.toLocationSymbol(m[2]))},ei.prototype.isValid=function(f){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(f)},ei.prototype.checkValid=function(){if(1===arguments.length){for(var f=arguments[0],m=0;m<this._testCoords.size();m++){var _=this._testCoords.get(m);if(!this.checkValid(f,_))return this._invalidLocation=_,!1}return!0}if(2===arguments.length){var x=arguments[0],D=arguments[1];return this._location[0]=this._locFinder[0].getLocation(D),this._location[1]=this._locFinder[1].getLocation(D),this._location[2]=this._locFinder[2].getLocation(D),!!ei.hasLocation(this._location,ut.BOUNDARY)||this.isValidResult(x,this._location)}},ei.prototype.addTestPts=function(f){var m=new Vn(f);this._testCoords.addAll(m.getPoints(5*this._boundaryDistanceTolerance))},ei.prototype.isValidResult=function(f,m){var _=Ae.isResultOfOp(m[0],m[1],f),x=!(_^m[2]===ut.INTERIOR);return x||this.reportResult(f,m,_),x},ei.prototype.getInvalidLocation=function(){return this._invalidLocation},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ei.hasLocation=function(f,m){for(var _=0;_<3;_++)if(f[_]===m)return!0;return!1},ei.computeBoundaryDistanceTolerance=function(f,m){return Math.min(mo.computeSizeBasedSnapTolerance(f),mo.computeSizeBasedSnapTolerance(m))},ei.isValid=function(f,m,_,x){return new ei(f,m,x).isValid(_)},Oi.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(ei,Oi);var oi=function f(m){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=f.extractFactory(m),this._inputGeoms=m};oi.prototype.extractElements=function(f,m){if(null===f)return null;for(var _=0;_<f.getNumGeometries();_++){var x=f.getGeometryN(_);this._skipEmpty&&x.isEmpty()||m.add(x)}},oi.prototype.combine=function(){for(var f=new nn,m=this._inputGeoms.iterator();m.hasNext();){var _=m.next();this.extractElements(_,f)}return 0===f.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(f)},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.combine=function(){return 1===arguments.length?new oi(arguments[0]).combine():2===arguments.length?new oi(oi.createList(arguments[0],arguments[1])).combine():3===arguments.length?new oi(oi.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},oi.extractFactory=function(f){return f.isEmpty()?null:f.iterator().next().getFactory()},oi.createList=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=new nn;return _.add(f),_.add(m),_}if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2],xt=new nn;return xt.add(x),xt.add(D),xt.add(K),xt}};var ki=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new nn)},Sr={STRTREE_NODE_CAPACITY:{configurable:!0}};ki.prototype.reduceToGeometries=function(f){for(var m=new nn,_=f.iterator();_.hasNext();){var x=_.next(),D=null;se(x,bn)?D=this.unionTree(x):x instanceof Ve&&(D=x),m.add(D)}return m},ki.prototype.extractByEnvelope=function(f,m,_){for(var x=new nn,D=0;D<m.getNumGeometries();D++){var K=m.getGeometryN(D);K.getEnvelopeInternal().intersects(f)?x.add(K):_.add(K)}return this._geomFactory.buildGeometry(x)},ki.prototype.unionOptimized=function(f,m){var _=f.getEnvelopeInternal(),x=m.getEnvelopeInternal();if(!_.intersects(x))return oi.combine(f,m);if(f.getNumGeometries()<=1&&m.getNumGeometries()<=1)return this.unionActual(f,m);var D=_.intersection(x);return this.unionUsingEnvelopeIntersection(f,m,D)},ki.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var f=new fo(ki.STRTREE_NODE_CAPACITY),m=this._inputPolys.iterator();m.hasNext();){var _=m.next();f.insert(_.getEnvelopeInternal(),_)}this._inputPolys=null;var x=f.itemsTree();return this.unionTree(x)},ki.prototype.binaryUnion=function(){if(1===arguments.length){var f=arguments[0];return this.binaryUnion(f,0,f.size())}if(3===arguments.length){var m=arguments[0],_=arguments[1],x=arguments[2];if(x-_<=1){var D=ki.getGeometry(m,_);return this.unionSafe(D,null)}if(x-_==2)return this.unionSafe(ki.getGeometry(m,_),ki.getGeometry(m,_+1));var K=Math.trunc((x+_)/2),xt=this.binaryUnion(m,_,K),qt=this.binaryUnion(m,K,x);return this.unionSafe(xt,qt)}},ki.prototype.repeatedUnion=function(f){for(var m=null,_=f.iterator();_.hasNext();){var x=_.next();m=null===m?x.copy():m.union(x)}return m},ki.prototype.unionSafe=function(f,m){return null===f&&null===m?null:null===f?m.copy():null===m?f.copy():this.unionOptimized(f,m)},ki.prototype.unionActual=function(f,m){return ki.restrictToPolygons(f.union(m))},ki.prototype.unionTree=function(f){var m=this.reduceToGeometries(f);return this.binaryUnion(m)},ki.prototype.unionUsingEnvelopeIntersection=function(f,m,_){var x=new nn,D=this.extractByEnvelope(_,f,x),K=this.extractByEnvelope(_,m,x),xt=this.unionActual(D,K);return x.add(xt),oi.combine(x)},ki.prototype.bufferUnion=function(){if(1===arguments.length){var f=arguments[0];return f.get(0).getFactory().buildGeometry(f).buffer(0)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m.getFactory().createGeometryCollection([m,_]).buffer(0)}},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.restrictToPolygons=function(f){if(se(f,ho))return f;var m=ds.getPolygons(f);return 1===m.size()?m.get(0):f.getFactory().createMultiPolygon(sn.toPolygonArray(m))},ki.getGeometry=function(f,m){return m>=f.size()?null:f.get(m)},ki.union=function(f){return new ki(f).union()},Sr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(ki,Sr);var Vo=function(){};Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo},Vo.union=function(f,m){if(f.isEmpty()||m.isEmpty()){if(f.isEmpty()&&m.isEmpty())return Ae.createEmptyResult(Ae.UNION,f,m,f.getFactory());if(f.isEmpty())return m.copy();if(m.isEmpty())return f.copy()}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),mt.overlayOp(f,m,Ae.UNION)},Z.GeoJSONReader=Ns,Z.GeoJSONWriter=pr,Z.OverlayOp=Ae,Z.UnionOp=Vo,Z.BufferOp=he,Object.defineProperty(Z,"__esModule",{value:!0})}(oe)},9521:()=>{},6296:(Ye,oe,Z)=>{"use strict";function J(F){var Y,G,O,Q=2;for(typeof Symbol<"u"&&(G=Symbol.asyncIterator,O=Symbol.iterator);Q--;){if(G&&null!=(Y=F[G]))return Y.call(F);if(O&&null!=(Y=F[O]))return new rt(Y.call(F));G="@@asyncIterator",O="@@iterator"}throw new TypeError("Object is not async iterable")}function rt(F){function Y(G){if(Object(G)!==G)return Promise.reject(new TypeError(G+" is not an object."));var O=G.done;return Promise.resolve(G.value).then(function(Q){return{value:Q,done:O}})}return(rt=function(O){this.s=O,this.n=O.next}).prototype={s:null,n:null,next:function(){return Y(this.n.apply(this.s,arguments))},return:function(O){var Q=this.s.return;return void 0===Q?Promise.resolve({value:O,done:!0}):Y(Q.apply(this.s,arguments))},throw:function(O){var Q=this.s.return;return void 0===Q?Promise.reject(O):Y(Q.apply(this.s,arguments))}},new rt(F)}Z.d(oe,{Z:()=>J})},5861:(Ye,oe,Z)=>{"use strict";function J(F,Y,G,O,Q,ot,st){try{var at=F[ot](st),$=at.value}catch(N){return void G(N)}at.done?Y($):Promise.resolve($).then(O,Q)}function rt(F){return function(){var Y=this,G=arguments;return new Promise(function(O,Q){var ot=F.apply(Y,G);function st($){J(ot,O,Q,st,at,"next",$)}function at($){J(ot,O,Q,st,at,"throw",$)}st(void 0)})}}Z.d(oe,{Z:()=>rt})},1180:(Ye,oe,Z)=>{"use strict";function J(G){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(G)}function Y(G,O,Q){return(O=function F(G){var O=function rt(G,O){if("object"!==J(G)||null===G)return G;var Q=G[Symbol.toPrimitive];if(void 0!==Q){var ot=Q.call(G,O||"default");if("object"!==J(ot))return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(G)}(G,"string");return"symbol"===J(O)?O:String(O)}(O))in G?Object.defineProperty(G,O,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[O]=Q,G}Z.d(oe,{Z:()=>Y})}},Ye=>{Ye(Ye.s=6787)}]);
