(self.webpackChunkGeoAppTest=self.webpackChunkGeoAppTest||[]).push([[179],{2409:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>ct});var tt=Y(1180),J=Y(5449),F=Y(8251);const Z={transitionDuration:0},O=ot=>1-(1-ot)*(1-ot),Q_WHEEL=["wheel"],Q_PAN=["panstart","panmove","panend"],Q_PINCH=["pinchstart","pinchmove","pinchend"],Q_TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],Q_DOUBLE_TAP=["doubletap"],Q_KEYBOARD=["keydown"],at={};class ct{constructor($){(0,tt.Z)(this,"props",void 0),(0,tt.Z)(this,"state",{}),(0,tt.Z)(this,"transitionManager",void 0),(0,tt.Z)(this,"eventManager",void 0),(0,tt.Z)(this,"onViewStateChange",void 0),(0,tt.Z)(this,"onStateChange",void 0),(0,tt.Z)(this,"makeViewport",void 0),(0,tt.Z)(this,"_controllerState",void 0),(0,tt.Z)(this,"_events",{}),(0,tt.Z)(this,"_interactionState",{isDragging:!1}),(0,tt.Z)(this,"_customEvents",[]),(0,tt.Z)(this,"_eventStartBlocked",null),(0,tt.Z)(this,"_panMove",!1),(0,tt.Z)(this,"invertPan",!1),(0,tt.Z)(this,"dragMode","rotate"),(0,tt.Z)(this,"inertia",0),(0,tt.Z)(this,"scrollZoom",!0),(0,tt.Z)(this,"dragPan",!0),(0,tt.Z)(this,"dragRotate",!0),(0,tt.Z)(this,"doubleClickZoom",!0),(0,tt.Z)(this,"touchZoom",!0),(0,tt.Z)(this,"touchRotate",!1),(0,tt.Z)(this,"keyboard",!0),this.transitionManager=new J.Z({...$,getControllerState:N=>new this.ControllerState(N),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=$.eventManager,this.onViewStateChange=$.onViewStateChange||(()=>{}),this.onStateChange=$.onStateChange||(()=>{}),this.makeViewport=$.makeViewport}set events($){this.toggleEvents(this._customEvents,!1),this.toggleEvents($,!0),this._customEvents=$,this.props&&this.setProps(this.props)}finalize(){for(const N in this._events)if(this._events[N]){var $;null===($=this.eventManager)||void 0===$||$.off(N,this.handleEvent)}this.transitionManager.finalize()}handleEvent($){this._controllerState=void 0;const N=this._eventStartBlocked;switch($.type){case"panstart":return!N&&this._onPanStart($);case"panmove":return this._onPan($);case"panend":return this._onPanEnd($);case"pinchstart":return!N&&this._onPinchStart($);case"pinchmove":return this._onPinch($);case"pinchend":return this._onPinchEnd($);case"tripanstart":return!N&&this._onTriplePanStart($);case"tripanmove":return this._onTriplePan($);case"tripanend":return this._onTriplePanEnd($);case"doubletap":return this._onDoubleTap($);case"wheel":return this._onWheel($);case"keydown":return this._onKeyDown($);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter($){const{x:N,y:U}=this.props,{offsetCenter:bt}=$;return[bt.x-N,bt.y-U]}isPointInBounds($,N){const{width:U,height:bt}=this.props;if(N&&N.handled)return!1;const X=$[0]>=0&&$[0]<=U&&$[1]>=0&&$[1]<=bt;return X&&N&&N.stopPropagation(),X}isFunctionKeyPressed($){const{srcEvent:N}=$;return Boolean(N.metaKey||N.altKey||N.ctrlKey||N.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents($){const N=setTimeout(()=>{this._eventStartBlocked===N&&(this._eventStartBlocked=null)},$);this._eventStartBlocked=N}setProps($){$.dragMode&&(this.dragMode=$.dragMode),this.props=$,"transitionInterpolator"in $||($.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange($);const{inertia:N}=$;this.inertia=Number.isFinite(N)?N:!0===N?300:0;const{scrollZoom:U=!0,dragPan:bt=!0,dragRotate:X=!0,doubleClickZoom:et=!0,touchZoom:W=!0,touchRotate:it=!1,keyboard:V=!0}=$,lt=Boolean(this.onViewStateChange);this.toggleEvents(Q_WHEEL,lt&&U),this.toggleEvents(Q_PAN,lt&&(bt||X)),this.toggleEvents(Q_PINCH,lt&&(W||it)),this.toggleEvents(Q_TRIPLE_PAN,lt&&it),this.toggleEvents(Q_DOUBLE_TAP,lt&&et),this.toggleEvents(Q_KEYBOARD,lt&&V),this.scrollZoom=U,this.dragPan=bt,this.dragRotate=X,this.doubleClickZoom=et,this.touchZoom=W,this.touchRotate=it,this.keyboard=V}updateTransition(){this.transitionManager.updateTransition()}toggleEvents($,N){this.eventManager&&$.forEach(U=>{this._events[U]!==N&&(this._events[U]=N,N?this.eventManager.on(U,this.handleEvent):this.eventManager.off(U,this.handleEvent))})}updateViewport($,N=null,U={}){const bt={...$.getViewportProps(),...N},X=this.controllerState!==$;if(this.state=$.getState(),this._setInteractionState(U),X){const et=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:bt,interactionState:this._interactionState,oldViewState:et})}}_onTransition($){this.onViewStateChange({...$,interactionState:this._interactionState})}_setInteractionState($){Object.assign(this._interactionState,$),this.onStateChange(this._interactionState)}_onPanStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;let U=this.isFunctionKeyPressed($)||$.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(U=!U);const bt=this.controllerState[U?"panStart":"rotateStart"]({pos:N});return this._panMove=U,this.updateViewport(bt,Z,{isDragging:!0}),!0}_onPan($){return!!this.isDragging()&&(this._panMove?this._onPanMove($):this._onPanRotate($))}_onPanEnd($){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd($):this._onPanRotateEnd($))}_onPanMove($){if(!this.dragPan)return!1;const N=this.getCenter($),U=this.controllerState.pan({pos:N});return this.updateViewport(U,Z,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd($){const{inertia:N}=this;if(this.dragPan&&N&&$.velocity){const U=this.getCenter($),X=this.controllerState.pan({pos:[U[0]+$.velocityX*N/2,U[1]+$.velocityY*N/2]}).panEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isPanning:!0})}else{const U=this.controllerState.panEnd();this.updateViewport(U,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate($){if(!this.dragRotate)return!1;const N=this.getCenter($),U=this.controllerState.rotate({pos:N});return this.updateViewport(U,Z,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd($){const{inertia:N}=this;if(this.dragRotate&&N&&$.velocity){const U=this.getCenter($),X=this.controllerState.rotate({pos:[U[0]+$.velocityX*N/2,U[1]+$.velocityY*N/2]}).rotateEnd();this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isRotating:!0})}else{const U=this.controllerState.rotateEnd();this.updateViewport(U,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel($){if(!this.scrollZoom)return!1;$.srcEvent.preventDefault();const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const{speed:U=.01,smooth:bt=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:X}=$;let et=2/(1+Math.exp(-Math.abs(X*U)));X<0&&0!==et&&(et=1/et);const W=this.controllerState.zoom({pos:N,scale:et});return this.updateViewport(W,{...this._getTransitionProps({around:N}),transitionDuration:bt?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const U=this.controllerState.rotateStart({pos:N});return this.updateViewport(U,Z,{isDragging:!0}),!0}_onTriplePan($){if(!this.touchRotate||!this.isDragging())return!1;const N=this.getCenter($);N[0]-=$.deltaX;const U=this.controllerState.rotate({pos:N});return this.updateViewport(U,Z,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd($){if(!this.isDragging())return!1;const{inertia:N}=this;if(this.touchRotate&&N&&$.velocityY){const U=this.getCenter($),bt=[U[0],U[1]+=$.velocityY*N/2],X=this.controllerState.rotate({pos:bt});this.updateViewport(X,{...this._getTransitionProps(),transitionDuration:N,transitionEasing:O},{isDragging:!1,isRotating:!0}),this.blockEvents(N)}else{const U=this.controllerState.rotateEnd();this.updateViewport(U,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart($){const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const U=this.controllerState.zoomStart({pos:N}).rotateStart({pos:N});return at._startPinchRotation=$.rotation,at._lastPinchEvent=$,this.updateViewport(U,Z,{isDragging:!0}),!0}_onPinch($){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let N=this.controllerState;if(this.touchZoom){const{scale:U}=$,bt=this.getCenter($);N=N.zoom({pos:bt,scale:U})}if(this.touchRotate){const{rotation:U}=$;N=N.rotate({deltaAngleX:at._startPinchRotation-U})}return this.updateViewport(N,Z,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),at._lastPinchEvent=$,!0}_onPinchEnd($){if(!this.isDragging())return!1;const{inertia:N}=this,{_lastPinchEvent:U}=at;if(this.touchZoom&&N&&U&&$.scale!==U.scale){const bt=this.getCenter($);let X=this.controllerState.rotateEnd();const et=Math.log2($.scale),W=(et-Math.log2(U.scale))/($.deltaTime-U.deltaTime),it=Math.pow(2,et+W*N/2);X=X.zoom({pos:bt,scale:it}).zoomEnd(),this.updateViewport(X,{...this._getTransitionProps({around:bt}),transitionDuration:N,transitionEasing:O},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(N)}else{const bt=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(bt,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return at._startPinchRotation=null,at._lastPinchEvent=null,!0}_onDoubleTap($){if(!this.doubleClickZoom)return!1;const N=this.getCenter($);if(!this.isPointInBounds(N,$))return!1;const U=this.isFunctionKeyPressed($),bt=this.controllerState.zoom({pos:N,scale:U?.5:2});return this.updateViewport(bt,this._getTransitionProps({around:N}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown($){if(!this.keyboard)return!1;const N=this.isFunctionKeyPressed($),{zoomSpeed:U,moveSpeed:bt,rotateSpeedX:X,rotateSpeedY:et}=!0===this.keyboard?{}:this.keyboard,{controllerState:W}=this;let it;const V={};switch($.srcEvent.code){case"Minus":it=N?W.zoomOut(U).zoomOut(U):W.zoomOut(U),V.isZooming=!0;break;case"Equal":it=N?W.zoomIn(U).zoomIn(U):W.zoomIn(U),V.isZooming=!0;break;case"ArrowLeft":N?(it=W.rotateLeft(X),V.isRotating=!0):(it=W.moveLeft(bt),V.isPanning=!0);break;case"ArrowRight":N?(it=W.rotateRight(X),V.isRotating=!0):(it=W.moveRight(bt),V.isPanning=!0);break;case"ArrowUp":N?(it=W.rotateUp(et),V.isRotating=!0):(it=W.moveUp(bt),V.isPanning=!0);break;case"ArrowDown":N?(it=W.rotateDown(et),V.isRotating=!0):(it=W.moveDown(bt),V.isPanning=!0);break;default:return!1}return this.updateViewport(it,this._getTransitionProps(),V),!0}_getTransitionProps($){const{transition:N}=this;return N&&N.transitionInterpolator?$?{...N,transitionInterpolator:new F.Z({...$,...N.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:N:Z}}},4159:(Xe,se,Y)=>{"use strict";Y.d(se,{U:()=>ot,Z:()=>$});var tt=Y(1180),J=Y(4822),F=Y(2409),Z=Y(3031),G=Y(4698),O=Y(406),Q=Y(8251);class ot extends Z.Z{constructor(U){const{width:bt,height:X,latitude:et,longitude:W,zoom:it,bearing:V=0,pitch:lt=0,altitude:mt=1.5,position:Ct=[0,0,0],maxZoom:wt=20,minZoom:q=0,maxPitch:Pt=60,minPitch:Tt=0,startPanLngLat:It,startZoomLngLat:ut,startRotatePos:ae,startBearing:ce,startPitch:Et,startZoom:vt,normalize:dt=!0}=U;(0,O.Z)(Number.isFinite(W)),(0,O.Z)(Number.isFinite(et)),(0,O.Z)(Number.isFinite(it)),super({width:bt,height:X,latitude:et,longitude:W,zoom:it,bearing:V,pitch:lt,altitude:mt,maxZoom:wt,minZoom:q,maxPitch:Pt,minPitch:Tt,normalize:dt,position:Ct},{startPanLngLat:It,startZoomLngLat:ut,startRotatePos:ae,startBearing:ce,startPitch:Et,startZoom:vt}),(0,tt.Z)(this,"makeViewport",void 0),this.makeViewport=U.makeViewport}panStart({pos:U}){return this._getUpdatedState({startPanLngLat:this._unproject(U)})}pan({pos:U,startPos:bt}){const X=this.getState().startPanLngLat||this._unproject(bt);if(!X)return this;const W=this.makeViewport(this.getViewportProps()).panByPosition(X,U);return this._getUpdatedState(W)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:U}){return this._getUpdatedState({startRotatePos:U,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:U,deltaAngleX:bt=0,deltaAngleY:X=0}){const{startRotatePos:et,startBearing:W,startPitch:it}=this.getState();if(!et||void 0===W||void 0===it)return this;let V;return V=U?this._getNewRotation(U,et,it,W):{bearing:W+bt,pitch:it+X},this._getUpdatedState(V)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:U}){return this._getUpdatedState({startZoomLngLat:this._unproject(U),startZoom:this.getViewportProps().zoom})}zoom({pos:U,startPos:bt,scale:X}){let{startZoom:et,startZoomLngLat:W}=this.getState();if(W||(et=this.getViewportProps().zoom,W=this._unproject(bt)||this._unproject(U)),!W)return this;const{maxZoom:it,minZoom:V}=this.getViewportProps();let lt=et+Math.log2(X);lt=(0,J.uZ)(lt,V,it);const mt=this.makeViewport({...this.getViewportProps(),zoom:lt});return this._getUpdatedState({zoom:lt,...mt.panByPosition(W,U)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(U=2){return this._zoomFromCenter(U)}zoomOut(U=2){return this._zoomFromCenter(1/U)}moveLeft(U=100){return this._panFromCenter([U,0])}moveRight(U=100){return this._panFromCenter([-U,0])}moveUp(U=100){return this._panFromCenter([0,U])}moveDown(U=100){return this._panFromCenter([0,-U])}rotateLeft(U=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-U})}rotateRight(U=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+U})}rotateUp(U=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+U})}rotateDown(U=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-U})}shortestPathFrom(U){const bt=U.getViewportProps(),X={...this.getViewportProps()},{bearing:et,longitude:W}=X;return Math.abs(et-bt.bearing)>180&&(X.bearing=et<0?et+360:et-360),Math.abs(W-bt.longitude)>180&&(X.longitude=W<0?W+360:W-360),X}applyConstraints(U){const{maxZoom:bt,minZoom:X,zoom:et}=U;U.zoom=(0,J.uZ)(et,X,bt);const{maxPitch:W,minPitch:it,pitch:V}=U;U.pitch=(0,J.uZ)(V,it,W);const{normalize:lt=!0}=U;return lt&&Object.assign(U,(0,G.QA)(U)),U}_zoomFromCenter(U){const{width:bt,height:X}=this.getViewportProps();return this.zoom({pos:[bt/2,X/2],scale:U})}_panFromCenter(U){const{width:bt,height:X}=this.getViewportProps();return this.pan({startPos:[bt/2,X/2],pos:[bt/2+U[0],X/2+U[1]]})}_getUpdatedState(U){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...U})}_unproject(U){const bt=this.makeViewport(this.getViewportProps());return U&&bt.unproject(U)}_getNewRotation(U,bt,X,et){const W=U[0]-bt[0],it=U[1]-bt[1],V=U[1],lt=bt[1],{width:mt,height:Ct}=this.getViewportProps(),wt=W/mt;let q=0;it>0?Math.abs(Ct-lt)>5&&(q=it/(lt-Ct)*1.2):it<0&&lt>5&&(q=1-V/lt),q=(0,J.uZ)(q,-1,1);const{minPitch:Pt,maxPitch:Tt}=this.getViewportProps();let ut=X;return q>0?ut=X+q*(Tt-X):q<0&&(ut=X-q*(Pt-X)),{pitch:ut,bearing:et+180*wt}}}class $ extends F.Z{constructor(...U){super(...U),(0,tt.Z)(this,"ControllerState",ot),(0,tt.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Q.Z({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,tt.Z)(this,"dragMode","pan")}setProps(U){U.position=U.position||[0,0,0];const bt=this.props;super.setProps(U),(!bt||bt.height!==U.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...U,...this.state}))}}},5449:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Q,r:()=>Z});var tt=Y(1180),J=Y(7922);const F=()=>{};let Z;var at;(at=Z||(Z={}))[at.BREAK=1]="BREAK",at[at.SNAP_TO_END=2]="SNAP_TO_END",at[at.IGNORE=3]="IGNORE";const G=at=>at,O=Z.BREAK;class Q{constructor(ct){(0,tt.Z)(this,"getControllerState",void 0),(0,tt.Z)(this,"props",void 0),(0,tt.Z)(this,"propsInTransition",void 0),(0,tt.Z)(this,"transition",void 0),(0,tt.Z)(this,"onViewStateChange",void 0),(0,tt.Z)(this,"onStateChange",void 0),(0,tt.Z)(this,"_onTransitionUpdate",ot=>{const{time:$,settings:{interpolator:N,startProps:U,endProps:bt,duration:X,easing:et}}=ot,W=et($/X),it=N.interpolateProps(U,bt,W);this.propsInTransition=this.getControllerState({...this.props,...it}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=ct.getControllerState,this.propsInTransition=null,this.transition=new J.Z(ct.timeline),this.onViewStateChange=ct.onViewStateChange||F,this.onStateChange=ct.onStateChange||F}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(ct){let ot=!1;const $=this.props;if(this.props=ct,!$||this._shouldIgnoreViewportChange($,ct))return!1;if(this._isTransitionEnabled(ct)){let N=$;if(this.transition.inProgress){const{interruption:U,endProps:bt}=this.transition.settings;N={...$,...U===Z.SNAP_TO_END?bt:this.propsInTransition||$}}this._triggerTransition(N,ct),ot=!0}else this.transition.cancel();return ot}updateTransition(){this.transition.update()}_isTransitionEnabled(ct){const{transitionDuration:ot,transitionInterpolator:$}=ct;return(ot>0||"auto"===ot)&&Boolean($)}_isUpdateDueToCurrentTransition(ct){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(ct,this.propsInTransition)}_shouldIgnoreViewportChange(ct,ot){return this.transition.inProgress?this.transition.settings.interruption===Z.IGNORE||this._isUpdateDueToCurrentTransition(ot):!this._isTransitionEnabled(ot)||ot.transitionInterpolator.arePropsEqual(ct,ot)}_triggerTransition(ct,ot){const $=this.getControllerState(ct),N=this.getControllerState(ot).shortestPathFrom($),U=ot.transitionInterpolator,bt=U.getDuration?U.getDuration(ct,ot):ot.transitionDuration;if(0===bt)return;const X=U.initializeProps(ct,N);this.propsInTransition={};const et={duration:bt,easing:ot.transitionEasing||G,interpolator:U,interruption:ot.transitionInterruption||O,startProps:X.start,endProps:X.end,onStart:ot.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(ot.onTransitionInterrupt),onEnd:this._onTransitionEnd(ot.onTransitionEnd)};this.transition.start(et),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(ct){return ot=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),ct?.(ot)}}}},3031:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>J});var tt=Y(1180);class J{constructor(Z,G){(0,tt.Z)(this,"_viewportProps",void 0),(0,tt.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(Z),this._state=G}getViewportProps(){return this._viewportProps}getState(){return this._state}}},3064:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Z,z:()=>F});var tt=Y(967);let J={};function F(G){J=G}function Z(G,O,Q,at){tt.Z.level>0&&J[G]&&J[G].call(null,O,Q,at)}},7034:(Xe,se,Y)=>{"use strict";Y.r(se),Y.d(se,{AmbientLight:()=>at,AttributeManager:()=>da.Z,COORDINATE_SYSTEM:()=>tt.Df,CompositeLayer:()=>Ml.Z,Controller:()=>ki.Z,Deck:()=>na,DeckRenderer:()=>ei,DirectionalLight:()=>bt,FirstPersonController:()=>Ld,FirstPersonView:()=>v,FirstPersonViewport:()=>Fs,FlyToInterpolator:()=>hr,Layer:()=>Qs.Z,LayerExtension:()=>Ye,LayerManager:()=>fo,LightingEffect:()=>re,LinearInterpolator:()=>us.Z,MapController:()=>B.Z,MapView:()=>Xs.Z,OPERATION:()=>tt.k8,OrbitController:()=>oe,OrbitView:()=>T,OrbitViewport:()=>wc,OrthographicController:()=>Re,OrthographicView:()=>tn,OrthographicViewport:()=>as,PointLight:()=>gt,PostProcessEffect:()=>Je,TRANSITION_EVENTS:()=>vn.r,Tesselator:()=>su.Z,TransitionInterpolator:()=>bn.Z,UNIT:()=>tt.iI,View:()=>Qi.Z,Viewport:()=>Fn.Z,WebMercatorViewport:()=>Ze.Z,_CameraLight:()=>S,_GlobeController:()=>Vt,_GlobeView:()=>ve,_GlobeViewport:()=>Ao,_LayersPass:()=>V,_SunLight:()=>rn,_compareProps:()=>Yo.tg,_count:()=>Zl.Q,_fillArray:()=>zt.k,_flatten:()=>zt.x,_memoize:()=>It.Z,_mergeShaders:()=>ml.l,assert:()=>Xa.Z,createIterable:()=>No.jB,fp64LowPart:()=>sr.Ks,gouraudLighting:()=>qc.N,log:()=>Bi.Z,phongLighting:()=>qc.s,picking:()=>is.Z,project:()=>Tt.Z,project32:()=>hd.Z,shadow:()=>qt});var tt=Y(9531),J=Y(1180),F=Y(6262),Z=Y(5702);const G=[255,255,255],O=1;let Q=0;class at{constructor(R={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"color",void 0),(0,J.Z)(this,"intensity",void 0),(0,J.Z)(this,"type","ambient");const{color:ht=G}=R,{intensity:Nt=O}=R;this.id=R.id||"ambient-".concat(Q++),this.color=ht,this.intensity=Nt}}var ct=Y(3659);const ot=[255,255,255],$=1,N=[0,0,-1];let U=0;class bt{constructor(R={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"color",void 0),(0,J.Z)(this,"intensity",void 0),(0,J.Z)(this,"type","directional"),(0,J.Z)(this,"direction",void 0),(0,J.Z)(this,"shadow",void 0);const{color:ht=ot}=R,{intensity:Nt=$}=R,{direction:$t=N}=R,{_shadow:ue=!1}=R;this.id=R.id||"directional-".concat(U++),this.color=ht,this.intensity=Nt,this.type="directional",this.direction=new ct.Z($t).normalize().toArray(),this.shadow=ue}getProjectedLight(R){return this}}var X=Y(9751);class et{constructor(R,ht={id:"pass"}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"props",void 0);const{id:Nt}=ht;this.id=Nt,this.gl=R,this.props={...ht}}setProps(R){Object.assign(this.props,R)}render(R){}cleanup(){}}var W=Y(7591),it=Y(7605);class V extends et{render(R){return(0,W.dR)(this.gl,{framebuffer:R.target}),this._drawLayers(R)}_drawLayers(R){const{target:ht,moduleParameters:Nt,viewports:$t,views:ue,onViewportActive:Ce,clearCanvas:Ie=!0}=R;R.pass=R.pass||"unknown";const dn=this.gl;Ie&&function Ct(ke){(0,W.dR)(ke,{viewport:[0,0,ke.drawingBufferWidth,ke.drawingBufferHeight]}),ke.clear(16640)}(dn);const Pn=[];for(const Un of $t){const Hn=ue&&ue[Un.id];Ce(Un);const Li=this._getDrawLayerParams(Un,R),si=Un.subViewports||[Un];for(const di of si){const eo=this._drawLayersInViewport(dn,{target:ht,moduleParameters:Nt,viewport:di,view:Hn,pass:R.pass,layers:R.layers},Li);Pn.push(eo)}}return Pn}_getDrawLayerParams(R,{layers:ht,pass:Nt,layerFilter:$t,cullRect:ue,effects:Ce,moduleParameters:Ie}){const dn=[],Pn=lt(),Un={layer:ht[0],viewport:R,isPicking:Nt.startsWith("picking"),renderPass:Nt,cullRect:ue},Hn={};for(let Li=0;Li<ht.length;Li++){const si=ht[Li],di=this._shouldDrawLayer(si,Un,$t,Hn),eo={shouldDrawLayer:di};di&&(eo.layerRenderIndex=Pn(si,di),eo.moduleParameters=this._getModuleParameters(si,Ce,Nt,Ie),eo.layerParameters=this.getLayerParameters(si,Li,R)),dn[Li]=eo}return dn}_drawLayersInViewport(R,{layers:ht,moduleParameters:Nt,pass:$t,target:ue,viewport:Ce,view:Ie},dn){const Pn=function mt(ke,{moduleParameters:R,target:ht,viewport:Nt}){const $t=ht&&"default-framebuffer"!==ht.id,ue=R&&R.devicePixelRatio||(0,W.w)(ke);return[Nt.x*ue,($t?ht.height:ke.drawingBufferHeight)-(Nt.y+Nt.height)*ue,Nt.width*ue,Nt.height*ue]}(R,{moduleParameters:Nt,target:ue,viewport:Ce});if(Ie&&Ie.props.clear){const Hn=!0===Ie.props.clear?{color:!0,depth:!0}:Ie.props.clear;(0,W.s8)(R,{scissorTest:!0,scissor:Pn},()=>(0,it.Z)(R,Hn))}const Un={totalCount:ht.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,W.dR)(R,{viewport:Pn});for(let Hn=0;Hn<ht.length;Hn++){const Li=ht[Hn],{shouldDrawLayer:si,layerRenderIndex:di,moduleParameters:eo,layerParameters:zo}=dn[Hn];if(si&&Li.props.pickable&&Un.pickableCount++,Li.isComposite)Un.compositeCount++;else if(si){Un.visibleCount++,eo.viewport=Ce;try{Li._drawLayer({moduleParameters:eo,uniforms:{layerIndex:di},parameters:zo})}catch(f){Li.raiseError(f,"drawing ".concat(Li," to ").concat($t))}}}return Un}shouldDrawLayer(R){return!0}getModuleParameters(R,ht){return null}getLayerParameters(R,ht,Nt){return R.props.parameters}_shouldDrawLayer(R,ht,Nt,$t){if(!R.props.visible||!this.shouldDrawLayer(R))return!1;ht.layer=R;let Ce=R.parent;for(;Ce;){if(!Ce.props.visible||!Ce.filterSubLayer(ht))return!1;ht.layer=Ce,Ce=Ce.parent}if(Nt){const Ie=ht.layer.id;if(Ie in $t||($t[Ie]=Nt(ht)),!$t[Ie])return!1}return R.activateViewport(ht.viewport),!0}_getModuleParameters(R,ht,Nt,$t){var ue;const Ce=Object.assign(Object.create((null===(ue=R.internalState)||void 0===ue?void 0:ue.propsInTransition)||R.props),{autoWrapLongitude:R.wrapLongitude,viewport:R.context.viewport,mousePosition:R.context.mousePosition,pickingActive:0,devicePixelRatio:(0,W.w)(this.gl)});if(ht)for(const dn of ht){var Ie;Object.assign(Ce,null===(Ie=dn.getModuleParameters)||void 0===Ie?void 0:Ie.call(dn,R))}return Object.assign(Ce,this.getModuleParameters(R,ht),$t)}}function lt(ke=0,R={}){const ht={},Nt=($t,ue)=>{const Ce=$t.props._offset,Ie=$t.id,dn=$t.parent&&$t.parent.id;let Pn;if(dn&&!(dn in R)&&Nt($t.parent,!1),dn in ht){const Un=ht[dn]=ht[dn]||lt(R[dn],R);Pn=Un($t,ue),ht[Ie]=Un}else Number.isFinite(Ce)?(Pn=Ce+(R[dn]||0),ht[Ie]=null):Pn=ke;return ue&&Pn>=ke&&(ke=Pn+1),R[Ie]=Pn,Pn};return Nt}var wt=Y(1296),q=Y(2778);class Pt extends V{constructor(R,ht){super(R,ht),(0,J.Z)(this,"shadowMap",void 0),(0,J.Z)(this,"depthBuffer",void 0),(0,J.Z)(this,"fbo",void 0),this.shadowMap=new Z.Z(R,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new wt.Z(R,{format:33189,width:1,height:1}),this.fbo=new q.Z(R,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(R){const ht=this.fbo;(0,W.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const Nt=R.viewports[0],$t=(0,W.w)(this.gl),ue=Nt.width*$t,Ce=Nt.height*$t;(ue!==ht.width||Ce!==ht.height)&&ht.resize({width:ue,height:Ce}),super.render({...R,target:ht,pass:"shadow"})})}shouldDrawLayer(R){return!1!==R.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}var Tt=Y(7517),It=Y(7869),ut=Y(4698);const Et=(0,It.Z)(function Ft({viewport:ke,center:R}){return new X.Z(ke.viewProjectionMatrix).invert().transform(R)}),vt=(0,It.Z)(function Ee({viewport:ke,shadowMatrices:R}){const ht=[],Nt=ke.pixelUnprojectionMatrix,$t=ke.isGeospatial?void 0:1,ue=[[0,0,$t],[ke.width,0,$t],[0,ke.height,$t],[ke.width,ke.height,$t],[0,0,-1],[ke.width,0,-1],[0,ke.height,-1],[ke.width,ke.height,-1]].map(Ce=>function Zt(ke,R){const[ht,Nt,$t]=ke,ue=(0,ut.CT)([ht,Nt,$t],R);return Number.isFinite($t)?ue:[ue[0],ue[1],0]}(Ce,Nt));for(const Ce of R){const Ie=Ce.clone().translate(new ct.Z(ke.center).negate()),dn=ue.map(Un=>Ie.transform(Un)),Pn=(new X.Z).ortho({left:Math.min(...dn.map(Un=>Un[0])),right:Math.max(...dn.map(Un=>Un[0])),bottom:Math.min(...dn.map(Un=>Un[1])),top:Math.max(...dn.map(Un=>Un[1])),near:Math.min(...dn.map(Un=>-Un[2])),far:Math.max(...dn.map(Un=>-Un[2]))});ht.push(Pn.multiplyRight(Ce))}return ht}),dt=[0,0,0,1],_t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],qt={name:"shadow",dependencies:[Tt.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(ke={},R={})=>"viewport"in ke&&(ke.drawToShadowMap||ke.shadowMaps&&ke.shadowMaps.length>0)?function Wt(ke,R){const{shadowEnabled:ht=!0}=ke;if(!ht||!ke.shadowMatrices||!ke.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const Nt={shadow_uDrawShadowMap:Boolean(ke.drawToShadowMap),shadow_uUseShadowMap:!!ke.shadowMaps&&ke.shadowMaps.length>0,shadow_uColor:ke.shadowColor||dt,shadow_uLightId:ke.shadowLightId||0,shadow_uLightCount:ke.shadowMatrices.length},$t=Et({viewport:ke.viewport,center:R.project_uCenter}),ue=[],Ce=vt({shadowMatrices:ke.shadowMatrices,viewport:ke.viewport}).slice();for(let Ie=0;Ie<ke.shadowMatrices.length;Ie++){const dn=Ce[Ie],Pn=dn.clone().translate(new ct.Z(ke.viewport.center).negate());R.project_uCoordinateSystem===tt.Df.LNGLAT&&R.project_uProjectionMode===tt.zG.WEB_MERCATOR?(Ce[Ie]=Pn,ue[Ie]=$t):(Ce[Ie]=dn.clone().multiplyRight(_t),ue[Ie]=Pn.transform($t))}for(let Ie=0;Ie<Ce.length;Ie++)Nt["shadow_uViewProjectionMatrices[".concat(Ie,"]")]=Ce[Ie],Nt["shadow_uProjectCenters[".concat(Ie,"]")]=ue[Ie],Nt["shadow_uShadowMap".concat(Ie)]=ke.shadowMaps&&ke.shadowMaps.length>0?ke.shadowMaps[Ie]:ke.dummyShadowMap;return Nt}(ke,R):{}},pe={color:[255,255,255],intensity:1},Ne=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],Le=[0,0,0,200/255];class re{constructor(R={}){(0,J.Z)(this,"id","lighting-effect"),(0,J.Z)(this,"props",null),(0,J.Z)(this,"shadowColor",Le),(0,J.Z)(this,"shadow",void 0),(0,J.Z)(this,"ambientLight",null),(0,J.Z)(this,"directionalLights",[]),(0,J.Z)(this,"pointLights",[]),(0,J.Z)(this,"shadowPasses",[]),(0,J.Z)(this,"shadowMaps",[]),(0,J.Z)(this,"dummyShadowMap",null),(0,J.Z)(this,"programManager",void 0),(0,J.Z)(this,"shadowMatrices",void 0);for(const ht in R){const Nt=R[ht];switch(Nt.type){case"ambient":this.ambientLight=Nt;break;case"directional":this.directionalLights.push(Nt);break;case"point":this.pointLights.push(Nt)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(ht=>ht.shadow)}preRender(R,{layers:ht,layerFilter:Nt,viewports:$t,onViewportActive:ue,views:Ce}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(R),this.programManager||(this.programManager=F.Z.getDefaultProgramManager(R),qt&&this.programManager.addDefaultModule(qt)),this.dummyShadowMap||(this.dummyShadowMap=new Z.Z(R,{width:1,height:1}));for(let Ie=0;Ie<this.shadowPasses.length;Ie++)this.shadowPasses[Ie].render({layers:ht,layerFilter:Nt,viewports:$t,onViewportActive:ue,views:Ce,moduleParameters:{shadowLightId:Ie,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(R){const ht=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return ht.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(Nt=>Nt.getProjectedLight({layer:R})),pointLights:this.pointLights.map(Nt=>Nt.getProjectedLight({layer:R}))},ht}cleanup(){for(const R of this.shadowPasses)R.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(qt),this.programManager=null)}_calculateMatrices(){const R=[];for(const ht of this.directionalLights){const Nt=(new X.Z).lookAt({eye:new ct.Z(ht.direction).negate()});R.push(Nt)}return R}_createShadowPasses(R){for(let ht=0;ht<this.directionalLights.length;ht++){const Nt=new Pt(R);this.shadowPasses[ht]=Nt,this.shadowMaps[ht]=Nt.shadowMap}}_applyDefaultLights(){const{ambientLight:R,pointLights:ht,directionalLights:Nt}=this;!R&&0===ht.length&&0===Nt.length&&(this.ambientLight=new at(pe),this.directionalLights.push(new bt(Ne[0]),new bt(Ne[1])))}}var Me=Y(3127);const le=[255,255,255],Dt=1,Ht=[0,0,1],jt=[0,0,1];let Ut=0;class gt{constructor(R={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"color",void 0),(0,J.Z)(this,"intensity",void 0),(0,J.Z)(this,"type","point"),(0,J.Z)(this,"position",void 0),(0,J.Z)(this,"attenuation",void 0),(0,J.Z)(this,"projectedLight",void 0);const{color:ht=le}=R,{intensity:Nt=Dt}=R,{position:$t=jt}=R;this.id=R.id||"point-".concat(Ut++),this.color=ht,this.intensity=Nt,this.type="point",this.position=$t,this.attenuation=function At(ke){return ke.attenuation?ke.attenuation:"intensity"in ke?[0,0,ke.intensity||0]:Ht}(R),this.projectedLight={...this}}getProjectedLight({layer:R}){const{projectedLight:ht}=this,Nt=R.context.viewport,{coordinateSystem:$t,coordinateOrigin:ue}=R.props,Ce=(0,Me.D)(this.position,{viewport:Nt,coordinateSystem:$t,coordinateOrigin:ue,fromCoordinateSystem:Nt.isGeospatial?tt.Df.LNGLAT:tt.Df.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return ht.color=this.color,ht.intensity=this.intensity,ht.position=Ce,ht}}var St=Y(6231);class S extends gt{getProjectedLight({layer:R}){const{projectedLight:ht}=this,Nt=R.context.viewport,{coordinateSystem:$t,coordinateOrigin:ue,modelMatrix:Ce}=R.props,{project_uCameraPosition:Ie}=(0,St.C)({viewport:Nt,modelMatrix:Ce,coordinateSystem:$t,coordinateOrigin:ue});return ht.color=this.color,ht.intensity=this.intensity,ht.position=Ie,ht}}const P=Math.PI/180,z=864e5,ft=2440588,Mt=2451545,Ot=23.4397*P,me=357.5291,ye=.98560028,xe=280.147,ze=360.9856235;function Ue(ke,R,ht){const{azimuth:Nt,altitude:$t}=function Qe(ke,R,ht){const Nt=P*-ht,$t=P*R,ue=function un(ke){return function sn(ke){return("number"==typeof ke?ke:ke.getTime())/z-.5+ft}(ke)-Mt}(ke),Ce=function We(ke){const R=function _e(ke){return P*(me+ye*ke)}(ke),ht=function Oe(ke){const R=ke;return R+P*(1.9148*Math.sin(R)+.02*Math.sin(2*R)+3e-4*Math.sin(3*R))+102.9372*P+Math.PI}(R);return{declination:xn(ht,0),rightAscension:ln(ht,0)}}(ue),Ie=function Qt(ke,R){return P*(xe+ze*ke)-R}(ue,Nt)-Ce.rightAscension;return{azimuth:cn(Ie,$t,Ce.declination),altitude:Pe(Ie,$t,Ce.declination)}}(ke,R,ht);return[Math.sin(Nt)*Math.cos($t),Math.cos(Nt)*Math.cos($t),-Math.sin($t)]}function ln(ke,R){const ht=ke;return Math.atan2(Math.sin(ht)*Math.cos(Ot)-Math.tan(R)*Math.sin(Ot),Math.cos(ht))}function xn(ke,R){const ht=ke;return Math.asin(Math.sin(R)*Math.cos(Ot)+Math.cos(R)*Math.sin(Ot)*Math.sin(ht))}function cn(ke,R,ht){const Nt=ke,$t=R,ue=ht;return Math.atan2(Math.sin(Nt),Math.cos(Nt)*Math.sin($t)-Math.tan(ue)*Math.cos($t))}function Pe(ke,R,ht){const Nt=ke,$t=R,ue=ht;return Math.asin(Math.sin($t)*Math.sin(ue)+Math.cos($t)*Math.cos(ue)*Math.cos(Nt))}class rn extends bt{constructor(R){super(R),(0,J.Z)(this,"timestamp",void 0),this.timestamp=R.timestamp}getProjectedLight({layer:R}){const{viewport:ht}=R.context;if(ht.resolution&&ht.resolution>0){const[$t,ue,Ce]=Ue(this.timestamp,0,0);this.direction=[$t,-Ce,ue]}else{const{latitude:$t,longitude:ue}=ht;this.direction=Ue(this.timestamp,$t,ue)}return this}}var _n=Y(525),en=Y(3184);const Bt=[-1,-1,1,-1,-1,1,1,1];class Jt extends _n.Z{constructor(R,ht){const Nt=Bt.map($t=>-1===$t?0:$t);super(R,Object.assign({},ht,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new en.Z({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(Bt)},aTexCoord:{size:2,value:new Float32Array(Nt)},aCoordinate:{size:2,value:new Float32Array(Nt)}}})})),this.setVertexCount(4)}}class Ae extends et{constructor(R,ht){super(R,ht),(0,J.Z)(this,"model",void 0);const{module:Nt,fs:$t,id:ue}=ht;this.model=new Jt(R,{id:ue,fs:$t,modules:[Nt]})}render(R){const ht=this.gl;(0,W.dR)(ht,{viewport:[0,0,ht.drawingBufferWidth,ht.drawingBufferHeight]}),(0,W.s8)(ht,{framebuffer:R.outputBuffer,clearColor:[0,0,0,0]},()=>this._renderPass(ht,R))}delete(){this.model.delete(),this.model=null}_renderPass(R,ht){const{inputBuffer:Nt}=ht;(0,it.Z)(R,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:Nt,texSize:[Nt.width,Nt.height]},parameters:{depthWrite:!1,depthTest:!1}})}}var je=Y(419);class Je{constructor(R,ht={}){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"props",void 0),(0,J.Z)(this,"module",void 0),(0,J.Z)(this,"passes",void 0),this.id="".concat(R.name,"-pass"),this.props=ht,(0,je.v)(R),this.module=R}preRender(){}postRender(R,ht){const Nt=this.passes||function An(ke,R,ht,Nt){if(!R.passes){const $t=Ri(R);return[new Ae(ke,{id:ht,module:R,fs:$t,moduleSettings:Nt})]}return R.passes.map(($t,ue)=>{const Ce=Ri(R,$t),Ie="".concat(ht,"-").concat(ue);return new Ae(ke,{id:Ie,module:R,fs:Ce,moduleSettings:Nt})})}(R,this.module,this.id,this.props);this.passes=Nt;const{target:$t}=ht;let ue=ht.inputBuffer,Ce=ht.swapBuffer;for(let Ie=0;Ie<this.passes.length;Ie++){$t&&Ie===this.passes.length-1&&(Ce=$t),this.passes[Ie].render({inputBuffer:ue,outputBuffer:Ce});const dn=Ce;Ce=ue,ue=dn}return ue}cleanup(){if(this.passes){for(const R of this.passes)R.delete();this.passes=void 0}}}const vi=ke=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(ke,"(gl_FragColor, texSize, texCoord);\n}\n"),ur=ke=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(ke,"(texture, texSize, texCoord);\n}\n");function Ri(ke,R=ke){if(R.filter){const ht="string"==typeof R.filter?R.filter:"".concat(ke.name,"_filterColor");return vi(ht)}if(R.sampler){const ht="string"==typeof R.sampler?R.sampler:"".concat(ke.name,"_sampleColor");return ur(ht)}return null}let Ji=1,Lo=1;class Za{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(R){const{delay:ht=0,duration:Nt=Number.POSITIVE_INFINITY,rate:$t=1,repeat:ue=1}=R,Ce=Ji++,Ie={time:0,delay:ht,duration:Nt,rate:$t,repeat:ue};return this._setChannelTime(Ie,this.time),this.channels.set(Ce,Ie),Ce}removeChannel(R){this.channels.delete(R);for(const[ht,Nt]of this.animations)Nt.channel===R&&this.detachAnimation(ht)}isFinished(R){const ht=this.channels.get(R);return void 0!==ht&&this.time>=ht.delay+ht.duration*ht.repeat}getTime(R){if(void 0===R)return this.time;const ht=this.channels.get(R);return void 0===ht?-1:ht.time}setTime(R){this.time=Math.max(0,R);const ht=this.channels.values();for(const $t of ht)this._setChannelTime($t,this.time);const Nt=this.animations.values();for(const $t of Nt){const{animation:ue,channel:Ce}=$t;ue.setTime(this.getTime(Ce))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(R,ht){const Nt=Lo++;return this.animations.set(Nt,{animation:R,channel:ht}),R.setTime(this.getTime(ht)),Nt}detachAnimation(R){this.animations.delete(R)}update(R){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=R),this.setTime(this.time+(R-this.lastEngineTime)),this.lastEngineTime=R)}_setChannelTime(R,ht){const Nt=ht-R.delay;Nt>=R.duration*R.repeat?R.time=R.duration*R.rate:(R.time=Math.max(0,Nt)%R.duration,R.time*=R.rate)}}var Xo=Y(4132),Bi=Y(967),ua=Y(3064),zt=Y(5839),Yt=Y(5651),Be=Y(278);class qe{constructor(R,ht,Nt){(0,J.Z)(this,"id",void 0),(0,J.Z)(this,"context",void 0),(0,J.Z)(this,"isLoaded",void 0),(0,J.Z)(this,"persistent",void 0),(0,J.Z)(this,"_loadCount",0),(0,J.Z)(this,"_subscribers",new Set),(0,J.Z)(this,"_data",void 0),(0,J.Z)(this,"_loader",void 0),(0,J.Z)(this,"_error",void 0),(0,J.Z)(this,"_content",void 0),this.id=R,this.context=Nt,this.setData(ht)}subscribe(R){this._subscribers.add(R)}unsubscribe(R){this._subscribers.delete(R)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(R,ht){if(R===this._data&&!ht)return;this._data=R;const Nt=++this._loadCount;let $t=R;"string"==typeof R&&($t=(0,Be.z)(R)),$t instanceof Promise?(this.isLoaded=!1,this._loader=$t.then(ue=>{this._loadCount===Nt&&(this.isLoaded=!0,this._error=void 0,this._content=ue)}).catch(ue=>{this._loadCount===Nt&&(this.isLoaded=!0,this._error=ue||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=R);for(const ue of this._subscribers)ue.onChange(this.getData())}}class an{constructor({gl:R,protocol:ht}){(0,J.Z)(this,"protocol",void 0),(0,J.Z)(this,"_context",void 0),(0,J.Z)(this,"_resources",void 0),(0,J.Z)(this,"_consumers",void 0),(0,J.Z)(this,"_pruneRequest",void 0),this.protocol=ht||"resource://",this._context={gl:R,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(R){return!!R.startsWith(this.protocol)||R in this._resources}add({resourceId:R,data:ht,forceUpdate:Nt=!1,persistent:$t=!0}){let ue=this._resources[R];ue?ue.setData(ht,Nt):(ue=new qe(R,ht,this._context),this._resources[R]=ue),ue.persistent=$t}remove(R){const ht=this._resources[R];ht&&(ht.delete(),delete this._resources[R])}unsubscribe({consumerId:R}){const ht=this._consumers[R];if(ht){for(const Nt in ht){const $t=ht[Nt],ue=this._resources[$t.resourceId];ue&&ue.unsubscribe($t)}delete this._consumers[R],this.prune()}}subscribe({resourceId:R,onChange:ht,consumerId:Nt,requestId:$t="default"}){const{_resources:ue,protocol:Ce}=this;R.startsWith(Ce)&&(ue[R=R.replace(Ce,"")]||this.add({resourceId:R,data:null,persistent:!1}));const Ie=ue[R];if(this._track(Nt,$t,Ie,ht),Ie)return Ie.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const R in this._resources)this._resources[R].delete()}_track(R,ht,Nt,$t){const ue=this._consumers,Ce=ue[R]=ue[R]||{},Ie=Ce[ht]||{},dn=Ie.resourceId&&this._resources[Ie.resourceId];dn&&(dn.unsubscribe(Ie),this.prune()),Nt&&(Ce[ht]=Ie,Ie.onChange=$t,Ie.resourceId=Nt.id,Nt.subscribe(Ie))}_prune(){this._pruneRequest=null;for(const R of Object.keys(this._resources)){const ht=this._resources[R];!ht.persistent&&!ht.inUse()&&(ht.delete(),delete this._resources[R])}}}var Fn=Y(3229);const ri=[Tt.Z],Ai=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function Vi(ke){const R=F.Z.getDefaultProgramManager(ke);for(const ht of ri)R.addDefaultModule(ht);for(const ht of Ai)R.addShaderHook(ht);return R}class fo{constructor(R,{deck:ht,stats:Nt,viewport:$t,timeline:ue}={}){(0,J.Z)(this,"layers",void 0),(0,J.Z)(this,"context",void 0),(0,J.Z)(this,"resourceManager",void 0),(0,J.Z)(this,"_lastRenderedLayers",[]),(0,J.Z)(this,"_needsRedraw",!1),(0,J.Z)(this,"_needsUpdate",!1),(0,J.Z)(this,"_nextLayers",null),(0,J.Z)(this,"_debug",!1),(0,J.Z)(this,"activateViewport",Ce=>{(0,ua.Z)("layerManager.activateViewport",this,Ce),Ce&&(this.context.viewport=Ce)}),this.layers=[],this.resourceManager=new an({gl:R,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:R,deck:ht,programManager:R&&Vi(R),stats:Nt||new Yt.Z({id:"deck.gl"}),viewport:$t||new Fn.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:ue||new Za,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const R of this.layers)this._finalizeLayer(R)}needsRedraw(R={clearRedrawFlags:!1}){let ht=this._needsRedraw;R.clearRedrawFlags&&(this._needsRedraw=!1);for(const Nt of this.layers){const $t=Nt.getNeedsRedraw(R);ht=ht||$t}return ht}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(R){this._needsRedraw=this._needsRedraw||R}setNeedsUpdate(R){this._needsUpdate=this._needsUpdate||R}getLayers({layerIds:R}={}){return R?this.layers.filter(ht=>R.find(Nt=>0===ht.id.indexOf(Nt))):this.layers}setProps(R){"debug"in R&&(this._debug=R.debug),"userData"in R&&(this.context.userData=R.userData),"layers"in R&&(this._nextLayers=R.layers),"onError"in R&&(this.context.onError=R.onError)}setLayers(R,ht){(0,ua.Z)("layerManager.setLayers",this,ht,R),this._lastRenderedLayers=R;const Nt=(0,zt.x)(R,Boolean);for(const $t of Nt)$t.context=this.context;this._updateLayers(this.layers,Nt)}updateLayers(){const R=this.needsUpdate();R&&(this.setNeedsRedraw("updating layers: ".concat(R)),this.setLayers(this._nextLayers||this._lastRenderedLayers,R)),this._nextLayers=null}_handleError(R,ht,Nt){Nt.raiseError(ht,"".concat(R," of ").concat(Nt))}_updateLayers(R,ht){const Nt={};for(const Ce of R)Nt[Ce.id]?Bi.Z.warn("Multiple old layers with same id ".concat(Ce.id))():Nt[Ce.id]=Ce;const $t=[];this._updateSublayersRecursively(ht,Nt,$t),this._finalizeOldLayers(Nt);let ue=!1;for(const Ce of $t)if(Ce.hasUniformTransition()){ue="Uniform transition in ".concat(Ce);break}this._needsUpdate=ue,this.layers=$t}_updateSublayersRecursively(R,ht,Nt){for(const $t of R){$t.context=this.context;const ue=ht[$t.id];null===ue&&Bi.Z.warn("Multiple new layers with same id ".concat($t.id))(),ht[$t.id]=null;let Ce=null;try{this._debug&&ue!==$t&&$t.validateProps(),ue?(this._transferLayerState(ue,$t),this._updateLayer($t)):this._initializeLayer($t),Nt.push($t),Ce=$t.isComposite?$t.getSubLayers():null}catch(Ie){this._handleError("matching",Ie,$t)}Ce&&this._updateSublayersRecursively(Ce,ht,Nt)}}_finalizeOldLayers(R){for(const ht in R){const Nt=R[ht];Nt&&this._finalizeLayer(Nt)}}_initializeLayer(R){try{R._initialize(),R.lifecycle=Xo.dt.INITIALIZED}catch(ht){this._handleError("initialization",ht,R)}}_transferLayerState(R,ht){ht._transferState(R),ht.lifecycle=Xo.dt.MATCHED,ht!==R&&(R.lifecycle=Xo.dt.AWAITING_GC)}_updateLayer(R){try{R._update()}catch(ht){this._handleError("update",ht,R)}}_finalizeLayer(R){this._needsRedraw=this._needsRedraw||"finalized ".concat(R),R.lifecycle=Xo.dt.AWAITING_FINALIZATION;try{R._finalize(),R.lifecycle=Xo.dt.FINALIZED}catch(ht){this._handleError("finalization",ht,R)}}}var Va=Y(7358);class jo{constructor(R){(0,J.Z)(this,"width",void 0),(0,J.Z)(this,"height",void 0),(0,J.Z)(this,"views",void 0),(0,J.Z)(this,"viewState",void 0),(0,J.Z)(this,"controllers",void 0),(0,J.Z)(this,"timeline",void 0),(0,J.Z)(this,"_viewports",void 0),(0,J.Z)(this,"_viewportMap",void 0),(0,J.Z)(this,"_isUpdating",void 0),(0,J.Z)(this,"_needsRedraw",void 0),(0,J.Z)(this,"_needsUpdate",void 0),(0,J.Z)(this,"_eventManager",void 0),(0,J.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=R.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=R.eventManager,this._eventCallbacks={onViewStateChange:R.onViewStateChange,onInteractionStateChange:R.onInteractionStateChange},Object.seal(this),this.setProps(R)}finalize(){for(const R in this.controllers){const ht=this.controllers[R];ht&&ht.finalize()}this.controllers={}}needsRedraw(R={clearRedrawFlags:!1}){const ht=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ht}setNeedsUpdate(R){this._needsUpdate=this._needsUpdate||R,this._needsRedraw=this._needsRedraw||R}updateViewStates(){for(const R in this.controllers){const ht=this.controllers[R];ht&&ht.updateTransition()}}getViewports(R){return R?this._viewports.filter(ht=>ht.containsPixel(R)):this._viewports}getViews(){const R={};return this.views.forEach(ht=>{R[ht.id]=ht}),R}getView(R){return this.views.find(ht=>ht.id===R)}getViewState(R){const ht="string"==typeof R?this.getView(R):R,Nt=ht&&this.viewState[ht.getViewStateId()]||this.viewState;return ht?ht.filterViewState(Nt):Nt}getViewport(R){return this._viewportMap[R]}unproject(R,ht){const Nt=this.getViewports(),$t={x:R[0],y:R[1]};for(let ue=Nt.length-1;ue>=0;--ue){const Ce=Nt[ue];if(Ce.containsPixel($t)){const Ie=R.slice();return Ie[0]-=Ce.x,Ie[1]-=Ce.y,Ce.unproject(Ie,ht)}}return null}setProps(R){R.views&&this._setViews(R.views),R.viewState&&this._setViewState(R.viewState),("width"in R||"height"in R)&&this._setSize(R.width,R.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(R,ht){(R!==this.width||ht!==this.height)&&(this.width=R,this.height=ht,this.setNeedsUpdate("Size changed"))}_setViews(R){R=(0,zt.x)(R,Boolean),this._diffViews(R,this.views)&&this.setNeedsUpdate("views changed"),this.views=R}_setViewState(R){R?(!(0,Va.v)(R,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=R):Bi.Z.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(R,ht){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...ht,viewId:R})}_createController(R,ht){return new(0,ht.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,ht.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:ue=>R.makeViewport({viewState:ue,width:this.width,height:this.height})})}_updateController(R,ht,Nt,$t){const ue=R.controller;if(ue){const Ce={...ht,...ue,id:R.id,x:Nt.x,y:Nt.y,width:Nt.width,height:Nt.height};return $t||($t=this._createController(R,Ce)),$t&&$t.setProps(Ce),$t}return null}_rebuildViewports(){const{views:R}=this,ht=this.controllers;this._viewports=[],this.controllers={};let Nt=!1;for(let $t=R.length;$t--;){const ue=R[$t],Ce=this.getViewState(ue),Ie=ue.makeViewport({viewState:Ce,width:this.width,height:this.height});let dn=ht[ue.id];const Pn=Boolean(ue.controller);Pn&&!dn&&(Nt=!0),(Nt||!Pn)&&dn&&(dn.finalize(),dn=null),this.controllers[ue.id]=this._updateController(ue,Ce,Ie,dn),this._viewports.unshift(Ie)}for(const $t in ht){const ue=ht[$t];ue&&!this.controllers[$t]&&ue.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(R=>{R.id&&(this._viewportMap[R.id]=this._viewportMap[R.id]||R)})}_diffViews(R,ht){return R.length!==ht.length||R.some((Nt,$t)=>!R[$t].equals(ht[$t]))}}var Xs=Y(6962),zi=Y(4822);class cs extends V{constructor(R,ht){super(R,ht),(0,J.Z)(this,"maskMap",void 0),(0,J.Z)(this,"fbo",void 0);const{mapSize:Nt=2048}=ht;this.maskMap=new Z.Z(R,{width:Nt,height:Nt,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new q.Z(R,{id:"maskmap",width:Nt,height:Nt,attachments:{36064:this.maskMap}})}render(R){const ht=this.gl,Nt=[!1,!1,!1,!1];return Nt[R.channel]=!0,(0,W.s8)(ht,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:Nt,depthTest:!1},()=>super.render({...R,target:this.fbo,pass:"mask"}))}shouldDrawLayer(R){return R.props.operation===tt.k8.MASK}delete(){this.fbo.delete(),this.maskMap.delete()}}var Qi=Y(7389),po=Y(8235);const nl=(new X.Z).lookAt({eye:[0,0,1]});function os({width:ke,height:R,near:ht,far:Nt,padding:$t}){let ue=-ke/2,Ce=ke/2,Ie=-R/2,dn=R/2;if($t){const{left:Pn=0,right:Un=0,top:Hn=0,bottom:Li=0}=$t,si=(0,zi.uZ)((Pn+ke-Un)/2,0,ke)-ke/2,di=(0,zi.uZ)((Hn+R-Li)/2,0,R)-R/2;ue-=si,Ce-=si,Ie+=di,dn+=di}return(new X.Z).ortho({left:ue,right:Ce,bottom:Ie,top:dn,near:ht,far:Nt})}class as extends Fn.Z{constructor(R){const{width:ht,height:Nt,near:$t=.1,far:ue=1e3,zoom:Ce=0,target:Ie=[0,0,0],padding:dn=null,flipY:Pn=!0}=R,Un=Array.isArray(Ce)?Ce[0]:Ce,Hn=Array.isArray(Ce)?Ce[1]:Ce,Li=Math.min(Un,Hn),si=Math.pow(2,Li);let di;if(Un!==Hn){const eo=Math.pow(2,Un),zo=Math.pow(2,Hn);di={unitsPerMeter:[eo/si,zo/si,1],metersPerUnit:[si/eo,si/zo,1]}}super({...R,longitude:void 0,position:Ie,viewMatrix:nl.clone().scale([si,si*(Pn?-1:1),si]),projectionMatrix:os({width:ht||1,height:Nt||1,padding:dn,near:$t,far:ue}),zoom:Li,distanceScales:di})}projectFlat([R,ht]){const{unitsPerMeter:Nt}=this.distanceScales;return[R*Nt[0],ht*Nt[1]]}unprojectFlat([R,ht]){const{metersPerUnit:Nt}=this.distanceScales;return[R*Nt[0],ht*Nt[1]]}panByPosition(R,ht){const Nt=(0,ut.CT)(ht,this.pixelUnprojectionMatrix),$t=this.projectFlat(R),ue=po.IH([],$t,po.tk([],Nt)),Ce=po.IH([],this.center,ue);return{target:this.unprojectFlat(Ce)}}}var ki=Y(2409),Yi=Y(3031),sr=Y(8763),us=Y(8251);class so extends Yi.Z{constructor(R){const{width:ht,height:Nt,rotationX:$t=0,rotationOrbit:ue=0,target:Ce=[0,0,0],zoom:Ie=0,minRotationX:dn=-90,maxRotationX:Pn=90,minZoom:Un=-1/0,maxZoom:Hn=1/0,startPanPosition:Li,startRotatePos:si,startRotationX:di,startRotationOrbit:eo,startZoomPosition:zo,startZoom:f}=R;super({width:ht,height:Nt,rotationX:$t,rotationOrbit:ue,target:Ce,zoom:Ie,minRotationX:dn,maxRotationX:Pn,minZoom:Un,maxZoom:Hn},{startPanPosition:Li,startRotatePos:si,startRotationX:di,startRotationOrbit:eo,startZoomPosition:zo,startZoom:f}),(0,J.Z)(this,"makeViewport",void 0),this.makeViewport=R.makeViewport}panStart({pos:R}){return this._getUpdatedState({startPanPosition:this._unproject(R)})}pan({pos:R,startPosition:ht}){const Nt=this.getState().startPanPosition||ht;if(!Nt)return this;const ue=this.makeViewport(this.getViewportProps()).panByPosition(Nt,R);return this._getUpdatedState(ue)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:R}){return this._getUpdatedState({startRotatePos:R,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:R,deltaAngleX:ht=0,deltaAngleY:Nt=0}){const{startRotatePos:$t,startRotationX:ue,startRotationOrbit:Ce}=this.getState(),{width:Ie,height:dn}=this.getViewportProps();if(!$t||void 0===ue||void 0===Ce)return this;let Pn;if(R){let Un=(R[0]-$t[0])/Ie;(ue<-90||ue>90)&&(Un*=-1),Pn={rotationX:ue+(R[1]-$t[1])/dn*180,rotationOrbit:Ce+180*Un}}else Pn={rotationX:ue+Nt,rotationOrbit:Ce+ht};return this._getUpdatedState(Pn)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(R){const ht=R.getViewportProps(),Nt={...this.getViewportProps()},{rotationOrbit:$t}=Nt;return Math.abs($t-ht.rotationOrbit)>180&&(Nt.rotationOrbit=$t<0?$t+360:$t-360),Nt}zoomStart({pos:R}){return this._getUpdatedState({startZoomPosition:this._unproject(R),startZoom:this.getViewportProps().zoom})}zoom({pos:R,startPos:ht,scale:Nt}){let{startZoom:$t,startZoomPosition:ue}=this.getState();if(ue||($t=this.getViewportProps().zoom,ue=this._unproject(ht)||this._unproject(R)),!ue)return this;const Ce=this._calculateNewZoom({scale:Nt,startZoom:$t}),Ie=this.makeViewport({...this.getViewportProps(),zoom:Ce});return this._getUpdatedState({zoom:Ce,...Ie.panByPosition(ue,R)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(R=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:R})})}zoomOut(R=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/R})})}moveLeft(R=50){return this._panFromCenter([-R,0])}moveRight(R=50){return this._panFromCenter([R,0])}moveUp(R=50){return this._panFromCenter([0,-R])}moveDown(R=50){return this._panFromCenter([0,R])}rotateLeft(R=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-R})}rotateRight(R=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+R})}rotateUp(R=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-R})}rotateDown(R=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+R})}_unproject(R){const ht=this.makeViewport(this.getViewportProps());return R&&ht.unproject(R)}_calculateNewZoom({scale:R,startZoom:ht}){const{maxZoom:Nt,minZoom:$t}=this.getViewportProps();void 0===ht&&(ht=this.getViewportProps().zoom);const ue=ht+Math.log2(R);return(0,zi.uZ)(ue,$t,Nt)}_panFromCenter(R){const{width:ht,height:Nt,target:$t}=this.getViewportProps();return this.pan({startPosition:$t,pos:[ht/2+R[0],Nt/2+R[1]]})}_getUpdatedState(R){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...R})}applyConstraints(R){const{maxZoom:ht,minZoom:Nt,zoom:$t,maxRotationX:ue,minRotationX:Ce,rotationOrbit:Ie}=R;return R.zoom=Array.isArray($t)?[(0,zi.uZ)($t[0],Nt,ht),(0,zi.uZ)($t[1],Nt,ht)]:(0,zi.uZ)($t,Nt,ht),R.rotationX=(0,zi.uZ)(R.rotationX,Ce,ue),(Ie<-180||Ie>180)&&(R.rotationOrbit=(0,sr.wQ)(Ie+180,360)-180),R}}class oe extends ki.Z{constructor(...R){super(...R),(0,J.Z)(this,"ControllerState",so),(0,J.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new us.Z({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class we extends so{constructor(R){super(R),(0,J.Z)(this,"zoomAxis",void 0),this.zoomAxis=R.zoomAxis||"all"}_calculateNewZoom({scale:R,startZoom:ht}){const{maxZoom:Nt,minZoom:$t}=this.getViewportProps();void 0===ht&&(ht=this.getViewportProps().zoom);let ue=Math.log2(R);if(Array.isArray(ht)){let[Ce,Ie]=ht;switch(this.zoomAxis){case"X":Ce=(0,zi.uZ)(Ce+ue,$t,Nt);break;case"Y":Ie=(0,zi.uZ)(Ie+ue,$t,Nt);break;default:let dn=Math.min(Ce+ue,Ie+ue);dn<$t&&(ue+=$t-dn),dn=Math.max(Ce+ue,Ie+ue),dn>Nt&&(ue+=Nt-dn),Ce+=ue,Ie+=ue}return[Ce,Ie]}return(0,zi.uZ)(ht+ue,$t,Nt)}}class Re extends ki.Z{constructor(...R){super(...R),(0,J.Z)(this,"ControllerState",we),(0,J.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new us.Z(["target","zoom"])}),(0,J.Z)(this,"dragMode","pan")}_onPanRotate(){return!1}}class tn extends Qi.Z{get ViewportType(){return as}get ControllerType(){return Re}}(0,J.Z)(tn,"displayName","OrthographicView");var Ze=Y(5174);class Er{constructor(){(0,J.Z)(this,"id","mask-effect"),(0,J.Z)(this,"props",null),(0,J.Z)(this,"useInPicking",!0),(0,J.Z)(this,"dummyMaskMap",void 0),(0,J.Z)(this,"channels",[]),(0,J.Z)(this,"masks",null),(0,J.Z)(this,"maskPass",void 0),(0,J.Z)(this,"maskMap",void 0),(0,J.Z)(this,"lastViewport",void 0)}preRender(R,{layers:ht,layerFilter:Nt,viewports:$t,onViewportActive:ue,views:Ce}){this.dummyMaskMap||(this.dummyMaskMap=new Z.Z(R,{width:1,height:1}));const Ie=ht.filter(Hn=>Hn.props.visible&&Hn.props.operation===tt.k8.MASK);if(0===Ie.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new cs(R,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const dn=this._sortMaskChannels(Ie),Pn=$t[0],Un=!this.lastViewport||!this.lastViewport.equals(Pn);for(const Hn in dn)this._renderChannel(dn[Hn],{layerFilter:Nt,onViewportActive:ue,views:Ce,viewport:Pn,viewportChanged:Un})}_renderChannel(R,{layerFilter:ht,onViewportActive:Nt,views:$t,viewport:ue,viewportChanged:Ce}){const Ie=this.channels[R.index];if(!Ie)return;const dn=R===Ie||Ie.layers.length!==R.layers.length||R.layerBounds.some((Pn,Un)=>Pn!==Ie.layerBounds[Un]);if(R.bounds=Ie.bounds,R.maskBounds=Ie.maskBounds,this.channels[R.index]=R,(dn||Ce)&&(this.lastViewport=ue,R.bounds=function wn({layers:ke,viewport:R}){let ht=null;for(const ue of ke){const Ce=ue.getBounds();Ce&&(ht?(ht[0]=Math.min(ht[0],Ce[0][0]),ht[1]=Math.min(ht[1],Ce[0][1]),ht[2]=Math.max(ht[2],Ce[1][0]),ht[3]=Math.max(ht[3],Ce[1][1])):ht=[Ce[0][0],Ce[0][1],Ce[1][0],Ce[1][1]])}const Nt=R.getBounds();if(!ht)return Nt;const $t=function _i(ke){const R_x=ke[2]-ke[0],R_y=ke[3]-ke[1],ht_x=ke[0]+.5*R_x,ht_y=ke[1]+.5*R_y;return[ht_x-R_x,ht_y-R_y,ht_x+R_x,ht_y+R_y]}(Nt);return ht[2]-ht[0]<$t[2]-$t[0]||ht[3]-ht[1]<$t[3]-$t[1]||(ht[0]=Math.max(ht[0],$t[0]),ht[1]=Math.max(ht[1],$t[1]),ht[2]=Math.min(ht[2],$t[2]),ht[3]=Math.min(ht[3],$t[3])),ht}({layers:R.layers,viewport:ue}),dn||!(0,zi.fS)(R.bounds,Ie.bounds))){const{maskPass:Pn,maskMap:Un}=this,Hn=function pr({bounds:ke,viewport:R,width:ht,height:Nt}){if(ke[2]<=ke[0]||ke[3]<=ke[1])return null;if(ht-=2,Nt-=2,R instanceof Ze.Z){const{longitude:Ie,latitude:dn,zoom:Pn}=(0,ut.Xg)({width:ht,height:Nt,bounds:[[ke[0],ke[1]],[ke[2],ke[3]]],maxZoom:20});return new Ze.Z({longitude:Ie,latitude:dn,zoom:Pn,x:1,y:1,width:ht,height:Nt})}const ue=[(ke[0]+ke[2])/2,(ke[1]+ke[3])/2,0],Ce=Math.min(20,ht/(ke[2]-ke[0]),Nt/(ke[3]-ke[1]));return new tn({x:1,y:1}).makeViewport({width:ht,height:Nt,viewState:{target:ue,zoom:Math.log2(Ce)}})}({bounds:R.bounds,viewport:ue,width:Un.width,height:Un.height});R.maskBounds=Hn?Hn.getBounds():[0,0,1,1],Pn.render({pass:"mask",channel:R.index,layers:R.layers,layerFilter:ht,viewports:Hn?[Hn]:[],onViewportActive:Nt,views:$t,moduleParameters:{devicePixelRatio:1}})}this.masks[R.id]={index:R.index,bounds:R.maskBounds,coordinateOrigin:R.coordinateOrigin,coordinateSystem:R.coordinateSystem}}_sortMaskChannels(R){const ht={};let Nt=0;for(const $t of R){const{id:ue}=$t.root;let Ce=ht[ue];if(!Ce){if(++Nt>4){Bi.Z.warn("Too many mask layers. The max supported is 4")();continue}Ce={id:ue,index:this.channels.findIndex(Ie=>Ie?.id===ue),layers:[],layerBounds:[],coordinateOrigin:$t.root.props.coordinateOrigin,coordinateSystem:$t.root.props.coordinateSystem},ht[ue]=Ce}Ce.layers.push($t),Ce.layerBounds.push($t.getBounds())}for(let $t=0;$t<4;$t++){const ue=this.channels[$t];(!ue||!(ue.id in ht))&&(this.channels[$t]=null)}for(const $t in ht){const ue=ht[$t];ue.index<0&&(ue.index=this.channels.findIndex(Ce=>!Ce),this.channels[ue.index]=ue)}return ht}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const xo=new re;class En{constructor(){(0,J.Z)(this,"effects",void 0),(0,J.Z)(this,"_internalEffects",void 0),(0,J.Z)(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(R){"effects"in R&&(R.effects.length!==this.effects.length||!(0,Va.v)(R.effects,this.effects))&&(this.setEffects(R.effects),this._needsRedraw="effects changed")}needsRedraw(R={clearRedrawFlags:!1}){const ht=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ht}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(R=[]){this.cleanup(),this.effects=R,this._internalEffects=R.slice(),this._internalEffects.push(new Er),R.some(ht=>ht instanceof re)||this._internalEffects.push(xo)}cleanup(){for(const R of this.effects)R.cleanup();for(const R of this._internalEffects)R.cleanup();this.effects.length=0,this._internalEffects.length=0}}class il extends V{shouldDrawLayer(R){return R.props.operation===tt.k8.DRAW}}const Gt={blendFunc:[1,0,32771,0],blendEquation:32774};class Se extends V{constructor(...R){super(...R),(0,J.Z)(this,"pickZ",void 0),(0,J.Z)(this,"_colors",null)}render(R){return R.pickingFBO?this._drawPickingBuffer(R):super.render(R)}_drawPickingBuffer({layers:R,layerFilter:ht,views:Nt,viewports:$t,onViewportActive:ue,pickingFBO:Ce,deviceRect:{x:Ie,y:dn,width:Pn,height:Un},cullRect:Hn,effects:Li,pass:si="picking",pickZ:di}){const eo=this.gl;this.pickZ=di;const zo=di?null:{byLayer:new Map,byAlpha:[]};this._colors=zo;const f=(0,W.s8)(eo,{scissorTest:!0,scissor:[Ie,dn,Pn,Un],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...Gt,blend:!di},()=>super.render({target:Ce,layers:R,layerFilter:ht,views:Nt,viewports:$t,onViewportActive:ue,cullRect:Hn,effects:Li?.filter(_=>_.useInPicking),pass:si}));return this._colors=null,{decodePickingColor:zo&&gn.bind(null,zo),stats:f}}shouldDrawLayer(R){return R.props.pickable&&R.props.operation===tt.k8.DRAW}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(R,ht,Nt){const $t={...R.props.parameters};return this._colors?(Object.assign($t,Gt),$t.blend=!0,$t.blendColor=function Ge(ke,R,ht){const{byLayer:Nt,byAlpha:$t}=ke;let ue,Ce=Nt.get(R);return Ce?(Ce.viewports.push(ht),ue=Ce.a):(ue=Nt.size+1,ue<=255?(Ce={a:ue,layer:R,viewports:[ht]},Nt.set(R,Ce),$t[ue]=Ce):(Bi.Z.warn("Too many pickable layers, only picking the first 255")(),ue=0)),[0,0,0,ue/255]}(this._colors,R,Nt)):$t.blend=!1,$t}}function gn(ke,R){const ht=ke.byAlpha[R[3]];return ht&&{pickedLayer:ht.layer,pickedViewports:ht.viewports,pickedObjectIndex:ht.layer.decodePickingColor(R)}}class ei{constructor(R){this.gl=R,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new il(R),this.pickLayersPass=new Se(R),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(R){"layerFilter"in R&&this.layerFilter!==R.layerFilter&&(this.layerFilter=R.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in R&&this.drawPickingColors!==R.drawPickingColors&&(this.drawPickingColors=R.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(R){const ht=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;R.layerFilter=R.layerFilter||this.layerFilter,R.effects=R.effects||[],R.target=R.target||q.Z.getDefaultFramebuffer(this.gl),this._preRender(R.effects,R);const Nt=this.lastPostProcessEffect?this.renderBuffers[0]:R.target,$t=ht.render({...R,target:Nt});this._postRender(R.effects,R),this.renderCount++,(0,ua.Z)("deckRenderer.renderLayers",this,$t,R)}needsRedraw(R={clearRedrawFlags:!1}){const ht=this._needsRedraw;return R.clearRedrawFlags&&(this._needsRedraw=!1),ht}finalize(){const{renderBuffers:R}=this;for(const ht of R)ht.delete();R.length=0}_preRender(R,ht){let Nt=null;for(const $t of R)$t.preRender(this.gl,ht),$t.postRender&&(Nt=$t);Nt&&this._resizeRenderBuffers(),this.lastPostProcessEffect=Nt}_resizeRenderBuffers(){const{renderBuffers:R}=this;0===R.length&&R.push(new q.Z(this.gl),new q.Z(this.gl));for(const ht of R)ht.resize()}_postRender(R,ht){const{renderBuffers:Nt}=this,$t={inputBuffer:Nt[0],swapBuffer:Nt[1],target:null};for(const ue of R)if(ue.postRender){if(ue===this.lastPostProcessEffect){$t.target=ht.target,ue.postRender(this.gl,$t);break}const Ce=ue.postRender(this.gl,$t);$t.inputBuffer=Ce,$t.swapBuffer=Ce===Nt[0]?Nt[1]:Nt[0]}}}var ui=Y(1507);const oi={pickedColor:null,pickedObjectIndex:-1};function Mr({pickedColors:ke,decodePickingColor:R,deviceX:ht,deviceY:Nt,deviceRadius:$t,deviceRect:ue}){const{x:Ce,y:Ie,width:dn,height:Pn}=ue;let Un=$t*$t,Hn=-1,Li=0;for(let si=0;si<Pn;si++){const di=si+Ie-Nt,eo=di*di;if(eo>Un)Li+=4*dn;else for(let zo=0;zo<dn;zo++){if(ke[Li+3]-1>=0){const m=zo+Ce-ht,_=m*m+eo;_<=Un&&(Un=_,Hn=Li)}Li+=4}}if(Hn>=0){const si=ke.slice(Hn,Hn+4),di=R(si);if(di){const eo=Math.floor(Hn/4/dn),zo=Hn/4-eo*dn;return{...di,pickedColor:si,pickedX:Ce+zo,pickedY:Ie+eo}}Bi.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return oi}function ws({pickInfo:ke,viewports:R,pixelRatio:ht,x:Nt,y:$t,z:ue}){let Ie,Ce=R[0];if(R.length>1&&(Ce=function Gl(ke,R){for(let ht=ke.length-1;ht>=0;ht--){const Nt=ke[ht];if(Nt.containsPixel(R))return Nt}return ke[0]}(ke?.pickedViewports||R,{x:Nt,y:$t})),Ce){const dn=[Nt-Ce.x,$t-Ce.y];void 0!==ue&&(dn[2]=ue),Ie=Ce.unproject(dn)}return{color:null,layer:null,viewport:Ce,index:-1,picked:!1,x:Nt,y:$t,pixel:[Nt,$t],coordinate:Ie,devicePixel:ke&&"pickedX"in ke?[ke.pickedX,ke.pickedY]:void 0,pixelRatio:ht}}function $s(ke){const{pickInfo:R,lastPickedInfo:ht,mode:Nt,layers:$t}=ke,{pickedColor:ue,pickedLayer:Ce,pickedObjectIndex:Ie}=R,dn=Ce?[Ce]:[];if("hover"===Nt){const Li=ht.layerId,si=Ce?Ce.props.id:null;if(si!==Li||Ie!==ht.index){if(si!==Li){const di=$t.find(eo=>eo.props.id===Li);di&&dn.unshift(di)}ht.layerId=si,ht.index=Ie,ht.info=null}}const Pn=ws(ke),Un=new Map;return Un.set(null,Pn),dn.forEach(Hn=>{let Li={...Pn};Hn===Ce&&(Li.color=ue,Li.index=Ie,Li.picked=!0),Li=wu({layer:Hn,info:Li,mode:Nt});const si=Li.layer;Hn===Ce&&"hover"===Nt&&(ht.info=Li),Un.set(si.id,Li),"hover"===Nt&&si.updateAutoHighlight(Li)}),Un}function wu({layer:ke,info:R,mode:ht}){for(;ke&&R;){const Nt=R.layer||null;R.sourceLayer=Nt,R.layer=ke,R=ke.getPickingInfo({info:R,mode:ht,sourceLayer:Nt}),ke=ke.parent}return R}class To{constructor(R){(0,J.Z)(this,"gl",void 0),(0,J.Z)(this,"pickingFBO",void 0),(0,J.Z)(this,"depthFBO",void 0),(0,J.Z)(this,"pickLayersPass",void 0),(0,J.Z)(this,"layerFilter",void 0),(0,J.Z)(this,"lastPickedInfo",void 0),(0,J.Z)(this,"_pickable",!0),this.gl=R,this.pickLayersPass=new Se(R),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(R){"layerFilter"in R&&(this.layerFilter=R.layerFilter),"_pickable"in R&&(this._pickable=R._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(R){return this._pickClosestObject(R)}pickObjects(R){return this._pickVisibleObjects(R)}getLastPickedObject({x:R,y:ht,layers:Nt,viewports:$t},ue=this.lastPickedInfo.info){const Ce=ue&&ue.layer&&ue.layer.id,Ie=ue&&ue.viewport&&ue.viewport.id,dn=Ce?Nt.find(Li=>Li.id===Ce):null,Pn=Ie&&$t.find(Li=>Li.id===Ie)||$t[0],Un=Pn&&Pn.unproject([R-Pn.x,ht-Pn.y]);return{...ue,x:R,y:ht,viewport:Pn,coordinate:Un,layer:dn}}_resizeBuffer(){var R,ht;const{gl:Nt}=this;if(!this.pickingFBO&&(this.pickingFBO=new q.Z(Nt),q.Z.isSupported(Nt,{colorBufferFloat:!0}))){const $t=new q.Z(Nt);$t.attach({36064:new Z.Z(Nt,{format:(0,W.D0)(Nt)?34836:6408,type:5126})}),this.depthFBO=$t}null===(R=this.pickingFBO)||void 0===R||R.resize({width:Nt.canvas.width,height:Nt.canvas.height}),null===(ht=this.depthFBO)||void 0===ht||ht.resize({width:Nt.canvas.width,height:Nt.canvas.height})}_getPickable(R){if(!1===this._pickable)return null;const ht=R.filter(Nt=>Nt.isPickable()&&!Nt.isComposite);return ht.length?ht:null}_pickClosestObject({layers:R,views:ht,viewports:Nt,x:$t,y:ue,radius:Ce=0,depth:Ie=1,mode:dn="query",unproject3D:Pn,onViewportActive:Un,effects:Hn}){const Li=this._getPickable(R),si=(0,W.w)(this.gl);if(!Li)return{result:[],emptyInfo:ws({viewports:Nt,x:$t,y:ue,pixelRatio:si})};this._resizeBuffer();const di=(0,W.JY)(this.gl,[$t,ue],!0),eo=[di.x+Math.floor(di.width/2),di.y+Math.floor(di.height/2)],zo=Math.round(Ce*si),{width:f,height:m}=this.pickingFBO,_=this._getPickingRect({deviceX:eo[0],deviceY:eo[1],deviceRadius:zo,deviceWidth:f,deviceHeight:m}),x={x:$t-Ce,y:ue-Ce,width:2*Ce+1,height:2*Ce+1};let D;const K=[],xt=new Set;for(let Kt=0;Kt<Ie;Kt++){let fe,He;fe=_?Mr({...this._drawAndSample({layers:Li,views:ht,viewports:Nt,onViewportActive:Un,deviceRect:_,cullRect:x,effects:Hn,pass:"picking:".concat(dn)}),deviceX:eo[0],deviceY:eo[1],deviceRadius:zo,deviceRect:_}):{pickedColor:null,pickedObjectIndex:-1},fe.pickedLayer&&Pn&&this.depthFBO&&(He=this._drawAndSample({layers:[fe.pickedLayer],views:ht,viewports:Nt,onViewportActive:Un,deviceRect:{x:fe.pickedX,y:fe.pickedY,width:1,height:1},cullRect:x,effects:Hn,pass:"picking:".concat(dn,":z")},!0).pickedColors[0]),fe.pickedLayer&&Kt+1<Ie&&(xt.add(fe.pickedLayer),fe.pickedLayer.disablePickingIndex(fe.pickedObjectIndex)),D=$s({pickInfo:fe,lastPickedInfo:this.lastPickedInfo,mode:dn,layers:Li,viewports:Nt,x:$t,y:ue,z:He,pixelRatio:si});for(const pn of D.values())pn.layer&&K.push(pn);if(!fe.pickedColor)break}for(const Kt of xt)Kt.restorePickingColors();return{result:K,emptyInfo:D.get(null)}}_pickVisibleObjects({layers:R,views:ht,viewports:Nt,x:$t,y:ue,width:Ce=1,height:Ie=1,mode:dn="query",maxObjects:Pn=null,onViewportActive:Un,effects:Hn}){const Li=this._getPickable(R);if(!Li)return[];this._resizeBuffer();const si=(0,W.w)(this.gl),di=(0,W.JY)(this.gl,[$t,ue],!0),eo=di.x,zo=di.y+di.height,f=(0,W.JY)(this.gl,[$t+Ce,ue+Ie],!0),_=f.y,K=function Fr({pickedColors:ke,decodePickingColor:R}){const ht=new Map;if(ke)for(let Nt=0;Nt<ke.length;Nt+=4)if(ke[Nt+3]-1>=0){const ue=ke.slice(Nt,Nt+4),Ce=ue.join(",");if(!ht.has(Ce)){const Ie=R(ue);Ie?ht.set(Ce,{...Ie,color:ue}):Bi.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(ht.values())}(this._drawAndSample({layers:Li,views:ht,viewports:Nt,onViewportActive:Un,deviceRect:{x:eo,y:_,width:f.x+f.width-eo,height:zo-_},cullRect:{x:$t,y:ue,width:Ce,height:Ie},effects:Hn,pass:"picking:".concat(dn)})),xt=new Map,Kt=Number.isFinite(Pn);for(let fe=0;fe<K.length&&!(Kt&&Pn&&xt.size>=Pn);fe++){const He=K[fe];let pn={color:He.pickedColor,layer:null,index:He.pickedObjectIndex,picked:!0,x:$t,y:ue,pixelRatio:si};pn=wu({layer:He.pickedLayer,info:pn,mode:dn}),xt.has(pn.object)||xt.set(pn.object,pn)}return Array.from(xt.values())}_drawAndSample({layers:R,views:ht,viewports:Nt,onViewportActive:$t,deviceRect:ue,cullRect:Ce,effects:Ie,pass:dn},Pn=!1){const Un=Pn?this.depthFBO:this.pickingFBO,{decodePickingColor:Hn}=this.pickLayersPass.render({layers:R,layerFilter:this.layerFilter,views:ht,viewports:Nt,onViewportActive:$t,pickingFBO:Un,deviceRect:ue,cullRect:Ce,effects:Ie,pass:dn,pickZ:Pn}),{x:Li,y:si,width:di,height:eo}=ue,zo=new(Pn?Float32Array:Uint8Array)(di*eo*4);return(0,ui.z6)(Un,{sourceX:Li,sourceY:si,sourceWidth:di,sourceHeight:eo,target:zo}),{pickedColors:zo,decodePickingColor:Hn}}_getPickingRect({deviceX:R,deviceY:ht,deviceRadius:Nt,deviceWidth:$t,deviceHeight:ue}){const Ce=Math.max(0,R-Nt),Ie=Math.max(0,ht-Nt),dn=Math.min($t,R+Nt+1)-Ce,Pn=Math.min(ue,ht+Nt+1)-Ie;return dn<=0||Pn<=0?null:{x:Ce,y:Ie,width:dn,height:Pn}}}const Bu={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class ks{constructor(R){(0,J.Z)(this,"el",null),(0,J.Z)(this,"isVisible",!1);const ht=R.parentElement;ht&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,Bu),ht.appendChild(this.el))}setTooltip(R,ht,Nt){const $t=this.el;if($t){if("string"==typeof R)$t.innerText=R;else{if(!R)return this.isVisible=!1,void($t.style.display="none");R.text&&($t.innerText=R.text),R.html&&($t.innerHTML=R.html),R.className&&($t.className=R.className),Object.assign($t.style,R.style)}this.isVisible=!0,$t.style.display="block",$t.style.transform="translate(".concat(ht,"px, ").concat(Nt,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}var Hl=Y(144),ul=Y(1460),mo=Y(4095);const tc={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function Gr(ke){const R=ke[0],ht=ke[ke.length-1];return"{"===R&&"}"===ht||"["===R&&"]"===ht},parseTextSync:JSON.parse},Vs="8.8.0",jl=globalThis.deck&&globalThis.deck.VERSION;if(jl&&jl!==Vs)throw new Error("deck.gl - multiple versions detected: ".concat(jl," vs ").concat(Vs));jl||(Bi.Z.log(1,"deck.gl ".concat(Vs))(),globalThis.deck={...globalThis.deck,VERSION:Vs,version:Vs,log:Bi.Z,_registerLoggers:ua.z},(0,ul.fh)([tc,[mo.S,{imagebitmap:{premultiplyAlpha:"none"}}]]));const zn=globalThis.deck;var rl=Y(8325),Jn=Y(5861),Vu=Y(1528),Or=Y(659),fn=Y(6729),Tn=Y(2378),Bn=Y(7552);class zs extends fn.Z{get[Symbol.toStringTag](){return"Query"}static isSupported(R){let ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const Nt=(0,W.D0)(R),$t=(0,Tn.ag)(R,Bn.h.TIMER_QUERY);let ue=Nt||$t;for(const Ce of ht)switch(Ce){case"queries":ue=ue&&Nt;break;case"timers":ue=ue&&$t;break;default:(0,Or.h)(!1)}return ue}constructor(R){super(R,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:R=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(R?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(R){return this._queryPending||(this.target=R,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const R=this.gl2.getQueryParameter(this.handle,34919);return R&&(this._queryPending=!1),R}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let ht=0;return this._pollingPromise=new Promise((Nt,$t)=>{const ue=()=>{this.isResultAvailable()?(Nt(this.getResult()),this._pollingPromise=null):ht++>R?($t("Timed out"),this._pollingPromise=null):requestAnimationFrame(ue)};requestAnimationFrame(ue)}),this._pollingPromise}_createHandle(){return zs.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const Ii=(0,Y(25).Z)()&&typeof document<"u";let dd=0;class ec{constructor(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:ht=(zo=>(0,W.s9)(zo)),onAddHTML:Nt=null,onInitialize:$t=(()=>{}),onRender:ue=(()=>{}),onFinalize:Ce=(()=>{}),onError:Ie,gl:dn=null,glOptions:Pn={},debug:Un=!1,createFramebuffer:Hn=!1,autoResizeViewport:Li=!0,autoResizeDrawingBuffer:si=!0,stats:di=Vu.lR.get("animation-loop-".concat(dd++))}=R;let{useDevicePixels:eo=!0}=R;"useDevicePixelRatio"in R&&(W.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),eo=R.useDevicePixelRatio),this.props={onCreateContext:ht,onAddHTML:Nt,onInitialize:$t,onRender:ue,onFinalize:Ce,onError:Ie,gl:dn,glOptions:Pn,debug:Un,createFramebuffer:Hn},this.gl=dn,this.needsRedraw=null,this.timeline=null,this.stats=di,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:Li,autoResizeDrawingBuffer:si,useDevicePixels:eo}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(R){return(0,Or.h)("string"==typeof R),this.needsRedraw=this.needsRedraw||R,this}setProps(R){return"autoResizeViewport"in R&&(this.autoResizeViewport=R.autoResizeViewport),"autoResizeDrawingBuffer"in R&&(this.autoResizeDrawingBuffer=R.autoResizeDrawingBuffer),"useDevicePixels"in R&&(this.useDevicePixels=R.useDevicePixels),this}start(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const ht=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(R),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=zs.isSupported(this.gl,["timers"])?new zs(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(Nt=>{this._running&&(this._addCallbackData(Nt||{}),!1!==Nt&&this._startLoop())});return this.props.onError&&ht.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(R){return this.timeline=R,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(R=>{this._resolveNextFrame=R})),this._nextFramePromise}toDataURL(){var R=this;return(0,Jn.Z)(function*(){return R.setNeedsRedraw("toDataURL"),yield R.waitForRender(),R.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(R){let ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const Nt=document.getElementById(R);return Nt?Number(Nt.value):ht}setViewParameters(){return W.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const R=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(R))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(R)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=Ii?new Promise((R,ht)=>{Ii&&"complete"===document.readyState?R(document):window.addEventListener("load",()=>{R(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(R){this.display&&(this.display.delete(),this.display.animationLoop=null),R&&(R.animationLoop=this),this.display=R}_cancelAnimationFrame(R){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(R):function zu(ke){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(ke):clearTimeout(ke)}(R)}_requestAnimationFrame(R){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(R):function Jo(ke){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(ke):setTimeout(ke,1e3/60)}(R)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:R,height:ht,aspect:Nt}=this._getSizeAndAspect();(R!==this.animationProps.width||ht!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),Nt!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=R,this.animationProps.height=ht,this.animationProps.aspect=Nt,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(R){"object"==typeof R&&null!==R&&(this.animationProps=Object.assign({},this.animationProps,R))}_createWebGLContext(R){if(this.offScreen=R.canvas&&typeof OffscreenCanvas<"u"&&R.canvas instanceof OffscreenCanvas,R=Object.assign({},R,this.props.glOptions),this.gl=this.props.gl?(0,W.yW)(this.props.gl,R):this.onCreateContext(R),!(0,W.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,W.kL)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const R=document.createElement("div");document.body.appendChild(R),R.style.position="relative";const ht=document.createElement("div");ht.style.position="absolute",ht.style.left="10px",ht.style.bottom="10px",ht.style.width="300px",ht.style.background="white",R.appendChild(this.gl.canvas),R.appendChild(ht);const Nt=this.props.onAddHTML(ht);Nt&&(ht.innerHTML=Nt)}}_getSizeAndAspect(){const R=this.gl.drawingBufferWidth,ht=this.gl.drawingBufferHeight;let Nt=1;const{canvas:$t}=this.gl;return $t&&$t.clientHeight?Nt=$t.clientWidth/$t.clientHeight:R>0&&ht>0&&(Nt=R/ht),{width:R,height:ht,aspect:Nt}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,W.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new q.Z(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:R}=this.gl;R&&(R.addEventListener("mousemove",this._onMousemove),R.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(R){this.animationProps._mousePosition=[R.offsetX,R.offsetY]}_onMouseleave(R){this.animationProps._mousePosition=null}}var Dr=Y(5386);const Rd={mousedown:1,mousemove:2,mouseup:4};(function So(ke){const R=ke.prototype.handler;ke.prototype.handler=function(Nt){const $t=this.store;Nt.button>0&&"pointerdown"===Nt.type&&(function vf(ke,R){for(let ht=0;ht<ke.length;ht++)if(R(ke[ht]))return!0;return!1}($t,ue=>ue.pointerId===Nt.pointerId)||$t.push(Nt)),R.call(this,Nt)}})(Dr.PointerEventInput),function dl(ke){ke.prototype.handler=function(ht){let Nt=Rd[ht.type];1&Nt&&ht.button>=0&&(this.pressed=!0),2&Nt&&0===ht.which&&(Nt=4),this.pressed&&(4&Nt&&(this.pressed=!1),this.callback(this.manager,Nt,{pointers:[ht],changedPointers:[ht],pointerType:"mouse",srcEvent:ht}))}}(Dr.MouseInput);const go=Dr.Manager,Cs=Dr;class nn{constructor(R,ht,Nt){this.element=R,this.callback=ht,this.options={enable:!0,...Nt}}}const Yc=Cs?[[Cs.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Cs.Rotate,{enable:!1}],[Cs.Pinch,{enable:!1}],[Cs.Swipe,{enable:!1}],[Cs.Pan,{threshold:0,enable:!1}],[Cs.Press,{enable:!1}],[Cs.Tap,{event:"doubletap",taps:2,enable:!1}],[Cs.Tap,{event:"anytap",enable:!1}],[Cs.Tap,{enable:!1}]]:null,Vn={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},xc={doubletap:["tap"]},Wo={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},ic={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},Us={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},wl={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Uu=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Gs=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let ol=!1;try{Gs.addEventListener("test",null,{get passive(){return ol=!0,!0}}),Gs.removeEventListener("test",null)}catch{ol=!1}const wr=-1!==Uu.indexOf("firefox"),{WHEEL_EVENTS:ds}=ic,Xc=4.000244140625;class Vo extends nn{constructor(R,ht,Nt){super(R,ht,Nt),this.handleEvent=$t=>{if(!this.options.enable)return;let ue=$t.deltaY;Gs.WheelEvent&&(wr&&$t.deltaMode===Gs.WheelEvent.DOM_DELTA_PIXEL&&(ue/=Gs.devicePixelRatio),$t.deltaMode===Gs.WheelEvent.DOM_DELTA_LINE&&(ue*=40)),0!==ue&&ue%Xc==0&&(ue=Math.floor(ue/Xc)),$t.shiftKey&&ue&&(ue*=.25),this.callback({type:"wheel",center:{x:$t.clientX,y:$t.clientY},delta:-ue,srcEvent:$t,pointerType:"mouse",target:$t.target})},this.events=(this.options.events||[]).concat(ds),this.events.forEach($t=>R.addEventListener($t,this.handleEvent,!!ol&&{passive:!1}))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ht){"wheel"===R&&(this.options.enable=ht)}}const{MOUSE_EVENTS:ns}=ic,Ci="pointermove",Cl="pointerover",rc="pointerout",Sl="pointerenter",ai="pointerleave";class _s extends nn{constructor(R,ht,Nt){super(R,ht,Nt),this.handleEvent=ue=>{this.handleOverEvent(ue),this.handleOutEvent(ue),this.handleEnterEvent(ue),this.handleLeaveEvent(ue),this.handleMoveEvent(ue)},this.pressed=!1;const{enable:$t}=this.options;this.enableMoveEvent=$t,this.enableLeaveEvent=$t,this.enableEnterEvent=$t,this.enableOutEvent=$t,this.enableOverEvent=$t,this.events=(this.options.events||[]).concat(ns),this.events.forEach(ue=>R.addEventListener(ue,this.handleEvent))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ht){R===Ci&&(this.enableMoveEvent=ht),R===Cl&&(this.enableOverEvent=ht),R===rc&&(this.enableOutEvent=ht),R===Sl&&(this.enableEnterEvent=ht),R===ai&&(this.enableLeaveEvent=ht)}handleOverEvent(R){this.enableOverEvent&&"mouseover"===R.type&&this._emit(Cl,R)}handleOutEvent(R){this.enableOutEvent&&"mouseout"===R.type&&this._emit(rc,R)}handleEnterEvent(R){this.enableEnterEvent&&"mouseenter"===R.type&&this._emit(Sl,R)}handleLeaveEvent(R){this.enableLeaveEvent&&"mouseleave"===R.type&&this._emit(ai,R)}handleMoveEvent(R){if(this.enableMoveEvent)switch(R.type){case"mousedown":R.button>=0&&(this.pressed=!0);break;case"mousemove":0===R.which&&(this.pressed=!1),this.pressed||this._emit(Ci,R);break;case"mouseup":this.pressed=!1}}_emit(R,ht){this.callback({type:R,center:{x:ht.clientX,y:ht.clientY},srcEvent:ht,pointerType:"mouse",target:ht.target})}}const{KEY_EVENTS:Gu}=ic,Cn="keydown";class lo extends nn{constructor(R,ht,Nt){super(R,ht,Nt),this.handleEvent=$t=>{const ue=$t.target||$t.srcElement;"INPUT"===ue.tagName&&"text"===ue.type||"TEXTAREA"===ue.tagName||(this.enableDownEvent&&"keydown"===$t.type&&this.callback({type:Cn,srcEvent:$t,key:$t.key,target:$t.target}),this.enableUpEvent&&"keyup"===$t.type&&this.callback({type:"keyup",srcEvent:$t,key:$t.key,target:$t.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Gu),R.tabIndex=this.options.tabIndex||0,R.style.outline="none",this.events.forEach($t=>R.addEventListener($t,this.handleEvent))}destroy(){this.events.forEach(R=>this.element.removeEventListener(R,this.handleEvent))}enableEventType(R,ht){R===Cn&&(this.enableDownEvent=ht),"keyup"===R&&(this.enableUpEvent=ht)}}const Oo="contextmenu";class Ks extends nn{constructor(R,ht,Nt){super(R,ht,Nt),this.handleEvent=$t=>{this.options.enable&&this.callback({type:Oo,center:{x:$t.clientX,y:$t.clientY},srcEvent:$t,pointerType:"mouse",target:$t.target})},R.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(R,ht){R===Oo&&(this.options.enable=ht)}}const ta=1,al=2,ou=4,au={pointerdown:ta,pointermove:al,pointerup:ou,mousedown:ta,mousemove:al,mouseup:ou},Cu=1,Rl=2,fi=3,dr=0,he=1,Ss=2,Ja=1,Po=2,Ar=4;function Ya(ke){const R=au[ke.srcEvent.type];if(!R)return null;const{buttons:ht,button:Nt,which:$t}=ke.srcEvent;let ue=!1,Ce=!1,Ie=!1;return R===ou||R===al&&!Number.isFinite(ht)?(ue=$t===Cu,Ce=$t===Rl,Ie=$t===fi):R===al?(ue=Boolean(ht&Ja),Ce=Boolean(ht&Ar),Ie=Boolean(ht&Po)):R===ta&&(ue=Nt===dr,Ce=Nt===he,Ie=Nt===Ss),{leftButton:ue,middleButton:Ce,rightButton:Ie}}function sl(ke,R){const ht=ke.center;if(!ht)return null;const Nt=R.getBoundingClientRect();return{center:ht,offsetCenter:{x:(ht.x-Nt.left-R.clientLeft)/(Nt.width/R.offsetWidth||1),y:(ht.y-Nt.top-R.clientTop)/(Nt.height/R.offsetHeight||1)}}}const Ns={srcElement:"root",priority:0};class mr{constructor(R){this.handleEvent=ht=>{if(this.isEmpty())return;const Nt=this._normalizeEvent(ht);let $t=ht.srcEvent.target;for(;$t&&$t!==Nt.rootElement;){if(this._emit(Nt,$t),Nt.handled)return;$t=$t.parentNode}this._emit(Nt,"root")},this.eventManager=R,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(R,ht,Nt,$t=!1,ue=!1){const{handlers:Ce,handlersByElement:Ie}=this;let dn=Ns;"string"==typeof Nt||Nt&&Nt.addEventListener?dn={...Ns,srcElement:Nt}:Nt&&(dn={...Ns,...Nt});let Pn=Ie.get(dn.srcElement);Pn||(Pn=[],Ie.set(dn.srcElement,Pn));const Un={type:R,handler:ht,srcElement:dn.srcElement,priority:dn.priority};$t&&(Un.once=!0),ue&&(Un.passive=!0),Ce.push(Un),this._active=this._active||!Un.passive;let Hn=Pn.length-1;for(;Hn>=0&&!(Pn[Hn].priority>=Un.priority);)Hn--;Pn.splice(Hn+1,0,Un)}remove(R,ht){const{handlers:Nt,handlersByElement:$t}=this;for(let ue=Nt.length-1;ue>=0;ue--){const Ce=Nt[ue];if(Ce.type===R&&Ce.handler===ht){Nt.splice(ue,1);const Ie=$t.get(Ce.srcElement);Ie.splice(Ie.indexOf(Ce),1),0===Ie.length&&$t.delete(Ce.srcElement)}}this._active=Nt.some(ue=>!ue.passive)}_emit(R,ht){const Nt=this.handlersByElement.get(ht);if(Nt){let $t=!1;const ue=()=>{R.handled=!0},Ce=()=>{R.handled=!0,$t=!0},Ie=[];for(let dn=0;dn<Nt.length;dn++){const{type:Pn,handler:Un,once:Hn}=Nt[dn];if(Un({...R,type:Pn,stopPropagation:ue,stopImmediatePropagation:Ce}),Hn&&Ie.push(Nt[dn]),$t)break}for(let dn=0;dn<Ie.length;dn++){const{type:Pn,handler:Un}=Ie[dn];this.remove(Pn,Un)}}}_normalizeEvent(R){const ht=this.eventManager.getElement();return{...R,...Ya(R),...sl(R,ht),preventDefault:()=>{R.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:ht}}}const ea={events:null,recognizers:null,recognizerOptions:{},Manager:go,touchAction:"none",tabIndex:0};class ss{constructor(R=null,ht){this._onBasicInput=$t=>{const{srcEvent:ue}=$t,Ce=Wo[ue.type];Ce&&this.manager.emit(Ce,$t)},this._onOtherEvent=$t=>{this.manager.emit($t.type,$t)},this.options={...ea,...ht},this.events=new Map,this.setElement(R);const{events:Nt}=this.options;Nt&&this.on(Nt)}getElement(){return this.element}setElement(R){if(this.element&&this.destroy(),this.element=R,!R)return;const{options:ht}=this;this.manager=new(0,ht.Manager)(R,{touchAction:ht.touchAction,recognizers:ht.recognizers||Yc}).on("hammer.input",this._onBasicInput),ht.recognizers||Object.keys(Vn).forEach($t=>{const ue=this.manager.get($t);ue&&Vn[$t].forEach(Ce=>{ue.recognizeWith(Ce)})});for(const $t in ht.recognizerOptions){const ue=this.manager.get($t);if(ue){const Ce=ht.recognizerOptions[$t];delete Ce.enable,ue.set(Ce)}}this.wheelInput=new Vo(R,this._onOtherEvent,{enable:!1}),this.moveInput=new _s(R,this._onOtherEvent,{enable:!1}),this.keyInput=new lo(R,this._onOtherEvent,{enable:!1,tabIndex:ht.tabIndex}),this.contextmenuInput=new Ks(R,this._onOtherEvent,{enable:!1});for(const[$t,ue]of this.events)ue.isEmpty()||(this._toggleRecognizer(ue.recognizerName,!0),this.manager.on($t,ue.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(R,ht,Nt){this._addEventHandler(R,ht,Nt,!1)}once(R,ht,Nt){this._addEventHandler(R,ht,Nt,!0)}watch(R,ht,Nt){this._addEventHandler(R,ht,Nt,!1,!0)}off(R,ht){this._removeEventHandler(R,ht)}_toggleRecognizer(R,ht){const{manager:Nt}=this;if(!Nt)return;const $t=Nt.get(R);if($t&&$t.options.enable!==ht){$t.set({enable:ht});const ue=xc[R];ue&&!this.options.recognizers&&ue.forEach(Ce=>{const Ie=Nt.get(Ce);ht?(Ie.requireFailure(R),$t.dropRequireFailure(Ce)):Ie.dropRequireFailure(R)})}this.wheelInput.enableEventType(R,ht),this.moveInput.enableEventType(R,ht),this.keyInput.enableEventType(R,ht),this.contextmenuInput.enableEventType(R,ht)}_addEventHandler(R,ht,Nt,$t,ue){if("string"!=typeof R){Nt=ht;for(const Un in R)this._addEventHandler(Un,R[Un],Nt,$t,ue);return}const{manager:Ce,events:Ie}=this,dn=wl[R]||R;let Pn=Ie.get(dn);Pn||(Pn=new mr(this),Ie.set(dn,Pn),Pn.recognizerName=Us[dn]||dn,Ce&&Ce.on(dn,Pn.handleEvent)),Pn.add(R,ht,Nt,$t,ue),Pn.isEmpty()||this._toggleRecognizer(Pn.recognizerName,!0)}_removeEventHandler(R,ht){if("string"!=typeof R){for(const Ce in R)this._removeEventHandler(Ce,R[Ce]);return}const{events:Nt}=this,ue=Nt.get(wl[R]||R);if(ue&&(ue.remove(R,ht),ue.isEmpty())){const{recognizerName:Ce}=ue;let Ie=!1;for(const dn of Nt.values())if(dn.recognizerName===Ce&&!dn.isEmpty()){Ie=!0;break}Ie||this._toggleRecognizer(Ce,!1)}}}var Xa=Y(406);function oc(){}const Wl={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:oc,onResize:oc,onViewStateChange:oc,onInteractionStateChange:oc,onBeforeRender:oc,onAfterRender:oc,onLoad:oc,onError:ke=>Bi.Z.error(ke.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:ke})=>ke?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class na{constructor(R){(0,J.Z)(this,"props",void 0),(0,J.Z)(this,"width",0),(0,J.Z)(this,"height",0),(0,J.Z)(this,"userData",{}),(0,J.Z)(this,"canvas",null),(0,J.Z)(this,"viewManager",null),(0,J.Z)(this,"layerManager",null),(0,J.Z)(this,"effectManager",null),(0,J.Z)(this,"deckRenderer",null),(0,J.Z)(this,"deckPicker",null),(0,J.Z)(this,"eventManager",null),(0,J.Z)(this,"tooltip",null),(0,J.Z)(this,"metrics",void 0),(0,J.Z)(this,"animationLoop",void 0),(0,J.Z)(this,"stats",void 0),(0,J.Z)(this,"viewState",void 0),(0,J.Z)(this,"cursorState",void 0),(0,J.Z)(this,"_needsRedraw",void 0),(0,J.Z)(this,"_pickRequest",void 0),(0,J.Z)(this,"_lastPointerDownInfo",null),(0,J.Z)(this,"_metricsCounter",void 0),(0,J.Z)(this,"_onPointerMove",ht=>{const{_pickRequest:Nt}=this;if("pointerleave"===ht.type)Nt.x=-1,Nt.y=-1,Nt.radius=0;else{if(ht.leftButton||ht.rightButton)return;{const $t=ht.offsetCenter;if(!$t)return;Nt.x=$t.x,Nt.y=$t.y,Nt.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:Nt.x,y:Nt.y}),Nt.event=ht}),(0,J.Z)(this,"_onEvent",ht=>{const Nt=tt.FP[ht.type],$t=ht.offsetCenter;if(!Nt||!$t||!this.layerManager)return;const ue=this.layerManager.getLayers(),Ce=this.deckPicker.getLastPickedObject({x:$t.x,y:$t.y,layers:ue,viewports:this.getViewports($t)},this._lastPointerDownInfo),{layer:Ie}=Ce,dn=Ie&&(Ie[Nt.handler]||Ie.props[Nt.handler]),Pn=this.props[Nt.handler];let Un=!1;dn&&(Un=dn.call(Ie,Ce,ht)),!Un&&Pn&&Pn(Ce,ht)}),(0,J.Z)(this,"_onPointerDown",ht=>{const Nt=ht.offsetCenter,$t=this._pick("pickObject","pickObject Time",{x:Nt.x,y:Nt.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=$t.result[0]||$t.emptyInfo}),this.props={...Wl,...R},R=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},R.viewState&&R.initialViewState&&Bi.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,rl.Z)()&&Bi.Z.warn("IE 11 is not supported")(),this.viewState=R.initialViewState,R.gl||typeof document<"u"&&(this.canvas=this._createCanvas(R)),this.animationLoop=this._createAnimationLoop(R),this.stats=new Yt.Z({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(R),R._typedArrayManagerProps&&Hl.Z.setOptions(R._typedArrayManagerProps),this.animationLoop.start()}finalize(){var R,ht,Nt,$t,ue,Ce,Ie,dn;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(R=this.layerManager)||void 0===R||R.finalize(),this.layerManager=null,null===(ht=this.viewManager)||void 0===ht||ht.finalize(),this.viewManager=null,null===(Nt=this.effectManager)||void 0===Nt||Nt.finalize(),this.effectManager=null,null===($t=this.deckRenderer)||void 0===$t||$t.finalize(),this.deckRenderer=null,null===(ue=this.deckPicker)||void 0===ue||ue.finalize(),this.deckPicker=null,null===(Ce=this.eventManager)||void 0===Ce||Ce.destroy(),this.eventManager=null,null===(Ie=this.tooltip)||void 0===Ie||Ie.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(dn=this.canvas.parentElement)||void 0===dn||dn.removeChild(this.canvas),this.canvas=null)}setProps(R){this.stats.get("setProps Time").timeStart(),"onLayerHover"in R&&Bi.Z.removed("onLayerHover","onHover")(),"onLayerClick"in R&&Bi.Z.removed("onLayerClick","onClick")(),R.initialViewState&&!(0,Va.v)(this.props.initialViewState,R.initialViewState)&&(this.viewState=R.initialViewState),Object.assign(this.props,R),this._setCanvasSize(this.props);const ht=Object.create(this.props);Object.assign(ht,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(ht),this.layerManager&&(this.viewManager.setProps(ht),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(ht),this.effectManager.setProps(ht),this.deckRenderer.setProps(ht),this.deckPicker.setProps(ht)),this.stats.get("setProps Time").timeEnd()}needsRedraw(R={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let ht=this._needsRedraw;R.clearRedrawFlags&&(this._needsRedraw=!1);const Nt=this.viewManager.needsRedraw(R),$t=this.layerManager.needsRedraw(R),ue=this.effectManager.needsRedraw(R),Ce=this.deckRenderer.needsRedraw(R);return ht=ht||Nt||$t||ue||Ce,ht}redraw(R){if(!this.layerManager)return;let ht=this.needsRedraw({clearRedrawFlags:!0});ht=R||ht,ht&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(ht):this._drawLayers(ht))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,Xa.Z)(this.viewManager),this.viewManager.views}getViewports(R){return(0,Xa.Z)(this.viewManager),this.viewManager.getViewports(R)}pickObject(R){const ht=this._pick("pickObject","pickObject Time",R).result;return ht.length?ht[0]:null}pickMultipleObjects(R){return R.depth=R.depth||10,this._pick("pickObject","pickMultipleObjects Time",R).result}pickObjects(R){return this._pick("pickObjects","pickObjects Time",R)}_addResources(R,ht=!1){for(const Nt in R)this.layerManager.resourceManager.add({resourceId:Nt,data:R[Nt],forceUpdate:ht})}_removeResources(R){for(const ht of R)this.layerManager.resourceManager.remove(ht)}_pick(R,ht,Nt){(0,Xa.Z)(this.deckPicker);const{stats:$t}=this;$t.get("Pick Count").incrementCount(),$t.get(ht).timeStart();const ue=this.deckPicker[R]({layers:this.layerManager.getLayers(Nt),views:this.viewManager.getViews(),viewports:this.getViewports(Nt),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...Nt});return $t.get(ht).timeEnd(),ue}_createCanvas(R){let ht=R.canvas;return"string"==typeof ht&&(ht=document.getElementById(ht),(0,Xa.Z)(ht)),ht||(ht=document.createElement("canvas"),ht.id=R.id||"deckgl-overlay",(R.parent||document.body).appendChild(ht)),Object.assign(ht.style,R.style),ht}_setCanvasSize(R){if(!this.canvas)return;const{width:ht,height:Nt}=R;if(ht||0===ht){const ue=Number.isFinite(ht)?"".concat(ht,"px"):ht;this.canvas.style.width=ue}if(Nt||0===Nt){var $t;const ue=Number.isFinite(Nt)?"".concat(Nt,"px"):Nt;this.canvas.style.position=(null===($t=R.style)||void 0===$t?void 0:$t.position)||"absolute",this.canvas.style.height=ue}}_updateCanvasSize(){const{canvas:R}=this;if(!R)return;const ht=R.clientWidth||R.width,Nt=R.clientHeight||R.height;var $t;ht===this.width&&Nt===this.height||(this.width=ht,this.height=Nt,null===($t=this.viewManager)||void 0===$t||$t.setProps({width:ht,height:Nt}),this.props.onResize({width:ht,height:Nt}))}_createAnimationLoop(R){const{width:ht,height:Nt,gl:$t,glOptions:ue,debug:Ce,onError:Ie,onBeforeRender:dn,onAfterRender:Pn,useDevicePixels:Un}=R;return new ec({width:ht,height:Nt,useDevicePixels:Un,autoResizeViewport:!1,gl:$t,onCreateContext:Hn=>(0,W.s9)({...ue,...Hn,canvas:this.canvas,debug:Ce,onContextLost:()=>this._onContextLost()}),onInitialize:Hn=>this._setGLContext(Hn.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:dn,onAfterRender:Pn,onError:Ie})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let R=this.props.views||[new Xs.Z({id:"default-view"})];return R=Array.isArray(R)?R:[R],R.length&&this.props.controller&&(R[0].props.controller=this.props.controller),R}_onContextLost(){const{onError:R}=this.props;this.animationLoop&&R&&R(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:R}=this;if(R.event){const{result:Nt,emptyInfo:$t}=this._pick("pickObject","pickObject Time",R);this.cursorState.isHovering=Nt.length>0;let ue=$t,Ce=!1;for(const Ie of Nt){var ht;ue=Ie,Ce=(null===(ht=Ie.layer)||void 0===ht?void 0:ht.onHover(Ie,R.event))||Ce}if(!Ce&&this.props.onHover&&this.props.onHover(ue,R.event),this.props.getTooltip&&this.tooltip){const Ie=this.props.getTooltip(ue);this.tooltip.setTooltip(Ie,ue.x,ue.y)}R.event=null}}_updateCursor(){const R=this.props.parent||this.canvas;R&&(R.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(R){if(this.layerManager)return;this.canvas||(this.canvas=R.canvas,(0,W.yW)(R,{enable:!0,copyState:!0})),this.tooltip=new ks(this.canvas),(0,W.dR)(R,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(R);const ht=new Za;ht.play(),this.animationLoop.attachTimeline(ht),this.eventManager=new ss(this.props.parent||R.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const $t in tt.FP)this.eventManager.on($t,this._onEvent);this.viewManager=new jo({timeline:ht,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const Nt=this.viewManager.getViewports()[0];this.layerManager=new fo(R,{deck:this,stats:this.stats,viewport:Nt,timeline:ht}),this.effectManager=new En,this.deckRenderer=new ei(R),this.deckPicker=new To(R),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(R,ht){const{gl:Nt}=this.layerManager.context;(0,W.dR)(Nt,this.props.parameters),this.props.onBeforeRender({gl:Nt}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:R,effects:this.effectManager.getEffects(),...ht}),this.props.onAfterRender({gl:Nt})}_onRenderFrame(R){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),Bi.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(R){const ht=this.props.onViewStateChange(R)||R.viewState;this.viewState&&(this.viewState={...this.viewState,[R.viewId]:ht},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(R){this.cursorState.isDragging=R.isDragging||!1,this.props.onInteractionStateChange(R)}_getFrameStats(){const{stats:R}=this;R.get("frameRate").timeEnd(),R.get("frameRate").timeStart();const ht=this.animationLoop.stats;R.get("GPU Time").addTime(ht.get("GPU Time").lastTiming),R.get("CPU Time").addTime(ht.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:R,stats:ht}=this;R.fps=ht.get("frameRate").getHz(),R.setPropsTime=ht.get("setProps Time").time,R.updateAttributesTime=ht.get("Update Attributes").time,R.framesRedrawn=ht.get("Redraw Count").count,R.pickTime=ht.get("pickObject Time").time+ht.get("pickMultipleObjects Time").time+ht.get("pickObjects Time").time,R.pickCount=ht.get("Pick Count").count,R.gpuTime=ht.get("GPU Time").time,R.cpuTime=ht.get("CPU Time").time,R.gpuTimePerFrame=ht.get("GPU Time").getAverageTime(),R.cpuTimePerFrame=ht.get("CPU Time").getAverageTime();const Nt=Vu.lR.get("Memory Usage");R.bufferMemory=Nt.get("Buffer Memory").count,R.textureMemory=Nt.get("Texture Memory").count,R.renderbufferMemory=Nt.get("Renderbuffer Memory").count,R.gpuMemory=Nt.get("GPU Memory").count}}(0,J.Z)(na,"defaultProps",Wl),(0,J.Z)(na,"VERSION",zn.VERSION);var da=Y(5001),Qs=Y(5670),Ml=Y(2757),Hr=Y(3454),$c=Y(9538);const Hs=Math.PI/180,$a=180/Math.PI,ll=6370972,za=256;function ac(){const ke=za/ll,R=Math.PI/180*za;return{unitsPerMeter:[ke,ke,ke],unitsPerMeter2:[0,0,0],metersPerUnit:[1/ke,1/ke,1/ke],unitsPerDegree:[R,R,ke],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/R,1/R,1/ke]}}class Ao extends Fn.Z{constructor(R={}){const{latitude:ht=0,longitude:Nt=0,zoom:$t=0,nearZMultiplier:ue=.1,farZMultiplier:Ce=2,resolution:Ie=10}=R;let{height:dn,altitude:Pn=1.5}=R;dn=dn||1,Pn=Math.max(.75,Pn);const Un=(new X.Z).lookAt({eye:[0,-Pn,0],up:[0,0,1]}),Hn=Math.pow(2,$t);Un.rotateX(ht*Hs),Un.rotateZ(-Nt*Hs),Un.scale(Hn/dn);const Li=Math.atan(.5/Pn),si=2*za*Hn/dn;super({...R,height:dn,viewMatrix:Un,longitude:Nt,latitude:ht,zoom:$t,distanceScales:ac(),fovyRadians:2*Li,focalDistance:Pn,near:ue,far:Math.min(2,1/si+1)*Pn*Ce}),(0,J.Z)(this,"longitude",void 0),(0,J.Z)(this,"latitude",void 0),(0,J.Z)(this,"resolution",void 0),this.latitude=ht,this.longitude=Nt,this.resolution=Ie}get projectionMode(){return tt.zG.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(R={}){const ht={targetZ:R.z||0},Nt=this.unproject([0,this.height/2],ht),$t=this.unproject([this.width/2,0],ht),ue=this.unproject([this.width,this.height/2],ht),Ce=this.unproject([this.width/2,this.height],ht);return ue[0]<this.longitude&&(ue[0]+=360),Nt[0]>this.longitude&&(Nt[0]-=360),[Math.min(Nt[0],ue[0],$t[0],Ce[0]),Math.min(Nt[1],ue[1],$t[1],Ce[1]),Math.max(Nt[0],ue[0],$t[0],Ce[0]),Math.max(Nt[1],ue[1],$t[1],Ce[1])]}unproject(R,{topLeft:ht=!0,targetZ:Nt}={}){const[$t,ue,Ce]=R,Ie=ht?ue:this.height-ue,{pixelUnprojectionMatrix:dn}=this;let Pn;if(Number.isFinite(Ce))Pn=Ms(dn,[$t,Ie,Ce,1]);else{const si=Ms(dn,[$t,Ie,-1,1]),di=Ms(dn,[$t,Ie,1,1]),eo=((Nt||0)/ll+1)*za,zo=Hr.x9(Hr.lu([],si,di)),f=Hr.x9(si),m=Hr.x9(di),x=(4*f*m-(zo-f-m)**2)/16*4/zo,xt=(Math.sqrt(f-x)-Math.sqrt(Math.max(0,eo*eo-x)))/Math.sqrt(zo);Pn=Hr.t7([],si,di,xt)}const[Un,Hn,Li]=this.unprojectPosition(Pn);return Number.isFinite(Ce)?[Un,Hn,Li]:Number.isFinite(Nt)?[Un,Hn,Nt]:[Un,Hn]}projectPosition(R){const[ht,Nt,$t=0]=R,ue=ht*Hs,Ce=Nt*Hs,Ie=Math.cos(Ce),dn=($t/ll+1)*za;return[Math.sin(ue)*Ie*dn,-Math.cos(ue)*Ie*dn,Math.sin(Ce)*dn]}unprojectPosition(R){const[ht,Nt,$t]=R,ue=Hr.Zh(R),Ce=Math.asin($t/ue);return[Math.atan2(ht,-Nt)*$a,Ce*$a,(ue/za-1)*ll]}projectFlat(R){return R}unprojectFlat(R){return R}panByPosition(R,ht){const Nt=this.unproject(ht);return{longitude:R[0]-Nt[0]+this.longitude,latitude:R[1]-Nt[1]+this.latitude}}}function Ms(ke,R){const ht=$c.fF([],R,ke);return $c.bA(ht,ht,1/ht[3]),ht}const Ua=Math.PI/180;function hs({height:ke,focalDistance:R,orbitAxis:ht,rotationX:Nt,rotationOrbit:$t,zoom:ue}){const Ce="Z"===ht?[0,0,1]:[0,1,0],Ie="Z"===ht?[0,-R,0]:[0,0,R],dn=(new X.Z).lookAt({eye:Ie,up:Ce});dn.rotateX(Nt*Ua),"Z"===ht?dn.rotateZ($t*Ua):dn.rotateY($t*Ua);const Pn=Math.pow(2,ue)/ke;return dn.scale(Pn),dn}class wc extends Fn.Z{constructor(R){const{height:ht,projectionMatrix:Nt,fovy:$t=50,orbitAxis:ue="Z",target:Ce=[0,0,0],rotationX:Ie=0,rotationOrbit:dn=0,zoom:Pn=0}=R,Un=Nt?Nt[5]/2:(0,ut.sj)($t);super({...R,longitude:void 0,viewMatrix:hs({height:ht||1,focalDistance:Un,orbitAxis:ue,rotationX:Ie,rotationOrbit:dn,zoom:Pn}),fovy:$t,focalDistance:Un,position:Ce,zoom:Pn}),(0,J.Z)(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(R,{topLeft:ht=!0}={}){const[Nt,$t,ue=this.projectedCenter[2]]=R,Ce=ht?$t:this.height-$t,[Ie,dn,Pn]=(0,ut.CT)([Nt,Ce,ue],this.pixelUnprojectionMatrix);return[Ie,dn,Pn]}panByPosition(R,ht){const Nt=this.project(R);return{target:this.unproject([this.width/2+Nt[0]-ht[0],this.height/2+Nt[1]-ht[1],this.projectedCenter[2]])}}}class ia{constructor({phi:R=0,theta:ht=0,radius:Nt=1,bearing:$t,pitch:ue,altitude:Ce,radiusScale:Ie=6371e3}={}){(0,J.Z)(this,"phi",void 0),(0,J.Z)(this,"theta",void 0),(0,J.Z)(this,"radius",void 0),(0,J.Z)(this,"radiusScale",void 0),this.phi=R,this.theta=ht,this.radius=Nt||Ce||1,this.radiusScale=Ie||1,void 0!==$t&&(this.bearing=$t),void 0!==ue&&(this.pitch=ue),this.check()}toString(){return this.formatString(zi.vc)}formatString({printTypes:R=!1}){const ht=zi.Bw;return"".concat(R?"Spherical":"","[rho:").concat(ht(this.radius),",theta:").concat(ht(this.theta),",phi:").concat(ht(this.phi),"]")}equals(R){return(0,zi.fS)(this.radius,R.radius)&&(0,zi.fS)(this.theta,R.theta)&&(0,zi.fS)(this.phi,R.phi)}exactEquals(R){return this.radius===R.radius&&this.theta===R.theta&&this.phi===R.phi}get bearing(){return 180-(0,zi.RW)(this.phi)}set bearing(R){this.phi=Math.PI-(0,zi.uR)(R)}get pitch(){return(0,zi.RW)(this.theta)}set pitch(R){this.theta=(0,zi.uR)(R)}get longitude(){return(0,zi.RW)(this.phi)}get latitude(){return(0,zi.RW)(this.theta)}get lng(){return(0,zi.RW)(this.phi)}get lat(){return(0,zi.RW)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(R,ht,Nt){return this.radius=R,this.phi=ht,this.theta=Nt,this.check()}clone(){return(new ia).copy(this)}copy(R){return this.radius=R.radius,this.phi=R.phi,this.theta=R.theta,this.check()}fromLngLatZ([R,ht,Nt]){return this.radius=1+Nt/this.radiusScale,this.phi=(0,zi.uR)(ht),this.theta=(0,zi.uR)(R),this.check()}fromVector3(R){return this.radius=Hr.kE(R),this.radius>0&&(this.theta=Math.atan2(R[0],R[1]),this.phi=Math.acos((0,zi.uZ)(R[2]/this.radius,-1,1))),this.check()}toVector3(){return new ct.Z(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}class Fs extends Fn.Z{constructor(R){const{longitude:ht,latitude:Nt,modelMatrix:$t,bearing:ue=0,pitch:Ce=0,up:Ie=[0,0,1]}=R,Pn=new ia({bearing:ue,pitch:-90===Ce?1e-4:90+Ce}).toVector3().normalize(),Un=$t?new X.Z($t).transformAsVector(Pn):Pn,Hn=Number.isFinite(Nt)?(0,ut.Bf)({latitude:Nt}):0,Li=Math.pow(2,Hn),si=(new X.Z).lookAt({eye:[0,0,0],center:Un,up:Ie}).scale(Li);super({...R,zoom:Hn,viewMatrix:si}),(0,J.Z)(this,"longitude",void 0),(0,J.Z)(this,"latitude",void 0),this.latitude=Nt,this.longitude=ht}}var is=Y(9813),hd=Y(6392),qc=Y(8203);class fs extends Yi.Z{constructor(R){const{width:ht,height:Nt,position:$t=[0,0,0],bearing:ue=0,pitch:Ce=0,longitude:Ie=null,latitude:dn=null,maxPitch:Pn=-90,minPitch:Un=90,startRotatePos:Hn,startBearing:Li,startPitch:si,startZoomPosition:di}=R;super({width:ht,height:Nt,position:$t,bearing:ue,pitch:Ce,longitude:Ie,latitude:dn,maxPitch:Pn,minPitch:Un},{startRotatePos:Hn,startBearing:Li,startPitch:si,startZoomPosition:di})}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart({pos:R}){return this._getUpdatedState({startRotatePos:R,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:R,deltaAngleX:ht=0,deltaAngleY:Nt=0}){const{startRotatePos:$t,startBearing:ue,startPitch:Ce}=this.getState(),{width:Ie,height:dn}=this.getViewportProps();if(!$t||void 0===ue||void 0===Ce)return this;let Pn;return Pn=R?{bearing:ue-(R[0]-$t[0])/Ie*180,pitch:Ce-(R[1]-$t[1])/dn*90}:{bearing:ue-ht,pitch:Ce-Nt},this._getUpdatedState(Pn)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({scale:R}){let{startZoomPosition:ht}=this.getState();ht||(ht=this.getViewportProps().position);const Nt=this.getDirection();return this._move(Nt,20*Math.log2(R),ht)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(R=20){const ht=this.getDirection(!0);return this._move(ht.rotateZ({radians:Math.PI/2}),R)}moveRight(R=20){const ht=this.getDirection(!0);return this._move(ht.rotateZ({radians:-Math.PI/2}),R)}moveUp(R=20){const ht=this.getDirection(!0);return this._move(ht,R)}moveDown(R=20){const ht=this.getDirection(!0);return this._move(ht.negate(),R)}rotateLeft(R=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-R})}rotateRight(R=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+R})}rotateUp(R=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+R})}rotateDown(R=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-R})}zoomIn(R=2){return this.zoom({scale:R})}zoomOut(R=2){return this.zoom({scale:1/R})}shortestPathFrom(R){const ht=R.getViewportProps(),Nt={...this.getViewportProps()},{bearing:$t,longitude:ue}=Nt;return Math.abs($t-ht.bearing)>180&&(Nt.bearing=$t<0?$t+360:$t-360),null!==ue&&null!==ht.longitude&&Math.abs(ue-ht.longitude)>180&&(Nt.longitude=ue<0?ue+360:ue-360),Nt}_move(R,ht,Nt=this.getViewportProps().position){const $t=R.scale(ht);return this._getUpdatedState({position:new ct.Z(Nt).add($t)})}getDirection(R=!1){return new ia({bearing:this.getViewportProps().bearing,pitch:R?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(R){return new fs({...this.getViewportProps(),...this.getState(),...R})}applyConstraints(R){const{pitch:ht,maxPitch:Nt,minPitch:$t,longitude:ue,bearing:Ce}=R;return R.pitch=(0,zi.uZ)(ht,$t,Nt),null!==ue&&(ue<-180||ue>180)&&(R.longitude=(0,sr.wQ)(ue+180,360)-180),(Ce<-180||Ce>180)&&(R.bearing=(0,sr.wQ)(Ce+180,360)-180),R}}class Ld extends ki.Z{constructor(...R){super(...R),(0,J.Z)(this,"ControllerState",fs),(0,J.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new us.Z(["position","pitch","bearing"])})}}class v extends Qi.Z{get ViewportType(){return Fs}get ControllerType(){return Ld}}(0,J.Z)(v,"displayName","FirstPersonView");class T extends Qi.Z{constructor(R={}){super(R),this.props.orbitAxis=R.orbitAxis||"Z"}get ViewportType(){return wc}get ControllerType(){return oe}}(0,J.Z)(T,"displayName","OrbitView");var B=Y(4159);class pt extends B.U{applyConstraints(R){const{maxZoom:ht,minZoom:Nt,zoom:$t}=R;R.zoom=(0,zi.uZ)($t,Nt,ht);const{longitude:ue,latitude:Ce}=R;return(ue<-180||ue>180)&&(R.longitude=(0,sr.wQ)(ue+180,360)-180),R.latitude=(0,zi.uZ)(Ce,-89,89),R}}class Vt extends ki.Z{constructor(...R){super(...R),(0,J.Z)(this,"ControllerState",pt),(0,J.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new us.Z(["longitude","latitude","zoom"])}),(0,J.Z)(this,"dragMode","pan")}setProps(R){super.setProps(R),this.dragRotate=!1,this.touchRotate=!1}}class ve extends Qi.Z{get ViewportType(){return Ao}get ControllerType(){return Vt}}(0,J.Z)(ve,"displayName","GlobeView");class Ye{constructor(R){(0,J.Z)(this,"opts",void 0),R&&(this.opts=R)}equals(R){return this===R||this.constructor===R.constructor&&(0,Va.v)(this.opts,R.opts)}getShaders(R){return null}getSubLayerProps(R){const{defaultProps:ht}=R.constructor,Nt={updateTriggers:{}};for(const $t in ht)if($t in this.props){const ue=ht[$t],Ce=this.props[$t];Nt[$t]=Ce,ue&&"accessor"===ue.type&&(Nt.updateTriggers[$t]=this.props.updateTriggers[$t],"function"==typeof Ce&&(Nt[$t]=this.getSubLayerAccessor(Ce)))}return Nt}initializeState(R,ht){}updateState(R,ht){}draw(R,ht){}finalizeState(R,ht){}}(0,J.Z)(Ye,"defaultProps",{});var vn=Y(5449),bn=Y(2618);const jn=["bearing","pitch"],hi={speed:1.2,curve:1.414};class hr extends bn.Z{constructor(R={}){super({compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),(0,J.Z)(this,"opts",void 0),this.opts={...hi,...R}}interpolateProps(R,ht,Nt){const $t=(0,ut.if)(R,ht,Nt,this.opts);for(const ue of jn)$t[ue]=(0,zi.t7)(R[ue]||0,ht[ue]||0,Nt);return $t}getDuration(R,ht){let{transitionDuration:Nt}=ht;return"auto"===Nt&&(Nt=(0,ut.up)(R,ht,this.opts)),Nt}}var No=Y(9088),su=Y(5535),Zl=Y(4745),ml=Y(2562),Yo=Y(195)},5001:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>en});var tt=Y(1180),J=Y(2378),F=Y(7552),Z=Y(8775);class G{constructor(Bt,Jt){(0,tt.Z)(this,"opts",void 0),(0,tt.Z)(this,"source",void 0),this.opts=Jt,this.source=Bt}get value(){return this.source.value}getValue(){const Bt=this.source.getBuffer(),Jt=this.getAccessor();if(Bt)return[Bt,Jt];const{value:Ae}=this.source,{size:je}=Jt;let Je=Ae;if(Ae&&Ae.length!==je){Je=new Float32Array(je);const An=Jt.elementOffset||0;for(let vi=0;vi<je;++vi)Je[vi]=Ae[An+vi]}return Je}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}var Q=Y(144),at=Y(8763),ct=Y(967);function ot(yn){return yn.stride||yn.size*yn.bytesPerElement}function $(yn,Bt){Bt.offset&&ct.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const Jt=ot(yn),Je=(void 0!==Bt.vertexOffset?Bt.vertexOffset:yn.vertexOffset||0)*Jt+(Bt.elementOffset||0)*yn.bytesPerElement+(yn.offset||0);return{...Bt,offset:Je,stride:Jt}}class U{constructor(Bt,Jt,Ae){(0,tt.Z)(this,"gl",void 0),(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"size",void 0),(0,tt.Z)(this,"settings",void 0),(0,tt.Z)(this,"value",void 0),(0,tt.Z)(this,"doublePrecision",void 0),(0,tt.Z)(this,"_buffer",void 0),(0,tt.Z)(this,"state",void 0),this.gl=Bt,this.id=Jt.id||"",this.size=Jt.size||1;const je=Jt.logicalType||Jt.type,Je=5130===je;let vi,{defaultValue:An}=Jt;An=Number.isFinite(An)?[An]:An||new Array(this.size).fill(0),vi=Je?5126:!je&&Jt.isIndexed?Bt&&(0,J.U6)(Bt,F.h.ELEMENT_INDEX_UINT32)?5125:5123:je||5126;let ur=function O(yn){switch(yn){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(je||vi||5126);this.doublePrecision=Je,Je&&!1===Jt.fp64&&(ur=Float32Array),this.value=null,this.settings={...Jt,defaultType:ur,defaultValue:An,logicalType:je,type:vi,size:this.size,bytesPerElement:ur.BYTES_PER_ELEMENT},this.state={...Ae,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:Bt,type:Jt}=this.settings;this._buffer=new Z.Z(this.gl,{id:this.id,target:Bt?34963:34962,accessor:{type:Jt}})}return this._buffer}get byteOffset(){const Bt=this.getAccessor();return Bt.vertexOffset?Bt.vertexOffset*ot(Bt):0}get numInstances(){return this.state.numInstances}set numInstances(Bt){this.state.numInstances=Bt}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Q.Z.release(this.state.allocatedValue)}getShaderAttributes(Bt,Jt){if(this.doublePrecision){const Ae={},je=this.value instanceof Float64Array,Je=function N(yn,Bt){const Jt=$(yn,Bt);return{high:Jt,low:{...Jt,offset:Jt.offset+4*yn.size}}}(this.getAccessor(),Jt||{});return Ae[Bt]=new G(this,Je.high),Ae["".concat(Bt,"64Low")]=je?new G(this,Je.low):new Float32Array(this.size),Ae}if(Jt){const Ae=$(this.getAccessor(),Jt);return{[Bt]:new G(this,Ae)}}return{[Bt]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let Bt=null;if(this.state.constant&&this.value){const Jt=Array.from(this.value);Bt=[Jt,Jt]}else{const{value:Jt,numInstances:Ae,size:je}=this,Je=Ae*je;if(Jt&&Je&&Jt.length>=Je){const An=new Array(je).fill(1/0),vi=new Array(je).fill(-1/0);for(let ur=0;ur<Je;)for(let Ri=0;Ri<je;Ri++){const Ji=Jt[ur++];Ji<An[Ri]&&(An[Ri]=Ji),Ji>vi[Ri]&&(vi[Ri]=Ji)}Bt=[An,vi]}}return this.state.bounds=Bt,Bt}setData(Bt){const{state:Jt}=this;let Ae;Ae=ArrayBuffer.isView(Bt)?{value:Bt}:Bt instanceof Z.Z?{buffer:Bt}:Bt;const je={...this.settings,...Ae};if(Jt.bufferAccessor=je,Jt.bounds=null,Ae.constant){let Je=Ae.value;if(Je=this._normalizeValue(Je,[],0),this.settings.normalized&&(Je=this.normalizeConstant(Je)),Jt.constant&&this._areValuesEqual(Je,this.value))return!1;Jt.externalBuffer=null,Jt.constant=!0,this.value=Je}else if(Ae.buffer){const Je=Ae.buffer;Jt.externalBuffer=Je,Jt.constant=!1,this.value=Ae.value||null;const An=Ae.value instanceof Float64Array;je.type=Ae.type||Je.accessor.type,je.bytesPerElement=Je.accessor.BYTES_PER_ELEMENT*(An?2:1),je.stride=ot(je)}else if(Ae.value){this._checkExternalBuffer(Ae);let Je=Ae.value;Jt.externalBuffer=null,Jt.constant=!1,this.value=Je,je.bytesPerElement=Je.BYTES_PER_ELEMENT,je.stride=ot(je);const{buffer:An,byteOffset:vi}=this;this.doublePrecision&&Je instanceof Float64Array&&(Je=(0,at.TK)(Je,je));const ur=Je.byteLength+vi+2*je.stride;An.byteLength<ur&&An.reallocate(ur),An.setAccessor(null),An.subData({data:Je,offset:vi}),je.type=Ae.type||An.accessor.type}return!0}updateSubBuffer(Bt={}){this.state.bounds=null;const Jt=this.value,{startOffset:Ae=0,endOffset:je}=Bt;this.buffer.subData({data:this.doublePrecision&&Jt instanceof Float64Array?(0,at.TK)(Jt,{size:this.size,startIndex:Ae,endIndex:je}):Jt.subarray(Ae,je),offset:Ae*Jt.BYTES_PER_ELEMENT+this.byteOffset})}allocate(Bt,Jt=!1){const{state:Ae}=this,je=Ae.allocatedValue,Je=Q.Z.allocate(je,Bt+1,{size:this.size,type:this.settings.defaultType,copy:Jt});this.value=Je;const{buffer:An,byteOffset:vi}=this;return An.byteLength<Je.byteLength+vi&&(An.reallocate(Je.byteLength+vi),Jt&&je&&An.subData({data:je instanceof Float64Array?(0,at.TK)(je,this):je,offset:vi})),Ae.allocatedValue=Je,Ae.constant=!1,Ae.externalBuffer=null,Ae.bufferAccessor=this.settings,!0}_checkExternalBuffer(Bt){const{value:Jt}=Bt;if(!ArrayBuffer.isView(Jt))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const Ae=this.settings.defaultType;let je=!1;if(this.doublePrecision&&(je=Jt.BYTES_PER_ELEMENT<4),je)throw new Error("Attribute ".concat(this.id," does not support ").concat(Jt.constructor.name));!(Jt instanceof Ae)&&this.settings.normalized&&!("normalized"in Bt)&&ct.Z.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(Bt){switch(this.settings.type){case 5120:return new Float32Array(Bt).map(Jt=>(Jt+128)/255*2-1);case 5122:return new Float32Array(Bt).map(Jt=>(Jt+32768)/65535*2-1);case 5121:return new Float32Array(Bt).map(Jt=>Jt/255);case 5123:return new Float32Array(Bt).map(Jt=>Jt/65535);default:return Bt}}_normalizeValue(Bt,Jt,Ae){const{defaultValue:je,size:Je}=this.settings;if(Number.isFinite(Bt))return Jt[Ae]=Bt,Jt;if(!Bt)return Jt[Ae]=je[0],Jt;switch(Je){case 4:Jt[Ae+3]=Number.isFinite(Bt[3])?Bt[3]:je[3];case 3:Jt[Ae+2]=Number.isFinite(Bt[2])?Bt[2]:je[2];case 2:Jt[Ae+1]=Number.isFinite(Bt[1])?Bt[1]:je[1];case 1:Jt[Ae+0]=Number.isFinite(Bt[0])?Bt[0]:je[0];break;default:let An=Je;for(;--An>=0;)Jt[Ae+An]=Number.isFinite(Bt[An])?Bt[An]:je[An]}return Jt}_areValuesEqual(Bt,Jt){if(!Bt||!Jt)return!1;const{size:Ae}=this;for(let je=0;je<Ae;je++)if(Bt[je]!==Jt[je])return!1;return!0}}var bt=Y(406),X=Y(9088),et=Y(5839);const W=[],it=[[0,1/0]];var lt=Y(9681);class mt extends U{constructor(Bt,Jt){super(Bt,Jt,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:it}),(0,tt.Z)(this,"constant",!1),this.settings.update=Jt.update||(Jt.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(Bt){this.state.startIndices=Bt}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:Bt=!1}={}){const Jt=this.state.needsRedraw;return this.state.needsRedraw=Jt&&!Bt,Jt}getUpdateTriggers(){const{accessor:Bt}=this.settings;return[this.id].concat("function"!=typeof Bt&&Bt||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(Bt){if(!Bt||!this.supportsTransition())return null;const{accessor:Jt}=this.settings,Ae=this.settings.transition,je=Array.isArray(Jt)?Bt[Jt.find(Je=>Bt[Je])]:Bt[Jt];return(0,lt.M0)(je,Ae)}setNeedsUpdate(Bt=this.id,Jt){if(this.state.needsUpdate=this.state.needsUpdate||Bt,this.setNeedsRedraw(Bt),Jt){const{startRow:Ae=0,endRow:je=1/0}=Jt;this.state.updateRanges=function V(yn,Bt){if(yn===it||(Bt[0]<0&&(Bt[0]=0),Bt[0]>=Bt[1]))return yn;const Jt=[],Ae=yn.length;let je=0;for(let Je=0;Je<Ae;Je++){const An=yn[Je];An[1]<Bt[0]?(Jt.push(An),je=Je+1):An[0]>Bt[1]?Jt.push(An):Bt=[Math.min(An[0],Bt[0]),Math.max(An[1],Bt[1])]}return Jt.splice(je,0,Bt),Jt}(this.state.updateRanges,[Ae,je])}else this.state.updateRanges=it}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=W}setNeedsRedraw(Bt=this.id){this.state.needsRedraw=this.state.needsRedraw||Bt}allocate(Bt){const{state:Jt,settings:Ae}=this;return!Ae.noAlloc&&!!Ae.update&&(super.allocate(Bt,Jt.updateRanges!==it),!0)}updateBuffer({numInstances:Bt,data:Jt,props:Ae,context:je}){if(!this.needsUpdate())return!1;const{state:{updateRanges:Je},settings:{update:An,noAlloc:vi}}=this;let ur=!0;if(An){for(const[Ri,Ji]of Je)An.call(je,this,{data:Jt,startRow:Ri,endRow:Ji,props:Ae,numInstances:Bt});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[Ri,Ji]of Je){const Lo=Number.isFinite(Ri)?this.getVertexOffset(Ri):0,Za=Number.isFinite(Ji)?this.getVertexOffset(Ji):vi||!Number.isFinite(Bt)?this.value.length:Bt*this.size;super.updateSubBuffer({startOffset:Lo,endOffset:Za})}this._checkAttributeArray()}else ur=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),ur}setConstantValue(Bt){return void 0!==Bt&&"function"!=typeof Bt&&(this.setData({constant:!0,value:Bt})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(Bt){const{state:Jt}=this;return Bt?(this.clearNeedsUpdate(),Jt.lastExternalBuffer===Bt||(Jt.lastExternalBuffer=Bt,this.setNeedsRedraw(),this.setData(Bt)),!0):(Jt.lastExternalBuffer=null,!1)}setBinaryValue(Bt,Jt=null){const{state:Ae,settings:je}=this;if(!Bt)return Ae.binaryValue=null,Ae.binaryAccessor=null,!1;if(je.noAlloc)return!1;if(Ae.binaryValue===Bt)return this.clearNeedsUpdate(),!0;if(Ae.binaryValue=Bt,this.setNeedsRedraw(),je.transform||Jt!==this.startIndices){ArrayBuffer.isView(Bt)&&(Bt={value:Bt});const An=Bt;(0,bt.Z)(ArrayBuffer.isView(An.value),"invalid ".concat(je.accessor));const vi=Boolean(An.size)&&An.size!==this.size;return Ae.binaryAccessor=(0,X.jr)(An.value,{size:An.size||this.size,stride:An.stride,offset:An.offset,startIndices:Jt,nested:vi}),!1}return this.clearNeedsUpdate(),this.setData(Bt),!0}getVertexOffset(Bt){const{startIndices:Jt}=this;return(Jt?Jt[Bt]:Bt)*this.size}getShaderAttributes(){const Bt=this.settings.shaderAttributes||{[this.id]:null},Jt={};for(const Ae in Bt)Object.assign(Jt,super.getShaderAttributes(Ae,Bt[Ae]));return Jt}_autoUpdater(Bt,{data:Jt,startRow:Ae,endRow:je,props:Je,numInstances:An}){if(Bt.constant)return;const{settings:vi,state:ur,value:Ri,size:Ji,startIndices:Lo}=Bt,{accessor:Za,transform:Xo}=vi,Bi=ur.binaryAccessor||("function"==typeof Za?Za:Je[Za]);(0,bt.Z)("function"==typeof Bi,'accessor "'.concat(Za,'" is not a function'));let ua=Bt.getVertexOffset(Ae);const{iterable:zt,objectInfo:Yt}=(0,X.jB)(Jt,Ae,je);for(const Be of zt){Yt.index++;let qe=Bi(Be,Yt);if(Xo&&(qe=Xo.call(this,qe)),Lo){const an=(Yt.index<Lo.length-1?Lo[Yt.index+1]:An)-Lo[Yt.index];if(qe&&Array.isArray(qe[0])){let Fn=ua;for(const ri of qe)Bt._normalizeValue(ri,Ri,Fn),Fn+=Ji}else qe&&qe.length>Ji?Ri.set(qe,ua):(Bt._normalizeValue(qe,Yt.target,0),(0,et.k)({target:Ri,source:Yt.target,start:ua,count:an}));ua+=an*Ji}else Bt._normalizeValue(qe,Ri,ua),ua+=Ji}}_validateAttributeUpdaters(){const{settings:Bt}=this;if(!Bt.noAlloc&&"function"!=typeof Bt.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:Bt}=this,Jt=Math.min(4,this.size);if(Bt&&Bt.length>=Jt){let Ae=!0;switch(Jt){case 4:Ae=Ae&&Number.isFinite(Bt[3]);case 3:Ae=Ae&&Number.isFinite(Bt[2]);case 2:Ae=Ae&&Number.isFinite(Bt[1]);case 1:Ae=Ae&&Number.isFinite(Bt[0]);break;default:Ae=!1}if(!Ae)throw new Error("Illegal attribute generated for ".concat(this.id))}}}var Ct=Y(3064),wt=Y(1012);const q="void main() {gl_FragColor = vec4(0);}",Pt="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Tt="#version 300 es\n".concat(Pt);function It(yn,Bt){Bt=Array.isArray(Bt)?Bt:[Bt];const Jt=yn.replace(/^\s+/,"").split(/\s+/),[Ae,je,Je]=Jt;return Bt.includes(Ae)&&je&&Je?{qualifier:Ae,type:je,name:Je.split(";")[0]}:null}function ut(){let yn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:Bt=100,input:Jt,inputType:Ae,output:je}=yn;if(!Jt)return 300===Bt?Tt:Bt>300?"#version ".concat(Bt,"\n").concat(Pt):q;const Je=function Et(yn,Bt){switch(Bt){case"float":return"vec4(".concat(yn,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(yn,", 0.0, 1.0)");case"vec3":return"vec4(".concat(yn,", 1.0)");case"vec4":return yn;default:return(0,wt.Z)(!1),null}}(Jt,Ae);return Bt>=300?"#version ".concat(Bt," ").concat(300===Bt?"es":"","\nin ").concat(Ae," ").concat(Jt,";\nout vec4 ").concat(je,";\nvoid main() {\n  ").concat(je," = ").concat(Je,";\n}"):"varying ".concat(Ae," ").concat(Jt,";\nvoid main() {\n  gl_FragColor = ").concat(Je,";\n}")}var vt=Y(7591),dt=Y(8023),_t=Y(659);class Zt{constructor(Bt){let Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=Bt,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(Jt),Object.seal(this)}setupResources(Bt){for(const Jt of this.bindings)this._setupTransformFeedback(Jt,Bt)}updateModelProps(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:Jt}=this;return Jt.length>0&&(Bt=Object.assign({},Bt,{varyings:Jt})),Bt}getDrawOptions(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Jt=this.bindings[this.currentIndex],{sourceBuffers:Ae,transformFeedback:je}=Jt;return{attributes:Object.assign({},Ae,Bt.attributes),transformFeedback:je}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(Bt){const{feedbackBuffers:Jt}=this.bindings[this.currentIndex],Ae=Bt?Jt[Bt]:null;return Ae?Ae instanceof Z.Z?Ae:Ae.buffer:null}getData(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:Jt}=Bt,Ae=this.getBuffer(Jt);return Ae?Ae.getData():null}delete(){for(const Bt in this.resources)this.resources[Bt].delete()}_initialize(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(Bt),this.varyings=Bt.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,_t.h)((0,vt.D0)(this.gl))}_getFeedbackBuffers(Bt){const{sourceBuffers:Jt={}}=Bt,Ae={};if(this.bindings[this.currentIndex]&&Object.assign(Ae,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const je in this.feedbackMap)je in Jt&&(Ae[this.feedbackMap[je]]=je);Object.assign(Ae,Bt.feedbackBuffers);for(const je in Ae){const Je=Ae[je];if("string"==typeof Je){const An=Jt[Je],{byteLength:vi,usage:ur,accessor:Ri}=An;Ae[je]=this._createNewBuffer(je,{byteLength:vi,usage:ur,accessor:Ri})}}return Ae}_setupBuffers(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Jt=null}=Bt;Object.assign(this.feedbackMap,Bt.feedbackMap);const Ae=this._getFeedbackBuffers(Bt);this._updateBindings({sourceBuffers:Jt,feedbackBuffers:Ae})}_setupTransformFeedback(Bt,Jt){let{model:Ae}=Jt;const{program:je}=Ae;Bt.transformFeedback=new dt.Z(this.gl,{program:je,buffers:Bt.feedbackBuffers})}_updateBindings(Bt){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],Bt),this.feedbackMap){const{sourceBuffers:Jt,feedbackBuffers:Ae}=this._swapBuffers(this.bindings[this.currentIndex]),je=this._getNextIndex();this.bindings[je]=this._updateBinding(this.bindings[je],{sourceBuffers:Jt,feedbackBuffers:Ae})}}_updateBinding(Bt,Jt){return Bt?(Object.assign(Bt.sourceBuffers,Jt.sourceBuffers),Object.assign(Bt.feedbackBuffers,Jt.feedbackBuffers),Bt.transformFeedback&&Bt.transformFeedback.setBuffers(Bt.feedbackBuffers),Bt):{sourceBuffers:Object.assign({},Jt.sourceBuffers),feedbackBuffers:Object.assign({},Jt.feedbackBuffers)}}_swapBuffers(Bt){if(!this.feedbackMap)return null;const Jt=Object.assign({},Bt.sourceBuffers),Ae=Object.assign({},Bt.feedbackBuffers);for(const je in this.feedbackMap){const Je=this.feedbackMap[je];Jt[je]=Bt.feedbackBuffers[Je],Ae[Je]=Bt.sourceBuffers[je],(0,_t.h)(Ae[Je]instanceof Z.Z)}return{sourceBuffers:Jt,feedbackBuffers:Ae}}_createNewBuffer(Bt,Jt){const Ae=new Z.Z(this.gl,Jt);return this.resources[Bt]&&this.resources[Bt].delete(),this.resources[Bt]=Ae,Ae}_getNextIndex(){return(this.currentIndex+1)%2}}var Ft=Y(1507),Ee=Y(5702),Wt=Y(2778),qt=Y(8100);function pe(yn){let Bt=100;const Jt=yn.match(/[^\s]+/g);if(Jt.length>=2&&"#version"===Jt[0]){const Ae=parseInt(Jt[1],10);Number.isFinite(Ae)&&(Bt=Ae)}return Bt}var Ne=Y(618);const re={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},Me="transform_uSampler_",le="transform_uSize_",Dt="transform_position";const S={10241:9728,10240:9728,10242:33071,10243:33071};class z{constructor(Bt){let Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=Bt,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(Jt),Object.seal(this)}updateModelProps(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Jt=this._processVertexShader(Bt);return Object.assign({},Bt,Jt)}getDrawOptions(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Jt,sourceTextures:Ae,framebuffer:je,targetTexture:Je}=this.bindings[this.currentIndex],An=Object.assign({},Jt,Bt.attributes),vi=Object.assign({},Bt.uniforms),ur=Object.assign({},Bt.parameters);let Ri=Bt.discard;if(this.hasSourceTextures||this.hasTargetTexture){An.transform_elementID=this.elementIDBuffer;for(const Lo in this.samplerTextureMap)vi[Lo]=Ae[this.samplerTextureMap[Lo]];this._setSourceTextureParameters();const Ji=function jt(yn){let{sourceTextureMap:Bt,targetTextureVarying:Jt,targetTexture:Ae}=yn;const je={};let Je,An;Jt&&(({width:Je,height:An}=Ae),je["".concat(le).concat(Jt)]=[Je,An]);for(const vi in Bt)({width:Je,height:An}=Bt[vi]),je["".concat(le).concat(vi)]=[Je,An];return je}({sourceTextureMap:Ae,targetTextureVarying:this.targetTextureVarying,targetTexture:Je});Object.assign(vi,Ji)}return this.hasTargetTexture&&(Ri=!1,ur.viewport=[0,0,je.width,je.height]),{attributes:An,framebuffer:je,uniforms:vi,discard:Ri,parameters:ur}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:Bt}=this.bindings[this.currentIndex];return Bt}getData(){let{packed:Bt=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:Jt}=this.bindings[this.currentIndex],Ae=(0,Ft.z6)(Jt);if(!Bt)return Ae;const je=Ae.constructor,Je=function ce(yn){switch(yn){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,wt.Z)(!1),null}}(this.targetTextureType),An=new je(Ae.length*Je/4);let vi=0;for(let ur=0;ur<Ae.length;ur+=4)for(let Ri=0;Ri<Je;Ri++)An[vi++]=Ae[ur+Ri];return An}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:Jt,_swapTexture:Ae}=Bt;this._swapTexture=Ae,this.targetTextureVarying=Jt,this.hasTargetTexture=Jt,this._setupTextures(Bt)}_createTargetTexture(Bt){const{sourceTextures:Jt,textureOrReference:Ae}=Bt;if(Ae instanceof Ee.Z)return Ae;const je=Jt[Ae];return je?(this._targetRefTexName=Ae,this._createNewTexture(je)):null}_setupTextures(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:Jt,_sourceTextures:Ae={},_targetTexture:je}=Bt,Je=this._createTargetTexture({sourceTextures:Ae,textureOrReference:je});this.hasSourceTextures=this.hasSourceTextures||Ae&&Object.keys(Ae).length>0,this._updateBindings({sourceBuffers:Jt,sourceTextures:Ae,targetTexture:Je}),"elementCount"in Bt&&this._updateElementIDBuffer(Bt.elementCount)}_updateElementIDBuffer(Bt){if("number"!=typeof Bt||this.elementCount>=Bt)return;const Jt=new Float32Array(Bt);Jt.forEach((Ae,je,Je)=>{Je[je]=je}),this.elementIDBuffer?this.elementIDBuffer.setData({data:Jt}):this.elementIDBuffer=new Z.Z(this.gl,{data:Jt,accessor:{size:1}}),this.elementCount=Bt}_updateBindings(Bt){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],Bt),this._swapTexture){const{sourceTextures:Jt,targetTexture:Ae}=this._swapTextures(this.bindings[this.currentIndex]),je=this._getNextIndex();this.bindings[je]=this._updateBinding(this.bindings[je],{sourceTextures:Jt,targetTexture:Ae})}}_updateBinding(Bt,Jt){const{sourceBuffers:Ae,sourceTextures:je,targetTexture:Je}=Jt;if(Bt||(Bt={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(Bt.sourceTextures,je),Object.assign(Bt.sourceBuffers,Ae),Je){Bt.targetTexture=Je;const{width:An,height:vi}=Je,{framebuffer:ur}=Bt;ur?(ur.update({attachments:{36064:Je},resizeAttachments:!1}),ur.resize({width:An,height:vi})):Bt.framebuffer=new Wt.Z(this.gl,{id:"transform-framebuffer",width:An,height:vi,attachments:{36064:Je}})}return Bt}_setSourceTextureParameters(){const Bt=this.currentIndex,{sourceTextures:Jt}=this.bindings[Bt];for(const Ae in Jt)Jt[Ae].setParameters(S)}_swapTextures(Bt){if(!this._swapTexture)return null;const Jt=Object.assign({},Bt.sourceTextures);return Jt[this._swapTexture]=Bt.targetTexture,{sourceTextures:Jt,targetTexture:Bt.sourceTextures[this._swapTexture]}}_createNewTexture(Bt){const Jt=(0,qt.h)(Bt,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=Jt,Jt}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:Jt,targetTexture:Ae}=this.bindings[this.currentIndex],{vs:je,uniforms:Je,targetTextureType:An,inject:vi,samplerTextureMap:ur}=function Ht(yn){let{vs:Bt,sourceTextureMap:Jt,targetTextureVarying:Ae,targetTexture:je}=yn,An=Object.keys(Jt).length,vi=null;const ur={};let Ri=Bt,Ji={};if(An>0||Ae){const Lo=Ri.split("\n"),Za=Lo.slice();if(Lo.forEach((Xo,Bi,ua)=>{if(An>0){const zt=function St(yn,Bt){const Jt={},Ae=function Ut(yn){return It(yn,["attribute","in"])}(yn);if(!Ae)return null;const{type:je,name:Je}=Ae;if(Je&&Bt[Je]){const An="// ".concat(yn," => Replaced by Transform with a sampler"),{samplerName:vi,sizeName:ur,uniformDeclerations:Ri}=function gt(yn){const Bt="".concat(Me).concat(yn),Jt="".concat(le).concat(yn);return{samplerName:Bt,sizeName:Jt,uniformDeclerations:"  uniform sampler2D ".concat(Bt,";\n  uniform vec2 ").concat(Jt,";")}}(Je),Ji=function ae(yn){switch(yn){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,wt.Z)(!1),null}}(je),Lo="  ".concat(je," ").concat(Je," = transform_getInput(").concat(vi,", ").concat(ur,").").concat(Ji,";\n");return Jt[vi]=Je,{updatedLine:An,inject:{"vs:#decl":Ri,"vs:#main-start":Lo},samplerTextureMap:Jt}}return null}(Xo,Jt);if(zt){const{updatedLine:Yt,inject:Be}=zt;Za[Bi]=Yt,Ji=(0,Ne.Lm)([Ji,Be]),Object.assign(ur,zt.samplerTextureMap),An--}}Ae&&!vi&&(vi=function At(yn,Bt){const Jt=It(yn,["varying","out"]);return Jt&&Jt.name===Bt?Jt.type:null}(Xo,Ae))}),Ae){(0,_t.h)(je);const Xo="".concat(le).concat(Ae),Bi="uniform vec2 ".concat(Xo,";\n"),ua="     vec2 ".concat(Dt," = transform_getPos(").concat(Xo,");\n     gl_Position = vec4(").concat(Dt,", 0, 1.);\n");Ji=(0,Ne.Lm)([Ji,{"vs:#decl":Bi,"vs:#main-start":ua}])}Ri=Za.join("\n")}return{vs:Ri,targetTextureType:vi,inject:Ji,samplerTextureMap:ur}}({vs:Bt.vs,sourceTextureMap:Jt,targetTextureVarying:this.targetTextureVarying,targetTexture:Ae}),Ri=(0,Ne.Lm)([Bt.inject||{},vi]);return this.targetTextureType=An,this.samplerTextureMap=ur,{vs:je,fs:Bt._fs||ut({version:pe(je),input:this.targetTextureVarying,inputType:An,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[re].concat(Bt.modules||[]):Bt.modules,uniforms:Je,inject:Ri}}}var ft=Y(3403),Mt=Y(525);class Ot{static isSupported(Bt){return(0,vt.D0)(Bt)}constructor(Bt){let Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=Bt,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(Jt),Object.seal(this)}delete(){const{model:Bt,bufferTransform:Jt,textureTransform:Ae}=this;Bt&&Bt.delete(),Jt&&Jt.delete(),Ae&&Ae.delete()}run(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:Jt=!0}=Bt,Ae=this._updateDrawOptions(Bt);Jt&&Ae.framebuffer&&Ae.framebuffer.clear({color:!0}),this.model.transform(Ae)}swap(){let Bt=!1;const Jt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ae of Jt)Bt=Bt||Ae.swap();(0,_t.h)(Bt,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const Jt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ae of Jt){const je=Ae.getData(Bt);if(je)return je}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in Bt&&this.model.setVertexCount(Bt.elementCount);const Jt=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Ae of Jt)Ae.update(Bt)}_initialize(){let Bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:Jt}=this;this._buildResourceTransforms(Jt,Bt),Bt=this._updateModelProps(Bt),this.model=new Mt.Z(Jt,Object.assign({},Bt,{fs:Bt.fs||ut({version:pe(Bt.vs)}),id:Bt.id||"transform-model",drawMode:Bt.drawMode||0,vertexCount:Bt.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(Bt){let Jt=Object.assign({},Bt);const Ae=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const je of Ae)Jt=je.updateModelProps(Jt);return Jt}_buildResourceTransforms(Bt,Jt){(function me(yn){return!((0,ft.nK)(yn.feedbackBuffers)&&(0,ft.nK)(yn.feedbackMap)&&!(yn.varyings&&yn.varyings.length>0))})(Jt)&&(this.bufferTransform=new Zt(Bt,Jt)),function ye(yn){return!((0,ft.nK)(yn._sourceTextures)&&!yn._targetTexture&&!yn._targetTextureVarying)}(Jt)&&(this.textureTransform=new z(Bt,Jt)),(0,_t.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(Bt){let Jt=Object.assign({},Bt);const Ae=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const je of Ae)Jt=Object.assign(Jt,je.getDrawOptions(Jt));return Jt}}var xe=Y(7922);const cn={interpolation:class ze{constructor({gl:Bt,attribute:Jt,timeline:Ae}){(0,tt.Z)(this,"gl",void 0),(0,tt.Z)(this,"type","interpolation"),(0,tt.Z)(this,"attributeInTransition",void 0),(0,tt.Z)(this,"settings",void 0),(0,tt.Z)(this,"attribute",void 0),(0,tt.Z)(this,"transition",void 0),(0,tt.Z)(this,"currentStartIndices",void 0),(0,tt.Z)(this,"currentLength",void 0),(0,tt.Z)(this,"transform",void 0),(0,tt.Z)(this,"buffers",void 0),this.gl=Bt,this.transition=new xe.Z(Ae),this.attribute=Jt,this.attributeInTransition=new mt(Bt,Jt.settings),this.currentStartIndices=Jt.startIndices,this.currentLength=0,this.transform=function Ue(yn,Bt){const Jt=(0,lt.w)(Bt.size);return new Ot(yn,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:Jt},varyings:["vCurrent"]})}(Bt,Jt);const je={byteLength:0,usage:35050};this.buffers=[new Z.Z(Bt,je),new Z.Z(Bt,je)]}get inProgress(){return this.transition.inProgress}start(Bt,Jt){if(Bt.duration<=0)return void this.transition.cancel();this.settings=Bt;const{gl:Ae,buffers:je,attribute:Je}=this;(0,lt.DY)(je);const An={numInstances:Jt,attribute:Je,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:Bt.enter};for(const vi of je)(0,lt.IV)({buffer:vi,...An});this.currentStartIndices=Je.startIndices,this.currentLength=(0,lt.pi)(Je,Jt),this.attributeInTransition.setData({buffer:je[1],value:Je.value}),this.transition.start(Bt),this.transform.update({elementCount:Math.floor(this.currentLength/Je.size),sourceBuffers:{aFrom:je[0],aTo:(0,lt.AQ)(Ae,Je)},feedbackBuffers:{vCurrent:je[1]}})}update(){const Bt=this.transition.update();if(Bt){const{duration:Jt,easing:Ae}=this.settings,{time:je}=this.transition;let Je=je/Jt;Ae&&(Je=Ae(Je)),this.transform.run({uniforms:{time:Je}})}return Bt}cancel(){this.transition.cancel(),this.transform.delete();for(const Bt of this.buffers)Bt.delete();this.buffers.length=0}},spring:class sn{constructor({gl:Bt,attribute:Jt,timeline:Ae}){(0,tt.Z)(this,"gl",void 0),(0,tt.Z)(this,"type","spring"),(0,tt.Z)(this,"attributeInTransition",void 0),(0,tt.Z)(this,"settings",void 0),(0,tt.Z)(this,"attribute",void 0),(0,tt.Z)(this,"transition",void 0),(0,tt.Z)(this,"currentStartIndices",void 0),(0,tt.Z)(this,"currentLength",void 0),(0,tt.Z)(this,"texture",void 0),(0,tt.Z)(this,"framebuffer",void 0),(0,tt.Z)(this,"transform",void 0),(0,tt.Z)(this,"buffers",void 0),this.gl=Bt,this.type="spring",this.transition=new xe.Z(Ae),this.attribute=Jt,this.attributeInTransition=new mt(Bt,{...Jt.settings,normalized:!1}),this.currentStartIndices=Jt.startIndices,this.currentLength=0,this.texture=function ln(yn){return new Ee.Z(yn,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(Bt),this.framebuffer=function xn(yn,Bt){return new Wt.Z(yn,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:Bt}})}(Bt,this.texture),this.transform=function un(yn,Bt,Jt){const Ae=(0,lt.w)(Bt.size);return new Ot(yn,{framebuffer:Jt,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:Ae},varyings:["vNext"]})}(Bt,Jt,this.framebuffer);const je={byteLength:0,usage:35050};this.buffers=[new Z.Z(Bt,je),new Z.Z(Bt,je),new Z.Z(Bt,je)]}get inProgress(){return this.transition.inProgress}start(Bt,Jt){const{gl:Ae,buffers:je,attribute:Je}=this,An={numInstances:Jt,attribute:Je,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:Bt.enter};for(const vi of je)(0,lt.IV)({buffer:vi,...An});this.settings=Bt,this.currentStartIndices=Je.startIndices,this.currentLength=(0,lt.pi)(Je,Jt),this.attributeInTransition.setData({buffer:je[1],value:Je.value}),this.transition.start({...Bt,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/Je.size),sourceBuffers:{aTo:(0,lt.AQ)(Ae,Je)}})}update(){const{buffers:Bt,transform:Jt,framebuffer:Ae,transition:je}=this;if(!je.update())return!1;const An=this.settings;return Jt.update({sourceBuffers:{aPrev:Bt[0],aCur:Bt[1]},feedbackBuffers:{vNext:Bt[2]}}),Jt.run({framebuffer:Ae,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:An.stiffness,damping:An.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),(0,lt.DY)(Bt),this.attributeInTransition.setData({buffer:Bt[1],value:this.attribute.value}),(0,Ft.z6)(Ae)[0]>0||je.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const Bt of this.buffers)Bt.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class Pe{constructor(Bt,{id:Jt,timeline:Ae}){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"isSupported",void 0),(0,tt.Z)(this,"gl",void 0),(0,tt.Z)(this,"timeline",void 0),(0,tt.Z)(this,"transitions",void 0),(0,tt.Z)(this,"needsRedraw",void 0),(0,tt.Z)(this,"numInstances",void 0),this.id=Jt,this.gl=Bt,this.timeline=Ae,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=Ot.isSupported(Bt)}finalize(){for(const Bt in this.transitions)this._removeTransition(Bt)}update({attributes:Bt,transitions:Jt,numInstances:Ae}){this.numInstances=Ae||1;for(const je in Bt){const Je=Bt[je],An=Je.getTransitionSetting(Jt);An&&this._updateAttribute(je,Je,An)}for(const je in this.transitions){const Je=Bt[je];(!Je||!Je.getTransitionSetting(Jt))&&this._removeTransition(je)}}hasAttribute(Bt){const Jt=this.transitions[Bt];return Jt&&Jt.inProgress}getAttributes(){const Bt={};for(const Jt in this.transitions){const Ae=this.transitions[Jt];Ae.inProgress&&(Bt[Jt]=Ae.attributeInTransition)}return Bt}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const Jt in this.transitions)this.transitions[Jt].update()&&(this.needsRedraw=!0);const Bt=this.needsRedraw;return this.needsRedraw=!1,Bt}_removeTransition(Bt){this.transitions[Bt].cancel(),delete this.transitions[Bt]}_updateAttribute(Bt,Jt,Ae){const je=this.transitions[Bt];let Je=!je||je.type!==Ae.type;if(Je){if(!this.isSupported)return void ct.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(Bt," is disabled."))();je&&this._removeTransition(Bt);const An=cn[Ae.type];An?this.transitions[Bt]=new An({attribute:Jt,timeline:this.timeline,gl:this.gl}):(ct.Z.error("unsupported transition type '".concat(Ae.type,"'"))(),Je=!1)}(Je||Jt.needsRedraw())&&(this.needsRedraw=!0,this.transitions[Bt].start(Ae,this.numInstances))}}const Qt="attributeManager.invalidate";class en{constructor(Bt,{id:Jt="attribute-manager",stats:Ae,timeline:je}={}){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"gl",void 0),(0,tt.Z)(this,"attributes",void 0),(0,tt.Z)(this,"updateTriggers",void 0),(0,tt.Z)(this,"needsRedraw",void 0),(0,tt.Z)(this,"userData",void 0),(0,tt.Z)(this,"stats",void 0),(0,tt.Z)(this,"attributeTransitionManager",void 0),this.id=Jt,this.gl=Bt,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=Ae,this.attributeTransitionManager=new Pe(Bt,{id:"".concat(Jt,"-transitions"),timeline:je}),Object.seal(this)}finalize(){for(const Bt in this.attributes)this.attributes[Bt].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(Bt={clearRedrawFlags:!1}){const Jt=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!Bt.clearRedrawFlags,Jt&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(Bt){this._add(Bt)}addInstanced(Bt){this._add(Bt,{instanced:1})}remove(Bt){for(const Jt of Bt)void 0!==this.attributes[Jt]&&(this.attributes[Jt].delete(),delete this.attributes[Jt])}invalidate(Bt,Jt){const Ae=this._invalidateTrigger(Bt,Jt);(0,Ct.Z)(Qt,this,Bt,Ae)}invalidateAll(Bt){for(const Jt in this.attributes)this.attributes[Jt].setNeedsUpdate(Jt,Bt);(0,Ct.Z)(Qt,this,"all")}update({data:Bt,numInstances:Jt,startIndices:Ae=null,transitions:je,props:Je={},buffers:An={},context:vi={}}){let ur=!1;(0,Ct.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const Ri in this.attributes){const Ji=this.attributes[Ri],Lo=Ji.settings.accessor;Ji.startIndices=Ae,Ji.numInstances=Jt,Je[Ri]&&ct.Z.removed("props.".concat(Ri),"data.attributes.".concat(Ri))(),Ji.setExternalBuffer(An[Ri])||Ji.setBinaryValue("string"==typeof Lo?An[Lo]:void 0,Bt.startIndices)||"string"==typeof Lo&&!An[Lo]&&Ji.setConstantValue(Je[Lo])||Ji.needsUpdate()&&(ur=!0,this._updateAttribute({attribute:Ji,numInstances:Jt,data:Bt,props:Je,context:vi})),this.needsRedraw=this.needsRedraw||Ji.needsRedraw()}ur&&(0,Ct.Z)("attributeManager.updateEnd",this,Jt),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:Jt,transitions:je})}updateTransition(){const{attributeTransitionManager:Bt}=this,Jt=Bt.run();return this.needsRedraw=this.needsRedraw||Jt,Jt}getAttributes(){return this.attributes}getChangedAttributes(Bt={clearChangedFlags:!1}){const{attributes:Jt,attributeTransitionManager:Ae}=this,je={...Ae.getAttributes()};for(const Je in Jt){const An=Jt[Je];An.needsRedraw(Bt)&&!Ae.hasAttribute(Je)&&(je[Je]=An)}return je}getShaderAttributes(Bt,Jt={}){Bt||(Bt=this.getAttributes());const Ae={};for(const je in Bt)Jt[je]||Object.assign(Ae,Bt[je].getShaderAttributes());return Ae}_add(Bt,Jt={}){for(const Ae in Bt)this.attributes[Ae]=this._createAttribute(Ae,Bt[Ae],Jt);this._mapUpdateTriggersToAttributes()}_createAttribute(Bt,Jt,Ae){const je={...Jt,id:Bt,size:(Jt.isIndexed?1:Jt.size)||1,divisor:Ae.instanced?1:Jt.divisor||0};return new mt(this.gl,je)}_mapUpdateTriggersToAttributes(){const Bt={};for(const Jt in this.attributes)this.attributes[Jt].getUpdateTriggers().forEach(je=>{Bt[je]||(Bt[je]=[]),Bt[je].push(Jt)});this.updateTriggers=Bt}_invalidateTrigger(Bt,Jt){const{attributes:Ae,updateTriggers:je}=this,Je=je[Bt];return Je&&Je.forEach(An=>{const vi=Ae[An];vi&&vi.setNeedsUpdate(vi.id,Jt)}),Je}_updateAttribute(Bt){const{attribute:Jt,numInstances:Ae}=Bt;(0,Ct.Z)("attribute.updateStart",Jt),Jt.constant?Jt.setConstantValue(Jt.value):(Jt.allocate(Ae)&&(0,Ct.Z)("attribute.allocate",Jt,Ae),Jt.updateBuffer(Bt)&&(this.needsRedraw=!0,(0,Ct.Z)("attribute.updateEnd",Jt,Ae)))}}},9681:(Xe,se,Y)=>{"use strict";function tt(ot){const{source:$,target:N,start:U=0,size:bt,getData:X}=ot,W=$.length,it=(ot.end||N.length)-U;if(W>it)return void N.set($.subarray(0,it),U);if(N.set($,U),!X)return;let V=W;for(;V<it;){const lt=X(V,$);for(let mt=0;mt<bt;mt++)N[U+V]=lt[mt]||0,V++}}Y.d(se,{DY:()=>Q,pi:()=>at,w:()=>O,AQ:()=>G,M0:()=>Z,IV:()=>ct});const F={interpolation:{duration:0,easing:ot=>ot},spring:{stiffness:.05,damping:.5}};function Z(ot,$){if(!ot)return null;Number.isFinite(ot)&&(ot={type:"interpolation",duration:ot});const N=ot.type||"interpolation";return{...F[N],...$,...ot,type:N}}function G(ot,$){const N=$.getBuffer();return N?[N,{divisor:0,size:$.size,normalized:$.settings.normalized}]:$.value}function O(ot){switch(ot){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(ot,'"'))}}function Q(ot){ot.push(ot.shift())}function at(ot,$){const{doublePrecision:N,settings:U,value:bt,size:X}=ot,et=N&&bt instanceof Float64Array?2:1;return(U.noAlloc?bt.length:$*X)*et}function ct({buffer:ot,numInstances:$,attribute:N,fromLength:U,fromStartIndices:bt,getData:X=(et=>et)}){const et=N.doublePrecision&&N.value instanceof Float64Array?2:1,W=N.size*et,it=N.byteOffset,V=N.startIndices,lt=bt&&V,mt=at(N,$),Ct=N.isConstant;if(!lt&&U>=mt)return;const wt=Ct?N.value:N.getBuffer().getData({srcByteOffset:it});if(N.settings.normalized&&!Ct){const It=X;X=(ut,ae)=>N.normalizeConstant(It(ut,ae))}const q=Ct?(It,ut)=>X(wt,ut):(It,ut)=>X(wt.subarray(It,It+W),ut),Pt=ot.getData({length:U}),Tt=new Float32Array(mt);(function J({source:ot,target:$,size:N,getData:U,sourceStartIndices:bt,targetStartIndices:X}){if(!Array.isArray(X))return tt({source:ot,target:$,size:N,getData:U}),$;let et=0,W=0;const it=U&&((lt,mt)=>U(lt+W,mt)),V=Math.min(bt.length,X.length);for(let lt=1;lt<V;lt++){const mt=bt[lt]*N,Ct=X[lt]*N;tt({source:ot.subarray(et,mt),target:$,start:W,end:Ct,size:N,getData:it}),et=mt,W=Ct}W<$.length&&tt({source:[],target:$,start:W,size:N,getData:it})})({source:Pt,target:Tt,sourceStartIndices:bt,targetStartIndices:V,size:W,getData:q}),ot.byteLength<Tt.byteLength+it&&ot.reallocate(Tt.byteLength+it),ot.subData({data:Tt,offset:it})}},2757:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>O});var tt=Y(1180),J=Y(5670),F=Y(3064),Z=Y(5839);class O extends J.Z{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(at=>at.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(at){}setState(at){super.setState(at),this.setNeedsUpdate()}getPickingInfo({info:at}){const{object:ct}=at;return ct&&ct.__source&&ct.__source.parent&&ct.__source.parent.id===this.id&&(at.object=ct.__source.object,at.index=ct.__source.index),at}filterSubLayer(at){return!0}shouldRenderSubLayer(at,ct){return ct&&ct.length}getSubLayerClass(at,ct){const{_subLayerProps:ot}=this.props;return ot&&ot[at]&&ot[at].type||ct}getSubLayerRow(at,ct,ot){return at.__source={parent:this,object:ct,index:ot},at}getSubLayerAccessor(at){if("function"==typeof at){const ct={index:-1,data:this.props.data,target:[]};return(ot,$)=>ot&&ot.__source?(ct.index=ot.__source.index,at(ot.__source.object,ct)):at(ot,$)}return at}getSubLayerProps(at={}){var ct;const{opacity:ot,pickable:$,visible:N,parameters:U,getPolygonOffset:bt,highlightedObjectIndex:X,autoHighlight:et,highlightColor:W,coordinateSystem:it,coordinateOrigin:V,wrapLongitude:lt,positionFormat:mt,modelMatrix:Ct,extensions:wt,fetch:q,operation:Pt,_subLayerProps:Tt}=this.props,It={id:"",updateTriggers:{},opacity:ot,pickable:$,visible:N,parameters:U,getPolygonOffset:bt,highlightedObjectIndex:X,autoHighlight:et,highlightColor:W,coordinateSystem:it,coordinateOrigin:V,wrapLongitude:lt,positionFormat:mt,modelMatrix:Ct,extensions:wt,fetch:q,operation:Pt},ut=Tt&&at.id&&Tt[at.id],ae=ut&&ut.updateTriggers,ce=at.id||"sublayer";if(ut){const Et=this.constructor._propTypes,vt=at.type?at.type._propTypes:{};for(const dt in ut){const _t=vt[dt]||Et[dt];_t&&"accessor"===_t.type&&(ut[dt]=this.getSubLayerAccessor(ut[dt]))}}Object.assign(It,at,ut),It.id="".concat(this.props.id,"-").concat(ce),It.updateTriggers={all:null===(ct=this.props.updateTriggers)||void 0===ct?void 0:ct.all,...at.updateTriggers,...ae};for(const Et of wt){const vt=Et.getSubLayerProps.call(this,Et);vt&&Object.assign(It,vt,{updateTriggers:Object.assign(It.updateTriggers,vt.updateTriggers)})}return It}_updateAutoHighlight(at){for(const ct of this.getSubLayers())ct.updateAutoHighlight(at)}_getAttributeManager(){return null}_postUpdate(at,ct){let ot=this.internalState.subLayers;const $=!ot||this.needsUpdate();if($){const N=this.renderLayers();ot=(0,Z.x)(N,Boolean),this.internalState.subLayers=ot}(0,F.Z)("compositeLayer.renderLayers",this,$,ot);for(const N of ot)N.parent=this}}(0,tt.Z)(O,"layerName","CompositeLayer")},9531:(Xe,se,Y)=>{"use strict";Y.d(se,{Df:()=>J,FP:()=>G,iI:()=>Z,k8:()=>O,zG:()=>F});var tt=Y(967);const J={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(J,"IDENTITY",{get:()=>(tt.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const F={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},Z={common:0,meters:1,pixels:2},G={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},O={DRAW:"draw",MASK:"mask"}},5670:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>cn});var tt=Y(1180),J=Y(9531),F=Y(5001),Z=Y(9681),G=Y(4822),O=Y(7922);function ct(Pe,Qt,_e,Oe,We){const rn=Qt-Pe;return(_e-Qt)*We+-rn*Oe+rn+Qt}function $(Pe,Qt){if(Array.isArray(Pe)){let _e=0;for(let Oe=0;Oe<Pe.length;Oe++){const We=Pe[Oe]-Qt[Oe];_e+=We*We}return Math.sqrt(_e)}return Math.abs(Pe-Qt)}var U=Y(967);const bt={interpolation:class Q extends O.Z{get value(){return this._value}_onUpdate(){const{time:Qt,settings:{fromValue:_e,toValue:Oe,duration:We,easing:rn}}=this,_n=rn(Qt/We);this._value=(0,G.t7)(_e,Oe,_n)}},spring:class N extends O.Z{get value(){return this._currValue}_onUpdate(){const{fromValue:Qt,toValue:_e,damping:Oe,stiffness:We}=this.settings,{_prevValue:rn=Qt,_currValue:_n=Qt}=this;let en=function ot(Pe,Qt,_e,Oe,We){if(Array.isArray(_e)){const rn=[];for(let _n=0;_n<_e.length;_n++)rn[_n]=ct(Pe[_n],Qt[_n],_e[_n],Oe,We);return rn}return ct(Pe,Qt,_e,Oe,We)}(rn,_n,_e,Oe,We);const yn=$(en,_e),Bt=$(en,_n);yn<1e-5&&Bt<1e-5&&(en=_e,this.end()),this._prevValue=_n,this._currValue=en}}};class X{constructor(Qt){this.transitions=new Map,this.timeline=Qt}get active(){return this.transitions.size>0}add(Qt,_e,Oe,We){const{transitions:rn}=this;if(rn.has(Qt)){const yn=rn.get(Qt),{value:Bt=yn.settings.fromValue}=yn;_e=Bt,this.remove(Qt)}if(!(We=(0,Z.M0)(We)))return;const _n=bt[We.type];if(!_n)return void U.Z.error("unsupported transition type '".concat(We.type,"'"))();const en=new _n(this.timeline);en.start({...We,fromValue:_e,toValue:Oe}),rn.set(Qt,en)}remove(Qt){const{transitions:_e}=this;_e.has(Qt)&&(_e.get(Qt).cancel(),_e.delete(Qt))}update(){const Qt={};for(const[_e,Oe]of this.transitions)Oe.update(),Qt[_e]=Oe.value,Oe.inProgress||this.remove(_e);return Qt}clear(){for(const Qt of this.transitions.keys())this.remove(Qt)}}var et=Y(195),W=Y(4132),it=Y(4745),V=Y(3064),lt=Y(7591),mt=Y(406),Ct=Y(7869),wt=Y(2562),q=Y(3127),Pt=Y(144),Tt=Y(9088),It=Y(5702);const ut={10241:9987,10240:9729,10242:33071,10243:33071},ae={};var vt=Y(7358);const dt={boolean:{validate:(Pe,Qt)=>!0,equal:(Pe,Qt,_e)=>Boolean(Pe)===Boolean(Qt)},number:{validate:(Pe,Qt)=>Number.isFinite(Pe)&&(!("max"in Qt)||Pe<=Qt.max)&&(!("min"in Qt)||Pe>=Qt.min)},color:{validate:(Pe,Qt)=>Qt.optional&&!Pe||Wt(Pe)&&(3===Pe.length||4===Pe.length),equal:(Pe,Qt,_e)=>_t(Pe,Qt)},accessor:{validate(Pe,Qt){const _e=qt(Pe);return"function"===_e||_e===qt(Qt.value)},equal:(Pe,Qt,_e)=>"function"==typeof Qt||_t(Pe,Qt)},array:{validate:(Pe,Qt)=>Qt.optional&&!Pe||Wt(Pe),equal:(Pe,Qt,_e)=>_e.compare?_t(Pe,Qt):Pe===Qt},object:{equal:(Pe,Qt,_e)=>_e.compare?(0,vt.v)(Pe,Qt):Pe===Qt},function:{validate:(Pe,Qt)=>Qt.optional&&!Pe||"function"==typeof Pe,equal:(Pe,Qt,_e)=>!_e.compare||Pe===Qt},data:{transform:(Pe,Qt,_e)=>{const{dataTransform:Oe}=_e.props;return Oe&&Pe?Oe(Pe):Pe}},image:{transform:(Pe,Qt,_e)=>function ce(Pe,Qt){const _e=Pe.context&&Pe.context.gl;if(!_e||!Qt)return null;if(Qt instanceof It.Z)return Qt;Qt.constructor&&"Object"!==Qt.constructor.name&&(Qt={data:Qt});let Oe=null;Qt.compressed&&(Oe={10241:Qt.data.length>1?9985:9729});const We=new It.Z(_e,{...Qt,parameters:{...ut,...Oe,...Pe.props.textureParameters}});return ae[We.id]=!0,We}(_e,Pe),release:Pe=>{!function Et(Pe){!Pe||!(Pe instanceof It.Z)||ae[Pe.id]&&(Pe.delete(),delete ae[Pe.id])}(Pe)}}};function _t(Pe,Qt){if(Pe===Qt)return!0;if(!Wt(Pe)||!Wt(Qt))return!1;const _e=Pe.length;if(_e!==Qt.length)return!1;for(let Oe=0;Oe<_e;Oe++)if(Pe[Oe]!==Qt[Oe])return!1;return!0}function Ft(Pe,Qt){switch(qt(Qt)){case"object":return Ee(Pe,Qt);case"array":return Ee(Pe,{type:"array",value:Qt,compare:!1});case"boolean":return Ee(Pe,{type:"boolean",value:Qt});case"number":return Ee(Pe,{type:"number",value:Qt});case"function":return Ee(Pe,{type:"function",value:Qt,compare:!0});default:return{name:Pe,type:"unknown",value:Qt}}}function Ee(Pe,Qt){return"type"in Qt?{name:Pe,...dt[Qt.type],...Qt}:"value"in Qt?{name:Pe,type:qt(Qt.value),...Qt}:{name:Pe,type:"object",value:Qt}}function Wt(Pe){return Array.isArray(Pe)||ArrayBuffer.isView(Pe)}function qt(Pe){return Wt(Pe)?"array":null===Pe?"null":typeof Pe}function Ne(Pe){return jt(Pe,"_mergedDefaultProps")||(function Le(Pe){if(!Pe.prototype)return;const _e=Object.getPrototypeOf(Pe),Oe=Ne(_e),rn=function Zt(Pe){const Qt={},_e={},Oe={};for(const[We,rn]of Object.entries(Pe)){const _n=rn?.deprecatedFor;if(_n)Oe[We]=Array.isArray(_n)?_n:[_n];else{const en=Ft(We,rn);Qt[We]=en,_e[We]=en.value}}return{propTypes:Qt,defaultProps:_e,deprecatedProps:Oe}}(jt(Pe,"defaultProps")||{}),_n=function re(Pe,Qt,_e){const Oe=Object.create(null);Object.assign(Oe,Qt,Pe);const We=function Ut(Pe){const Qt=jt(Pe,"layerName")||jt(Pe,"componentName");return Qt||U.Z.once(0,"".concat(Pe.name,".componentName not specified"))(),Qt||Pe.name}(_e);return delete Pe.id,Object.defineProperties(Oe,{id:{writable:!0,value:We}}),Oe}(rn.defaultProps,Oe,Pe),en={..._e._propTypes,...rn.propTypes};!function le(Pe,Qt){const _e={},Oe={};for(const We in Qt){const rn=Qt[We],{name:_n,value:en}=rn;rn.async&&(_e[_n]=en,Oe[_n]=Dt(_n))}Pe[W.lY]=_e,Pe[W.fO]={},Object.defineProperties(Pe,Oe)}(_n,en);const yn={..._e._deprecatedProps,...rn.deprecatedProps};(function Me(Pe,Qt){for(const _e in Qt)Object.defineProperty(Pe,_e,{enumerable:!1,set(Oe){const We="".concat(this.id,": ").concat(_e);for(const rn of Qt[_e])Ht(this,rn)||(this[rn]=Oe);U.Z.deprecated(We,Qt[_e].join("/"))()}})})(_n,yn),Pe._mergedDefaultProps=_n,Pe._propTypes=en,Pe._deprecatedProps=yn}(Pe),Pe._mergedDefaultProps)}function Dt(Pe){return{enumerable:!0,set(Qt){"string"==typeof Qt||Qt instanceof Promise||(0,Tt.D0)(Qt)?this[W.fO][Pe]=Qt:this[W.bN][Pe]=Qt},get(){if(this[W.bN]){if(Pe in this[W.bN])return this[W.bN][Pe]||this[W.lY][Pe];if(Pe in this[W.fO]){const Qt=this[W.fm]&&this[W.fm].internalState;if(Qt&&Qt.hasAsyncProp(Pe))return Qt.getAsyncProp(Pe)||this[W.lY][Pe]}}return this[W.lY][Pe]}}}function Ht(Pe,Qt){return Object.prototype.hasOwnProperty.call(Pe,Qt)}function jt(Pe,Qt){return Ht(Pe,Qt)&&Pe[Qt]}let gt=0;class At{constructor(...Qt){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"props",void 0),(0,tt.Z)(this,"count",void 0),this.props=function pe(Pe,Qt){const _e=Ne(Pe.constructor),Oe=Object.create(_e);Oe[W.fm]=Pe,Oe[W.fO]={},Oe[W.bN]={};for(let We=0;We<Qt.length;++We){const rn=Qt[We];for(const _n in rn)Oe[_n]=rn[_n]}return Object.freeze(Oe),Oe}(this,Qt),this.id=this.props.id,this.count=gt++}clone(Qt){const{props:_e}=this,Oe={};for(const We in _e[W.lY])We in _e[W.bN]?Oe[We]=_e[W.bN][We]:We in _e[W.fO]&&(Oe[We]=_e[W.fO][We]);return new this.constructor({..._e,...Oe,...Qt})}}(0,tt.Z)(At,"componentName","Component"),(0,tt.Z)(At,"defaultProps",{});var St=Y(5861),S=Y(6296);const P=Object.freeze({});class z{constructor(Qt){(0,tt.Z)(this,"component",void 0),(0,tt.Z)(this,"onAsyncPropUpdated",void 0),(0,tt.Z)(this,"asyncProps",void 0),(0,tt.Z)(this,"oldProps",void 0),(0,tt.Z)(this,"oldAsyncProps",void 0),this.component=Qt,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const Qt in this.asyncProps){const _e=this.asyncProps[Qt];_e&&_e.type&&_e.type.release&&_e.type.release(_e.resolvedValue,_e.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||P}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(Qt){return Qt in this.asyncProps}getAsyncProp(Qt){const _e=this.asyncProps[Qt];return _e&&_e.resolvedValue}isAsyncPropLoading(Qt){if(Qt){const _e=this.asyncProps[Qt];return Boolean(_e&&_e.pendingLoadCount>0&&_e.pendingLoadCount!==_e.resolvedLoadCount)}for(const _e in this.asyncProps)if(this.isAsyncPropLoading(_e))return!0;return!1}reloadAsyncProp(Qt,_e){this._watchPromise(Qt,Promise.resolve(_e))}setAsyncProps(Qt){const _e=Qt[W.bN]||{},Oe=Qt[W.fO]||Qt,We=Qt[W.lY]||{};for(const rn in _e){const _n=_e[rn];this._createAsyncPropData(rn,We[rn]),this._updateAsyncProp(rn,_n),_e[rn]=this.getAsyncProp(rn)}for(const rn in Oe){const _n=Oe[rn];this._createAsyncPropData(rn,We[rn]),this._updateAsyncProp(rn,_n)}}_fetch(Qt,_e){return null}_onResolve(Qt,_e){}_onError(Qt,_e){}_updateAsyncProp(Qt,_e){if(this._didAsyncInputValueChange(Qt,_e)){if("string"==typeof _e&&(_e=this._fetch(Qt,_e)),_e instanceof Promise)return void this._watchPromise(Qt,_e);if((0,Tt.D0)(_e))return void this._resolveAsyncIterable(Qt,_e);this._setPropValue(Qt,_e)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const Qt in this.asyncProps)Object.defineProperty(this.oldAsyncProps,Qt,{enumerable:!0,value:this.oldProps[Qt]})}}_didAsyncInputValueChange(Qt,_e){const Oe=this.asyncProps[Qt];return _e!==Oe.resolvedValue&&_e!==Oe.lastValue&&(Oe.lastValue=_e,!0)}_setPropValue(Qt,_e){this._freezeAsyncOldProps();const Oe=this.asyncProps[Qt];Oe&&(_e=this._postProcessValue(Oe,_e),Oe.resolvedValue=_e,Oe.pendingLoadCount++,Oe.resolvedLoadCount=Oe.pendingLoadCount)}_setAsyncPropValue(Qt,_e,Oe){const We=this.asyncProps[Qt];We&&Oe>=We.resolvedLoadCount&&void 0!==_e&&(this._freezeAsyncOldProps(),We.resolvedValue=_e,We.resolvedLoadCount=Oe,this.onAsyncPropUpdated(Qt,_e))}_watchPromise(Qt,_e){const Oe=this.asyncProps[Qt];if(Oe){Oe.pendingLoadCount++;const We=Oe.pendingLoadCount;_e.then(rn=>{rn=this._postProcessValue(Oe,rn),this._setAsyncPropValue(Qt,rn,We),this._onResolve(Qt,rn)}).catch(rn=>{this._onError(Qt,rn)})}}_resolveAsyncIterable(Qt,_e){var Oe=this;return(0,St.Z)(function*(){if("data"!==Qt)return void Oe._setPropValue(Qt,_e);const We=Oe.asyncProps[Qt];if(!We)return;We.pendingLoadCount++;const rn=We.pendingLoadCount;let _n=[],en=0;var Jt,yn=!1,Bt=!1;try{for(var je,Ae=(0,S.Z)(_e);yn=!(je=yield Ae.next()).done;yn=!1){const Je=je.value;{const{dataTransform:An}=Oe.component.props;_n=An?An(Je,_n):_n.concat(Je),Object.defineProperty(_n,"__diff",{enumerable:!1,value:[{startRow:en,endRow:_n.length}]}),en=_n.length,Oe._setAsyncPropValue(Qt,_n,rn)}}}catch(Je){Bt=!0,Jt=Je}finally{try{yn&&null!=Ae.return&&(yield Ae.return())}finally{if(Bt)throw Jt}}Oe._onResolve(Qt,_n)})()}_postProcessValue(Qt,_e){const Oe=Qt.type;return Oe&&(Oe.release&&Oe.release(Qt.resolvedValue,Oe,this.component),Oe.transform)?Oe.transform(_e,Oe,this.component):_e}_createAsyncPropData(Qt,_e){if(!this.asyncProps[Qt]){const We=this.component&&this.component.constructor._propTypes;this.asyncProps[Qt]={type:We&&We[Qt],lastValue:null,resolvedValue:_e,pendingLoadCount:0,resolvedLoadCount:0}}}}class ft extends z{constructor({attributeManager:Qt,layer:_e}){super(_e),(0,tt.Z)(this,"attributeManager",void 0),(0,tt.Z)(this,"needsRedraw",void 0),(0,tt.Z)(this,"needsUpdate",void 0),(0,tt.Z)(this,"subLayers",void 0),(0,tt.Z)(this,"usesPickingColorCache",void 0),(0,tt.Z)(this,"changeFlags",void 0),(0,tt.Z)(this,"viewport",void 0),(0,tt.Z)(this,"uniformTransitions",void 0),(0,tt.Z)(this,"propsInTransition",void 0),this.attributeManager=Qt,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(Qt){this.component=Qt}_fetch(Qt,_e){const Oe=this.component.props.fetch;return Oe?Oe(_e,{propName:Qt,layer:this.layer}):super._fetch(Qt,_e)}_onResolve(Qt,_e){const Oe=this.component.props.onDataLoad;"data"===Qt&&Oe&&Oe(_e,{propName:Qt,layer:this.layer})}_onError(Qt,_e){this.layer.raiseError(_e,"loading ".concat(Qt," of ").concat(this.layer))}}var Mt=Y(4698),Ot=Y(278);const sn=Object.freeze([]),un=(0,Ct.Z)(({oldViewport:Pe,viewport:Qt})=>Pe.equals(Qt));let ln=new Uint8ClampedArray(0);const xn={data:{type:"data",value:sn,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:Pe=>Pe&&Pe.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(Pe,{propName:Qt,layer:_e,loaders:Oe,loadOptions:We,signal:rn})=>{const{resourceManager:_n}=_e.context;var en;We=We||_e.getLoadOptions(),Oe=Oe||_e.props.loaders,rn&&(We={...We,fetch:{...null===(en=We)||void 0===en?void 0:en.fetch,signal:rn}});let yn=_n.contains(Pe);return!yn&&!We&&(_n.add({resourceId:Pe,data:(0,Ot.z)(Pe,Oe),persistent:!1}),yn=!0),yn?_n.subscribe({resourceId:Pe,onChange:Bt=>{var Jt;return null===(Jt=_e.internalState)||void 0===Jt?void 0:Jt.reloadAsyncProp(Qt,Bt)},consumerId:_e.id,requestId:Qt}):(0,Ot.z)(Pe,Oe,We)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:J.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:J.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:Pe})=>[0,100*-Pe],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class cn extends At{constructor(...Qt){super(...Qt),(0,tt.Z)(this,"internalState",null),(0,tt.Z)(this,"lifecycle",W.dt.NO_STATE),(0,tt.Z)(this,"context",void 0),(0,tt.Z)(this,"state",void 0),(0,tt.Z)(this,"parent",null)}get root(){let Qt=this;for(;Qt.parent;)Qt=Qt.parent;return Qt}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(Qt){(0,mt.Z)(this.internalState);const _e=this.internalState.viewport||this.context.viewport,Oe=(0,q.T)(Qt,{viewport:_e,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[We,rn,_n]=(0,Mt.aW)(Oe,_e.pixelProjectionMatrix);return 2===Qt.length?[We,rn]:[We,rn,_n]}unproject(Qt){return(0,mt.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(Qt)}projectPosition(Qt,_e){return(0,mt.Z)(this.internalState),(0,q.D)(Qt,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,..._e})}get isComposite(){return!1}setState(Qt){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,Qt),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(Qt){for(const _e of this.getModels())_e.updateModuleSettings(Qt)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:Qt}=this.props;return Qt===J.Df.DEFAULT||Qt===J.Df.LNGLAT||Qt===J.Df.CARTESIAN}onHover(Qt,_e){return this.props.onHover&&this.props.onHover(Qt,_e)||!1}onClick(Qt,_e){return this.props.onClick&&this.props.onClick(Qt,_e)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(Qt,_e=[]){return _e[0]=Qt+1&255,_e[1]=Qt+1>>8&255,_e[2]=Qt+1>>8>>8&255,_e}decodePickingColor(Qt){(0,mt.Z)(Qt instanceof Uint8Array);const[_e,Oe,We]=Qt;return _e+256*Oe+65536*We-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:(0,it.Q)(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var Qt;const _e=this.getAttributeManager();if(!_e)return null;const{positions:Oe,instancePositions:We}=_e.attributes;return null===(Qt=Oe||We)||void 0===Qt?void 0:Qt.getBounds()}getShaders(Qt){for(const _e of this.props.extensions)Qt=(0,wt.l)(Qt,_e.getShaders.call(this,_e));return Qt}shouldUpdateState(Qt){return Qt.changeFlags.propsOrDataChanged}updateState(Qt){const _e=this.getAttributeManager(),{dataChanged:Oe}=Qt.changeFlags;if(Oe&&_e)if(Array.isArray(Oe))for(const yn of Oe)_e.invalidateAll(yn);else _e.invalidateAll();const{props:We,oldProps:rn}=Qt,_n=Number.isInteger(rn.highlightedObjectIndex)||rn.pickable,en=Number.isInteger(We.highlightedObjectIndex)||We.pickable;if(_n!==en&&_e){const{pickingColors:yn,instancePickingColors:Bt}=_e.attributes,Jt=yn||Bt;Jt&&(en&&Jt.constant&&(Jt.constant=!1,_e.invalidate(Jt.id)),!Jt.value&&!en&&(Jt.constant=!0,Jt.value=[0,0,0]))}}finalizeState(Qt){for(const Oe of this.getModels())Oe.delete();const _e=this.getAttributeManager();_e&&_e.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(Qt){for(const _e of this.getModels())_e.draw(Qt)}getPickingInfo({info:Qt}){const{index:We}=Qt;return We>=0&&Array.isArray(this.props.data)&&(Qt.object=this.props.data[We]),Qt}raiseError(Qt,_e){var Oe,We,rn,_n;_e&&(Qt.message="".concat(_e,": ").concat(Qt.message)),null!==(Oe=(We=this.props).onError)&&void 0!==Oe&&Oe.call(We,Qt)||null===(rn=this.context)||void 0===rn||null===(_n=rn.onError)||void 0===_n||_n.call(rn,Qt,this)}getNeedsRedraw(Qt={clearRedrawFlags:!1}){return this._getNeedsRedraw(Qt)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var Qt;return(null===(Qt=this.internalState)||void 0===Qt?void 0:Qt.uniformTransitions.active)||!1}activateViewport(Qt){if(!this.internalState)return;const _e=this.internalState.viewport;this.internalState.viewport=Qt,(!_e||!un({oldViewport:_e,viewport:Qt}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(Qt="all"){const _e=this.getAttributeManager();_e&&("all"===Qt?_e.invalidateAll():_e.invalidate(Qt))}updateAttributes(Qt){for(const _e of this.getModels())this._setModelAttributes(_e,Qt)}_updateAttributes(){const Qt=this.getAttributeManager();if(!Qt)return;const _e=this.props,Oe=this.getNumInstances(),We=this.getStartIndices();Qt.update({data:_e.data,numInstances:Oe,startIndices:We,props:_e,transitions:_e.transitions,buffers:_e.data.attributes,context:this});const rn=Qt.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(rn)}_updateAttributeTransition(){const Qt=this.getAttributeManager();Qt&&Qt.updateTransition()}_updateUniformTransition(){const{uniformTransitions:Qt}=this.internalState;if(Qt.active){const _e=Qt.update(),Oe=Object.create(this.props);for(const We in _e)Object.defineProperty(Oe,We,{value:_e[We]});return Oe}return this.props}calculateInstancePickingColors(Qt,{numInstances:_e}){if(Qt.constant)return;const Oe=Math.floor(ln.length/3);if(this.internalState.usesPickingColorCache=!0,Oe<_e){_e>16777215&&U.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),ln=Pt.Z.allocate(ln,_e,{size:3,copy:!0,maxCount:Math.max(_e,16777215)});const We=Math.floor(ln.length/3),rn=[];for(let _n=Oe;_n<We;_n++)this.encodePickingColor(_n,rn),ln[3*_n+0]=rn[0],ln[3*_n+1]=rn[1],ln[3*_n+2]=rn[2]}Qt.value=ln.subarray(0,3*_e)}_setModelAttributes(Qt,_e){const rn=this.getAttributeManager().getShaderAttributes(_e,Qt.userData.excludeAttributes||{});Qt.setAttributes(rn)}disablePickingIndex(Qt){this._disablePickingIndex(Qt)}_disablePickingIndex(Qt){const{pickingColors:_e,instancePickingColors:Oe}=this.getAttributeManager().attributes,We=_e||Oe;if(!We)return;const rn=We.getVertexOffset(Qt),_n=We.getVertexOffset(Qt+1);We.buffer.subData({data:new Uint8Array(_n-rn),offset:rn})}restorePickingColors(){const{pickingColors:Qt,instancePickingColors:_e}=this.getAttributeManager().attributes,Oe=Qt||_e;Oe&&(this.internalState.usesPickingColorCache&&Oe.value.buffer!==ln.buffer&&(Oe.value=ln.subarray(0,Oe.value.length)),Oe.updateSubBuffer({startOffset:0}))}_initialize(){(0,mt.Z)(!this.internalState),(0,mt.Z)(Number.isFinite(this.props.coordinateSystem)),(0,V.Z)("layer.initialize",this);const Qt=this._getAttributeManager();Qt&&Qt.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new ft({attributeManager:Qt,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(U.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),Qt)}),this.internalState.layer=this,this.internalState.uniformTransitions=new X(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const _e of this.props.extensions)_e.initializeState.call(this,this.context,_e);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(Qt){(0,V.Z)("layer.matched",this,this===Qt);const{state:_e,internalState:Oe}=Qt;this!==Qt&&(this.internalState=Oe,this.internalState.layer=this,this.state=_e,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const Qt=this.needsUpdate();if((0,V.Z)("layer.update",this,Qt),!Qt)return;const _e=this.props,Oe=this.context,We=this.internalState,rn=Oe.viewport,_n=this._updateUniformTransition();We.propsInTransition=_n,Oe.viewport=We.viewport||rn,this.props=_n;try{const en=this._getUpdateParams(),yn=this.getModels();if(Oe.gl)this.updateState(en);else try{this.updateState(en)}catch{}for(const Jt of this.props.extensions)Jt.updateState.call(this,en,Jt);const Bt=this.getModels()[0]!==yn[0];this._postUpdate(en,Bt)}finally{Oe.viewport=rn,this.props=_e,this._clearChangeFlags(),We.needsUpdate=!1,We.resetOldProps()}}_finalize(){(0,V.Z)("layer.finalize",this),this.finalizeState(this.context);for(const Qt of this.props.extensions)Qt.finalizeState.call(this,Qt)}_drawLayer({moduleParameters:Qt=null,uniforms:_e={},parameters:Oe={}}){this._updateAttributeTransition();const We=this.props,rn=this.context;this.props=this.internalState.propsInTransition||We,_e.opacity=Math.pow(this.props.opacity,1/2.2);try{Qt&&this.setModuleParameters(Qt);const{getPolygonOffset:en}=this.props,yn=en&&en(_e)||[0,0];(0,lt.dR)(rn.gl,{polygonOffset:yn}),(0,lt.s8)(rn.gl,Oe,()=>{const Bt={moduleParameters:Qt,uniforms:_e,parameters:Oe,context:rn};for(const Jt of this.props.extensions)Jt.draw.call(this,Bt,Jt);this.draw(Bt)})}finally{this.props=We}}getChangeFlags(){var Qt;return null===(Qt=this.internalState)||void 0===Qt?void 0:Qt.changeFlags}setChangeFlags(Qt){if(!this.internalState)return;const{changeFlags:_e}=this.internalState;for(const We in Qt)if(Qt[We]){let rn=!1;if("dataChanged"===We){const _n=Qt[We],en=_e[We];_n&&Array.isArray(en)&&(_e.dataChanged=Array.isArray(_n)?en.concat(_n):_n,rn=!0)}_e[We]||(_e[We]=Qt[We],rn=!0),rn&&(0,V.Z)("layer.changeFlag",this,We,Qt)}const Oe=Boolean(_e.dataChanged||_e.updateTriggersChanged||_e.propsChanged||_e.extensionsChanged);_e.propsOrDataChanged=Oe,_e.somethingChanged=Oe||_e.viewportChanged||_e.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(Qt,_e){const Oe=(0,et.Yt)(Qt,_e);if(Oe.updateTriggersChanged)for(const rn in Oe.updateTriggersChanged)Oe.updateTriggersChanged[rn]&&this.invalidateAttribute(rn);if(Oe.transitionsChanged)for(const rn in Oe.transitionsChanged){var We;this.internalState.uniformTransitions.add(rn,_e[rn],Qt[rn],null===(We=Qt.transitions)||void 0===We?void 0:We[rn])}return this.setChangeFlags(Oe)}validateProps(){(0,et.eQ)(this.props)}updateAutoHighlight(Qt){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(Qt)}_updateAutoHighlight(Qt){const _e={pickingSelectedColor:Qt.picked?Qt.color:null},{highlightColor:Oe}=this.props;Qt.picked&&"function"==typeof Oe&&(_e.pickingHighlightColor=Oe(Qt)),this.setModuleParameters(_e),this.setNeedsRedraw()}_getAttributeManager(){const Qt=this.context;return new F.Z(Qt.gl,{id:this.props.id,stats:Qt.stats,timeline:Qt.timeline})}_postUpdate(Qt,_e){const{props:Oe,oldProps:We}=Qt;this.setNeedsRedraw(),this._updateAttributes();const{model:rn}=this.state;rn?.setInstanceCount(this.getNumInstances());const{autoHighlight:_n,highlightedObjectIndex:en,highlightColor:yn}=Oe;if(_e||We.autoHighlight!==_n||We.highlightedObjectIndex!==en||We.highlightColor!==yn){const Bt={};_n||(Bt.pickingSelectedColor=null),Array.isArray(yn)&&(Bt.pickingHighlightColor=yn),Number.isInteger(en)&&(Bt.pickingSelectedColor=Number.isFinite(en)&&en>=0?this.encodePickingColor(en):null),this.setModuleParameters(Bt)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(Qt){if(!this.internalState)return!1;let _e=!1;_e=_e||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!Qt.clearRedrawFlags;const Oe=this.getAttributeManager(),We=!!Oe&&Oe.getNeedsRedraw(Qt);return _e=_e||We,_e}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(0,tt.Z)(cn,"defaultProps",xn),(0,tt.Z)(cn,"layerName","Layer")},4132:(Xe,se,Y)=>{"use strict";Y.d(se,{bN:()=>G,dt:()=>tt,fO:()=>Z,fm:()=>J,lY:()=>F});const tt={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},J=Symbol.for("component"),F=Symbol.for("asyncPropDefaults"),Z=Symbol.for("asyncPropOriginal"),G=Symbol.for("asyncPropResolved")},195:(Xe,se,Y)=>{"use strict";Y.d(se,{Yt:()=>F,eQ:()=>J,tg:()=>G});var tt=Y(4132);function J(N){const U=$(N);for(const bt in U){const X=U[bt],{validate:et}=X;if(et&&!et(N[bt],X))throw new Error("Invalid prop ".concat(bt,": ").concat(N[bt]))}}function F(N,U){const bt=G({newProps:N,oldProps:U,propTypes:$(N),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),X=function Q(N,U){if(null===U)return"oldProps is null, initial diff";let bt=!1;const{dataComparator:X,_dataDiff:et}=N;return X?X(N.data,U.data)||(bt="Data comparator detected a change"):N.data!==U.data&&(bt="A new data container was supplied"),bt&&et&&(bt=et(N.data,U.data)||bt),bt}(N,U);let et=!1;return X||(et=function at(N,U){if(null===U)return{all:!0};if("all"in N.updateTriggers&&ot(N,U,"all"))return{all:!0};const bt={};let X=!1;for(const et in N.updateTriggers)"all"!==et&&ot(N,U,et)&&(bt[et]=!0,X=!0);return!!X&&bt}(N,U)),{dataChanged:X,propsChanged:bt,updateTriggersChanged:et,extensionsChanged:ct(N,U),transitionsChanged:Z(N,U)}}function Z(N,U){if(!N.transitions)return!1;const bt={},X=$(N);let et=!1;for(const W in N.transitions){const it=X[W],V=it&&it.type;("number"===V||"color"===V||"array"===V)&&O(N[W],U[W],it)&&(bt[W]=!0,et=!0)}return!!et&&bt}function G({newProps:N,oldProps:U,ignoreProps:bt={},propTypes:X={},triggerName:et="props"}){if(U===N)return!1;if("object"!=typeof N||null===N||"object"!=typeof U||null===U)return"".concat(et," changed shallowly");for(const W of Object.keys(N))if(!(W in bt)){if(!(W in U))return"".concat(et,".").concat(W," added");const it=O(N[W],U[W],X[W]);if(it)return"".concat(et,".").concat(W," ").concat(it)}for(const W of Object.keys(U))if(!(W in bt)){if(!(W in N))return"".concat(et,".").concat(W," dropped");if(!Object.hasOwnProperty.call(N,W)){const it=O(N[W],U[W],X[W]);if(it)return"".concat(et,".").concat(W," ").concat(it)}}return!1}function O(N,U,bt){let X=bt&&bt.equal;return X&&!X(N,U,bt)||!X&&(X=N&&U&&N.equals,X&&!X.call(N,U))?"changed deeply":X||U===N?null:"changed shallowly"}function ct(N,U){if(null===U)return!0;const bt=U.extensions,{extensions:X}=N;if(X===bt)return!1;if(!bt||!X||X.length!==bt.length)return!0;for(let et=0;et<X.length;et++)if(!X[et].equals(bt[et]))return!0;return!1}function ot(N,U,bt){let X=N.updateTriggers[bt];X=X??{};let et=U.updateTriggers[bt];return et=et??{},G({oldProps:et,newProps:X,triggerName:bt})}function $(N){const U=N[tt.fm],bt=U&&U.constructor;return bt?bt._propTypes:{}}},9813:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Q});const J={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},Q={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function F(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const ct={};if(void 0!==at.pickingSelectedColor)if(at.pickingSelectedColor){const ot=at.pickingSelectedColor.slice(0,3);ct.picking_uSelectedColorValid=1,ct.picking_uSelectedColor=ot}else ct.picking_uSelectedColorValid=0;if(at.pickingHighlightColor){const ot=Array.from(at.pickingHighlightColor,$=>$/255);Number.isFinite(ot[3])||(ot[3]=1),ct.picking_uHighlightColor=ot}return void 0!==at.pickingActive&&(ct.picking_uActive=Boolean(at.pickingActive),ct.picking_uAttribute=Boolean(at.pickingAttribute)),ct}}},6392:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>F});const F={name:"project32",dependencies:[Y(7517).Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},3127:(Xe,se,Y)=>{"use strict";Y.d(se,{D:()=>ot,T:()=>ct});var tt=Y(9531),J=Y(6231),F=Y(5174),Z=Y(9538),G=Y(3454),O=Y(4698);function Q($,N,U=!1){const bt=N.projectPosition($);if(U&&N instanceof F.Z){const[X,et,W=0]=$,it=N.getDistanceScales([X,et]);bt[2]=W*it.unitsPerMeter[2]}return bt}function ct($,{viewport:N,modelMatrix:U,coordinateSystem:bt,coordinateOrigin:X,offsetMode:et}){let[W,it,V=0]=$;switch(U&&([W,it,V]=Z.fF([],[W,it,V,1],U)),bt){case tt.Df.LNGLAT:return Q([W,it,V],N,et);case tt.Df.LNGLAT_OFFSETS:return Q([W+X[0],it+X[1],V+(X[2]||0)],N,et);case tt.Df.METER_OFFSETS:return Q((0,O.eG)(X,[W,it,V]),N,et);default:return N.isGeospatial?[W+X[0],it+X[1],V+X[2]]:N.projectPosition([W,it,V])}}function ot($,N){const{viewport:U,coordinateSystem:bt,coordinateOrigin:X,modelMatrix:et,fromCoordinateSystem:W,fromCoordinateOrigin:it}=function at($){const{viewport:N,modelMatrix:U,coordinateOrigin:bt}=$;let{coordinateSystem:X,fromCoordinateSystem:et,fromCoordinateOrigin:W}=$;return X===tt.Df.DEFAULT&&(X=N.isGeospatial?tt.Df.LNGLAT:tt.Df.CARTESIAN),void 0===et&&(et=X),void 0===W&&(W=bt),{viewport:N,coordinateSystem:X,coordinateOrigin:bt,modelMatrix:U,fromCoordinateSystem:et,fromCoordinateOrigin:W}}(N),{geospatialOrigin:V,shaderCoordinateOrigin:lt,offsetMode:mt}=(0,J.v)(U,bt,X),Ct=ct($,{viewport:U,modelMatrix:et,coordinateSystem:W,coordinateOrigin:it,offsetMode:mt});if(mt){const wt=U.projectPosition(V||lt);G.lu(Ct,Ct,wt)}return Ct}},7517:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>X});const F="#define SMOOTH_EDGE_RADIUS 0.5",O={name:"geometry",vs:"\n".concat(F,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(F,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};var Q=Y(9531);const at=Object.keys(Q.Df).map(et=>"const int COORDINATE_SYSTEM_".concat(et," = ").concat(Q.Df[et],";")).join(""),ct=Object.keys(Q.zG).map(et=>"const int PROJECTION_MODE_".concat(et," = ").concat(Q.zG[et],";")).join(""),ot=Object.keys(Q.iI).map(et=>"const int UNIT_".concat(et.toUpperCase()," = ").concat(Q.iI[et],";")).join(""),$="".concat(at,"\n").concat(ct,"\n").concat(ot,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');var N=Y(6231);const U={},X={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},O],vs:$,getUniforms:function bt(et=U){return"viewport"in et?(0,N.C)(et):{}}}},6231:(Xe,se,Y)=>{"use strict";Y.d(se,{C:()=>U,v:()=>$});var tt=Y(711),J=Y(9538),F=Y(9531),Z=Y(7869);const G=[0,0,0,0],O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],at=[0,0,0],ct=[0,0,0],ot=(0,Z.Z)(function bt({viewport:X,devicePixelRatio:et,coordinateSystem:W,coordinateOrigin:it}){const{projectionCenter:V,viewProjectionMatrix:lt,originCommon:mt,cameraPosCommon:Ct,shaderCoordinateOrigin:wt,geospatialOrigin:q}=function N(X,et,W){const{viewMatrixUncentered:it,projectionMatrix:V}=X;let{viewMatrix:lt,viewProjectionMatrix:mt}=X,Ct=G,wt=G,q=X.cameraPosition;const{geospatialOrigin:Pt,shaderCoordinateOrigin:Tt,offsetMode:It}=$(X,et,W);return It&&(wt=X.projectPosition(Pt||Tt),q=[q[0]-wt[0],q[1]-wt[1],q[2]-wt[2]],wt[3]=1,Ct=J.fF([],wt,mt),lt=it||lt,mt=tt.Jp([],V,lt),mt=tt.Jp([],mt,O)),{viewMatrix:lt,viewProjectionMatrix:mt,projectionCenter:Ct,originCommon:wt,cameraPosCommon:q,shaderCoordinateOrigin:Tt,geospatialOrigin:Pt}}(X,W,it),Pt=X.getDistanceScales(),Tt=[X.width*et,X.height*et],It=J.fF([],[0,0,-X.focalDistance,1],X.projectionMatrix)[3]||1,ut={project_uCoordinateSystem:W,project_uProjectionMode:X.projectionMode,project_uCoordinateOrigin:wt,project_uCommonOrigin:mt.slice(0,3),project_uCenter:V,project_uPseudoMeters:Boolean(X._pseudoMeters),project_uViewportSize:Tt,project_uDevicePixelRatio:et,project_uFocalDistance:It,project_uCommonUnitsPerMeter:Pt.unitsPerMeter,project_uCommonUnitsPerWorldUnit:Pt.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:at,project_uScale:X.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:lt,project_uModelMatrix:Q,project_uCameraPosition:Ct};if(q){const ae=X.getDistanceScales(q);switch(W){case F.Df.METER_OFFSETS:ut.project_uCommonUnitsPerWorldUnit=ae.unitsPerMeter,ut.project_uCommonUnitsPerWorldUnit2=ae.unitsPerMeter2;break;case F.Df.LNGLAT:case F.Df.LNGLAT_OFFSETS:X._pseudoMeters||(ut.project_uCommonUnitsPerMeter=ae.unitsPerMeter),ut.project_uCommonUnitsPerWorldUnit=ae.unitsPerDegree,ut.project_uCommonUnitsPerWorldUnit2=ae.unitsPerDegree2;break;case F.Df.CARTESIAN:ut.project_uCommonUnitsPerWorldUnit=[1,1,ae.unitsPerMeter[2]],ut.project_uCommonUnitsPerWorldUnit2=[0,0,ae.unitsPerMeter2[2]]}}return ut});function $(X,et,W=ct){W.length<3&&(W=[W[0],W[1],0]);let V,it=W,lt=!0;switch(V=et===F.Df.LNGLAT_OFFSETS||et===F.Df.METER_OFFSETS?W:X.isGeospatial?[Math.fround(X.longitude),Math.fround(X.latitude),0]:null,X.projectionMode){case F.zG.WEB_MERCATOR:(et===F.Df.LNGLAT||et===F.Df.CARTESIAN)&&(V=[0,0,0],lt=!1);break;case F.zG.WEB_MERCATOR_AUTO_OFFSET:et===F.Df.LNGLAT?it=V:et===F.Df.CARTESIAN&&(it=[Math.fround(X.center[0]),Math.fround(X.center[1]),0],V=X.unprojectPosition(it),it[0]-=W[0],it[1]-=W[1],it[2]-=W[2]);break;case F.zG.IDENTITY:it=X.position.map(Math.fround),it[2]=it[2]||0;break;case F.zG.GLOBE:lt=!1,V=null;break;default:lt=!1}return{geospatialOrigin:V,shaderCoordinateOrigin:it,offsetMode:lt}}function U({viewport:X,devicePixelRatio:et=1,modelMatrix:W=null,coordinateSystem:it=F.Df.DEFAULT,coordinateOrigin:V=ct,autoWrapLongitude:lt=!1}){it===F.Df.DEFAULT&&(it=X.isGeospatial?F.Df.LNGLAT:F.Df.CARTESIAN);const mt=ot({viewport:X,devicePixelRatio:et,coordinateSystem:it,coordinateOrigin:V});return mt.project_uWrapLongitude=lt,mt.project_uModelMatrix=W||Q,mt}},8251:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>O});var tt=Y(1180),J=Y(2618),F=Y(4822);const Z=["longitude","latitude","zoom","bearing","pitch"],G=["longitude","latitude","zoom"];class O extends J.Z{constructor(at={}){const ct=Array.isArray(at)?at:at.transitionProps,ot=Array.isArray(at)?{}:at;ot.transitionProps=Array.isArray(ct)?{compare:ct,required:ct}:ct||{compare:Z,required:G},super(ot.transitionProps),(0,tt.Z)(this,"opts",void 0),this.opts=ot}initializeProps(at,ct){const ot=super.initializeProps(at,ct),{makeViewport:$,around:N}=this.opts;if($&&N){const U=$(at),bt=$(ct),X=U.unproject(N);ot.start.around=N,Object.assign(ot.end,{around:bt.project(X),aroundPosition:X,width:ct.width,height:ct.height})}return ot}interpolateProps(at,ct,ot){const $={};for(const N of this._propsToExtract)$[N]=(0,F.t7)(at[N]||0,ct[N]||0,ot);if(ct.aroundPosition&&this.opts.makeViewport){const N=this.opts.makeViewport({...ct,...$});Object.assign($,N.panByPosition(ct.aroundPosition,(0,F.t7)(at.around,ct.around,ot)))}return $}}},2618:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Z});var tt=Y(1180),J=Y(4822),F=Y(406);class Z{constructor(O){(0,tt.Z)(this,"_propsToCompare",void 0),(0,tt.Z)(this,"_propsToExtract",void 0),(0,tt.Z)(this,"_requiredProps",void 0);const{compare:Q,extract:at,required:ct}=O;this._propsToCompare=Q,this._propsToExtract=at||Q,this._requiredProps=ct}arePropsEqual(O,Q){for(const at of this._propsToCompare)if(!(at in O)||!(at in Q)||!(0,J.fS)(O[at],Q[at]))return!1;return!0}initializeProps(O,Q){const at={},ct={};for(const ot of this._propsToExtract)(ot in O||ot in Q)&&(at[ot]=O[ot],ct[ot]=Q[ot]);return this._checkRequiredProps(at),this._checkRequiredProps(ct),{start:at,end:ct}}getDuration(O,Q){return Q.transitionDuration}_checkRequiredProps(O){this._requiredProps&&this._requiredProps.forEach(Q=>{const at=O[Q];(0,F.Z)(Number.isFinite(at)||Array.isArray(at),"".concat(Q," is required for transition"))})}}},7922:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>J});var tt=Y(1180);class J{constructor(Z){(0,tt.Z)(this,"_inProgress",void 0),(0,tt.Z)(this,"_handle",void 0),(0,tt.Z)(this,"_timeline",void 0),(0,tt.Z)(this,"time",void 0),(0,tt.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=Z,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(Z){var G,O;this.cancel(),this.settings=Z,this._inProgress=!0,null===(G=(O=this.settings).onStart)||void 0===G||G.call(O,this)}end(){var Z,G;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(Z=(G=this.settings).onEnd)||void 0===Z||Z.call(G,this))}cancel(){var Z,G;this._inProgress&&(null===(Z=(G=this.settings).onInterrupt)||void 0===Z||Z.call(G,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var Z,G;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:O,settings:Q}=this;this._handle=O.addChannel({delay:O.getTime(),duration:Q.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(Z=(G=this.settings).onUpdate)||void 0===Z||Z.call(G,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},406:(Xe,se,Y)=>{"use strict";function tt(J,F){if(!J)throw new Error(F||"deck.gl: assertion failed.")}Y.d(se,{Z:()=>tt})},4745:(Xe,se,Y)=>{"use strict";Y.d(se,{Q:()=>F});const tt="count(): argument not an object",J="count(): argument not a container";function F(O){if(!function G(O){return null!==O&&"object"==typeof O}(O))throw new Error(tt);if("function"==typeof O.count)return O.count();if(Number.isFinite(O.size))return O.size;if(Number.isFinite(O.length))return O.length;if(function Z(O){return null!==O&&"object"==typeof O&&O.constructor===Object}(O))return Object.keys(O).length;throw new Error(J)}},7358:(Xe,se,Y)=>{"use strict";function tt(J,F){if(J===F)return!0;if(!J||!F)return!1;for(const Z in J){const G=J[Z],O=F[Z];if(!(G===O||Array.isArray(G)&&Array.isArray(O)&&tt(G,O)))return!1}return!0}Y.d(se,{v:()=>tt})},5839:(Xe,se,Y)=>{"use strict";function tt(Z,G=(()=>!0)){return Array.isArray(Z)?J(Z,G,[]):G(Z)?[Z]:[]}function J(Z,G,O){let Q=-1;for(;++Q<Z.length;){const at=Z[Q];Array.isArray(at)?J(at,G,O):G(at)&&O.push(at)}return O}function F({target:Z,source:G,start:O=0,count:Q=1}){const at=G.length,ct=Q*at;let ot=0;for(let $=O;ot<at;ot++)Z[$++]=G[ot];for(;ot<ct;)ot<ct-ot?(Z.copyWithin(O+ot,O,O+ot),ot*=2):(Z.copyWithin(O+ot,O,O+ct-ot),ot=ct);return Z}Y.d(se,{k:()=>F,x:()=>tt})},9088:(Xe,se,Y)=>{"use strict";Y.d(se,{D0:()=>Z,jB:()=>F,jr:()=>G});const tt=[],J=[];function F(O,Q=0,at=1/0){let ct=tt;const ot={index:-1,data:O,target:[]};return O?"function"==typeof O[Symbol.iterator]?ct=O:O.length>0&&(J.length=O.length,ct=J):ct=tt,(Q>0||Number.isFinite(at))&&(ct=(Array.isArray(ct)?ct:Array.from(ct)).slice(Q,at),ot.index=Q-1),{iterable:ct,objectInfo:ot}}function Z(O){return O&&O[Symbol.asyncIterator]}function G(O,Q){const{size:at,stride:ct,offset:ot,startIndices:$,nested:N}=Q,U=O.BYTES_PER_ELEMENT,bt=ct?ct/U:at,X=ot?ot/U:0,et=Math.floor((O.length-X)/bt);return(W,{index:it,target:V})=>{if(!$){const wt=it*bt+X;for(let q=0;q<at;q++)V[q]=O[wt+q];return V}const lt=$[it],mt=$[it+1]||et;let Ct;if(N){Ct=new Array(mt-lt);for(let wt=lt;wt<mt;wt++){const q=wt*bt+X;V=new Array(at);for(let Pt=0;Pt<at;Pt++)V[Pt]=O[q+Pt];Ct[wt-lt]=V}}else if(bt===at)Ct=O.subarray(lt*at+X,mt*at+X);else{Ct=new O.constructor((mt-lt)*at);let wt=0;for(let q=lt;q<mt;q++){const Pt=q*bt+X;for(let Tt=0;Tt<at;Tt++)Ct[wt++]=O[Pt+Tt]}}return Ct}}},967:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>J});const J=new(Y(787).Z)({id:"deck"})},8763:(Xe,se,Y)=>{"use strict";Y.d(se,{Du:()=>O,Ks:()=>ct,TK:()=>$,Xt:()=>G,bS:()=>F,wQ:()=>Z});var tt=Y(144),J=Y(3659);function F(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Z(N,U){const bt=N%U;return bt<0?U+bt:bt}function G(N){return[N[12],N[13],N[14]]}function O(N){return{left:at(N[3]+N[0],N[7]+N[4],N[11]+N[8],N[15]+N[12]),right:at(N[3]-N[0],N[7]-N[4],N[11]-N[8],N[15]-N[12]),bottom:at(N[3]+N[1],N[7]+N[5],N[11]+N[9],N[15]+N[13]),top:at(N[3]-N[1],N[7]-N[5],N[11]-N[9],N[15]-N[13]),near:at(N[3]+N[2],N[7]+N[6],N[11]+N[10],N[15]+N[14]),far:at(N[3]-N[2],N[7]-N[6],N[11]-N[10],N[15]-N[14])}}const Q=new J.Z;function at(N,U,bt,X){Q.set(N,U,bt);const et=Q.len();return{distance:X/et,normal:new J.Z(-N/et,-U/et,-bt/et)}}function ct(N){return N-Math.fround(N)}let ot;function $(N,U){const{size:bt=1,startIndex:X=0}=U,et=void 0!==U.endIndex?U.endIndex:N.length,W=(et-X)/bt;ot=tt.Z.allocate(ot,W,{type:Float32Array,size:2*bt});let it=X,V=0;for(;it<et;){for(let lt=0;lt<bt;lt++){const mt=N[it++];ot[V+lt]=mt,ot[V+lt+bt]=ct(mt)}V+=2*bt}return ot.subarray(0,W*bt*2)}},7869:(Xe,se,Y)=>{"use strict";function tt(F,Z){if(F===Z)return!0;if(Array.isArray(F)){const G=F.length;if(!Z||Z.length!==G)return!1;for(let O=0;O<G;O++)if(F[O]!==Z[O])return!1;return!0}return!1}function J(F){let G,Z={};return O=>{for(const Q in O)if(!tt(O[Q],Z[Q])){G=F(O),Z=O;break}return G}}Y.d(se,{Z:()=>J})},2562:(Xe,se,Y)=>{"use strict";function tt(J,F){if(!F)return J;const Z={...J,...F};if("defines"in F&&(Z.defines={...J.defines,...F.defines}),"modules"in F&&(Z.modules=(J.modules||[]).concat(F.modules),F.modules.some(G=>"project64"===G.name))){const G=Z.modules.findIndex(O=>"project32"===O.name);G>=0&&Z.modules.splice(G,1)}if("inject"in F)if(J.inject){const G={...J.inject};for(const O in F.inject)G[O]=(G[O]||"")+F.inject[O];Z.inject=G}else Z.inject=F.inject;return Z}Y.d(se,{l:()=>tt})},5535:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>O});var tt=Y(1180),J=Y(9088),F=Y(144),Z=Y(406),G=Y(8775);class O{constructor(at){(0,tt.Z)(this,"opts",void 0),(0,tt.Z)(this,"typedArrayManager",void 0),(0,tt.Z)(this,"indexStarts",[0]),(0,tt.Z)(this,"vertexStarts",[0]),(0,tt.Z)(this,"vertexCount",0),(0,tt.Z)(this,"instanceCount",0),(0,tt.Z)(this,"attributes",void 0),(0,tt.Z)(this,"_attributeDefs",void 0),(0,tt.Z)(this,"data",void 0),(0,tt.Z)(this,"getGeometry",void 0),(0,tt.Z)(this,"geometryBuffer",void 0),(0,tt.Z)(this,"buffers",void 0),(0,tt.Z)(this,"positionSize",void 0),(0,tt.Z)(this,"normalize",void 0);const{attributes:ct={}}=at;this.typedArrayManager=F.Z,this.attributes={},this._attributeDefs=ct,this.opts=at,this.updateGeometry(at)}updateGeometry(at){Object.assign(this.opts,at);const{data:ct,buffers:ot={},getGeometry:$,geometryBuffer:N,positionFormat:U,dataChanged:bt,normalize:X=!0}=this.opts;if(this.data=ct,this.getGeometry=$,this.positionSize=N&&N.size||("XY"===U?2:3),this.buffers=ot,this.normalize=X,N&&((0,Z.Z)(ct.startIndices),this.getGeometry=this.getGeometryFromBuffer(N),X||(ot.positions=N)),this.geometryBuffer=ot.positions,Array.isArray(bt))for(const et of bt)this._rebuildGeometry(et);else this._rebuildGeometry()}updatePartialGeometry({startRow:at,endRow:ct}){this._rebuildGeometry({startRow:at,endRow:ct})}getGeometryFromBuffer(at){const ct=at.value||at;return ArrayBuffer.isView(ct)?(0,J.jr)(ct,{size:this.positionSize,offset:at.offset,stride:at.stride,startIndices:this.data.startIndices}):null}_allocate(at,ct){const{attributes:ot,buffers:$,_attributeDefs:N,typedArrayManager:U}=this;for(const bt in N)if(bt in $)U.release(ot[bt]),ot[bt]=null;else{const X=N[bt];X.copy=ct,ot[bt]=U.allocate(ot[bt],at,X)}}_forEachGeometry(at,ct,ot){const{data:$,getGeometry:N}=this,{iterable:U,objectInfo:bt}=(0,J.jB)($,ct,ot);for(const X of U)bt.index++,at(N?N(X,bt):null,bt.index)}_rebuildGeometry(at){if(!this.data)return;let{indexStarts:ct,vertexStarts:ot,instanceCount:$}=this;const{data:N,geometryBuffer:U}=this,{startRow:bt=0,endRow:X=1/0}=at||{},et={};if(at||(ct=[0],ot=[0]),this.normalize||!U)this._forEachGeometry((it,V)=>{const lt=it&&this.normalizeGeometry(it);et[V]=lt,ot[V+1]=ot[V]+(lt?this.getGeometrySize(lt):0)},bt,X),$=ot[ot.length-1];else if(ot=N.startIndices,$=ot[N.length]||0,ArrayBuffer.isView(U))$=$||U.length/this.positionSize;else if(U instanceof G.Z)$=$||U.byteLength/(U.accessor.stride||4*this.positionSize);else if(U.buffer)$=$||U.buffer.byteLength/(U.stride||4*this.positionSize);else if(U.value){const it=U.value;$=$||it.length/(U.stride/it.BYTES_PER_ELEMENT||this.positionSize)}this._allocate($,Boolean(at)),this.indexStarts=ct,this.vertexStarts=ot,this.instanceCount=$;const W={};this._forEachGeometry((it,V)=>{const lt=et[V]||it;W.vertexStart=ot[V],W.indexStart=ct[V],W.geometrySize=(V<ot.length-1?ot[V+1]:$)-ot[V],W.geometryIndex=V,this.updateGeometryAttributes(lt,W)},bt,X),this.vertexCount=ct[ct.length-1]}}},144:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>F});var tt=Y(1180);const F=new class J{constructor(G={}){(0,tt.Z)(this,"_pool",[]),(0,tt.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(G)}setOptions(G){Object.assign(this.opts,G)}allocate(G,O,{size:Q=1,type:at,padding:ct=0,copy:ot=!1,initialize:$=!1,maxCount:N}){const U=at||G&&G.constructor||Float32Array,bt=O*Q+ct;if(ArrayBuffer.isView(G)){if(bt<=G.length)return G;if(bt*G.BYTES_PER_ELEMENT<=G.buffer.byteLength)return new U(G.buffer,0,bt)}let X=1/0;N&&(X=N*Q+ct);const et=this._allocate(U,bt,$,X);return G&&ot?et.set(G):$||et.fill(0,0,4),this._release(G),et}release(G){this._release(G)}_allocate(G,O,Q,at){let ct=Math.max(Math.ceil(O*this.opts.overAlloc),1);ct>at&&(ct=at);const ot=this._pool,$=G.BYTES_PER_ELEMENT*ct,N=ot.findIndex(U=>U.byteLength>=$);if(N>=0){const U=new G(ot.splice(N,1)[0],0,ct);return Q&&U.fill(0),U}return new G(ct)}_release(G){if(!ArrayBuffer.isView(G))return;const O=this._pool,{buffer:Q}=G,{byteLength:at}=Q,ct=O.findIndex(ot=>ot.byteLength>=at);ct<0?O.push(Q):(ct>0||O.length<this.opts.poolSize)&&O.splice(ct,0,Q),O.length>this.opts.poolSize&&O.shift()}}},3229:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>X});var tt=Y(1180),J=Y(967),F=Y(8763),Z=Y(9751),G=Y(4822),O=Y(3659),Q=Y(711),at=Y(4698),ct=Y(9531);const ot=Math.PI/180,$=(0,F.bS)(),N=[0,0,0],U={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class X{constructor(W={}){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"x",void 0),(0,tt.Z)(this,"y",void 0),(0,tt.Z)(this,"width",void 0),(0,tt.Z)(this,"height",void 0),(0,tt.Z)(this,"isGeospatial",void 0),(0,tt.Z)(this,"zoom",void 0),(0,tt.Z)(this,"focalDistance",void 0),(0,tt.Z)(this,"position",void 0),(0,tt.Z)(this,"modelMatrix",void 0),(0,tt.Z)(this,"distanceScales",void 0),(0,tt.Z)(this,"scale",void 0),(0,tt.Z)(this,"center",void 0),(0,tt.Z)(this,"cameraPosition",void 0),(0,tt.Z)(this,"projectionMatrix",void 0),(0,tt.Z)(this,"viewMatrix",void 0),(0,tt.Z)(this,"viewMatrixUncentered",void 0),(0,tt.Z)(this,"viewMatrixInverse",void 0),(0,tt.Z)(this,"viewProjectionMatrix",void 0),(0,tt.Z)(this,"pixelProjectionMatrix",void 0),(0,tt.Z)(this,"pixelUnprojectionMatrix",void 0),(0,tt.Z)(this,"resolution",void 0),(0,tt.Z)(this,"_frustumPlanes",{}),this.id=W.id||this.constructor.displayName||"viewport",this.x=W.x||0,this.y=W.y||0,this.width=W.width||1,this.height=W.height||1,this.zoom=W.zoom||0,this.distanceScales=W.distanceScales||U,this.focalDistance=W.focalDistance||1,this.position=W.position||N,this.modelMatrix=W.modelMatrix||null;const{longitude:it,latitude:V}=W;this.isGeospatial=Number.isFinite(V)&&Number.isFinite(it),this._initProps(W),this._initMatrices(W),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?ct.zG.WEB_MERCATOR:ct.zG.WEB_MERCATOR_AUTO_OFFSET:ct.zG.IDENTITY}equals(W){return W instanceof X&&(this===W||W.width===this.width&&W.height===this.height&&W.scale===this.scale&&(0,G.fS)(W.projectionMatrix,this.projectionMatrix)&&(0,G.fS)(W.viewMatrix,this.viewMatrix))}project(W,{topLeft:it=!0}={}){const V=this.projectPosition(W),lt=(0,at.aW)(V,this.pixelProjectionMatrix),[mt,Ct]=lt,wt=it?Ct:this.height-Ct;return 2===W.length?[mt,wt]:[mt,wt,lt[2]]}unproject(W,{topLeft:it=!0,targetZ:V}={}){const[lt,mt,Ct]=W,Pt=(0,at.CT)([lt,it?mt:this.height-mt,Ct],this.pixelUnprojectionMatrix,V&&V*this.distanceScales.unitsPerMeter[2]),[Tt,It,ut]=this.unprojectPosition(Pt);return Number.isFinite(Ct)?[Tt,It,ut]:Number.isFinite(V)?[Tt,It,V]:[Tt,It]}projectPosition(W){const[it,V]=this.projectFlat(W);return[it,V,(W[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(W){const[it,V]=this.unprojectFlat(W);return[it,V,(W[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(W){if(this.isGeospatial){const it=(0,at.w5)(W);return it[1]=(0,G.uZ)(it[1],-318,830),it}return W}unprojectFlat(W){return this.isGeospatial?(0,at.es)(W):W}getBounds(W={}){const it={targetZ:W.z||0},V=this.unproject([0,0],it),lt=this.unproject([this.width,0],it),mt=this.unproject([0,this.height],it),Ct=this.unproject([this.width,this.height],it);return[Math.min(V[0],lt[0],mt[0],Ct[0]),Math.min(V[1],lt[1],mt[1],Ct[1]),Math.max(V[0],lt[0],mt[0],Ct[0]),Math.max(V[1],lt[1],mt[1],Ct[1])]}getDistanceScales(W){return W?(0,at.ro)({longitude:W[0],latitude:W[1],highPrecision:!0}):this.distanceScales}containsPixel({x:W,y:it,width:V=1,height:lt=1}){return W<this.x+this.width&&this.x<W+V&&it<this.y+this.height&&this.y<it+lt}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,F.Du)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(W,it){return null}_initProps(W){const it=W.longitude,V=W.latitude;this.isGeospatial&&(Number.isFinite(W.zoom)||(this.zoom=(0,at.Bf)({latitude:V})+Math.log2(this.focalDistance)),this.distanceScales=W.distanceScales||(0,at.ro)({latitude:V,longitude:it}));const lt=Math.pow(2,this.zoom);this.scale=lt;const{position:mt,modelMatrix:Ct}=W;let wt=N;if(mt&&(wt=Ct?new Z.Z(Ct).transformAsVector(mt,[]):mt),this.isGeospatial){const q=this.projectPosition([it,V,0]);this.center=new O.Z(wt).scale(this.distanceScales.unitsPerMeter).add(q)}else this.center=this.projectPosition(wt)}_initMatrices(W){const{viewMatrix:it=$,projectionMatrix:V=null,orthographic:lt=!1,fovyRadians:mt,fovy:Ct=75,near:wt=.1,far:q=1e3,padding:Pt=null,focalDistance:Tt=1}=W;this.viewMatrixUncentered=it,this.viewMatrix=(new Z.Z).multiplyRight(it).translate(new O.Z(this.center).negate()),this.projectionMatrix=V||function bt({width:et,height:W,orthographic:it,fovyRadians:V,focalDistance:lt,padding:mt,near:Ct,far:wt}){const q=et/W,Pt=it?(new Z.Z).orthographic({fovy:V,aspect:q,focalDistance:lt,near:Ct,far:wt}):(new Z.Z).perspective({fovy:V,aspect:q,near:Ct,far:wt});if(mt){const{left:Tt=0,right:It=0,top:ut=0,bottom:ae=0}=mt,ce=(0,G.uZ)((Tt+et-It)/2,0,et)-et/2,Et=(0,G.uZ)((ut+W-ae)/2,0,W)-W/2;Pt[8]-=2*ce/et,Pt[9]+=2*Et/W}return Pt}({width:this.width,height:this.height,orthographic:lt,fovyRadians:mt||Ct*ot,focalDistance:Tt,padding:Pt,near:wt,far:q});const It=(0,F.bS)();Q.Jp(It,It,this.projectionMatrix),Q.Jp(It,It,this.viewMatrix),this.viewProjectionMatrix=It,this.viewMatrixInverse=Q.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,F.Xt)(this.viewMatrixInverse);const ut=(0,F.bS)(),ae=(0,F.bS)();Q.bA(ut,ut,[this.width/2,-this.height/2,1]),Q.Iu(ut,ut,[1,-1,0]),Q.Jp(ae,ut,this.viewProjectionMatrix),this.pixelProjectionMatrix=ae,this.pixelUnprojectionMatrix=Q.U_((0,F.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||J.Z.warn("Pixel project matrix not invertible")()}}(0,tt.Z)(X,"displayName","Viewport")},5174:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>ot});var tt=Y(1180),J=Y(3229),F=Y(4698),Z=Y(8235),G=Y(9751);const O=512,Q=4003e4,at=Math.PI/180;function ct($){const N=Math.cos($*at);return O/Q/N}class ot extends J.Z{constructor(N={}){const{latitude:U=0,longitude:bt=0,zoom:X=0,pitch:et=0,bearing:W=0,nearZMultiplier:it=.1,farZMultiplier:V=1.01,orthographic:lt=!1,projectionMatrix:mt,repeat:Ct=!1,worldOffset:wt=0,legacyMeterSizes:q=!1}=N;let{width:Pt,height:Tt,altitude:It=1.5}=N;const ut=Math.pow(2,X);Pt=Pt||1,Tt=Tt||1;let ae,ce=null;mt?(It=mt[5]/2,ae=(0,F.Lu)(It)):(N.fovy?(ae=N.fovy,It=(0,F.sj)(ae)):ae=(0,F.Lu)(It),ce=(0,F.wl)({width:Pt,height:Tt,pitch:et,fovy:ae,nearZMultiplier:it,farZMultiplier:V}));let Et=(0,F.lf)({height:Tt,pitch:et,bearing:W,scale:ut,altitude:It});wt&&(Et=(new G.Z).translate([512*wt,0,0]).multiplyLeft(Et)),super({...N,width:Pt,height:Tt,viewMatrix:Et,longitude:bt,latitude:U,zoom:X,...ce,fovy:ae,focalDistance:It}),(0,tt.Z)(this,"longitude",void 0),(0,tt.Z)(this,"latitude",void 0),(0,tt.Z)(this,"pitch",void 0),(0,tt.Z)(this,"bearing",void 0),(0,tt.Z)(this,"altitude",void 0),(0,tt.Z)(this,"fovy",void 0),(0,tt.Z)(this,"orthographic",void 0),(0,tt.Z)(this,"_subViewports",void 0),(0,tt.Z)(this,"_pseudoMeters",void 0),this.latitude=U,this.longitude=bt,this.zoom=X,this.pitch=et,this.bearing=W,this.altitude=It,this.fovy=ae,this.orthographic=lt,this._subViewports=Ct?[]:null,this._pseudoMeters=q,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const N=this.getBounds(),U=Math.floor((N[0]+180)/360),bt=Math.ceil((N[2]-180)/360);for(let X=U;X<=bt;X++){const et=X?new ot({...this,worldOffset:X}):this;this._subViewports.push(et)}}return this._subViewports}projectPosition(N){if(this._pseudoMeters)return super.projectPosition(N);const[U,bt]=this.projectFlat(N);return[U,bt,(N[2]||0)*ct(N[1])]}unprojectPosition(N){if(this._pseudoMeters)return super.unprojectPosition(N);const[U,bt]=this.unprojectFlat(N);return[U,bt,(N[2]||0)/ct(bt)]}addMetersToLngLat(N,U){return(0,F.eG)(N,U)}panByPosition(N,U){const bt=(0,F.CT)(U,this.pixelUnprojectionMatrix),X=this.projectFlat(N),et=Z.IH([],X,Z.tk([],bt)),W=Z.IH([],this.center,et),[it,V]=this.unprojectFlat(W);return{longitude:it,latitude:V}}getBounds(N={}){const U=(0,F.zX)(this,N.z||0);return[Math.min(U[0][0],U[1][0],U[2][0],U[3][0]),Math.min(U[0][1],U[1][1],U[2][1],U[3][1]),Math.max(U[0][0],U[1][0],U[2][0],U[3][0]),Math.max(U[0][1],U[1][1],U[2][1],U[3][1])]}fitBounds(N,U={}){const{width:bt,height:X}=this,{longitude:et,latitude:W,zoom:it}=(0,F.Xg)({width:bt,height:X,bounds:N,...U});return new ot({width:bt,height:X,longitude:et,latitude:W,zoom:it})}}(0,tt.Z)(ot,"displayName","WebMercatorViewport")},6962:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>G});var tt=Y(1180),J=Y(7389),F=Y(5174),Z=Y(4159);class G extends J.Z{get ViewportType(){return F.Z}get ControllerType(){return Z.Z}}(0,tt.Z)(G,"displayName","MapView")},7389:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>at});var tt=Y(1180),J=Y(3229);const F=/([0-9]+\.?[0-9]*)(%|px)/;function Z(ct){switch(typeof ct){case"number":return{position:ct,relative:!1};case"string":const ot=F.exec(ct);if(ot&&ot.length>=3){const $="%"===ot[2],N=parseFloat(ot[1]);return{position:$?N/100:N,relative:$}}default:throw new Error("Could not parse position string ".concat(ct))}}function G(ct,ot){return ct.relative?Math.round(ct.position*ot):ct.position}var O=Y(7358),Q=Y(406);class at{constructor(ot){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"viewportInstance",void 0),(0,tt.Z)(this,"_x",void 0),(0,tt.Z)(this,"_y",void 0),(0,tt.Z)(this,"_width",void 0),(0,tt.Z)(this,"_height",void 0),(0,tt.Z)(this,"_padding",void 0),(0,tt.Z)(this,"props",void 0);const{id:$,x:N=0,y:U=0,width:bt="100%",height:X="100%",padding:et=null,viewportInstance:W}=ot||{};(0,Q.Z)(!W||W instanceof J.Z),this.viewportInstance=W,this.id=$||this.constructor.displayName||"view",this.props={...ot,id:this.id},this._x=Z(N),this._y=Z(U),this._width=Z(bt),this._height=Z(X),this._padding=et&&{left:Z(et.left||0),right:Z(et.right||0),top:Z(et.top||0),bottom:Z(et.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(ot){return this===ot||(this.viewportInstance?!!ot.viewportInstance&&this.viewportInstance.equals(ot.viewportInstance):this.ViewportType===ot.ViewportType&&(0,O.v)(this.props,ot.props))}makeViewport({width:ot,height:$,viewState:N}){if(this.viewportInstance)return this.viewportInstance;N=this.filterViewState(N);const U=this.getDimensions({width:ot,height:$});return new this.ViewportType({...N,...this.props,...U})}getViewStateId(){const{viewState:ot}=this.props;return"string"==typeof ot?ot:ot?.id||this.id}filterViewState(ot){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const $={...ot};for(const N in this.props.viewState)"id"!==N&&($[N]=this.props.viewState[N]);return $}return ot}getDimensions({width:ot,height:$}){const N={x:G(this._x,ot),y:G(this._y,$),width:G(this._width,ot),height:G(this._height,$)};return this._padding&&(N.padding={left:G(this._padding.left,ot),top:G(this._padding.top,$),right:G(this._padding.right,ot),bottom:G(this._padding.bottom,$)}),N}get controller(){const ot=this.props.controller;return ot?!0===ot?{type:this.ControllerType}:"function"==typeof ot?{type:ot}:{type:this.ControllerType,...ot}:null}}},9049:(Xe,se,Y)=>{"use strict";Y.d(se,{D0:()=>Q,Ew:()=>ct,Kn:()=>F,Lj:()=>$,Os:()=>W,Ss:()=>Z,TW:()=>O,zH:()=>N});const J=V=>"function"==typeof V,F=V=>null!==V&&"object"==typeof V,Z=V=>F(V)&&V.constructor==={}.constructor,O=V=>V&&"function"==typeof V[Symbol.iterator],Q=V=>V&&"function"==typeof V[Symbol.asyncIterator],ct=V=>typeof Response<"u"&&V instanceof Response||V&&V.arrayBuffer&&V.text&&V.json,$=V=>typeof Blob<"u"&&V instanceof Blob,N=V=>V&&"object"==typeof V&&V.isBuffer,W=V=>(V=>typeof ReadableStream<"u"&&V instanceof ReadableStream||F(V)&&J(V.tee)&&J(V.cancel)&&J(V.getReader))(V)||(V=>F(V)&&J(V.read)&&J(V.pipe)&&(V=>"boolean"==typeof V)(V.readable))(V)},278:(Xe,se,Y)=>{"use strict";Y.d(se,{z:()=>us});var tt=Y(5861),J=Y(9049),F=Y(3525),Z=Y(7624);function G(oe,we){if(!oe)throw new Error(we||"loaders.gl assertion failed.")}const Q="3.3.3";typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const X="object"!=typeof process||"[object process]"!==String(process)||process.browser,W=typeof window<"u"&&typeof window.orientation<"u",it=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);it&&parseFloat(it[1]);var lt=Y(1180);class mt{terminate(){}}const wt=new Map;function Tt(oe){const we=new Blob([oe],{type:"application/javascript"});return URL.createObjectURL(we)}function ut(oe){let we=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Re=arguments.length>2?arguments[2]:void 0;const tn=Re||new Set;if(oe)if(ae(oe))tn.add(oe);else if(ae(oe.buffer))tn.add(oe.buffer);else if(!ArrayBuffer.isView(oe)&&we&&"object"==typeof oe)for(const Ze in oe)ut(oe[Ze],we,tn);return void 0===Re?Array.from(tn):[]}function ae(oe){return!!oe&&(oe instanceof ArrayBuffer||typeof MessagePort<"u"&&oe instanceof MessagePort||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&oe instanceof OffscreenCanvas)}const Et=()=>{};class vt{static isSupported(){return typeof Worker<"u"&&X||typeof mt<"u"&&!X}constructor(we){(0,lt.Z)(this,"name",void 0),(0,lt.Z)(this,"source",void 0),(0,lt.Z)(this,"url",void 0),(0,lt.Z)(this,"terminated",!1),(0,lt.Z)(this,"worker",void 0),(0,lt.Z)(this,"onMessage",void 0),(0,lt.Z)(this,"onError",void 0),(0,lt.Z)(this,"_loadableURL","");const{name:Re,source:tn,url:Ze}=we;G(tn||Ze),this.name=Re,this.source=tn,this.url=Ze,this.onMessage=Et,this.onError=wn=>console.log(wn),this.worker=X?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Et,this.onError=Et,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(we,Re){Re=Re||ut(we),this.worker.postMessage(we,Re)}_getErrorFromErrorEvent(we){let Re="Failed to load ";return Re+="worker ".concat(this.name," from ").concat(this.url,". "),we.message&&(Re+="".concat(we.message," in ")),we.lineno&&(Re+=":".concat(we.lineno,":").concat(we.colno)),new Error(Re)}_createBrowserWorker(){this._loadableURL=function q(oe){G(oe.source&&!oe.url||!oe.source&&oe.url);let we=wt.get(oe.source||oe.url);return we||(oe.url&&(we=function Pt(oe){if(!oe.startsWith("http"))return oe;const we=function It(oe){return"try {\n  importScripts('".concat(oe,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(oe);return Tt(we)}(oe.url),wt.set(oe.url,we)),oe.source&&(we=Tt(oe.source),wt.set(oe.source,we))),G(we),we}({source:this.source,url:this.url});const we=new Worker(this._loadableURL,{name:this.name});return we.onmessage=Re=>{Re.data?this.onMessage(Re.data):this.onError(new Error("No data received"))},we.onerror=Re=>{this.onError(this._getErrorFromErrorEvent(Re)),this.terminated=!0},we.onmessageerror=Re=>console.error(Re),we}_createNodeWorker(){let we;if(this.url){const tn=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);we=new mt(tn,{eval:!1})}else{if(!this.source)throw new Error("no worker");we=new mt(this.source,{eval:!0})}return we.on("message",Re=>{this.onMessage(Re)}),we.on("error",Re=>{this.onError(Re)}),we.on("exit",Re=>{}),we}}class dt{constructor(we,Re){(0,lt.Z)(this,"name",void 0),(0,lt.Z)(this,"workerThread",void 0),(0,lt.Z)(this,"isRunning",!0),(0,lt.Z)(this,"result",void 0),(0,lt.Z)(this,"_resolve",()=>{}),(0,lt.Z)(this,"_reject",()=>{}),this.name=we,this.workerThread=Re,this.result=new Promise((tn,Ze)=>{this._resolve=tn,this._reject=Ze})}postMessage(we,Re){this.workerThread.postMessage({source:"loaders.gl",type:we,payload:Re})}done(we){G(this.isRunning),this.isRunning=!1,this._resolve(we)}error(we){G(this.isRunning),this.isRunning=!1,this._reject(we)}}class _t{static isSupported(){return vt.isSupported()}constructor(we){(0,lt.Z)(this,"name","unnamed"),(0,lt.Z)(this,"source",void 0),(0,lt.Z)(this,"url",void 0),(0,lt.Z)(this,"maxConcurrency",1),(0,lt.Z)(this,"maxMobileConcurrency",1),(0,lt.Z)(this,"onDebug",()=>{}),(0,lt.Z)(this,"reuseWorkers",!0),(0,lt.Z)(this,"props",{}),(0,lt.Z)(this,"jobQueue",[]),(0,lt.Z)(this,"idleQueue",[]),(0,lt.Z)(this,"count",0),(0,lt.Z)(this,"isDestroyed",!1),this.source=we.source,this.url=we.url,this.setProps(we)}destroy(){this.idleQueue.forEach(we=>we.destroy()),this.isDestroyed=!0}setProps(we){this.props={...this.props,...we},void 0!==we.name&&(this.name=we.name),void 0!==we.maxConcurrency&&(this.maxConcurrency=we.maxConcurrency),void 0!==we.maxMobileConcurrency&&(this.maxMobileConcurrency=we.maxMobileConcurrency),void 0!==we.reuseWorkers&&(this.reuseWorkers=we.reuseWorkers),void 0!==we.onDebug&&(this.onDebug=we.onDebug)}startJob(we){var Re=arguments,tn=this;return(0,tt.Z)(function*(){let Ze=Re.length>1&&void 0!==Re[1]?Re[1]:(_i,Er,xo)=>_i.done(xo),wn=Re.length>2&&void 0!==Re[2]?Re[2]:(_i,Er)=>_i.error(Er);const pr=new Promise(_i=>(tn.jobQueue.push({name:we,onMessage:Ze,onError:wn,onStart:_i}),tn));return tn._startQueuedJob(),yield pr})()}_startQueuedJob(){var we=this;return(0,tt.Z)(function*(){if(!we.jobQueue.length)return;const Re=we._getAvailableWorker();if(!Re)return;const tn=we.jobQueue.shift();if(tn){we.onDebug({message:"Starting job",name:tn.name,workerThread:Re,backlog:we.jobQueue.length});const Ze=new dt(tn.name,Re);Re.onMessage=wn=>tn.onMessage(Ze,wn.type,wn.payload),Re.onError=wn=>tn.onError(Ze,wn),tn.onStart(Ze);try{yield Ze.result}finally{we.returnWorkerToQueue(Re)}}})()}returnWorkerToQueue(we){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(we.destroy(),this.count--):this.idleQueue.push(we),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const we="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new vt({name:we,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return W?this.maxMobileConcurrency:this.maxConcurrency}}const Zt={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Ft{static isSupported(){return vt.isSupported()}static getWorkerFarm(){let we=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft._workerFarm=Ft._workerFarm||new Ft({}),Ft._workerFarm.setProps(we),Ft._workerFarm}constructor(we){(0,lt.Z)(this,"props",void 0),(0,lt.Z)(this,"workerPools",new Map),this.props={...Zt},this.setProps(we),this.workerPools=new Map}destroy(){for(const we of this.workerPools.values())we.destroy();this.workerPools=new Map}setProps(we){this.props={...this.props,...we};for(const Re of this.workerPools.values())Re.setProps(this._getWorkerPoolProps())}getWorkerPool(we){const{name:Re,source:tn,url:Ze}=we;let wn=this.workerPools.get(Re);return wn||(wn=new _t({name:Re,source:tn,url:Ze}),wn.setProps(this._getWorkerPoolProps()),this.workerPools.set(Re,wn)),wn}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,lt.Z)(Ft,"_workerFarm",void 0);const Ee="latest";function re(){return re=(0,tt.Z)(function*(oe,we,Re,tn,Ze){const wn=oe.id,pr=function pe(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Re=we[oe.id]||{},tn="".concat(oe.id,"-worker.js");let Ze=Re.workerUrl;if(!Ze&&"compression"===oe.id&&(Ze=we.workerUrl),"test"===we._workerType&&(Ze="modules/".concat(oe.module,"/dist/").concat(tn)),!Ze){let wn=oe.version;"latest"===wn&&(wn=Ee);const pr=wn?"@".concat(wn):"";Ze="https://unpkg.com/@loaders.gl/".concat(oe.module).concat(pr,"/dist/").concat(tn)}return G(Ze),Ze}(oe,Re),Er=Ft.getWorkerFarm(Re).getWorkerPool({name:wn,url:pr});Re=JSON.parse(JSON.stringify(Re)),tn=JSON.parse(JSON.stringify(tn||{}));const xo=yield Er.startJob("process-on-worker",Me.bind(null,Ze));return xo.postMessage("process",{input:we,options:Re,context:tn}),yield(yield xo.result).result}),re.apply(this,arguments)}function Me(oe,we,Re,tn){return le.apply(this,arguments)}function le(){return(le=(0,tt.Z)(function*(oe,we,Re,tn){switch(Re){case"done":we.done(tn);break;case"error":we.error(new Error(tn.error));break;case"process":const{id:Ze,input:wn,options:pr}=tn;try{const _i=yield oe(wn,pr);we.postMessage("done",{id:Ze,result:_i})}catch(_i){const Er=_i instanceof Error?_i.message:"unknown error";we.postMessage("error",{id:Ze,error:Er})}break;default:console.warn("parse-with-worker unknown message ".concat(Re))}})).apply(this,arguments)}var Dt=Y(6296);function P(){return P=(0,tt.Z)(function*(oe){const we=[];var Ze,Re=!1,tn=!1;try{for(var pr,wn=(0,Dt.Z)(oe);Re=!(pr=yield wn.next()).done;Re=!1)we.push(pr.value)}catch(_i){tn=!0,Ze=_i}finally{try{Re&&null!=wn.return&&(yield wn.return())}finally{if(tn)throw Ze}}return function jt(){for(var oe=arguments.length,we=new Array(oe),Re=0;Re<oe;Re++)we[Re]=arguments[Re];const tn=we.map(_i=>_i instanceof ArrayBuffer?new Uint8Array(_i):_i),Ze=tn.reduce((_i,Er)=>_i+Er.byteLength,0),wn=new Uint8Array(Ze);let pr=0;for(const _i of tn)wn.set(_i,pr),pr+=_i.byteLength;return wn.buffer}(...we)}),P.apply(this,arguments)}const Mt=262144,me=262144;function xe(oe,we){this.v=oe,this.k=we}function ze(oe){return new xe(oe,0)}function Qe(oe){var we,Re;function tn(wn,pr){try{var _i=oe[wn](pr),Er=_i.value,xo=Er instanceof xe;Promise.resolve(xo?Er.v:Er).then(function(En){if(xo){var il="return"===wn?"return":"next";if(!Er.k||En.done)return tn(il,En);En=oe[il](En).value}Ze(_i.done?"return":"normal",En)},function(En){tn("throw",En)})}catch(En){Ze("throw",En)}}function Ze(wn,pr){switch(wn){case"return":we.resolve({value:pr,done:!0});break;case"throw":we.reject(pr);break;default:we.resolve({value:pr,done:!1})}(we=we.next)?tn(we.key,we.arg):Re=null}this._invoke=function(wn,pr){return new Promise(function(_i,Er){var xo={key:wn,arg:pr,resolve:_i,reject:Er,next:null};Re?Re=Re.next=xo:(we=Re=xo,tn(wn,pr))})},"function"!=typeof oe.return&&(this.return=void 0)}function Ue(oe){return function(){return new Qe(oe.apply(this,arguments))}}Qe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Qe.prototype.next=function(oe){return this._invoke("next",oe)},Qe.prototype.throw=function(oe){return this._invoke("throw",oe)},Qe.prototype.return=function(oe){return this._invoke("return",oe)};const sn=1048576;function ln(){return(ln=Ue(function*(oe,we){const Re=we?.chunkSize||sn;let tn=0;for(;tn<oe.size;){const Ze=tn+Re,wn=yield ze(oe.slice(tn,Ze).arrayBuffer());tn=Ze,yield wn}})).apply(this,arguments)}var xn=Y(5696),cn=Y(9521);function _e(oe){if(function Pe(oe){return oe&&"object"==typeof oe&&oe.isBuffer}(oe))return cn.toArrayBuffer(oe);if(oe instanceof ArrayBuffer)return oe;if(ArrayBuffer.isView(oe))return 0===oe.byteOffset&&oe.byteLength===oe.buffer.byteLength?oe.buffer:oe.buffer.slice(oe.byteOffset,oe.byteOffset+oe.byteLength);if("string"==typeof oe){const we=oe;return(new TextEncoder).encode(we).buffer}if(oe&&"object"==typeof oe&&oe._toArrayBuffer)return oe._toArrayBuffer();throw new Error("toArrayBuffer")}function Oe(oe,we){return xn.jU?function We(oe,we){return rn.apply(this,arguments)}(oe,we):function _n(oe,we){return en.apply(this,arguments)}(oe,we)}function rn(){return(rn=Ue(function*(oe,we){const Re=oe.getReader();let tn;try{for(;;){const Ze=tn||Re.read();null!=we&&we._streamReadAhead&&(tn=Re.read());const{done:wn,value:pr}=yield ze(Ze);if(wn)return;yield _e(pr)}}catch{Re.releaseLock()}})).apply(this,arguments)}function en(){return(en=Ue(function*(oe,we){var Ze,Re=!1,tn=!1;try{for(var pr,wn=(0,Dt.Z)(oe);Re=!(pr=yield ze(wn.next())).done;Re=!1){const _i=pr.value;yield _e(_i)}}catch(_i){tn=!0,Ze=_i}finally{try{Re&&null!=wn.return&&(yield ze(wn.return()))}finally{if(tn)throw Ze}}})).apply(this,arguments)}var Bt=Y(6290);const Jt="Cannot convert supplied data type";function Je(){return Je=(0,tt.Z)(function*(oe,we,Re){const tn=oe instanceof ArrayBuffer||ArrayBuffer.isView(oe);if("string"==typeof oe||tn)return function Ae(oe,we,Re){if(we.text&&"string"==typeof oe)return oe;if((0,J.zH)(oe)&&(oe=oe.buffer),oe instanceof ArrayBuffer){const tn=oe;return we.text&&!we.binary?new TextDecoder("utf8").decode(tn):tn}if(ArrayBuffer.isView(oe)){if(we.text&&!we.binary)return new TextDecoder("utf8").decode(oe);let tn=oe.buffer;const Ze=oe.byteLength||oe.length;return(0!==oe.byteOffset||Ze!==tn.byteLength)&&(tn=tn.slice(oe.byteOffset,oe.byteOffset+Ze)),tn}throw new Error(Jt)}(oe,we);if((0,J.Lj)(oe)&&(oe=yield(0,Bt.L1)(oe)),(0,J.Ew)(oe)){const Ze=oe;return yield(0,Bt.mm)(Ze),we.binary?yield Ze.arrayBuffer():yield Ze.text()}if((0,J.Os)(oe)&&(oe=function yn(oe,we){if("string"==typeof oe)return function*Ot(oe,we){const Re=we?.chunkSize||Mt;let tn=0;const Ze=new TextEncoder;for(;tn<oe.length;){const wn=Math.min(oe.length-tn,Re),pr=oe.slice(tn,tn+wn);tn+=wn,yield Ze.encode(pr)}}(oe,we);if(oe instanceof ArrayBuffer)return function*ye(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chunkSize:Re=me}=we;let tn=0;for(;tn<oe.byteLength;){const Ze=Math.min(oe.byteLength-tn,Re),wn=new ArrayBuffer(Ze),pr=new Uint8Array(oe,tn,Ze);new Uint8Array(wn).set(pr),tn+=Ze,yield wn}}(oe,we);if((0,J.Lj)(oe))return function un(oe,we){return ln.apply(this,arguments)}(oe,we);if((0,J.Os)(oe))return Oe(oe,we);if((0,J.Ew)(oe))return Oe(oe.body,we);throw new Error("makeIterator")}(oe,Re)),(0,J.TW)(oe)||(0,J.D0)(oe))return function S(oe){return P.apply(this,arguments)}(oe);throw new Error(Jt)}),Je.apply(this,arguments)}var Xo=Y(2970);const Be=new(Y(787).Z)({id:"loaders.gl"});var qe=Y(1460);const an=/\.([^.]+)$/;function ri(){return ri=(0,tt.Z)(function*(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Re=arguments.length>2?arguments[2]:void 0,tn=arguments.length>3?arguments[3]:void 0;if(!Ti(oe))return null;let Ze=Ai(oe,we,{...Re,nothrow:!0},tn);if(Ze)return Ze;if((0,J.Lj)(oe)&&(Ze=Ai(oe=yield oe.slice(0,10).arrayBuffer(),we,Re,tn)),!(Ze||null!=Re&&Re.nothrow))throw new Error(bo(oe));return Ze}),ri.apply(this,arguments)}function Ai(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Re=arguments.length>2?arguments[2]:void 0,tn=arguments.length>3?arguments[3]:void 0;if(!Ti(oe))return null;if(we&&!Array.isArray(we))return(0,F.T)(we);let Ze=[];we&&(Ze=Ze.concat(we)),null!=Re&&Re.ignoreRegisteredLoaders||Ze.push(...(0,qe.kO)()),function fo(oe){for(const we of oe)(0,F.T)(we)}(Ze);const wn=function Vi(oe,we,Re,tn){const{url:Ze,type:wn}=(0,Xo.l)(oe),pr=Ze||tn?.url;let _i=null,Er="";var xo;return null!=Re&&Re.mimeType&&(_i=Xs(we,Re?.mimeType),Er="match forced by supplied MIME type ".concat(Re?.mimeType)),_i=_i||function Va(oe,we){const Re=we&&an.exec(we),tn=Re&&Re[1];return tn?function jo(oe,we){we=we.toLowerCase();for(const Re of oe)for(const tn of Re.extensions)if(tn.toLowerCase()===we)return Re;return null}(oe,tn):null}(we,pr),Er=Er||(_i?"matched url ".concat(pr):""),_i=_i||Xs(we,wn),Er=Er||(_i?"matched MIME type ".concat(wn):""),_i=_i||function zi(oe,we){if(!we)return null;for(const Re of oe)if("string"==typeof we){if(cs(we,Re))return Re}else if(ArrayBuffer.isView(we)){if(Qi(we.buffer,we.byteOffset,Re))return Re}else if(we instanceof ArrayBuffer&&Qi(we,0,Re))return Re;return null}(we,oe),Er=Er||(_i?"matched initial data ".concat(nl(oe)):""),_i=_i||Xs(we,Re?.fallbackMimeType),Er=Er||(_i?"matched fallback MIME type ".concat(wn):""),Er&&Be.log(1,"selectLoader selected ".concat(null===(xo=_i)||void 0===xo?void 0:xo.name,": ").concat(Er,".")),_i}(oe,Ze,Re,tn);if(!(wn||null!=Re&&Re.nothrow))throw new Error(bo(oe));return wn}function Ti(oe){return!(oe instanceof Response&&204===oe.status)}function bo(oe){const{url:we,type:Re}=(0,Xo.l)(oe);let tn="No valid loader found (";tn+=we?"".concat(function Bi(oe){const we=oe&&oe.lastIndexOf("/");return we>=0?oe.substr(we+1):""}(we),", "):"no url provided, ",tn+="MIME type: ".concat(Re?'"'.concat(Re,'"'):"not provided",", ");const Ze=oe?nl(oe):"";return tn+=Ze?' first bytes: "'.concat(Ze,'"'):"first bytes: not available",tn+=")",tn}function Xs(oe,we){for(const Re of oe)if(Re.mimeTypes&&Re.mimeTypes.includes(we)||we==="application/x.".concat(Re.id))return Re;return null}function cs(oe,we){return we.testText?we.testText(oe):(Array.isArray(we.tests)?we.tests:[we.tests]).some(tn=>oe.startsWith(tn))}function Qi(oe,we,Re){return(Array.isArray(Re.tests)?Re.tests:[Re.tests]).some(Ze=>function po(oe,we,Re,tn){if(tn instanceof ArrayBuffer)return function Ht(oe,we,Re){if(oe.byteLength<(Re=Re||oe.byteLength)||we.byteLength<Re)return!1;const tn=new Uint8Array(oe),Ze=new Uint8Array(we);for(let wn=0;wn<tn.length;++wn)if(tn[wn]!==Ze[wn])return!1;return!0}(tn,oe,tn.byteLength);switch(typeof tn){case"function":return tn(oe,Re);case"string":return tn===os(oe,we,tn.length);default:return!1}}(oe,we,Re,Ze))}function nl(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"string"==typeof oe?oe.slice(0,we):ArrayBuffer.isView(oe)?os(oe.buffer,oe.byteOffset,we):oe instanceof ArrayBuffer?os(oe,0,we):""}function os(oe,we,Re){if(oe.byteLength<we+Re)return"";const tn=new DataView(oe);let Ze="";for(let wn=0;wn<Re;wn++)Ze+=String.fromCharCode(tn.getUint8(we+wn));return Ze}function as(oe,we,Re,tn){return ki.apply(this,arguments)}function ki(){return ki=(0,tt.Z)(function*(oe,we,Re,tn){G(!tn||"object"==typeof tn),we&&!Array.isArray(we)&&!(0,F.C)(we)&&(tn=void 0,Re=we,we=void 0),oe=yield oe,Re=Re||{};const{url:Ze}=(0,Xo.l)(oe),pr=function Za(oe,we){if(!we&&oe&&!Array.isArray(oe))return oe;let Re;if(oe&&(Re=Array.isArray(oe)?oe:[oe]),we&&we.loaders){const tn=Array.isArray(we.loaders)?we.loaders:[we.loaders];Re=Re?[...Re,...tn]:tn}return Re&&Re.length?Re:null}(we,tn),_i=yield function Fn(oe){return ri.apply(this,arguments)}(oe,pr,Re);return _i?(tn=function Lo(oe,we){let Re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Re)return Re;const tn={fetch:(0,Z.bV)(we,oe),...oe};return Array.isArray(tn.loaders)||(tn.loaders=null),tn}({url:Ze,parse:as,loaders:pr},Re=(0,Z.GR)(Re,_i,pr,Ze),tn),yield function Yi(oe,we,Re,tn){return sr.apply(this,arguments)}(_i,oe,Re,tn)):null}),ki.apply(this,arguments)}function sr(){return sr=(0,tt.Z)(function*(oe,we,Re,tn){if(function at(oe){let we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;G(oe,"no worker provided")}(oe),(0,J.Ew)(we)){const Ze=we,{ok:wn,redirected:pr,status:_i,statusText:Er,type:xo,url:En}=Ze,il=Object.fromEntries(Ze.headers.entries());tn.response={headers:il,ok:wn,redirected:pr,status:_i,statusText:Er,type:xo,url:En}}if(we=yield function je(oe,we,Re){return Je.apply(this,arguments)}(we,oe,Re),oe.parseTextSync&&"string"==typeof we)return Re.dataType="text",oe.parseTextSync(we,Re,tn,oe);if(function Ne(oe,we){return!(!Ft.isSupported()||!(X||null!=we&&we._nodeWorkers))&&oe.worker&&we?.worker}(oe,Re))return yield function Le(oe,we,Re,tn,Ze){return re.apply(this,arguments)}(oe,we,Re,tn,as);if(oe.parseText&&"string"==typeof we)return yield oe.parseText(we,Re,tn,oe);if(oe.parse)return yield oe.parse(we,Re,tn,oe);throw G(!oe.parseSync),new Error("".concat(oe.id," loader - no parser found and worker is disabled"))}),sr.apply(this,arguments)}function us(oe,we,Re,tn){return so.apply(this,arguments)}function so(){return(so=(0,tt.Z)(function*(oe,we,Re,tn){!Array.isArray(we)&&!(0,F.C)(we)&&(Re=we,we=void 0);const Ze=(0,Z.bV)(Re);let wn=oe;return"string"==typeof oe&&(wn=yield Ze(oe)),(0,J.Lj)(oe)&&(wn=yield Ze(oe)),yield as(wn,we,Re)})).apply(this,arguments)}},1460:(Xe,se,Y)=>{"use strict";Y.d(se,{fh:()=>Z,kO:()=>G});var tt=Y(3525),J=Y(7624);const F=()=>{const Q=(0,J.rx)();return Q.loaderRegistry=Q.loaderRegistry||[],Q.loaderRegistry};function Z(Q){const at=F();Q=Array.isArray(Q)?Q:[Q];for(const ct of Q){const ot=(0,tt.T)(ct);at.find($=>ot===$)||at.unshift(ot)}}function G(){return F()}},3525:(Xe,se,Y)=>{"use strict";Y.d(se,{C:()=>J,T:()=>F});var tt=Y(7702);function J(Z){var G;return!!Z&&(Array.isArray(Z)&&(Z=Z[0]),Array.isArray(null===(G=Z)||void 0===G?void 0:G.extensions))}function F(Z){var G,O;let Q;return(0,tt.h)(Z,"null loader"),(0,tt.h)(J(Z),"invalid loader"),Array.isArray(Z)&&(Q=Z[1],Z=Z[0],Z={...Z,options:{...Z.options,...Q}}),(null!==(G=Z)&&void 0!==G&&G.parseTextSync||null!==(O=Z)&&void 0!==O&&O.parseText)&&(Z.text=!0),Z.text||(Z.binary=!0),Z}},7624:(Xe,se,Y)=>{"use strict";Y.d(se,{bV:()=>q,rx:()=>lt,GR:()=>wt});var tt=Y(9049),J=Y(5861);let F="";const Z={};var ct=Y(6290);function ot(Et,vt){return $.apply(this,arguments)}function $(){return($=(0,J.Z)(function*(Et,vt){if("string"==typeof Et){Et=function at(Et){for(const vt in Z)Et.startsWith(vt)&&(Et=Et.replace(vt,Z[vt]));return!Et.startsWith("http://")&&!Et.startsWith("https://")&&(Et="".concat(F).concat(Et)),Et}(Et);let dt=vt;return null!=vt&&vt.fetch&&"function"!=typeof vt?.fetch&&(dt=vt.fetch),yield fetch(Et,dt)}return yield(0,ct.L1)(Et)})).apply(this,arguments)}var N=Y(1180);const bt=new(Y(787).Z)({id:"loaders.gl"});class X{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var W=Y(5696);const it={fetch:null,mimeType:void 0,nothrow:!1,log:new class et{constructor(){(0,N.Z)(this,"console",void 0),this.console=console}log(){for(var vt=arguments.length,dt=new Array(vt),_t=0;_t<vt;_t++)dt[_t]=arguments[_t];return this.console.log.bind(this.console,...dt)}info(){for(var vt=arguments.length,dt=new Array(vt),_t=0;_t<vt;_t++)dt[_t]=arguments[_t];return this.console.info.bind(this.console,...dt)}warn(){for(var vt=arguments.length,dt=new Array(vt),_t=0;_t<vt;_t++)dt[_t]=arguments[_t];return this.console.warn.bind(this.console,...dt)}error(){for(var vt=arguments.length,dt=new Array(vt),_t=0;_t<vt;_t++)dt[_t]=arguments[_t];return this.console.error.bind(this.console,...dt)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:W.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},V={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function lt(){globalThis.loaders=globalThis.loaders||{};const{loaders:Et}=globalThis;return Et._state=Et._state||{},Et._state}const mt=()=>{const Et=lt();return Et.globalOptions=Et.globalOptions||{...it},Et.globalOptions};function wt(Et,vt,dt,_t){return dt=dt||[],function Pt(Et,vt){Tt(Et,null,it,V,vt);for(const dt of vt)Tt(Et&&Et[dt.id]||{},dt.id,dt.options&&dt.options[dt.id]||{},dt.deprecatedOptions&&dt.deprecatedOptions[dt.id]||{},vt)}(Et,dt=Array.isArray(dt)?dt:[dt]),function ut(Et,vt,dt){const Zt={...Et.options||{}};return function ce(Et,vt){vt&&!("baseUri"in Et)&&(Et.baseUri=vt)}(Zt,dt),null===Zt.log&&(Zt.log=new X),ae(Zt,mt()),ae(Zt,vt),Zt}(vt,Et,_t)}function q(Et,vt){const dt=mt(),_t=Et||dt;return"function"==typeof _t.fetch?_t.fetch:(0,tt.Kn)(_t.fetch)?Zt=>ot(Zt,_t):null!=vt&&vt.fetch?vt?.fetch:ot}function Tt(Et,vt,dt,_t,Zt){const Ft=vt||"Top level",Ee=vt?"".concat(vt,"."):"";for(const Wt in Et){const qt=!vt&&(0,tt.Kn)(Et[Wt]);if(!(Wt in dt)&&("baseUri"!==Wt||vt)&&("workerUrl"!==Wt||!vt))if(Wt in _t)bt.warn("".concat(Ft," loader option '").concat(Ee).concat(Wt,"' no longer supported, use '").concat(_t[Wt],"'"))();else if(!qt){const Le=It(Wt,Zt);bt.warn("".concat(Ft," loader option '").concat(Ee).concat(Wt,"' not recognized. ").concat(Le))()}}}function It(Et,vt){const dt=Et.toLowerCase();let _t="";for(const Zt of vt)for(const Ft in Zt.options){if(Et===Ft)return"Did you mean '".concat(Zt.id,".").concat(Ft,"'?");const Ee=Ft.toLowerCase();(dt.startsWith(Ee)||Ee.startsWith(dt))&&(_t=_t||"Did you mean '".concat(Zt.id,".").concat(Ft,"'?"))}return _t}function ae(Et,vt){for(const dt in vt)dt in vt&&(Et[dt]=(0,tt.Ss)(vt[dt])&&(0,tt.Ss)(Et[dt])?{...Et[dt],...vt[dt]}:vt[dt])}},2970:(Xe,se,Y)=>{"use strict";Y.d(se,{C:()=>at,l:()=>Q});var tt=Y(9049);const J=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,F=/^([-\w.]+\/[-\w.+]+)/;function Z(ot){const $=F.exec(ot);return $?$[1]:ot}function G(ot){const $=J.exec(ot);return $?$[1]:""}const O=/\?.*/;function Q(ot){if((0,tt.Ew)(ot)){const $=ct(ot.url||"");return{url:$,type:Z(ot.headers.get("content-type")||"")||G($)}}return(0,tt.Lj)(ot)?{url:ct(ot.name||""),type:ot.type||""}:"string"==typeof ot?{url:ct(ot),type:G(ot)}:{url:"",type:""}}function at(ot){return(0,tt.Ew)(ot)?ot.headers["content-length"]||-1:(0,tt.Lj)(ot)?ot.size:"string"==typeof ot?ot.length:ot instanceof ArrayBuffer||ArrayBuffer.isView(ot)?ot.byteLength:-1}function ct(ot){return ot.replace(O,"")}},6290:(Xe,se,Y)=>{"use strict";Y.d(se,{L1:()=>Z,mm:()=>O});var tt=Y(5861),J=Y(9049),F=Y(2970);function Z(bt){return G.apply(this,arguments)}function G(){return G=(0,tt.Z)(function*(bt){if((0,J.Ew)(bt))return bt;const X={},et=(0,F.C)(bt);et>=0&&(X["content-length"]=String(et));const{url:W,type:it}=(0,F.l)(bt);it&&(X["content-type"]=it);const V=yield function $(bt){return N.apply(this,arguments)}(bt);V&&(X["x-first-bytes"]=V),"string"==typeof bt&&(bt=(new TextEncoder).encode(bt));const lt=new Response(bt,{headers:X});return Object.defineProperty(lt,"url",{value:W}),lt}),G.apply(this,arguments)}function O(bt){return Q.apply(this,arguments)}function Q(){return Q=(0,tt.Z)(function*(bt){if(!bt.ok){const X=yield function ct(bt){return ot.apply(this,arguments)}(bt);throw new Error(X)}}),Q.apply(this,arguments)}function ot(){return(ot=(0,tt.Z)(function*(bt){let X="Failed to fetch resource ".concat(bt.url," (").concat(bt.status,"): ");try{const et=bt.headers.get("Content-Type");let W=bt.statusText;et.includes("application/json")&&(W+=" ".concat(yield bt.text())),X+=W,X=X.length>60?"".concat(X.slice(0,60),"..."):X}catch{}return X})).apply(this,arguments)}function N(){return(N=(0,tt.Z)(function*(bt){if("string"==typeof bt)return"data:,".concat(bt.slice(0,5));if(bt instanceof Blob){const et=bt.slice(0,5);return yield new Promise(W=>{const it=new FileReader;it.onload=V=>{var lt;return W(null==V||null===(lt=V.target)||void 0===lt?void 0:lt.result)},it.readAsDataURL(et)})}if(bt instanceof ArrayBuffer){const W=function U(bt){let X="";const et=new Uint8Array(bt);for(let W=0;W<et.byteLength;W++)X+=String.fromCharCode(et[W]);return btoa(X)}(bt.slice(0,5));return"data:base64,".concat(W)}return null})).apply(this,arguments)}},4095:(Xe,se,Y)=>{"use strict";Y.d(se,{S:()=>At});var J=Y(5861),F=Y(7702),Z=Y(5696);const{_parseImageNode:G}=globalThis,O=typeof Image<"u",Q=typeof ImageBitmap<"u",at=Boolean(G),ct=!!Z.jU||at;function bt(S){const P=function W(S){return typeof ImageBitmap<"u"&&S instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&S instanceof Image?"image":S&&"object"==typeof S&&S.data&&S.width&&S.height?"data":null}(S);if(!P)throw new Error("Not an image");return P}const it=/^data:image\/svg\+xml/,V=/\.svg((\?|#).*)?$/;function lt(S){return S&&(it.test(S)||V.test(S))}function Ct(S,P){if(lt(P))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(S)])}function wt(S,P,z){return q.apply(this,arguments)}function q(){return q=(0,J.Z)(function*(S,P,z){const ft=function mt(S,P){if(lt(P)){let ft=(new TextDecoder).decode(S);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(ft=unescape(encodeURIComponent(ft)))}catch(Ot){throw new Error(Ot.message)}return"data:image/svg+xml;base64,".concat(btoa(ft))}return Ct(S,P)}(S,z),Mt=self.URL||self.webkitURL,Ot="string"!=typeof ft&&Mt.createObjectURL(ft);try{return yield function Pt(S,P){return Tt.apply(this,arguments)}(Ot||ft,P)}finally{Ot&&Mt.revokeObjectURL(Ot)}}),q.apply(this,arguments)}function Tt(){return(Tt=(0,J.Z)(function*(S,P){const z=new Image;return z.src=S,P.image&&P.image.decode&&z.decode?(yield z.decode(),z):yield new Promise((ft,Mt)=>{try{z.onload=()=>ft(z),z.onerror=Ot=>Mt(new Error("Could not load image ".concat(S,": ").concat(Ot)))}catch(Ot){Mt(Ot)}})})).apply(this,arguments)}const It={};let ut=!0;function ce(){return ce=(0,J.Z)(function*(S,P,z){let ft;ft=lt(z)?yield wt(S,P,z):Ct(S,z);const Mt=P&&P.imagebitmap;return yield function Et(S){return vt.apply(this,arguments)}(ft,Mt)}),ce.apply(this,arguments)}function vt(){return vt=(0,J.Z)(function*(S){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function dt(S){for(const P in S||It)return!1;return!0}(P)||!ut)&&(P=null),P)try{return yield createImageBitmap(S,P)}catch(z){console.warn(z),ut=!1}return yield createImageBitmap(S)}),vt.apply(this,arguments)}const _t=!1,Zt=!0;function Ft(S){const P=Le(S);return function Ee(S){const P=Le(S);return P.byteLength>=24&&2303741511===P.getUint32(0,_t)?{mimeType:"image/png",width:P.getUint32(16,_t),height:P.getUint32(20,_t)}:null}(P)||function pe(S){const P=Le(S);if(!(P.byteLength>=3&&65496===P.getUint16(0,_t)&&255===P.getUint8(2)))return null;const{tableMarkers:ft,sofMarkers:Mt}=function Ne(){const S=new Set([65499,65476,65484,65501,65534]);for(let z=65504;z<65520;++z)S.add(z);return{tableMarkers:S,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let Ot=2;for(;Ot+9<P.byteLength;){const me=P.getUint16(Ot,_t);if(Mt.has(me))return{mimeType:"image/jpeg",height:P.getUint16(Ot+5,_t),width:P.getUint16(Ot+7,_t)};if(!ft.has(me))return null;Ot+=2,Ot+=P.getUint16(Ot,_t)}return null}(P)||function Wt(S){const P=Le(S);return P.byteLength>=10&&1195984440===P.getUint32(0,_t)?{mimeType:"image/gif",width:P.getUint16(6,Zt),height:P.getUint16(8,Zt)}:null}(P)||function qt(S){const P=Le(S);return P.byteLength>=14&&16973===P.getUint16(0,_t)&&P.getUint32(2,Zt)===P.byteLength?{mimeType:"image/bmp",width:P.getUint32(18,Zt),height:P.getUint32(22,Zt)}:null}(P)}function Le(S){if(S instanceof DataView)return S;if(ArrayBuffer.isView(S))return new DataView(S.buffer);if(S instanceof ArrayBuffer)return new DataView(S);throw new Error("toDataView")}function Me(){return(Me=(0,J.Z)(function*(S,P){const{mimeType:z}=Ft(S)||{},ft=globalThis._parseImageNode;return(0,F.h)(ft),yield ft(S,z)})).apply(this,arguments)}function Dt(){return Dt=(0,J.Z)(function*(S,P,z){const Mt=((P=P||{}).image||{}).type||"auto",{url:Ot}=z||{},me=function Ht(S){switch(S){case"auto":case"data":return function $(){if(Q)return"imagebitmap";if(O)return"image";if(ct)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function ot(S){switch(S){case"auto":return Q||O||ct;case"imagebitmap":return Q;case"image":return O;case"data":return ct;default:throw new Error("@loaders.gl/images: image ".concat(S," not supported in this environment"))}}(S),S}}(Mt);let ye;switch(me){case"imagebitmap":ye=yield function ae(S,P,z){return ce.apply(this,arguments)}(S,P,Ot);break;case"image":ye=yield wt(S,P,Ot);break;case"data":ye=yield function re(S,P){return Me.apply(this,arguments)}(S,P);break;default:(0,F.h)(!1)}return"data"===Mt&&(ye=function et(S){switch(bt(S)){case"data":return S;case"image":case"imagebitmap":const P=document.createElement("canvas"),z=P.getContext("2d");if(!z)throw new Error("getImageData");return P.width=S.width,P.height=S.height,z.drawImage(S,0,0),z.getImageData(0,0,S.width,S.height);default:throw new Error("getImageData")}}(ye)),ye}),Dt.apply(this,arguments)}const At={id:"image",module:"images",name:"Images",version:"3.3.3",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function le(S,P,z){return Dt.apply(this,arguments)},tests:[S=>Boolean(Ft(new DataView(S)))],options:{image:{type:"auto",decode:!0}}}},7702:(Xe,se,Y)=>{"use strict";function tt(J,F){if(!J)throw new Error(F||"loader assertion failed.")}Y.d(se,{h:()=>tt})},5696:(Xe,se,Y)=>{"use strict";Y.d(se,{jU:()=>O}),typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const O=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),at=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);at&&parseFloat(at[1])},3184:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Z});var tt=Y(3403),J=Y(659);const F={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Z{static get DRAW_MODE(){return F}constructor(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:Q=(0,tt.hQ)("geometry"),drawMode:at=F.TRIANGLES,attributes:ct={},indices:ot=null,vertexCount:$=null}=O;this.id=Q,this.drawMode=0|at,this.attributes={},this.userData={},this._setAttributes(ct,ot),this.vertexCount=$||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(O){return"Geometry ".concat(this.id," attribute ").concat(O)}_setAttributes(O,Q){Q&&(this.indices=ArrayBuffer.isView(Q)?{value:Q,size:1}:Q);for(const at in O){let ct=O[at];ct=ArrayBuffer.isView(ct)?{value:ct}:ct,(0,J.h)(ArrayBuffer.isView(ct.value),"".concat(this._print(at),": must be typed array or object with value as typed array")),("POSITION"===at||"positions"===at)&&!ct.size&&(ct.size=3),"indices"===at?((0,J.h)(!this.indices),this.indices=ct):this.attributes[at]=ct}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(O,Q){if(Q)return Q.value.length;let at=1/0;for(const ct in O){const ot=O[ct],{value:$,size:N,constant:U}=ot;!U&&$&&N>=1&&(at=Math.min(at,$.length/N))}return(0,J.h)(Number.isFinite(at)),at}}},525:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Me});var tt=Y(7591),J=Y(6262),F=Y(3403),Z=Y(659),G=Y(7605),O=Y(2955),Q=Y(2563),at=Y(8775),ct=Y(6729);let ot=null;var bt=Y(8325);class et extends ct.Z{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(Dt){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||(0,tt.D0)(Dt)||"Chrome"===(0,bt.Z)()}static getDefaultArray(Dt){return Dt.luma=Dt.luma||{},Dt.luma.defaultVertexArray||(Dt.luma.defaultVertexArray=new et(Dt,{handle:null,isDefaultArray:!0})),Dt.luma.defaultVertexArray}static getMaxAttributes(Dt){return et.MAX_ATTRIBUTES=et.MAX_ATTRIBUTES||Dt.getParameter(34921),et.MAX_ATTRIBUTES}static setConstant(Dt,Ht,jt){switch(jt.constructor){case Float32Array:et._setConstantFloatArray(Dt,Ht,jt);break;case Int32Array:et._setConstantIntArray(Dt,Ht,jt);break;case Uint32Array:et._setConstantUintArray(Dt,Ht,jt);break;default:(0,Z.h)(!1)}}constructor(Dt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(Dt,Object.assign({},Ht,{id:Ht.id||Ht.program&&Ht.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=Ht.isDefaultArray||!1,this.gl2=Dt,this.initialize(Ht),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return et.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(Dt){return this}setElementBuffer(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,Z.h)(!Dt||34963===Dt.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,Dt?Dt.handle:null)}),this}setBuffer(Dt,Ht,jt){if(34963===Ht.target)return this.setElementBuffer(Ht,jt);const{size:Ut,type:gt,stride:At,offset:St,normalized:S,integer:P,divisor:z}=jt,{gl:ft,gl2:Mt}=this;return Dt=Number(Dt),this.bind(()=>{ft.bindBuffer(34962,Ht.handle),P?((0,Z.h)((0,tt.D0)(ft)),Mt.vertexAttribIPointer(Dt,Ut,gt,At,St)):ft.vertexAttribPointer(Dt,Ut,gt,S,At,St),ft.enableVertexAttribArray(Dt),Mt.vertexAttribDivisor(Dt,z||0)}),this}enable(Dt){let Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!Ht&&0===Dt&&!et.isSupported(this.gl,{constantAttributeZero:!0})||(Dt=Number(Dt),this.bind(()=>Ht?this.gl.enableVertexAttribArray(Dt):this.gl.disableVertexAttribArray(Dt))),this}getConstantBuffer(Dt,Ht){const jt=this._normalizeConstantArrayValue(Ht),Ut=jt.byteLength*Dt,gt=jt.length*Dt;let At=!this.buffer;if(this.buffer=this.buffer||new at.Z(this.gl,Ut),At=At||this.buffer.reallocate(Ut),At=At||!this._compareConstantArrayValues(jt,this.bufferValue),At){const St=function N(le,Dt){const Ht=function $(le){return(!ot||ot.byteLength<le)&&(ot=new ArrayBuffer(le)),ot}(le.BYTES_PER_ELEMENT*Dt);return new le(Ht,0,Dt)}(Ht.constructor,gt);(function U(le){let{target:Dt,source:Ht,start:jt=0,count:Ut=1}=le;const gt=Ht.length,At=Ut*gt;let St=0;for(let S=jt;St<gt;St++)Dt[S++]=Ht[St];for(;St<At;)St<At-St?(Dt.copyWithin(jt+St,jt,jt+St),St*=2):(Dt.copyWithin(jt+St,jt,jt+At-St),St=At)})({target:St,source:jt,start:0,count:gt}),this.buffer.subData(St),this.bufferValue=Ht}return this.buffer}_normalizeConstantArrayValue(Dt){return Array.isArray(Dt)?new Float32Array(Dt):Dt}_compareConstantArrayValues(Dt,Ht){if(!Dt||!Ht||Dt.length!==Ht.length||Dt.constructor!==Ht.constructor)return!1;for(let jt=0;jt<Dt.length;++jt)if(Dt[jt]!==Ht[jt])return!1;return!0}static _setConstantFloatArray(Dt,Ht,jt){switch(jt.length){case 1:Dt.vertexAttrib1fv(Ht,jt);break;case 2:Dt.vertexAttrib2fv(Ht,jt);break;case 3:Dt.vertexAttrib3fv(Ht,jt);break;case 4:Dt.vertexAttrib4fv(Ht,jt);break;default:(0,Z.h)(!1)}}static _setConstantIntArray(Dt,Ht,jt){switch((0,Z.h)((0,tt.D0)(Dt)),jt.length){case 1:Dt.vertexAttribI1iv(Ht,jt);break;case 2:Dt.vertexAttribI2iv(Ht,jt);break;case 3:Dt.vertexAttribI3iv(Ht,jt);break;case 4:Dt.vertexAttribI4iv(Ht,jt);break;default:(0,Z.h)(!1)}}static _setConstantUintArray(Dt,Ht,jt){switch((0,Z.h)((0,tt.D0)(Dt)),jt.length){case 1:Dt.vertexAttribI1uiv(Ht,jt);break;case 2:Dt.vertexAttribI2uiv(Ht,jt);break;case 3:Dt.vertexAttribI3uiv(Ht,jt);break;case 4:Dt.vertexAttribI4uiv(Ht,jt);break;default:(0,Z.h)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(Dt){return this.gl2.deleteVertexArray(Dt),[this.elements]}_bindHandle(Dt){this.gl2.bindVertexArray(Dt)}_getParameter(Dt,Ht){let{location:jt}=Ht;return(0,Z.h)(Number.isFinite(jt)),this.bind(()=>34373===Dt?this.gl.getVertexAttribOffset(jt,Dt):this.gl.getVertexAttrib(jt,Dt))}}var W=Y(2975);const V=/^(.+)__LOCATION_([0-9]+)$/,lt=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class mt{constructor(Dt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=Ht.id||Ht.program&&Ht.program.id,this.gl=Dt,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new et(Dt),(0,W.F)(this,"VertexArray","v6.0",lt),this.initialize(Ht),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(Dt)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:Dt}=this.vertexArrayObject;return this.values=new Array(Dt).fill(null),this.accessors=new Array(Dt).fill(null),this.unused={},this.drawParams=null,this}setProps(Dt){return"program"in Dt&&(this.configuration=Dt.program&&Dt.program.configuration),"configuration"in Dt&&(this.configuration=Dt.configuration),"attributes"in Dt&&this.setAttributes(Dt.attributes),"elements"in Dt&&this.setElementBuffer(Dt.elements),"bindOnUse"in Dt&&(Dt=Dt.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(Dt){return Object.assign(this.attributes,Dt),this.vertexArrayObject.bind(()=>{for(const Ht in Dt)this._setAttribute(Ht,Dt[Ht]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=Dt,this.elementsAccessor=Ht,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(Dt,Ht),this}setBuffer(Dt,Ht){let jt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===Ht.target)return this.setElementBuffer(Ht,jt);const{location:Ut,accessor:gt}=this._resolveLocationAndAccessor(Dt,Ht,Ht.accessor,jt);return Ut>=0&&(this.values[Ut]=Ht,this.accessors[Ut]=gt,this.clearDrawParams(),this.vertexArrayObject.setBuffer(Ut,Ht,gt)),this}setConstant(Dt,Ht){let jt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:Ut,accessor:gt}=this._resolveLocationAndAccessor(Dt,Ht,Object.assign({size:Ht.length},jt));return Ut>=0&&(Ht=this.vertexArrayObject._normalizeConstantArrayValue(Ht),this.values[Ut]=Ht,this.accessors[Ut]=gt,this.clearDrawParams(),this.vertexArrayObject.enable(Ut,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new at.Z(this.gl,{accessor:{size:4}});for(let Dt=0;Dt<this.vertexArrayObject.MAX_ATTRIBUTES;Dt++)this.values[Dt]instanceof at.Z&&(this.gl.disableVertexAttribArray(Dt),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(Dt,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let Dt=0;Dt<this.vertexArrayObject.MAX_ATTRIBUTES;Dt++){const Ht=this.values[Dt];Ht instanceof at.Z&&this.setBuffer(Dt,Ht)}}),this}bindForDraw(Dt,Ht,jt){let Ut;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(Dt,Ht),Ut=jt()}),Ut}_resolveLocationAndAccessor(Dt,Ht,jt,Ut){const gt={location:-1,accessor:null},{location:At,name:St}=this._getAttributeIndex(Dt);if(!Number.isFinite(At)||At<0)return this.unused[Dt]=Ht,tt.cM.once(3,()=>"unused value ".concat(Dt," in ").concat(this.id))(),gt;const S=this._getAttributeInfo(St||At);if(!S)return gt;const z=Q.Z.resolve(S.accessor,this.accessors[At]||{},jt,Ut),{size:ft,type:Mt}=z;return(0,Z.h)(Number.isFinite(ft)&&Number.isFinite(Mt)),{location:At,accessor:z}}_getAttributeInfo(Dt){return this.configuration&&this.configuration.getAttributeInfo(Dt)}_getAttributeIndex(Dt){const Ht=Number(Dt);if(Number.isFinite(Ht))return{location:Ht};const jt=V.exec(Dt),Ut=jt?jt[1]:Dt,gt=jt?Number(jt[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(Ut)+gt,name:Ut}:{location:-1}}_setAttribute(Dt,Ht){if(Ht instanceof at.Z)this.setBuffer(Dt,Ht);else if(Array.isArray(Ht)&&Ht.length&&Ht[0]instanceof at.Z)this.setBuffer(Dt,Ht[0],Ht[1]);else if(ArrayBuffer.isView(Ht)||Array.isArray(Ht))this.setConstant(Dt,Ht);else{if(!(Ht.buffer instanceof at.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(Dt,Ht.buffer,Ht)}}_setConstantAttributes(Dt,Ht){const jt=Math.max(0|Dt,0|Ht);let Ut=this.values[0];ArrayBuffer.isView(Ut)&&this._setConstantAttributeZero(Ut,jt);for(let gt=1;gt<this.vertexArrayObject.MAX_ATTRIBUTES;gt++)Ut=this.values[gt],ArrayBuffer.isView(Ut)&&this._setConstantAttribute(gt,Ut)}_setConstantAttributeZero(Dt,Ht){if(et.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,Dt);const jt=this.vertexArrayObject.getConstantBuffer(Ht,Dt);this.vertexArrayObject.setBuffer(0,jt,this.accessors[0])}_setConstantAttribute(Dt,Ht){et.setConstant(this.gl,Dt,Ht)}_updateDrawParams(){const Dt={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let Ht=0;Ht<this.vertexArrayObject.MAX_ATTRIBUTES;Ht++)this._updateDrawParamsForLocation(Dt,Ht);return this.elements&&(Dt.elementCount=this.elements.getElementCount(this.elements.accessor),Dt.isIndexed=!0,Dt.indexType=this.elementsAccessor.type||this.elements.accessor.type,Dt.indexOffset=this.elementsAccessor.offset||0),Dt.indexCount===1/0&&(Dt.indexCount=0),Dt.vertexCount===1/0&&(Dt.vertexCount=0),Dt.instanceCount===1/0&&(Dt.instanceCount=0),Dt}_updateDrawParamsForLocation(Dt,Ht){const jt=this.values[Ht],Ut=this.accessors[Ht];if(!jt)return;const{divisor:gt}=Ut,At=gt>0;if(Dt.isInstanced=Dt.isInstanced||At,jt instanceof at.Z){const St=jt;if(At){const S=St.getVertexCount(Ut);Dt.instanceCount=Math.min(Dt.instanceCount,S)}else{const S=St.getVertexCount(Ut);Dt.vertexCount=Math.min(Dt.vertexCount,S)}}}setElements(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(Dt,Ht)}}var Ct=Y(8023),wt=Y(6742),q=Y(2676);function Tt(le){let Dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:jt=!1}=Dt;if(Array.isArray(le)||ArrayBuffer.isView(le))return function Pt(le,Dt){const{maxElts:Ht=16,size:jt=1}=Dt;let Ut="[";for(let At=0;At<le.length&&At<Ht;++At)At>0&&(Ut+=",".concat(At%jt==0?" ":"")),Ut+=Tt(le[At],Dt);const gt=le.length>Ht?"...":"]";return"".concat(Ut).concat(gt)}(le,Dt);if(!Number.isFinite(le))return String(le);if(Math.abs(le)<1e-16)return jt?"0":"0.";if(jt||Math.abs(le)>100&&Math.abs(le)<1e4)return le.toFixed(0);const Ut=le.toPrecision(2);return Ut.indexOf(".0")===Ut.length-2?Ut.slice(0,-1):Ut}function ut(le,Dt,Ht,jt){const{gl:Ut}=le;if(!Dt)return{[jt]:"null","Format ":"N/A"};let P,z,ft,gt="NOT PROVIDED",At=1,St=0,S=0;if(Ht&&(gt=Ht.type,At=Ht.size,gt=String(gt).replace("Array",""),P=-1!==gt.indexOf("nt")),Dt instanceof at.Z){const Mt=Dt,{data:Ot,changed:me}=Mt.getDebugData();let ye;return z=me?"*":"",ft=Ot,S=Mt.byteLength,St=S/Ot.BYTES_PER_ELEMENT/At,Ht?ye="".concat(Ht.divisor>0?"I ":"P "," ").concat(St," (x").concat(At,"=").concat(S," bytes ").concat((0,wt.km)(Ut,gt),")"):(P=!0,ye="".concat(S," bytes")),{[jt]:"".concat(z).concat(Tt(ft,{size:At,isInteger:P})),"Format ":ye}}return ft=Dt,At=Dt.length,gt=String(Dt.constructor.name).replace("Array",""),P=-1!==gt.indexOf("nt"),{[jt]:"".concat(Tt(ft,{size:At,isInteger:P})," (constant)"),"Format ":"".concat(At,"x").concat(gt," (constant)")}}function ae(le,Dt){const{type:Ht,size:jt}=Dt,Ut=(0,q.jG)(Ht,jt);return Ut?"".concat(le," (").concat(Ut.name,")"):le}function ce(le){let{header:Dt="Uniforms",program:Ht,uniforms:jt,undefinedOnly:Ut=!1}=le;(0,Z.h)(Ht);const At=".*Matrix",S={},P=Object.keys(Ht._uniformSetters).sort();let z=0;for(const Ot of P)!Ot.match(".*_.*")&&!Ot.match(At)&&Et({table:S,header:Dt,uniforms:jt,uniformName:Ot,undefinedOnly:Ut})&&z++;for(const Ot of P)Ot.match(At)&&Et({table:S,header:Dt,uniforms:jt,uniformName:Ot,undefinedOnly:Ut})&&z++;for(const Ot of P)S[Ot]||Et({table:S,header:Dt,uniforms:jt,uniformName:Ot,undefinedOnly:Ut})&&z++;let ft=0;const Mt={};if(!Ut)for(const Ot in jt){const me=jt[Ot];S[Ot]||(ft++,Mt[Ot]={Type:"NOT USED: ".concat(me),[Dt]:Tt(me)})}return{table:S,count:z,unusedTable:Mt,unusedCount:ft}}function Et(le){let{table:Dt,header:Ht,uniforms:jt,uniformName:Ut,undefinedOnly:gt}=le;const At=jt[Ut],St=function vt(le){return null!=le}(At);return!(gt&&St||(Dt[Ut]={[Ht]:St?Tt(At):"N/A","Uniform Type":St?At:"NOT PROVIDED"},0))}function _t(le){const{type:Dt,size:Ht}=le.accessor,jt=(0,q.jG)(Dt,Ht);return jt?"".concat(jt.name," ").concat(le.name):le.name}const Zt={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function Ee(le,Dt){const{attributeMap:Ht=Zt}=Dt||{};return Ht&&Ht[le]||le}function Wt(le,Dt){let Ht;switch(le){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":Ht="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":Ht="vectors"}switch(Ht){case"vectors":Dt.size=Dt.size||3;break;case"uvs":Dt.size=Dt.size||2}(0,Z.h)(Number.isFinite(Dt.size),"attribute ".concat(le," needs size"))}const Le=()=>{},re={};class Me{constructor(Dt){let Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:jt=(0,F.hQ)("model")}=Ht;(0,Z.h)((0,tt.UF)(Dt)),this.id=jt,this.gl=Dt,this.id=Ht.id||(0,F.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(Ht)}initialize(Dt){this.props={},this.programManager=Dt.programManager||J.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:Ht=null,vs:jt,fs:Ut,modules:gt,defines:At,inject:St,varyings:S,bufferMode:P,transpileToGLSL100:z}=Dt;this.programProps={program:Ht,vs:jt,fs:Ut,modules:gt,defines:At,inject:St,varyings:S,bufferMode:P,transpileToGLSL100:z},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(Dt.moduleSettings))),this.drawMode=void 0!==Dt.drawMode?Dt.drawMode:4,this.vertexCount=Dt.vertexCount||0,this.geometryBuffers={},this.isInstanced=Dt.isInstanced||Dt.instanced||Dt.instanceCount>0,this._setModelProps(Dt),this.geometry={},(0,Z.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(Dt){this._setModelProps(Dt)}delete(){for(const Dt in this._attributes)this._attributes[Dt]!==this.attributes[Dt]&&this._attributes[Dt].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(Dt){const{program:Ht,vs:jt,fs:Ut,modules:gt,defines:At,inject:St,varyings:S,bufferMode:P,transpileToGLSL100:z}=Dt;this.programProps={program:Ht,vs:jt,fs:Ut,modules:gt,defines:At,inject:St,varyings:S,bufferMode:P,transpileToGLSL100:z},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(Dt){return this.drawMode=Dt,this}setVertexCount(Dt){return(0,Z.h)(Number.isFinite(Dt)),this.vertexCount=Dt,this}setInstanceCount(Dt){return(0,Z.h)(Number.isFinite(Dt)),this.instanceCount=Dt,this}setGeometry(Dt){return this.drawMode=Dt.drawMode,this.vertexCount=Dt.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function Ft(le,Dt,Ht){const jt={};let Ut=Dt.indices;for(const gt in Dt.attributes){const At=Dt.attributes[gt],St=Ee(gt,Ht);if("indices"===gt)Ut=At;else if(At.constant)jt[St]=At.value;else{const S=At.value,P={...At};delete P.value,jt[St]=[new at.Z(le,S),P],Wt(gt,P)}}if(Ut){const gt=Ut.value||Ut;(0,Z.h)(gt instanceof Uint16Array||gt instanceof Uint32Array,'attribute array for "indices" must be of integer type');const At={size:1,isIndexed:void 0===Ut.isIndexed||Ut.isIndexed};jt.indices=[new at.Z(le,{data:gt,target:34963}),At]}return jt}(this.gl,Dt),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,F.nK)(Dt))return this;const Ht={};for(const jt in Dt){const Ut=Dt[jt];Ht[jt]=Ut.getValue?Ut.getValue():Ut}return this.vertexArray.setAttributes(Ht),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(Dt){this._checkProgram();const Ht=this.programManager.getUniforms(this.program);return Ht?Ht(Dt):{}}updateModuleSettings(Dt){const Ht=this.getModuleUniforms(Dt||{});return this.setUniforms(Ht)}clear(Dt){return(0,G.Z)(this.program.gl,Dt),this}draw(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:Ht=null,framebuffer:jt,uniforms:Ut={},attributes:gt={},transformFeedback:At=this.transformFeedback,parameters:St={},vertexArray:S=this.vertexArray}=Dt;let P;this.setAttributes(gt),this.updateModuleSettings(Ht),this.setUniforms(Ut),tt.cM.priority>=2&&(P=this._logDrawCallStart(2));const z=this.vertexArray.getDrawParams(),{isIndexed:ft=z.isIndexed,indexType:Mt=z.indexType,indexOffset:Ot=z.indexOffset,vertexArrayInstanced:me=z.isInstanced}=this.props;me&&!this.isInstanced&&tt.cM.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:ye,instanceCount:xe}=this,{onBeforeRender:ze=Le,onAfterRender:Qe=Le}=this.props;ze(),this.program.setUniforms(this.uniforms);const Ue=this.program.draw(Object.assign(re,Dt,{logPriority:P,uniforms:null,framebuffer:jt,parameters:St,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:S,transformFeedback:At,isIndexed:ft,indexType:Mt,isInstanced:ye,instanceCount:xe,offset:ft?Ot:0}));return Qe(),tt.cM.priority>=2&&this._logDrawCallEnd(P,S,jt),Ue}transform(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:Ht=!0,feedbackBuffers:jt,unbindModels:Ut=[]}=Dt;let{parameters:gt}=Dt;jt&&this._setFeedbackBuffers(jt),Ht&&(gt=Object.assign({},gt,{35977:Ht})),Ut.forEach(At=>At.vertexArray.unbindBuffers());try{this.draw(Object.assign({},Dt,{parameters:gt}))}finally{Ut.forEach(At=>At.vertexArray.bindBuffers())}return this}render(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(Dt).draw()}_setModelProps(Dt){Object.assign(this.props,Dt),"uniforms"in Dt&&this.setUniforms(Dt.uniforms),"pickable"in Dt&&(this.pickable=Dt.pickable),"instanceCount"in Dt&&(this.instanceCount=Dt.instanceCount),"geometry"in Dt&&this.setGeometry(Dt.geometry),"attributes"in Dt&&this.setAttributes(Dt.attributes),"_feedbackBuffers"in Dt&&this._setFeedbackBuffers(Dt._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:Ht}=this.programProps;if(Ht)this._managedProgram=!1;else{const{vs:jt,fs:Ut,modules:gt,inject:At,defines:St,varyings:S,bufferMode:P,transpileToGLSL100:z}=this.programProps;Ht=this.programManager.get({vs:jt,fs:Ut,modules:gt,inject:At,defines:St,varyings:S,bufferMode:P,transpileToGLSL100:z}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,Z.h)(Ht instanceof O.Z,"Model needs a program"),this._programDirty=!1,Ht!==this.program&&(this.program=Ht,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new mt(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const Dt in this.geometryBuffers){const Ht=this.geometryBuffers[Dt][0]||this.geometryBuffers[Dt];Ht instanceof at.Z&&Ht.delete()}}_setAnimationProps(Dt){this.animated&&(0,Z.h)(Dt,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,F.nK)(Dt))return this;const{gl:Ht}=this.program;return this.transformFeedback=this.transformFeedback||new Ct.Z(Ht,{program:this.program}),this.transformFeedback.setBuffers(Dt),this}_logDrawCallStart(Dt){const Ht=Dt>3?0:1e4;if(!(Date.now()-this.lastLogTime<Ht))return this.lastLogTime=Date.now(),tt.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:tt.cM.level<=2})(),Dt}_logDrawCallEnd(Dt,Ht,jt,Ut){if(void 0===Dt)return;const gt=function It(le){let{vertexArray:Dt,header:Ht="Attributes"}=le;if(!Dt.configuration)return{};const jt={};Dt.elements&&(jt.ELEMENT_ARRAY_BUFFER=ut(Dt,Dt.elements,null,Ht));const Ut=Dt.values;for(const gt in Ut){const At=Dt._getAttributeInfo(gt);if(At){let St="".concat(gt,": ").concat(At.name);const S=Dt.accessors[At.location];S&&(St="".concat(gt,": ").concat(ae(At.name,S))),jt[St]=ut(Dt,Ut[gt],S,Ht)}}return jt}({vertexArray:Ht,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:At,unusedTable:St,unusedCount:S}=ce({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,jt)}),{table:P,count:z}=ce({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,jt),undefinedOnly:!0});z>0&&tt.cM.log("MISSING UNIFORMS",Object.keys(P))(),S>0&&tt.cM.log("UNUSED UNIFORMS",Object.keys(St))();const ft=function dt(le){const Dt={},Ht="Accessors for ".concat(le.id);for(const jt of le.attributeInfos)if(jt){const Ut=_t(jt);Dt["in ".concat(Ut)]={[Ht]:JSON.stringify(jt.accessor)}}for(const jt of le.varyingInfos)if(jt){const Ut=_t(jt);Dt["out ".concat(Ut)]={[Ht]:JSON.stringify(jt.accessor)}}return Dt}(this.vertexArray.configuration);tt.cM.table(Dt,gt)(),tt.cM.table(Dt,At)(),tt.cM.table(Dt+1,ft)(),Ut&&Ut.log({logLevel:2,message:"Rendered to ".concat(Ut.id)}),tt.cM.groupEnd(2)()}}},6262:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>St});var tt=Y(6153),J=Y(419),F=Y(1012);function Z(S){return function G(S){const P={},z={};return O({modules:S,level:0,moduleMap:P,moduleDepth:z}),Object.keys(z).sort((ft,Mt)=>z[Mt]-z[ft]).map(ft=>P[ft])}(Q(S))}function O(S){let{modules:P,level:z,moduleMap:ft,moduleDepth:Mt}=S;if(z>=5)throw new Error("Possible loop in shader dependency graph");for(const Ot of P)ft[Ot.name]=Ot,(void 0===Mt[Ot.name]||Mt[Ot.name]<z)&&(Mt[Ot.name]=z);for(const Ot of P)Ot.dependencies&&O({modules:Ot.dependencies,level:z+1,moduleMap:ft,moduleDepth:Mt})}function Q(S,P){return S.map(z=>(z instanceof J.Z||((0,F.Z)("string"!=typeof z,"Shader module use by name is deprecated. Import shader module '".concat(z,"' and use it directly.")),(0,F.Z)(z.name,"shader module has no name"),(z=new J.Z(z)).dependencies=Q(z.dependencies)),z))}const ot=7936,$=7937,N=7938,U=35724,bt={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},X={};function it(S,P){return S.match(/NVIDIA/i)||P.match(/NVIDIA/i)?"NVIDIA":S.match(/INTEL/i)||P.match(/INTEL/i)?"INTEL":S.match(/AMD/i)||P.match(/AMD/i)||S.match(/ATI/i)||P.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(bt).forEach(S=>{X[S]=S});const V={};function lt(S,P){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ft=bt[P];if((0,F.Z)(ft,P),!function ct(){const P=typeof window<"u"&&window.navigator||{},z=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||P.userAgent||"",ft=-1!==z.indexOf("MSIE "),Mt=-1!==z.indexOf("Trident/");return ft||Mt}(z))return!0;if(P in V)return V[P];const Ot=z.behavior||"enable",me="#extension GL_".concat(ft[0]," : ").concat(Ot,"\nvoid main(void) {}"),ye=S.createShader(35633);S.shaderSource(ye,me),S.compileShader(ye);const xe=S.getShaderParameter(ye,35713);return S.deleteShader(ye),V[P]=xe,xe}function Ct(S,P){return(P=Array.isArray(P)?P:[P]).every(z=>function mt(S,P){const z=bt[P];(0,F.Z)(z,P);const ft=function et(S){return typeof WebGL2RenderingContext<"u"&&S instanceof WebGL2RenderingContext||Boolean(S&&2===S._version)}(S)&&z[1]||z[0],Mt="string"==typeof ft?Boolean(S.getExtension(ft)):ft;return(0,F.Z)(!1===Mt||!0===Mt),Mt}(S,z))}var Pt=Y(618);function Tt(S){return new RegExp("\\b".concat(S,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const It=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],ut=[...It,[Tt("attribute"),"in $1"],[Tt("varying"),"out $1"]],ae=[...It,[Tt("varying"),"in $1"]],ce=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Et=[...ce,[Tt("in"),"attribute $1"],[Tt("out"),"varying $1"]],vt=[...ce,[Tt("in"),"varying $1"]],dt="gl_FragColor",_t=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Zt=/void\s+main\s*\([^)]*\)\s*\{\n?/;function Ee(S,P){for(const[z,ft]of P)S=S.replace(z,ft);return S}const pe="\n\n".concat(Pt.O_,"\n\n"),Ne={[tt.H]:"vertex",[tt.Y]:"fragment"},Le="precision highp float;\n\n";function Me(S,P){let{id:z,source:ft,type:Mt,modules:Ot,defines:me={},hookFunctions:ye=[],inject:xe={},transpileToGLSL100:ze=!1,prologue:Qe=!0,log:Ue}=P;(0,F.Z)("string"==typeof ft,"shader source must be a string");const sn=Mt===tt.H,un=ft.split("\n");let ln=100,xn="",cn=ft;0===un[0].indexOf("#version ")?(ln=300,xn=un[0],cn=un.slice(1).join("\n")):xn="#version ".concat(ln);const Pe={};Ot.forEach(_n=>{Object.assign(Pe,_n.getDefines())}),Object.assign(Pe,me);let Qt=Qe?"".concat(xn,"\n").concat(function Ht(S){let{id:P,source:z,type:ft}=S;return P&&"string"==typeof P&&-1===z.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(P,"_").concat(Ne[ft],"\n\n"):""}({id:z,source:ft,type:Mt}),"\n").concat(function Dt(S){let{type:P}=S;return"\n#define SHADER_TYPE_".concat(Ne[P].toUpperCase(),"\n")}({type:Mt}),"\n").concat(function wt(S){switch(function W(S){const P=S.getExtension("WEBGL_debug_renderer_info"),z=S.getParameter(P&&P.UNMASKED_VENDOR_WEBGL||ot),ft=S.getParameter(P&&P.UNMASKED_RENDERER_WEBGL||$);return{gpuVendor:it(z,ft),vendor:z,renderer:ft,version:S.getParameter(N),shadingLanguageVersion:S.getParameter(U)}}(S).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(S),"\n").concat(function q(S,P,z){let ft="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return Ct(S,X.GLSL_FRAG_DEPTH)&&(ft+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Ct(S,X.GLSL_DERIVATIVES)&&lt(S,X.GLSL_DERIVATIVES)&&(ft+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),Ct(S,X.GLSL_FRAG_DATA)&&lt(S,X.GLSL_FRAG_DATA,{behavior:"require"})&&(ft+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),Ct(S,X.GLSL_TEXTURE_LOD)&&(ft+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),ft}(S),"\n").concat(function jt(){let S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=0,z="";for(const ft in S){0===P&&(z+="\n// APPLICATION DEFINES\n"),P++;const Mt=S[ft];(Mt||Number.isFinite(Mt))&&(z+="#define ".concat(ft.toUpperCase()," ").concat(S[ft],"\n"))}return 0===P&&(z+="\n"),z}(Pe),"\n").concat(sn?"":Le,"\n"):"".concat(xn,"\n");const _e=function gt(S){const P={vs:{},fs:{}};return S.forEach(z=>{let ft;"string"!=typeof z?(ft=z,z=ft.hook):ft={},z=z.trim();const[Mt,Ot]=z.split(":"),me=z.replace(/\(.+/,"");P[Mt][me]=Object.assign(ft,{signature:Ot})}),P}(ye),Oe={},We={},rn={};for(const _n in xe){const en="string"==typeof xe[_n]?{injection:xe[_n],order:0}:xe[_n],yn=_n.match(/^(v|f)s:(#)?([\w-]+)$/);yn?yn[2]?"decl"===yn[3]?We[_n]=[en]:rn[_n]=[en]:Oe[_n]=[en]:rn[_n]=[en]}for(const _n of Ot){Ue&&_n.checkDeprecations(cn,Ue),Qt+=_n.getModuleSource(Mt,ln);const yn=_n.injections[Mt];for(const Bt in yn){const Jt=Bt.match(/^(v|f)s:#([\w-]+)$/);if(Jt){const je="decl"===Jt[2]?We:rn;je[Bt]=je[Bt]||[],je[Bt].push(yn[Bt])}else Oe[Bt]=Oe[Bt]||[],Oe[Bt].push(yn[Bt])}}return Qt+=pe,Qt=(0,Pt.ZP)(Qt,Mt,We),Qt+=function Ut(S,P){let z="";for(const ft in S){const Mt=S[ft];if(z+="void ".concat(Mt.signature," {\n"),Mt.header&&(z+="  ".concat(Mt.header)),P[ft]){const Ot=P[ft];Ot.sort((me,ye)=>me.order-ye.order);for(const me of Ot)z+="  ".concat(me.injection,"\n")}Mt.footer&&(z+="  ".concat(Mt.footer)),z+="}\n"}return z}(_e[Mt],Oe),Qt+=cn,Qt=(0,Pt.ZP)(Qt,Mt,rn),Qt=function Ft(S,P,z){switch(P){case 300:return z?Ee(S,ut):function Wt(S){const P=(S=Ee(S,ae)).match(_t);if(P){const z=P[1];S=S.replace(new RegExp("\\b".concat(dt,"\\b"),"g"),z)}else{const z="fragmentColor";S=S.replace(Zt,ft=>"out vec4 ".concat(z,";\n").concat(ft)).replace(new RegExp("\\b".concat(dt,"\\b"),"g"),z)}return S}(S);case 100:return z?Ee(S,Et):function qt(S){const P=(S=Ee(S,vt)).match(_t);if(P){const z=P[1];S=S.replace(_t,"").replace(new RegExp("\\b".concat(z,"\\b"),"g"),dt)}return S}(S);default:throw new Error("unknown GLSL version ".concat(P))}}(Qt,ze?100:ln,sn),Qt}function le(S){return function(z){const ft={};for(const Mt of S){const Ot=Mt.getUniforms(z,ft);Object.assign(ft,Ot)}return ft}}var At=Y(2955);class St{static getDefaultProgramManager(P){return P.luma=P.luma||{},P.luma.defaultProgramManager=P.luma.defaultProgramManager||new St(P),P.luma.defaultProgramManager}constructor(P){this.gl=P,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(P){this._defaultModules.find(z=>z.name===P.name)||this._defaultModules.push(P),this.stateHash++}removeDefaultModule(P){const z="string"==typeof P?P:P.name;this._defaultModules=this._defaultModules.filter(ft=>ft.name!==z),this.stateHash++}addShaderHook(P,z){z&&(P=Object.assign(z,{hook:P})),this._hookFunctions.push(P),this.stateHash++}get(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:z="",fs:ft="",defines:Mt={},inject:Ot={},varyings:me=[],bufferMode:ye=35981,transpileToGLSL100:xe=!1}=P,ze=this._getModuleList(P.modules),Qe=this._getHash(z),Ue=this._getHash(ft),sn=ze.map(_e=>this._getHash(_e.name)).sort(),un=me.map(_e=>this._getHash(_e)),ln=Object.keys(Mt).sort(),xn=Object.keys(Ot).sort(),cn=[],Pe=[];for(const _e of ln)cn.push(this._getHash(_e)),cn.push(this._getHash(Mt[_e]));for(const _e of xn)Pe.push(this._getHash(_e)),Pe.push(this._getHash(Ot[_e]));const Qt="".concat(Qe,"/").concat(Ue,"D").concat(cn.join("/"),"M").concat(sn.join("/"),"I").concat(Pe.join("/"),"V").concat(un.join("/"),"H").concat(this.stateHash,"B").concat(ye).concat(xe?"T":"");if(!this._programCache[Qt]){const _e=function re(S,P){const{vs:z,fs:ft}=P,Mt=Z(P.modules||[]);return{gl:S,vs:Me(S,Object.assign({},P,{source:z,type:tt.H,modules:Mt})),fs:Me(S,Object.assign({},P,{source:ft,type:tt.Y,modules:Mt})),getUniforms:le(Mt)}}(this.gl,{vs:z,fs:ft,modules:ze,inject:Ot,defines:Mt,hookFunctions:this._hookFunctions,transpileToGLSL100:xe});this._programCache[Qt]=new At.Z(this.gl,{hash:Qt,vs:_e.vs,fs:_e.fs,varyings:me,bufferMode:ye}),this._getUniforms[Qt]=_e.getUniforms||(Oe=>{}),this._useCounts[Qt]=0}return this._useCounts[Qt]++,this._programCache[Qt]}getUniforms(P){return this._getUniforms[P.hash]||null}release(P){const z=P.hash;this._useCounts[z]--,0===this._useCounts[z]&&(this._programCache[z].delete(),delete this._programCache[z],delete this._getUniforms[z],delete this._useCounts[z])}_getHash(P){return void 0===this._hashes[P]&&(this._hashes[P]=this._hashCounter++),this._hashes[P]}_getModuleList(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const z=new Array(this._defaultModules.length+P.length),ft={};let Mt=0;for(let Ot=0,me=this._defaultModules.length;Ot<me;++Ot){const ye=this._defaultModules[Ot],xe=ye.name;z[Mt++]=ye,ft[xe]=!0}for(let Ot=0,me=P.length;Ot<me;++Ot){const ye=P[Ot],xe=ye.name;ft[xe]||(z[Mt++]=ye,ft[xe]=!0)}return z.length=Mt,z}}},7591:(Xe,se,Y)=>{"use strict";Y.d(se,{KQ:()=>$,JD:()=>ot,s9:()=>vi,JY:()=>en,w:()=>_n,vd:()=>ct,yW:()=>ur,UF:()=>Q,D0:()=>at,cM:()=>J,kL:()=>Oe,aQ:()=>Ji,dR:()=>Qt,s8:()=>We});const J=new(Y(787).Z)({id:"luma.gl"});function F(zt,Yt){if(!zt)throw new Error(Yt||"luma.gl: assertion failed.")}const Z="Invalid WebGLRenderingContext",O="Requires WebGL2";function Q(zt){return typeof WebGLRenderingContext<"u"&&zt instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&zt instanceof WebGL2RenderingContext||Boolean(zt&&Number.isFinite(zt._version))}function at(zt){return typeof WebGL2RenderingContext<"u"&&zt instanceof WebGL2RenderingContext||Boolean(zt&&2===zt._version)}function ct(zt){return at(zt)?zt:null}function ot(zt){return F(Q(zt),Z),zt}function $(zt){return F(at(zt),O),zt}const N={};const W=function zt(Yt){const Be=Yt.gl;this.ext=Yt,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(Yt.maxVertexAttribs);for(let qe=0;qe<this.attribs.length;qe++){const an=new zt.VertexAttrib(Be);this.attribs[qe]=an}this.maxAttrib=0};(W.VertexAttrib=function(Yt){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const it=function(Yt){const Be=this;this.gl=Yt,function et(zt){const Yt=zt.getError;zt.getError=function(){let qe;do{qe=Yt.apply(zt),0!==qe&&(N[qe]=!0)}while(0!==qe);for(qe in N)if(N[qe])return delete N[qe],parseInt(qe,10);return 0}}(Yt);const qe=this.original={getParameter:Yt.getParameter,enableVertexAttribArray:Yt.enableVertexAttribArray,disableVertexAttribArray:Yt.disableVertexAttribArray,bindBuffer:Yt.bindBuffer,getVertexAttrib:Yt.getVertexAttrib,vertexAttribPointer:Yt.vertexAttribPointer};Yt.getParameter=function(Fn){return Fn===Be.VERTEX_ARRAY_BINDING_OES?Be.currentVertexArrayObject===Be.defaultVertexArrayObject?null:Be.currentVertexArrayObject:qe.getParameter.apply(this,arguments)},Yt.enableVertexAttribArray=function(Fn){const ri=Be.currentVertexArrayObject;return ri.maxAttrib=Math.max(ri.maxAttrib,Fn),ri.attribs[Fn].enabled=!0,qe.enableVertexAttribArray.apply(this,arguments)},Yt.disableVertexAttribArray=function(Fn){const ri=Be.currentVertexArrayObject;return ri.maxAttrib=Math.max(ri.maxAttrib,Fn),ri.attribs[Fn].enabled=!1,qe.disableVertexAttribArray.apply(this,arguments)},Yt.bindBuffer=function(Fn,ri){switch(Fn){case 34962:Be.currentArrayBuffer=ri;break;case 34963:Be.currentVertexArrayObject.elementArrayBuffer=ri}return qe.bindBuffer.apply(this,arguments)},Yt.getVertexAttrib=function(Fn,ri){const Vi=Be.currentVertexArrayObject.attribs[Fn];switch(ri){case 34975:return Vi.buffer;case 34338:return Vi.enabled;case 34339:return Vi.size;case 34340:return Vi.stride;case 34341:return Vi.type;case 34922:return Vi.normalized;default:return qe.getVertexAttrib.apply(this,arguments)}},Yt.vertexAttribPointer=function(Fn,ri,Ai,Vi,Ti,bo){const fo=Be.currentVertexArrayObject;fo.maxAttrib=Math.max(fo.maxAttrib,Fn);const Va=fo.attribs[Fn];return Va.buffer=Be.currentArrayBuffer,Va.size=ri,Va.type=Ai,Va.normalized=Vi,Va.stride=Ti,Va.offset=bo,Va.recache(),qe.vertexAttribPointer.apply(this,arguments)},Yt.instrumentExtension&&Yt.instrumentExtension(this,"OES_vertex_array_object"),Yt.canvas&&Yt.canvas.addEventListener("webglcontextrestored",()=>{(function bt(zt){globalThis.console&&globalThis.console.log&&globalThis.console.log(zt)})("OESVertexArrayObject emulation library context restored"),Be.reset_()},!0),this.reset_()};it.prototype.VERTEX_ARRAY_BINDING_OES=34229,it.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let qe=0;qe<this.vertexArrayObjects.length;++qe)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new W(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},it.prototype.createVertexArrayOES=function(){const Yt=new W(this);return this.vertexArrayObjects.push(Yt),Yt},it.prototype.deleteVertexArrayOES=function(Yt){Yt.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(Yt),1),this.currentVertexArrayObject===Yt&&this.bindVertexArrayOES(null)},it.prototype.isVertexArrayOES=function(Yt){return!!(Yt&&Yt instanceof W&&Yt.hasBeenBound&&Yt.ext===this)},it.prototype.bindVertexArrayOES=function(Yt){const Be=this.gl;if(Yt&&!Yt.isAlive)return void function X(zt,Yt){N[zt]=!0,void 0!==Yt&&function U(zt){globalThis.console&&globalThis.console.error&&globalThis.console.error(zt)}(Yt)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const qe=this.original,an=this.currentVertexArrayObject;this.currentVertexArrayObject=Yt||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const Fn=this.currentVertexArrayObject;if(an===Fn)return;(!an||Fn.elementArrayBuffer!==an.elementArrayBuffer)&&qe.bindBuffer.call(Be,34963,Fn.elementArrayBuffer);let ri=this.currentArrayBuffer;const Ai=Math.max(an?an.maxAttrib:0,Fn.maxAttrib);for(let Vi=0;Vi<=Ai;Vi++){const Ti=Fn.attribs[Vi],bo=an?an.attribs[Vi]:null;if((!an||Ti.enabled!==bo.enabled)&&(Ti.enabled?qe.enableVertexAttribArray.call(Be,Vi):qe.disableVertexAttribArray.call(Be,Vi)),Ti.enabled){let fo=!1;(!an||Ti.buffer!==bo.buffer)&&(ri!==Ti.buffer&&(qe.bindBuffer.call(Be,34962,Ti.buffer),ri=Ti.buffer),fo=!0),(fo||Ti.cached!==bo.cached)&&qe.vertexAttribPointer.call(Be,Vi,Ti.size,Ti.type,Ti.normalized,Ti.stride,Ti.offset)}}this.currentArrayBuffer!==ri&&qe.bindBuffer.call(Be,34962,this.currentArrayBuffer)};const lt="OES_element_index",mt="WEBGL_draw_buffers",Pt="WEBGL_debug_renderer_info",vt=zt=>at(zt)?void 0:0,dt={3074:zt=>at(zt)?void 0:36064,35723:zt=>at(zt)?void 0:4352,35977:vt,32937:vt,36795:(zt,Yt)=>{const Be=at(zt)?zt.getExtension("EXT_disjoint_timer_query_webgl2"):zt.getExtension("EXT_disjoint_timer_query");return Be&&Be.GPU_DISJOINT_EXT?Yt(Be.GPU_DISJOINT_EXT):0},37445:(zt,Yt)=>{const Be=zt.getExtension(Pt);return Yt(Be&&Be.UNMASKED_VENDOR_WEBGL||7936)},37446:(zt,Yt)=>{const Be=zt.getExtension(Pt);return Yt(Be&&Be.UNMASKED_RENDERER_WEBGL||7937)},34047:(zt,Yt)=>{const Be=zt.luma.extensions.EXT_texture_filter_anisotropic;return Be?Yt(Be.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:vt,35071:vt,37447:vt,36063:(zt,Yt)=>{if(!at(zt)){const Be=zt.getExtension(mt);return Be?Yt(Be.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:vt,35374:vt,35377:vt,34852:zt=>{if(!at(zt)){const Yt=zt.getExtension(mt);return Yt?Yt.MAX_DRAW_BUFFERS_WEBGL:0}},36203:zt=>zt.getExtension(lt)?2147483647:65535,33001:zt=>zt.getExtension(lt)?16777216:65535,33e3:zt=>16777216,37157:vt,35373:vt,35657:vt,36183:vt,37137:vt,34045:vt,35978:vt,35979:vt,35968:vt,35376:vt,35375:vt,35659:vt,37154:vt,35371:vt,35658:vt,35076:vt,35077:vt,35380:vt},Ft="ANGLE_instanced_arrays",Le={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{F(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[Ft]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(zt,Yt){F(0===Yt,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{F(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{F(!1)},deleteQuery:()=>{F(!1)},beginQuery:()=>{F(!1)},endQuery:()=>{},getQuery(zt,Yt){return this.getQueryObject(zt,Yt)},getQueryParameter(zt,Yt){return this.getQueryObject(zt,Yt)},getQueryObject:()=>{}}},re={readBuffer:(zt,Yt,Be)=>{at(zt)&&Yt(Be)},getVertexAttrib:(zt,Yt,Be,qe)=>{const{webgl2:an,ext:Fn}=function Ne(zt,Yt){return{webgl2:at(zt),ext:zt.getExtension(Yt)}}(zt,Ft);let ri;switch(qe){case 35069:ri=!!an&&void 0;break;case 35070:ri=an||Fn?void 0:0}return void 0!==ri?ri:Yt(Be,qe)},getProgramParameter:(zt,Yt,Be,qe)=>{if(!at(zt))switch(qe){case 35967:return 35981;case 35971:case 35382:return 0}return Yt(Be,qe)},getInternalformatParameter:(zt,Yt,Be,qe,an)=>at(zt)||32937!==an?zt.getInternalformatParameter(Be,qe,an):new Int32Array([0]),getTexParameter(zt,Yt,Be,qe){if(34046===qe){const{extensions:an}=zt.luma,Fn=an.EXT_texture_filter_anisotropic;qe=Fn&&Fn.TEXTURE_MAX_ANISOTROPY_EXT||34046}return Yt(Be,qe)},getParameter:function _t(zt,Yt,Be){const qe=dt[Be],an="function"==typeof qe?qe(zt,Yt,Be):qe;return void 0!==an?an:Yt(Be)},hint:(zt,Yt,Be,qe)=>Yt(Be,qe)};function jt(zt,Yt){let{extension:Be,target:qe,target2:an}=Yt;const Fn=Le[Be];F(Fn);const{meta:ri={}}=Fn,{suffix:Ai=""}=ri,Vi=zt.getExtension(Be);for(const Ti of Object.keys(Fn)){const bo="".concat(Ti).concat(Ai);let fo=null;"meta"===Ti||"function"==typeof zt[Ti]||(Vi&&"function"==typeof Vi[bo]?fo=function(){return Vi[bo](...arguments)}:"function"==typeof Fn[Ti]&&(fo=Fn[Ti].bind(qe))),fo&&(qe[Ti]=fo,an[Ti]=fo)}}globalThis.polyfillContext=function Me(zt){zt.luma=zt.luma||{};const{luma:Yt}=zt;return Yt.polyfilled||(function V(zt){if("function"==typeof zt.createVertexArray)return;const Yt=zt.getSupportedExtensions;zt.getSupportedExtensions=function(){const an=Yt.call(this)||[];return an.indexOf("OES_vertex_array_object")<0&&an.push("OES_vertex_array_object"),an};const Be=zt.getExtension;zt.getExtension=function(an){return Be.call(this,an)||("OES_vertex_array_object"!==an?null:(zt.__OESVertexArrayObject||(this.__OESVertexArrayObject=new it(this)),this.__OESVertexArrayObject))}}(zt),function le(zt){zt.luma.extensions={};const Yt=zt.getSupportedExtensions()||[];for(const Be of Yt)zt.luma[Be]=zt.getExtension(Be)}(zt),function Ht(zt,Yt){for(const Be of Object.getOwnPropertyNames(Yt))"overrides"!==Be&&jt(zt,{extension:Be,target:zt.luma,target2:zt})}(zt,Le),function Dt(zt,Yt){let{target:Be,target2:qe}=Yt;Object.keys(re).forEach(an=>{if("function"==typeof re[an]){const Fn=zt[an]?zt[an].bind(zt):()=>{},ri=re[an].bind(null,zt,Fn);Be[an]=ri,qe[an]=ri}})}(zt,{target:Yt,target2:zt}),Yt.polyfilled=!0),zt};const Ut={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},gt=(zt,Yt,Be)=>Yt?zt.enable(Be):zt.disable(Be),At=(zt,Yt,Be)=>zt.hint(Be,Yt),St=(zt,Yt,Be)=>zt.pixelStorei(Be,Yt);function z(zt){return Array.isArray(zt)||ArrayBuffer.isView(zt)}const ft={3042:gt,32773:(zt,Yt)=>zt.blendColor(...Yt),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(zt,Yt)=>zt.clearColor(...Yt),3107:(zt,Yt)=>zt.colorMask(...Yt),2884:gt,2885:(zt,Yt)=>zt.cullFace(Yt),2929:gt,2931:(zt,Yt)=>zt.clearDepth(Yt),2932:(zt,Yt)=>zt.depthFunc(Yt),2928:(zt,Yt)=>zt.depthRange(...Yt),2930:(zt,Yt)=>zt.depthMask(Yt),3024:gt,35723:At,36006:(zt,Yt)=>{const Be=at(zt)?36009:36160;return zt.bindFramebuffer(Be,Yt)},2886:(zt,Yt)=>zt.frontFace(Yt),33170:At,2849:(zt,Yt)=>zt.lineWidth(Yt),32823:gt,32824:"polygonOffset",10752:"polygonOffset",35977:gt,32938:"sampleCoverage",32939:"sampleCoverage",3089:gt,3088:(zt,Yt)=>zt.scissor(...Yt),2960:gt,2961:(zt,Yt)=>zt.clearStencil(Yt),2968:(zt,Yt)=>zt.stencilMaskSeparate(1028,Yt),36005:(zt,Yt)=>zt.stencilMaskSeparate(1029,Yt),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(zt,Yt)=>zt.viewport(...Yt),3333:St,3317:St,37440:St,37441:St,37443:St,3330:St,3332:St,3331:St,36010:(zt,Yt)=>zt.bindFramebuffer(36008,Yt),3314:St,32878:St,3316:St,3315:St,32877:St,framebuffer:(zt,Yt)=>zt.bindFramebuffer(36160,Yt&&"handle"in Yt?Yt.handle:Yt),blend:(zt,Yt)=>Yt?zt.enable(3042):zt.disable(3042),blendColor:(zt,Yt)=>zt.blendColor(...Yt),blendEquation:(zt,Yt)=>{Yt=z(Yt)?Yt:[Yt,Yt],zt.blendEquationSeparate(...Yt)},blendFunc:(zt,Yt)=>{Yt=z(Yt)&&2===Yt.length?[...Yt,...Yt]:Yt,zt.blendFuncSeparate(...Yt)},clearColor:(zt,Yt)=>zt.clearColor(...Yt),clearDepth:(zt,Yt)=>zt.clearDepth(Yt),clearStencil:(zt,Yt)=>zt.clearStencil(Yt),colorMask:(zt,Yt)=>zt.colorMask(...Yt),cull:(zt,Yt)=>Yt?zt.enable(2884):zt.disable(2884),cullFace:(zt,Yt)=>zt.cullFace(Yt),depthTest:(zt,Yt)=>Yt?zt.enable(2929):zt.disable(2929),depthFunc:(zt,Yt)=>zt.depthFunc(Yt),depthMask:(zt,Yt)=>zt.depthMask(Yt),depthRange:(zt,Yt)=>zt.depthRange(...Yt),dither:(zt,Yt)=>Yt?zt.enable(3024):zt.disable(3024),derivativeHint:(zt,Yt)=>{zt.hint(35723,Yt)},frontFace:(zt,Yt)=>zt.frontFace(Yt),mipmapHint:(zt,Yt)=>zt.hint(33170,Yt),lineWidth:(zt,Yt)=>zt.lineWidth(Yt),polygonOffsetFill:(zt,Yt)=>Yt?zt.enable(32823):zt.disable(32823),polygonOffset:(zt,Yt)=>zt.polygonOffset(...Yt),sampleCoverage:(zt,Yt)=>zt.sampleCoverage(...Yt),scissorTest:(zt,Yt)=>Yt?zt.enable(3089):zt.disable(3089),scissor:(zt,Yt)=>zt.scissor(...Yt),stencilTest:(zt,Yt)=>Yt?zt.enable(2960):zt.disable(2960),stencilMask:(zt,Yt)=>{Yt=z(Yt)?Yt:[Yt,Yt];const[Be,qe]=Yt;zt.stencilMaskSeparate(1028,Be),zt.stencilMaskSeparate(1029,qe)},stencilFunc:(zt,Yt)=>{Yt=z(Yt)&&3===Yt.length?[...Yt,...Yt]:Yt;const[Be,qe,an,Fn,ri,Ai]=Yt;zt.stencilFuncSeparate(1028,Be,qe,an),zt.stencilFuncSeparate(1029,Fn,ri,Ai)},stencilOp:(zt,Yt)=>{Yt=z(Yt)&&3===Yt.length?[...Yt,...Yt]:Yt;const[Be,qe,an,Fn,ri,Ai]=Yt;zt.stencilOpSeparate(1028,Be,qe,an),zt.stencilOpSeparate(1029,Fn,ri,Ai)},viewport:(zt,Yt)=>zt.viewport(...Yt)};function Mt(zt,Yt,Be){return void 0!==Yt[zt]?Yt[zt]:Be[zt]}const Ot={blendEquation:(zt,Yt,Be)=>zt.blendEquationSeparate(Mt(32777,Yt,Be),Mt(34877,Yt,Be)),blendFunc:(zt,Yt,Be)=>zt.blendFuncSeparate(Mt(32969,Yt,Be),Mt(32968,Yt,Be),Mt(32971,Yt,Be),Mt(32970,Yt,Be)),polygonOffset:(zt,Yt,Be)=>zt.polygonOffset(Mt(32824,Yt,Be),Mt(10752,Yt,Be)),sampleCoverage:(zt,Yt,Be)=>zt.sampleCoverage(Mt(32938,Yt,Be),Mt(32939,Yt,Be)),stencilFuncFront:(zt,Yt,Be)=>zt.stencilFuncSeparate(1028,Mt(2962,Yt,Be),Mt(2967,Yt,Be),Mt(2963,Yt,Be)),stencilFuncBack:(zt,Yt,Be)=>zt.stencilFuncSeparate(1029,Mt(34816,Yt,Be),Mt(36003,Yt,Be),Mt(36004,Yt,Be)),stencilOpFront:(zt,Yt,Be)=>zt.stencilOpSeparate(1028,Mt(2964,Yt,Be),Mt(2965,Yt,Be),Mt(2966,Yt,Be)),stencilOpBack:(zt,Yt,Be)=>zt.stencilOpSeparate(1029,Mt(34817,Yt,Be),Mt(34818,Yt,Be),Mt(34819,Yt,Be))},me={enable:(zt,Yt)=>zt({[Yt]:!0}),disable:(zt,Yt)=>zt({[Yt]:!1}),pixelStorei:(zt,Yt,Be)=>zt({[Yt]:Be}),hint:(zt,Yt,Be)=>zt({[Yt]:Be}),bindFramebuffer:(zt,Yt,Be)=>{switch(Yt){case 36160:return zt({36006:Be,36010:Be});case 36009:return zt({36006:Be});case 36008:return zt({36010:Be});default:return null}},blendColor:(zt,Yt,Be,qe,an)=>zt({32773:new Float32Array([Yt,Be,qe,an])}),blendEquation:(zt,Yt)=>zt({32777:Yt,34877:Yt}),blendEquationSeparate:(zt,Yt,Be)=>zt({32777:Yt,34877:Be}),blendFunc:(zt,Yt,Be)=>zt({32969:Yt,32968:Be,32971:Yt,32970:Be}),blendFuncSeparate:(zt,Yt,Be,qe,an)=>zt({32969:Yt,32968:Be,32971:qe,32970:an}),clearColor:(zt,Yt,Be,qe,an)=>zt({3106:new Float32Array([Yt,Be,qe,an])}),clearDepth:(zt,Yt)=>zt({2931:Yt}),clearStencil:(zt,Yt)=>zt({2961:Yt}),colorMask:(zt,Yt,Be,qe,an)=>zt({3107:[Yt,Be,qe,an]}),cullFace:(zt,Yt)=>zt({2885:Yt}),depthFunc:(zt,Yt)=>zt({2932:Yt}),depthRange:(zt,Yt,Be)=>zt({2928:new Float32Array([Yt,Be])}),depthMask:(zt,Yt)=>zt({2930:Yt}),frontFace:(zt,Yt)=>zt({2886:Yt}),lineWidth:(zt,Yt)=>zt({2849:Yt}),polygonOffset:(zt,Yt,Be)=>zt({32824:Yt,10752:Be}),sampleCoverage:(zt,Yt,Be)=>zt({32938:Yt,32939:Be}),scissor:(zt,Yt,Be,qe,an)=>zt({3088:new Int32Array([Yt,Be,qe,an])}),stencilMask:(zt,Yt)=>zt({2968:Yt,36005:Yt}),stencilMaskSeparate:(zt,Yt,Be)=>zt({[1028===Yt?2968:36005]:Be}),stencilFunc:(zt,Yt,Be,qe)=>zt({2962:Yt,2967:Be,2963:qe,34816:Yt,36003:Be,36004:qe}),stencilFuncSeparate:(zt,Yt,Be,qe,an)=>zt({[1028===Yt?2962:34816]:Be,[1028===Yt?2967:36003]:qe,[1028===Yt?2963:36004]:an}),stencilOp:(zt,Yt,Be,qe)=>zt({2964:Yt,2965:Be,2966:qe,34817:Yt,34818:Be,34819:qe}),stencilOpSeparate:(zt,Yt,Be,qe,an)=>zt({[1028===Yt?2964:34817]:Be,[1028===Yt?2965:34818]:qe,[1028===Yt?2966:34819]:an}),viewport:(zt,Yt,Be,qe,an)=>zt({2978:[Yt,Be,qe,an]})},ye=(zt,Yt)=>zt.isEnabled(Yt),xe={3042:ye,2884:ye,2929:ye,3024:ye,32823:ye,32926:ye,32928:ye,3089:ye,2960:ye,35977:ye};function ze(zt){for(const Yt in zt)return!1;return!0}function Qe(zt,Yt){if(zt===Yt)return!0;const Be=Array.isArray(zt)||ArrayBuffer.isView(zt),qe=Array.isArray(Yt)||ArrayBuffer.isView(Yt);if(Be&&qe&&zt.length===Yt.length){for(let an=0;an<zt.length;++an)if(zt[an]!==Yt[an])return!1;return!0}return!1}function Ue(zt,Yt){const Be=zt[Yt].bind(zt);zt[Yt]=function(){const an=arguments.length<=0?void 0:arguments[0];return an in zt.state.cache&&zt.state.enable?zt.state.cache[an]:Be(...arguments)},Object.defineProperty(zt[Yt],"name",{value:"".concat(Yt,"-from-cache"),configurable:!1})}function sn(zt,Yt,Be){const qe=zt[Yt].bind(zt);zt[Yt]=function(){for(var Fn=arguments.length,ri=new Array(Fn),Ai=0;Ai<Fn;Ai++)ri[Ai]=arguments[Ai];const{valueChanged:Vi,oldValue:Ti}=Be(zt.state._updateCache,...ri);return Vi&&qe(...ri),Ti},Object.defineProperty(zt[Yt],"name",{value:"".concat(Yt,"-to-cache"),configurable:!1})}class ln{constructor(Yt){let{copyState:Be=!1,log:qe=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=Yt,this.program=null,this.stateStack=[],this.enable=!0,this.cache=Be?function _e(zt,Yt){if("number"==typeof(Yt=Yt||Ut)){const an=Yt,Fn=xe[an];return Fn?Fn(zt,an):zt.getParameter(an)}const Be=Array.isArray(Yt)?Yt:Object.keys(Yt),qe={};for(const an of Be){const Fn=xe[an];qe[an]=Fn?Fn(zt,Number(an)):zt.getParameter(Number(an))}return qe}(Yt):Object.assign({},Ut),this.log=qe,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){F(this.stateStack.length>0),Qt(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(Yt){let qe,Be=!1;const an=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const Fn in Yt){F(void 0!==Fn);const ri=Yt[Fn],Ai=this.cache[Fn];Qe(ri,Ai)||(Be=!0,qe=Ai,an&&!(Fn in an)&&(an[Fn]=Ai),this.cache[Fn]=ri)}return{valueChanged:Be,oldValue:qe}}}function xn(zt){let Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:Be=!0,copyState:qe}=Yt;if(F(void 0!==qe),!zt.state){const{polyfillContext:an}=globalThis;an&&an(zt),zt.state=new ln(zt,{copyState:qe}),function un(zt){const Yt=zt.useProgram.bind(zt);zt.useProgram=function(qe){zt.state.program!==qe&&(Yt(qe),zt.state.program=qe)}}(zt);for(const Fn in me)sn(zt,Fn,me[Fn]);Ue(zt,"getParameter"),Ue(zt,"isEnabled")}return zt.state.enable=Be,zt}function Pe(zt){F(zt.state),zt.state.pop()}function Qt(zt,Yt){if(F(Q(zt),"setParameters requires a WebGL context"),ze(Yt))return;const Be={};for(const an in Yt){const Fn=Number(an),ri=ft[an];ri&&("string"==typeof ri?Be[ri]=!0:ri(zt,Yt[an],Fn))}const qe=zt.state&&zt.state.cache;if(qe)for(const an in Be)(0,Ot[an])(zt,Yt,qe)}function Oe(zt){Qt(zt,Ut)}function We(zt,Yt,Be){if(ze(Yt))return Be(zt);const{nocatch:qe=!0}=Yt;let an;if(function cn(zt){zt.state||xn(zt,{copyState:!1}),zt.state.push()}(zt),Qt(zt,Yt),qe)an=Be(zt),Pe(zt);else try{an=Be(zt)}finally{Pe(zt)}return an}function _n(zt){const{luma:Yt}=zt;if(zt.canvas&&Yt){const{clientWidth:Be}=Yt.canvasSizeInfo;return Be?zt.drawingBufferWidth/Be:1}return 1}function en(zt,Yt){let Be=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function Bt(zt,Yt,Be,qe,an){const Fn=Jt(zt[0],Yt,Be);let ri=Ae(zt[1],Yt,qe,an),Ai=Jt(zt[0]+1,Yt,Be);const Vi=Ai===Be-1?Ai:Ai-1;let Ti;return Ai=Ae(zt[1]+1,Yt,qe,an),an?(Ai=0===Ai?Ai:Ai+1,Ti=ri,ri=Ai):Ti=Ai===qe-1?Ai:Ai-1,{x:Fn,y:ri,width:Math.max(Vi-Fn+1,1),height:Math.max(Ti-ri+1,1)}}(Yt,_n(zt),zt.drawingBufferWidth,zt.drawingBufferHeight,Be)}function Jt(zt,Yt,Be){return Math.min(Math.round(zt*Yt),Be-1)}function Ae(zt,Yt,Be,qe){return qe?Math.max(0,Be-1-Math.round(zt*Yt)):Math.min(Math.round(zt*Yt),Be-1)}const je=(0,Y(25).Z)(),Je=je&&typeof document<"u",An={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function vi(){let zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(je,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),zt=Object.assign({},An,zt);const{width:Yt,height:Be}=zt;function qe(Ai){if(zt.throwOnError)throw new Error(Ai);return console.error(Ai),null}let an;zt.onError=qe;const{canvas:Fn}=zt,ri=function Za(zt){let Fn,{canvas:Yt,width:Be=800,height:qe=600,onError:an}=zt;return"string"==typeof Yt?(Je&&"complete"===document.readyState||an("createGLContext called on canvas '".concat(Yt,"' before page was loaded")),Fn=document.getElementById(Yt)):Yt?Fn=Yt:(Fn=document.createElement("canvas"),Fn.id="lumagl-canvas",Fn.style.width=Number.isFinite(Be)?"".concat(Be,"px"):"100%",Fn.style.height=Number.isFinite(qe)?"".concat(qe,"px"):"100%",document.body.insertBefore(Fn,document.body.firstChild)),Fn}({canvas:Fn,width:Yt,height:Be,onError:qe});return an=function Lo(zt,Yt){const{onError:Be}=Yt;let qe=null;const an=Vi=>qe=Vi.statusMessage||qe;zt.addEventListener("webglcontextcreationerror",an,!1);const{webgl1:Fn=!0,webgl2:ri=!0}=Yt;let Ai=null;return ri&&(Ai=Ai||zt.getContext("webgl2",Yt),Ai=Ai||zt.getContext("experimental-webgl2",Yt)),Fn&&(Ai=Ai||zt.getContext("webgl",Yt),Ai=Ai||zt.getContext("experimental-webgl",Yt)),zt.removeEventListener("webglcontextcreationerror",an,!1),Ai?(Yt.onContextLost&&zt.addEventListener("webglcontextlost",Yt.onContextLost,!1),Yt.onContextRestored&&zt.addEventListener("webglcontextrestored",Yt.onContextRestored,!1),Ai):Be("Failed to create ".concat(ri&&!Fn?"WebGL2":"WebGL"," context: ").concat(qe||"Unknown error"))}(ri,zt),an?(an=ur(an,zt),function Xo(zt){const Yt=at(zt)?"WebGL2":"WebGL1",Be=function Ri(zt){const Yt=zt.getParameter(7936),Be=zt.getParameter(7937),qe=zt.getExtension("WEBGL_debug_renderer_info");return{vendor:qe&&zt.getParameter(qe.UNMASKED_VENDOR_WEBGL||7936)||Yt,renderer:qe&&zt.getParameter(qe.UNMASKED_RENDERER_WEBGL||7937)||Be,vendorMasked:Yt,rendererMasked:Be,version:zt.getParameter(7938),shadingLanguageVersion:zt.getParameter(35724)}}(zt),qe=Be?"(".concat(Be.vendor,",").concat(Be.renderer,")"):"",an=zt.debug?" debug":"";J.info(1,"".concat(Yt).concat(an," context ").concat(qe))()}(an),an):null}function ur(zt){let Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!zt||zt._instrumented)return zt;zt._version=zt._version||function Bi(zt){return typeof WebGL2RenderingContext<"u"&&zt instanceof WebGL2RenderingContext?2:1}(zt),zt.luma=zt.luma||{},zt.luma.canvasSizeInfo=zt.luma.canvasSizeInfo||{},Yt=Object.assign({},An,Yt);const{manageState:Be,debug:qe}=Yt;return Be&&xn(zt,{copyState:!1,log:function(){for(var an=arguments.length,Fn=new Array(an),ri=0;ri<an;ri++)Fn[ri]=arguments[ri];return J.log(1,...Fn)()}}),je&&qe&&(globalThis.makeDebugContext?(zt=globalThis.makeDebugContext(zt,Yt),J.level=Math.max(J.level,1)):J.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),zt._instrumented=!0,zt}function Ji(zt){let Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(zt.canvas){const qe=function yn(zt){const Yt=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(zt)?zt<=0?1:zt:zt?Yt:1}(Yt.useDevicePixels);return void function ua(zt,Yt,Be){let qe="width"in Be?Be.width:zt.canvas.clientWidth,an="height"in Be?Be.height:zt.canvas.clientHeight;(!qe||!an)&&(J.log(1,"Canvas clientWidth/clientHeight is 0")(),Yt=1,qe=zt.canvas.width||1,an=zt.canvas.height||1),zt.luma=zt.luma||{},zt.luma.canvasSizeInfo=zt.luma.canvasSizeInfo||{};const Fn=zt.luma.canvasSizeInfo;if(Fn.clientWidth!==qe||Fn.clientHeight!==an||Fn.devicePixelRatio!==Yt){let ri=Yt;const Ai=Math.floor(qe*ri),Vi=Math.floor(an*ri);zt.canvas.width=Ai,zt.canvas.height=Vi,(zt.drawingBufferWidth!==Ai||zt.drawingBufferHeight!==Vi)&&(J.warn("Device pixel ratio clamped")(),ri=Math.min(zt.drawingBufferWidth/qe,zt.drawingBufferHeight/an),zt.canvas.width=Math.floor(qe*ri),zt.canvas.height=Math.floor(an*ri)),Object.assign(zt.luma.canvasSizeInfo,{clientWidth:qe,clientHeight:an,devicePixelRatio:Yt})}}(zt,qe,Yt)}const Be=zt.getExtension("STACKGL_resize_drawingbuffer");Be&&"width"in Yt&&"height"in Yt&&Be.resize(Yt.width,Yt.height)}},6153:(Xe,se,Y)=>{"use strict";Y.d(se,{H:()=>tt,Y:()=>J});const tt="vs",J="fs"},618:(Xe,se,Y)=>{"use strict";Y.d(se,{O_:()=>O,Lm:()=>$,ZP:()=>ot});var F=Y(6153),Z=Y(1012);const G={[F.H]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[F.Y]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},O="__LUMA_INJECT_DECLARATIONS__",Q=/void\s+main\s*\([^)]*\)\s*\{\n?/,at=/}\n?[^{}]*$/,ct=[];function ot(N,U,bt){let X=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const et=U===F.H;for(const W in bt){const it=bt[W];it.sort((lt,mt)=>lt.order-mt.order),ct.length=it.length;for(let lt=0,mt=it.length;lt<mt;++lt)ct[lt]=it[lt].injection;const V="".concat(ct.join("\n"),"\n");switch(W){case"vs:#decl":et&&(N=N.replace(O,V));break;case"vs:#main-start":et&&(N=N.replace(Q,lt=>lt+V));break;case"vs:#main-end":et&&(N=N.replace(at,lt=>V+lt));break;case"fs:#decl":et||(N=N.replace(O,V));break;case"fs:#main-start":et||(N=N.replace(Q,lt=>lt+V));break;case"fs:#main-end":et||(N=N.replace(at,lt=>V+lt));break;default:N=N.replace(W,lt=>lt+V)}}return N=N.replace(O,""),X&&(N=N.replace(/\}\s*$/,W=>W+G[U])),N}function $(N){const U={};return(0,Z.Z)(Array.isArray(N)&&N.length>1),N.forEach(bt=>{for(const X in bt)U[X]=U[X]?"".concat(U[X],"\n").concat(bt[X]):bt[X]}),U}},419:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>at,v:()=>ct});var tt=Y(1012);const J={number:{validate:($,N)=>Number.isFinite($)&&(!("max"in N)||$<=N.max)&&(!("min"in N)||$>=N.min)},array:{validate:($,N)=>Array.isArray($)||ArrayBuffer.isView($)}};function Z($){let N=G($);return"object"===N?$?"type"in $?Object.assign({},$,J[$.type]):"value"in $?(N=G($.value),Object.assign({type:N},$,J[N])):{type:"object",value:$}:{type:"object",value:null}:Object.assign({type:N,value:$},J[N])}function G($){return Array.isArray($)||ArrayBuffer.isView($)?"array":typeof $}class at{constructor(N){let{name:U,vs:bt,fs:X,dependencies:et=[],uniforms:W,getUniforms:it,deprecations:V=[],defines:lt={},inject:mt={},vertexShader:Ct,fragmentShader:wt}=N;(0,tt.Z)("string"==typeof U),this.name=U,this.vs=bt||Ct,this.fs=X||wt,this.getModuleUniforms=it,this.dependencies=et,this.deprecations=this._parseDeprecationDefinitions(V),this.defines=lt,this.injections=function ot($){const N={vs:{},fs:{}};for(const U in $){let bt=$[U];"string"==typeof bt&&(bt={order:0,injection:bt}),N[U.slice(0,2)][U]=bt}return N}(mt),W&&(this.uniforms=function F($){const N={};for(const U in $){const X=Z($[U]);N[U]=X}return N}(W))}getModuleSource(N){let U;switch(N){case"vs":U=this.vs||"";break;case"fs":U=this.fs||"";break;default:(0,tt.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(U,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(N,U){return this.getModuleUniforms?this.getModuleUniforms(N,U):this.uniforms?this._defaultGetUniforms(N):{}}getDefines(){return this.defines}checkDeprecations(N,U){this.deprecations.forEach(bt=>{bt.regex.test(N)&&(bt.deprecated?U.deprecated(bt.old,bt.new)():U.removed(bt.old,bt.new)())})}_parseDeprecationDefinitions(N){return N.forEach(U=>{U.regex="function"===U.type?new RegExp("\\b".concat(U.old,"\\(")):new RegExp("".concat(U.type," ").concat(U.old,";"))}),N}_defaultGetUniforms(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const U={},bt=this.uniforms;for(const X in bt){const et=bt[X];X in N&&!et.private?(et.validate&&(0,tt.Z)(et.validate(N[X],et),"".concat(this.name,": invalid ").concat(X)),U[X]=N[X]):U[X]=et.value}return U}}function ct($){if(!$.normalized&&($.normalized=!0,$.uniforms&&!$.getUniforms)){const N=new at($);$.getUniforms=N.getUniforms.bind(N)}return $}},8203:(Xe,se,Y)=>{"use strict";Y.d(se,{N:()=>$,s:()=>N});const tt="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",J={lightSources:{}};function F(){let{color:U=[0,0,0],intensity:bt=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U.map(X=>X*bt/255)}const O={name:"lights",vs:tt,fs:tt,getUniforms:function G(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;if("lightSources"in U){const{ambientLight:bt,pointLights:X,directionalLights:et}=U.lightSources||{};return bt||X&&X.length>0||et&&et.length>0?Object.assign({},function Z(U){let{ambientLight:bt,pointLights:X=[],directionalLights:et=[]}=U;const W={};return W["lighting_uAmbientLight.color"]=bt?F(bt):[0,0,0],X.forEach((it,V)=>{W["lighting_uPointLight[".concat(V,"].color")]=F(it),W["lighting_uPointLight[".concat(V,"].position")]=it.position,W["lighting_uPointLight[".concat(V,"].attenuation")]=it.attenuation||[1,0,0]}),W.lighting_uPointLightCount=X.length,et.forEach((it,V)=>{W["lighting_uDirectionalLight[".concat(V,"].color")]=F(it),W["lighting_uDirectionalLight[".concat(V,"].direction")]=it.direction}),W.lighting_uDirectionalLightCount=et.length,W}({ambientLight:bt,pointLights:X,directionalLights:et}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in U){const bt={pointLights:[],directionalLights:[]};for(const X of U.lights||[])switch(X.type){case"ambient":bt.ambientLight=X;break;case"directional":bt.directionalLights.push(X);break;case"point":bt.pointLights.push(X)}return G({lightSources:bt})}return{}},defines:{MAX_LIGHTS:3}},Q="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",at={};function ot(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;if(!("material"in U))return{};const{material:bt}=U;return bt?function ct(U){const{ambient:bt=.35,diffuse:X=.6,shininess:et=32,specularColor:W=[30,30,30]}=U;return{lighting_uAmbient:bt,lighting_uDiffuse:X,lighting_uShininess:et,lighting_uSpecularColor:W.map(it=>it/255)}}(bt):{lighting_uEnabled:!1}}const $={name:"gouraud-lighting",dependencies:[O],vs:Q,defines:{LIGHTING_VERTEX:1},getUniforms:ot},N={name:"phong-lighting",dependencies:[O],fs:Q,defines:{LIGHTING_FRAGMENT:1},getUniforms:ot}},1012:(Xe,se,Y)=>{"use strict";function tt(J,F){if(!J)throw new Error(F||"shadertools: assertion failed.")}Y.d(se,{Z:()=>tt})},2563:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>O});var tt=Y(8355),J=Y(659),F=Y(5877);const Z={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},G={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class O{static getBytesPerElement(at){return(0,tt.vN)(at.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(at){return(0,J.h)(at.size),(0,tt.vN)(at.type||5126).BYTES_PER_ELEMENT*at.size}static resolve(){for(var at=arguments.length,ct=new Array(at),ot=0;ot<at;ot++)ct[ot]=arguments[ot];return new O(Z,...ct)}constructor(){for(var at=arguments.length,ct=new Array(at),ot=0;ot<at;ot++)ct[ot]=arguments[ot];ct.forEach($=>this._assign($)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return O.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return O.getBytesPerVertex(this)}_assign(){let at=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return at=(0,F.k)("Accessor",at,G),void 0!==at.type&&(this.type=at.type,(5124===at.type||5125===at.type)&&(this.integer=!0)),void 0!==at.size&&(this.size=at.size),void 0!==at.offset&&(this.offset=at.offset),void 0!==at.stride&&(this.stride=at.stride),void 0!==at.normalized&&(this.normalized=at.normalized),void 0!==at.integer&&(this.integer=at.integer),void 0!==at.divisor&&(this.divisor=at.divisor),void 0!==at.buffer&&(this.buffer=at.buffer),void 0!==at.index&&(this.index="boolean"==typeof at.index?at.index?1:0:at.index),void 0!==at.instanced&&(this.divisor=at.instanced?1:0),void 0!==at.isInstanced&&(this.divisor=at.isInstanced?1:0),this}}},8775:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>$});var tt=Y(6729),J=Y(2563),F=Y(8355),Z=Y(7591),G=Y(659),O=Y(5877);const at={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},ct={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:at},ot={removedProps:at};class $ extends tt.Z{get[Symbol.toStringTag](){return"Buffer"}constructor(U){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(U,bt),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=bt.target||(this.gl.webgl2?36662:34962),this.initialize(bt),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/J.Z.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/J.Z.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(U)&&(U={data:U}),Number.isFinite(U)&&(U={byteLength:U}),U=(0,O.k)("Buffer",U,ct),this.usage=U.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},U,U.accessor)),U.data?this._setData(U.data,U.offset,U.byteLength):this._setByteLength(U.byteLength||0),this}setProps(U){return"accessor"in(U=(0,O.k)("Buffer",U,ot))&&this.setAccessor(U.accessor),this}setAccessor(U){return delete(U=Object.assign({},U)).buffer,this.accessor=new J.Z(U),this}reallocate(U){return U>this.byteLength?(this._setByteLength(U),!0):(this.bytesUsed=U,!1)}setData(U){return this.initialize(U)}subData(U){ArrayBuffer.isView(U)&&(U={data:U});const{data:bt,offset:X=0,srcOffset:et=0}=U,W=U.byteLength||U.length;(0,G.h)(bt);const it=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(it,this.handle),0!==et||void 0!==W?((0,Z.KQ)(this.gl),this.gl.bufferSubData(this.target,X,bt,et,W)):this.gl.bufferSubData(it,X,bt),this.gl.bindBuffer(it,null),this.debugData=null,this._inferType(bt),this}copyData(U){let{sourceBuffer:bt,readOffset:X=0,writeOffset:et=0,size:W}=U;const{gl:it}=this;return(0,Z.KQ)(it),it.bindBuffer(36662,bt.handle),it.bindBuffer(36663,this.handle),it.copyBufferSubData(36662,36663,X,et,W),it.bindBuffer(36662,null),it.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:U=null,srcByteOffset:bt=0,dstOffset:X=0,length:et=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Z.KQ)(this.gl);const W=(0,F.vN)(this.accessor.type||5126,{clamped:!1}),it=this._getAvailableElementCount(bt),V=X;let lt,mt;U?(mt=U.length,lt=mt-V):(lt=Math.min(it,et||it),mt=V+lt);const Ct=Math.min(it,lt);return et=et||Ct,(0,G.h)(et<=Ct),U=U||new W(mt),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,bt,U,X,et),this.gl.bindBuffer(36662,null),U}bind(){let{target:U=this.target,index:bt=this.accessor&&this.accessor.index,offset:X=0,size:et}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===U||35982===U?void 0!==et?this.gl.bindBufferRange(U,bt,this.handle,X,et):((0,G.h)(0===X),this.gl.bindBufferBase(U,bt,this.handle)):this.gl.bindBuffer(U,this.handle),this}unbind(){let{target:U=this.target,index:bt=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===U||35982===U?this.gl.bindBufferBase(U,bt,null):this.gl.bindBuffer(U,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(U){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U.byteLength+bt;(0,G.h)(ArrayBuffer.isView(U)),this._trackDeallocatedMemory();const et=this._getTarget();this.gl.bindBuffer(et,this.handle),this.gl.bufferData(et,X,this.usage),this.gl.bufferSubData(et,bt,U),this.gl.bindBuffer(et,null),this.debugData=U.slice(0,10),this.bytesUsed=X,this._trackAllocatedMemory(X);const W=(0,F.O)(U);return(0,G.h)(W),this.setAccessor(new J.Z(this.accessor,{type:W})),this}_setByteLength(U){let bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,G.h)(U>=0),this._trackDeallocatedMemory();let X=U;0===U&&(X=new Float32Array(0));const et=this._getTarget();return this.gl.bindBuffer(et,this.handle),this.gl.bufferData(et,X,bt),this.gl.bindBuffer(et,null),this.usage=bt,this.debugData=null,this.bytesUsed=U,this._trackAllocatedMemory(U),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(U){const X=U/(0,F.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-X}_inferType(U){this.accessor.type||this.setAccessor(new J.Z(this.accessor,{type:(0,F.O)(U)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(U){this.gl.bindBuffer(this.target,this.handle);const bt=this.gl.getBufferParameter(this.target,U);return this.gl.bindBuffer(this.target,null),bt}get type(){return Z.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Z.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(U){return Z.cM.deprecated("setByteLength","reallocate")(),this.reallocate(U)}updateAccessor(U){return Z.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new J.Z(this.accessor,U),this}}},7605:(Xe,se,Y)=>{"use strict";Y.d(se,{$:()=>N,Z:()=>$});var tt=Y(7591),J=Y(659);const F=256,Z=1024,G=16384,O=6144,Q=6145,at=6146,ct=34041,ot="clear: bad arguments";function $(U){let{framebuffer:bt=null,color:X=null,depth:et=null,stencil:W=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const it={};bt&&(it.framebuffer=bt);let V=0;X&&(V|=G,!0!==X&&(it.clearColor=X)),et&&(V|=F,!0!==et&&(it.clearDepth=et)),W&&(V|=Z,!0!==et&&(it.clearStencil=et)),(0,J.h)(0!==V,ot),(0,tt.s8)(U,it,()=>{U.clear(V)})}function N(U){let{framebuffer:bt=null,buffer:X=O,drawBuffer:et=0,value:W=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,tt.KQ)(U),(0,tt.s8)(U,{framebuffer:bt},()=>{switch(X){case O:switch(W.constructor){case Int32Array:U.clearBufferiv(X,et,W);break;case Uint32Array:U.clearBufferuiv(X,et,W);break;case Float32Array:default:U.clearBufferfv(X,et,W)}break;case Q:U.clearBufferfv(Q,0,[W]);break;case at:U.clearBufferiv(at,0,[W]);break;case ct:const[it,V]=W;U.clearBufferfi(ct,0,it,V);break;default:(0,J.h)(!1,ot)}})}},1507:(Xe,se,Y)=>{"use strict";Y.d(se,{Km:()=>$,Lv:()=>U,z6:()=>ct});var tt=Y(2778),J=Y(7995),F=Y(7591),Z=Y(8355),G=Y(659),at=Y(8100);function ct(W){let it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:V=0,sourceY:lt=0,sourceFormat:mt=6408}=it;let{sourceAttachment:Ct=36064,target:wt=null,sourceWidth:q,sourceHeight:Pt,sourceType:Tt}=it;const{framebuffer:It,deleteFramebuffer:ut}=X(W);(0,G.h)(It);const{gl:ae,handle:ce,attachments:Et}=It;q=q||It.width,Pt=Pt||It.height,36064===Ct&&null===ce&&(Ct=1028),(0,G.h)(Et[Ct]),Tt=Tt||Et[Ct].type,wt=function et(W,it,V,lt,mt){if(W)return W;const Ct=(0,Z.vN)(it=it||5121,{clamped:!1}),wt=function O(W){switch(W){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,G.h)(!1),0}}(V);return new Ct(lt*mt*wt)}(wt,Tt,mt,q,Pt),Tt=Tt||(0,Z.O)(wt);const vt=ae.bindFramebuffer(36160,ce);return ae.readPixels(V,lt,q,Pt,mt,Tt,wt),ae.bindFramebuffer(36160,vt||null),ut&&It.delete(),wt}function $(W){let{sourceAttachment:it=36064,targetMaxHeight:V=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},lt=ct(W,{sourceAttachment:it}),{width:mt,height:Ct}=W;for(;Ct>V;)({data:lt,width:mt,height:Ct}=(0,Z.KS)({data:lt,width:mt,height:Ct}));(0,Z.c$)({data:lt,width:mt,height:Ct});const wt=document.createElement("canvas");wt.width=mt,wt.height=Ct;const q=wt.getContext("2d"),Pt=q.createImageData(mt,Ct);return Pt.data.set(lt),q.putImageData(Pt,0,0),wt.toDataURL()}function U(W,it){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:lt=0,sourceY:mt=0,targetMipmaplevel:Ct=0,targetInternalFormat:wt=6408}=V;let{targetX:q,targetY:Pt,targetZ:Tt,width:It,height:ut}=V;const{framebuffer:ae,deleteFramebuffer:ce}=X(W);(0,G.h)(ae);const{gl:Et,handle:vt}=ae,dt=typeof q<"u"||typeof Pt<"u"||typeof Tt<"u";q=q||0,Pt=Pt||0,Tt=Tt||0;const _t=Et.bindFramebuffer(36160,vt);(0,G.h)(it);let Zt=null;if(it instanceof J.Z&&(Zt=it,It=Number.isFinite(It)?It:Zt.width,ut=Number.isFinite(ut)?ut:Zt.height,Zt.bind(0),it=Zt.target),dt)switch(it){case 3553:case 34067:Et.copyTexSubImage2D(it,Ct,q,Pt,lt,mt,It,ut);break;case 35866:case 32879:(0,F.KQ)(Et).copyTexSubImage3D(it,Ct,q,Pt,Tt,lt,mt,It,ut)}else Et.copyTexImage2D(it,Ct,wt,lt,mt,It,ut,0);return Zt&&Zt.unbind(),Et.bindFramebuffer(36160,_t||null),ce&&ae.delete(),Zt}function X(W){return W instanceof tt.Z?{framebuffer:W,deleteFramebuffer:!1}:{framebuffer:(0,at.Y)(W),deleteFramebuffer:!0}}},2778:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>$});var tt=Y(7591),J=Y(6729),F=Y(5702),Z=Y(1296),G=Y(7605),O=Y(1507),Q=Y(2378),at=Y(6742),ct=Y(659);const ot="Multiple render targets not supported";class $ extends J.Z{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(et){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:it,colorBufferHalfFloat:V}=W;let lt=!0;return it&&(lt=Boolean(et.getExtension("EXT_color_buffer_float")||et.getExtension("WEBGL_color_buffer_float")||et.getExtension("OES_texture_float"))),V&&(lt=lt&&Boolean(et.getExtension("EXT_color_buffer_float")||et.getExtension("EXT_color_buffer_half_float"))),lt}static getDefaultFramebuffer(et){return et.luma=et.luma||{},et.luma.defaultFramebuffer=et.luma.defaultFramebuffer||new $(et,{id:"default-framebuffer",handle:null,attachments:{}}),et.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const et=(0,tt.KQ)(this.gl);return et.getParameter(et.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const et=(0,tt.KQ)(this.gl);return et.getParameter(et.MAX_DRAW_BUFFERS)}constructor(et){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(et,W),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(W),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(et){let{width:W=1,height:it=1,attachments:V=null,color:lt=!0,depth:mt=!0,stencil:Ct=!1,check:wt=!0,readBuffer:q,drawBuffers:Pt}=et;if((0,ct.h)(W>=0&&it>=0,"Width and height need to be integers"),this.width=W,this.height=it,V)for(const Tt in V){const It=V[Tt];(Array.isArray(It)?It[0]:It).resize({width:W,height:it})}else V=this._createDefaultAttachments(lt,mt,Ct,W,it);this.update({clearAttachments:!0,attachments:V,readBuffer:q,drawBuffers:Pt}),V&&wt&&this.checkStatus()}delete(){for(const et of this.ownResources)et.delete();return super.delete(),this}update(et){let{attachments:W={},readBuffer:it,drawBuffers:V,clearAttachments:lt=!1,resizeAttachments:mt=!0}=et;this.attach(W,{clearAttachments:lt,resizeAttachments:mt});const{gl:Ct}=this,wt=Ct.bindFramebuffer(36160,this.handle);return it&&this._setReadBuffer(it),V&&this._setDrawBuffers(V),Ct.bindFramebuffer(36160,wt||null),this}resize(){let et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:W,height:it}=et;if(null===this.handle)return(0,ct.h)(void 0===W&&void 0===it),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===W&&(W=this.gl.drawingBufferWidth),void 0===it&&(it=this.gl.drawingBufferHeight),W!==this.width&&it!==this.height&&tt.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(W,"x").concat(it))();for(const V in this.attachments)this.attachments[V].resize({width:W,height:it});return this.width=W,this.height=it,this}attach(et){let{clearAttachments:W=!1,resizeAttachments:it=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const V={};W&&Object.keys(this.attachments).forEach(mt=>{V[mt]=null}),Object.assign(V,et);const lt=this.gl.bindFramebuffer(36160,this.handle);for(const mt in V){(0,ct.h)(void 0!==mt,"Misspelled framebuffer binding point?");const Ct=Number(mt),wt=V[Ct];let q=wt;if(q)if(q instanceof Z.Z)this._attachRenderbuffer({attachment:Ct,renderbuffer:q});else if(Array.isArray(wt)){const[Pt,Tt=0,It=0]=wt;q=Pt,this._attachTexture({attachment:Ct,texture:Pt,layer:Tt,level:It})}else this._attachTexture({attachment:Ct,texture:q,layer:0,level:0});else this._unattach(Ct);it&&q&&q.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,lt||null),Object.assign(this.attachments,et),Object.keys(this.attachments).filter(mt=>!this.attachments[mt]).forEach(mt=>{delete this.attachments[mt]})}checkStatus(){const W=this.getStatus();if(36053!==W)throw new Error(function U(X){return($.STATUS||{})[X]||"Framebuffer error ".concat(X)}(W));return this}getStatus(){const{gl:et}=this,W=et.bindFramebuffer(36160,this.handle),it=et.checkFramebufferStatus(36160);return et.bindFramebuffer(36160,W||null),it}clear(){let et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:W,depth:it,stencil:V,drawBuffers:lt=[]}=et,mt=this.gl.bindFramebuffer(36160,this.handle);return(W||it||V)&&(0,G.Z)(this.gl,{color:W,depth:it,stencil:V}),lt.forEach((Ct,wt)=>{(0,G.$)(this.gl,{drawBuffer:wt,value:Ct})}),this.gl.bindFramebuffer(36160,mt||null),this}readPixels(){return tt.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return tt.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return tt.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return tt.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return tt.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return tt.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(et){let{attachments:W=[],x:it=0,y:V=0,width:lt,height:mt}=et;const Ct=(0,tt.KQ)(this.gl),wt=Ct.bindFramebuffer(36008,this.handle);return 0===it&&0===V&&void 0===lt&&void 0===mt?Ct.invalidateFramebuffer(36008,W):Ct.invalidateFramebuffer(36008,W,it,V,lt,mt),Ct.bindFramebuffer(36008,wt),this}getAttachmentParameter(et,W,it){let V=this._getAttachmentParameterFallback(W);return null===V&&(this.gl.bindFramebuffer(36160,this.handle),V=this.gl.getFramebufferAttachmentParameter(36160,et,W),this.gl.bindFramebuffer(36160,null)),it&&V>1e3&&(V=(0,at.km)(this.gl,V)),V}getAttachmentParameters(){let et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,W=arguments.length>1?arguments[1]:void 0,it=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const V={};for(const lt of it)V[W?(0,at.km)(this.gl,lt):lt]=this.getAttachmentParameter(et,lt,W);return V}getParameters(){let et=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const W=Object.keys(this.attachments),it={};for(const V of W){const lt=Number(V);it[et?(0,at.km)(this.gl,lt):lt]=this.getAttachmentParameters(lt,et)}return it}show(){return typeof window<"u"&&window.open((0,O.Km)(this),"luma-debug-texture"),this}log(){let et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(et>tt.cM.level||typeof window>"u")return this;W=W||"Framebuffer ".concat(this.id);const it=(0,O.Km)(this,{targetMaxHeight:100});return tt.cM.image({logLevel:et,message:W,image:it},W)(),this}bind(){let{target:et=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(et,this.handle),this}unbind(){let{target:et=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(et,null),this}_createDefaultAttachments(et,W,it,V,lt){let mt=null;return et&&(mt=mt||{},mt[36064]=new F.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:V,height:lt,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(mt[36064])),W&&it?(mt=mt||{},mt[33306]=new Z.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:V,height:111}),this.ownResources.push(mt[33306])):W?(mt=mt||{},mt[36096]=new Z.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:V,height:lt}),this.ownResources.push(mt[36096])):it&&(0,ct.h)(!1),mt}_unattach(et){const W=this.attachments[et];W&&(W instanceof Z.Z?this.gl.framebufferRenderbuffer(36160,et,36161,null):this.gl.framebufferTexture2D(36160,et,3553,null,0),delete this.attachments[et])}_attachRenderbuffer(et){let{attachment:W=36064,renderbuffer:it}=et;const{gl:V}=this;V.framebufferRenderbuffer(36160,W,36161,it.handle),this.attachments[W]=it}_attachTexture(et){let{attachment:W=36064,texture:it,layer:V,level:lt}=et;const{gl:mt}=this;switch(mt.bindTexture(it.target,it.handle),it.target){case 35866:case 32879:(0,tt.KQ)(mt).framebufferTextureLayer(36160,W,it.target,lt,V);break;case 34067:const wt=function N(X){return X<34069?X+34069:X}(V);mt.framebufferTexture2D(36160,W,wt,it.handle,lt);break;case 3553:mt.framebufferTexture2D(36160,W,3553,it.handle,lt);break;default:(0,ct.h)(!1,"Illegal texture type")}mt.bindTexture(it.target,null),this.attachments[W]=it}_setReadBuffer(et){const W=(0,tt.vd)(this.gl);W?W.readBuffer(et):(0,ct.h)(36064===et||1029===et,ot),this.readBuffer=et}_setDrawBuffers(et){const{gl:W}=this,it=(0,tt.KQ)(W);if(it)it.drawBuffers(et);else{const V=W.getExtension("WEBGL_draw_buffers");V?V.drawBuffersWEBGL(et):(0,ct.h)(1===et.length&&(36064===et[0]||1029===et[0]),ot)}this.drawBuffers=et}_getAttachmentParameterFallback(et){const W=(0,Q.N$)(this.gl);switch(et){case 36052:return W.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return W.WEBGL2?null:8;case 33297:return W.WEBGL2?null:5125;case 33296:return W.WEBGL2||W.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(et){return this.gl.bindFramebuffer(36160,et)}}$.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},2955:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Ht});var tt=Y(6729),J=Y(7995),F=Y(2778),Z=Y(7591),G=Y(1296),O=Y(659);const Q={5126:wt.bind(null,"uniform1fv",U,1,q),35664:wt.bind(null,"uniform2fv",U,2,q),35665:wt.bind(null,"uniform3fv",U,3,q),35666:wt.bind(null,"uniform4fv",U,4,q),5124:wt.bind(null,"uniform1iv",bt,1,q),35667:wt.bind(null,"uniform2iv",bt,2,q),35668:wt.bind(null,"uniform3iv",bt,3,q),35669:wt.bind(null,"uniform4iv",bt,4,q),35670:wt.bind(null,"uniform1iv",bt,1,q),35671:wt.bind(null,"uniform2iv",bt,2,q),35672:wt.bind(null,"uniform3iv",bt,3,q),35673:wt.bind(null,"uniform4iv",bt,4,q),35674:wt.bind(null,"uniformMatrix2fv",U,4,Pt),35675:wt.bind(null,"uniformMatrix3fv",U,9,Pt),35676:wt.bind(null,"uniformMatrix4fv",U,16,Pt),35678:Ct,35680:Ct,5125:wt.bind(null,"uniform1uiv",X,1,q),36294:wt.bind(null,"uniform2uiv",X,2,q),36295:wt.bind(null,"uniform3uiv",X,3,q),36296:wt.bind(null,"uniform4uiv",X,4,q),35685:wt.bind(null,"uniformMatrix2x3fv",U,6,Pt),35686:wt.bind(null,"uniformMatrix2x4fv",U,8,Pt),35687:wt.bind(null,"uniformMatrix3x2fv",U,6,Pt),35688:wt.bind(null,"uniformMatrix3x4fv",U,12,Pt),35689:wt.bind(null,"uniformMatrix4x2fv",U,8,Pt),35690:wt.bind(null,"uniformMatrix4x3fv",U,12,Pt),35678:Ct,35680:Ct,35679:Ct,35682:Ct,36289:Ct,36292:Ct,36293:Ct,36298:Ct,36299:Ct,36300:Ct,36303:Ct,36306:Ct,36307:Ct,36308:Ct,36311:Ct},at={},ct={},ot={},$=[0];function N(jt,Ut,gt,At){1===Ut&&"boolean"==typeof jt&&(jt=jt?1:0),Number.isFinite(jt)&&($[0]=jt,jt=$);const St=jt.length;if(St%Ut&&Z.cM.warn("Uniform size should be multiples of ".concat(Ut),jt)(),jt instanceof gt)return jt;let S=At[St];S||(S=new gt(St),At[St]=S);for(let P=0;P<St;P++)S[P]=jt[P];return S}function U(jt,Ut){return N(jt,Ut,Float32Array,at)}function bt(jt,Ut){return N(jt,Ut,Int32Array,ct)}function X(jt,Ut){return N(jt,Ut,Uint32Array,ot)}function et(jt,Ut,gt){const At=Q[gt.type];if(!At)throw new Error("Unknown GLSL uniform type ".concat(gt.type));return At().bind(null,jt,Ut)}function W(jt){if("]"!==jt[jt.length-1])return{name:jt,length:1,isArray:!1};const gt=jt.match(/([^[]*)(\[[0-9]+\])?/);if(!gt||gt.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(jt));return{name:gt[1],length:gt[2]||1,isArray:Boolean(gt[2])}}function V(jt){return Array.isArray(jt)||ArrayBuffer.isView(jt)?function mt(jt){if(0===jt.length)return!1;const Ut=Math.min(jt.length,16);for(let gt=0;gt<Ut;++gt)if(!Number.isFinite(jt[gt]))return!1;return!0}(jt):!!(isFinite(jt)||!0===jt||!1===jt||jt instanceof J.Z||jt instanceof G.Z)||jt instanceof F.Z&&Boolean(jt.texture)}function lt(jt,Ut,gt){if(Array.isArray(gt)||ArrayBuffer.isView(gt))if(jt[Ut]){const At=jt[Ut];for(let St=0,S=gt.length;St<S;++St)At[St]=gt[St]}else jt[Ut]=gt.slice();else jt[Ut]=gt}function Ct(){let jt=null;return(Ut,gt,At)=>{const St=jt!==At;return St&&(Ut.uniform1i(gt,At),jt=At),St}}function wt(jt,Ut,gt,At){let St=null,S=null;return(P,z,ft)=>{const Mt=Ut(ft,gt),Ot=Mt.length;let me=!1;if(null===St)St=new Float32Array(Ot),S=Ot,me=!0;else{(0,O.h)(S===Ot,"Uniform length cannot change.");for(let ye=0;ye<Ot;++ye)if(Mt[ye]!==St[ye]){me=!0;break}}return me&&(At(P,jt,z,Mt),St.set(Mt)),me}}function q(jt,Ut,gt,At){jt[Ut](gt,At)}function Pt(jt,Ut,gt,At){jt[Ut](gt,!1,At)}function Tt(jt){let Ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const At=jt.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return At?At[1]:Ut}const It=35632,ut=35633;function vt(jt,Ut){let gt="";for(let At=0;At<Ut.length;At++)if((jt[At+3]||jt[At+2]||jt[At+1])&&(gt+="".concat(Ut[At],"\n"),jt[At+1])){const S=jt[At+1],P=S.split(":",3),z=P[0],ft=parseInt(P[1],10)||0,Mt=S.substring(P.join(":").length+1).trim();gt+=_t("^^^ ".concat(z,": ").concat(Mt,"\n\n"),ft)}return gt}function _t(jt,Ut){let gt="";for(let At=0;At<Ut;++At)gt+=" ";return"".concat(gt).concat(jt)}var Zt=Y(3403);class Ee extends tt.Z{get[Symbol.toStringTag](){return"Shader"}static getTypeName(Ut){switch(Ut){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,O.h)(!1),"unknown"}}constructor(Ut,gt){(0,Z.JD)(Ut),(0,O.h)("string"==typeof gt.source,"Shader: GLSL source code must be a JavaScript string"),super(Ut,{id:Tt(gt.source,null)||gt.id||(0,Zt.hQ)("unnamed ".concat(Ee.getTypeName(gt.shaderType)))}),this.shaderType=gt.shaderType,this.source=gt.source,this.initialize(gt)}initialize(Ut){let{source:gt}=Ut;const At=Tt(gt,null);At&&(this.id=(0,Zt.hQ)(At)),this._compile(gt)}getParameter(Ut){return this.gl.getShaderParameter(this.handle,Ut)}toString(){return"".concat(Ee.getTypeName(this.shaderType),":").concat(this.id)}getName(){return Tt(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const Ut=this.gl.getExtension("WEBGL_debug_shaders");return Ut?Ut.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(Ut.startsWith("#version ")||(Ut="#version 100\n".concat(Ut)),this.source=Ut,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const At=this.gl.getShaderInfoLog(this.handle),{shaderName:St,errors:S,warnings:P}=function Et(jt,Ut,gt,At){const St=jt.split(/\r?\n/),S={},P={},z=At||Tt(Ut)||"(unnamed)",ft="".concat(function ae(jt){switch(jt){case It:return"fragment";case ut:return"vertex";default:return"unknown type"}}(gt)," shader ").concat(z);for(let Ot=0;Ot<St.length;Ot++){const me=St[Ot];if(me.length<=1)continue;const ye=me.split(":"),xe=ye[0],ze=parseInt(ye[2],10);if(isNaN(ze))throw new Error("GLSL compilation error in ".concat(ft,": ").concat(jt));"WARNING"!==xe?S[ze]=me:P[ze]=me}const Mt=function dt(jt){let Ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,gt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const At=jt.split(/\r?\n/),St=String(At.length+Ut-1).length;return At.map((S,P)=>{const z=String(P+Ut);return _t(z,St-z.length)+gt+S})}(Ut);return{shaderName:ft,errors:vt(S,Mt),warnings:vt(P,Mt)}}(At,this.source,this.shaderType,this.id);throw Z.cM.error("GLSL compilation errors in ".concat(St,"\n").concat(S))(),Z.cM.warn("GLSL compilation warnings in ".concat(St,"\n").concat(P))(),new Error("GLSL compilation errors in ".concat(St))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Wt extends Ee{get[Symbol.toStringTag](){return"VertexShader"}constructor(Ut,gt){"string"==typeof gt&&(gt={source:gt}),super(Ut,Object.assign({},gt,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class qt extends Ee{get[Symbol.toStringTag](){return"FragmentShader"}constructor(Ut,gt){"string"==typeof gt&&(gt={source:gt}),super(Ut,Object.assign({},gt,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}var pe=Y(2563),Ne=Y(2676);class Le{constructor(Ut){this.id=Ut.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(Ut),this._readVaryingsFromProgram(Ut)}getAttributeInfo(Ut){const gt=Number(Ut);return Number.isFinite(gt)?this.attributeInfosByLocation[gt]:this.attributeInfosByName[Ut]||null}getAttributeLocation(Ut){const gt=this.getAttributeInfo(Ut);return gt?gt.location:-1}getAttributeAccessor(Ut){const gt=this.getAttributeInfo(Ut);return gt?gt.accessor:null}getVaryingInfo(Ut){const gt=Number(Ut);return Number.isFinite(gt)?this.varyingInfos[gt]:this.varyingInfosByName[Ut]||null}getVaryingIndex(Ut){const gt=this.getVaryingInfo();return gt?gt.location:-1}getVaryingAccessor(Ut){const gt=this.getVaryingInfo();return gt?gt.accessor:null}_readAttributesFromProgram(Ut){const{gl:gt}=Ut,At=gt.getProgramParameter(Ut.handle,35721);for(let St=0;St<At;St++){const{name:S,type:P,size:z}=gt.getActiveAttrib(Ut.handle,St),ft=gt.getAttribLocation(Ut.handle,S);ft>=0&&this._addAttribute(ft,S,P,z)}this.attributeInfos.sort((St,S)=>St.location-S.location)}_readVaryingsFromProgram(Ut){const{gl:gt}=Ut;if(!(0,Z.D0)(gt))return;const At=gt.getProgramParameter(Ut.handle,35971);for(let St=0;St<At;St++){const{name:S,type:P,size:z}=gt.getTransformFeedbackVarying(Ut.handle,St);this._addVarying(St,S,P,z)}this.varyingInfos.sort((St,S)=>St.location-S.location)}_addAttribute(Ut,gt,At,St){const{type:S,components:P}=(0,Ne.hJ)(At),z={type:S,size:St*P};this._inferProperties(Ut,gt,z);const ft={location:Ut,name:gt,accessor:new pe.Z(z)};this.attributeInfos.push(ft),this.attributeInfosByLocation[Ut]=ft,this.attributeInfosByName[ft.name]=ft}_inferProperties(Ut,gt,At){/instance/i.test(gt)&&(At.divisor=1)}_addVarying(Ut,gt,At,St){const{type:S,components:P}=(0,Ne.hJ)(At),ft={location:Ut,name:gt,accessor:new pe.Z({type:S,size:St*P})};this.varyingInfos.push(ft),this.varyingInfosByName[ft.name]=ft}}var re=Y(6742);const le=35981,Dt=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class Ht extends tt.Z{get[Symbol.toStringTag](){return"Program"}constructor(Ut){let gt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(Ut,gt),this.stubRemovedMethods("Program","v6.0",Dt),this._isCached=!1,this.initialize(gt),Object.seal(this),this._setId(gt.id)}initialize(){let Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:gt,vs:At,fs:St,varyings:S,bufferMode:P=le}=Ut;return this.hash=gt||"",this.vs="string"==typeof At?new Wt(this.gl,{id:"".concat(Ut.id,"-vs"),source:At}):At,this.fs="string"==typeof St?new qt(this.gl,{id:"".concat(Ut.id,"-fs"),source:St}):St,(0,O.h)(this.vs instanceof Wt),(0,O.h)(this.fs instanceof qt),this.uniforms={},this._textureUniforms={},S&&S.length>0&&((0,Z.KQ)(this.gl),this.varyings=S,this.gl2.transformFeedbackVaryings(this.handle,S,P)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Le(this),this.setProps(Ut)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(Ut){return"uniforms"in Ut&&this.setUniforms(Ut.uniforms),this}draw(Ut){let{logPriority:gt,drawMode:At=4,vertexCount:St,offset:S=0,start:P,end:z,isIndexed:ft=!1,indexType:Mt=5123,instanceCount:Ot=0,isInstanced:me=Ot>0,vertexArray:ye=null,transformFeedback:xe,framebuffer:ze,parameters:Qe={},uniforms:Ue,samplers:sn}=Ut;if((Ue||sn)&&(Z.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(Ue||{})),Z.cM.priority>=gt){const un=ze?ze.id:"default",ln="mode=".concat((0,re.km)(this.gl,At)," verts=").concat(St," ")+"instances=".concat(Ot," indexType=").concat((0,re.km)(this.gl,Mt)," ")+"isInstanced=".concat(me," isIndexed=").concat(ft," ")+"Framebuffer=".concat(un);Z.cM.log(gt,ln)()}return(0,O.h)(ye),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===St||me&&0===Ot||(ye.bindForDraw(St,Ot,()=>{if(void 0!==ze&&(Qe=Object.assign({},Qe,{framebuffer:ze})),xe){const un=(0,Ne.$Z)(At);xe.begin(un)}this._bindTextures(),(0,Z.s8)(this.gl,Qe,()=>{ft&&me?this.gl2.drawElementsInstanced(At,St,Mt,S,Ot):ft&&(0,Z.D0)(this.gl)&&!isNaN(P)&&!isNaN(z)?this.gl2.drawRangeElements(At,P,z,St,Mt,S):ft?this.gl.drawElements(At,St,Mt,S):me?this.gl2.drawArraysInstanced(At,S,St,Ot):this.gl.drawArrays(At,S,St)}),xe&&xe.end()}),0))}setUniforms(){let Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Z.cM.priority>=2&&function it(jt,Ut,gt){for(const At in jt){const St=jt[At];if((!gt||Boolean(gt[At]))&&!V(St))throw Ut=Ut?"".concat(Ut," "):"",console.error("".concat(Ut," Bad uniform ").concat(At),St),new Error("".concat(Ut," Bad uniform ").concat(At))}}(Ut,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const gt in Ut){const At=Ut[gt],St=this._uniformSetters[gt];if(St){let S=At,P=!1;if(S instanceof F.Z&&(S=S.texture),S instanceof J.Z)if(P=this.uniforms[gt]!==At,P){void 0===St.textureIndex&&(St.textureIndex=this._textureIndexCounter++);const z=S,{textureIndex:ft}=St;z.bind(ft),S=ft,this._textureUniforms[gt]=z}else S=St.textureIndex;else this._textureUniforms[gt]&&delete this._textureUniforms[gt];(St(S)||P)&&lt(this.uniforms,gt,At)}}return this}_areTexturesRenderable(){let Ut=!0;for(const gt in this._textureUniforms){const At=this._textureUniforms[gt];At.update(),Ut=Ut&&At.loaded}return Ut}_bindTextures(){for(const Ut in this._textureUniforms)this._textureUniforms[Ut].bind(this._uniformSetters[Ut].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(Ut){const gt=this.gl.getAttachedShaders(Ut),At={};for(const St of gt)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:At.vs=new Wt({handle:St});break;case 35632:At.fs=new qt({handle:St})}return At}_getParameter(Ut){return this.gl.getProgramParameter(this.handle,Ut)}_setId(Ut){if(!Ut){const gt=this._getName();this.id=(0,Zt.hQ)(gt)}}_getName(){let Ut=this.vs.getName()||this.fs.getName();return Ut=Ut.replace(/shader/i,""),Ut=Ut?"".concat(Ut,"-program"):"program",Ut}_compileAndLink(){const{gl:Ut}=this;if(Ut.attachShader(this.handle,this.vs.handle),Ut.attachShader(this.handle,this.fs.handle),Z.cM.time(4,"linkProgram for ".concat(this._getName()))(),Ut.linkProgram(this.handle),Z.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),Ut.debug||Z.cM.level>0){if(!Ut.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(Ut.getProgramInfoLog(this.handle)));if(Ut.validateProgram(this.handle),!Ut.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(Ut.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:Ut}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let gt=0;gt<this._uniformCount;gt++){const At=this.gl.getActiveUniform(this.handle,gt),{name:St}=W(At.name);let S=Ut.getUniformLocation(this.handle,St);if(this._uniformSetters[St]=et(Ut,S,At),At.size>1)for(let P=0;P<At.size;P++)S=Ut.getUniformLocation(this.handle,"".concat(St,"[").concat(P,"]")),this._uniformSetters["".concat(St,"[").concat(P,"]")]=et(Ut,S,At)}this._textureIndexCounter=0}getActiveUniforms(Ut,gt){return this.gl2.getActiveUniforms(this.handle,Ut,gt)}getUniformBlockIndex(Ut){return this.gl2.getUniformBlockIndex(this.handle,Ut)}getActiveUniformBlockParameter(Ut,gt){return this.gl2.getActiveUniformBlockParameter(this.handle,Ut,gt)}uniformBlockBinding(Ut,gt){this.gl2.uniformBlockBinding(this.handle,Ut,gt)}}},1296:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Q});var tt=Y(6729);const J="EXT_color_buffer_float",F={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:J,bpp:2},33327:{gl2:J,bpp:4},34842:{gl2:J,bpp:8},33326:{gl2:J,bpp:4},33328:{gl2:J,bpp:8},34836:{gl2:J,bpp:16},35898:{gl2:J,bpp:4}};var Z=Y(7591),G=Y(659);class Q extends tt.Z{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(ct){let{format:ot}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!ot||function O(at,ct,ot){const $=ot[ct];if(!$)return!1;const N=(0,Z.D0)(at)&&$.gl2||$.gl1;return"string"==typeof N?at.getExtension(N):N}(ct,ot,F)}static getSamplesForFormat(ct,ot){let{format:$}=ot;return ct.getInternalformatParameter(36161,$,32937)}constructor(ct){let ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(ct,ot),this.initialize(ot),Object.seal(this)}initialize(ct){let{format:ot,width:$=1,height:N=1,samples:U=0}=ct;return(0,G.h)(ot,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==U&&(0,Z.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,U,ot,$,N):this.gl.renderbufferStorage(36161,ot,$,N),this.format=ot,this.width=$,this.height=N,this.samples=U,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*F[this.format].bpp),this}resize(ct){let{width:ot,height:$}=ct;return ot!==this.width||$!==this.height?this.initialize({width:ot,height:$,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(ct){this.gl.bindRenderbuffer(36161,ct)}_syncHandle(ct){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(ct){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,ct)}}},6729:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>at});var tt=Y(7591),J=Y(1528),F=Y(6742),Z=Y(659),G=Y(3403),O=Y(2975);const Q="Resource subclass must define virtual methods";class at{get[Symbol.toStringTag](){return"Resource"}constructor(ot){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,tt.JD)(ot);const{id:N,userData:U={}}=$;this.gl=ot,this.gl2=ot,this.id=N||(0,G.hQ)(this[Symbol.toStringTag]),this.userData=U,this._bound=!1,this._handle=$.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:ot=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const $=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,$&&ot&&$.filter(Boolean).forEach(N=>N.delete()),this}bind(){let $,ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof ot?(this._bindHandle(ot),this):(this._bound?$=ot():(this._bindHandle(this.handle),this._bound=!0,$=ot(),this._bound=!1,this._bindHandle(null)),$)}unbind(){this.bind(null)}getParameter(ot){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ot=(0,F.sF)(this.gl,ot),(0,Z.h)(ot);const U=(this.constructor.PARAMETERS||{})[ot];if(U){const bt=(0,tt.D0)(this.gl);if("webgl2"in U&&!bt||"extension"in U&&!this.gl.getExtension(U.extension))return bt&&"webgl2"in U?U.webgl2:U.webgl1}return this._getParameter(ot,$)}getParameters(){let ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:$,keys:N}=ot,U=this.constructor.PARAMETERS||{},bt=(0,tt.D0)(this.gl),X={},et=$||Object.keys(U);for(const W of et){const it=U[W];if(it&&(!("webgl2"in it)||bt)&&(!("extension"in it)||this.gl.getExtension(it.extension))){const lt=N?(0,F.km)(this.gl,W):W;X[lt]=this.getParameter(W,ot),N&&"GLenum"===it.type&&(X[lt]=(0,F.km)(this.gl,X[lt]))}}return X}setParameter(ot,$){ot=(0,F.sF)(this.gl,ot),(0,Z.h)(ot);const U=(this.constructor.PARAMETERS||{})[ot];if(U){const bt=(0,tt.D0)(this.gl);if("webgl2"in U&&!bt||"extension"in U&&!this.gl.getExtension(U.extension))throw new Error("Parameter not available on this platform");"GLenum"===U.type&&($=(0,F.sF)($))}return this._setParameter(ot,$),this}setParameters(ot){for(const $ in ot)this.setParameter($,ot[$]);return this}stubRemovedMethods(ot,$,N){return(0,O.F)(this,ot,$,N)}initialize(ot){}_createHandle(){throw new Error(Q)}_deleteHandle(){throw new Error(Q)}_bindHandle(ot){throw new Error(Q)}_getOptsFromHandle(){throw new Error(Q)}_getParameter(ot,$){throw new Error(Q)}_setParameter(ot,$){throw new Error(Q)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const ot=this[Symbol.toStringTag],$=J.lR.get("Resource Counts");$.get("Resources Created").incrementCount(),$.get("".concat(ot,"s Created")).incrementCount(),$.get("".concat(ot,"s Active")).incrementCount()}_removeStats(){const ot=this[Symbol.toStringTag];J.lR.get("Resource Counts").get("".concat(ot,"s Active")).decrementCount()}_trackAllocatedMemory(ot){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(ot,$),this._trackAllocatedMemoryForContext(ot,$,this.gl.canvas&&this.gl.canvas.id),this.byteLength=ot}_trackAllocatedMemoryForContext(ot){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const U=J.lR.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));U.get("GPU Memory").addCount(ot),U.get("".concat($," Memory")).addCount(ot)}_trackDeallocatedMemory(){let ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(ot),this._trackDeallocatedMemoryForContext(ot,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let ot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const N=J.lR.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));N.get("GPU Memory").subtractCount(this.byteLength),N.get("".concat(ot," Memory")).subtractCount(this.byteLength)}}},5702:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>at});var tt=Y(7591),J=Y(7995),F=Y(659);let Z="";function Q(ct,ot){return(0,F.h)("string"==typeof ct),ct=Z+ct,new Promise(($,N)=>{try{const U=new Image;U.onload=()=>$(U),U.onerror=()=>N(new Error("Could not load image ".concat(ct,"."))),U.crossOrigin=ot&&ot.crossOrigin||"anonymous",U.src=ct}catch(U){N(U)}})}class at extends J.Z{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(ot,$){return J.Z.isSupported(ot,$)}constructor(ot){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,tt.JD)(ot),($ instanceof Promise||"string"==typeof $)&&($={data:$}),"string"==typeof $.data&&($=Object.assign({},$,{data:Q($.data)})),super(ot,Object.assign({},$,{target:3553})),this.initialize($),Object.seal(this)}}},2172:(Xe,se,Y)=>{"use strict";Y.d(se,{C:()=>F,KR:()=>O,ae:()=>J,br:()=>G,pH:()=>Z});var tt=Y(7591);const J={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},F={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},Z={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function G(Q,at){const ct=J[at];if(!ct)return!1;if(void 0===ct.gl1&&void 0===ct.gl2)return!0;const ot=(0,tt.D0)(Q)&&ct.gl2||ct.gl1;return"string"==typeof ot?Q.getExtension(ot):ot}function O(Q,at){const ct=J[at];switch(ct&&ct.types[0]){case 5126:return Q.getExtension("OES_texture_float_linear");case 5131:return Q.getExtension("OES_texture_half_float_linear");default:return!0}}},7995:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>ct});var tt=Y(7591),J=Y(6729),F=Y(8775),Z=Y(2172),G=Y(659),O=Y(3403);const Q=[9729,9728],at=globalThis.WebGLBuffer||function(){};class ct extends J.Z{get[Symbol.toStringTag](){return"Texture"}static isSupported($){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:U,linearFiltering:bt}=N;let X=!0;return U&&(X=X&&(0,Z.br)($,U),X=X&&(!bt||(0,Z.KR)($,U))),X}constructor($,N){const{id:U=(0,O.hQ)("texture"),handle:bt,target:X}=N;super($,{id:U,handle:bt}),this.target=X,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=$.data;if(N instanceof Promise)return N.then(ut=>this.initialize(Object.assign({},$,{pixels:ut,data:ut}))),this;const U=typeof HTMLVideoElement<"u"&&N instanceof HTMLVideoElement;if(U&&N.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,N.addEventListener("loadeddata",()=>this.initialize($)),this;const{pixels:bt=null,format:X=6408,border:et=0,recreate:W=!1,parameters:it={},pixelStore:V={},textureUnit:lt}=$;N||(N=bt);let{width:mt,height:Ct,dataFormat:wt,type:q,compressed:Pt=!1,mipmaps:Tt=!0}=$;const{depth:It=0}=$;return({width:mt,height:Ct,compressed:Pt,dataFormat:wt,type:q}=this._deduceParameters({format:X,type:q,dataFormat:wt,compressed:Pt,data:N,width:mt,height:Ct})),this.width=mt,this.height=Ct,this.depth=It,this.format=X,this.type=q,this.dataFormat=wt,this.border=et,this.textureUnit=lt,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),Tt&&this._isNPOT()&&(tt.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),Tt=!1,this._updateForNPOT(it)),this.mipmaps=Tt,this.setImageData({data:N,width:mt,height:Ct,depth:It,format:X,type:q,dataFormat:wt,border:et,mipmaps:Tt,parameters:V,compressed:Pt}),Tt&&this.generateMipmap(),this.setParameters(it),W&&(this.data=N),U&&(this._video={video:N,parameters:it,lastTime:N.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?N.currentTime:-1}),this}update(){if(this._video){const{video:$,parameters:N,lastTime:U}=this._video;if(U===$.currentTime||$.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:$,parameters:N}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=$.currentTime}}resize($){let{height:N,width:U,mipmaps:bt=!1}=$;return U!==this.width||N!==this.height?this.initialize({width:U,height:N,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:bt}):this}generateMipmap(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(tt.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,tt.s8)(this.gl,$,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData($){this._trackDeallocatedMemory("Texture");const{target:N=this.target,pixels:U=null,level:bt=0,format:X=this.format,border:et=this.border,offset:W=0,parameters:it={}}=$;let{data:V=null,type:lt=this.type,width:mt=this.width,height:Ct=this.height,dataFormat:wt=this.dataFormat,compressed:q=!1}=$;V||(V=U),({type:lt,dataFormat:wt,compressed:q,width:mt,height:Ct}=this._deduceParameters({format:X,type:lt,dataFormat:wt,compressed:q,data:V,width:mt,height:Ct}));const{gl:Pt}=this;Pt.bindTexture(this.target,this.handle);let Tt=null;({data:V,dataType:Tt}=this._getDataType({data:V,compressed:q}));let It,ut=0;return(0,tt.s8)(this.gl,it,()=>{switch(Tt){case"null":Pt.texImage2D(N,bt,X,mt,Ct,et,wt,lt,V);break;case"typed-array":Pt.texImage2D(N,bt,X,mt,Ct,et,wt,lt,V,W);break;case"buffer":It=(0,tt.KQ)(Pt),It.bindBuffer(35052,V.handle||V),It.texImage2D(N,bt,X,mt,Ct,et,wt,lt,W),It.bindBuffer(35052,null);break;case"browser-object":(0,tt.D0)(Pt)?Pt.texImage2D(N,bt,X,mt,Ct,et,wt,lt,V):Pt.texImage2D(N,bt,X,wt,lt,V);break;case"compressed":for(const[ae,ce]of V.entries())Pt.compressedTexImage2D(N,ae,ce.format,ce.width,ce.height,et,ce.data),ut+=ce.levelSize;break;default:(0,G.h)(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===Tt?ut:V&&V.byteLength?V.byteLength:this.width*this.height*(Z.C[this.dataFormat]||4)*(Z.pH[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData($){let{target:N=this.target,pixels:U=null,data:bt=null,x:X=0,y:et=0,width:W=this.width,height:it=this.height,level:V=0,format:lt=this.format,type:mt=this.type,dataFormat:Ct=this.dataFormat,compressed:wt=!1,offset:q=0,border:Pt=this.border,parameters:Tt={}}=$;if(({type:mt,dataFormat:Ct,compressed:wt,width:W,height:it}=this._deduceParameters({format:lt,type:mt,dataFormat:Ct,compressed:wt,data:bt,width:W,height:it})),(0,G.h)(0===this.depth,"texSubImage not supported for 3D textures"),bt||(bt=U),bt&&bt.data){const It=bt;bt=It.data,W=It.shape[0],it=It.shape[1]}bt instanceof F.Z&&(bt=bt.handle),this.gl.bindTexture(this.target,this.handle),(0,tt.s8)(this.gl,Tt,()=>{if(wt)this.gl.compressedTexSubImage2D(N,V,X,et,W,it,lt,bt);else if(null===bt)this.gl.texSubImage2D(N,V,X,et,W,it,Ct,mt,null);else if(ArrayBuffer.isView(bt))this.gl.texSubImage2D(N,V,X,et,W,it,Ct,mt,bt,q);else if(bt instanceof at){const It=(0,tt.KQ)(this.gl);It.bindBuffer(35052,bt),It.texSubImage2D(N,V,X,et,W,it,Ct,mt,q),It.bindBuffer(35052,null)}else(0,tt.D0)(this.gl)?(0,tt.KQ)(this.gl).texSubImage2D(N,V,X,et,W,it,Ct,mt,bt):this.gl.texSubImage2D(N,V,X,et,Ct,mt,bt)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return tt.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:N}=this;return void 0!==$&&(this.textureUnit=$,N.activeTexture(33984+$)),N.bindTexture(this.target,this.handle),$}unbind(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:N}=this;return void 0!==$&&(this.textureUnit=$,N.activeTexture(33984+$)),N.bindTexture(this.target,null),$}_getDataType($){let{data:N,compressed:U=!1}=$;return U?{data:N,dataType:"compressed"}:null===N?{data:N,dataType:"null"}:ArrayBuffer.isView(N)?{data:N,dataType:"typed-array"}:N instanceof F.Z?{data:N.handle,dataType:"buffer"}:N instanceof at?{data:N,dataType:"buffer"}:{data:N,dataType:"browser-object"}}_deduceParameters($){const{format:N,data:U}=$;let{width:bt,height:X,dataFormat:et,type:W,compressed:it}=$;const V=Z.ae[N];return et=et||V&&V.dataFormat,W=W||V&&V.types[0],it=it||V&&V.compressed,({width:bt,height:X}=this._deduceImageSize(U,bt,X)),{dataFormat:et,type:W,compressed:it,width:bt,height:X,format:N,data:U}}_deduceImageSize($,N,U){let bt;return bt=typeof ImageData<"u"&&$ instanceof ImageData?{width:$.width,height:$.height}:typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?{width:$.naturalWidth,height:$.naturalHeight}:typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap?{width:$.width,height:$.height}:typeof HTMLVideoElement<"u"&&$ instanceof HTMLVideoElement?{width:$.videoWidth,height:$.videoHeight}:$?{width:N,height:U}:{width:N>=0?N:1,height:U>=0?U:1},(0,G.h)(bt,"Could not deduced texture size"),(0,G.h)(void 0===N||bt.width===N,"Deduced texture width does not match supplied width"),(0,G.h)(void 0===U||bt.height===U,"Deduced texture height does not match supplied height"),bt}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter($){switch($){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const N=this.gl.getTexParameter(this.target,$);return this.gl.bindTexture(this.target,null),N}}_setParameter($,N){switch(this.gl.bindTexture(this.target,this.handle),N=this._getNPOTParam($,N),$){case 33082:case 33083:this.gl.texParameterf(this.handle,$,N);break;case 4096:case 4097:(0,G.h)(!1);break;default:this.gl.texParameteri(this.target,$,N)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!((0,tt.D0)(this.gl)||!this.width||!this.height||(0,O.wt)(this.width)&&(0,O.wt)(this.height))}_updateForNPOT($){void 0===$[this.gl.TEXTURE_MIN_FILTER]&&($[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===$[this.gl.TEXTURE_WRAP_S]&&($[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===$[this.gl.TEXTURE_WRAP_T]&&($[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam($,N){if(this._isNPOT())switch($){case 10241:-1===Q.indexOf(N)&&(N=9729);break;case 10242:case 10243:33071!==N&&(N=33071)}return N}}},8023:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>G});var tt=Y(7591),J=Y(6729),F=Y(8775),Z=Y(3403);class G extends J.Z{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(Q){return(0,tt.D0)(Q)}constructor(Q){let at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,tt.KQ)(Q),super(Q,at),this.initialize(at),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,Z.nK)(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(Q),this}setProps(Q){"program"in Q&&(this.configuration=Q.program&&Q.program.configuration),"configuration"in Q&&(this.configuration=Q.configuration),"bindOnUse"in Q&&(Q=Q.bindOnUse),"buffers"in Q&&this.setBuffers(Q.buffers)}setBuffers(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const at in Q)this.setBuffer(at,Q[at])}),this}setBuffer(Q,at){const ct=this._getVaryingIndex(Q),{buffer:ot,byteSize:$,byteOffset:N}=this._getBufferParams(at);return ct<0?(this.unused[Q]=ot,tt.cM.warn("".concat(this.id," unused varying buffer ").concat(Q))(),this):(this.buffers[ct]=at,this.bindOnUse||this._bindBuffer(ct,ot,N,$),this)}begin(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(Q),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(Q){let at,ct,ot;return Q instanceof F.Z?ot=Q:(ot=Q.buffer,ct=Q.byteSize,at=Q.byteOffset),(void 0!==at||void 0!==ct)&&(at=at||0,ct=ct||ot.byteLength-at),{buffer:ot,byteOffset:at,byteSize:ct}}_getVaryingInfo(Q){return this.configuration&&this.configuration.getVaryingInfo(Q)}_getVaryingIndex(Q){if(this.configuration)return this.configuration.getVaryingInfo(Q).location;const at=Number(Q);return Number.isFinite(at)?at:-1}_bindBuffers(){if(this.bindOnUse)for(const Q in this.buffers){const{buffer:at,byteSize:ct,byteOffset:ot}=this._getBufferParams(this.buffers[Q]);this._bindBuffer(Q,at,ot,ct)}}_unbindBuffers(){if(this.bindOnUse)for(const Q in this.buffers)this._bindBuffer(Q,null)}_bindBuffer(Q,at){let ot=arguments.length>3?arguments[3]:void 0;const $=at&&at.handle;return $&&void 0!==ot?this.gl.bindBufferRange(35982,Q,$,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,ot):this.gl.bindBufferBase(35982,Q,$),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(Q){this.gl.bindTransformFeedback(36386,this.handle)}}},2378:(Xe,se,Y)=>{"use strict";Y.d(se,{N$:()=>Q,U6:()=>G,ag:()=>O});var tt=Y(7552),J=Y(7591),F=Y(659);const Z=2;function G(ot,$){return O(ot,$)}function O(ot,$){return($=Array.isArray($)?$:[$]).every(N=>at(ot,N))}function Q(ot){ot.luma=ot.luma||{},ot.luma.caps=ot.luma.caps||{};for(const $ in tt.Z)void 0===ot.luma.caps[$]&&(ot.luma.caps[$]=at(ot,$));return ot.luma.caps}function at(ot,$){return ot.luma=ot.luma||{},ot.luma.caps=ot.luma.caps||{},void 0===ot.luma.caps[$]&&(ot.luma.caps[$]=function ct(ot,$){const N=tt.Z[$];let U;(0,F.h)(N,$);const bt=(0,J.D0)(ot)&&N[1]||N[0];if("function"==typeof bt)U=bt(ot);else if(Array.isArray(bt)){U=!0;for(const X of bt)U=U&&Boolean(ot.getExtension(X))}else"string"==typeof bt?U=Boolean(ot.getExtension(bt)):"boolean"==typeof bt?U=bt:(0,F.h)(!1);return U}(ot,$)),ot.luma.caps[$]||J.cM.log(Z,"Feature: ".concat($," not supported"))(),ot.luma.caps[$]}},7552:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>G,h:()=>F});var tt=Y(2778),J=Y(5702);const F={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"},G={[F.WEBGL2]:[!1,!0],[F.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[F.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[F.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[F.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[F.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[F.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[F.FLOAT_BLEND]:["EXT_float_blend"],[F.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[F.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[F.TEXTURE_FLOAT]:["OES_texture_float",!0],[F.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[F.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[F.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[F.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[F.COLOR_ATTACHMENT_RGBA32F]:[function Z(O){const Q=new J.Z(O,{format:6408,type:5126,dataFormat:6408}),at=new tt.Z(O,{id:"test-framebuffer",check:!1,attachments:{36064:Q}}),ct=at.getStatus();return Q.delete(),at.delete(),36053===ct},"EXT_color_buffer_float"],[F.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[F.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[F.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[F.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[F.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[F.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},1528:(Xe,se,Y)=>{"use strict";Y.d(se,{lR:()=>Q});var tt=Y(7591),J=Y(5651),F=Y(25);const Z="8.5.19",Q=new class O{constructor(){this.stats=new Map}get(ot){return this.stats.has(ot)||this.stats.set(ot,new J.Z({id:ot})),this.stats.get(ot)}};if(globalThis.luma&&globalThis.luma.VERSION!==Z)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(Z));globalThis.luma||((0,F.Z)()&&tt.cM.log(1,"luma.gl ".concat(Z," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:Z,version:Z,log:tt.cM,stats:Q,globals:{modules:{},nodeIO:{}}}),globalThis},659:(Xe,se,Y)=>{"use strict";function tt(J,F){if(!J)throw new Error(F||"luma.gl: assertion failed.")}Y.d(se,{h:()=>tt})},5877:(Xe,se,Y)=>{"use strict";Y.d(se,{k:()=>J});var tt=Y(7591);function J(F,Z,G){const{removedProps:O={},deprecatedProps:Q={},replacedProps:at={}}=G;for(const ot in O)if(ot in Z){const N=O[ot]?"".concat(F,".").concat(O[ot]):"N/A";tt.cM.removed("".concat(F,".").concat(ot),N)()}for(const ot in Q)if(ot in Z){const $=Q[ot];tt.cM.deprecated("".concat(F,".").concat(ot),"".concat(F,".").concat($))()}let ct=null;for(const ot in at)if(ot in Z){const $=at[ot];tt.cM.deprecated("".concat(F,".").concat(ot),"".concat(F,".").concat($))(),ct=ct||Object.assign({},Z),ct[$]=Z[ot],delete ct[ot]}return ct||Z}},2975:(Xe,se,Y)=>{"use strict";Y.d(se,{F:()=>J});var tt=Y(7591);function J(F,Z,G,O){const Q="See luma.gl ".concat(G," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),at=Object.getPrototypeOf(F);O.forEach(ct=>{at.methodName||(at[ct]=()=>{throw tt.cM.removed("Calling removed method ".concat(Z,".").concat(ct,": "),Q)(),new Error(ct)})})}},3403:(Xe,se,Y)=>{"use strict";Y.d(se,{hQ:()=>F,nK:()=>G,wt:()=>Z});var tt=Y(659);const J={};function F(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";J[O]=J[O]||1;const Q=J[O]++;return"".concat(O,"-").concat(Q)}function Z(O){return(0,tt.h)("number"==typeof O,"Input must be a number"),O&&0==(O&O-1)}function G(O){let Q=!0;for(const at in O){Q=!1;break}return Q}},2676:(Xe,se,Y)=>{"use strict";Y.d(se,{$Z:()=>qt,hJ:()=>Le,jG:()=>re});var tt=Y(659);const J=5120,F=5121,Z=5122,G=5123,O=0,Q=1,at=2,ct=3,ot=4,$=5,N=6,U=5126,W=5124,mt=5125,Wt={[U]:[U,1,"float"],35664:[U,2,"vec2"],35665:[U,3,"vec3"],35666:[U,4,"vec4"],[W]:[W,1,"int"],35667:[W,2,"ivec2"],35668:[W,3,"ivec3"],35669:[W,4,"ivec4"],[mt]:[mt,1,"uint"],36294:[mt,2,"uvec2"],36295:[mt,3,"uvec3"],36296:[mt,4,"uvec4"],35670:[U,1,"bool"],35671:[U,2,"bvec2"],35672:[U,3,"bvec3"],35673:[U,4,"bvec4"],35674:[U,8,"mat2"],35685:[U,8,"mat2x3"],35686:[U,8,"mat2x4"],35675:[U,12,"mat3"],35687:[U,12,"mat3x2"],35688:[U,12,"mat3x4"],35676:[U,16,"mat4"],35689:[U,16,"mat4x2"],35690:[U,16,"mat4x3"]};function qt(Me){switch(Me){case O:return O;case Q:case ct:case at:return Q;case ot:case $:case N:return ot;default:return(0,tt.h)(!1),0}}function Le(Me){const le=Wt[Me];if(!le)return null;const[Dt,Ht]=le;return{type:Dt,components:Ht}}function re(Me,le){switch(Me){case J:case F:case Z:case G:Me=U}for(const Dt in Wt){const[Ht,jt,Ut]=Wt[Dt];if(Ht===Me&&jt===le)return{glType:Dt,name:Ut}}return null}},6742:(Xe,se,Y)=>{"use strict";Y.d(se,{km:()=>F,sF:()=>J});var tt=Y(659);function J(G,O){if("string"!=typeof O)return O;const Q=Number(O);if(!isNaN(Q))return Q;const at=G[O=O.replace(/^.*\./,"")];return(0,tt.h)(void 0!==at,"Accessing undefined constant GL.".concat(O)),at}function F(G,O){O=Number(O);for(const Q in G)if(G[Q]===O)return"GL.".concat(Q);return String(O)}},8100:(Xe,se,Y)=>{"use strict";Y.d(se,{h:()=>N,Y:()=>U});var tt=Y(5702),J=Y(5861),F=Y(7591),Z=Y(7995);const G=[34069,34070,34071,34072,34073,34074];let O=(()=>{class bt extends Z.Z{get[Symbol.toStringTag](){return"TextureCube"}constructor(et){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,F.JD)(et),super(et,Object.assign({},W,{target:34067})),this.initialize(W),Object.seal(this)}initialize(){let et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:W=!0,parameters:it={}}=et;return this.opts=et,this.setCubeMapImageData(et).then(()=>{this.loaded=!0,W&&this.generateMipmap(et),this.setParameters(it)}),this}subImage(et){let{face:W,data:it,x:V=0,y:lt=0,mipmapLevel:mt=0}=et;return this._subImage({target:W,data:it,x:V,y:lt,mipmapLevel:mt})}setCubeMapImageData(et){var W=this;return(0,J.Z)(function*(){let{width:it,height:V,pixels:lt,data:mt,border:Ct=0,format:wt=6408,type:q=5121}=et;const{gl:Pt}=W,Tt=lt||mt,It=yield Promise.all(G.map(ut=>{const ae=Tt[ut];return Promise.all(Array.isArray(ae)?ae:[ae])}));W.bind(),G.forEach((ut,ae)=>{It[ae].length>1&&!1!==W.opts.mipmaps&&F.cM.warn("".concat(W.id," has mipmap and multiple LODs."))(),It[ae].forEach((ce,Et)=>{it&&V?Pt.texImage2D(ut,Et,wt,it,V,Ct,wt,q,ce):Pt.texImage2D(ut,Et,wt,wt,q,ce)})}),W.unbind()})()}setImageDataForFace(et){const{face:W,width:it,height:V,pixels:lt,data:mt,border:Ct=0,format:wt=6408,type:q=5121}=et,{gl:Pt}=this,Tt=lt||mt;return this.bind(),Tt instanceof Promise?Tt.then(It=>this.setImageDataForFace(Object.assign({},et,{face:W,data:It,pixels:It}))):this.width||this.height?Pt.texImage2D(W,0,wt,it,V,Ct,wt,q,Tt):Pt.texImage2D(W,0,wt,wt,q,Tt),this}}return bt.FACES=G,bt})();var Q=Y(2172),at=Y(8775);class ct extends Z.Z{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(X){return(0,F.D0)(X)}constructor(X){let et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,F.KQ)(X),et=Object.assign({depth:1},et,{target:32879,unpackFlipY:!1}),super(X,et),this.initialize(et),Object.seal(this)}setImageData(X){let{level:et=0,dataFormat:W=6408,width:it,height:V,depth:lt=1,border:mt=0,format:Ct,type:wt=5121,offset:q=0,data:Pt,parameters:Tt={}}=X;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,F.s8)(this.gl,Tt,()=>{ArrayBuffer.isView(Pt)&&this.gl.texImage3D(this.target,et,W,it,V,lt,mt,Ct,wt,Pt),Pt instanceof at.Z&&(this.gl.bindBuffer(35052,Pt.handle),this.gl.texImage3D(this.target,et,W,it,V,lt,mt,Ct,wt,q))}),this._trackAllocatedMemory(Pt&&Pt.byteLength?Pt.byteLength:this.width*this.height*this.depth*(Q.C[this.dataFormat]||4)*(Q.pH[this.type]||1),"Texture"),this.loaded=!0,this}}var ot=Y(2778),$=Y(659);function N(bt,X){(0,$.h)(bt instanceof tt.Z||bt instanceof O||bt instanceof ct);const et=bt.constructor,{gl:W,width:it,height:V,format:lt,type:mt,dataFormat:Ct,border:wt,mipmaps:q}=bt;return new et(W,Object.assign({width:it,height:V,format:lt,type:mt,dataFormat:Ct,border:wt,mipmaps:q},X))}function U(bt,X){const{gl:et,width:W,height:it,id:V}=bt;return new ot.Z(et,Object.assign({},X,{id:"framebuffer-for-".concat(V),width:W,height:it,attachments:{36064:bt}}))}},8355:(Xe,se,Y)=>{"use strict";Y.d(se,{KS:()=>G,O:()=>J,c$:()=>Z,vN:()=>F});const tt="Failed to deduce GL constant from typed array";function J(O){switch(ArrayBuffer.isView(O)?O.constructor:O){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(tt)}}function F(O){let{clamped:Q=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(O){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Q?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function Z(O){let{data:Q,width:at,height:ct,bytesPerPixel:ot=4,temp:$}=O;const N=at*ot;$=$||new Uint8Array(N);for(let U=0;U<ct/2;++U){const bt=U*N,X=(ct-U-1)*N;$.set(Q.subarray(bt,bt+N)),Q.copyWithin(bt,X,X+N),Q.set($,X)}}function G(O){let{data:Q,width:at,height:ct}=O;const ot=Math.round(at/2),$=Math.round(ct/2),N=new Uint8Array(ot*$*4);for(let U=0;U<$;U++)for(let bt=0;bt<ot;bt++)for(let X=0;X<4;X++)N[4*(U*ot+bt)+X]=Q[4*(2*U*at+2*bt)+X];return{data:N,width:ot,height:$}}},1803:Xe=>{"use strict";Xe.exports=Y,Xe.exports.default=Y;var se=1e20;function Y(G,O,Q,at,ct,ot){this.fontSize=G||24,this.buffer=void 0===O?3:O,this.cutoff=at||.25,this.fontFamily=ct||"sans-serif",this.fontWeight=ot||"normal",this.radius=Q||8;var $=this.size=this.fontSize+2*this.buffer,N=$+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=$,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round($/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function F(G,O,Q,at,ct,ot){for(var $=0;$<O;$++)Z(G,$,O,Q,at,ct,ot);for(var N=0;N<Q;N++)Z(G,N*O,1,O,at,ct,ot)}function Z(G,O,Q,at,ct,ot,$){var N,U,bt,X;for(ot[0]=0,$[0]=-se,$[1]=se,N=0;N<at;N++)ct[N]=G[O+N*Q];for(N=1,U=0,bt=0;N<at;N++){do{bt=(ct[N]-ct[X=ot[U]]+N*N-X*X)/(N-X)/2}while(bt<=$[U]&&--U>-1);ot[++U]=N,$[U]=bt,$[U+1]=se}for(N=0,U=0;N<at;N++){for(;$[U+1]<N;)U++;G[O+N*Q]=ct[X=ot[U]]+(N-X)*(N-X)}}Y.prototype._draw=function(G,O){var ot,$,N,U,bt,X,et,W,it,Q=this.ctx.measureText(G),at=Q.width,ct=2*this.buffer;O&&this.useMetrics?(bt=Math.floor(Q.actualBoundingBoxAscent),W=this.buffer+Math.ceil(Q.actualBoundingBoxAscent),X=this.buffer,et=this.buffer,ot=($=Math.min(this.size,Math.ceil(Q.actualBoundingBoxRight-Q.actualBoundingBoxLeft)))+ct,N=(U=Math.min(this.size-X,Math.ceil(Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent)))+ct,this.ctx.textBaseline="alphabetic"):(ot=$=this.size,N=U=this.size,bt=19*this.fontSize/24,X=et=0,W=this.middle,this.ctx.textBaseline="middle"),$&&U&&(this.ctx.clearRect(et,X,$,U),this.ctx.fillText(G,this.buffer,W),it=this.ctx.getImageData(et,X,$,U));var V=new Uint8ClampedArray(ot*N);return function tt(G,O,Q,at,ct,ot,$){ot.fill(se,0,O*Q),$.fill(0,0,O*Q);for(var N=(O-at)/2,U=0;U<ct;U++)for(var bt=0;bt<at;bt++){var X=(U+N)*O+bt+N,et=G.data[4*(U*at+bt)+3]/255;if(1===et)ot[X]=0,$[X]=se;else if(0===et)ot[X]=se,$[X]=0;else{var W=Math.max(0,.5-et),it=Math.max(0,et-.5);ot[X]=W*W,$[X]=it*it}}}(it,ot,N,$,U,this.gridOuter,this.gridInner),F(this.gridOuter,ot,N,this.f,this.v,this.z),F(this.gridInner,ot,N,this.f,this.v,this.z),function J(G,O,Q,at,ct,ot,$){for(var N=0;N<O*Q;N++){var U=Math.sqrt(at[N])-Math.sqrt(ct[N]);G[N]=Math.round(255-255*(U/ot+$))}}(V,ot,N,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:V,metrics:{width:$,height:U,sdfWidth:ot,sdfHeight:N,top:bt,left:0,advance:at}}},Y.prototype.draw=function(G){return this._draw(G,!1).data},Y.prototype.drawWithMetrics=function(G){return this._draw(G,!0)}},997:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>F});var tt=Y(4822);class F extends(function J(Z){function G(){var O=Reflect.construct(Z,Array.from(arguments));return Object.setPrototypeOf(O,Object.getPrototypeOf(this)),O}return G.prototype=Object.create(Z.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(G,Z):G.__proto__=Z,G}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(G,O=0){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=G[Q+O];return this.check()}toArray(G=[],O=0){for(let Q=0;Q<this.ELEMENTS;++Q)G[O+Q]=this[Q];return G}from(G){return Array.isArray(G)?this.copy(G):this.fromObject(G)}to(G){return G===this?this:(0,tt.kJ)(G)?this.toArray(G):this.toObject(G)}toTarget(G){return G?this.to(G):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(tt.vc)}formatString(G){let O="";for(let Q=0;Q<this.ELEMENTS;++Q)O+=(Q>0?", ":"")+(0,tt.Bw)(this[Q],G);return"".concat(G.printTypes?this.constructor.name:"","[").concat(O,"]")}equals(G){if(!G||this.length!==G.length)return!1;for(let O=0;O<this.ELEMENTS;++O)if(!(0,tt.fS)(this[O],G[O]))return!1;return!0}exactEquals(G){if(!G||this.length!==G.length)return!1;for(let O=0;O<this.ELEMENTS;++O)if(this[O]!==G[O])return!1;return!0}negate(){for(let G=0;G<this.ELEMENTS;++G)this[G]=-this[G];return this.check()}lerp(G,O,Q){if(void 0===Q)return this.lerp(this,G,O);for(let at=0;at<this.ELEMENTS;++at){const ct=G[at];this[at]=ct+Q*(O[at]-ct)}return this.check()}min(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=Math.min(G[O],this[O]);return this.check()}max(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=Math.max(G[O],this[O]);return this.check()}clamp(G,O){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min(Math.max(this[Q],G[Q]),O[Q]);return this.check()}add(...G){for(const O of G)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]+=O[Q];return this.check()}subtract(...G){for(const O of G)for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]-=O[Q];return this.check()}scale(G){if("number"==typeof G)for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;else for(let O=0;O<this.ELEMENTS&&O<G.length;++O)this[O]*=G[O];return this.check()}multiplyByScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;return this.check()}check(){if(tt.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let G=this.length===this.ELEMENTS;for(let O=0;O<this.ELEMENTS;++O)G=G&&Number.isFinite(this[O]);return G}sub(G){return this.subtract(G)}setScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]=G;return this.check()}addScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]+=G;return this.check()}subScalar(G){return this.addScalar(-G)}multiplyScalar(G){for(let O=0;O<this.ELEMENTS;++O)this[O]*=G;return this.check()}divideScalar(G){return this.multiplyByScalar(1/G)}clampScalar(G,O){for(let Q=0;Q<this.ELEMENTS;++Q)this[Q]=Math.min(Math.max(this[Q],G),O);return this.check()}get elements(){return this}}},9751:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>et});var tt=Y(997),J=Y(3345),F=Y(4822);class Z extends tt.Z{toString(){let q="[";if(F.vc.printRowMajor){q+="row-major:";for(let Pt=0;Pt<this.RANK;++Pt)for(let Tt=0;Tt<this.RANK;++Tt)q+=" ".concat(this[Tt*this.RANK+Pt])}else{q+="column-major:";for(let Pt=0;Pt<this.ELEMENTS;++Pt)q+=" ".concat(this[Pt])}return q+="]",q}getElementIndex(q,Pt){return Pt*this.RANK+q}getElement(q,Pt){return this[Pt*this.RANK+q]}setElement(q,Pt,Tt){return this[Pt*this.RANK+q]=(0,J.u5)(Tt),this}getColumn(q,Pt=new Array(this.RANK).fill(-0)){const Tt=q*this.RANK;for(let It=0;It<this.RANK;++It)Pt[It]=this[Tt+It];return Pt}setColumn(q,Pt){const Tt=q*this.RANK;for(let It=0;It<this.RANK;++It)this[Tt+It]=Pt[It];return this}}var G=Y(8230),O=Y(711),Q=Y(8235),at=Y(3454),ct=Y(9538),ot=(()=>{return(wt=ot||(ot={}))[wt.COL0ROW0=0]="COL0ROW0",wt[wt.COL0ROW1=1]="COL0ROW1",wt[wt.COL0ROW2=2]="COL0ROW2",wt[wt.COL0ROW3=3]="COL0ROW3",wt[wt.COL1ROW0=4]="COL1ROW0",wt[wt.COL1ROW1=5]="COL1ROW1",wt[wt.COL1ROW2=6]="COL1ROW2",wt[wt.COL1ROW3=7]="COL1ROW3",wt[wt.COL2ROW0=8]="COL2ROW0",wt[wt.COL2ROW1=9]="COL2ROW1",wt[wt.COL2ROW2=10]="COL2ROW2",wt[wt.COL2ROW3=11]="COL2ROW3",wt[wt.COL3ROW0=12]="COL3ROW0",wt[wt.COL3ROW1=13]="COL3ROW1",wt[wt.COL3ROW2=14]="COL3ROW2",wt[wt.COL3ROW3=15]="COL3ROW3",ot;var wt})();const $=45*Math.PI/180,N=1,U=.1,bt=500,X=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class et extends Z{static get IDENTITY(){return function lt(){return it||(it=new et,Object.freeze(it)),it}()}static get ZERO(){return function V(){return W||(W=new et([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(W)),W}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return ot}constructor(q){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(q)?this.copy(q):this.identity()}copy(q){return this[0]=q[0],this[1]=q[1],this[2]=q[2],this[3]=q[3],this[4]=q[4],this[5]=q[5],this[6]=q[6],this[7]=q[7],this[8]=q[8],this[9]=q[9],this[10]=q[10],this[11]=q[11],this[12]=q[12],this[13]=q[13],this[14]=q[14],this[15]=q[15],this.check()}set(q,Pt,Tt,It,ut,ae,ce,Et,vt,dt,_t,Zt,Ft,Ee,Wt,qt){return this[0]=q,this[1]=Pt,this[2]=Tt,this[3]=It,this[4]=ut,this[5]=ae,this[6]=ce,this[7]=Et,this[8]=vt,this[9]=dt,this[10]=_t,this[11]=Zt,this[12]=Ft,this[13]=Ee,this[14]=Wt,this[15]=qt,this.check()}setRowMajor(q,Pt,Tt,It,ut,ae,ce,Et,vt,dt,_t,Zt,Ft,Ee,Wt,qt){return this[0]=q,this[1]=ut,this[2]=vt,this[3]=Ft,this[4]=Pt,this[5]=ae,this[6]=dt,this[7]=Ee,this[8]=Tt,this[9]=ce,this[10]=_t,this[11]=Wt,this[12]=It,this[13]=Et,this[14]=Zt,this[15]=qt,this.check()}toRowMajor(q){return q[0]=this[0],q[1]=this[4],q[2]=this[8],q[3]=this[12],q[4]=this[1],q[5]=this[5],q[6]=this[9],q[7]=this[13],q[8]=this[2],q[9]=this[6],q[10]=this[10],q[11]=this[14],q[12]=this[3],q[13]=this[7],q[14]=this[11],q[15]=this[15],q}identity(){return this.copy(X)}fromObject(q){return this.check()}fromQuaternion(q){return O.en(this,q),this.check()}frustum(q){const{left:Pt,right:Tt,bottom:It,top:ut,near:ae=U,far:ce=bt}=q;return ce===1/0?function Ct(wt,q,Pt,Tt,It,ut){const ce=2*ut/(It-Tt),Et=(Pt+q)/(Pt-q),vt=(It+Tt)/(It-Tt),Zt=-2*ut;wt[0]=2*ut/(Pt-q),wt[1]=0,wt[2]=0,wt[3]=0,wt[4]=0,wt[5]=ce,wt[6]=0,wt[7]=0,wt[8]=Et,wt[9]=vt,wt[10]=-1,wt[11]=-1,wt[12]=0,wt[13]=0,wt[14]=Zt,wt[15]=0}(this,Pt,Tt,It,ut,ae):O.oy(this,Pt,Tt,It,ut,ae,ce),this.check()}lookAt(q){const{eye:Pt,center:Tt=[0,0,0],up:It=[0,1,0]}=q;return O.zB(this,Pt,Tt,It),this.check()}ortho(q){const{left:Pt,right:Tt,bottom:It,top:ut,near:ae=U,far:ce=bt}=q;return O.M5(this,Pt,Tt,It,ut,ae,ce),this.check()}orthographic(q){const{fovy:Pt=$,aspect:Tt=N,focalDistance:It=1,near:ut=U,far:ae=bt}=q;mt(Pt);const Et=It*Math.tan(Pt/2),vt=Et*Tt;return this.ortho({left:-vt,right:vt,bottom:-Et,top:Et,near:ut,far:ae})}perspective(q){const{fovy:Pt=45*Math.PI/180,aspect:Tt=1,near:It=.1,far:ut=500}=q;return mt(Pt),O.G3(this,Pt,Tt,It,ut),this.check()}determinant(){return O.GH(this)}getScale(q=[-0,-0,-0]){return q[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),q[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),q[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),q}getTranslation(q=[-0,-0,-0]){return q[0]=this[12],q[1]=this[13],q[2]=this[14],q}getRotation(q,Pt){q=q||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const Tt=this.getScale(Pt=Pt||[-0,-0,-0]),It=1/Tt[0],ut=1/Tt[1],ae=1/Tt[2];return q[0]=this[0]*It,q[1]=this[1]*ut,q[2]=this[2]*ae,q[3]=0,q[4]=this[4]*It,q[5]=this[5]*ut,q[6]=this[6]*ae,q[7]=0,q[8]=this[8]*It,q[9]=this[9]*ut,q[10]=this[10]*ae,q[11]=0,q[12]=0,q[13]=0,q[14]=0,q[15]=1,q}getRotationMatrix3(q,Pt){q=q||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const Tt=this.getScale(Pt=Pt||[-0,-0,-0]),It=1/Tt[0],ut=1/Tt[1],ae=1/Tt[2];return q[0]=this[0]*It,q[1]=this[1]*ut,q[2]=this[2]*ae,q[3]=this[4]*It,q[4]=this[5]*ut,q[5]=this[6]*ae,q[6]=this[8]*It,q[7]=this[9]*ut,q[8]=this[10]*ae,q}transpose(){return O.p4(this,this),this.check()}invert(){return O.U_(this,this),this.check()}multiplyLeft(q){return O.Jp(this,q,this),this.check()}multiplyRight(q){return O.Jp(this,this,q),this.check()}rotateX(q){return O.lM(this,this,q),this.check()}rotateY(q){return O.uD(this,this,q),this.check()}rotateZ(q){return O.jI(this,this,q),this.check()}rotateXYZ(q){return this.rotateX(q[0]).rotateY(q[1]).rotateZ(q[2])}rotateAxis(q,Pt){return O.U1(this,this,q,Pt),this.check()}scale(q){return O.bA(this,this,Array.isArray(q)?q:[q,q,q]),this.check()}translate(q){return O.Iu(this,this,q),this.check()}transform(q,Pt){return 4===q.length?(Pt=ct.fF(Pt||[-0,-0,-0,-0],q,this),(0,J.IL)(Pt,4),Pt):this.transformAsPoint(q,Pt)}transformAsPoint(q,Pt){const{length:Tt}=q;let It;switch(Tt){case 2:It=Q.fF(Pt||[-0,-0],q,this);break;case 3:It=at.fF(Pt||[-0,-0,-0],q,this);break;default:throw new Error("Illegal vector")}return(0,J.IL)(It,q.length),It}transformAsVector(q,Pt){let Tt;switch(q.length){case 2:Tt=(0,G.pb)(Pt||[-0,-0],q,this);break;case 3:Tt=(0,G.pL)(Pt||[-0,-0,-0],q,this);break;default:throw new Error("Illegal vector")}return(0,J.IL)(Tt,q.length),Tt}transformPoint(q,Pt){return this.transformAsPoint(q,Pt)}transformVector(q,Pt){return this.transformAsPoint(q,Pt)}transformDirection(q,Pt){return this.transformAsVector(q,Pt)}makeRotationX(q){return this.identity().rotateX(q)}makeTranslation(q,Pt,Tt){return this.identity().translate([q,Pt,Tt])}}let W,it;function mt(wt){if(wt>2*Math.PI)throw Error("expected radians")}},3659:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>ot});var tt=Y(997),J=Y(3345);function F($,N){if(!$)throw new Error("math.gl assertion ".concat(N))}class Z extends tt.Z{get x(){return this[0]}set x(N){this[0]=(0,J.u5)(N)}get y(){return this[1]}set y(N){this[1]=(0,J.u5)(N)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let N=0;for(let U=0;U<this.ELEMENTS;++U)N+=this[U]*this[U];return N}magnitudeSquared(){return this.lengthSquared()}distance(N){return Math.sqrt(this.distanceSquared(N))}distanceSquared(N){let U=0;for(let bt=0;bt<this.ELEMENTS;++bt){const X=this[bt]-N[bt];U+=X*X}return(0,J.u5)(U)}dot(N){let U=0;for(let bt=0;bt<this.ELEMENTS;++bt)U+=this[bt]*N[bt];return(0,J.u5)(U)}normalize(){const N=this.magnitude();if(0!==N)for(let U=0;U<this.ELEMENTS;++U)this[U]/=N;return this.check()}multiply(...N){for(const U of N)for(let bt=0;bt<this.ELEMENTS;++bt)this[bt]*=U[bt];return this.check()}divide(...N){for(const U of N)for(let bt=0;bt<this.ELEMENTS;++bt)this[bt]/=U[bt];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(N){return this.distance(N)}distanceToSquared(N){return this.distanceSquared(N)}getComponent(N){return F(N>=0&&N<this.ELEMENTS,"index is out of range"),(0,J.u5)(this[N])}setComponent(N,U){return F(N>=0&&N<this.ELEMENTS,"index is out of range"),this[N]=U,this.check()}addVectors(N,U){return this.copy(N).add(U)}subVectors(N,U){return this.copy(N).subtract(U)}multiplyVectors(N,U){return this.copy(N).multiply(U)}addScaledVector(N,U){return this.add(new this.constructor(N).multiplyScalar(U))}}var G=Y(4822),O=Y(3454),Q=Y(8230);const at=[0,0,0];let ct;class ot extends Z{static get ZERO(){return ct||(ct=new ot(0,0,0),Object.freeze(ct)),ct}constructor(N=0,U=0,bt=0){super(-0,-0,-0),1===arguments.length&&(0,G.kJ)(N)?this.copy(N):(G.vc.debug&&((0,J.u5)(N),(0,J.u5)(U),(0,J.u5)(bt)),this[0]=N,this[1]=U,this[2]=bt)}set(N,U,bt){return this[0]=N,this[1]=U,this[2]=bt,this.check()}copy(N){return this[0]=N[0],this[1]=N[1],this[2]=N[2],this.check()}fromObject(N){return G.vc.debug&&((0,J.u5)(N.x),(0,J.u5)(N.y),(0,J.u5)(N.z)),this[0]=N.x,this[1]=N.y,this[2]=N.z,this.check()}toObject(N){return N.x=this[0],N.y=this[1],N.z=this[2],N}get ELEMENTS(){return 3}get z(){return this[2]}set z(N){this[2]=(0,J.u5)(N)}angle(N){return O.EU(this,N)}cross(N){return O.kC(this,this,N),this.check()}rotateX({radians:N,origin:U=at}){return O.lM(this,this,U,N),this.check()}rotateY({radians:N,origin:U=at}){return O.uD(this,this,U,N),this.check()}rotateZ({radians:N,origin:U=at}){return O.jI(this,this,U,N),this.check()}transform(N){return this.transformAsPoint(N)}transformAsPoint(N){return O.fF(this,this,N),this.check()}transformAsVector(N){return(0,Q.pL)(this,this,N),this.check()}transformByMatrix3(N){return O.kK(this,this,N),this.check()}transformByMatrix2(N){return(0,Q.eQ)(this,this,N),this.check()}transformByQuaternion(N){return O.VC(this,this,N),this.check()}}},4822:(Xe,se,Y)=>{"use strict";Y.d(se,{Bw:()=>G,RW:()=>$,fS:()=>lt,kJ:()=>O,t7:()=>V,uR:()=>ot,uZ:()=>it,vc:()=>F});const tt=1/Math.PI*180,J=1/180*Math.PI,F={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function G(Tt,{precision:It=F.precision}={}){return Tt=function wt(Tt){return Math.round(Tt/F.EPSILON)*F.EPSILON}(Tt),"".concat(parseFloat(Tt.toPrecision(It)))}function O(Tt){return Array.isArray(Tt)||ArrayBuffer.isView(Tt)&&!(Tt instanceof DataView)}function ot(Tt,It){return Pt(Tt,ut=>ut*J,It)}function $(Tt,It){return Pt(Tt,ut=>ut*tt,It)}function it(Tt,It,ut){return Pt(Tt,ae=>Math.max(It,Math.min(ut,ae)))}function V(Tt,It,ut){return O(Tt)?Tt.map((ae,ce)=>V(ae,It[ce],ut)):ut*It+(1-ut)*Tt}function lt(Tt,It,ut){const ae=F.EPSILON;ut&&(F.EPSILON=ut);try{if(Tt===It)return!0;if(O(Tt)&&O(It)){if(Tt.length!==It.length)return!1;for(let ce=0;ce<Tt.length;++ce)if(!lt(Tt[ce],It[ce]))return!1;return!0}return Tt&&Tt.equals?Tt.equals(It):It&&It.equals?It.equals(Tt):"number"==typeof Tt&&"number"==typeof It&&Math.abs(Tt-It)<=F.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(It))}finally{F.EPSILON=ae}}function Pt(Tt,It,ut){if(O(Tt)){const ae=Tt;ut=ut||function q(Tt){return Tt.clone?Tt.clone():new Array(Tt.length)}(ae);for(let ce=0;ce<ut.length&&ce<ae.length;++ce)ut[ce]=It(Tt[ce],ce,ut);return ut}return It(Tt)}},8230:(Xe,se,Y)=>{"use strict";function tt(O,Q,at){const ct=Q[0],ot=Q[1],$=at[3]*ct+at[7]*ot||1;return O[0]=(at[0]*ct+at[4]*ot)/$,O[1]=(at[1]*ct+at[5]*ot)/$,O}function J(O,Q,at){const ct=Q[0],ot=Q[1],$=Q[2],N=at[3]*ct+at[7]*ot+at[11]*$||1;return O[0]=(at[0]*ct+at[4]*ot+at[8]*$)/N,O[1]=(at[1]*ct+at[5]*ot+at[9]*$)/N,O[2]=(at[2]*ct+at[6]*ot+at[10]*$)/N,O}function F(O,Q,at){const ct=Q[0],ot=Q[1];return O[0]=at[0]*ct+at[2]*ot,O[1]=at[1]*ct+at[3]*ot,O[2]=Q[2],O}Y.d(se,{eQ:()=>F,pL:()=>J,pb:()=>tt})},3345:(Xe,se,Y)=>{"use strict";Y.d(se,{IL:()=>Z,u5:()=>F});var tt=Y(4822);function F(Q){if(!Number.isFinite(Q))throw new Error("Invalid number ".concat(Q));return Q}function Z(Q,at,ct=""){if(tt.vc.debug&&!function J(Q,at){if(Q.length!==at)return!1;for(let ct=0;ct<Q.length;++ct)if(!Number.isFinite(Q[ct]))return!1;return!0}(Q,at))throw new Error("math.gl: ".concat(ct," some fields set to invalid numbers'"));return Q}},4698:(Xe,se,Y)=>{"use strict";Y.d(se,{eG:()=>ut,Lu:()=>vt,Xg:()=>Ft,if:()=>Ht,sj:()=>dt,zX:()=>qt,ro:()=>It,up:()=>jt,Bf:()=>Pt,wl:()=>ce,lf:()=>ae,w5:()=>wt,QA:()=>re,CT:()=>Zt,es:()=>q,aW:()=>_t});var tt=Y(9538);function F(gt,At){const St=(0,tt.fF)([],At,gt);return(0,tt.bA)(St,St,1/St[3]),St}function Z(gt,At){const St=gt%At;return St<0?At+St:St}function G(gt,At,St){return St*At+(1-St)*gt}function O(gt,At,St){return gt<At?At:gt>St?St:gt}const at=Math.log2||function Q(gt){return Math.log(gt)*Math.LOG2E};var ct=Y(711),ot=Y(8235),$=Y(3454);function N(gt,At){if(!gt)throw new Error(At||"@math.gl/web-mercator: assertion failed.")}const U=Math.PI,bt=U/4,X=U/180,et=180/U,W=512,it=4003e4,V=85.051129,lt=1.5;function mt(gt){return Math.pow(2,gt)}function Ct(gt){return at(gt)}function wt(gt){const[At,St]=gt;return N(Number.isFinite(At)),N(Number.isFinite(St)&&St>=-90&&St<=90,"invalid latitude"),[W*(At*X+U)/(2*U),W*(U+Math.log(Math.tan(bt+St*X*.5)))/(2*U)]}function q(gt){const[At,St]=gt,S=At/W*(2*U)-U,P=2*(Math.atan(Math.exp(St/W*(2*U)-U))-bt);return[S*et,P*et]}function Pt(gt){const{latitude:At}=gt;N(Number.isFinite(At));const St=Math.cos(At*X);return Ct(it*St)-9}function It(gt){const{latitude:At,longitude:St,highPrecision:S=!1}=gt;N(Number.isFinite(At)&&Number.isFinite(St));const P=W,z=Math.cos(At*X),ft=P/360,Mt=ft/z,Ot=P/it/z,me={unitsPerMeter:[Ot,Ot,Ot],metersPerUnit:[1/Ot,1/Ot,1/Ot],unitsPerDegree:[ft,Mt,Ot],degreesPerUnit:[1/ft,1/Mt,1/Ot]};if(S){const ye=X*Math.tan(At*X)/z,ze=P/it*ye,Qe=ze/Mt*Ot;me.unitsPerDegree2=[0,ft*ye/2,ze],me.unitsPerMeter2=[Qe,0,Qe]}return me}function ut(gt,At){const[St,S,P]=gt,[z,ft,Mt]=At,{unitsPerMeter:Ot,unitsPerMeter2:me}=It({longitude:St,latitude:S,highPrecision:!0}),ye=wt(gt);ye[0]+=z*(Ot[0]+me[0]*ft),ye[1]+=ft*(Ot[1]+me[1]*ft);const xe=q(ye),ze=(P||0)+(Mt||0);return Number.isFinite(P)||Number.isFinite(Mt)?[xe[0],xe[1],ze]:xe}function ae(gt){const{height:At,pitch:St,bearing:S,altitude:P,scale:z,center:ft}=gt,Mt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];ct.Iu(Mt,Mt,[0,0,-P]),ct.lM(Mt,Mt,-St*X),ct.jI(Mt,Mt,S*X);const Ot=z/At;return ct.bA(Mt,Mt,[Ot,Ot,Ot]),ft&&ct.Iu(Mt,Mt,$.tk([],ft)),Mt}function ce(gt){const{width:At,height:St,altitude:S,pitch:P=0,offset:z,center:ft,scale:Mt,nearZMultiplier:Ot=1,farZMultiplier:me=1}=gt;let{fovy:ye=vt(lt)}=gt;void 0!==S&&(ye=vt(S));const xe=ye*X,ze=P*X,Qe=dt(ye);let Ue=Qe;ft&&(Ue+=ft[2]*Mt/Math.cos(ze)/St);const sn=xe*(.5+(z?z[1]:0)/St),un=Math.sin(sn)*Ue/Math.sin(O(Math.PI/2-ze-sn,.01,Math.PI-.01)),ln=Math.sin(ze)*un+Ue;return{fov:xe,aspect:At/St,focalDistance:Qe,near:Ot,far:Math.min(ln*me,10*Ue)}}function vt(gt){return 2*Math.atan(.5/gt)*et}function dt(gt){return.5/Math.tan(.5*gt*X)}function _t(gt,At){const[St,S,P=0]=gt;return N(Number.isFinite(St)&&Number.isFinite(S)&&Number.isFinite(P)),F(At,[St,S,P,1])}function Zt(gt,At,St=0){const[S,P,z]=gt;if(N(Number.isFinite(S)&&Number.isFinite(P),"invalid pixel coordinate"),Number.isFinite(z))return F(At,[S,P,z,1]);const ft=F(At,[S,P,0,1]),Mt=F(At,[S,P,1,1]),Ot=ft[2],me=Mt[2];return ot.t7([],ft,Mt,Ot===me?0:((St||0)-Ot)/(me-Ot))}function Ft(gt){const{width:At,height:St,bounds:S,minExtent:P=0,maxZoom:z=24,offset:ft=[0,0]}=gt,[[Mt,Ot],[me,ye]]=S,xe=function Ee(gt=0){return"number"==typeof gt?{top:gt,bottom:gt,left:gt,right:gt}:(N(Number.isFinite(gt.top)&&Number.isFinite(gt.bottom)&&Number.isFinite(gt.left)&&Number.isFinite(gt.right)),gt)}(gt.padding),ze=wt([Mt,O(ye,-V,V)]),Qe=wt([me,O(Ot,-V,V)]),Ue=[Math.max(Math.abs(Qe[0]-ze[0]),P),Math.max(Math.abs(Qe[1]-ze[1]),P)],sn=[At-xe.left-xe.right-2*Math.abs(ft[0]),St-xe.top-xe.bottom-2*Math.abs(ft[1])];N(sn[0]>0&&sn[1]>0);const un=sn[0]/Ue[0],ln=sn[1]/Ue[1],Qt=q([(Qe[0]+ze[0])/2+(xe.right-xe.left)/2/un,(Qe[1]+ze[1])/2+(xe.top-xe.bottom)/2/ln]),_e=Math.min(z,at(Math.abs(Math.min(un,ln))));return N(Number.isFinite(_e)),{longitude:Qt[0],latitude:Qt[1],zoom:_e}}const Wt=Math.PI/180;function qt(gt,At=0){const{width:St,height:S,unproject:P}=gt,z={targetZ:At},ft=P([0,S],z),Mt=P([St,S],z);let Ot,me;return(gt.fovy?.5*gt.fovy*Wt:Math.atan(.5/gt.altitude))>(90-gt.pitch)*Wt-.01?(Ot=pe(gt,0,At),me=pe(gt,St,At)):(Ot=P([0,0],z),me=P([St,0],z)),[ft,Mt,me,Ot]}function pe(gt,At,St){const{pixelUnprojectionMatrix:S}=gt,P=F(S,[At,0,1,1]),z=F(S,[At,gt.height,1,1]),me=q(ot.t7([],P,z,(St*gt.distanceScales.unitsPerMeter[2]-P[2])/(z[2]-P[2])));return me.push(St),me}const Le=512;function re(gt){const{width:At,height:St,pitch:S=0}=gt;let{longitude:P,latitude:z,zoom:ft,bearing:Mt=0}=gt;(P<-180||P>180)&&(P=Z(P+180,360)-180),(Mt<-180||Mt>180)&&(Mt=Z(Mt+180,360)-180);const Ot=at(St/Le);if(ft<=Ot)ft=Ot,z=0;else{const me=St/2/Math.pow(2,ft),ye=q([0,me])[1];if(z<ye)z=ye;else{const xe=q([0,Le-me])[1];z>xe&&(z=xe)}}return{width:At,height:St,longitude:P,latitude:z,zoom:ft,pitch:S,bearing:Mt}}const Me=.01,le=["longitude","latitude","zoom"],Dt={curve:1.414,speed:1.2};function Ht(gt,At,St,S){const{startZoom:P,startCenterXY:z,uDelta:ft,w0:Mt,u1:Ot,S:me,rho:ye,rho2:xe,r0:ze}=Ut(gt,At,S);if(Ot<Me){const Pe={};for(const Qt of le)Pe[Qt]=G(gt[Qt],At[Qt],St);return Pe}const Qe=St*me,Ue=Math.cosh(ze)/Math.cosh(ze+ye*Qe),sn=Mt*((Math.cosh(ze)*Math.tanh(ze+ye*Qe)-Math.sinh(ze))/xe)/Ot,ln=P+Ct(1/Ue),xn=ot.bA([],ft,sn);ot.IH(xn,xn,z);const cn=q(xn);return{longitude:cn[0],latitude:cn[1],zoom:ln}}function jt(gt,At,St){const S={...Dt,...St},{screenSpeed:P,speed:z,maxDuration:ft}=S,{S:Mt,rho:Ot}=Ut(gt,At,S),me=1e3*Mt;let ye;return ye=Number.isFinite(P)?me/(P/Ot):me/z,Number.isFinite(ft)&&ye>ft?0:ye}function Ut(gt,At,St){const S=(St=Object.assign({},Dt,St)).curve,P=gt.zoom,z=[gt.longitude,gt.latitude],ft=mt(P),Ot=[At.longitude,At.latitude],me=mt(At.zoom-P),ye=wt(z),xe=wt(Ot),ze=ot.lu([],xe,ye),Qe=Math.max(gt.width,gt.height),Ue=Qe/me,sn=ot.kE(ze)*ft,un=Math.max(sn,Me),ln=S*S,xn=(Ue*Ue-Qe*Qe+ln*ln*un*un)/(2*Qe*ln*un),cn=(Ue*Ue-Qe*Qe-ln*ln*un*un)/(2*Ue*ln*un),Pe=Math.log(Math.sqrt(xn*xn+1)-xn),Qt=Math.log(Math.sqrt(cn*cn+1)-cn);return{startZoom:P,startCenterXY:ye,uDelta:ze,w0:Qe,u1:sn,S:(Qt-Pe)/S,rho:S,rho2:ln,r0:Pe,r1:Qt}}},5844:(Xe,se,Y)=>{"use strict";var tt={};function J(n){return"function"==typeof n}function F(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Y.r(tt),Y.d(tt,{Arc:()=>mB,BezierCurve:()=>iA,BoundingRect:()=>Kr,Circle:()=>Yf,CompoundPath:()=>gB,Ellipse:()=>fB,Group:()=>br,Image:()=>gu,IncrementalDisplayable:()=>aLt,Line:()=>eu,LinearGradient:()=>$f,OrientedBoundingRect:()=>aA,Path:()=>wo,Point:()=>Wr,Polygon:()=>Md,Polyline:()=>Ed,RadialGradient:()=>DK,Rect:()=>Qo,Ring:()=>nA,Sector:()=>Sd,Text:()=>la,applyTransform:()=>cf,clipPointsByRect:()=>RK,clipRectByRect:()=>hLt,createIcon:()=>$1,extendPath:()=>cLt,extendShape:()=>sLt,getShapeClass:()=>_B,getTransform:()=>v_,groupTransition:()=>X1,initProps:()=>cl,isElementRemoved:()=>Y0,lineLineIntersect:()=>LK,linePolygonIntersect:()=>q1,makeImage:()=>AK,makePath:()=>cA,mergePath:()=>Ph,registerShape:()=>lf,removeElement:()=>cg,removeElementWithFadeOut:()=>k1,resizePath:()=>PK,setTooltipConfig:()=>cb,subPixelOptimize:()=>uA,subPixelOptimizeLine:()=>lb,subPixelOptimizeRect:()=>uLt,transformDirection:()=>dA,traverseElements:()=>pg,updateProps:()=>fa});const Z=F(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function G(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class O{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof Z?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ct(o)}catch(a){e=e??[],a instanceof Z?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Z(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ct(e);else{if(e instanceof O){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&G(t,e)}remove(e){const{_finalizers:t}=this;t&&G(t,e),e instanceof O&&e._removeParent(this)}}O.EMPTY=(()=>{const n=new O;return n.closed=!0,n})();const Q=O.EMPTY;function at(n){return n instanceof O||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function ct(n){J(n)?n():n.unsubscribe()}const ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(n,e,...t){const{delegate:i}=$;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=$;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function N(n){$.setTimeout(()=>{const{onUnhandledError:e}=ot;if(!e)throw n;e(n)})}function U(){}const bt=W("C",void 0,void 0);function W(n,e,t){return{kind:n,value:e,error:t}}let it=null;function V(n){if(ot.useDeprecatedSynchronousErrorHandling){const e=!it;if(e&&(it={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=it;if(it=null,t)throw i}}else n()}class mt extends O{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,at(e)&&e.add(this)):this.destination=ae}static create(e,t,i){return new Pt(e,t,i)}next(e){this.isStopped?ut(function et(n){return W("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ut(function X(n){return W("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ut(bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ct=Function.prototype.bind;function wt(n,e){return Ct.call(n,e)}class q{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Tt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Tt(i)}else Tt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tt(t)}}}class Pt extends mt{constructor(e,t,i){let r;if(super(),J(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ot.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&wt(e.next,o),error:e.error&&wt(e.error,o),complete:e.complete&&wt(e.complete,o)}):r=e}this.destination=new q(r)}}function Tt(n){ot.useDeprecatedSynchronousErrorHandling?function lt(n){ot.useDeprecatedSynchronousErrorHandling&&it&&(it.errorThrown=!0,it.error=n)}(n):N(n)}function ut(n,e){const{onStoppedNotification:t}=ot;t&&$.setTimeout(()=>t(n,e))}const ae={closed:!0,next:U,error:function It(n){throw n},complete:U},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function Et(n){return n}function dt(n){return 0===n.length?Et:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let _t=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Ee(n){return n&&n instanceof mt||function Ft(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}(n)&&at(n)}(t)?t:new Pt(t,i,r);return V(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Zt(i))((r,o)=>{const a=new Pt({next:s=>{try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[ce](){return this}pipe(...t){return dt(t)(this)}toPromise(t){return new(t=Zt(t))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=e=>new n(e),n})();function Zt(n){var e;return null!==(e=n??ot.Promise)&&void 0!==e?e:Promise}const Wt=F(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qt=(()=>{class n extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new pe(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Wt}next(t){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Q:(this.currentObservers=null,o.push(t),new O(()=>{this.currentObservers=null,G(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new _t;return t.source=this,t}}return n.create=(e,t)=>new pe(e,t),n})();class pe extends qt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Q}}function Ne(n){return J(n?.lift)}function Le(n){return e=>{if(Ne(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(n,e,t,i,r){return new Me(n,e,t,i,r)}class Me extends mt{constructor(e,t,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(l){e.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(n,e){return Le((t,i)=>{let r=0;t.subscribe(re(i,o=>{i.next(n.call(e,o,r++))}))})}function un(n){return this instanceof un?(this.v=n,this):new un(n)}function cn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function xe(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(a){return new Promise(function(s,l){!function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}const en=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yn(n){return J(n?.then)}function Bt(n){return J(n[ce])}function Jt(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Ae(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Je=function je(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function An(n){return J(n?.[Je])}function vi(n){return function ln(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(p){return new Promise(function(g,y){o.push([h,p,g,y])>1||s(h,p)})})}function s(h,p){try{!function l(h){h.value instanceof un?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(g){d(o[0][3],g)}}function c(h){s("next",h)}function u(h){s("throw",h)}function d(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield un(t.read());if(r)return yield un(void 0);yield yield un(i)}}finally{t.releaseLock()}})}function ur(n){return J(n?.getReader)}function Ri(n){if(n instanceof _t)return n;if(null!=n){if(Bt(n))return function Ji(n){return new _t(e=>{const t=n[ce]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(en(n))return function Lo(n){return new _t(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(yn(n))return function Za(n){return new _t(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,N)})}(n);if(Jt(n))return Bi(n);if(An(n))return function Xo(n){return new _t(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ur(n))return function ua(n){return Bi(vi(n))}(n)}throw Ae(n)}function Bi(n){return new _t(e=>{(function zt(n,e){var t,i,r,o;return function Mt(n,e,t,i){return new(t||(t=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cn(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Yt(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function qe(n,e,t=1/0){return J(e)?qe((i,r)=>le((o,a)=>e(i,o,r,a))(Ri(n(i,r))),t):("number"==typeof e&&(t=e),Le((i,r)=>function Be(n,e,t,i,r,o,a,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=y=>c<i?g(y):l.push(y),g=y=>{o&&e.next(y),c++;let b=!1;Ri(t(y,u++)).subscribe(re(e,w=>{r?.(w),o?p(w):e.next(w)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){const w=l.shift();a?Yt(e,a,()=>g(w)):g(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(re(e,p,()=>{d=!0,h()})),()=>{s?.()}}(i,r,n,t)))}function an(n=1/0){return qe(Et,n)}const Fn=new _t(n=>n.complete());function Vi(n){return n&&J(n.schedule)}function Ti(n){return n[n.length-1]}function bo(n){return J(Ti(n))?n.pop():void 0}function fo(n){return Vi(Ti(n))?n.pop():void 0}function jo(n,e=0){return Le((t,i)=>{t.subscribe(re(i,r=>Yt(i,n,()=>i.next(r),e),()=>Yt(i,n,()=>i.complete(),e),r=>Yt(i,n,()=>i.error(r),e)))})}function Xs(n,e=0){return Le((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new _t(t=>{Yt(t,e,()=>{const i=n[Symbol.asyncIterator]();Yt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ki(n,e){return e?function as(n,e){if(null!=n){if(Bt(n))return function zi(n,e){return Ri(n).pipe(Xs(e),jo(e))}(n,e);if(en(n))return function Qi(n,e){return new _t(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(yn(n))return function cs(n,e){return Ri(n).pipe(Xs(e),jo(e))}(n,e);if(Jt(n))return nl(n,e);if(An(n))return function po(n,e){return new _t(t=>{let i;return Yt(t,e,()=>{i=n[Je](),Yt(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void t.error(a)}o?t.complete():t.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}(n,e);if(ur(n))return function os(n,e){return nl(vi(n),e)}(n,e)}throw Ae(n)}(n,e):Ri(n)}function Yi(...n){const e=fo(n),t=function Va(n,e){return"number"==typeof Ti(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ri(i[0]):an(t)(ki(i,e)):Fn}function sr(n={}){const{connector:e=(()=>new qt),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},p=()=>{h(),a=l=void 0,u=d=!1},g=()=>{const y=a;p(),y?.unsubscribe()};return Le((y,b)=>{c++,!d&&!u&&h();const w=l=l??e();b.add(()=>{c--,0===c&&!d&&!u&&(s=us(g,r))}),w.subscribe(b),!a&&c>0&&(a=new Pt({next:M=>w.next(M),error:M=>{d=!0,h(),s=us(p,t,M),w.error(M)},complete:()=>{u=!0,h(),s=us(p,i),w.complete()}}),Ri(y).subscribe(a))})(o)}}function us(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Pt({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function so(n){for(let e in n)if(n[e]===so)return e;throw Error("Could not find renamed property on target object.")}function oe(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Re(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const tn=so({__forward_ref__:so});function Ze(n){return n.__forward_ref__=Ze,n.toString=function(){return we(this())},n}function wn(n){return pr(n)?n():n}function pr(n){return"function"==typeof n&&n.hasOwnProperty(tn)&&n.__forward_ref__===Ze}function _i(n){return n&&!!n.\u0275providers}const xo="https://g.co/ng/security#xss";class En extends Error{constructor(e,t){super(il(e,t)),this.code=e}}function il(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Gt(n){return"string"==typeof n?n:null==n?"":String(n)}function ei(n,e){throw new En(-201,!1)}function mo(n,e){null==n&&function Gr(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function zn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vu(n){return fn(n,gi)||fn(n,Do)}function fn(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bn(n){return n&&(n.hasOwnProperty(Tr)||n.hasOwnProperty(qs))?n[Tr]:null}const gi=so({\u0275prov:so}),Tr=so({\u0275inj:so}),Do=so({ngInjectableDef:so}),qs=so({ngInjectorDef:so});var wi=(()=>((wi=wi||{})[wi.Default=0]="Default",wi[wi.Host=1]="Host",wi[wi.Self=2]="Self",wi[wi.SkipSelf=4]="SkipSelf",wi[wi.Optional=8]="Optional",wi))();let Bo;function zs(n){const e=Bo;return Bo=n,e}function Jo(n,e,t){const i=Vu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&wi.Optional?null:void 0!==e?e:void ei(we(n))}const Lr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dr={},xl="__NG_DI_FLAG__",nc="ngTempTokenPath",Zc="ngTokenPath",Rd=/\n/gm,vf="\u0275",So="__source";let dl;function go(n){const e=dl;return dl=n,e}function Cs(n,e=wi.Default){if(void 0===dl)throw new En(-203,!1);return null===dl?Jo(n,void 0,e):dl.get(n,e&wi.Optional?null:void 0,e)}function nn(n,e=wi.Default){return(function Rs(){return Bo}()||Cs)(wn(n),e)}function Vn(n,e=wi.Default){return nn(n,xc(e))}function xc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wo(n){const e=[];for(let t=0;t<n.length;t++){const i=wn(n[t]);if(Array.isArray(i)){if(0===i.length)throw new En(900,!1);let r,o=wi.Default;for(let a=0;a<i.length;a++){const s=i[a],l=Us(s);"number"==typeof l?-1===l?r=s.token:o|=l:r=s}e.push(nn(r,o))}else e.push(nn(i))}return e}function ic(n,e){return n[xl]=e,n.prototype[xl]=e,n}function Us(n){return n[xl]}function Gs(n){return{toString:n}.toString()}var Yr=(()=>((Yr=Yr||{})[Yr.OnPush=0]="OnPush",Yr[Yr.Default=1]="Default",Yr))(),vs=(()=>{return(n=vs||(vs={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",vs;var n})();const ol={},wr=[],ds=so({\u0275cmp:so}),Ls=so({\u0275dir:so}),Xc=so({\u0275pipe:so}),Hh=so({\u0275mod:so}),Os=so({\u0275fac:so}),Vo=so({__NG_ELEMENT_ID__:so});let ns=0;function Ci(n){return Gs(()=>{const e=ou(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||vs.Emulated,id:"c"+ns++,styles:n.styles||wr,_:null,schemas:n.schemas||null,tView:null};au(t);const i=n.dependencies;return t.directiveDefs=Cu(i,!1),t.pipeDefs=Cu(i,!0),t})}function rc(n){return lo(n)||Oo(n)}function Sl(n){return null!==n}function ai(n){return Gs(()=>({type:n.type,bootstrap:n.bootstrap||wr,declarations:n.declarations||wr,imports:n.imports||wr,exports:n.exports||wr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Gu(n,e){if(null==n)return ol;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Cn(n){return Gs(()=>{const e=ou(n);return au(e),e})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function lo(n){return n[ds]||null}function Oo(n){return n[Ls]||null}function Ks(n){return n[Xc]||null}function al(n,e){const t=n[Hh]||null;if(!t&&!0===e)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return t}function ou(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||wr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gu(n.inputs,e),outputs:Gu(n.outputs)}}function au(n){n.features?.forEach(e=>e(n))}function Cu(n,e){if(!n)return null;const t=e?Ks:rc;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Sl)}const Rl=0,fi=1,dr=2,he=3,Ss=4,Ja=5,Po=6,Ar=7,Ya=8,sl=9,Ns=10,mr=11,ea=12,ss=13,Xa=14,oc=15,ts=16,Wl=17,na=18,da=19,Qs=20,Ml=21,Hr=22,Hs=1,$a=2,ll=7,za=8,ac=9,Ao=10;function Ua(n){return Array.isArray(n)&&"object"==typeof n[Hs]}function hs(n){return Array.isArray(n)&&!0===n[Hs]}function wc(n){return 0!=(4&n.flags)}function Zo(n){return n.componentOffset>-1}function Cc(n){return 1==(1&n.flags)}function ia(n){return!!n.template}function Fs(n){return 0!=(256&n[dr])}function Zl(n,e){return n.hasOwnProperty(Os)?n[Os]:null}class ml{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yo(){return ke}function ke(n){return n.type.prototype.ngOnChanges&&(n.setInput=ht),R}function R(){const n=$t(this),e=n?.current;if(e){const t=n.previous;if(t===ol)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function ht(n,e,t,i){const r=this.declaredInputs[t],o=$t(n)||function ue(n,e){return n[Nt]=e}(n,{previous:ol,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[r];a[r]=new ml(l&&l.currentValue,e,s===ol),n[i]=e}Yo.ngInherit=!0;const Nt="__ngSimpleChanges__";function $t(n){return n[Nt]||null}const dn=function(n,e,t){},Pn="svg";function Hn(n){for(;Array.isArray(n);)n=n[Rl];return n}function si(n,e){return Hn(e[n])}function di(n,e){return Hn(e[n.index])}function zo(n,e){return n.data[e]}function f(n,e){return n[e]}function m(n,e){const t=e[n];return Ua(t)?t:t[Rl]}function x(n){return 64==(64&n[dr])}function K(n,e){return null==e?null:n[e]}function xt(n){n[na]=0}function Kt(n,e){n[Ja]+=e;let t=n,i=n[he];for(;null!==i&&(1===e&&1===t[Ja]||-1===e&&0===t[Ja]);)i[Ja]+=e,t=i,i=i[he]}const fe={lFrame:sM(null),bindingsEnabled:!0};function bi(){return fe.bindingsEnabled}function kn(){return fe.lFrame.lView}function Br(){return fe.lFrame.tView}function Js(n){return fe.lFrame.contextLView=n,n[Ya]}function hl(n){return fe.lFrame.contextLView=null,n}function El(){let n=lu();for(;null!==n&&64===n.type;)n=n.parent;return n}function lu(){return fe.lFrame.currentTNode}function Hu(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function _f(){return fe.lFrame.isParent}function uy(){fe.lFrame.isParent=!1}function jh(){return fe.lFrame.bindingIndex++}function fy(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mm(e)}function Mm(n){fe.lFrame.currentDirectiveIndex=n}function py(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function my(){return fe.lFrame.currentQueryIndex}function fx(n){fe.lFrame.currentQueryIndex=n}function aM(n){const e=n[fi];return 2===e.type?e.declTNode:1===e.type?n[Po]:null}function oh(n,e,t){if(t&wi.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&wi.Host||(r=aM(o),null===r||(o=o[oc],10&r.type))););if(null===r)return!1;e=r,n=o}const i=fe.lFrame=px();return i.currentTNode=e,i.lView=n,!0}function gy(n){const e=px(),t=n[fi];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function px(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?sM(n):e}function sM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function mx(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ah=mx;function jg(){const n=mx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sc(){return fe.lFrame.selectedIndex}function fd(n){fe.lFrame.selectedIndex=n}function Hi(){const n=fe.lFrame;return zo(n.tView,n.selectedIndex)}function Od(){fe.lFrame.currentNamespace=Pn}function Nd(){!function yx(){fe.lFrame.currentNamespace=null}()}function Wg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??(n.contentHooks=[])).push(-t,a),s&&((n.contentHooks??(n.contentHooks=[])).push(t,s),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,s)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function Zg(n,e,t){Qc(n,e,3,t)}function vy(n,e,t,i){(3&n[dr])===t&&Qc(n,e,t,i)}function Fd(n,e){let t=n[dr];(3&t)===e&&(t&=2047,t+=1,n[dr]=t)}function Qc(n,e,t,i){const o=i??-1,a=e.length-1;let s=0;for(let l=void 0!==i?65535&n[na]:0;l<a;l++)if("number"==typeof e[l+1]){if(s=e[l],null!=i&&s>=i)break}else e[l]<0&&(n[na]+=65536),(s<o||-1==o)&&(bx(n,t,e,l),n[na]=(4294901760&n[na])+l+2),l++}function bx(n,e,t,i){const r=t[i]<0,o=t[i+1],s=n[r?-t[i]:t[i]];if(r){if(n[dr]>>11<n[na]>>16&&(3&n[dr])===e){n[dr]+=2048,dn(4,s,o);try{o.call(s)}finally{dn(5,s,o)}}}else{dn(4,s,o);try{o.call(s)}finally{dn(5,s,o)}}}const yf=-1;class Yg{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function mp(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],a=t[i++],s=t[i++];n.setAttribute(e,a,s,o)}else{const o=r,a=t[++i];xx(o)?n.setProperty(e,o,a):n.setAttribute(e,o,a),i++}}return i}function yy(n){return 3===n||4===n||6===n}function xx(n){return 64===n.charCodeAt(0)}function Em(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||$g(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function $g(n,e,t,i,r){let o=0,a=n.length;if(-1===e)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(n.splice(a,0,e),o=a+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Cx(n){return n!==yf}function ju(n){return 32767&n}function qg(n,e){let t=function gp(n){return n>>16}(n),i=e;for(;t>0;)i=i[oc],t--;return i}let Sx=!0;function by(n){const e=Sx;return Sx=n,e}const Mx=255,Ex=5;let dM=0;const Bd={};function xy(n,e){const t=Wu(n,e);if(-1!==t)return t;const i=e[fi];i.firstCreatePass&&(n.injectorIndex=e.length,Tx(i.data,n),Tx(e,null),Tx(i.blueprint,null));const r=Dx(n,e),o=n.injectorIndex;if(Cx(r)){const a=ju(r),s=qg(r,e),l=s[fi].data;for(let c=0;c<8;c++)e[o+c]=s[a+c]|l[a+c]}return e[o+8]=r,o}function Tx(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Wu(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Dx(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=vM(r),null===i)return yf;if(t++,r=r[oc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return yf}function wy(n,e,t){!function eR(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Vo)&&(i=t[Vo]),null==i&&(i=t[Vo]=dM++);const r=i&Mx;e.data[n+(r>>Ex)]|=1<<r}(n,e,t)}function Cy(n,e,t){if(t&wi.Optional||void 0!==n)return n;ei()}function hM(n,e,t,i){if(t&wi.Optional&&void 0===i&&(i=null),!(t&(wi.Self|wi.Host))){const r=n[sl],o=zs(void 0);try{return r?r.get(e,i,t&wi.Optional):Jo(e,i,t&wi.Optional)}finally{zs(o)}}return Cy(i,0,t)}function fM(n,e,t,i=wi.Default,r){if(null!==n){if(1024&e[dr]){const a=function oR(n,e,t,i,r){let o=n,a=e;for(;null!==o&&null!==a&&1024&a[dr]&&!(256&a[dr]);){const s=pM(o,a,t,i|wi.Self,Bd);if(s!==Bd)return s;let l=o.parent;if(!l){const c=a[Ml];if(c){const u=c.get(t,Bd,i);if(u!==Bd)return u}l=vM(a),a=a[oc]}o=l}return r}(n,e,t,i,Bd);if(a!==Bd)return a}const o=pM(n,e,t,i,Bd);if(o!==Bd)return o}return hM(e,t,i,r)}function pM(n,e,t,i,r){const o=function iR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vo)?n[Vo]:void 0;return"number"==typeof e?e>=0?e&Mx:rR:e}(t);if("function"==typeof o){if(!oh(e,n,i))return i&wi.Host?Cy(r,0,i):hM(e,t,i,r);try{const a=o(i);if(null!=a||i&wi.Optional)return a;ei()}finally{ah()}}else if("number"==typeof o){let a=null,s=Wu(n,e),l=yf,c=i&wi.Host?e[ts][Po]:null;for((-1===s||i&wi.SkipSelf)&&(l=-1===s?Dx(n,e):e[s+8],l!==yf&&gM(i,!1)?(a=e[fi],s=ju(l),e=qg(l,e)):s=-1);-1!==s;){const u=e[fi];if(mM(o,s,u.data)){const d=Ax(s,e,t,a,i,c);if(d!==Bd)return d}l=e[s+8],l!==yf&&gM(i,e[fi].data[s+8]===c)&&mM(o,s,e)?(a=u,s=ju(l),e=qg(l,e)):s=-1}}return r}function Ax(n,e,t,i,r,o){const a=e[fi],s=a.data[n+8],u=Kg(s,a,t,null==i?Zo(s)&&Sx:i!=a&&0!=(3&s.type),r&wi.Host&&o===s);return null!==u?vp(e,a,u,s):Bd}function Kg(n,e,t,i,r){const o=n.providerIndexes,a=e.data,s=1048575&o,l=n.directiveStart,u=o>>20,h=r?s+u:n.directiveEnd;for(let p=i?s:s+u;p<h;p++){const g=a[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(r){const p=a[l];if(p&&ia(p)&&p.type===t)return l}return null}function vp(n,e,t,i){let r=n[t];const o=e.data;if(function Xg(n){return n instanceof Yg}(r)){const a=r;a.resolving&&function Ge(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new En(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Gt(n)}(o[t]));const s=by(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?zs(a.injectImpl):null;oh(n,i,wi.Default);try{r=n[t]=a.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Kc(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const a=ke(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,a)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&zs(l),by(s),a.resolving=!1,ah()}}return r}function mM(n,e,t){return!!(t[e+(n>>Ex)]&1<<n)}function gM(n,e){return!(n&wi.Self||n&wi.Host&&e)}class Tm{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return fM(this._tNode,this._lView,e,xc(i),t)}}function rR(){return new Tm(El(),kn())}function Vr(n){return Gs(()=>{const e=n.prototype.constructor,t=e[Os]||Dm(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Os]||Dm(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Dm(n){return pr(n)?()=>{const e=Dm(wn(n));return e&&e()}:Zl(n)}function vM(n){const e=n[fi],t=e.type;return 2===t?e.declTNode:1===t?n[Po]:null}function cu(n){return function nR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(yy(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(El(),n)}const _p="__parameters__";function Im(n,e,t){return Gs(()=>{const i=function Ix(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return s.annotation=a,s;function s(l,c,u){const d=l.hasOwnProperty(_p)?l[_p]:Object.defineProperty(l,_p,{value:[]})[_p];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class hn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=zn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bp(n,e){n.forEach(t=>Array.isArray(t)?bp(t,e):e(t))}function bM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Yu(n,e,t){let i=Mu(n,e);return i>=0?n[1|i]=t:(i=~i,function Ll(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function tv(n,e){const t=Mu(n,e);if(t>=0)return n[1|t]}function Mu(n,e){return function ev(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),a=n[o<<t];if(e===a)return o<<t;a>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Mc=ic(Im("Inject",n=>({token:n})),-1),Yl=ic(Im("Optional"),8),pd=ic(Im("SkipSelf"),4);var Eu=(()=>((Eu=Eu||{})[Eu.Important=1]="Important",Eu[Eu.DashCase=2]="DashCase",Eu))();const ov=new Map;let CR=0;const Wx="__ngContext__";function Tc(n,e){Ua(e)?(n[Wx]=e[Qs],function jx(n){ov.set(n[Qs],n)}(e)):n[Wx]=e}let nt;function Rt(n,e){return nt(n,e)}function De(n){const e=n[he];return hs(e)?e[he]:e}function Sn(n){return Yn(n[ss])}function Wn(n){return Yn(n[Ss])}function Yn(n){for(;null!==n&&!hs(n);)n=n[Ss];return n}function ii(n,e,t,i,r){if(null!=i){let o,a=!1;hs(i)?o=i:Ua(i)&&(a=!0,i=i[Rl]);const s=Hn(i);0===n&&null!==t?null==r?av(e,t,s):Vd(e,t,s,r||null,!0):1===n&&null!==t?Vd(e,t,s,r||null,!0):2===n?function PR(n,e,t){const i=sv(n,e);i&&function bf(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,s,a):3===n&&e.destroyNode(s),null!=o&&function mmt(n,e,t,i,r){const o=t[ll];o!==Hn(t)&&ii(e,n,i,o,r);for(let s=Ao;s<t.length;s++){const l=t[s];Yx(l[fi],l,n,e,i,o)}}(e,n,o,t,r)}}function $n(n,e,t){return n.createElement(e,t)}function Ir(n,e){const t=n[ac],i=t.indexOf(e),r=e[he];512&e[dr]&&(e[dr]&=-513,Kt(r,-1)),t.splice(i,1)}function jr(n,e){if(n.length<=Ao)return;const t=Ao+e,i=n[t];if(i){const r=i[Wl];null!==r&&r!==n&&Ir(r,i),e>0&&(n[t-1][Ss]=i[Ss]);const o=sh(n,Ao+e);!function mi(n,e){Yx(n,e,e[mr],2,null,null),e[Rl]=null,e[Po]=null}(i[fi],i);const a=o[da];null!==a&&a.detachView(o[fi]),i[he]=null,i[Ss]=null,i[dr]&=-65}return i}function Xl(n,e){if(!(128&e[dr])){const t=e[mr];t.destroyNode&&Yx(n,e,t,3,null,null),function io(n){let e=n[ss];if(!e)return Nc(n[fi],n);for(;e;){let t=null;if(Ua(e))t=e[ss];else{const i=e[Ao];i&&(t=i)}if(!t){for(;e&&!e[Ss]&&e!==n;)Ua(e)&&Nc(e[fi],e),e=e[he];null===e&&(e=n),Ua(e)&&Nc(e[fi],e),t=e&&e[Ss]}e=t}}(e)}}function Nc(n,e){if(!(128&e[dr])){e[dr]&=-65,e[dr]|=128,function cc(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Yg)){const o=t[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=r[o[a]],l=o[a+1];dn(4,s,l);try{l.call(s)}finally{dn(5,s,l)}}else{dn(4,r,o);try{o.call(r)}finally{dn(5,r,o)}}}}}(n,e),function ch(n,e){const t=n.cleanup,i=e[Ar];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const a=t[o+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),o+=2}else{const a=i[r=t[o+1]];t[o].call(a)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[Ar]=null}}(n,e),1===e[fi].type&&e[mr].destroy();const t=e[Wl];if(null!==t&&hs(e[he])){t!==e[he]&&Ir(t,e);const i=e[da];null!==i&&i.detachView(n)}!function MR(n){ov.delete(n[Qs])}(e)}}function uh(n,e,t){return function Wh(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Rl];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===vs.None||o===vs.Emulated)return null}return di(i,t)}}(n,e.parent,t)}function Vd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function av(n,e,t){n.appendChild(e,t)}function Sp(n,e,t,i,r){null!==i?Vd(n,e,t,i,r):av(n,e,t)}function sv(n,e){return n.parentNode(e)}function ky(n,e,t){return cv(n,e,t)}let Ry,FM,LR,BM,cv=function lv(n,e,t){return 40&n.type?di(n,t):null};function Mp(n,e,t,i){const r=uh(n,i,e),o=e[mr],s=ky(i.parent||e[Po],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Sp(o,r,t[l],s,!1);else Sp(o,r,t,s,!1);void 0!==Ry&&Ry(o,i,e,t,r)}function NM(n,e){if(null!==e){const t=e.type;if(3&t)return di(e,n);if(4&t)return IR(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return NM(n,i);{const r=n[e.index];return hs(r)?IR(-1,r):Hn(r)}}if(32&t)return Rt(e,n)()||Hn(n[e.index]);{const i=lG(n,e);return null!==i?Array.isArray(i)?i[0]:NM(De(n[ts]),i):NM(n,e.next)}}return null}function lG(n,e){return null!==e?n[ts][Po].projection[e.projection]:null}function IR(n,e){const t=Ao+n+1;if(t<e.length){const i=e[t],r=i[fi].firstChild;if(null!==r)return NM(i,r)}return e[ll]}function kR(n,e,t,i,r,o,a){for(;null!=t;){const s=i[t.index],l=t.type;if(a&&0===e&&(s&&Tc(Hn(s),i),t.flags|=2),32!=(32&t.flags))if(8&l)kR(n,e,t.child,i,r,o,!1),ii(e,n,r,s,o);else if(32&l){const c=Rt(t,i);let u;for(;u=c();)ii(e,n,r,u,o);ii(e,n,r,s,o)}else 16&l?cG(n,e,i,t,r,o):ii(e,n,r,s,o);t=a?t.projectionNext:t.next}}function Yx(n,e,t,i,r,o){kR(t,i,n.firstChild,e,r,o,!1)}function cG(n,e,t,i,r,o){const a=t[ts],l=a[Po].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ii(e,n,r,l[c],o);else kR(n,e,l,a[he],r,o,!0)}function uG(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function dG(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&mp(n,e,i),null!==r&&uG(n,e,r),null!==o&&function vmt(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Ly(n){return function RR(){if(void 0===FM&&(FM=null,Lr.trustedTypes))try{FM=Lr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return FM}()?.createHTML(n)||n}function mG(n){return function OR(){if(void 0===BM&&(BM=null,Lr.trustedTypes))try{BM=Lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return BM}()?.createScriptURL(n)||n}class dv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xo})`}}class wmt extends dv{getTypeName(){return"HTML"}}class Cmt extends dv{getTypeName(){return"Style"}}class Smt extends dv{getTypeName(){return"Script"}}class Mmt extends dv{getTypeName(){return"URL"}}class Emt extends dv{getTypeName(){return"ResourceURL"}}function zd(n){return n instanceof dv?n.changingThisBreaksApplicationSecurity:n}function xf(n,e){const t=function Tmt(n){return n instanceof dv&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${xo})`)}return t===e}class Rmt{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ly(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Lmt{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Ly(e),t}}const Nmt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function VM(n){return(n=String(n)).match(Nmt)?n:"unsafe:"+n}function Ep(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Xx(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const vG=Ep("area,br,col,hr,img,wbr"),_G=Ep("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yG=Ep("rp,rt"),NR=Xx(vG,Xx(_G,Ep("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xx(yG,Ep("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xx(yG,_G)),FR=Ep("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bG=Xx(FR,Ep("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ep("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fmt=Ep("script,style,template");class Bmt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!NR.hasOwnProperty(t))return this.sanitizedSomething=!0,!Fmt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),a=o.name,s=a.toLowerCase();if(!bG.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;FR[s]&&(l=VM(l)),this.buf.push(" ",a,'="',xG(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();NR.hasOwnProperty(t)&&!vG.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(xG(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Vmt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zmt=/([^\#-~ |!])/g;function xG(n){return n.replace(/&/g,"&amp;").replace(Vmt,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(zmt,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zM;function wG(n,e){let t=null;try{zM=zM||function gG(n){const e=new Lmt(n);return function Omt(){try{return!!(new window.DOMParser).parseFromString(Ly(""),"text/html")}catch{return!1}}()?new Rmt(e):e}(n);let i=e?String(e):"";t=zM.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=zM.getInertBodyElement(i)}while(i!==o);return Ly((new Bmt).sanitizeChildren(BR(t)||t))}finally{if(t){const i=BR(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function BR(n){return"content"in n&&function Umt(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ts=(()=>((Ts=Ts||{})[Ts.NONE=0]="NONE",Ts[Ts.HTML=1]="HTML",Ts[Ts.STYLE=2]="STYLE",Ts[Ts.SCRIPT=3]="SCRIPT",Ts[Ts.URL=4]="URL",Ts[Ts.RESOURCE_URL=5]="RESOURCE_URL",Ts))();function CG(n){const e=$x();return e?e.sanitize(Ts.URL,n)||"":xf(n,"URL")?zd(n):VM(Gt(n))}function SG(n){const e=$x();if(e)return mG(e.sanitize(Ts.RESOURCE_URL,n)||"");if(xf(n,"ResourceURL"))return mG(zd(n));throw new En(904,!1)}function $x(){const n=kn();return n&&n[ea]}const Oy=new hn("ENVIRONMENT_INITIALIZER"),EG=new hn("INJECTOR",-1),TG=new hn("INJECTOR_DEF_TYPES");class DG{get(e,t=Dr){if(t===Dr){const i=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw i.name="NullInjectorError",i}return t}}function $mt(...n){return{\u0275providers:AG(0,n),\u0275fromNgModule:!0}}function AG(n,...e){const t=[],i=new Set;let r;return bp(e,o=>{const a=o;VR(a,t,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&IG(r,t),t}function IG(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];zR(r,o=>{e.push(o)})}}function VR(n,e,t,i){if(!(n=wn(n)))return!1;let r=null,o=Bn(n);const a=!o&&lo(n);if(o||a){if(a&&!a.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Bn(l),!o)return!1;r=l}const s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)VR(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;i.add(r);try{bp(o.imports,u=>{VR(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&IG(c,e)}if(!s){const c=Zl(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:wr},{provide:TG,useValue:r,multi:!0},{provide:Oy,useValue:()=>nn(r),multi:!0})}const l=o.providers;null==l||s||zR(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function zR(n,e){for(let t of n)_i(t)&&(t=t.\u0275providers),Array.isArray(t)?zR(t,e):e(t)}const qmt=so({provide:String,useValue:so});function UR(n){return null!==n&&"object"==typeof n&&qmt in n}function hv(n){return"function"==typeof n}const GR=new hn("Set Injector scope."),UM={},Qmt={};let HR;function GM(){return void 0===HR&&(HR=new DG),HR}class wf{}class RG extends wf{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,WR(e,a=>this.processProvider(a)),this.records.set(EG,Ny(void 0,this)),r.has("environment")&&this.records.set(wf,Ny(void 0,this));const o=this.records.get(GR);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TG.multi,wr,wi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=go(this),i=zs(void 0);try{return e()}finally{go(t),zs(i)}}get(e,t=Dr,i=wi.Default){this.assertNotDestroyed(),i=xc(i);const r=go(this),o=zs(void 0);try{if(!(i&wi.SkipSelf)){let s=this.records.get(e);if(void 0===s){const l=function igt(n){return"function"==typeof n||"object"==typeof n&&n instanceof hn}(e)&&Vu(e);s=l&&this.injectableDefInScope(l)?Ny(jR(e),UM):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}return(i&wi.Self?GM():this.parent).get(e,t=i&wi.Optional&&t===Dr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[nc]=a[nc]||[]).unshift(we(e)),r)throw a;return function wl(n,e,t,i){const r=n[nc];throw e[So]&&r.unshift(e[So]),n.message=function Uu(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==vf?n.slice(2):n;let r=we(e);if(Array.isArray(e))r=e.map(we).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):we(s)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Rd,"\n  ")}`}("\n"+n.message,r,t,i),n[Zc]=r,n[nc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{zs(o),go(r)}}resolveInjectorInitializers(){const e=go(this),t=zs(void 0);try{const i=this.get(Oy.multi,wr,wi.Self);for(const r of i)r()}finally{go(e),zs(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(we(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new En(205,!1)}processProvider(e){let t=hv(e=wn(e))?e:wn(e&&e.provide);const i=function tgt(n){return UR(n)?Ny(void 0,n.useValue):Ny(LG(n),UM)}(e);if(hv(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ny(void 0,UM,!0),r.factory=()=>Wo(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===UM&&(t.value=Qmt,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ngt(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=wn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function jR(n){const e=Vu(n),t=null!==e?e.factory:Zl(n);if(null!==t)return t;if(n instanceof hn)throw new En(204,!1);if(n instanceof Function)return function Jmt(n){const e=n.length;if(e>0)throw vo(e,"?"),new En(204,!1);const t=function Tn(n){return n&&(n[gi]||n[Do])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new En(204,!1)}function LG(n,e,t){let i;if(hv(n)){const r=wn(n);return Zl(r)||jR(r)}if(UR(n))i=()=>wn(n.useValue);else if(function kG(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Wo(n.deps||[]));else if(function PG(n){return!(!n||!n.useExisting)}(n))i=()=>nn(wn(n.useExisting));else{const r=wn(n&&(n.useClass||n.provide));if(!function egt(n){return!!n.deps}(n))return Zl(r)||jR(r);i=()=>new r(...Wo(n.deps))}return i}function Ny(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WR(n,e){for(const t of n)Array.isArray(t)?WR(t,e):t&&_i(t)?WR(t.\u0275providers,e):e(t)}class rgt{}class OG{}class agt{resolveComponentFactory(e){throw function ogt(n){const e=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let fv=(()=>{class n{}return n.NULL=new agt,n})();function sgt(){return Fy(El(),kn())}function Fy(n,e){return new Oi(di(n,e))}let Oi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=sgt,n})();function lgt(n){return n instanceof Oi?n.nativeElement:n}class qx{}let Tp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function cgt(){const n=kn(),t=m(El().index,n);return(Ua(t)?t:n)[mr]}(),n})(),ugt=(()=>{class n{}return n.\u0275prov=zn({token:n,providedIn:"root",factory:()=>null}),n})();class pv{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dgt=new pv("15.2.8"),ZR={},YR="ngOriginalError";function XR(n){return n[YR]}class Dp{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XR(e);for(;t&&XR(t);)t=XR(t);return t||null}}function Ap(n){return n instanceof Function?n():n}function BG(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const VG="ng-template";function wgt(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const a=n[i++];if(t&&"class"===o&&-1!==BG(a.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function zG(n){return 4===n.type&&n.value!==VG}function Cgt(n,e,t){return e===(4!==n.type||t?n.value:VG)}function Sgt(n,e,t){let i=4;const r=n.attrs||[],o=function Tgt(n){for(let e=0;e<n.length;e++)if(yy(n[e]))return e;return n.length}(r);let a=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!Cgt(n,l,t)||""===l&&1===e.length){if(Zh(i))return!1;a=!0}}else{const c=8&i?l:e[++s];if(8&i&&null!==n.attrs){if(!wgt(n.attrs,c,t)){if(Zh(i))return!1;a=!0}continue}const d=Mgt(8&i?"class":l,r,zG(n),t);if(-1===d){if(Zh(i))return!1;a=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==BG(p,c,0)||2&i&&c!==h){if(Zh(i))return!1;a=!0}}}}else{if(!a&&!Zh(i)&&!Zh(l))return!1;if(a&&Zh(l))continue;a=!1,i=l|1&i}}return Zh(i)||a}function Zh(n){return 0==(1&n)}function Mgt(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=e[++r];for(;"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function Dgt(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function UG(n,e,t=!1){for(let i=0;i<e.length;i++)if(Sgt(n,e[i],t))return!0;return!1}function Agt(n,e){t:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue t;return!0}}return!1}function GG(n,e){return n?":not("+e.trim()+")":e}function Igt(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const s=n[++t];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Zh(a)&&(e+=GG(o,r),r=""),i=a,o=o||!Zh(i);t++}return""!==r&&(e+=GG(o,r)),e}const Fo={};function Si(n){HG(Br(),kn(),Sc()+n,!1)}function HG(n,e,t,i){if(!i)if(3==(3&e[dr])){const o=n.preOrderCheckHooks;null!==o&&Zg(e,o,t)}else{const o=n.preOrderHooks;null!==o&&vy(e,o,0,t)}fd(t)}function YG(n,e=null,t=null,i){const r=XG(n,e,t,i);return r.resolveInjectorInitializers(),r}function XG(n,e=null,t=null,i,r=new Set){const o=[t||wr,$mt(n)];return i=i||("object"==typeof n?void 0:we(n)),new RG(o,e||GM(),i||null,r)}let hu=(()=>{class n{static create(t,i){if(Array.isArray(t))return YG({name:""},i,t,"");{const r=t.name??"";return YG({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Dr,n.NULL=new DG,n.\u0275prov=zn({token:n,providedIn:"any",factory:()=>nn(EG)}),n.__NG_ELEMENT_ID__=-1,n})();function ie(n,e=wi.Default){const t=kn();return null===t?nn(n,e):fM(El(),t,wn(n),e)}function Lm(){throw new Error("invalid")}function e6(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];fx(t[i]),a.contentQueries(2,e[o],o)}}}function jM(n,e,t,i,r,o,a,s,l,c,u){const d=e.blueprint.slice();return d[Rl]=r,d[dr]=76|i,(null!==u||n&&1024&n[dr])&&(d[dr]|=1024),xt(d),d[he]=d[oc]=n,d[Ya]=t,d[Ns]=a||n&&n[Ns],d[mr]=s||n&&n[mr],d[ea]=l||n&&n[ea]||null,d[sl]=c||n&&n[sl]||null,d[Po]=o,d[Qs]=function SR(){return CR++}(),d[Ml]=u,d[ts]=2==e.type?n[ts]:d,d}function zy(n,e,t,i,r){let o=n.data[e];if(null===o)o=function JR(n,e,t,i,r){const o=lu(),a=_f(),l=n.data[e]=function nvt(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function dy(){return fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const a=function Su(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Hu(o,!0),o}function Kx(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function tL(n,e,t){gy(e);try{const i=n.viewQuery;null!==i&&cL(1,i,t);const r=n.template;null!==r&&n6(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&e6(n,e),n.staticViewQueries&&cL(2,n.viewQuery,t);const o=n.components;null!==o&&function Jgt(n,e){for(let t=0;t<e.length;t++)wvt(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[dr]&=-5,jg()}}function WM(n,e,t,i){const r=e[dr];if(128!=(128&r)){gy(e);try{xt(e),function hx(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&n6(n,e,t,2,i);const a=3==(3&r);if(a){const c=n.preOrderCheckHooks;null!==c&&Zg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&vy(e,c,0,null),Fd(e,0)}if(function bvt(n){for(let e=Sn(n);null!==e;e=Wn(e)){if(!e[$a])continue;const t=e[ac];for(let i=0;i<t.length;i++){const r=t[i];512&r[dr]||Kt(r[he],1),r[dr]|=512}}}(e),function yvt(n){for(let e=Sn(n);null!==e;e=Wn(e))for(let t=Ao;t<e.length;t++){const i=e[t],r=i[fi];x(i)&&WM(r,i,r.template,i[Ya])}}(e),null!==n.contentQueries&&e6(n,e),a){const c=n.contentCheckHooks;null!==c&&Zg(e,c)}else{const c=n.contentHooks;null!==c&&vy(e,c,1),Fd(e,1)}!function Kgt(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)fd(~r);else{const o=r,a=t[++i],s=t[++i];fy(a,o),s(2,e[o])}}}finally{fd(-1)}}(n,e);const s=n.components;null!==s&&function Qgt(n,e){for(let t=0;t<e.length;t++)xvt(n,e[t])}(e,s);const l=n.viewQuery;if(null!==l&&cL(2,l,i),a){const c=n.viewCheckHooks;null!==c&&Zg(e,c)}else{const c=n.viewHooks;null!==c&&vy(e,c,2),Fd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[dr]&=-41,512&e[dr]&&(e[dr]&=-513,Kt(e[he],-1))}finally{jg()}}}function n6(n,e,t,i,r){const o=Sc(),a=2&i;try{fd(-1),a&&e.length>Hr&&HG(n,e,Hr,!1),dn(a?2:0,r),t(i,r)}finally{fd(o),dn(a?3:1,r)}}function eL(n,e,t){if(wc(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}}function nL(n,e,t){bi()&&(function cvt(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Zo(t)&&function gvt(n,e,t){const i=di(e,n),r=r6(t),o=n[Ns],a=ZM(n,jM(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||xy(t,e),Tc(i,e);const a=t.initialInputs;for(let s=r;s<o;s++){const l=n.data[s],c=vp(e,n,s,t);Tc(c,e),null!==a&&vvt(0,s-r,c,l,0,a),ia(l)&&(m(t.index,e)[Ya]=vp(e,n,s,t))}}(n,e,t,di(t,e)),64==(64&t.flags)&&c6(n,e,t))}function iL(n,e,t=di){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],s=-1===a?t(e,n):n[a];n[r++]=s}}}function r6(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=rL(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function rL(n,e,t,i,r,o,a,s,l,c){const u=Hr+i,d=u+r,h=function tvt(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Fo);return t}(u,d),p="function"==typeof c?c():c;return h[fi]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function o6(n,e,t,i){const r=d6(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&h6(n).push(i,r.length-1))}function a6(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?s6(t,e,r,o):i.hasOwnProperty(r)&&s6(t,e,i[r],o)}return t}function s6(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Ud(n,e,t,i,r,o,a,s){const l=di(e,t);let u,c=e.inputs;!s&&null!=c&&(u=c[i])?(uL(n,t,u,i,r),Zo(e)&&function ovt(n,e){const t=m(e,n);16&t[dr]||(t[dr]|=32)}(t,e.index)):3&e.type&&(i=function rvt(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,o.setProperty(l,i,r))}function oL(n,e,t,i){if(bi()){const r=null===i?null:{"":-1},o=function dvt(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const a=t[o];if(UG(e,a.selectors,!1))if(i||(i=[]),ia(a))if(null!==a.findHostDirectiveDefs){const s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),i.unshift(...s,a),aL(n,e,s.length)}else i.unshift(a),aL(n,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,t);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&l6(n,e,t,a,r,s),r&&function hvt(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new En(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Em(t.mergedAttrs,t.attrs)}function l6(n,e,t,i,r,o){for(let c=0;c<i.length;c++)wy(xy(t,e),n,i[c].type);!function pvt(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=Kx(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Em(t.mergedAttrs,u.hostAttrs),mvt(n,t,e,l,u),fvt(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),s=!0),l++}!function ivt(n,e,t){const r=e.directiveEnd,o=n.data,a=e.attrs,s=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,g=h?h.outputs:null;l=a6(d.inputs,u,l,h?h.inputs:null),c=a6(d.outputs,u,c,g);const y=null===l||null===a||zG(e)?null:_vt(l,u,a);s.push(y)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=l,e.outputs=c}(n,t,o)}function c6(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=function oM(){return fe.lFrame.currentDirectiveIndex}();try{fd(o);for(let s=i;s<r;s++){const l=n.data[s],c=e[s];Mm(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&uvt(l,c)}}finally{fd(-1),Mm(a)}}function uvt(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function aL(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function fvt(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ia(e)&&(t[""]=n)}}function mvt(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Zl(r.type)),a=new Yg(o,ia(r),ie);n.blueprint[i]=a,t[i]=a,function svt(n,e,t,i,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const s=~e.index;(function lvt(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=s&&a.push(s),a.push(t,i,o)}}(n,e,i,Kx(n,t,r.hostVars,Fo),r)}function Cf(n,e,t,i,r,o){const a=di(n,e);!function sL(n,e,t,i,r,o,a){if(null==o)n.removeAttribute(e,r,t);else{const s=null==a?Gt(o):a(o,i||"",r);n.setAttribute(e,r,s,t)}}(e[mr],a,o,n.value,t,i,r)}function vvt(n,e,t,i,r,o){const a=o[e];if(null!==a){const s=i.setInput;for(let l=0;l<a.length;){const c=a[l++],u=a[l++],d=a[l++];null!==s?i.setInput(t,d,c,u):t[u]=d}}}function _vt(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const a=n[o];for(let s=0;s<a.length;s+=2)if(a[s]===e){i.push(o,a[s+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function u6(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function xvt(n,e){const t=m(e,n);if(x(t)){const i=t[fi];48&t[dr]?WM(i,t,i.template,t[Ya]):t[Ja]>0&&lL(t)}}function lL(n){for(let i=Sn(n);null!==i;i=Wn(i))for(let r=Ao;r<i.length;r++){const o=i[r];if(x(o))if(512&o[dr]){const a=o[fi];WM(a,o,a.template,o[Ya])}else o[Ja]>0&&lL(o)}const t=n[fi].components;if(null!==t)for(let i=0;i<t.length;i++){const r=m(t[i],n);x(r)&&r[Ja]>0&&lL(r)}}function wvt(n,e){const t=m(e,n),i=t[fi];(function Cvt(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),tL(i,t,t[Ya])}function ZM(n,e){return n[ss]?n[Xa][Ss]=e:n[ss]=e,n[Xa]=e,e}function YM(n){for(;n;){n[dr]|=32;const e=De(n);if(Fs(n)&&!e)return n;n=e}return null}function XM(n,e,t,i=!0){const r=e[Ns];r.begin&&r.begin();try{WM(n,e,n.template,t)}catch(a){throw i&&p6(e,a),a}finally{r.end&&r.end()}}function cL(n,e,t){fx(0),e(n,t)}function d6(n){return n[Ar]||(n[Ar]=[])}function h6(n){return n.cleanup||(n.cleanup=[])}function f6(n,e,t){return(null===n||ia(n))&&(t=function Li(n){for(;Array.isArray(n);){if("object"==typeof n[Hs])return n;n=n[Rl]}return null}(t[e.index])),t[mr]}function p6(n,e){const t=n[sl],i=t?t.get(Dp,null):null;i&&i.handleError(e)}function uL(n,e,t,i,r){for(let o=0;o<t.length;){const a=t[o++],s=t[o++],l=e[a],c=n.data[a];null!==c.setInput?c.setInput(l,r,i,s):l[s]=r}}function $M(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const s=e[a];"number"==typeof s?o=s:1==o?r=Re(r,s):2==o&&(i=Re(i,s+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function qM(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(Hn(o)),hs(o))for(let s=Ao;s<o.length;s++){const l=o[s],c=l[fi].firstChild;null!==c&&qM(l[fi],l,c,i)}const a=t.type;if(8&a)qM(n,e,t.child,i);else if(32&a){const s=Rt(t,e);let l;for(;l=s();)i.push(l)}else if(16&a){const s=lG(e,t);if(Array.isArray(s))i.push(...s);else{const l=De(e[ts]);qM(l[fi],l,s,i,!0)}}t=r?t.projectionNext:t.next}return i}class Qx{get rootNodes(){const e=this._lView,t=e[fi];return qM(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ya]}set context(e){this._lView[Ya]=e}get destroyed(){return 128==(128&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[he];if(hs(e)){const t=e[za],i=t?t.indexOf(this):-1;i>-1&&(jr(e,i),sh(t,i))}this._attachedToViewContainer=!1}Xl(this._lView[fi],this._lView)}onDestroy(e){o6(this._lView[fi],this._lView,null,e)}markForCheck(){YM(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-65}reattach(){this._lView[dr]|=64}detectChanges(){XM(this._lView[fi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new En(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tr(n,e){Yx(n,e,e[mr],2,null,null)}(this._lView[fi],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new En(902,!1);this._appRef=e}}class Svt extends Qx{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;XM(e[fi],e,e[Ya],!1)}checkNoChanges(){}get context(){return null}}class m6 extends fv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lo(e);return new Jx(t,this.ngModule)}}function g6(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Evt{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=xc(i);const r=this.injector.get(e,ZR,i);return r!==ZR||t===ZR?r:this.parentInjector.get(e,t,i)}}class Jx extends OG{get inputs(){return g6(this.componentDef.inputs)}get outputs(){return g6(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Pgt(n){return n.map(Igt).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof wf?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Evt(e,o):e,s=a.get(qx,null);if(null===s)throw new En(407,!1);const l=a.get(ugt,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function evt(n,e,t){return n.selectRootElement(e,t===vs.ShadowDom)}(c,i,this.componentDef.encapsulation):$n(c,u,function Mvt(n){const e=n.toLowerCase();return"svg"===e?Pn:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=rL(0,null,null,1,0,null,null,null,null,null),g=jM(null,p,null,h,null,null,s,c,l,a,null);let y,b;gy(g);try{const w=this.componentDef;let M,E=null;w.findHostDirectiveDefs?(M=[],E=new Map,w.findHostDirectiveDefs(w,M,E),M.push(w)):M=[w];const k=function Dvt(n,e){const t=n[fi],i=Hr;return n[i]=e,zy(t,i,2,"#host",null)}(g,d),j=function Avt(n,e,t,i,r,o,a,s){const l=r[fi];!function Ivt(n,e,t,i){for(const r of n)e.mergedAttrs=Em(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&($M(e,e.mergedAttrs,!0),null!==t&&dG(i,t,e))}(i,n,e,a);const c=o.createRenderer(e,t),u=jM(r,r6(t),null,t.onPush?32:16,r[n.index],n,o,c,s||null,null,null);return l.firstCreatePass&&aL(l,n,i.length-1),ZM(r,u),r[n.index]=u}(k,d,w,M,g,s,c);b=zo(p,Hr),d&&function kvt(n,e,t,i){if(i)mp(n,t,["ng-version",dgt.full]);else{const{attrs:r,classes:o}=function kgt(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Zh(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&mp(n,t,r),o&&o.length>0&&uG(n,t,o.join(" "))}}(c,w,d,i),void 0!==t&&function Rvt(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,t),y=function Pvt(n,e,t,i,r,o){const a=El(),s=r[fi],l=di(a,r);l6(s,r,a,t,null,i);for(let u=0;u<t.length;u++)Tc(vp(r,s,a.directiveStart+u,a),r);c6(s,r,a),l&&Tc(l,r);const c=vp(r,s,a.directiveStart+a.componentOffset,a);if(n[Ya]=r[Ya]=c,null!==o)for(const u of o)u(c,e);return eL(s,a,n),c}(j,w,M,E,g,[Lvt]),tL(p,g,null)}finally{jg()}return new Tvt(this.componentType,y,Fy(b,g),g,b)}}class Tvt extends rgt{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Svt(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;uL(o[fi],o,r,e,t),YM(m(this._tNode.index,o))}}get injector(){return new Tm(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Lvt(){const n=El();Wg(kn()[fi],n)}function Qn(n){let e=function v6(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ia(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new En(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=dL(n.inputs),a.declaredInputs=dL(n.declaredInputs),a.outputs=dL(n.outputs);const s=r.hostBindings;s&&Bvt(n,s);const l=r.viewQuery,c=r.contentQueries;if(l&&Nvt(n,l),c&&Fvt(n,c),oe(n.inputs,r.inputs),oe(n.declaredInputs,r.declaredInputs),oe(n.outputs,r.outputs),ia(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===Qn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ovt(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Em(r.hostAttrs,t=Em(t,r.hostAttrs))}}(i)}function dL(n){return n===ol?{}:n===wr?[]:n}function Nvt(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Fvt(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Bvt(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function KM(n){return!!hL(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hL(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Du(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Cr(n,e,t,i){const r=kn();return Du(r,jh(),e)&&(Br(),Cf(Hi(),r,n,e,t,i)),Cr}function _o(n,e,t,i,r,o,a,s){const l=kn(),c=Br(),u=n+Hr,d=c.firstCreatePass?function Xvt(n,e,t,i,r,o,a,s,l){const c=e.consts,u=zy(e,n,4,a||null,K(c,s));oL(e,t,u,K(c,l)),Wg(e,u);const d=u.tView=rL(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,a):c.data[u];Hu(d,!1);const h=l[mr].createComment("");Mp(c,l,h,d),Tc(h,l),ZM(l,l[u]=u6(h,l,h,d)),Cc(d)&&nL(c,l,d),null!=a&&iL(l,d,s)}function Au(n){return f(function rM(){return fe.lFrame.contextLView}(),Hr+n)}function Pi(n,e,t){const i=kn();return Du(i,jh(),e)&&Ud(Br(),Hi(),i,n,e,i[mr],t,!1),Pi}function fL(n,e,t,i,r){const a=r?"class":"style";uL(n,t,e.inputs[a],a,i)}function Ln(n,e,t,i){const r=kn(),o=Br(),a=Hr+n,s=r[mr],l=o.firstCreatePass?function qvt(n,e,t,i,r,o){const a=e.consts,l=zy(e,n,2,i,K(a,r));return oL(e,t,l,K(a,o)),null!==l.attrs&&$M(l,l.attrs,!1),null!==l.mergedAttrs&&$M(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(a,o,r,e,t,i):o.data[a],c=r[a]=$n(s,e,function lM(){return fe.lFrame.currentNamespace}()),u=Cc(l);return Hu(l,!0),dG(s,c,l),32!=(32&l.flags)&&Mp(o,r,c,l),0===function Mn(){return fe.lFrame.elementDepthCount}()&&Tc(c,r),function ti(){fe.lFrame.elementDepthCount++}(),u&&(nL(o,r,l),eL(o,l,r)),null!==i&&iL(r,l),Ln}function Zn(){let n=El();_f()?uy():(n=n.parent,Hu(n,!1));const e=n;!function li(){fe.lFrame.elementDepthCount--}();const t=Br();return t.firstCreatePass&&(Wg(t,n),wc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function cM(n){return 0!=(8&n.flags)}(e)&&fL(t,e,kn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Jk(n){return 0!=(16&n.flags)}(e)&&fL(t,e,kn(),e.stylesWithoutHost,!1),Zn}function Xr(n,e,t,i){return Ln(n,e,t,i),Zn(),Xr}function Om(n,e,t){const i=kn(),r=Br(),o=n+Hr,a=r.firstCreatePass?function Kvt(n,e,t,i,r){const o=e.consts,a=K(o,i),s=zy(e,n,8,"ng-container",a);return null!==a&&$M(s,a,!0),oL(e,t,s,K(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,t):r.data[o];Hu(a,!0);const s=i[o]=i[mr].createComment("");return Mp(r,i,s,a),Tc(s,i),Cc(a)&&(nL(r,i,a),eL(r,a,i)),null!=t&&iL(i,a),Om}function Nm(){let n=El();const e=Br();return _f()?uy():(n=n.parent,Hu(n,!1)),e.firstCreatePass&&(Wg(e,n),wc(n)&&e.queries.elementEnd(n)),Nm}function $u(n,e,t){return Om(n,e,t),Nm(),$u}function Pp(){return kn()}function ew(n){return!!n&&"function"==typeof n.then}function I6(n){return!!n&&"function"==typeof n.subscribe}const pL=I6;function Pr(n,e,t,i){const r=kn(),o=Br(),a=El();return P6(o,r,r[mr],a,n,e,i),Pr}function mL(n,e){const t=El(),i=kn(),r=Br();return P6(r,i,f6(py(r.data),t,i),t,n,e),mL}function P6(n,e,t,i,r,o,a){const s=Cc(i),c=n.firstCreatePass&&h6(n),u=e[Ya],d=d6(e);let h=!0;if(3&i.type||a){const y=di(i,e),b=a?a(y):y,w=d.length,M=a?k=>a(Hn(k[i.index])):i.index;let E=null;if(!a&&s&&(E=function Qvt(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===t&&r[o+1]===i){const s=e[Ar],l=r[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,e,r,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=R6(i,e,u,o,!1);const k=t.listen(b,r,o);d.push(o,k),c&&c.push(r,M,w,w+1)}}else o=R6(i,e,u,o,!1);const p=i.outputs;let g;if(h&&null!==p&&(g=p[r])){const y=g.length;if(y)for(let b=0;b<y;b+=2){const j=e[g[b]][g[b+1]].subscribe(o),H=d.length;d.push(o,j),c&&c.push(r,i.index,H,-(H+1))}}}function k6(n,e,t,i){try{return dn(6,e,t),!1!==t(i)}catch(r){return p6(n,r),!1}finally{dn(7,e,t)}}function R6(n,e,t,i,r){return function o(a){if(a===Function)return i;YM(n.componentOffset>-1?m(n.index,e):e);let l=k6(e,t,i,a),c=o.__ngNextListenerFn__;for(;c;)l=k6(e,t,c,a)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function Ds(n=1){return function gx(n){return(fe.lFrame.contextLView=function vx(n,e){for(;n>0;)e=e[oc],n--;return e}(n,fe.lFrame.contextLView))[Ya]}(n)}function Jvt(n,e){let t=null;const i=function Egt(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?UG(n,o,!0):Agt(i,o))return r}else t=r}return t}function qa(n){const e=kn()[ts][Po];if(!e.projection){const i=e.projection=vo(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const a=n?Jvt(o,n):0;null!==a&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function qi(n,e=0,t){const i=kn(),r=Br(),o=zy(r,Hr+n,16,null,t||null);null===o.projection&&(o.projection=e),uy(),32!=(32&o.flags)&&function pmt(n,e,t){cG(e[mr],0,e,t,uh(n,t,e),ky(t.parent||e[Po],t,e))}(r,i,o)}function JM(n,e){return n<<17|e<<2}function Fm(n){return n>>17&32767}function vL(n){return 2|n}function gv(n){return(131068&n)>>2}function _L(n,e){return-131069&n|e<<2}function yL(n){return 1|n}function H6(n,e,t,i,r){const o=n[t+1],a=null===e;let s=i?Fm(o):gv(o),l=!1;for(;0!==s&&(!1===l||a);){const u=n[s+1];o_t(n[s],e)&&(l=!0,n[s+1]=i?yL(u):vL(u)),s=i?Fm(u):gv(u)}l&&(n[t+1]=i?vL(o):yL(o))}function o_t(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Mu(n,e)>=0}function md(n,e,t){return Yh(n,e,t,!1),md}function ro(n,e){return Yh(n,e,null,!0),ro}function Yh(n,e,t,i){const r=kn(),o=Br(),a=function rh(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function K6(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Sc()],a=function q6(n,e){return e>=n.expandoStartIndex}(n,t);(function eH(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!a&&(e=!1),e=function p_t(n,e,t,i){const r=py(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=nw(t=bL(null,n,e,t,i),e.attrs,i),o=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=bL(r,n,e,t,i),null===o){let l=function m_t(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==gv(i))return n[Fm(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=bL(null,n,e,l[1],i),l=nw(l,e.attrs,i),function g_t(n,e,t,i){n[Fm(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function v_t(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=nw(i,n[o].hostAttrs,t);return nw(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function i_t(n,e,t,i,r,o){let a=o?e.classBindings:e.styleBindings,s=Fm(a),l=gv(a);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Mu(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=Fm(n[s+1]);n[i+1]=JM(h,s),0!==h&&(n[h+1]=_L(n[h+1],i)),n[s+1]=function e_t(n,e){return 131071&n|e<<17}(n[s+1],i)}else n[i+1]=JM(s,0),0!==s&&(n[s+1]=_L(n[s+1],i)),s=i;else n[i+1]=JM(l,0),0===s?s=i:n[l+1]=_L(n[l+1],i),l=i;c&&(n[i+1]=vL(n[i+1])),H6(n,u,i,!0),H6(n,u,i,!1),function r_t(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Mu(o,e)>=0&&(t[i+1]=yL(t[i+1]))}(e,u,n,i,o),a=JM(s,l),o?e.classBindings=a:e.styleBindings=a}(r,o,e,t,a,i)}}(o,n,a,i),e!==Fo&&Du(r,a,e)&&function J6(n,e,t,i,r,o,a,s){if(!(3&e.type))return;const l=n.data,c=l[s+1],u=function n_t(n){return 1==(1&n)}(c)?tH(l,e,t,r,gv(c),a):void 0;tE(u)||(tE(o)||function t_t(n){return 2==(2&n)}(c)&&(o=tH(l,null,t,r,s,a)),function gmt(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Eu.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Eu.Important),n.setStyle(t,i,r,o))}}(i,a,si(Sc(),t),r,o))}(o,o.data[Sc()],r,r[mr],n,r[a+1]=function x_t(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=we(zd(n)))),n}(e,t),i,a)}function bL(n,e,t,i,r){let o=null;const a=t.directiveEnd;let s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<a&&(o=e[s],i=nw(i,o.hostAttrs,r),o!==n);)s++;return null!==n&&(t.directiveStylingLast=s),i}function nw(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yu(n,a,!!t||e[++o]))}return void 0===n?null:n}function tH(n,e,t,i,r,o){const a=null===e;let s;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===Fo&&(h=d?wr:void 0);let p=d?tv(h,i):u===i?h:void 0;if(c&&!tE(p)&&(p=tv(l,i)),tE(p)&&(s=p,a))return s;const g=n[r+1];r=a?Fm(g):gv(g)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(s=tv(l,i))}return s}function tE(n){return void 0!==n}function Eo(n,e=""){const t=kn(),i=Br(),r=n+Hr,o=i.firstCreatePass?zy(i,r,1,e,null):i.data[r],a=t[r]=function ir(n,e){return n.createText(e)}(t[mr],e);Mp(i,t,a,o),Hu(o,!1)}function Ky(n){return hh("",n,""),Ky}function hh(n,e,t){const i=kn(),r=function Gy(n,e,t,i){return Du(n,jh(),t)?e+Gt(t)+i:Fo}(i,n,e,t);return r!==Fo&&function Ip(n,e,t){const i=si(e,n);!function vr(n,e,t){n.setValue(e,t)}(n[mr],i,t)}(i,Sc(),r),hh}function fh(n,e,t){const i=kn();return Du(i,jh(),e)&&Ud(Br(),Hi(),i,n,e,i[mr],t,!0),fh}function xL(n,e,t){const i=kn();if(Du(i,jh(),e)){const o=Br(),a=Hi();Ud(o,a,i,n,e,f6(py(o.data),a,i),t,!0)}return xL}const Jy="en-US";let xH=Jy;function SL(n,e,t,i,r){if(n=wn(n),Array.isArray(n))for(let o=0;o<n.length;o++)SL(n[o],e,t,i,r);else{const o=Br(),a=kn();let s=hv(n)?n:wn(n.provide),l=LG(n);const c=El(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(hv(n)||!n.multi){const p=new Yg(l,r,ie),g=EL(s,e,r?u:u+h,d);-1===g?(wy(xy(c,a),o,s),ML(o,n,e.length),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(p),a.push(p)):(t[g]=p,a[g]=p)}else{const p=EL(s,e,u+h,d),g=EL(s,e,u,u+h),b=g>=0&&t[g];if(r&&!b||!r&&!(p>=0&&t[p])){wy(xy(c,a),o,s);const w=function Vyt(n,e,t,i,r){const o=new Yg(n,t,ie);return o.multi=[],o.index=e,o.componentProviders=0,ZH(o,r,i&&!t),o}(r?Byt:Fyt,t.length,r,i,l);!r&&b&&(t[g].providerFactory=w),ML(o,n,e.length,0),e.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(w),a.push(w)}else ML(o,n,p>-1?p:g,ZH(t[r?g:p],l,!r&&i));!r&&i&&b&&t[g].componentProviders++}}}function ML(n,e,t,i){const r=hv(e),o=function Kmt(n){return!!n.useClass}(e);if(r||o){const l=(o?wn(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function ZH(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function EL(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Fyt(n,e,t,i){return TL(this.multi,[])}function Byt(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=vp(t,t[fi],this.providerFactory.index,i);o=s.slice(0,a),TL(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],TL(r,o);return o}function TL(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Di(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Nyt(n,e,t){const i=Br();if(i.firstCreatePass){const r=ia(n);SL(t,i.data,i.blueprint,r,!0),SL(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class t0{}class YH{}class XH extends t0{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m6(this);const i=al(e);this._bootstrapComponents=Ap(i.bootstrap),this._r3Injector=XG(e,t,[{provide:t0,useValue:this},{provide:fv,useValue:this.componentFactoryResolver}],we(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class DL extends YH{constructor(e){super(),this.moduleType=e}create(e){return new XH(this.moduleType,e)}}class Uyt extends t0{constructor(e,t,i){super(),this.componentFactoryResolver=new m6(this),this.instance=null;const r=new RG([...e,{provide:t0,useValue:this},{provide:fv,useValue:this.componentFactoryResolver}],t||GM(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function oE(n,e,t=null){return new Uyt(n,e,t).injector}let Gyt=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=AG(0,t.type),r=i.length>0?oE([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zn({token:n,providedIn:"environment",factory:()=>new n(nn(wf))}),n})();function AL(n){n.getStandaloneInjector=e=>e.get(Gyt).getOrCreateStandaloneInjector(n)}function ej(n,e,t,i,r,o){const a=e+t;return Du(n,a,r)?function Sf(n,e,t){return n[e]=t}(n,a+1,o?i.call(o,r):i(r)):function lw(n,e){const t=n[e];return t===Fo?void 0:t}(n,a+1)}function PL(n,e){const t=Br();let i;const r=n+Hr;t.firstCreatePass?(i=function s0t(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Zl(i.type)),a=zs(ie);try{const s=by(!1),l=o();return by(s),function $vt(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,kn(),r,l),l}finally{zs(a)}}function kL(n,e,t){const i=n+Hr,r=kn(),o=f(r,i);return function cw(n,e){return n[fi].data[e].pure}(r,i)?ej(r,function sc(){const n=fe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,o.transform,t,o):o.transform(t)}function RL(n){return e=>{setTimeout(n,void 0,e)}}const _r=class h0t extends qt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),a=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=RL(o),r&&(r=RL(r)),a&&(a=RL(a)));const s=super.subscribe({next:r,error:o,complete:a});return e instanceof O&&e.add(s),s}};function f0t(){return this._results[Symbol.iterator]()}class kp{get changes(){return this._changes||(this._changes=new _r)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=kp.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=f0t)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Tl(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function dR(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uc=(()=>{class n{}return n.__NG_ELEMENT_ID__=g0t,n})();const p0t=uc,m0t=class extends p0t{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=jM(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Wl]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[da];return null!==a&&(r[da]=a.createEmbeddedView(i)),tL(i,r,e),new Qx(r)}};function g0t(){return aE(El(),kn())}function aE(n,e){return 4&n.type?new m0t(e,n,Fy(n,e)):null}let ql=(()=>{class n{}return n.__NG_ELEMENT_ID__=v0t,n})();function v0t(){return lj(El(),kn())}const _0t=ql,aj=class extends _0t{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Fy(this._hostTNode,this._hostLView)}get injector(){return new Tm(this._hostTNode,this._hostLView)}get parentInjector(){const e=Dx(this._hostTNode,this._hostLView);if(Cx(e)){const t=qg(e,this._hostLView),i=ju(e);return new Tm(t[fi].data[i+8],t)}return new Tm(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sj(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ao}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedView(t||{},o);return this.insert(a,r),a}createComponent(e,t,i,r,o){const a=e&&!function Pm(n){return"function"==typeof n}(e);let s;if(a)s=t;else{const d=t||{};s=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=a?e:new Jx(lo(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(a?c:this.parentInjector).get(wf,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,s),u}insert(e,t){const i=e._lView,r=i[fi];if(function D(n){return hs(n[he])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[he],h=new aj(d,d[Po],d[he]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;!function co(n,e,t,i){const r=Ao+i,o=t.length;i>0&&(t[r-1][Ss]=e),i<o-Ao?(e[Ss]=t[r],bM(t,Ao+i,e)):(t.push(e),e[Ss]=null),e[he]=t;const a=e[Wl];null!==a&&t!==a&&function $o(n,e){const t=n[ac];e[ts]!==e[he][he][ts]&&(n[$a]=!0),null===t?n[ac]=[e]:t.push(e)}(a,e);const s=e[da];null!==s&&s.insertView(n),e[dr]|=64}(r,i,a,o);const s=IR(o,a),l=i[mr],c=sv(l,a[ll]);return null!==c&&function no(n,e,t,i,r,o){i[Rl]=r,i[Po]=e,Yx(n,i,t,1,r,o)}(r,a[Po],l,i,c,s),e.attachToViewContainerRef(),bM(LL(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sj(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=jr(this._lContainer,t);i&&(sh(LL(this._lContainer),t),Xl(i[fi],i))}detach(e){const t=this._adjustIndex(e,-1),i=jr(this._lContainer,t);return i&&null!=sh(LL(this._lContainer),t)?new Qx(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function sj(n){return n[za]}function LL(n){return n[za]||(n[za]=[])}function lj(n,e){let t;const i=e[n.index];if(hs(i))t=i;else{let r;if(8&n.type)r=Hn(i);else{const o=e[mr];r=o.createComment("");const a=di(n,e);Vd(o,sv(o,a),r,function Py(n,e){return n.nextSibling(e)}(o,a),!1)}e[n.index]=t=u6(i,e,r,n),ZM(e,t)}return new aj(t,n,e)}class OL{constructor(e){this.queryList=e,this.matches=null}clone(){return new OL(this.queryList)}setDirty(){this.queryList.setDirty()}}class NL{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const a=t.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new NL(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fj(e,t).matches&&this.queries[t].setDirty()}}class cj{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class FL{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new FL(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class BL{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new BL(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,y0t(t,o)),this.matchTNodeWithReadOption(e,t,Kg(t,e,o,!1,!1))}else i===uc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Oi||r===ql||r===uc&&4&t.type)this.addMatch(t.index,-2);else{const o=Kg(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function y0t(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function x0t(n,e,t,i){return-1===t?function b0t(n,e){return 11&n.type?Fy(n,e):4&n.type?aE(n,e):null}(e,n):-2===t?function w0t(n,e,t){return t===Oi?Fy(e,n):t===uc?aE(e,n):t===ql?lj(e,n):void 0}(n,e,i):vp(n,n[fi],t,e)}function uj(n,e,t,i){const r=e[da].queries[i];if(null===r.matches){const o=n.data,a=t.matches,s=[];for(let l=0;l<a.length;l+=2){const c=a[l];s.push(c<0?null:x0t(e,o[c],a[l+1],t.metadata.read))}r.matches=s}return r.matches}function VL(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const a=uj(n,e,r,t);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)i.push(a[s/2]);else{const c=o[s+1],u=e[-l];for(let d=Ao;d<u.length;d++){const h=u[d];h[Wl]===h[he]&&VL(h[fi],h,c,i)}if(null!==u[ac]){const d=u[ac];for(let h=0;h<d.length;h++){const p=d[h];VL(p[fi],p,c,i)}}}}}return i}function Ni(n){const e=kn(),t=Br(),i=my();fx(i+1);const r=fj(t,i);if(n.dirty&&function _(n){return 4==(4&n[dr])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?VL(t,e,i,[]):uj(t,e,r,i);n.reset(o,lgt),n.notifyOnChanges()}return!0}return!1}function rs(n,e,t){const i=Br();i.firstCreatePass&&(hj(i,new cj(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),dj(i,kn(),e)}function Uo(n,e,t,i){const r=Br();if(r.firstCreatePass){const o=El();hj(r,new cj(e,t,i),o.index),function S0t(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}dj(r,kn(),t)}function Fi(){return function C0t(n,e){return n[da].queries[e].queryList}(kn(),my())}function dj(n,e,t){const i=new kp(4==(4&t));o6(n,e,i,i.destroy),null===e[da]&&(e[da]=new NL),e[da].queries.push(new OL(i))}function hj(n,e,t){null===n.queries&&(n.queries=new FL),n.queries.track(new BL(e,t))}function fj(n,e){return n.queries.getByIndex(e)}function e0(n,e){return aE(n,e)}function lE(...n){}const cE=new hn("Application Initializer");let uE=(()=>{class n{constructor(t){this.appInits=t,this.resolve=lE,this.reject=lE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(ew(o))t.push(o);else if(pL(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});t.push(a)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(nn(cE,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dw=new hn("AppId",{providedIn:"root",factory:function Pj(){return`${WL()}${WL()}${WL()}`}});function WL(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kj=new hn("Platform Initializer"),dE=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dc=new hn("AnimationModuleType");let j0t=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Tf=new hn("LocaleId",{providedIn:"root",factory:()=>Vn(Tf,wi.Optional|wi.SkipSelf)||function W0t(){return typeof $localize<"u"&&$localize.locale||Jy}()});class Y0t{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Rj=(()=>{class n{compileModuleSync(t){return new DL(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Ap(al(t).declarations).reduce((a,s)=>{const l=lo(s);return l&&a.push(new Jx(l)),a},[]);return new Y0t(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q0t=(()=>Promise.resolve(0))();function ZL(n){typeof Zone>"u"?q0t.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class gr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _r(!1),this.onMicrotaskEmpty=new _r(!1),this.onStable=new _r(!1),this.onError=new _r(!1),typeof Zone>"u")throw new En(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function K0t(){let n=Lr.requestAnimationFrame,e=Lr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tbt(n){const e=()=>{!function J0t(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Lr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,XL(n),n.isCheckStableRunning=!0,YL(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),XL(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,a,s)=>{try{return Nj(n),t.invokeTask(r,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Fj(n)}},onInvoke:(t,i,r,o,a,s,l)=>{try{return Nj(n),t.invoke(r,o,a,s,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Fj(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,XL(n),YL(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gr.isInAngularZone())throw new En(909,!1)}static assertNotInAngularZone(){if(gr.isInAngularZone())throw new En(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,Q0t,lE,lE);try{return o.runTask(a,t,i)}finally{o.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Q0t={};function YL(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XL(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Nj(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Fj(n){n._nesting--,YL(n)}class ebt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _r,this.onMicrotaskEmpty=new _r,this.onStable=new _r,this.onError=new _r}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const Bj=new hn(""),hE=new hn("");let KL,$L=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KL||(function nbt(n){KL=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gr.assertNotInAngularZone(),ZL(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ZL(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(nn(gr),nn(qL),nn(hE))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),qL=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return KL?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Rp=!1;let Bm=null;const Vj=new hn("AllowMultipleToken"),QL=new hn("PlatformDestroyListeners"),zj=new hn("appBootstrapListener");class Uj{constructor(e,t){this.name=e,this.token=t}}function Hj(n,e,t=[]){const i=`Platform: ${e}`,r=new hn(i);return(o=[])=>{let a=JL();if(!a||a.injector.get(Vj,!1)){const s=[...t,...o,{provide:r,useValue:!0}];n?n(s):function obt(n){if(Bm&&!Bm.get(Vj,!1))throw new En(400,!1);Bm=n;const e=n.get(Wj);(function Gj(n){const e=n.get(kj,null);e&&e.forEach(t=>t())})(n)}(function jj(n=[],e){return hu.create({name:e,providers:[{provide:GR,useValue:"platform"},{provide:QL,useValue:new Set([()=>Bm=null])},...n]})}(s,i))}return function sbt(n){const e=JL();if(!e)throw new En(401,!1);return e}()}}function JL(){return Bm?.get(Wj)??null}let Wj=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Yj(n,e){let t;return t="noop"===n?new ebt:("zone.js"===n?void 0:n)||new gr(e),t}(i?.ngZone,function Zj(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:gr,useValue:r}];return r.run(()=>{const a=hu.create({providers:o,parent:this.injector,name:t.moduleType.name}),s=t.create(a),l=s.injector.get(Dp,null);if(!l)throw new En(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});s.onDestroy(()=>{fE(this._modules,s),c.unsubscribe()})}),function Xj(n,e,t){try{const i=t();return ew(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=s.injector.get(uE);return c.runInitializers(),c.donePromise.then(()=>(function wH(n){mo(n,"Expected localeId to be defined"),"string"==typeof n&&(xH=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Tf,Jy)||Jy),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=$j({},i);return function ibt(n,e,t){const i=new DL(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(o0);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new En(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new En(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(QL,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(nn(hu))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $j(n,e){return Array.isArray(e)?e.reduce($j,n):{...n,...e}}let o0=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _t(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),a=new _t(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{gr.assertNotInAngularZone(),ZL(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{gr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Yi(o,a.pipe(sr()))}bootstrap(t,i){const r=t instanceof OG;if(!this._injector.get(uE).done){!r&&function ta(n){const e=lo(n)||Oo(n)||Ks(n);return null!==e&&e.standalone}(t);throw new En(405,Rp)}let a;a=r?t:this._injector.get(fv).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const s=function rbt(n){return n.isBoundToModule}(a)?void 0:this._injector.get(t0),c=a.create(hu.NULL,[],i||a.selector,s),u=c.location.nativeElement,d=c.injector.get(Bj,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),fE(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new En(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;fE(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(zj,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fE(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new En(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(nn(gr),nn(wf),nn(Dp))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let As=(()=>{class n{}return n.__NG_ELEMENT_ID__=cbt,n})();function cbt(n){return function ubt(n,e,t){if(Zo(n)&&!t){const i=m(n.index,e);return new Qx(i,i)}return 47&n.type?new Qx(e[ts],e):null}(El(),kn(),16==(16&n))}class eW{constructor(){}supports(e){return KM(e)}create(e){return new gbt(e)}}const mbt=(n,e)=>e;class gbt{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mbt}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const a=!i||t&&t.currentIndex<iW(i,r,o)?t:i,s=iW(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{o||(o=[]);const c=s-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,g=p+h;u<=g&&g<c&&(o[h]=p+1)}o[a.previousIndex]=u-c}}s!==l&&e(a,s,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!KM(e))throw new En(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)o=e[s],a=this._trackByFn(s,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,s)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,s),i=!0),t=t._next}else r=0,function Wvt(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,s=>{a=this._trackByFn(r,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,r)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new vbt(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nW),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nW),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vbt{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _bt{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class nW{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new _bt,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iW(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class rW{constructor(){}supports(e){return e instanceof Map||hL(e)}create(){return new ybt}}class ybt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||hL(e)))throw new En(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new bbt(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class bbt{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oW(){return new ph([new eW])}let ph=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||oW()),deps:[[n,new pd,new Yl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new En(901,!1)}}return n.\u0275prov=zn({token:n,providedIn:"root",factory:oW}),n})();function aW(){return new hw([new rW])}let hw=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||aW()),deps:[[n,new pd,new Yl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new En(901,!1)}}return n.\u0275prov=zn({token:n,providedIn:"root",factory:aW}),n})();const Cbt=Hj(null,"core",[]);let Sbt=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(nn(o0))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();function a0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let rO=null;function Lp(){return rO}class Tbt{}const oo=new hn("DocumentToken");let oO=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return function Dbt(){return nn(sW)}()},providedIn:"platform"}),n})();const Abt=new hn("Location Initialized");let sW=(()=>{class n extends oO{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lp().getBaseHref(this._doc)}onPopState(t){const i=Lp().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Lp().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){lW()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){lW()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:function(){return function Ibt(){return new sW(nn(oo))}()},providedIn:"platform"}),n})();function lW(){return!!window.history.pushState}function aO(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cW(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Op(n){return n&&"?"!==n[0]?"?"+n:n}let yv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return Vn(dW)},providedIn:"root"}),n})();const uW=new hn("appBaseHref");let dW=(()=>{class n extends yv{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Vn(oo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return aO(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Op(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const a=this.prepareExternalUrl(r+Op(o));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){const a=this.prepareExternalUrl(r+Op(o));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(nn(oO),nn(uW,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pbt=(()=>{class n extends yv{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=aO(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+Op(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+Op(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(nn(oO),nn(uW,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),fw=(()=>{class n{constructor(t){this._subject=new _r,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Lbt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cW(hW(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Op(i))}normalize(t){return n.stripTrailingSlash(function Rbt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,hW(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Op(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Op(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Op,n.joinWithSlash=aO,n.stripTrailingSlash=cW,n.\u0275fac=function(t){return new(t||n)(nn(yv))},n.\u0275prov=zn({token:n,factory:function(){return function kbt(){return new fw(nn(yv))}()},providedIn:"root"}),n})();function hW(n){return n.replace(/\/index.html$/,"")}function xW(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const gO=/\s+/,wW=[];let CW=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=wW,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gO):wW}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gO):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(gO).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(ie(ph),ie(hw),ie(Oi),ie(Tp))},n.\u0275dir=Cn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _xt{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ME=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _xt(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const s=i.get(o);i.move(s,a),EW(s,r)}});for(let r=0,o=i.length;r<o;r++){const s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{EW(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ie(ql),ie(uc),ie(ph))},n.\u0275dir=Cn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function EW(n,e){n.context.$implicit=e.item}let Df=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new bxt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TW("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TW("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(ie(ql),ie(uc))},n.\u0275dir=Cn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bxt{constructor(){this.$implicit=null,this.ngIf=null}}function TW(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${we(e)}'.`)}let _O=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(ie(ql))},n.\u0275dir=Cn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yo]}),n})();function Kh(n,e){return new En(2100,!1)}class Sxt{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Mxt{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Ext=new Mxt,Txt=new Sxt;let IW=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(ew(t))return Ext;if(I6(t))return Txt;throw Kh()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(ie(As,16))},n.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0}),n})();const Axt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let PW=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Kh();return t.replace(Axt,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Jr({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),Nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();const RW="browser";let Xxt=(()=>{class n{}return n.\u0275prov=zn({token:n,providedIn:"root",factory:()=>new $xt(nn(oo),window)}),n})();class $xt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qxt(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=LW(this.window.history)||LW(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function LW(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class OW{}class Cwt extends Tbt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CO extends Cwt{static makeCurrent(){!function Ebt(n){rO||(rO=n)}(new CO)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Swt(){return vw=vw||document.querySelector("base"),vw?vw.getAttribute("href"):null}();return null==t?null:function Mwt(n){AE=AE||document.createElement("a"),AE.setAttribute("href",n);const e=AE.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vw=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xW(document.cookie,e)}}let AE,vw=null;const zW=new hn("TRANSITION_ID"),Twt=[{provide:cE,useFactory:function Ewt(n,e,t){return()=>{t.get(uE).donePromise.then(()=>{const i=Lp(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[zW,oo,hu],multi:!0}];let Awt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const IE=new hn("EventManagerPlugins");let PE=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(nn(IE),nn(gr))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();class UW{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Lp().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let GW=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),_w=(()=>{class n extends GW{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const SO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},MO=/%COMP%/g,WW=new hn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ZW(n,e){return e.flat(100).map(t=>t.replace(MO,n))}function YW(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let kE=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new EO(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof qW?r.applyToHost(t):r instanceof TO&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const a=this.eventManager,s=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case vs.Emulated:o=new qW(a,s,i,this.appId,l);break;case vs.ShadowDom:return new Nwt(a,s,t,i);default:o=new TO(a,s,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(nn(PE),nn(_w),nn(dw),nn(WW))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();class EO{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(SO[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($W(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&($W(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=SO[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=SO[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Eu.DashCase|Eu.Important)?e.style.setProperty(t,i,r&Eu.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Eu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,YW(i)):this.eventManager.addEventListener(e,t,YW(i))}}function $W(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nwt extends EO{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ZW(r.id,r.styles);for(const a of o){const s=document.createElement("style");s.textContent=a,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class TO extends EO{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ZW(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class qW extends TO{constructor(e,t,i,r,o){const a=r+"-"+i.id;super(e,t,i,o,a),this.contentAttr=function Rwt(n){return"_ngcontent-%COMP%".replace(MO,n)}(a),this.hostAttr=function Lwt(n){return"_nghost-%COMP%".replace(MO,n)}(a)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Fwt=(()=>{class n extends UW{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const KW=["alt","control","meta","shift"],Bwt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vwt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zwt=(()=>{class n extends UW{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lp().onAndCancel(t,o.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),KW.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(t,i){let r=Bwt[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),KW.forEach(a=>{a!==r&&(0,Vwt[a])(t)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const JW=[{provide:dE,useValue:RW},{provide:kj,useValue:function Uwt(){CO.makeCurrent()},multi:!0},{provide:oo,useFactory:function Hwt(){return function xmt(n){LR=n}(document),document},deps:[]}],jwt=Hj(Cbt,"browser",JW),tZ=new hn(""),eZ=[{provide:hE,useClass:class Dwt{addToWindow(e){Lr.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Lr.getAllAngularTestabilities=()=>e.getAllTestabilities(),Lr.getAllAngularRootElements=()=>e.getAllRootElements(),Lr.frameworkStabilizers||(Lr.frameworkStabilizers=[]),Lr.frameworkStabilizers.push(i=>{const r=Lr.getAllAngularTestabilities();let o=r.length,a=!1;const s=function(l){a=a||l,o--,0==o&&i(a)};r.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Lp().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Bj,useClass:$L,deps:[gr,qL,hE]},{provide:$L,useClass:$L,deps:[gr,qL,hE]}],nZ=[{provide:GR,useValue:"root"},{provide:Dp,useFactory:function Gwt(){return new Dp},deps:[]},{provide:IE,useClass:Fwt,multi:!0,deps:[oo,gr,dE]},{provide:IE,useClass:zwt,multi:!0,deps:[oo]},{provide:kE,useClass:kE,deps:[PE,_w,dw,WW]},{provide:qx,useExisting:kE},{provide:GW,useExisting:_w},{provide:_w,useClass:_w,deps:[oo]},{provide:PE,useClass:PE,deps:[IE,gr]},{provide:OW,useClass:Awt,deps:[]},[]];let iZ=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:dw,useValue:t.appId},{provide:zW,useExisting:dw},Twt]}}}return n.\u0275fac=function(t){return new(t||n)(nn(tZ,12))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[...nZ,...eZ],imports:[Nl,Sbt]}),n})(),rZ=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:function(t){let i=null;return i=t?new t:function Zwt(){return new rZ(nn(oo))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(t){let i=null;return i=t?new(t||n):nn(sZ),i},providedIn:"root"}),n})(),sZ=(()=>{class n extends IO{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ts.NONE:return i;case Ts.HTML:return xf(i,"HTML")?zd(i):wG(this._doc,String(i)).toString();case Ts.STYLE:return xf(i,"Style")?zd(i):i;case Ts.SCRIPT:if(xf(i,"Script"))return zd(i);throw new Error("unsafe value used in a script context");case Ts.URL:return xf(i,"URL")?zd(i):VM(String(i));case Ts.RESOURCE_URL:if(xf(i,"ResourceURL"))return zd(i);throw new Error(`unsafe value used in a resource URL context (see ${xo})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${xo})`)}}bypassSecurityTrustHtml(t){return function Dmt(n){return new wmt(n)}(t)}bypassSecurityTrustStyle(t){return function Amt(n){return new Cmt(n)}(t)}bypassSecurityTrustScript(t){return function Imt(n){return new Smt(n)}(t)}bypassSecurityTrustUrl(t){return function Pmt(n){return new Mmt(n)}(t)}bypassSecurityTrustResourceUrl(t){return function kmt(n){return new Emt(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:function(t){let i=null;return i=t?new t:function Kwt(n){return new sZ(n.get(oo))}(nn(hu)),i},providedIn:"root"}),n})();function rr(...n){return ki(n,fo(n))}class fc extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const RE=F(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Qwt}=Array,{getPrototypeOf:Jwt,prototype:t1t,keys:e1t}=Object;function lZ(n){if(1===n.length){const e=n[0];if(Qwt(e))return{args:e,keys:null};if(function n1t(n){return n&&"object"==typeof n&&Jwt(n)===t1t}(e)){const t=e1t(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:i1t}=Array;function PO(n){return le(e=>function r1t(n,e){return i1t(e)?n(...e):n(e)}(n,e))}function cZ(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function kO(...n){const e=fo(n),t=bo(n),{args:i,keys:r}=lZ(n);if(0===i.length)return ki([],e);const o=new _t(function o1t(n,e,t=Et){return i=>{uZ(e,()=>{const{length:r}=n,o=new Array(r);let a=r,s=r;for(let l=0;l<r;l++)uZ(e,()=>{const c=ki(n[l],e);let u=!1;c.subscribe(re(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(t(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>cZ(r,a):Et));return t?o.pipe(PO(t)):o}function uZ(n,e,t){n?Yt(t,n,e):e()}function yw(...n){return function a1t(){return an(1)}()(ki(n,fo(n)))}function bw(n){return new _t(e=>{Ri(n()).subscribe(e)})}function s0(n,e){const t=J(n)?n:()=>n,i=r=>r.error(t());return new _t(e?r=>e.schedule(i,0,r):i)}function RO(){return Le((n,e)=>{let t=null;n._refCount++;const i=re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class LO extends _t{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new O;const t=this.getSubject();e.add(this.source.subscribe(re(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=O.EMPTY)}return e}refCount(){return RO()(this)}}function Iu(n,e){return Le((t,i)=>{let r=null,o=0,a=!1;const s=()=>a&&!r&&i.complete();t.subscribe(re(i,l=>{r?.unsubscribe();let c=0;const u=o++;Ri(n(l,u)).subscribe(r=re(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Is(n){return n<=0?()=>Fn:Le((e,t)=>{let i=0;e.subscribe(re(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function fu(...n){const e=fo(n);return Le((t,i)=>{(e?yw(n,t,e):yw(n,t)).subscribe(i)})}function ko(n,e){return Le((t,i)=>{let r=0;t.subscribe(re(i,o=>n.call(e,o,r++)&&i.next(o)))})}function LE(n){return Le((e,t)=>{let i=!1;e.subscribe(re(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function dZ(n=s1t){return Le((e,t)=>{let i=!1;e.subscribe(re(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function s1t(){return new RE}function zm(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ko((r,o)=>n(r,o,i)):Et,Is(1),t?LE(e):dZ(()=>new RE))}function Um(n,e){return J(e)?qe(n,e,1):qe(n,1)}function vl(n,e,t){const i=J(n)||e||t?{next:n,error:e,complete:t}:n;return i?Le((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let s=!0;r.subscribe(re(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Et}function Fp(n){return Le((e,t)=>{let o,i=null,r=!1;i=e.subscribe(re(t,void 0,void 0,a=>{o=Ri(n(a,Fp(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function OE(n,e){return Le(function l1t(n,e,t,i,r){return(o,a)=>{let s=t,l=e,c=0;o.subscribe(re(a,u=>{const d=c++;l=s?n(l,u,d):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}(n,e,arguments.length>=2,!0))}function OO(n){return n<=0?()=>Fn:Le((e,t)=>{let i=[];e.subscribe(re(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function hZ(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ko((r,o)=>n(r,o,i)):Et,OO(1),t?LE(e):dZ(()=>new RE))}function NE(n){return le(()=>n)}function FE(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Go="primary",xw=Symbol("RouteTitle");class u1t{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function l0(n){return new u1t(n)}function d1t(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],s=n[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Af(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!fZ(n[r],e[r]))return!1;return!0}function fZ(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function pZ(n){return Array.prototype.concat.apply([],n)}function mZ(n){return n.length>0?n[n.length-1]:null}function pu(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gm(n){return pL(n)?n:ew(n)?ki(Promise.resolve(n)):rr(n)}const BE=!1,f1t={exact:function _Z(n,e,t){if(!bv(n.segments,e.segments)||!VE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!_Z(n.children[i],e.children[i],t))return!1;return!0},subset:yZ},gZ={exact:function p1t(n,e){return Af(n,e)},subset:function m1t(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fZ(n[t],e[t]))},ignored:()=>!0};function vZ(n,e,t){return f1t[t.paths](n.root,e.root,t.matrixParams)&&gZ[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yZ(n,e,t){return bZ(n,e,e.segments,t)}function bZ(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!bv(r,t)||e.hasChildren()||!VE(r,t,i))}if(n.segments.length===t.length){if(!bv(n.segments,t)||!VE(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!yZ(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(bv(n.segments,r)&&VE(n.segments,r,i)&&n.children[Go])&&bZ(n.children[Go],e,o,i)}}function VE(n,e,t){return e.every((i,r)=>gZ[t](n[r].parameters,i.parameters))}class Hm{constructor(e=new ha([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=l0(this.queryParams)),this._queryParamMap}toString(){return _1t.serialize(this)}}class ha{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pu(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zE(this)}}class ww{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=l0(this.parameters)),this._parameterMap}toString(){return CZ(this)}}function bv(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return new NO},providedIn:"root"}),n})();class NO{parse(e){const t=new T1t(e);return new Hm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sw(e.root,!0)}`,i=function x1t(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${UE(t)}=${UE(r)}`).join("&"):`${UE(t)}=${UE(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function y1t(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _1t=new NO;function zE(n){return n.segments.map(e=>CZ(e)).join("/")}function Sw(n,e){if(!n.hasChildren())return zE(n);if(e){const t=n.children[Go]?Sw(n.children[Go],!1):"",i=[];return pu(n.children,(r,o)=>{o!==Go&&i.push(`${o}:${Sw(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function v1t(n,e){let t=[];return pu(n.children,(i,r)=>{r===Go&&(t=t.concat(e(i,r)))}),pu(n.children,(i,r)=>{r!==Go&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Go?[Sw(n.children[Go],!1)]:[`${r}:${Sw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Go]?`${zE(n)}/${t[0]}`:`${zE(n)}/(${t.join("//")})`}}function xZ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function UE(n){return xZ(n).replace(/%3B/gi,";")}function FO(n){return xZ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function GE(n){return decodeURIComponent(n)}function wZ(n){return GE(n.replace(/\+/g,"%20"))}function CZ(n){return`${FO(n.path)}${function b1t(n){return Object.keys(n).map(e=>`;${FO(e)}=${FO(n[e])}`).join("")}(n.parameters)}`}const w1t=/^[^\/()?;=#]+/;function HE(n){const e=n.match(w1t);return e?e[0]:""}const C1t=/^[^=?&#]+/,M1t=/^[^&#]+/;class T1t{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ha([],{}):new ha([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Go]=new ha(e,t)),i}parseSegment(){const e=HE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new En(4009,BE);return this.capture(e),new ww(GE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=HE(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=HE(this.remaining);r&&(i=r,this.capture(i))}e[GE(t)]=GE(i)}parseQueryParam(e){const t=function S1t(n){const e=n.match(C1t);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function E1t(n){const e=n.match(M1t);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=wZ(t),o=wZ(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=HE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new En(4010,BE);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Go);const a=this.parseChildren();t[o]=1===Object.keys(a).length?a[Go]:new ha([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new En(4011,BE)}}function BO(n){return n.segments.length>0?new ha([],{[Go]:n}):n}function jE(n){const e={};for(const i of Object.keys(n.children)){const o=jE(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function D1t(n){if(1===n.numberOfChildren&&n.children[Go]){const e=n.children[Go];return new ha(n.segments.concat(e.segments),e.children)}return n}(new ha(n.segments,e))}function xv(n){return n instanceof Hm}const VO=!1;function A1t(n,e,t,i,r){if(0===t.length)return c0(e.root,e.root,e.root,i,r);const o=function DZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TZ(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return pu(o.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?t=!0:".."===s?e++:""!=s&&r.push(s))}),r):[...r,o]},[]);return new TZ(t,e,i)}(t);return o.toRoot()?c0(e.root,e.root,new ha([],{}),i,r):function a(l){const c=function P1t(n,e,t,i){if(n.isAbsolute)return new u0(e.root,!0,0);if(-1===i)return new u0(t,t===e.root,0);return function AZ(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new En(4005,VO&&"Invalid number of '../'");r=i.segments.length}return new u0(i,!1,r-o)}(t,i+(Mw(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?d0(c.segmentGroup,c.index,o.commands):zO(c.segmentGroup,c.index,o.commands);return c0(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Mw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ew(n){return"object"==typeof n&&null!=n&&n.outlets}function c0(n,e,t,i,r){let a,o={};i&&pu(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),a=n===e?t:EZ(n,e,t);const s=BO(jE(a));return new Hm(s,o,r)}function EZ(n,e,t){const i={};return pu(n.children,(r,o)=>{i[o]=r===e?t:EZ(r,e,t)}),new ha(n.segments,i)}class TZ{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Mw(i[0]))throw new En(4003,VO&&"Root segment cannot have matrix parameters");const r=i.find(Ew);if(r&&r!==mZ(i))throw new En(4004,VO&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class u0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function zO(n,e,t){if(n||(n=new ha([],{})),0===n.segments.length&&n.hasChildren())return d0(n,e,t);const i=function R1t(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const a=n.segments[r],s=t[i];if(Ew(s))break;const l=`${s}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!PZ(l,c,a))return o;i+=2}else{if(!PZ(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ha(n.segments.slice(0,i.pathIndex),{});return o.children[Go]=new ha(n.segments.slice(i.pathIndex),n.children),d0(o,0,r)}return i.match&&0===r.length?new ha(n.segments,{}):i.match&&!n.hasChildren()?UO(n,e,t):i.match?d0(n,0,r):UO(n,e,t)}function d0(n,e,t){if(0===t.length)return new ha(n.segments,{});{const i=function k1t(n){return Ew(n[0])?n[0].outlets:{[Go]:n}}(t),r={};if(!i[Go]&&n.children[Go]&&1===n.numberOfChildren&&0===n.children[Go].segments.length){const o=d0(n.children[Go],e,t);return new ha(n.segments,o.children)}return pu(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=zO(n.children[a],e,o))}),pu(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new ha(n.segments,r)}}function UO(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Ew(o)){const l=L1t(o.outlets);return new ha(i,l)}if(0===r&&Mw(t[0])){i.push(new ww(n.segments[e].path,IZ(t[0]))),r++;continue}const a=Ew(o)?o.outlets[Go]:`${o}`,s=r<t.length-1?t[r+1]:null;a&&s&&Mw(s)?(i.push(new ww(a,IZ(s))),r+=2):(i.push(new ww(a,{})),r++)}return new ha(i,{})}function L1t(n){const e={};return pu(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=UO(new ha([],{}),0,t))}),e}function IZ(n){const e={};return pu(n,(t,i)=>e[i]=`${t}`),e}function PZ(n,e,t){return n==t.path&&Af(e,t.parameters)}const Tw="imperative";class If{constructor(e,t){this.id=e,this.url=t}}class GO extends If{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wv extends If{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class WE extends If{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZE extends If{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class HO extends If{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O1t extends If{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N1t extends If{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F1t extends If{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class B1t extends If{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V1t extends If{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z1t{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class U1t{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G1t{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H1t{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j1t{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W1t{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kZ{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let X1t=(()=>{class n{createUrlTree(t,i,r,o,a,s){return A1t(t||i.root,r,o,a,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),q1t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(e){return X1t.\u0275fac(e)},providedIn:"root"}),n})();class RZ{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jO(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=jO(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=WO(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return WO(e,this._root).map(t=>t.value)}}function jO(n,e){if(n===e.value)return e;for(const t of e.children){const i=jO(n,t);if(i)return i}return null}function WO(n,e){if(n===e.value)return[e];for(const t of e.children){const i=WO(n,t);if(i.length)return i.unshift(e),i}return[]}class Bp{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function h0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LZ extends RZ{constructor(e,t){super(e),this.snapshot=t,ZO(this,e)}toString(){return this.snapshot.toString()}}function OZ(n,e){const t=function K1t(n,e){const a=new YE([],{},{},"",{},Go,e,null,n.root,-1,{});return new FZ("",new Bp(a,[]))}(n,e),i=new fc([new ww("",{})]),r=new fc({}),o=new fc({}),a=new fc({}),s=new fc(""),l=new f0(i,r,a,s,o,Go,e,t.root);return l.snapshot=t.root,new LZ(new Bp(l,[]),t)}class f0{constructor(e,t,i,r,o,a,s,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.title=this.data?.pipe(le(c=>c[xw]))??rr(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>l0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>l0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NZ(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Q1t(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class YE{get title(){return this.data?.[xw]}constructor(e,t,i,r,o,a,s,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=l0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=l0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FZ extends RZ{constructor(e,t){super(t),this.url=e,ZO(this,t)}toString(){return BZ(this._root)}}function ZO(n,e){e.value._routerState=n,e.children.forEach(t=>ZO(n,t))}function BZ(n){const e=n.children.length>0?` { ${n.children.map(BZ).join(", ")} } `:"";return`${n.value}${e}`}function YO(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Af(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Af(e.params,t.params)||n.params.next(t.params),function h1t(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Af(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Af(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function XO(n,e){const t=Af(n.params,e.params)&&function g1t(n,e){return bv(n,e)&&n.every((t,i)=>Af(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||XO(n.parent,e.parent))}function Dw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function tCt(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Dw(n,i,r);return Dw(n,i)})}(n,e,t);return new Bp(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Dw(n,s)),a}}const i=function eCt(n){return new f0(new fc(n.url),new fc(n.params),new fc(n.queryParams),new fc(n.fragment),new fc(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Dw(n,o));return new Bp(i,r)}}const $O="ngNavigationCancelingError";function VZ(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=xv(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zZ(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function zZ(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[$O]=!0,i.cancellationCode=e,t&&(i.url=t),i}function UZ(n){return GZ(n)&&xv(n.url)}function GZ(n){return n&&n[$O]}class nCt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Aw,this.attachRef=null}}let Aw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new nCt,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XE=!1;let qO=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Go,this.activateEvents=new _r,this.deactivateEvents=new _r,this.attachEvents=new _r,this.detachEvents=new _r,this.parentContexts=Vn(Aw),this.location=Vn(ql),this.changeDetector=Vn(As),this.environmentInjector=Vn(wf)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new En(4012,XE);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new En(4012,XE);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new En(4012,XE);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new En(4013,XE);this._activatedRoute=t;const r=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new iCt(t,s,r.injector);if(i&&function rCt(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(a);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yo]}),n})();class iCt{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===f0?this.route:e===Aw?this.childContexts:this.parent.get(e,t)}}let KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ci({type:n,selectors:[["ng-component"]],standalone:!0,features:[AL],decls:1,vars:0,template:function(t,i){1&t&&Xr(0,"router-outlet")},dependencies:[qO],encapsulation:2}),n})();function HZ(n,e){return n.providers&&!n._injector&&(n._injector=oE(n.providers,e,`Route: ${n.path}`)),n._injector??e}function JO(n){const e=n.children&&n.children.map(JO),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Go&&(t.component=KO),t}function vh(n){return n.outlet||Go}function jZ(n,e){const t=n.filter(i=>vh(i)===e);return t.push(...n.filter(i=>vh(i)!==e)),t}function Iw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cCt{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),YO(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=h0(t);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),pu(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=h0(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=h0(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=h0(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new W1t(o.value.snapshot))}),e.children.length&&this.forwardEvent(new H1t(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(YO(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),YO(s.route.value),this.activateChildRoutes(e,null,a.children)}else{const s=Iw(r.snapshot),l=s?.get(fv)??null;a.attachRef=null,a.route=r,a.resolver=l,a.injector=s,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class WZ{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $E{constructor(e,t){this.component=e,this.route=t}}function uCt(n,e,t){const i=n._root;return Pw(i,e?e._root:null,t,[i.value])}function p0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Or(n){return null!==Vu(n)}(n)?e.get(n):n:i}function Pw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=h0(e);return n.children.forEach(a=>{(function hCt(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function fCt(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bv(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bv(n.url,e.url)||!Af(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XO(n,e)||!Af(n.queryParams,e.queryParams);default:return!XO(n,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new WZ(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Pw(n,e,o.component?s?s.children:null:t,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new $E(s.outlet.component,a))}else a&&kw(e,s,r),r.canActivateChecks.push(new WZ(i)),Pw(n,null,o.component?s?s.children:null:t,i,r)})(a,o[a.value.outlet],t,i.concat([a.value]),r),delete o[a.value.outlet]}),pu(o,(a,s)=>kw(a,t.getContext(s),r)),r}function kw(n,e,t){const i=h0(n),r=n.value;pu(i,(o,a)=>{kw(o,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new $E(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Rw(n){return"function"==typeof n}function t2(n){return n instanceof RE||"EmptyError"===n?.name}const qE=Symbol("INITIAL_VALUE");function m0(){return Iu(n=>kO(n.map(e=>e.pipe(Is(1),fu(qE)))).pipe(le(e=>{for(const t of e)if(!0!==t){if(t===qE)return qE;if(!1===t||t instanceof Hm)return t}return!0}),ko(e=>e!==qE),Is(1)))}function ZZ(n){return function vt(...n){return dt(n)}(vl(e=>{if(xv(e))throw VZ(0,e)}),le(e=>!0===e))}const e2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YZ(n,e,t,i,r){const o=n2(n,e,t);return o.matched?function ICt(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?rr(r.map(a=>{const s=p0(a,n);return Gm(function yCt(n){return n&&Rw(n.canMatch)}(s)?s.canMatch(e,t):n.runInContext(()=>s(e,t)))})).pipe(m0(),ZZ()):rr(!0)}(i=HZ(e,i),e,t).pipe(le(a=>!0===a?o:{...e2})):rr(o)}function n2(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...e2}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||d1t)(t,n,e);if(!r)return{...e2};const o={};pu(r.posParams,(s,l)=>{o[l]=s.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function KE(n,e,t,i){if(t.length>0&&function RCt(n,e,t){return t.some(i=>QE(n,e,i)&&vh(i)!==Go)}(n,t,i)){const o=new ha(e,function kCt(n,e,t,i){const r={};r[Go]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&vh(o)!==Go){const a=new ha([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[vh(o)]=a}return r}(n,e,i,new ha(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function LCt(n,e,t){return t.some(i=>QE(n,e,i))}(n,t,i)){const o=new ha(n.segments,function PCt(n,e,t,i,r){const o={};for(const a of i)if(QE(n,t,a)&&!r[vh(a)]){const s=new ha([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[vh(a)]=s}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new ha(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function QE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function XZ(n,e,t,i){return!!(vh(n)===i||i!==Go&&QE(e,t,n))&&("**"===n.path||n2(e,n,t).matched)}function $Z(n,e,t){return 0===e.length&&!n.children[t]}const JE=!1;class tT{constructor(e){this.segmentGroup=e||null}}class qZ{constructor(e){this.urlTree=e}}function Lw(n){return s0(new tT(n))}function KZ(n){return s0(new qZ(n))}class BCt{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=KE(this.urlTree.root,[],[],this.config).segmentGroup,t=new ha(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Go).pipe(le(o=>this.createUrlTree(jE(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fp(o=>{if(o instanceof qZ)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof tT?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Go).pipe(le(r=>this.createUrlTree(jE(r),e.queryParams,e.fragment))).pipe(Fp(r=>{throw r instanceof tT?this.noMatchError(r):r}))}noMatchError(e){return new En(4002,JE)}createUrlTree(e,t,i){const r=BO(e);return new Hm(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(le(o=>new ha([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return ki(r).pipe(Um(o=>{const a=i.children[o],s=jZ(t,o);return this.expandSegmentGroup(e,s,a,o).pipe(le(l=>({segment:l,outlet:o})))}),OE((o,a)=>(o[a.outlet]=a.segment,o),{}),hZ())}expandSegment(e,t,i,r,o,a){return ki(i).pipe(Um(s=>this.expandSegmentAgainstRoute(e,t,i,s,r,o,a).pipe(Fp(c=>{if(c instanceof tT)return rr(null);throw c}))),zm(s=>!!s),Fp((s,l)=>{if(t2(s))return $Z(t,r,o)?rr(new ha([],{})):Lw(t);throw s}))}expandSegmentAgainstRoute(e,t,i,r,o,a,s){return XZ(r,t,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,a):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a):Lw(t):Lw(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?KZ(o):this.lineralizeSegments(i,o).pipe(qe(a=>{const s=new ha(a,{});return this.expandSegment(e,s,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,a){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=n2(t,r,o);if(!s)return Lw(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?KZ(d):this.lineralizeSegments(r,d).pipe(qe(h=>this.expandSegment(e,t,i,h.concat(c),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=HZ(i,e),i.loadChildren?(i._loadedRoutes?rr({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(le(s=>(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,new ha(r,{})))):rr(new ha(r,{}))):YZ(t,i,r,e).pipe(Iu(({matched:a,consumedSegments:s,remainingSegments:l})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe(qe(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:p,slicedSegments:g}=KE(t,s,l,h),y=new ha(p.segments,p.children);if(0===g.length&&y.hasChildren())return this.expandChildren(d,h,y).pipe(le(E=>new ha(s,E)));if(0===h.length&&0===g.length)return rr(new ha(s,{}));const b=vh(i)===o;return this.expandSegment(d,y,h,g,b?Go:o,!0).pipe(le(M=>new ha(s.concat(M.segments),M.children)))})):Lw(t)))}getChildConfig(e,t,i){return t.children?rr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rr({routes:t._loadedRoutes,injector:t._loadedInjector}):function ACt(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?rr(!0):rr(r.map(a=>{const s=p0(a,n);return Gm(function mCt(n){return n&&Rw(n.canLoad)}(s)?s.canLoad(e,t):n.runInContext(()=>s(e,t)))})).pipe(m0(),ZZ())}(e,t,i).pipe(qe(r=>r?this.configLoader.loadChildren(e,t).pipe(vl(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function NCt(n){return s0(zZ(JE,3))}())):rr({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return rr(i);if(r.numberOfChildren>1||!r.children[Go])return e.redirectTo,s0(new En(4e3,JE));r=r.children[Go]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Hm(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return pu(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const s=r.substring(1);i[o]=t[s]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let a={};return pu(t.children,(s,l)=>{a[l]=this.createSegmentGroup(e,s,i,r)}),new ha(o,a)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new En(4001,JE);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class zCt{}class HCt{constructor(e,t,i,r,o,a,s){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s}recognize(){const e=KE(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Go).pipe(le(t=>{if(null===t)return null;const i=new YE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Go,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bp(i,t),o=new FZ(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=NZ(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return ki(Object.keys(i.children)).pipe(Um(r=>{const o=i.children[r],a=jZ(t,r);return this.processSegmentGroup(e,a,o,r)}),OE((r,o)=>r&&o?(r.push(...o),r):null),function c1t(n,e=!1){return Le((t,i)=>{let r=0;t.subscribe(re(i,o=>{const a=n(o,r++);(a||e)&&i.next(o),!a&&i.complete()}))})}(r=>null!==r),LE(null),hZ(),le(r=>{if(null===r)return null;const o=JZ(r);return function jCt(n){n.sort((e,t)=>e.value.outlet===Go?-1:t.value.outlet===Go?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return ki(t).pipe(Um(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,o)),zm(a=>!!a),Fp(a=>{if(t2(a))return $Z(i,r,o)?rr([]):rr(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!XZ(t,i,r,o))return rr(null);let a;if("**"===t.path){const s=r.length>0?mZ(r).parameters:{},l=e9(i)+r.length;a=rr({snapshot:new YE(r,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,n9(t),vh(t),t.component??t._loadedComponent??null,t,t9(i),l,r9(t)),consumedSegments:[],remainingSegments:[]})}else a=YZ(i,t,r,e).pipe(le(({matched:s,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!s)return null;const d=e9(i)+l.length;return{snapshot:new YE(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,n9(t),vh(t),t.component??t._loadedComponent??null,t,t9(i),d,r9(t)),consumedSegments:l,remainingSegments:c}}));return a.pipe(Iu(s=>{if(null===s)return rr(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=s;e=t._injector??e;const d=t._loadedInjector??e,h=function WCt(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:g}=KE(i,c,u,h.filter(b=>void 0===b.redirectTo));if(0===g.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(le(b=>null===b?null:[new Bp(l,b)]));if(0===h.length&&0===g.length)return rr([new Bp(l,[])]);const y=vh(t)===o;return this.processSegment(d,h,p,g,y?Go:o).pipe(le(b=>null===b?null:[new Bp(l,b)]))}))}}function ZCt(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function JZ(n){const e=[],t=new Set;for(const i of n){if(!ZCt(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=JZ(i.children);e.push(new Bp(i.value,r))}return e.filter(i=>!t.has(i))}function t9(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function e9(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function n9(n){return n.data||{}}function r9(n){return n.resolve||{}}function o9(n){return"string"==typeof n.title||null===n.title}function r2(n){return Iu(e=>{const t=n(e);return t?ki(t).pipe(le(()=>e)):rr(e)})}const g0=new hn("ROUTES");let o2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Vn(Rj)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Gm(t.loadComponent()).pipe(le(s9),vl(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),FE(()=>{this.componentLoaders.delete(t)})),r=new LO(i,()=>new qt).pipe(RO());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return rr({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(le(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(s)?c=s:(l=s.create(t).injector,c=pZ(l.get(g0,[],wi.Self|wi.Optional)));return{routes:c.map(JO),injector:l}}),FE(()=>{this.childrenLoaders.delete(i)})),a=new LO(o,()=>new qt).pipe(RO());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return Gm(t()).pipe(le(s9),qe(i=>i instanceof YH||Array.isArray(i)?rr(i):ki(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s9(n){return function tSt(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let nT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new qt,this.configLoader=Vn(o2),this.environmentInjector=Vn(wf),this.urlSerializer=Vn(Cw),this.rootContexts=Vn(Aw),this.navigationId=0,this.afterPreactivation=()=>rr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new U1t(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new z1t(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new fc({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ko(i=>0!==i.id),le(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Iu(i=>{let r=!1,o=!1;return rr(i).pipe(vl(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Iu(a=>{const s=t.browserUrlTree.toString(),l=!t.navigated||a.extractedUrl.toString()!==s||s!==t.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new ZE(a.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),Fn}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return l9(a.source)&&(t.browserUrlTree=a.extractedUrl),rr(a).pipe(Iu(u=>{const d=this.transitions?.getValue();return this.events.next(new GO(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Fn:Promise.resolve(u)}),function VCt(n,e,t,i){return Iu(r=>function FCt(n,e,t,i,r){return new BCt(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(le(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),vl(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function XCt(n,e,t,i,r){return qe(o=>function GCt(n,e,t,i,r,o,a="emptyOnly"){return new HCt(n,e,t,i,r,a,o).recognize().pipe(Iu(s=>null===s?function UCt(n){return new _t(e=>e.error(n))}(new zCt):rr(s)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(le(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),vl(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new O1t(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:p,extras:g}=a,y=new GO(u,this.urlSerializer.serialize(d),h,p);this.events.next(y);const b=OZ(d,this.rootComponentType).snapshot;return rr(i={...a,targetSnapshot:b,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new ZE(a.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),Fn}}),vl(a=>{const s=new N1t(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),le(a=>i={...a,guards:uCt(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function xCt(n,e){return qe(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return 0===a.length&&0===o.length?rr({...t,guardsResult:!0}):function wCt(n,e,t,i){return ki(n).pipe(qe(r=>function DCt(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?rr(o.map(s=>{const l=Iw(e)??r,c=p0(s,l);return Gm(function _Ct(n){return n&&Rw(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(zm())})).pipe(m0()):rr(!0)}(r.component,r.route,t,e,i)),zm(r=>!0!==r,!0))}(a,i,r,n).pipe(qe(s=>s&&function pCt(n){return"boolean"==typeof n}(s)?function CCt(n,e,t,i){return ki(e).pipe(Um(r=>yw(function MCt(n,e){return null!==n&&e&&e(new G1t(n)),rr(!0)}(r.route.parent,i),function SCt(n,e){return null!==n&&e&&e(new j1t(n)),rr(!0)}(r.route,i),function TCt(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function dCt(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>bw(()=>rr(a.guards.map(l=>{const c=Iw(a.node)??t,u=p0(l,c);return Gm(function vCt(n){return n&&Rw(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(zm())})).pipe(m0())));return rr(o).pipe(m0())}(n,r.path,t),function ECt(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return rr(!0);const r=i.map(o=>bw(()=>{const a=Iw(e)??t,s=p0(o,a);return Gm(function gCt(n){return n&&Rw(n.canActivate)}(s)?s.canActivate(e,n):a.runInContext(()=>s(e,n))).pipe(zm())}));return rr(r).pipe(m0())}(n,r.route,t))),zm(r=>!0!==r,!0))}(i,o,n,e):rr(s)),le(s=>({...t,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),vl(a=>{if(i.guardsResult=a.guardsResult,xv(a.guardsResult))throw VZ(0,a.guardsResult);const s=new F1t(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),ko(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),r2(a=>{if(a.guards.canActivateChecks.length)return rr(a).pipe(vl(s=>{const l=new B1t(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Iu(s=>{let l=!1;return rr(s).pipe(function $Ct(n,e){return qe(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return rr(t);let o=0;return ki(r).pipe(Um(a=>function qCt(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!o9(r)&&(o[xw]=r.title),function KCt(n,e,t,i){const r=function QCt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return rr({});const o={};return ki(r).pipe(qe(a=>function JCt(n,e,t,i){const r=Iw(e)??i,o=p0(n,r);return Gm(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[a],e,t,i).pipe(zm(),vl(s=>{o[a]=s}))),OO(1),NE(o),Fp(a=>t2(a)?Fn:s0(a)))}(o,n,e,i).pipe(le(a=>(n._resolvedData=a,n.data=NZ(n,t).resolve,r&&o9(r)&&(n.data[xw]=r.title),null)))}(a.route,i,n,e)),vl(()=>o++),OO(1),qe(a=>o===r.length?rr(t):Fn))})}(t.paramsInheritanceStrategy,this.environmentInjector),vl({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),vl(s=>{const l=new V1t(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),r2(a=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(vl(u=>{l.component=u}),le(()=>{})));for(const u of l.children)c.push(...s(u));return c};return kO(s(a.targetSnapshot.root)).pipe(LE(),Is(1))}),r2(()=>this.afterPreactivation()),le(a=>{const s=function J1t(n,e,t){const i=Dw(n,e._root,t?t._root:void 0);return new LZ(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:s}}),vl(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>le(i=>(new cCt(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a)),Is(1),vl({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new wv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),FE(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Fp(a=>{if(o=!0,GZ(a)){UZ(a)||(t.navigated=!0,t.restoreHistory(i,!0));const s=new WE(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(s),UZ(a)){const l=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||l9(i.source)};t.scheduleNavigation(l,Tw,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const s=new HO(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(s);try{i.resolve(t.errorHandler(a))}catch(l){i.reject(l)}}return Fn}))}))}cancelNavigationTransition(t,i,r){const o=new WE(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l9(n){return n!==Tw}let c9=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Go);return i}getResolvedTitleForRoute(t){return t.data[xw]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return Vn(eSt)},providedIn:"root"}),n})(),eSt=(()=>{class n extends c9{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(nn(rZ))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nSt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return Vn(rSt)},providedIn:"root"}),n})();class iSt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rSt=(()=>{class n extends iSt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iT=new hn("",{providedIn:"root",factory:()=>({})});let aSt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:function(){return Vn(sSt)},providedIn:"root"}),n})(),sSt=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lSt(n){throw n}function cSt(n,e,t){return e.parse("/")}const uSt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dSt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gd=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Vn(j0t),this.isNgZoneEnabled=!1,this.options=Vn(iT,{optional:!0})||{},this.errorHandler=this.options.errorHandler||lSt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cSt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Vn(aSt),this.routeReuseStrategy=Vn(nSt),this.urlCreationStrategy=Vn(q1t),this.titleStrategy=Vn(c9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pZ(Vn(g0,{optional:!0})??[]),this.navigationTransitions=Vn(nT),this.urlSerializer=Vn(Cw),this.location=Vn(fw),this.isNgZoneEnabled=Vn(gr)instanceof gr&&gr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OZ(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(t);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(JO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a;let u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=xv(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Tw,null,i)}navigate(t,i={skipLocationChange:!1}){return function hSt(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new En(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...uSt}:!1===i?{...dSt}:i,xv(t))return vZ(this.currentUrlTree,t,r);const o=this.parseUrl(t);return vZ(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c,u;return a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rT=(()=>{class n{constructor(t,i,r,o,a,s){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new qt;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof wv&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=a0(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=a0(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=a0(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function MG(n,e,t){return function Ymt(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?SG:CG}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(ie(Gd),ie(f0),cu("tabindex"),ie(Tp),ie(Oi),ie(yv))},n.\u0275dir=Cn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&Pr("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Cr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Yo]}),n})();class u9{}let mSt=(()=>{class n{constructor(t,i,r,o,a){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ko(t=>t instanceof wv),Um(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=oE(o.providers,t,`Route: ${o.path}`));const a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return ki(r).pipe(an())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):rr(null);const o=r.pipe(qe(a=>null===a?rr(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return i.loadComponent&&!i._loadedComponent?ki([o,this.loader.loadComponent(i)]).pipe(an()):o})}}return n.\u0275fac=function(t){return new(t||n)(nn(Gd),nn(Rj),nn(wf),nn(u9),nn(o2))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s2=new hn("");let d9=(()=>{class n{constructor(t,i,r,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wv&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kZ&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kZ(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Lm()},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();var Hd=(()=>((Hd=Hd||{})[Hd.COMPLETE=0]="COMPLETE",Hd[Hd.FAILED=1]="FAILED",Hd[Hd.REDIRECTING=2]="REDIRECTING",Hd))();const v0=!1;function jm(n,e){return{\u0275kind:n,\u0275providers:e}}const l2=new hn("",{providedIn:"root",factory:()=>!1});function f9(){const n=Vn(hu);return e=>{const t=n.get(o0);if(e!==t.components[0])return;const i=n.get(Gd),r=n.get(p9);1===n.get(c2)&&i.initialNavigation(),n.get(m9,null,wi.Optional)?.setUpPreloading(),n.get(s2,null,wi.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const p9=new hn(v0?"bootstrap done indicator":"",{factory:()=>new qt}),c2=new hn(v0?"initial navigation":"",{providedIn:"root",factory:()=>1});function bSt(){let n=[];return n=v0?[{provide:Oy,multi:!0,useFactory:()=>{const e=Vn(Gd);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Z1t(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],jm(1,n)}const m9=new hn(v0?"router preloader":"");function xSt(n){return jm(0,[{provide:m9,useExisting:mSt},{provide:u9,useExisting:n}])}const Ow=!1,g9=new hn(Ow?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wSt=[fw,{provide:Cw,useClass:NO},Gd,Aw,{provide:f0,useFactory:function h9(n){return n.routerState.root},deps:[Gd]},o2,Ow?{provide:l2,useValue:!0}:[]];function CSt(){return new Uj("Router",Gd)}let v9=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[wSt,Ow&&i?.enableTracing?bSt().\u0275providers:[],{provide:g0,multi:!0,useValue:t},{provide:g9,useFactory:TSt,deps:[[Gd,new Yl,new pd]]},{provide:iT,useValue:i||{}},i?.useHash?{provide:yv,useClass:Pbt}:{provide:yv,useClass:dW},{provide:s2,useFactory:()=>{const n=Vn(Xxt),e=Vn(gr),t=Vn(iT),i=Vn(nT),r=Vn(Cw);return t.scrollOffset&&n.setOffset(t.scrollOffset),new d9(r,i,n,e,t)}},i?.preloadingStrategy?xSt(i.preloadingStrategy).\u0275providers:[],{provide:Uj,multi:!0,useFactory:CSt},i?.initialNavigation?DSt(i):[],[{provide:_9,useFactory:f9},{provide:zj,multi:!0,useExisting:_9}]]}}static forChild(t){return{ngModule:n,providers:[{provide:g0,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(nn(g9,8))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[KO]}),n})();function TSt(n){if(Ow&&n)throw new En(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function DSt(n){return["disabled"===n.initialNavigation?jm(3,[{provide:cE,multi:!0,useFactory:()=>{const e=Vn(Gd);return()=>{e.setUpLocationChangeListener()}}},{provide:c2,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jm(2,[{provide:c2,useValue:0},{provide:cE,multi:!0,deps:[hu],useFactory:e=>{const t=e.get(Abt,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Gd),o=e.get(p9);(function gSt(n,e){n.events.pipe(ko(t=>t instanceof wv||t instanceof WE||t instanceof HO||t instanceof ZE),le(t=>t instanceof wv||t instanceof ZE?Hd.COMPLETE:t instanceof WE&&(0===t.code||1===t.code)?Hd.REDIRECTING:Hd.FAILED),ko(t=>t!==Hd.REDIRECTING),Is(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(nT).afterPreactivation=()=>(i(!0),o.closed?rr(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const _9=new hn(Ow?"Router Initializer":"");function Nw(n,e=Et){return n=n??ISt,Le((t,i)=>{let r,o=!0;t.subscribe(re(i,a=>{const s=e(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function ISt(n,e){return n===e}function or(n){return null!=n&&"false"!=`${n}`}function _l(n,e=0){return function PSt(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function oT(n){return Array.isArray(n)?n:[n]}function Pc(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cv(n){return n instanceof Oi?n.nativeElement:n}function y9(n){return ko((e,t)=>n<=t)}class kSt extends O{constructor(e,t){super()}schedule(e,t=0){return this}}const aT={setInterval(n,e,...t){const{delegate:i}=aT;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=aT;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class sT extends kSt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return aT.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&aT.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,G(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const u2={now:()=>(u2.delegate||Date).now(),delegate:void 0};class Fw{constructor(e,t=Fw.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Fw.now=u2.now;class lT extends Fw{constructor(e,t=Fw.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const cT=new lT(sT),RSt=cT;function Qu(n,e=cT){return Le((t,i)=>{let r=null,o=null,a=null;const s=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=a+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);s()}t.subscribe(re(i,c=>{o=c,a=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function Ga(n){return Le((e,t)=>{Ri(n).subscribe(re(t,()=>t.complete(),U)),!t.closed&&e.subscribe(t)})}let d2;try{d2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d2=!1}let Bw,uT,Sv,h2,pc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Yxt(n){return n===RW}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!d2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(nn(dE))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wm(n){return function LSt(){if(null==Bw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bw=!0}))}finally{Bw=Bw||!1}return Bw}()?n:!!n.capture}function x9(){if(null==Sv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sv=!1,Sv;if("scrollBehavior"in document.documentElement.style)Sv=!0;else{const n=Element.prototype.scrollTo;Sv=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sv}function Vw(){if("object"!=typeof document||!document)return 0;if(null==uT){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),uT=0,0===n.scrollLeft&&(n.scrollLeft=1,uT=0===n.scrollLeft?1:2),n.remove()}return uT}function dT(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Vp(n){return n.composedPath?n.composedPath()[0]:n.target}function f2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let FSt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();const w9=new Set;let y0,BSt=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zSt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function VSt(n){if(!w9.has(n))try{y0||(y0=document.createElement("style"),y0.setAttribute("type","text/css"),document.head.appendChild(y0)),y0.sheet&&(y0.sheet.insertRule(`@media ${n} {body{ }}`,0),w9.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(nn(pc))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zSt(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let hT=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new qt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return C9(oT(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=kO(C9(oT(t)).map(a=>this._registerQuery(a).observable));return o=yw(o.pipe(Is(1)),o.pipe(y9(1),Qu(0))),o.pipe(le(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new _t(a=>{const s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(fu(i),le(({matches:a})=>({query:t,matches:a})),Ga(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(nn(BSt),nn(gr))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C9(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const b0={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function vd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}let M9=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tMt=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Cv(t);return new _t(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new qt,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(nn(M9))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E9=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=or(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=_l(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new _r,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Qu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(ie(tMt),ie(Oi),ie(gr))},n.\u0275dir=Cn({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),gT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[M9]}),n})();class iMt{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new qt,this._typeaheadSubscription=O.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new qt,this.change=new qt,e instanceof kp&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(vl(t=>this._pressedLetters.push(t)),Qu(e),ko(()=>this._pressedLetters.length>0),le(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((r||vd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof kp?this._items.toArray():this._items}}class vT extends iMt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Uw=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function oMt(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function rMt(n){try{return n.frameElement}catch{return null}}(function fMt(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===I9(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=I9(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dMt(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function hMt(n){return!function sMt(n){return function cMt(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function aMt(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function lMt(n){return function uMt(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||A9(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(nn(pc))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A9(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function I9(n){if(!A9(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pMt{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Is(1)).subscribe(e)}}let _T=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new pMt(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(nn(Uw),nn(gr),nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function _2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const mMt=new hn("cdk-input-modality-detector-options"),gMt={ignoreKeys:[18,17,224,91,16]},w0=Wm({passive:!0,capture:!0});let vMt=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new fc(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vp(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(v2(a)?"keyboard":"mouse"),this._mostRecentTarget=Vp(a))},this._onTouchstart=a=>{_2(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vp(a))},this._options={...gMt,...o},this.modalityDetected=this._modality.pipe(y9(1)),this.modalityChanged=this.modalityDetected.pipe(Nw()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,w0),r.addEventListener("mousedown",this._onMousedown,w0),r.addEventListener("touchstart",this._onTouchstart,w0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,w0),document.removeEventListener("mousedown",this._onMousedown,w0),document.removeEventListener("touchstart",this._onTouchstart,w0))}}return n.\u0275fac=function(t){return new(t||n)(nn(pc),nn(gr),nn(oo),nn(mMt,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yMt=new hn("cdk-focus-monitor-default-options"),yT=Wm({passive:!0,capture:!0});let jd=(()=>{class n{constructor(t,i,r,o,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qt,this._rootNodeFocusAndBlurListener=s=>{for(let c=Vp(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(t,i=!1){const r=Cv(t);if(!this._platform.isBrowser||1!==r.nodeType)return rr(null);const o=function NSt(n){if(function OSt(){if(null==h2){const n=typeof document<"u"?document.head:null;h2=!(!n||!n.createShadowRoot&&!n.attachShadow)}return h2}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const s={checkChildren:i,subject:new qt,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const i=Cv(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Cv(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Vp(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ga(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(nn(gr),nn(pc),nn(vMt),nn(oo,8),nn(yMt,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k9="cdk-high-contrast-black-on-white",R9="cdk-high-contrast-white-on-black",y2="cdk-high-contrast-active";let L9=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Vn(hT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(y2,k9,R9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(y2,k9):2===i&&t.add(y2,R9)}}}return n.\u0275fac=function(t){return new(t||n)(nn(pc),nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gw=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(nn(L9))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[gT]}),n})();const bMt=new hn("cdk-dir-doc",{providedIn:"root",factory:function xMt(){return Vn(oo)}}),wMt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _d=(()=>{class n{constructor(t){this.value="ltr",this.change=new _r,t&&(this.value=function CMt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?wMt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(nn(bMt,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();const TMt=new hn("mat-sanity-checks",{providedIn:"root",factory:function EMt(){return!0}});let yr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!f2()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(nn(L9),nn(TMt,8),nn(oo))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[C0,C0]}),n})();function S0(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=or(e)}constructor(...e){super(...e),this._disabled=!1}}}function Mv(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Ev(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=or(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Ym(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?_l(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}const AMt=new hn("MAT_DATE_LOCALE",{providedIn:"root",factory:function IMt(){return Vn(Tf)}});class Pf{constructor(){this._localeChanges=new qt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const b2=new hn("mat-date-formats"),PMt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function x2(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let kMt=(()=>{class n extends Pf{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return x2(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return x2(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return x2(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(PMt.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(nn(AMt,8),nn(pc))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const RMt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let LMt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[{provide:Pf,useClass:kMt}]}),n})(),OMt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[{provide:b2,useValue:RMt}],imports:[LMt]}),n})(),w2=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,yr]}),n})();class NMt{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const B9=Wm({passive:!0,capture:!0});class FMt{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Vp(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,B9)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,B9)))}}const V9={enterDuration:225,exitDuration:150},z9=Wm({passive:!0,capture:!0}),U9=["mousedown","touchstart"],G9=["mouseup","mouseleave","touchend","touchcancel"];class M0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...V9,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function VMt(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),s=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,g="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===r.width&&0===r.height,y=new NMt(this,u,i,g);u.style.transform="scale3d(1, 1, 1)",y.state=0,i.persistent||(this._mostRecentTransientRipple=y);let b=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const w=()=>this._finishRippleTransition(y),M=()=>this._destroyRipple(y);u.addEventListener("transitionend",w),u.addEventListener("transitioncancel",M),b={onTransitionEnd:w,onTransitionCancel:M}}),this._activeRipples.set(y,b),(g||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...V9,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Cv(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,U9.forEach(i=>{M0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{G9.forEach(t=>{this._triggerElement.addEventListener(t,this,z9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=v2(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!_2(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(U9.forEach(t=>M0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&G9.forEach(t=>e.removeEventListener(t,this,z9)))}}M0._eventManager=new FMt;const E0=new hn("mat-ripple-global-options");let Wd=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new M0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(gr),ie(pc),ie(E0,8),ie(Dc,8))},n.\u0275dir=Cn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&ro("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,yr]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr]}),n})(),bT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[_h,Nl,yr,H9]}),n})();const HMt=["mat-button",""],jMt=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],WMt=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],YMt=["mat-icon-button",""],XMt=["*"],$Mt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],qMt=Mv(S0(Ev(class{constructor(n){this._elementRef=n}})));let S2,j9=(()=>{class n extends qMt{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Vn(jd),this._isFab=!1;const a=t.nativeElement.classList;for(const s of $Mt)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{a.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Lm()},n.\u0275dir=Cn({type:n,viewQuery:function(t,i){if(1&t&&rs(Wd,5),2&t){let r;Ni(r=Fi())&&(i.ripple=r.first)}},features:[Qn]}),n})(),QMt=(()=>{class n extends j9{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(pc),ie(gr),ie(Dc,8))},n.\u0275cmp=Ci({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Cr("disabled",i.disabled||null),ro("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qn],attrs:HMt,ngContentSelectors:WMt,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(qa(jMt),Xr(0,"span",0),qi(1),Ln(2,"span",1),qi(3,1),Zn(),qi(4,2),Xr(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(ro("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),Si(6),Pi("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Wd],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),C2=(()=>{class n extends j9{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(pc),ie(gr),ie(Dc,8))},n.\u0275cmp=Ci({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Cr("disabled",i.disabled||null),ro("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qn],attrs:YMt,ngContentSelectors:XMt,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(qa(),Xr(0,"span",0),qi(1),Xr(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(Si(3),Pi("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Wd],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,_h,yr]}),n})(),tEt=1;const xT={};function W9(n){return n in xT&&(delete xT[n],!0)}const eEt={setImmediate(n){const e=tEt++;return xT[e]=!0,S2||(S2=Promise.resolve()),S2.then(()=>W9(e)&&n()),e},clearImmediate(n){W9(n)}},{setImmediate:nEt,clearImmediate:iEt}=eEt,wT={setImmediate(...n){const{delegate:e}=wT;return(e?.setImmediate||nEt)(...n)},clearImmediate(n){const{delegate:e}=wT;return(e?.clearImmediate||iEt)(n)},delegate:void 0},M2=new class oEt extends lT{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rEt extends sT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=wT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(wT.clearImmediate(t),e._scheduled=void 0)}});function Z9(n,e){return e?t=>yw(e.pipe(Is(1),function aEt(){return Le((n,e)=>{n.subscribe(re(e,U))})}()),t.pipe(Z9(n))):qe((t,i)=>n(t,i).pipe(Is(1),NE(t)))}function Y9(n=0,e,t=RSt){let i=-1;return null!=e&&(Vi(e)?t=e:i=e),new _t(r=>{let o=function sEt(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function E2(n,e=cT){const t=Y9(n,e);return Z9(()=>t)}class T2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CT extends T2{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Ww extends T2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class lEt extends T2{constructor(e){super(),this.element=e instanceof Oi?e.nativeElement:e}}class D2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof CT?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ww?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof lEt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cEt extends D2{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||hu.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ST=(()=>{class n extends D2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new _r,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(ie(fv),ie(ql),ie(oo))},n.\u0275dir=Cn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Qn]}),n})(),zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();class X9{}class uEt{}const Up="*";function Fl(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qa(n,e=null){return{type:4,styles:e,timings:n}}function $9(n,e=null){return{type:2,steps:n,options:e}}function er(n){return{type:6,styles:n,offset:null}}function oa(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ha(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function q9(n){Promise.resolve().then(n)}class Zw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q9(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class K9{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?q9(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const I2="!",dEt=["addListener","removeListener"],hEt=["addEventListener","removeEventListener"],fEt=["on","off"];function Xm(n,e,t,i){if(J(t)&&(i=t,t=void 0),i)return Xm(n,e,t).pipe(PO(i));const[r,o]=function gEt(n){return J(n.addEventListener)&&J(n.removeEventListener)}(n)?hEt.map(a=>s=>n[a](e,s,t)):function pEt(n){return J(n.addListener)&&J(n.removeListener)}(n)?dEt.map(Q9(n,e)):function mEt(n){return J(n.on)&&J(n.off)}(n)?fEt.map(Q9(n,e)):[];if(!r&&en(n))return qe(a=>Xm(a,e,t))(Ri(n));if(!r)throw new TypeError("Invalid event target");return new _t(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function Q9(n,e){return t=>i=>n[t](e,i)}const Yw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Yw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new O(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Yw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Yw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},yEt=new class _Et extends lT{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class vEt extends sT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Yw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Yw.cancelAnimationFrame(t),e._scheduled=void 0)}});function P2(n,e=cT){return function bEt(n){return Le((e,t)=>{let i=!1,r=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}a&&t.complete()},l=()=>{o=null,a&&t.complete()};e.subscribe(re(t,c=>{i=!0,r=c,o||Ri(n(c)).subscribe(o=re(t,s,l))},()=>{a=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Y9(n,e))}const xEt=["contentWrapper"],wEt=["*"],CEt=new hn("VIRTUAL_SCROLL_STRATEGY");let D0=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new qt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _t(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(P2(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ko(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Cv(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(nn(gr),nn(pc),nn(oo,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tv=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new qt,this._elementScrolled=new _t(a=>this.ngZone.runOutsideAngular(()=>Xm(this.elementRef.nativeElement,"scroll").pipe(Ga(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Vw()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Vw()?t.left=t.right:1==Vw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;x9()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?r:i:"end"==t&&(t=a?i:r),a&&2==Vw()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==Vw()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(D0),ie(gr),ie(_d,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),A0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new qt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(P2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(nn(pc),nn(gr),nn(oo,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J9=new hn("VIRTUAL_SCROLLABLE");let EEt=(()=>{class n extends Tv{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(D0),ie(gr),ie(_d,8))},n.\u0275dir=Cn({type:n,features:[Qn]}),n})();const DEt=typeof requestAnimationFrame<"u"?yEt:M2;let AEt=(()=>{class n extends EEt{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=or(t)}constructor(t,i,r,o,a,s,l,c){super(t,s,r,a),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=c,this._platform=Vn(pc),this._detachedSubject=new qt,this._renderedRangeSubject=new qt,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _t(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=O.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(fu(null),P2(0,DEt)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ga(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function TEt(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,a=o?"X":"Y";let l=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",a="rtl"==this.dir?.value;i="start"==t?a?o:r:"end"==t?a?r:o:t||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-s}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(As),ie(gr),ie(CEt,8),ie(_d,8),ie(D0),ie(A0),ie(J9,8))},n.\u0275cmp=Ci({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&rs(xEt,7),2&t){let r;Ni(r=Fi())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&ro("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Di([{provide:Tv,useFactory:(e,t)=>e||t,deps:[[new Yl,new Mc(J9)],n]}]),Qn,AL],ngContentSelectors:wEt,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(qa(),Ln(0,"div",0,1),qi(2),Zn(),Xr(3,"div",2)),2&t&&(Si(3),md("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),k2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[C0,Gp,AEt,C0,Gp]}),n})();const t7=x9();class IEt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Pc(-this._previousScrollPosition.left),e.style.top=Pc(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t7&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t7&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class PEt{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ko(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class e7{enable(){}disable(){}attach(){}}function R2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function n7(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kEt{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();R2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let REt=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new e7,this.close=a=>new PEt(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new IEt(this._viewportRuler,this._document),this.reposition=a=>new kEt(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(nn(D0),nn(A0),nn(gr),nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class TT{constructor(e){if(this.scrollStrategy=new e7,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class LEt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let r7=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OEt=(()=>{class n extends r7{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(nn(oo),nn(gr,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NEt=(()=>{class n extends r7{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Vp(o)},this._clickListener=o=>{const a=Vp(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(nn(oo),nn(pc),nn(gr,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DT=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||f2()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),f2()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(nn(oo),nn(pc))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xw{constructor(e,t,i,r,o,a,s,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new qt,this._attachments=new qt,this._detachments=new qt,this._locationChanges=O.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new qt,this._outsidePointerEvents=new qt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Is(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Pc(this._config.width),e.height=Pc(this._config.height),e.minWidth=Pc(this._config.minWidth),e.minHeight=Pc(this._config.minHeight),e.maxWidth=Pc(this._config.maxWidth),e.maxHeight=Pc(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=oT(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ga(Yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const o7="cdk-overlay-connected-position-bounding-box",FEt=/([A-Za-z%]+)$/;class BEt{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qt,this._resizeSubscription=O.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(o7),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,r,s),c=this._getOverlayPoint(l,t,s),u=this._getOverlayFit(c,t,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:t})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(o7),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;r="start"==i.originX?a:s}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=s7(t);let{x:a,y:s}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let h=0-s,p=s+o.height-i.height,g=this._subtractOverflows(o.width,0-a,a+o.width-i.width),y=this._subtractOverflows(o.height,h,p),b=g*y;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,a=a7(this._overlayRef.getConfig().minHeight),s=a7(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=r)&&(e.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=s7(t),o=this._viewportRect,a=Math.max(e.x+r.width-o.width,0),s=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-a:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-s:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new LEt(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,a,s,u,d,h;if("top"===t.overlayY)a=e.y,o=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)s=i.height-e.y+2*this._viewportMargin,o=i.height-s+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;o=2*p,a=e.y-p,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-g/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;u=2*p,d=e.x-p,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-g/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Pc(i.height),r.top=Pc(i.top),r.bottom=Pc(i.bottom),r.width=Pc(i.width),r.left=Pc(i.left),r.right=Pc(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Pc(o)),a&&(r.maxWidth=Pc(a))}this._lastBoundingBoxSize=i,Dv(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Dv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Dv(i,this._getExactOverlayY(t,e,u)),Dv(i,this._getExactOverlayX(t,e,u))}else i.position="static";let s="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=Pc(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Pc(a.maxWidth):o&&(i.maxWidth="")),Dv(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Pc(o.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Pc(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:n7(e,i),isOriginOutsideView:R2(e,i),isOverlayClipped:n7(t,i),isOverlayOutsideView:R2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&oT(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Oi)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Dv(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function a7(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(FEt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function s7(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const l7="cdk-global-overlay-wrapper";class VEt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(l7),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",g="",y="";l?y="flex-start":"center"===u?(y="center",h?g=d:p=d):h?"left"===u||"end"===u?(y="flex-end",p=d):("right"===u||"start"===u)&&(y="flex-start",g=d):"left"===u||"start"===u?(y="flex-start",p=d):("right"===u||"end"===u)&&(y="flex-end",g=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,t.justifyContent=y,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(l7),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zEt=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new VEt}flexibleConnectedTo(t){return new BEt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(nn(A0),nn(oo),nn(pc),nn(DT))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UEt=0,yd=(()=>{class n{constructor(t,i,r,o,a,s,l,c,u,d,h,p){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new TT(t);return a.direction=a.direction||this._directionality.value,new Xw(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+UEt++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o0)),new cEt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(nn(REt),nn(DT),nn(fv),nn(zEt),nn(OEt),nn(hu),nn(gr),nn(oo),nn(_d),nn(fw),nn(NEt),nn(Dc,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jEt={provide:new hn("cdk-connected-overlay-scroll-strategy"),deps:[yd],useFactory:function HEt(n){return()=>n.scrollStrategies.reposition()}};let kf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[yd,jEt],imports:[C0,zp,k2,k2]}),n})();const WEt=["mat-menu-item",""];function ZEt(n,e){1&n&&(Od(),Ln(0,"svg",3),Xr(1,"polygon",4),Zn())}const YEt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],XEt=["mat-icon, [matMenuItemIcon]","*"];function $Et(n,e){if(1&n){const t=Pp();Ln(0,"div",0),Pr("keydown",function(r){return Js(t),hl(Ds()._handleKeydown(r))})("click",function(){return Js(t),hl(Ds().closed.emit("click"))})("@transformMenu.start",function(r){return Js(t),hl(Ds()._onAnimationStart(r))})("@transformMenu.done",function(r){return Js(t),hl(Ds()._onAnimationDone(r))}),Ln(1,"div",1),qi(2),Zn()()}if(2&n){const t=Ds();Pi("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Cr("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const qEt=["*"],L2=new hn("MAT_MENU_PANEL"),KEt=Ev(S0(class{}));let AT=(()=>{class n extends KEt{constructor(t,i,r,o,a){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new qt,this._focused=new qt,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(oo),ie(jd),ie(L2,8),ie(As))},n.\u0275cmp=Ci({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,i){1&t&&Pr("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Cr("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),ro("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Qn],attrs:WEt,ngContentSelectors:XEt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(qa(YEt),qi(0),Ln(1,"span",0),qi(2,1),Zn(),Xr(3,"div",1),_o(4,ZEt,2,0,"svg",2)),2&t&&(Si(3),Pi("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),Si(1),Pi("ngIf",i._triggersSubmenu))},dependencies:[Df,Wd],encapsulation:2,changeDetection:0}),n})();const QEt=new hn("MatMenuContent"),IT={transformMenu:Fl("transformMenu",[oa("void",er({opacity:0,transform:"scale(0.8)"})),Ha("void => enter",Qa("120ms cubic-bezier(0, 0, 0.2, 1)",er({opacity:1,transform:"scale(1)"}))),Ha("* => void",Qa("100ms 25ms linear",er({opacity:0})))]),fadeInItems:Fl("fadeInItems",[oa("showing",er({opacity:1})),Ha("void => *",[er({opacity:0}),Qa("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JEt=0;const c7=new hn("mat-menu-default-options",{providedIn:"root",factory:function tTt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let $w=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=or(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=or(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new kp,this._classList={},this._panelAnimationState="void",this._animationDone=new qt,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new _r,this.close=this.closed,this.panelId="mat-menu-panel-"+JEt++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new vT(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(fu(this._directDescendantItems),Iu(t=>Yi(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(fu(this._directDescendantItems),Iu(i=>Yi(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:vd(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Is(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(fu(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(gr),ie(c7),ie(As))},n.\u0275dir=Cn({type:n,contentQueries:function(t,i,r){if(1&t&&(Uo(r,QEt,5),Uo(r,AT,5),Uo(r,AT,4)),2&t){let o;Ni(o=Fi())&&(i.lazyContent=o.first),Ni(o=Fi())&&(i._allItems=o),Ni(o=Fi())&&(i.items=o)}},viewQuery:function(t,i){if(1&t&&rs(uc,5),2&t){let r;Ni(r=Fi())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),eTt=(()=>{class n extends $w{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(gr),ie(c7),ie(As))},n.\u0275cmp=Ci({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Cr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Di([{provide:L2,useExisting:n}]),Qn],ngContentSelectors:qEt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,i){1&t&&(qa(),_o(0,$Et,3,6,"ng-template"))},dependencies:[CW],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[IT.transformMenu,IT.fadeInItems]},changeDetection:0}),n})();const u7=new hn("mat-menu-scroll-strategy"),iTt={provide:u7,deps:[yd],useFactory:function nTt(n){return()=>n.scrollStrategies.reposition()}},d7=Wm({passive:!0});let rTt=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,a,s,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=s,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=O.EMPTY,this._hoverSubscription=O.EMPTY,this._menuCloseSubscription=O.EMPTY,this._changeDetectorRef=Vn(As),this._handleTouchStart=d=>{_2(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new _r,this.onMenuOpen=this.menuOpened,this.menuClosed=new _r,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof $w?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,d7)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,d7),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof $w&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ga(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof $w?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ko(r=>"void"===r.toState),Is(1),Ga(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new TT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,a)):t.setPositionClasses(o,a)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[a,s]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,d]=[r,o],h=0;if(this.triggersSubmenu()){if(d=r="before"===t.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===a?"bottom":"top",c="top"===s?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:a,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:a,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:s,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:s,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Yi(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:rr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ko(a=>a!==this._menuItemInstance),ko(()=>this._menuOpen)):rr(),i)}_handleMousedown(t){v2(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ko(t=>t===this._menuItemInstance&&!t.disabled),E2(0,M2)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof $w&&this.menu._isAnimating?this.menu._animationDone.pipe(Is(1),E2(0,M2),Ga(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Ww(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(ie(yd),ie(Oi),ie(ql),ie(u7),ie(L2,8),ie(AT,10),ie(_d,8),ie(jd),ie(gr))},n.\u0275dir=Cn({type:n,hostVars:3,hostBindings:function(t,i){1&t&&Pr("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&Cr("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),oTt=(()=>{class n extends rTt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Qn]}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[iTt],imports:[Nl,_h,yr,kf,Gp,yr]}),n})();const f7=["*"];class sTt{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new lTt(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class lTt{constructor(e,t){this.row=e,this.col=t}}const p7=new hn("MAT_GRID_LIST");let m7=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(_l(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(_l(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(p7,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&Cr("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:f7,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(qa(),Ln(0,"div",0),qi(1),Zn())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const cTt=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class O2{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=g7(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Av(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(e,i,r,o),this.setRowStyles(e,t,r,o)}setColStyles(e,t,i,r){let o=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,t)),e._setStyle("width",Av(this.getTileSize(o,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class uTt extends O2{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=g7(this.fixedRowHeight),cTt.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Av(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Av(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class dTt extends O2{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Av(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Av(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class hTt extends O2{setRowStyles(e,t){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(o,t)),e._setStyle("height",Av(this.getTileSize(o,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Av(n){return`calc(${n})`}function g7(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let pTt=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(_l(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new hTt:t&&t.indexOf(":")>-1?new dTt(t):new uTt(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new sTt);const t=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((o,a)=>{const s=t.positions[a];this._tileStyler.setStyle(o,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(_d,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,m7,5),2&t){let o;Ni(o=Fi())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&Cr("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Di([{provide:p7,useExisting:n}])],ngContentSelectors:f7,decls:2,vars:0,template:function(t,i){1&t&&(qa(),Ln(0,"div"),qi(1),Zn())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[F9,yr,F9,yr]}),n})();const mTt=["*"],_Tt=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],yTt=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],bTt=new hn("MAT_CARD_CONFIG");let _7=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(ie(bTt,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&ro("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:mTt,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),x7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ci({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:yTt,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(qa(_Tt),qi(0),Ln(1,"div",0),qi(2,1),Zn(),qi(3,2))},encapsulation:2,changeDetection:0}),n})(),w7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,Nl,yr]}),n})();function N2(...n){const e=bo(n),{args:t,keys:i}=lZ(n),r=new _t(o=>{const{length:a}=t;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let d=!1;Ri(t[u]).subscribe(re(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?cZ(i,s):s),o.complete())}))}});return e?r.pipe(PO(e)):r}class PT{}class F2{}class Hp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Hp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Hp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let a=this.headers.get(t);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PTt{encodeKey(e){return C7(e)}encodeValue(e){return C7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RTt=/%(\d[a-f0-9])/gi,LTt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function C7(n){return encodeURIComponent(n).replace(RTt,(e,t)=>LTt[t]??e)}function kT(n){return`${n}`}class $m{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PTt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kTt(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,s]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(a)||[];l.push(s),t.set(a,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(kT):[kT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new $m({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(kT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OTt{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function S7(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function M7(n){return typeof Blob<"u"&&n instanceof Blob}function E7(n){return typeof FormData<"u"&&n instanceof FormData}class qw{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NTt(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Hp),this.context||(this.context=new OTt),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+a}}else this.params=new $m,this.urlWithParams=t}serializeBody(){return null===this.body?null:S7(this.body)||M7(this.body)||E7(this.body)||function FTt(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||E7(this.body)?null:M7(this.body)?this.body.type||null:S7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new qw(t,i,o,{params:c,headers:l,context:u,reportProgress:s,responseType:r,withCredentials:a})}}var kc=(()=>((kc=kc||{})[kc.Sent=0]="Sent",kc[kc.UploadProgress=1]="UploadProgress",kc[kc.ResponseHeader=2]="ResponseHeader",kc[kc.DownloadProgress=3]="DownloadProgress",kc[kc.Response=4]="Response",kc[kc.User=5]="User",kc))();class B2{constructor(e,t=200,i="OK"){this.headers=e.headers||new Hp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class V2 extends B2{constructor(e={}){super(e),this.type=kc.ResponseHeader}clone(e={}){return new V2({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class RT extends B2{constructor(e={}){super(e),this.type=kc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new RT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T7 extends B2{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function z2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Kw=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof qw)o=t;else{let l,c;l=r.headers instanceof Hp?r.headers:new Hp(r.headers),r.params&&(c=r.params instanceof $m?r.params:new $m({fromObject:r.params})),o=new qw(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=rr(o).pipe(Um(l=>this.handler.handle(l)));if(t instanceof qw||"events"===r.observe)return a;const s=a.pipe(ko(l=>l instanceof RT));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(le(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(le(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(le(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(le(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new $m).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,z2(r,i))}post(t,i,r={}){return this.request("POST",t,z2(r,i))}put(t,i,r={}){return this.request("PUT",t,z2(r,i))}}return n.\u0275fac=function(t){return new(t||n)(nn(PT))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();function D7(n,e){return e(n)}function BTt(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const zTt=new hn("HTTP_INTERCEPTORS"),Qw=new hn("HTTP_INTERCEPTOR_FNS");function UTt(){let n=null;return(e,t)=>(null===n&&(n=(Vn(zTt,{optional:!0})??[]).reduceRight(BTt,D7)),n(e,t))}let A7=(()=>{class n extends PT{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Qw)));this.chain=i.reduceRight((r,o)=>function VTt(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),D7)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(nn(F2),nn(wf))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const WTt=/^\)\]\}',?\n/;let P7=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((p,g)=>r.setRequestHeader(p,g.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&r.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();r.responseType="json"!==p?p:"text"}const o=t.serializeBody();let a=null;const s=()=>{if(null!==a)return a;const p=r.statusText||"OK",g=new Hp(r.getAllResponseHeaders()),y=function ZTt(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new V2({headers:g,status:r.status,statusText:p,url:y}),a},l=()=>{let{headers:p,status:g,statusText:y,url:b}=s(),w=null;204!==g&&(w=typeof r.response>"u"?r.responseText:r.response),0===g&&(g=w?200:0);let M=g>=200&&g<300;if("json"===t.responseType&&"string"==typeof w){const E=w;w=w.replace(WTt,"");try{w=""!==w?JSON.parse(w):null}catch(k){w=E,M&&(M=!1,w={error:k,text:w})}}M?(i.next(new RT({body:w,headers:p,status:g,statusText:y,url:b||void 0})),i.complete()):i.error(new T7({error:w,headers:p,status:g,statusText:y,url:b||void 0}))},c=p=>{const{url:g}=s(),y=new T7({error:p,status:r.status||0,statusText:r.statusText||"Unknown Error",url:g||void 0});i.error(y)};let u=!1;const d=p=>{u||(i.next(s()),u=!0);let g={type:kc.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),"text"===t.responseType&&r.responseText&&(g.partialText=r.responseText),i.next(g)},h=p=>{let g={type:kc.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),i.next(g)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",h)),r.send(o),i.next({type:kc.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(nn(OW))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const U2=new hn("XSRF_ENABLED"),k7=new hn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),R7=new hn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class L7{}let $Tt=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xW(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(nn(oo),nn(dE),nn(k7))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();function qTt(n,e){const t=n.url.toLowerCase();if(!Vn(U2)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Vn(L7).getToken(),r=Vn(R7);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var mc=(()=>((mc=mc||{})[mc.Interceptors=0]="Interceptors",mc[mc.LegacyInterceptors=1]="LegacyInterceptors",mc[mc.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",mc[mc.NoXsrfProtection=3]="NoXsrfProtection",mc[mc.JsonpSupport=4]="JsonpSupport",mc[mc.RequestsMadeViaParent=5]="RequestsMadeViaParent",mc))();function I0(n,e){return{\u0275kind:n,\u0275providers:e}}function KTt(...n){const e=[Kw,P7,A7,{provide:PT,useExisting:A7},{provide:F2,useExisting:P7},{provide:Qw,useValue:qTt,multi:!0},{provide:U2,useValue:!0},{provide:L7,useClass:$Tt}];for(const t of n)e.push(...t.\u0275providers);return function Xmt(n){return{\u0275providers:n}}(e)}const O7=new hn("LEGACY_INTERCEPTOR_FN");let JTt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[KTt(I0(mc.LegacyInterceptors,[{provide:O7,useFactory:UTt},{provide:Qw,useExisting:O7,multi:!0}]))]}),n})();const tDt=["*"];let LT;function Jw(n){return function eDt(){if(void 0===LT&&(LT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(LT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return LT}()?.createHTML(n)||n}function N7(n){return Error(`Unable to find icon with the name "${n}"`)}function F7(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function B7(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Iv{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let OT=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Iv(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const a=this._sanitizer.sanitize(Ts.HTML,r);if(!a)throw B7(r);const s=Jw(a);return this._addSvgIconConfig(t,i,new Iv("",s,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Iv(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Ts.HTML,i);if(!o)throw B7(i);const a=Jw(o);return this._addSvgIconSetConfig(t,new Iv("",a,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ts.RESOURCE_URL,t);if(!i)throw F7(t);const r=this._cachedIconsByUrl.get(i);return r?rr(NT(r)):this._loadSvgIconFromConfig(new Iv(t,null)).pipe(vl(o=>this._cachedIconsByUrl.set(i,o)),le(o=>NT(o)))}getNamedSvgIcon(t,i=""){const r=V7(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):s0(N7(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?rr(NT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(le(i=>NT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?rr(r):N2(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Fp(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ts.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),rr(null)})))).pipe(le(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw N7(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,t,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(vl(i=>t.svgText=i),le(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?rr(null):this._fetchIcon(t).pipe(vl(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const s=this._svgElementFromString(Jw("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Jw("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:a,value:s}=r[o];"id"!==a&&i.setAttribute(a,s)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function nDt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Ts.RESOURCE_URL,i);if(!a)throw F7(i);const s=this._inProgressUrlFetches.get(a);if(s)return s;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(le(c=>Jw(c)),FE(()=>this._inProgressUrlFetches.delete(a)),sr());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(V7(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return rDt(o)?new Iv(o.url,null,o.options):new Iv(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(nn(Kw,8),nn(IO),nn(oo,8),nn(Dp))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NT(n){return n.cloneNode(!0)}function V7(n,e){return n+":"+e}function rDt(n){return!(!n.url||!n.options)}const oDt=Mv(class{constructor(n){this._elementRef=n}}),aDt=new hn("MAT_ICON_DEFAULT_OPTIONS"),sDt=new hn("mat-icon-location",{providedIn:"root",factory:function lDt(){const n=Vn(oo),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),z7=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cDt=z7.map(n=>`[${n}]`).join(", "),uDt=/^url\(['"]?#(.*?)['"]?\)$/;let FT=(()=>{class n extends oDt{get inline(){return this._inline}set inline(t){this._inline=or(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,a,s){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=O.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(cDt),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)z7.forEach(a=>{const s=i[o],l=s.getAttribute(a),c=l?l.match(uDt):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Is(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(OT),cu("aria-hidden"),ie(sDt),ie(Dp),ie(aDt,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Cr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),ro("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Qn],ngContentSelectors:tDt,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,yr]}),n})();var H2=function(n,e){return(H2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function mn(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}H2(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var fDt=function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Pv=new function n(){this.browser=new fDt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Pv.wxa=!0,Pv.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Pv.worker=!0:typeof navigator>"u"?(Pv.node=!0,Pv.svgSupported=!0):function mDt(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,Pv);const aa=Pv;var n,e,j2=12,j7="sans-serif",qm=j2+"px "+j7,bDt=function yDt(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Qh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(t,i){if(!n){var r=Qh.createCanvas();n=r&&r.getContext("2d")}if(n)return e!==i&&(e=n.font=i||qm),n.measureText(t);t=t||"";var o=/(\d+)px/.exec(i=i||qm),a=o&&+o[1]||j2,s=0;if(i.indexOf("mono")>=0)s=a*t.length;else for(var l=0;l<t.length;l++){var c=bDt[t[l]];s+=null==c?a:c*a}return{width:s}},loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}},W7=Rf(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),Z7=Rf(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),P0=Object.prototype.toString,VT=Array.prototype,xDt=VT.forEach,wDt=VT.filter,W2=VT.slice,CDt=VT.map,Y7=function(){}.constructor,zT=Y7?Y7.prototype:null,Z2="__proto__",SDt=2311;function X7(){return SDt++}function Y2(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function fr(n){if(null==n||"object"!=typeof n)return n;var e=n,t=P0.call(n);if("[object Array]"===t){if(!n1(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=fr(n[i])}}else if(Z7[t]){if(!n1(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),i=0,r=n.length;i<r;i++)e[i]=n[i]}}else if(!W7[t]&&!n1(n)&&!t1(n))for(var a in e={},n)n.hasOwnProperty(a)&&a!==Z2&&(e[a]=fr(n[a]));return e}function $r(n,e,t){if(!ar(e)||!ar(n))return t?fr(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==Z2){var r=n[i],o=e[i];!ar(o)||!ar(r)||Rn(o)||Rn(r)||t1(o)||t1(r)||$7(o)||$7(r)||n1(o)||n1(r)?(t||!(i in n))&&(n[i]=fr(e[i])):$r(r,o,t)}return n}function X2(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=$r(t,n[i],e);return t}function Dn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Z2&&(n[t]=e[t]);return n}function nr(n,e,t){for(var i=Ro(e),r=0;r<i.length;r++){var o=i[r];(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}return n}function uo(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function gc(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}else nr(n,e,t)}function Pu(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function Xt(n,e,t){if(n&&e)if(n.forEach&&n.forEach===xDt)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function On(n,e,t){if(!n)return[];if(!e)return q2(n);if(n.map&&n.map===CDt)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function Rf(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function ps(n,e,t){if(!n)return[];if(!e)return q2(n);if(n.filter&&n.filter===wDt)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function Ro(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var yi=zT&&Ki(zT.bind)?zT.call.bind(zT.bind):function TDt(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(W2.call(arguments)))}};function Nr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(W2.call(arguments)))}}function Rn(n){return Array.isArray?Array.isArray(n):"[object Array]"===P0.call(n)}function Ki(n){return"function"==typeof n}function ci(n){return"string"==typeof n}function $2(n){return"[object String]"===P0.call(n)}function sa(n){return"number"==typeof n}function ar(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function $7(n){return!!W7[P0.call(n)]}function Zd(n){return!!Z7[P0.call(n)]}function t1(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function UT(n){return null!=n.colorStops}function e1(n){return n!=n}function Jc(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(null!=n[t])return n[t]}function qr(n,e){return n??e}function jp(n,e,t){return n??e??t}function q2(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return W2.apply(n,e)}function K2(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function Ju(n,e){if(!n)throw new Error(e)}function Jh(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var q7="__ec_primitive__";function GT(n){n[q7]=!0}function n1(n){return n[q7]}var IDt=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Ro(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),K7="function"==typeof Map,kDt=function(){function n(e){var t=Rn(e);this.data=function PDt(){return K7?new Map:new IDt}();var i=this;function r(o,a){t?i.set(o,a):i.set(a,o)}e instanceof n?e.each(r):e&&Xt(e,r)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return K7?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Wi(n){return new kDt(n)}function HT(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function jT(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&Dn(t,e),t}function Q7(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function xi(n,e){return n.hasOwnProperty(e)}function Kl(){}var WT=180/Math.PI,Q2=function(n,e){return(Q2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function tl(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Q2(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function kv(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function td(n,e){return n[0]=e[0],n[1]=e[1],n}function Wp(n){return[n[0],n[1]]}function ODt(n,e,t){return n[0]=e,n[1]=t,n}function nY(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function J2(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Rv(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function tN(n){return Math.sqrt(function NDt(n){return n[0]*n[0]+n[1]*n[1]}(n))}function YT(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function k0(n,e){var t=tN(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function eN(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Km=eN,Lv=function FDt(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])};function XT(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function mu(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function Qm(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Jm(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var R0=function n(e,t){this.target=e,this.topTarget=t&&t.topTarget},BDt=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new R0(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,t.drift(o,a,e),this.handler.dispatchToElement(new R0(t,e),"drag",e.event);var s=this.handler.findHover(i,r,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new R0(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new R0(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new R0(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new R0(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const VDt=BDt;var zDt=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!e)return this;var a=this._$eventProcessor;null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===i)return this;var l={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=o[e].length-1,u=o[e][c];return u&&u.callAtLast?o[e].splice(c,0,l):o[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,a=i[e].length;o<a;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!o||!o.filter||null==c.query||o.filter(e,c.query))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,s=t[a-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!o||!o.filter||null==u.query||o.filter(e,u.query))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}();const yh=zDt;var UDt=Math.log(2);function nN(n,e,t,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/UDt);return n[t][l]}for(var c=i|1<<t,u=t+1;i&1<<u;)u++;for(var d=0,h=0,p=0;h<s;h++){var g=1<<h;g&r||(d+=(p%2?-1:1)*n[t][h]*nN(n,e-1,u,c,r|g,o),p++)}return o[a]=d,d}function iY(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=nN(t,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*nN(t,7,0===a?1:0,1<<a,1<<s,i)/r*e[a];return function(l,c,u){var d=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/d,l[1]=(c*o[3]+u*o[4]+o[5])/d}}}var rY="___zrEVENTSAVED",iN=[];function rN(n,e,t,i,r){if(e.getBoundingClientRect&&aa.domSupported&&!oY(e)){var o=e[rY]||(e[rY]={}),a=function HDt(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),l=o%2,c=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),n.appendChild(a),t.push(a)}return t}(e,o),s=function jDt(n,e,t){for(var i=t?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,h=u.left,p=u.top;a.push(h,p),l=l&&o&&h===o[d]&&p===o[d+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=t?iY(s,a):iY(a,s))}(a,o,r);if(s)return s(n,t,i),!0}return!1}function oY(n){return"CANVAS"===n.nodeName.toUpperCase()}var WDt=/([&<>"'])/g,ZDt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bd(n){return null==n?"":(n+"").replace(WDt,function(e,t){return ZDt[t]})}var YDt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oN=[],XDt=aa.browser.firefox&&+aa.browser.version.split(".")[0]<39;function aN(n,e,t,i){return t=t||{},i?aY(n,e,t):XDt&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):aY(n,e,t),t}function aY(n,e,t){if(aa.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(oY(n)){var o=n.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(rN(oN,n,i,r))return t.zrX=oN[0],void(t.zrY=oN[1])}t.zrX=t.zrY=0}function sN(n){return n||window.event}function bh(n,e,t){if(null!=(e=sN(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var a="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];a&&aN(n,a,e,t)}else{aN(n,e,e,t);var o=function $Dt(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;return null==t||null==i?e:3*Math.abs(0!==i?i:t)*(i>0?-1:i<0?1:t>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&YDt.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function lN(n,e,t,i){n.addEventListener(e,t,i)}function qDt(n,e,t,i){n.removeEventListener(e,t,i)}var Zp=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function sY(n){return 2===n.which||3===n.which}var KDt=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},a=0,s=r.length;a<s;a++){var l=r[a],c=aN(i,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in cN)if(cN.hasOwnProperty(t)){var i=cN[t](this._track,e);if(i)return i}},n}();function lY(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var cN={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,r=(n[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=lY(i)/lY(r);!isFinite(o)&&(o=1),e.pinchScale=o;var a=function QDt(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(i);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:n[0].target,event:e}}}}};function $T(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function uN(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Yp(n,e,t){var r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function Lf(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Ov(n,e,t){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(t),u=Math.cos(t);return n[0]=i*u+a*c,n[1]=-i*c+a*u,n[2]=r*u+s*c,n[3]=-r*c+u*s,n[4]=u*o+c*l,n[5]=u*l-c*o,n}function dN(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function L0(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=t*a-o*i;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-i*l,n[3]=t*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-t*s)*l,n):null}var tAt=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}();const Wr=tAt;var qT=Math.min,KT=Math.max,Nv=new Wr,Fv=new Wr,Bv=new Wr,Vv=new Wr,r1=new Wr,o1=new Wr,eAt=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=qT(e.x,this.x),i=qT(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?KT(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?KT(e.y+e.height,this.y+this.height)-i:e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=[1,0,0,1,0,0];return Lf(o,o,[-t.x,-t.y]),dN(o,o,[i,r]),Lf(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,h=!(o<l||c<r||s<u||d<a);if(t){var p=1/0,g=0,y=Math.abs(o-l),b=Math.abs(c-r),w=Math.abs(s-u),M=Math.abs(d-a),E=Math.min(y,b),k=Math.min(w,M);o<l||c<r?E>g&&(g=E,Wr.set(o1,y<b?-y:b,0)):E<p&&(p=E,Wr.set(r1,y<b?y:-b,0)),s<u||d<a?k>g&&(g=k,Wr.set(o1,0,w<M?-w:M)):E<p&&(p=E,Wr.set(r1,0,w<M?w:-M))}return t&&Wr.copy(t,h?r1:o1),h},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[5];return e.x=t.x*r+i[4],e.y=t.y*o+s,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Nv.x=Bv.x=t.x,Nv.y=Vv.y=t.y,Fv.x=Vv.x=t.x+t.width,Fv.y=Bv.y=t.y+t.height,Nv.transform(i),Vv.transform(i),Fv.transform(i),Bv.transform(i),e.x=qT(Nv.x,Fv.x,Bv.x,Vv.x),e.y=qT(Nv.y,Fv.y,Bv.y,Vv.y);var l=KT(Nv.x,Fv.x,Bv.x,Vv.x),c=KT(Nv.y,Fv.y,Bv.y,Vv.y);e.width=l-e.x,e.height=c-e.y}else e!==t&&n.copy(e,t)},n}();const Kr=eAt;var cY="silent";function iAt(){Zp(this.event)}var rAt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return tl(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(yh),a1=function n(e,t){this.x=e,this.y=t},oAt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],hN=new Kr(0,0,0,0),uY=function(n){function e(t,i,r,o,a){var s=n.call(this)||this;return s._hovered=new a1(0,0),s.storage=t,s.painter=i,s.painterRoot=o,s._pointerSize=a,r=r||new rAt,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new VDt(s),s}return tl(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Xt(oAt,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=hY(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new a1(i,r):this.findHover(i,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new a1(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+i,s=function nAt(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:iAt}}(i,t,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},e.prototype.findHover=function(t,i,r){var o=this.storage.getDisplayList(),a=new a1(t,i);if(dY(o,a,t,i,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new Kr(t-c,i-c,l,l),d=o.length-1;d>=0;d--){var h=o[d];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(hN.copy(h.getBoundingRect()),h.transform&&hN.applyTransform(h.transform),hN.intersect(u)&&s.push(h))}if(s.length)for(var g=Math.PI/12,y=2*Math.PI,b=0;b<c;b+=4)for(var w=0;w<y;w+=g)if(dY(s,a,t+b*Math.cos(w),i+b*Math.sin(w),r),a.target)return a}return a},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new KDt);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;t.gestureEvent=a;var s=new a1;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e}(yh);function aAt(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,t))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||cY}return!1}function dY(n,e,t,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],s=void 0;if(a!==r&&!a.ignore&&(s=aAt(a,t,i))&&(!e.topTarget&&(e.topTarget=a),s!==cY)){e.target=a;break}}}function hY(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}Xt(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){uY.prototype[n]=function(e){var o,a,t=e.zrX,i=e.zrY,r=hY(this,t,i);if(("mouseup"!==n||!r)&&(a=(o=this.findHover(t,i)).target),"mousedown"===n)this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if("mouseup"===n)this._upEl=a;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Km(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,e)}});const sAt=uY;var fY=32,s1=7;function mY(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;!function cAt(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function gY(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var l,o=n[i],a=e,s=i;a<s;)r(o,n[l=a+s>>>1])<0?s=l:a=l+1;var c=i-a;switch(c){case 3:n[a+3]=n[a+2];case 2:n[a+2]=n[a+1];case 1:n[a+1]=n[a];break;default:for(;c>0;)n[a+c]=n[a+c-1],c--}n[a]=o}}function fN(n,e,t,i,r,o){var a=0,s=0,l=1;if(o(n,e[t+r])>0){for(s=i-r;l<s&&o(n,e[t+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,e[t+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])>0?a=u+1:l=u}return l}function pN(n,e,t,i,r,o){var a=0,s=0,l=1;if(o(n,e[t+r])<0){for(s=r+1;l<s&&o(n,e[t+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(n,e[t+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(n,e[t+u])<0?l=u:a=u+1}return l}function QT(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<fY)return void gY(n,t,i,t+(o=mY(n,t,i,e)),e);var a=function uAt(n,e){var a,s,t=s1,l=0,c=[];function p(b){var w=a[b],M=s[b],E=a[b+1],k=s[b+1];s[b]=M+k,b===l-3&&(a[b+1]=a[b+2],s[b+1]=s[b+2]),l--;var j=pN(n[E],n,w,M,0,e);w+=j,0!=(M-=j)&&0!==(k=fN(n[w+M-1],n,E,k,k-1,e))&&(M<=k?function g(b,w,M,E){var k=0;for(k=0;k<w;k++)c[k]=n[b+k];var j=0,H=M,rt=b;if(n[rt++]=n[H++],0!=--E)if(1!==w){for(var st,Lt,kt,yt=t;;){st=0,Lt=0,kt=!1;do{if(e(n[H],c[j])<0){if(n[rt++]=n[H++],Lt++,st=0,0==--E){kt=!0;break}}else if(n[rt++]=c[j++],st++,Lt=0,1==--w){kt=!0;break}}while((st|Lt)<yt);if(kt)break;do{if(0!==(st=pN(n[H],c,j,w,0,e))){for(k=0;k<st;k++)n[rt+k]=c[j+k];if(rt+=st,j+=st,(w-=st)<=1){kt=!0;break}}if(n[rt++]=n[H++],0==--E){kt=!0;break}if(0!==(Lt=fN(c[j],n,H,E,0,e))){for(k=0;k<Lt;k++)n[rt+k]=n[H+k];if(rt+=Lt,H+=Lt,0==(E-=Lt)){kt=!0;break}}if(n[rt++]=c[j++],1==--w){kt=!0;break}yt--}while(st>=s1||Lt>=s1);if(kt)break;yt<0&&(yt=0),yt+=2}if((t=yt)<1&&(t=1),1===w){for(k=0;k<E;k++)n[rt+k]=n[H+k];n[rt+E]=c[j]}else{if(0===w)throw new Error;for(k=0;k<w;k++)n[rt+k]=c[j+k]}}else{for(k=0;k<E;k++)n[rt+k]=n[H+k];n[rt+E]=c[j]}else for(k=0;k<w;k++)n[rt+k]=c[j+k]}(w,M,E,k):function y(b,w,M,E){var k=0;for(k=0;k<E;k++)c[k]=n[M+k];var j=b+w-1,H=E-1,rt=M+E-1,yt=0,st=0;if(n[rt--]=n[j--],0!=--w)if(1!==E){for(var Lt=t;;){var kt=0,te=0,ne=!1;do{if(e(c[H],n[j])<0){if(n[rt--]=n[j--],kt++,te=0,0==--w){ne=!0;break}}else if(n[rt--]=c[H--],te++,kt=0,1==--E){ne=!0;break}}while((kt|te)<Lt);if(ne)break;do{if(0!=(kt=w-pN(c[H],n,b,w,w-1,e))){for(w-=kt,st=1+(rt-=kt),yt=1+(j-=kt),k=kt-1;k>=0;k--)n[st+k]=n[yt+k];if(0===w){ne=!0;break}}if(n[rt--]=c[H--],1==--E){ne=!0;break}if(0!=(te=E-fN(n[j],c,0,E,E-1,e))){for(E-=te,st=1+(rt-=te),yt=1+(H-=te),k=0;k<te;k++)n[st+k]=c[yt+k];if(E<=1){ne=!0;break}}if(n[rt--]=n[j--],0==--w){ne=!0;break}Lt--}while(kt>=s1||te>=s1);if(ne)break;Lt<0&&(Lt=0),Lt+=2}if((t=Lt)<1&&(t=1),1===E){for(st=1+(rt-=w),yt=1+(j-=w),k=w-1;k>=0;k--)n[st+k]=n[yt+k];n[rt]=c[H]}else{if(0===E)throw new Error;for(yt=rt-(E-1),k=0;k<E;k++)n[yt+k]=c[k]}}else{for(st=1+(rt-=w),yt=1+(j-=w),k=w-1;k>=0;k--)n[st+k]=n[yt+k];n[rt]=c[H]}else for(yt=rt-(E-1),k=0;k<E;k++)n[yt+k]=c[k]}(w,M,E,k))}return a=[],s=[],{mergeRuns:function d(){for(;l>1;){var b=l-2;if(b>=1&&s[b-1]<=s[b]+s[b+1]||b>=2&&s[b-2]<=s[b]+s[b-1])s[b-1]<s[b+1]&&b--;else if(s[b]>s[b+1])break;p(b)}},forceMergeRuns:function h(){for(;l>1;){var b=l-2;b>0&&s[b-1]<s[b+1]&&b--,p(b)}},pushRun:function u(b,w){a[l]=b,s[l]=w,l+=1}}}(n,e),s=function lAt(n){for(var e=0;n>=fY;)e|=1&n,n>>=1;return n+e}(r);do{if((o=mY(n,t,i,e))<s){var l=r;l>s&&(l=s),gY(n,t,t+l,t+o,e),o=l}a.pushRun(t,o),a.mergeRuns(),r-=o,t+=o}while(0!==r);a.forceMergeRuns()}}var Yd=1,O0=4,vY=!1;function mN(){vY||(vY=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function _Y(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var dAt=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=_Y}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,QT(i,_Y)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=Yd),this._updateAndAddDisplayable(c,t,i)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(mN(),u.z=0),isNaN(u.z2)&&(mN(),u.z2=0),isNaN(u.zlevel)&&(mN(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,i);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,i);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=uo(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const hAt=dAt;var yY;yY=aa.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const gN=yY;var JT={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-JT.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*JT.bounceIn(2*n):.5*JT.bounceOut(2*n-1)+.5}};const bY=JT;var tD=Math.pow,tg=Math.sqrt,eD=1e-8,xY=1e-4,wY=tg(3),nD=1/3,Of=kv(),wh=kv(),N0=kv();function eg(n){return n>-eD&&n<eD}function CY(n){return n>eD||n<-eD}function Vc(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function SY(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function iD(n,e,t,i,r,o){var a=i+3*(e-t)-n,s=3*(t-2*e+n),l=3*(e-n),c=n-r,u=s*s-3*a*l,d=s*l-9*a*c,h=l*l-3*s*c,p=0;if(eg(u)&&eg(d))eg(s)?o[0]=0:(g=-l/s)>=0&&g<=1&&(o[p++]=g);else{var y=d*d-4*u*h;if(eg(y)){var b=d/u,w=-b/2;(g=-s/a+b)>=0&&g<=1&&(o[p++]=g),w>=0&&w<=1&&(o[p++]=w)}else if(y>0){var M=tg(y),E=u*s+1.5*a*(-d+M),k=u*s+1.5*a*(-d-M);(g=(-s-((E=E<0?-tD(-E,nD):tD(E,nD))+(k=k<0?-tD(-k,nD):tD(k,nD))))/(3*a))>=0&&g<=1&&(o[p++]=g)}else{var j=(2*u*s-3*a*d)/(2*tg(u*u*u)),H=Math.acos(j)/3,rt=tg(u),yt=Math.cos(H),g=(-s-2*rt*yt)/(3*a),st=(w=(-s+rt*(yt+wY*Math.sin(H)))/(3*a),(-s+rt*(yt-wY*Math.sin(H)))/(3*a));g>=0&&g<=1&&(o[p++]=g),w>=0&&w<=1&&(o[p++]=w),st>=0&&st<=1&&(o[p++]=st)}}return p}function MY(n,e,t,i,r){var o=6*t-12*e+6*n,a=9*e+3*i-3*n-9*t,s=3*e-3*n,l=0;if(eg(a))CY(o)&&(c=-s/o)>=0&&c<=1&&(r[l++]=c);else{var u=o*o-4*a*s;if(eg(u))r[0]=-o/(2*a);else if(u>0){var c,d=tg(u),h=(-o-d)/(2*a);(c=(-o+d)/(2*a))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}function ng(n,e,t,i,r,o){var a=(e-n)*r+n,s=(t-e)*r+e,l=(i-t)*r+t,c=(s-a)*r+a,u=(l-s)*r+s,d=(u-c)*r+c;o[0]=n,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=i}function EY(n,e,t,i,r,o,a,s,l,c,u){var d,g,y,b,w,h=.005,p=1/0;Of[0]=l,Of[1]=c;for(var M=0;M<1;M+=.05)wh[0]=Vc(n,t,r,a,M),wh[1]=Vc(e,i,o,s,M),(b=Lv(Of,wh))<p&&(d=M,p=b);p=1/0;for(var E=0;E<32&&!(h<xY);E++)y=d+h,wh[0]=Vc(n,t,r,a,g=d-h),wh[1]=Vc(e,i,o,s,g),b=Lv(wh,Of),g>=0&&b<p?(d=g,p=b):(N0[0]=Vc(n,t,r,a,y),N0[1]=Vc(e,i,o,s,y),w=Lv(N0,Of),y<=1&&w<p?(d=y,p=w):h*=.5);return u&&(u[0]=Vc(n,t,r,a,d),u[1]=Vc(e,i,o,s,d)),tg(p)}function fAt(n,e,t,i,r,o,a,s,l){for(var c=n,u=e,d=0,h=1/l,p=1;p<=l;p++){var g=p*h,y=Vc(n,t,r,a,g),b=Vc(e,i,o,s,g),w=y-c,M=b-u;d+=Math.sqrt(w*w+M*M),c=y,u=b}return d}function tu(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function vN(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function TY(n,e,t){var i=n+t-2*e;return 0===i?.5:(n-e)/i}function c1(n,e,t,i,r){var o=(e-n)*i+n,a=(t-e)*i+e,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=t}function DY(n,e,t,i,r,o,a,s,l){var c,u=.005,d=1/0;Of[0]=a,Of[1]=s;for(var h=0;h<1;h+=.05)wh[0]=tu(n,t,r,h),wh[1]=tu(e,i,o,h),(p=Lv(Of,wh))<d&&(c=h,d=p);d=1/0;for(var g=0;g<32&&!(u<xY);g++){var y=c-u,b=c+u;wh[0]=tu(n,t,r,y),wh[1]=tu(e,i,o,y);var p=Lv(wh,Of);if(y>=0&&p<d)c=y,d=p;else{N0[0]=tu(n,t,r,b),N0[1]=tu(e,i,o,b);var w=Lv(N0,Of);b<=1&&w<d?(c=b,d=w):u*=.5}}return l&&(l[0]=tu(n,t,r,c),l[1]=tu(e,i,o,c)),tg(d)}function mAt(n,e,t,i,r,o,a){for(var s=n,l=e,c=0,u=1/a,d=1;d<=a;d++){var h=d*u,p=tu(n,t,r,h),g=tu(e,i,o,h),y=p-s,b=g-l;c+=Math.sqrt(y*y+b*b),s=p,l=g}return c}var gAt=/cubic-bezier\(([0-9,\.e ]+)\)/;function _N(n){var e=n&&gAt.exec(n);if(e){var t=e[1].split(","),i=+Jh(t[0]),r=+Jh(t[1]),o=+Jh(t[2]),a=+Jh(t[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:iD(0,i,o,1,l,s)&&Vc(0,r,a,1,s[0])}}}var vAt=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Kl,this.ondestroy=e.ondestroy||Kl,this.onrestart=e.onrestart||Kl,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),1===o){if(!this.loop)return!0;this._startTime=e-r%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ki(e)?e:bY[e]||_N(e)},n}();const _At=vAt;var AY=function n(e){this.value=e},yAt=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new AY(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),bAt=function(){function n(e){this._list=new yAt,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(null==r[e]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new AY(t),s.key=e,i.insertEntry(s),r[e]=s}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const u1=bAt;var IY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tf(n){return(n=Math.round(n))<0?0:n>255?255:n}function d1(n){return n<0?0:n>1?1:n}function yN(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?tf(parseFloat(e)/100*255):tf(parseInt(e,10))}function zv(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?d1(parseFloat(e)/100):d1(parseFloat(e))}function bN(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function ig(n,e,t){return n+(e-n)*t}function Ch(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function xN(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var PY=new u1(20),rD=null;function F0(n,e){rD&&xN(rD,e),rD=PY.put(n,rD||e.slice())}function xd(n,e){if(n){e=e||[];var t=PY.get(n);if(t)return xN(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in IY)return xN(e,IY[i]),F0(n,e),e;var o,r=i.length;if("#"===i.charAt(0))return 4===r||5===r?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?(Ch(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===r?parseInt(i.slice(4),16)/15:1),F0(n,e),e):void Ch(e,0,0,0,1):7===r||9===r?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?(Ch(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===r?parseInt(i.slice(7),16)/255:1),F0(n,e),e):void Ch(e,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===r){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?Ch(e,+c[0],+c[1],+c[2],1):Ch(e,0,0,0,1);u=zv(c.pop());case"rgb":return c.length>=3?(Ch(e,yN(c[0]),yN(c[1]),yN(c[2]),3===c.length?u:zv(c[3])),F0(n,e),e):void Ch(e,0,0,0,1);case"hsla":return 4!==c.length?void Ch(e,0,0,0,1):(c[3]=zv(c[3]),wN(c,e),F0(n,e),e);case"hsl":return 3!==c.length?void Ch(e,0,0,0,1):(wN(c,e),F0(n,e),e);default:return}}Ch(e,0,0,0,1)}}function wN(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=zv(n[1]),r=zv(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return Ch(e=e||[],tf(255*bN(a,o,t+1/3)),tf(255*bN(a,o,t)),tf(255*bN(a,o,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function CN(n,e){var t=xd(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return Nf(t,4===t.length?"rgba":"rgb")}}function SN(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],s=e[o],l=i-r;return t[0]=tf(ig(a[0],s[0],l)),t[1]=tf(ig(a[1],s[1],l)),t[2]=tf(ig(a[2],s[2],l)),t[3]=d1(ig(a[3],s[3],l)),t}}function h1(n,e,t,i){var r=xd(n);if(n)return r=function wAt(n){if(n){var l,c,e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),a=o-r,s=(o+r)/2;if(0===a)l=0,c=0;else{c=s<.5?a/(o+r):a/(2-o-r);var u=((o-e)/6+a/2)/a,d=((o-t)/6+a/2)/a,h=((o-i)/6+a/2)/a;e===o?l=h-d:t===o?l=1/3+u-h:i===o&&(l=2/3+d-u),l<0&&(l+=1),l>1&&(l-=1)}var p=[360*l,c,s];return null!=n[3]&&p.push(n[3]),p}}(r),null!=e&&(r[0]=function xAt(n){return(n=Math.round(n))<0?0:n>360?360:n}(e)),null!=t&&(r[1]=zv(t)),null!=i&&(r[2]=zv(i)),Nf(wN(r),"rgba")}function oD(n,e){var t=xd(n);if(t&&null!=e)return t[3]=d1(e),Nf(t,"rgba")}function Nf(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(t+=","+n[3]),e+"("+t+")"}}function aD(n,e){var t=xd(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var f1=Math.round;function p1(n){var e;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var t=xd(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}var kY=1e-4;function rg(n){return n<kY&&n>-kY}function sD(n){return f1(1e3*n)/1e3}function MN(n){return f1(1e4*n)/1e4}var MAt={left:"start",right:"end",center:"middle",middle:"middle"};function RY(n){return n&&!!n.image}function EN(n){return RY(n)||function AAt(n){return n&&!!n.svgElement}(n)}function LY(n){return"linear"===n.type}function OY(n){return"radial"===n.type}function NY(n){return n&&("linear"===n.type||"radial"===n.type)}function lD(n){return"url(#"+n+")"}function FY(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function BY(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*WT,r=qr(n.scaleX,1),o=qr(n.scaleY,1),a=n.skewX||0,s=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),i&&l.push("rotate("+i+")"),(1!==r||1!==o)&&l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+f1(a*WT)+"deg, "+f1(s*WT)+"deg)"),l.join(" ")}var IAt=aa.hasGlobalWindow&&Ki(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},TN=Array.prototype.slice;function Xp(n,e,t){return(e-n)*t+n}function DN(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=Xp(e[o],t[o],i);return n}function cD(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function VY(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=e[a][s]+t[a][s]*i}return n}function kAt(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,o=Math.min(t,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(t,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function RAt(n,e,t){var i=n,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var l=o;l<a;l++)i.push(1===t?r[l]:TN.call(r[l]));var c=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(1===t)isNaN(i[l])&&(i[l]=r[l]);else for(var u=0;u<c;u++)isNaN(i[l][u])&&(i[l][u]=r[l][u])}}function m1(n){if(Pu(n)){var e=n.length;if(Pu(n[0])){for(var t=[],i=0;i<e;i++)t.push(TN.call(n[i]));return t}return TN.call(n)}return n}function uD(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}var hD=1,zY=2,AN=4,IN=5;function GY(n){return n===AN||n===IN}function fD(n){return n===hD||n===zY}var v1=[0,0,0,0],OAt=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,s=6,l=t;if(Pu(t)){var c=function LAt(n){return Pu(n&&n[0])?2:1}(t);s=c,(1===c&&!sa(t[0])||2===c&&!sa(t[0][0]))&&(a=!0)}else if(sa(t)&&!e1(t))s=0;else if(ci(t))if(isNaN(+t)){var u=xd(t);u&&(l=u,s=3)}else s=0;else if(UT(t)){var d=Dn({},l);d.colorStops=On(t.colorStops,function(p){return{offset:p.offset,color:xd(p.color)}}),LY(t)?s=AN:OY(t)&&(s=IN),l=d}0===o?this.valType=s:(s!==this.valType||6===s)&&(a=!0),this.discrete=this.discrete||a;var h={time:e,value:l,rawValue:t,percent:0};return i&&(h.easing=i,h.easingFunc=Ki(i)?i:bY[i]||_N(i)),r.push(h),h},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(y,b){return y.time-b.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=fD(r),c=GY(r),u=0;u<o;u++){var d=i[u],h=d.value,p=a.value;d.percent=d.time/e,s||(l&&u!==o-1?RAt(h,p,r):c&&kAt(h.colorStops,p.colorStops))}if(!s&&r!==IN&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var g=i[0].value;for(u=0;u<o;u++)0===r?i[u].additiveValue=i[u].value-g:3===r?i[u].additiveValue=cD([],i[u].value,g,-1):fD(r)&&(i[u].additiveValue=r===hD?cD([],i[u].value,g,-1):VY([],i[u].value,g,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,p,g,i=null!=this._additiveTrack,r=i?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=3===o,d=this._lastFr,h=Math.min;if(1===s)p=g=a[0];else{if(t<0)u=0;else if(t<this._lastFrP){for(u=h(d+1,s-1);u>=0&&!(a[u].percent<=t);u--);u=h(u,s-2)}else{for(u=d;u<s&&!(a[u].percent>t);u++);u=h(u-1,s-2)}g=a[u+1],p=a[u]}if(p&&g){this._lastFr=u,this._lastFrP=t;var b=g.percent-p.percent,w=0===b?1:h((t-p.percent)/b,1);g.easingFunc&&(w=g.easingFunc(w));var M=i?this._additiveValue:c?v1:e[l];if((fD(o)||c)&&!M&&(M=this._additiveValue=[]),this.discrete)e[l]=w<1?p.rawValue:g.rawValue;else if(fD(o))o===hD?DN(M,p[r],g[r],w):function PAt(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=Xp(e[a][s],t[a][s],i)}}(M,p[r],g[r],w);else if(GY(o)){var E=p[r],k=g[r],j=o===AN;e[l]={type:j?"linear":"radial",x:Xp(E.x,k.x,w),y:Xp(E.y,k.y,w),colorStops:On(E.colorStops,function(rt,yt){var st=k.colorStops[yt];return{offset:Xp(rt.offset,st.offset,w),color:uD(DN([],rt.color,st.color,w))}}),global:k.global},j?(e[l].x2=Xp(E.x2,k.x2,w),e[l].y2=Xp(E.y2,k.y2,w)):e[l].r=Xp(E.r,k.r,w)}else if(c)DN(M,p[r],g[r],w),i||(e[l]=uD(M));else{var H=Xp(p[r],g[r],w);i?this._additiveValue=H:e[l]=H}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;0===t?e[i]=e[i]+r:3===t?(xd(e[i],v1),cD(v1,v1,r,1),e[i]=uD(v1)):t===hD?cD(e[i],e[i],r,1):t===zY&&VY(e[i],e[i],r,1)},n}(),NAt=function(){function n(e,t,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?Y2("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Ro(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new OAt(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var d=u.keyframes,h=d[d.length-1];c=h&&h.value,3===u.valType&&c&&(c=uD(c))}else c=this._target[s];if(null==c)continue;e>0&&l.addKeyframe(0,m1(c),r),this._trackKeys.push(s)}l.addKeyframe(e,m1(t[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=c[u-1];d&&(t._target[s.propName]=d.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var h=new _At({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var g=t._additiveAnimators;if(g){for(var y=!1,b=0;b<g.length;b++)if(g[b]._clip){y=!0;break}y||(t._additiveAnimators=null)}for(b=0;b<i.length;b++)i[b].step(t._target,p);var w=t._onframeCbs;if(w)for(b=0;b<w.length;b++)w[b](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return On(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var a=i[e[o]];a&&!a.isFinished()&&(t?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var o=t[r],a=this._tracks[o];if(a&&!a.isFinished()){var s=a.keyframes,l=s[i?0:s.length-1];l&&(e[o]=m1(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Ro(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();const PN=NAt;function B0(){return(new Date).getTime()}var FAt=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i}return tl(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=B0()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,gN(function i(){t._running&&(gN(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=B0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=B0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=B0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new PN(t,i.loop);return this.addAnimator(r),r},e}(yh);const BAt=FAt;var kN=aa.domSupported,RN=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:On(n,function(r){var o=r.replace("mouse","pointer");return t.hasOwnProperty(o)?o:r})}}(),HY={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},jY=!1;function LN(n){var e=n.pointerType;return"pen"===e||"touch"===e}function ON(n){n&&(n.zrByTouch=!0)}function WY(n,e){for(var t=e,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var GAt=function n(e,t){this.stopPropagation=Kl,this.stopImmediatePropagation=Kl,this.preventDefault=Kl,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},ef={mousedown:function(n){n=bh(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=bh(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=bh(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){WY(this,(n=bh(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){jY=!0,n=bh(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){jY||(n=bh(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){ON(n=bh(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ef.mousemove.call(this,n),ef.mousedown.call(this,n)},touchmove:function(n){ON(n=bh(this.dom,n)),this.handler.processGesture(n,"change"),ef.mousemove.call(this,n)},touchend:function(n){ON(n=bh(this.dom,n)),this.handler.processGesture(n,"end"),ef.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&ef.click.call(this,n)},pointerdown:function(n){ef.mousedown.call(this,n)},pointermove:function(n){LN(n)||ef.mousemove.call(this,n)},pointerup:function(n){ef.mouseup.call(this,n)},pointerout:function(n){LN(n)||ef.mouseout.call(this,n)}};Xt(["click","dblclick","contextmenu"],function(n){ef[n]=function(e){e=bh(this.dom,e),this.trigger(n,e)}});var NN={pointermove:function(n){LN(n)||NN.mousemove.call(this,n)},pointerup:function(n){NN.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function pD(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,lN(n.domTarget,e,t,i)}function FN(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&qDt(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var ZY=function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},WAt=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new ZY(t,ef),kN&&(r._globalHandlerScope=new ZY(document,NN)),function HAt(n,e){var t=e.domHandlers;aa.pointerEventsSupported?Xt(RN.pointer,function(i){pD(e,i,function(r){t[i].call(n,r)})}):(aa.touchEventsSupported&&Xt(RN.touch,function(i){pD(e,i,function(r){t[i].call(n,r),function zAt(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(e)})}),Xt(RN.mouse,function(i){pD(e,i,function(r){r=sN(r),e.touching||t[i].call(n,r)})}))}(r,r._localHandlerScope),r}return tl(e,n),e.prototype.dispose=function(){FN(this._localHandlerScope),kN&&FN(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,kN&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function jAt(n,e){function t(i){pD(e,i,function r(o){o=sN(o),WY(n,o.target)||(o=function UAt(n,e){return bh(n.dom,new GAt(n,e),!0)}(n,o),e.domHandlers[i].call(n,o))},{capture:!0})}aa.pointerEventsSupported?Xt(HY.pointer,t):aa.touchEventsSupported||Xt(HY.mouse,t)}(this,i):FN(i)}},e}(yh);const ZAt=WAt;var YY=1;aa.hasGlobalWindow&&(YY=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var mD=YY,VN="#333",zN="#ccc",XY=$T,$Y=5e-5;function Uv(n){return n>$Y||n<-$Y}var Gv=[],V0=[],UN=[1,0,0,1,0,0],GN=Math.abs,XAt=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Uv(this.rotation)||Uv(this.x)||Uv(this.y)||Uv(this.scaleX-1)||Uv(this.scaleY-1)||Uv(this.skewX)||Uv(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):XY(i),e&&(t?Yp(i,e,i):uN(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&XY(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Gv);var i=Gv[0]<0?-1:1,r=Gv[1]<0?-1:1,o=((Gv[0]-i)*t+i)/Gv[0]||0,a=((Gv[1]-r)*t+r)/Gv[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],L0(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Yp(V0,e.invTransform,t),t=V0);var i=this.originX,r=this.originY;(i||r)&&(UN[4]=i,UN[5]=r,Yp(V0,t,UN),V0[4]-=i,V0[5]-=r,t=V0),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&mu(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&mu(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&GN(e[0]-1)>1e-10&&GN(e[3]-1)>1e-10?Math.sqrt(GN(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){qY(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(i||r||s||l){var g=i+s,y=r+l;t[4]=-g*o-h*y*a,t[5]=-y*a-p*g*o}else t[4]=t[5]=0;return t[0]=o,t[3]=a,t[1]=p*o,t[2]=h*a,c&&Ov(t,t,c),t[4]+=i+u,t[5]+=r+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),Ff=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function qY(n,e){for(var t=0;t<Ff.length;t++){var i=Ff[t];n[i]=e[i]}}const $p=XAt;var KY={};function Xd(n,e){var t=KY[e=e||qm];t||(t=KY[e]=new u1(500));var i=t.get(n);return null==i&&(i=Qh.measureText(n,e).width,t.put(n,i)),i}function QY(n,e,t,i){var r=Xd(n,e),o=gD(e),a=y1(0,r,t),s=z0(0,o,i);return new Kr(a,s,r,o)}function _1(n,e,t,i){var r=((n||"")+"").split("\n");if(1===r.length)return QY(r[0],e,t,i);for(var a=new Kr(0,0,0,0),s=0;s<r.length;s++){var l=QY(r[s],e,t,i);0===s?a.copy(l):a.union(l)}return a}function y1(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function z0(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function gD(n){return Xd("\u56fd",n)}function nf(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function vD(n,e,t){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=t.height,a=t.width,s=o/2,l=t.x,c=t.y,u="left",d="top";if(i instanceof Array)l+=nf(i[0],t.width),c+=nf(i[1],t.height),u=null,d=null;else switch(i){case"left":l-=r,c+=s,u="right",d="middle";break;case"right":l+=r+a,c+=s,d="middle";break;case"top":l+=a/2,c-=r,u="center",d="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",d="middle";break;case"insideLeft":l+=r,c+=s,d="middle";break;case"insideRight":l+=a-r,c+=s,u="right",d="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",d="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,d="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",d="bottom"}return(n=n||{}).x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var HN="__zr_normal__",jN=Ff.concat(["ignore"]),$At=Rf(Ff,function(n,e){return n[e]=!0,n},{ignore:!1}),U0={},qAt=new Kr(0,0,0,0),WN=function(){function n(e){this.id=X7(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(t),null!=i.position){var u=qAt;u.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(U0,i,u):vD(U0,i,u),o.x=U0.x,o.y=U0.y,a=U0.align,s=U0.verticalAlign;var d=i.origin;if(d&&null!=i.rotation){var h=void 0,p=void 0;"center"===d?(h=.5*u.width,p=.5*u.height):(h=nf(d[0],u.width),p=nf(d[1],u.height)),c=!0,o.originX=-o.x+h+(r?0:u.x),o.originY=-o.y+p+(r?0:u.y)}}null!=i.rotation&&(o.rotation=i.rotation);var g=i.offset;g&&(o.x+=g[0],o.y+=g[1],c||(o.originX=-g[0],o.originY=-g[1]));var y=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,M=void 0,E=void 0;y&&this.canBeInsideText()?(M=i.insideStroke,(null==(w=i.insideFill)||"auto"===w)&&(w=this.getInsideTextFill()),(null==M||"auto"===M)&&(M=this.getInsideTextStroke(w),E=!0)):(M=i.outsideStroke,(null==(w=i.outsideFill)||"auto"===w)&&(w=this.getOutsideFill()),(null==M||"auto"===M)&&(M=this.getOutsideStroke(w),E=!0)),((w=w||"#000")!==b.fill||M!==b.stroke||E!==b.autoStroke||a!==b.align||s!==b.verticalAlign)&&(l=!0,b.fill=w,b.stroke=M,b.autoStroke=E,b.align=a,b.verticalAlign=s,t.setDefaultTextStyle(b)),t.__dirty|=Yd,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?zN:VN},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&xd(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,Nf(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},Dn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(ar(e))for(var r=Ro(e),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,e[a])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==HN)){var a=r.targetName;r.saveTo(a?t[a]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,jN)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];null!=e[o]&&!(o in t)&&(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(HN,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===HN;if(this.hasState()||!o){var s=this.currentStates,l=this.stateTransition;if(!(uo(s,e)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!o)return void Y2("State "+e+" not exists.");o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(e,t,i,u),h&&h.useState(e,t,i,u),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Yd),c}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],o=this.currentStates,a=e.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&r.push(u)}var d=r[a-1],h=!!(d&&d.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&g&&g.duration>0,g);var y=this._textContent,b=this._textGuide;y&&y.useStates(e,t,h),b&&b.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Yd)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=uo(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=uo(r,e),a=uo(r,t)>=0;o>=0?a?r.splice(o,1):r[o]=t:i&&!a&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var i,t={},r=0;r<e.length;r++){var o=e[r];Dn(t,o),o.textConfig&&Dn(i=i||{},o.textConfig)}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,r,o,a){var s=!(t&&r);t&&t.textConfig?(this.textConfig=Dn({},r?this.textConfig:i.textConfig),Dn(this.textConfig,t.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},c=!1,u=0;u<jN.length;u++){var d=jN[u],h=o&&$At[d];t&&null!=t[d]?h?(c=!0,l[d]=t[d]):this[d]=t[d]:s&&null!=i[d]&&(h?(c=!0,l[d]=i[d]):this[d]=i[d])}if(!o)for(u=0;u<this.animators.length;u++){var p=this.animators[u],g=p.targetName;p.getLoop()||p.__changeFinalValue(g?(t||i)[g]:t||i)}c&&this._transitionState(e,l,a)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new $p,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Dn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Yd;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var o=new PN(e?this[e]:this,t,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,a=uo(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];e&&e!==s.scope?o.push(s):s.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){ZN(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){ZN(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=ZN(this,t,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;function r(o,a,s,l){function c(u,d){Object.defineProperty(d,0,{get:function(){return u[s]},set:function(h){u[s]=h}}),Object.defineProperty(d,1,{get:function(){return u[l]},set:function(h){u[l]=h}})}Object.defineProperty(e,o,{get:function(){return this[a]||c(this,this[a]=[]),this[a]},set:function(u){this[s]=u[0],this[l]=u[1],this[a]=u,c(this,u)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Yd,Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function ZN(n,e,t,i,r){var o=[];JY(n,"",n,e,t=t||{},i,o,r);var a=o.length,s=!1,l=t.done,c=t.aborted,u=function(){s=!0,--a<=0&&(s?l&&l():c&&c())},d=function(){--a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&t.during&&o[0].during(function(g,y){t.during(y)});for(var h=0;h<o.length;h++){var p=o[h];u&&p.done(u),d&&p.aborted(d),t.force&&p.duration(t.duration),p.start(t.easing)}return o}function YN(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function QAt(n,e,t){if(Pu(e[t]))if(Pu(n[t])||(n[t]=[]),Zd(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),YN(n[t],e[t],i))}else{var r=e[t],o=n[t],a=r.length;if(function KAt(n){return Pu(n[0])}(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?YN(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else YN(o,r,a);o.length=r.length}else n[t]=e[t]}function JY(n,e,t,i,r,o,a,s){for(var l=Ro(i),c=r.duration,u=r.delay,d=r.additive,h=r.setToFinal,p=!ar(o),g=n.animators,y=[],b=0;b<l.length;b++){var M=i[w=l[b]];if(null!=M&&null!=t[w]&&(p||o[w]))if(!ar(M)||Pu(M)||UT(M))y.push(w);else{if(e){s||(t[w]=M,n.updateDuringAnimation(e));continue}JY(n,w,t[w],M,r,o&&o[w],a,s)}else s||(t[w]=M,n.updateDuringAnimation(e),y.push(w))}var E=y.length;if(!d&&E)for(var k=0;k<g.length;k++)if((j=g[k]).targetName===e&&j.stopTracks(y)){var rt=uo(g,j);g.splice(rt,1)}if(r.force||(y=ps(y,function(kt){return!function JAt(n,e){return n===e||Pu(n)&&Pu(e)&&function tIt(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}(n,e)}(i[kt],t[kt])}),E=y.length),E>0||r.force&&!a.length){var j,yt=void 0,st=void 0,Lt=void 0;if(s)for(st={},h&&(yt={}),k=0;k<E;k++)st[w=y[k]]=t[w],h?yt[w]=i[w]:t[w]=i[w];else if(h)for(Lt={},k=0;k<E;k++){var w;Lt[w=y[k]]=m1(t[w]),QAt(t,i,w)}(j=new PN(t,!1,!1,d?ps(g,function(te){return te.targetName===e}):null)).targetName=e,r.scope&&(j.scope=r.scope),h&&yt&&j.whenWithKeys(0,yt,y),Lt&&j.whenWithKeys(0,Lt,y),j.whenWithKeys(c??500,s?st:i,y).delay(u||0),n.addAnimator(j,e),a.push(j)}}gc(WN,yh),gc(WN,$p);const tX=WN;var eX=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return tl(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=uo(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=uo(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++)t.call(i,r[o],o);return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=t.call(i,o);o.isGroup&&!a&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new Kr(0,0,0,0),r=t||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?(Kr.applyTransform(i,c,u),(a=a||i.clone()).union(i)):(a=a||c.clone()).union(c)}}return a||i},e}(tX);eX.prototype.type="group";const br=eX;var _D={},Hv={},iIt=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new hAt,a=i.renderer||"canvas";_D[a]||(a=Ro(_D)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new _D[a](t,o,i,e),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var p,c=aa.node||aa.worker||l?null:new ZAt(s.getViewportRoot(),s.root),u=i.useCoarsePointer;(null==u||"auto"===u?aa.touchEventsSupported:!!u)&&(p=qr(i.pointerSize,44)),this.handler=new sAt(o,s,c,s.root,p),this.animation=new BAt({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function nIt(n){if(!n)return!1;if("string"==typeof n)return aD(n,1)<.4;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,r=0;r<i;r++)t+=aD(e[r].color,1);return(t/=i)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=B0();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=B0();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof br&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function eIt(n){delete Hv[n]}(this.id)},n}();function nX(n,e){var t=new iIt(X7(),n,e);return Hv[t.id]=t,t}var iX=1e-4,rX=20;function ls(n,e,t,i){var r=e[0],o=e[1],a=t[0],s=t[1],l=o-r,c=s-a;if(0===l)return 0===c?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*c+a}function ni(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return ci(n)?function oIt(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n}function Bl(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),rX),n=(+n).toFixed(e),t?n:+n}function Sh(n){return n.sort(function(e,t){return e-t}),n}function Bf(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return function aIt(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}(n)}function oX(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function sIt(n,e){var t=Math.max(Bf(n),Bf(e)),i=n+e;return t>rX?i:Bl(i,t)}var sX=9007199254740991;function lX(n){var e=2*Math.PI;return(n%e+e)%e}function yD(n){return n>-iX&&n<iX}var lIt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Vf(n){if(n instanceof Date)return n;if(ci(n)){var e=lIt.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function XN(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function cX(n,e){var t=XN(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function $N(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function uX(n){n.sort(function(l,c){return s(l,c,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-t),e=r[a],t=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]==(u?-1:1)||!u&&s(l,c,1))}}function qp(n){var e=parseFloat(n);return e==n&&(0!==e||!ci(n)||n.indexOf("x")<=0)?e:NaN}function dX(n){return!isNaN(qp(n))}function hX(){return Math.round(9*Math.random())}function fX(n,e){return 0===e?n:fX(e,n%e)}function pX(n,e){return null==n?e:null==e?n:n*e/fX(n,e)}function mX(n,e,t){return(e-n)*t+n}var gX="series\0",vX="\0_ec_\0";function bs(n){return n instanceof Array?n:null==n?[]:[n]}function jv(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var _X=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function G0(n){return!ar(n)||Rn(n)||n instanceof Date?n:n.value}function uIt(n){return ar(n)&&!(n instanceof Array)}function yX(n,e,t){var i="normalMerge"===t,r="replaceMerge"===t,o="replaceAll"===t;n=n||[],e=(e||[]).slice();var a=Wi();Xt(e,function(l,c){ar(l)||(e[c]=null)});var s=function dIt(n,e,t){var i=[];if("replaceAll"===t)return i;for(var r=0;r<n.length;r++){var o=n[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===t||x1(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(n,a,t);return(i||r)&&function hIt(n,e,t,i){Xt(i,function(r,o){if(r&&null!=r.id){var a=b1(r.id),s=t.get(a);if(null!=s){var l=n[s];Ju(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}})}(s,n,a,e),i&&function fIt(n,e){Xt(e,function(t,i){if(t&&null!=t.name)for(var r=0;r<n.length;r++){var o=n[r].existing;if(!n[r].newOption&&o&&(null==o.id||null==t.id)&&!x1(t)&&!x1(o)&&bX("name",o,t))return n[r].newOption=t,void(e[i]=null)}})}(s,e),i||r?function pIt(n,e,t){Xt(e,function(i){if(i){for(var r,o=0;(r=n[o])&&(r.newOption||x1(r.existing)||r.existing&&null!=i.id&&!bX("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),o++}})}(s,e,r):o&&function mIt(n,e){Xt(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,e),function gIt(n){var e=Wi();Xt(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),Xt(n,function(t){var i=t.newOption;Ju(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Xt(n,function(t,i){var r=t.existing,o=t.newOption,a=t.keyInfo;if(ar(o)){if(a.name=null!=o.name?b1(o.name):r?r.name:gX+i,r)a.id=b1(r.id);else if(null!=o.id)a.id=b1(o.id);else{var s=0;do{a.id="\0"+a.name+"\0"+s++}while(e.get(a.id))}e.set(a.id,t)}})}(s),s}function bX(n,e,t){var i=Rc(e[n],null),r=Rc(t[n],null);return null!=i&&null!=r&&i===r}function b1(n){return Rc(n,"")}function Rc(n,e){return null==n?e:ci(n)?n:sa(n)||$2(n)?n+"":e}function qN(n){var e=n.name;return!(!e||!e.indexOf(gX))}function x1(n){return n&&null!=n.id&&0===b1(n.id).indexOf(vX)}function Wv(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Rn(e.dataIndex)?On(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?Rn(e.name)?On(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function Ko(){var n="__ec_inner_"+xIt++;return function(e){return e[n]||(e[n]={})}}var xIt=hX();function w1(n,e,t){var i=KN(e,t),o=i.queryOptionMap,s=i.others,l=t?t.defaultMainType:null;return!i.mainTypeSpecified&&l&&o.set(l,{}),o.each(function(c,u){var d=C1(n,u,c,{useDefault:l===u,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[u+"Models"]=d.models,s[u+"Model"]=d.models[0]}),s}function KN(n,e){var t;if(ci(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=Wi(),o={},a=!1;return Xt(t,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();!u||!d||e&&e.includeMainTypes&&uo(e.includeMainTypes,u)<0||(a=a||!!u,(r.get(u)||r.set(u,{}))[d]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var vc={useDefault:!0,enableAll:!1,enableNone:!1},wIt={useDefault:!1,enableAll:!0,enableNone:!0};function C1(n,e,t,i){i=i||vc;var r=t.index,o=t.id,a=t.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(Ju(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(Ju(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function xX(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function QN(n,e){var t=Wi(),i=[];return Xt(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function wX(n,e,t,i,r){var o=null==e||"auto"===e;if(null==i)return i;if(sa(i))return Bl(a=mX(t||0,i,r),o?Math.max(Bf(t||0),Bf(i)):e);if(ci(i))return r<1?t:i;for(var s=[],l=t,c=i,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var h=n.getDimensionInfo(d);if(h&&"ordinal"===h.type)s[d]=(r<1&&l?l:c)[d];else{var p=l&&l[d]?l[d]:0,g=c[d],a=mX(p,g,r);s[d]=Bl(a,o?Math.max(Bf(p),Bf(g)):e)}}return s}var MIt=".",Zv="___EC__COMPONENT__CONTAINER___",CX="___EC__EXTENDED_CLASS___";function zf(n){var e={main:"",sub:""};if(n){var t=n.split(MIt);e.main=t[0]||"",e.sub=t[1]||""}return e}function JN(n,e){n.$constructor=n,n.extend=function(t){var r,i=this;return function DIt(n){return Ki(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(i)?r=function(o){function a(){return o.apply(this,arguments)||this}return mn(a,o),a}(i):(r=function(){(t.$constructor||i).apply(this,arguments)},function MDt(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}(r,this)),Dn(r.prototype,t),r[CX]=!0,r.extend=this.extend,r.superCall=PIt,r.superApply=kIt,r.superClass=i,r}}function SX(n,e){n.extend=e.extend}var AIt=Math.round(10*Math.random());function PIt(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function kIt(n,e,t){return this.superClass.prototype[e].apply(n,t)}function bD(n){var e={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){(function EIt(n){Ju(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(r),i.prototype.type=r;var o=zf(r);if(o.sub){if(o.sub!==Zv){var a=function t(i){var r=e[i.main];return(!r||!r[Zv])&&((r=e[i.main]={})[Zv]=!0),r}(o);a[o.sub]=i}}else e[o.main]=i}return i},n.getClass=function(i,r,o){var a=e[i];if(a&&a[Zv]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return a},n.getClassesByMainType=function(i){var r=zf(i),o=[],a=e[r.main];return a&&a[Zv]?Xt(a,function(s,l){l!==Zv&&o.push(s)}):o.push(a),o},n.hasClass=function(i){var r=zf(i);return!!e[r.main]},n.getAllClassMainTypes=function(){var i=[];return Xt(e,function(r,o){i.push(o)}),i},n.hasSubTypes=function(i){var r=zf(i),o=e[r.main];return o&&o[Zv]}}function Yv(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&uo(r,l)>=0||o&&uo(o,l)<0)){var c=i.getShallow(l,e);null!=c&&(a[n[s][0]]=c)}}return a}}var LIt=Yv([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),OIt=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return LIt(this,e,t)},n}(),tF=new u1(50);function NIt(n){if("string"==typeof n){var e=tF.get(n);return e&&e.image}return n}function eF(n,e,t,i,r){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var o=tF.get(n),a={hostEl:t,cb:i,cbPayload:r};return o?!xD(e=o.image)&&o.pending.push(a):((e=Qh.loadImage(n,MX,MX)).__zrImageSrc=n,tF.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}return n}return e}function MX(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function xD(n){return n&&n.width&&n.height}var nF=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function FIt(n,e,t,i,r){if(!e)return"";var o=(n+"").split("\n");r=EX(e,t,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=TX(o[a],r);return o.join("\n")}function EX(n,e,t,i){var r=Dn({},i=i||{});r.font=e,t=qr(t,"..."),r.maxIterations=qr(i.maxIterations,2);var o=r.minChar=qr(i.minChar,0);r.cnCharWidth=Xd("\u56fd",e);var a=r.ascCharWidth=Xd("a",e);r.placeholder=qr(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var c=Xd(t,e);return c>s&&(t="",c=0),s=n-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=n,r}function TX(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=Xd(n,i);if(o<=t)return n;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){n+=e.ellipsis;break}var s=0===a?BIt(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=Xd(n=n.substr(0,s),i)}return""===n&&(n=e.placeholder),n}function BIt(n,e,t,i){for(var r=0,o=0,a=n.length;o<a&&r<e;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?t:i}return o}var zIt=function n(){},DX=function n(e){this.tokens=[],e&&(this.tokens=e)},UIt=function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function iF(n,e,t,i,r){var u,d,o=""===e,a=r&&t.rich[r]||{},s=n.lines,l=a.font||t.font,c=!1;if(i){var h=a.padding,p=h?h[1]+h[3]:0;if(null!=a.width&&"auto"!==a.width){var g=nf(a.width,i.width)+p;s.length>0&&g+i.accumWidth>i.width&&(u=e.split("\n"),c=!0),i.accumWidth=g}else{var y=AX(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=y.accumWidth+p,d=y.linesWidths,u=y.lines}}else u=e.split("\n");for(var b=0;b<u.length;b++){var w=u[b],M=new zIt;if(M.styleName=r,M.text=w,M.isLineHolder=!w&&!o,M.width="number"==typeof a.width?a.width:d?d[b]:Xd(w,l),b||c)s.push(new DX([M]));else{var E=(s[s.length-1]||(s[0]=new DX)).tokens,k=E.length;1===k&&E[0].isLineHolder?E[0]=M:(w||!k||o)&&E.push(M)}}}var jIt=Rf(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function WIt(n){return!function HIt(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(n)||!!jIt[n]}function AX(n,e,t,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,d=0;d<n.length;d++){var h=n.charAt(d);if("\n"!==h){var p=Xd(h,e),g=!i&&!WIt(h);(o.length?u+p>t:r+u+p>t)?u?(s||l)&&(g?(s||(s=l,l="",u=c=0),o.push(s),a.push(u-c),l+=h,s="",u=c+=p):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=h,u=p)):g?(o.push(l),a.push(c),l=h,c=p):(o.push(h),a.push(p)):(u+=p,g?(l+=h,c+=p):(l&&(s+=l,l="",c=0),s+=h))}else l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0}return!o.length&&!s&&(s=n,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),1===o.length&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var rF="__zr_style_"+Math.round(10*Math.random()),Xv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},wD={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Xv[rF]=!0;var IX=["z","z2","invisible"],ZIt=["invisible"],YIt=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype._init=function(t){for(var i=Ro(t),r=0;r<i.length;r++){var o=i[r];"style"===o?this.useStyle(t[o]):n.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,r,o){var a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function XIt(n,e,t){return oF.copy(n.getBoundingRect()),n.transform&&oF.applyTransform(n.transform),aF.width=e,aF.height=t,!oF.intersect(aF)}(this,t,i)||a&&!a[0]&&!a[3])return!1;if(r&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Kr(0,0,0,0)),i?Kr.applyTransform(t,r,i):t.copy(r),(a||s||l)&&(t.width+=2*a+Math.abs(s),t.height+=2*a+Math.abs(l),t.x=Math.min(t.x,t.x+s-a),t.y=Math.min(t.y,t.y+l-a));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Kr(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){"style"!==t?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return"string"==typeof t?this.style[t]=i:Dn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return jT(Xv,t)},e.prototype.useStyle=function(t){t[rF]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[rF]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,IX)},e.prototype._applyStateObj=function(t,i,r,o,a,s){n.prototype._applyStateObj.call(this,t,i,r,o,a,s);var c,l=!(i&&o);if(i&&i.style?a?o?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(c,i.style)):l&&(c=r.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=Ro(u),h=0;h<d.length;h++)(p=d[h])in c&&(c[p]=c[p],this.style[p]=u[p]);var g=Ro(c);for(h=0;h<g.length;h++)this.style[p=g[h]]=this.style[p];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var y=this.__inHover?ZIt:IX;for(h=0;h<y.length;h++){var p=y[h];i&&null!=i[p]?this[p]=i[p]:l&&null!=r[p]&&(this[p]=r[p])}},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.style&&this._mergeStyle(r=r||{},a.style)}return r&&(i.style=r),i},e.prototype._mergeStyle=function(t,i){return Dn(t,i),t},e.prototype.getAnimationStyleProps=function(){return wD},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=2|Yd)),e;var t}(tX),oF=new Kr(0,0,0,0),aF=new Kr(0,0,0,0);const Mh=YIt;var wd=Math.min,Cd=Math.max,sF=Math.sin,lF=Math.cos,$v=2*Math.PI,CD=kv(),SD=kv(),MD=kv();function ED(n,e,t){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<n.length;l++)r=wd(r,(i=n[l])[0]),o=Cd(o,i[0]),a=wd(a,i[1]),s=Cd(s,i[1]);e[0]=r,e[1]=a,t[0]=o,t[1]=s}}function PX(n,e,t,i,r,o){r[0]=wd(n,t),r[1]=wd(e,i),o[0]=Cd(n,t),o[1]=Cd(e,i)}var kX=[],RX=[];function $It(n,e,t,i,r,o,a,s,l,c){var u=MY,d=Vc,h=u(n,t,r,a,kX);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<h;p++){var g=d(n,t,r,a,kX[p]);l[0]=wd(g,l[0]),c[0]=Cd(g,c[0])}for(h=u(e,i,o,s,RX),p=0;p<h;p++){var y=d(e,i,o,s,RX[p]);l[1]=wd(y,l[1]),c[1]=Cd(y,c[1])}l[0]=wd(n,l[0]),c[0]=Cd(n,c[0]),l[0]=wd(a,l[0]),c[0]=Cd(a,c[0]),l[1]=wd(e,l[1]),c[1]=Cd(e,c[1]),l[1]=wd(s,l[1]),c[1]=Cd(s,c[1])}function qIt(n,e,t,i,r,o,a,s){var l=TY,c=tu,u=Cd(wd(l(n,t,r),1),0),d=Cd(wd(l(e,i,o),1),0),h=c(n,t,r,u),p=c(e,i,o,d);a[0]=wd(n,r,h),a[1]=wd(e,o,p),s[0]=Cd(n,r,h),s[1]=Cd(e,o,p)}function KIt(n,e,t,i,r,o,a,s,l){var c=Qm,u=Jm,d=Math.abs(r-o);if(d%$v<1e-4&&d>1e-4)return s[0]=n-t,s[1]=e-i,l[0]=n+t,void(l[1]=e+i);if(CD[0]=lF(r)*t+n,CD[1]=sF(r)*i+e,SD[0]=lF(o)*t+n,SD[1]=sF(o)*i+e,c(s,CD,SD),u(l,CD,SD),(r%=$v)<0&&(r+=$v),(o%=$v)<0&&(o+=$v),r>o&&!a?o+=$v:r<o&&a&&(r+=$v),a){var h=o;o=r,r=h}for(var p=0;p<o;p+=Math.PI/2)p>r&&(MD[0]=lF(p)*t+n,MD[1]=sF(p)*i+e,c(s,MD,s),u(l,MD,l))}var Bs={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},qv=[],Kv=[],Uf=[],og=[],Gf=[],Hf=[],cF=Math.min,uF=Math.max,Qv=Math.cos,Jv=Math.sin,Kp=Math.abs,dF=Math.PI,ag=2*dF,hF=typeof Float32Array<"u",S1=[];function fF(n){return Math.round(n/dF*1e8)/1e8%2*dF}function LX(n,e){var t=fF(n[0]);t<0&&(t+=ag);var r=n[1];r+=t-n[0],!e&&r-t>=ag?r=t+ag:e&&t-r>=ag?r=t-ag:!e&&t>r?r=t+(ag-fF(t-r)):e&&t<r&&(r=t-(ag-fF(r-t))),n[0]=t,n[1]=r}var QIt=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=Kp(i/mD/e)||0,this._uy=Kp(i/mD/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Bs.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=Kp(e-this._xi),r=Kp(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(Bs.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){return this._drawPendingPt(),this.addData(Bs.C,e,t,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(Bs.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,a){return this._drawPendingPt(),S1[0]=r,S1[1]=o,LX(S1,a),this.addData(Bs.A,e,t,i,i,r=S1[0],(o=S1[1])-r,0,a?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,a),this._xi=Qv(o)*i+e,this._yi=Jv(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(Bs.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Bs.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;(!this.data||this.data.length!==t)&&hF&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();for(hF&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(e,t,i,r,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,hF&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Uf[0]=Uf[1]=Gf[0]=Gf[1]=Number.MAX_VALUE,og[0]=og[1]=Hf[0]=Hf[1]=-Number.MAX_VALUE;var a,e=this.data,t=0,i=0,r=0,o=0;for(a=0;a<this._len;){var s=e[a++],l=1===a;switch(l&&(r=t=e[a],o=i=e[a+1]),s){case Bs.M:t=r=e[a++],i=o=e[a++],Gf[0]=r,Gf[1]=o,Hf[0]=r,Hf[1]=o;break;case Bs.L:PX(t,i,e[a],e[a+1],Gf,Hf),t=e[a++],i=e[a++];break;case Bs.C:$It(t,i,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],Gf,Hf),t=e[a++],i=e[a++];break;case Bs.Q:qIt(t,i,e[a++],e[a++],e[a],e[a+1],Gf,Hf),t=e[a++],i=e[a++];break;case Bs.A:var c=e[a++],u=e[a++],d=e[a++],h=e[a++],p=e[a++],g=e[a++]+p;a+=1;var y=!e[a++];l&&(r=Qv(p)*d+c,o=Jv(p)*h+u),KIt(c,u,d,h,p,g,y,Gf,Hf),t=Qv(g)*d+c,i=Jv(g)*h+u;break;case Bs.R:PX(r=t=e[a++],o=i=e[a++],r+e[a++],o+e[a++],Gf,Hf);break;case Bs.Z:t=r,i=o}Qm(Uf,Uf,Gf),Jm(og,og,Hf)}return 0===a&&(Uf[0]=Uf[1]=og[0]=og[1]=0),new Kr(Uf[0],Uf[1],og[0]-Uf[0],og[1]-Uf[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,h=0;h<t;){var p=e[h++],g=1===h;g&&(s=o=e[h],l=a=e[h+1]);var y=-1;switch(p){case Bs.M:o=s=e[h++],a=l=e[h++];break;case Bs.L:var b=e[h++],E=(w=e[h++])-a;(Kp(M=b-o)>i||Kp(E)>r||h===t-1)&&(y=Math.sqrt(M*M+E*E),o=b,a=w);break;case Bs.C:var k=e[h++],j=e[h++],w=(b=e[h++],e[h++]),H=e[h++],rt=e[h++];y=fAt(o,a,k,j,b,w,H,rt,10),o=H,a=rt;break;case Bs.Q:y=mAt(o,a,k=e[h++],j=e[h++],b=e[h++],w=e[h++],10),o=b,a=w;break;case Bs.A:var yt=e[h++],st=e[h++],Lt=e[h++],kt=e[h++],te=e[h++],ne=e[h++],de=ne+te;h+=1,h++,g&&(s=Qv(te)*Lt+yt,l=Jv(te)*kt+st),y=uF(Lt,kt)*cF(ag,Math.abs(ne)),o=Qv(de)*Lt+yt,a=Jv(de)*kt+st;break;case Bs.R:s=o=e[h++],l=a=e[h++],y=2*e[h++]+2*e[h++];break;case Bs.Z:var M=s-o;E=l-a,y=Math.sqrt(M*M+E*E),o=s,a=l}y>=0&&(c[d++]=y,u+=y)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var s,l,c,u,d,h,g,M,k,j,i=this.data,r=this._ux,o=this._uy,a=this._len,p=t<1,b=0,w=0,E=0;if(!p||(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,M=t*this._pathLen))t:for(var H=0;H<a;){var rt=i[H++],yt=1===H;switch(yt&&(s=c=i[H],l=u=i[H+1]),rt!==Bs.L&&E>0&&(e.lineTo(k,j),E=0),rt){case Bs.M:s=c=i[H++],l=u=i[H++],e.moveTo(c,u);break;case Bs.L:d=i[H++],h=i[H++];var st=Kp(d-c),Lt=Kp(h-u);if(st>r||Lt>o){if(p){if(b+(kt=g[w++])>M){e.lineTo(c*(1-(te=(M-b)/kt))+d*te,u*(1-te)+h*te);break t}b+=kt}e.lineTo(d,h),c=d,u=h,E=0}else{var ne=st*st+Lt*Lt;ne>E&&(k=d,j=h,E=ne)}break;case Bs.C:var de=i[H++],Te=i[H++],be=i[H++],Ve=i[H++],Fe=i[H++],Ke=i[H++];if(p){if(b+(kt=g[w++])>M){ng(c,de,be,Fe,te=(M-b)/kt,qv),ng(u,Te,Ve,Ke,te,Kv),e.bezierCurveTo(qv[1],Kv[1],qv[2],Kv[2],qv[3],Kv[3]);break t}b+=kt}e.bezierCurveTo(de,Te,be,Ve,Fe,Ke),c=Fe,u=Ke;break;case Bs.Q:if(de=i[H++],Te=i[H++],be=i[H++],Ve=i[H++],p){if(b+(kt=g[w++])>M){c1(c,de,be,te=(M-b)/kt,qv),c1(u,Te,Ve,te,Kv),e.quadraticCurveTo(qv[1],Kv[1],qv[2],Kv[2]);break t}b+=kt}e.quadraticCurveTo(de,Te,be,Ve),c=be,u=Ve;break;case Bs.A:var In=i[H++],Nn=i[H++],qn=i[H++],Kn=i[H++],Gn=i[H++],Ui=i[H++],to=i[H++],Gi=!i[H++],ji=qn>Kn?qn:Kn,cr=Kp(qn-Kn)>.001,Sr=Gn+Ui,Mi=!1;if(p&&(b+(kt=g[w++])>M&&(Sr=Gn+Ui*(M-b)/kt,Mi=!0),b+=kt),cr&&e.ellipse?e.ellipse(In,Nn,qn,Kn,to,Gn,Sr,Gi):e.arc(In,Nn,ji,Gn,Sr,Gi),Mi)break t;yt&&(s=Qv(Gn)*qn+In,l=Jv(Gn)*Kn+Nn),c=Qv(Sr)*qn+In,u=Jv(Sr)*Kn+Nn;break;case Bs.R:s=c=i[H],l=u=i[H+1],d=i[H++],h=i[H++];var zr=i[H++],el=i[H++];if(p){if(b+(kt=g[w++])>M){var Ho=M-b;e.moveTo(d,h),e.lineTo(d+cF(Ho,zr),h),(Ho-=zr)>0&&e.lineTo(d+zr,h+cF(Ho,el)),(Ho-=el)>0&&e.lineTo(d+uF(zr-Ho,0),h+el),(Ho-=zr)>0&&e.lineTo(d,h+uF(el-Ho,0));break t}b+=kt}e.rect(d,h,zr,el);break;case Bs.Z:if(p){var kt;if(b+(kt=g[w++])>M){var te;e.lineTo(c*(1-(te=(M-b)/kt))+s*te,u*(1-te)+l*te);break t}b+=kt}e.closePath(),c=s,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Bs,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const jf=QIt;function sg(n,e,t,i,r,o,a){if(0===r)return!1;var l,s=r;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>n+s&&o>t+s||o<n-s&&o<t-s)return!1;if(n===t)return Math.abs(o-n)<=s/2;var u=(l=(e-i)/(n-t))*o-a+(n*i-t*e)/(n-t);return u*u/(l*l+1)<=s/2*s/2}function JIt(n,e,t,i,r,o,a,s,l,c,u){if(0===l)return!1;var d=l;return!(u>e+d&&u>i+d&&u>o+d&&u>s+d||u<e-d&&u<i-d&&u<o-d&&u<s-d||c>n+d&&c>t+d&&c>r+d&&c>a+d||c<n-d&&c<t-d&&c<r-d&&c<a-d)&&EY(n,e,t,i,r,o,a,s,c,u,null)<=d/2}function OX(n,e,t,i,r,o,a,s,l){if(0===a)return!1;var c=a;return!(l>e+c&&l>i+c&&l>o+c||l<e-c&&l<i-c&&l<o-c||s>n+c&&s>t+c&&s>r+c||s<n-c&&s<t-c&&s<r-c)&&DY(n,e,t,i,r,o,s,l,null)<=c/2}var NX=2*Math.PI;function Qp(n){return(n%=NX)<0&&(n+=NX),n}var M1=2*Math.PI;function tPt(n,e,t,i,r,o,a,s,l){if(0===a)return!1;var c=a;s-=n,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(i-r)%M1<1e-4)return!0;if(o){var d=i;i=Qp(r),r=Qp(d)}else i=Qp(i),r=Qp(r);i>r&&(r+=M1);var h=Math.atan2(l,s);return h<0&&(h+=M1),h>=i&&h<=r||h+M1>=i&&h+M1<=r}function Jp(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;(1===a||0===a)&&(s=i<e?.5:-.5);var l=a*(t-n)+n;return l===r?1/0:l>r?s:0}var lg=jf.CMD,t_=2*Math.PI,ePt=1e-4,ed=[-1,-1,-1],Eh=[-1,-1];function iPt(){var n=Eh[0];Eh[0]=Eh[1],Eh[1]=n}function rPt(n,e,t,i,r,o,a,s,l,c){if(c>e&&c>i&&c>o&&c>s||c<e&&c<i&&c<o&&c<s)return 0;var u=iD(e,i,o,s,c,ed);if(0===u)return 0;for(var d=0,h=-1,p=void 0,g=void 0,y=0;y<u;y++){var b=ed[y],w=0===b||1===b?.5:1;Vc(n,t,r,a,b)<l||(h<0&&(h=MY(e,i,o,s,Eh),Eh[1]<Eh[0]&&h>1&&iPt(),p=Vc(e,i,o,s,Eh[0]),h>1&&(g=Vc(e,i,o,s,Eh[1]))),d+=2===h?b<Eh[0]?p<e?w:-w:b<Eh[1]?g<p?w:-w:s<g?w:-w:b<Eh[0]?p<e?w:-w:s<p?w:-w)}return d}function oPt(n,e,t,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=function pAt(n,e,t,i,r){var o=n-2*e+t,a=2*(e-n),s=n-i,l=0;if(eg(o))CY(a)&&(c=-s/a)>=0&&c<=1&&(r[l++]=c);else{var u=a*a-4*o*s;if(eg(u))(c=-a/(2*o))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,d=tg(u),h=(-a-d)/(2*o);(c=(-a+d)/(2*o))>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}(e,i,o,s,ed);if(0===l)return 0;var c=TY(e,i,o);if(c>=0&&c<=1){for(var u=0,d=tu(e,i,o,c),h=0;h<l;h++){var p=0===ed[h]||1===ed[h]?.5:1;tu(n,t,r,ed[h])<a||(u+=ed[h]<c?d<e?p:-p:o<d?p:-p)}return u}return p=0===ed[0]||1===ed[0]?.5:1,tu(n,t,r,ed[0])<a?0:o<e?p:-p}function aPt(n,e,t,i,r,o,a,s){if((s-=e)>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);ed[0]=-l,ed[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=t_-1e-4){i=0,r=t_;var u=o?1:-1;return a>=ed[0]+n&&a<=ed[1]+n?u:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=t_,r+=t_);for(var h=0,p=0;p<2;p++){var g=ed[p];if(g+n>a){var y=Math.atan2(s,g);u=o?1:-1,y<0&&(y=t_+y),(y>=i&&y<=r||y+t_>=i&&y+t_<=r)&&(y>Math.PI/2&&y<1.5*Math.PI&&(u=-u),h+=u)}}return h}function FX(n,e,t,i,r){for(var h,p,o=n.data,a=n.len(),s=0,l=0,c=0,u=0,d=0,g=0;g<a;){var y=o[g++],b=1===g;switch(y===lg.M&&g>1&&(t||(s+=Jp(l,c,u,d,i,r))),b&&(u=l=o[g],d=c=o[g+1]),y){case lg.M:l=u=o[g++],c=d=o[g++];break;case lg.L:if(t){if(sg(l,c,o[g],o[g+1],e,i,r))return!0}else s+=Jp(l,c,o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case lg.C:if(t){if(JIt(l,c,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else s+=rPt(l,c,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case lg.Q:if(t){if(OX(l,c,o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else s+=oPt(l,c,o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],c=o[g++];break;case lg.A:var w=o[g++],M=o[g++],E=o[g++],k=o[g++],j=o[g++],H=o[g++];g+=1;var rt=!!(1-o[g++]);h=Math.cos(j)*E+w,p=Math.sin(j)*k+M,b?(u=h,d=p):s+=Jp(l,c,h,p,i,r);var yt=(i-w)*k/E+w;if(t){if(tPt(w,M,k,j,j+H,rt,e,yt,r))return!0}else s+=aPt(w,M,k,j,j+H,rt,yt,r);l=Math.cos(j+H)*E+w,c=Math.sin(j+H)*k+M;break;case lg.R:if(u=l=o[g++],d=c=o[g++],h=u+o[g++],p=d+o[g++],t){if(sg(u,d,h,d,e,i,r)||sg(h,d,h,p,e,i,r)||sg(h,p,u,p,e,i,r)||sg(u,p,u,d,e,i,r))return!0}else s+=Jp(h,d,h,p,i,r),s+=Jp(u,p,u,d,i,r);break;case lg.Z:if(t){if(sg(l,c,u,d,e,i,r))return!0}else s+=Jp(l,c,u,d,i,r);l=u,c=d}}return!t&&!function nPt(n,e){return Math.abs(n-e)<ePt}(c,d)&&(s+=Jp(l,c,u,d,i,r)||0),0!==s}var TD=nr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Xv),cPt={style:nr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},wD.style)},pF=Ff.concat(["invisible","culling","z","z2","zlevel","parent"]),uPt=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<pF.length;++s)r[pF[s]]=this[pF[s]];r.__dirty|=Yd}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=Ro(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var a=i[o],s=t[a];"style"===a?this.style?Dn(this.style,s):this.useStyle(s):"shape"===a?Dn(this.shape,s):n.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(ci(t)){var i=aD(t,0);return i>.5?VN:i>.2?"#eee":zN}if(t)return zN}return VN},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(ci(i)){var r=this.__zr;if(!(!r||!r.isDarkMode())==aD(t,0)<.4)return i}},e.prototype.buildPath=function(t,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~O0},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new jf(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(null==i||"none"===i||!(t.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&O0)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),t=a.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){s.copy(t);var l=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return t},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect(),a=this.style;if(o.contain(t=r[0],i=r[1])){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function lPt(n,e,t,i){return FX(n,e,!0,t,i)}(s,l/c,t,i)))return!0}if(this.hasFill())return function sPt(n,e,t){return FX(n,0,!1,e,t)}(s,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=O0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=i:Dn(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&O0)},e.prototype.createStyle=function(t){return jT(TD,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=Dn({},this.shape))},e.prototype._applyStateObj=function(t,i,r,o,a,s){n.prototype._applyStateObj.call(this,t,i,r,o,a,s);var c,l=!(i&&o);if(i&&i.shape?a?o?c=i.shape:(c=Dn({},r.shape),Dn(c,i.shape)):(c=Dn({},o?this.shape:r.shape),Dn(c,i.shape)):l&&(c=r.shape),c)if(a){this.shape=Dn({},this.shape);for(var u={},d=Ro(c),h=0;h<d.length;h++){var p=d[h];"object"==typeof c[p]?this.shape[p]=c[p]:u[p]=c[p]}this._transitionState(t,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var a=t[o];a.shape&&this._mergeStyle(r=r||{},a.shape)}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return cPt},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(o){function a(s){var l=o.call(this,s)||this;return t.init&&t.init.call(l,s),l}return tl(a,o),a.prototype.getDefaultStyle=function(){return fr(t.style)},a.prototype.getDefaultShape=function(){return fr(t.shape)},a}(e);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=2|Yd|O0)),e;var t}(Mh);const wo=uPt;var dPt=nr({strokeFirst:!0,font:qm,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},TD),BX=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tl(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.createStyle=function(t){return jT(dPt,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var r=_1(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Mh);BX.prototype.type="tspan";const E1=BX;var hPt=nr({x:0,y:0},Xv),fPt={style:nr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},wD.style)},VX=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tl(e,n),e.prototype.createStyle=function(t){return jT(hPt,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(null!=r)return r;var o=function pPt(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(i.image)?i.image:this.__image;if(!o)return 0;var a="width"===t?"height":"width",s=i[a];return null==s?o[t]:o[t]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return fPt},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Kr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Mh);VX.prototype.type="image";const gu=VX;var H0=Math.round;function zX(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=t&&t.lineWidth;return s&&(H0(2*i)===H0(2*r)&&(n.x1=n.x2=e_(i,s,!0)),H0(2*o)===H0(2*a)&&(n.y1=n.y2=e_(o,s,!0))),n}}function UX(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=t&&t.lineWidth;return s&&(n.x=e_(i,s,!0),n.y=e_(r,s,!0),n.width=Math.max(e_(i+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(e_(r+a,s,!1)-n.y,0===a?0:1)),n}}function e_(n,e,t){if(!e)return n;var i=H0(2*n);return(i+H0(e))%2==0?i/2:(i+(t?1:-1))/2}var gPt=function n(){this.x=0,this.y=0,this.width=0,this.height=0},vPt={},GX=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new gPt},e.prototype.buildPath=function(t,i){var r,o,a,s;if(this.subPixelOptimize){var l=UX(vPt,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?function mPt(n,e){var s,l,c,u,d,t=e.x,i=e.y,r=e.width,o=e.height,a=e.r;r<0&&(t+=r,r=-r),o<0&&(i+=o,o=-o),"number"==typeof a?s=l=c=u=a:a instanceof Array?1===a.length?s=l=c=u=a[0]:2===a.length?(s=c=a[0],l=u=a[1]):3===a.length?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0,s+l>r&&(s*=r/(d=s+l),l*=r/d),c+u>r&&(c*=r/(d=c+u),u*=r/d),l+c>o&&(l*=o/(d=l+c),c*=o/d),s+u>o&&(s*=o/(d=s+u),u*=o/d),n.moveTo(t+s,i),n.lineTo(t+r-l,i),0!==l&&n.arc(t+r-l,i+l,l,-Math.PI/2,0),n.lineTo(t+r,i+o-c),0!==c&&n.arc(t+r-c,i+o-c,c,0,Math.PI/2),n.lineTo(t+u,i+o),0!==u&&n.arc(t+u,i+o-u,u,Math.PI/2,Math.PI),n.lineTo(t,i+s),0!==s&&n.arc(t+s,i+s,s,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(wo);GX.prototype.type="rect";const Qo=GX;var HX={fill:"#000"},_Pt={style:nr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},wD.style)},WX=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=HX,i.attr(t),i}return tl(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,function xPt(n){qX(n),Xt(n.rich,qX)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Kr(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(t.copy(l),t.applyTransform(c),(o=o||t.clone()).union(t)):(o=o||l.clone()).union(l)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||HX},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return Dn(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=Ro(i),o=0;o<r.length;o++){var a=r[o];t[a]=t[a]||{},Dn(t[a],i[a])}},e.prototype.getAnimationStyleProps=function(){return _Pt},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||qm,r=t.padding,a=function VIt(n,e){null!=n&&(n+="");var d,t=e.overflow,i=e.padding,r=e.font,o="truncate"===t,a=gD(r),s=qr(e.lineHeight,a),l=!!e.backgroundColor,c="truncate"===e.lineOverflow,u=e.width,h=(d=null==u||"break"!==t&&"breakAll"!==t?n?n.split("\n"):[]:n?AX(n,e.font,u,"breakAll"===t,0).lines:[]).length*s,p=qr(e.height,h);if(h>p&&c){var g=Math.floor(p/s);d=d.slice(0,g)}if(n&&o&&null!=u)for(var y=EX(u,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),b=0;b<d.length;b++)d[b]=TX(d[b],y);var w=p,M=0;for(b=0;b<d.length;b++)M=Math.max(Xd(d[b],r),M);null==u&&(u=M);var E=M;return i&&(w+=i[0]+i[2],E+=i[1]+i[3],u+=i[1]+i[3]),l&&(E=u),{lines:d,height:p,outerWidth:E,outerHeight:w,lineHeight:s,calculatedLineHeight:a,contentWidth:M,contentHeight:h,width:u}}(t$(t),t),s=mF(t),l=!!t.backgroundColor,c=a.outerHeight,u=a.outerWidth,d=a.contentWidth,h=a.lines,p=a.lineHeight,g=this._defaultStyle,y=t.x||0,b=t.y||0,w=t.align||g.align||"left",M=t.verticalAlign||g.verticalAlign||"top",E=y,k=z0(b,a.contentHeight,M);if(s||r){var j=y1(y,u,w),H=z0(b,c,M);s&&this._renderBackground(t,t,j,H,u,c)}k+=p/2,r&&(E=JX(y,w,r),"top"===M?k+=r[0]:"bottom"===M&&(k-=r[2]));for(var rt=0,yt=!1,st=(QX("fill"in t?t.fill:(yt=!0,g.fill))),Lt=(KX("stroke"in t?t.stroke:l||g.autoStroke&&!yt?null:(rt=2,g.stroke))),kt=t.textShadowBlur>0,te=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),ne=a.calculatedLineHeight,de=0;de<h.length;de++){var Te=this._getOrCreateChild(E1),be=Te.createStyle();Te.useStyle(be),be.text=h[de],be.x=E,be.y=k,w&&(be.textAlign=w),be.textBaseline="middle",be.opacity=t.opacity,be.strokeFirst=!0,kt&&(be.shadowBlur=t.textShadowBlur||0,be.shadowColor=t.textShadowColor||"transparent",be.shadowOffsetX=t.textShadowOffsetX||0,be.shadowOffsetY=t.textShadowOffsetY||0),be.stroke=Lt,be.fill=st,Lt&&(be.lineWidth=t.lineWidth||rt,be.lineDash=t.lineDash,be.lineDashOffset=t.lineDashOffset||0),be.font=i,XX(be,t),k+=p,te&&Te.setBoundingRect(new Kr(y1(be.x,t.width,be.textAlign),z0(be.y,ne,be.textBaseline),d,ne))}},e.prototype._updateRichTexts=function(){var t=this.style,r=function GIt(n,e){var t=new UIt;if(null!=n&&(n+=""),!n)return t;for(var l,i=e.width,r=e.height,o=e.overflow,a="break"!==o&&"breakAll"!==o||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===o},s=nF.lastIndex=0;null!=(l=nF.exec(n));){var c=l.index;c>s&&iF(t,n.substring(s,c),e,a),iF(t,l[2],e,a,l[1]),s=nF.lastIndex}s<n.length&&iF(t,n.substring(s,n.length),e,a);var u=[],d=0,h=0,p=e.padding,g="truncate"===o,y="truncate"===e.lineOverflow;function b(Fe,Ke,In){Fe.width=Ke,Fe.lineHeight=In,d+=In,h=Math.max(h,Ke)}t:for(var w=0;w<t.lines.length;w++){for(var M=t.lines[w],E=0,k=0,j=0;j<M.tokens.length;j++){var rt=(H=M.tokens[j]).styleName&&e.rich[H.styleName]||{},yt=H.textPadding=rt.padding,st=yt?yt[1]+yt[3]:0,Lt=H.font=rt.font||e.font;H.contentHeight=gD(Lt);var kt=qr(rt.height,H.contentHeight);if(H.innerHeight=kt,yt&&(kt+=yt[0]+yt[2]),H.height=kt,H.lineHeight=jp(rt.lineHeight,e.lineHeight,kt),H.align=rt&&rt.align||e.align,H.verticalAlign=rt&&rt.verticalAlign||"middle",y&&null!=r&&d+H.lineHeight>r){j>0?(M.tokens=M.tokens.slice(0,j),b(M,k,E),t.lines=t.lines.slice(0,w+1)):t.lines=t.lines.slice(0,w);break t}var te=rt.width,ne=null==te||"auto"===te;if("string"==typeof te&&"%"===te.charAt(te.length-1))H.percentWidth=te,u.push(H),H.contentWidth=Xd(H.text,Lt);else{if(ne){var de=rt.backgroundColor,Te=de&&de.image;Te&&xD(Te=NIt(Te))&&(H.width=Math.max(H.width,Te.width*kt/Te.height))}var be=g&&null!=i?i-k:null;null!=be&&be<H.width?!ne||be<st?(H.text="",H.width=H.contentWidth=0):(H.text=FIt(H.text,be-st,Lt,e.ellipsis,{minChar:e.truncateMinChar}),H.width=H.contentWidth=Xd(H.text,Lt)):H.contentWidth=Xd(H.text,Lt)}H.width+=st,k+=H.width,rt&&(E=Math.max(E,H.lineHeight))}b(M,k,E)}for(t.outerWidth=t.width=qr(i,h),t.outerHeight=t.height=qr(r,d),t.contentHeight=d,t.contentWidth=h,p&&(t.outerWidth+=p[1]+p[3],t.outerHeight+=p[0]+p[2]),w=0;w<u.length;w++){var H;(H=u[w]).width=parseInt(H.percentWidth,10)/100*t.width}return t}(t$(t),t),o=r.width,a=r.outerWidth,s=r.outerHeight,l=t.padding,u=t.y||0,d=this._defaultStyle,p=t.verticalAlign||d.verticalAlign,g=y1(t.x||0,a,t.align||d.align),y=z0(u,s,p),b=g,w=y;l&&(b+=l[3],w+=l[0]);var M=b+o;mF(t)&&this._renderBackground(t,t,g,y,a,s);for(var E=!!t.backgroundColor,k=0;k<r.lines.length;k++){for(var j=r.lines[k],H=j.tokens,rt=H.length,yt=j.lineHeight,st=j.width,Lt=0,kt=b,te=M,ne=rt-1,de=void 0;Lt<rt&&(!(de=H[Lt]).align||"left"===de.align);)this._placeToken(de,t,yt,w,kt,"left",E),st-=de.width,kt+=de.width,Lt++;for(;ne>=0&&"right"===(de=H[ne]).align;)this._placeToken(de,t,yt,w,te,"right",E),st-=de.width,te-=de.width,ne--;for(kt+=(o-(kt-b)-(M-te)-st)/2;Lt<=ne;)this._placeToken(de=H[Lt],t,yt,w,kt+de.width/2,"center",E),kt+=de.width,Lt++;w+=yt}},e.prototype._placeToken=function(t,i,r,o,a,s,l){var c=i.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=o+r/2;"top"===u?d=o+t.height/2:"bottom"===u&&(d=o+r-t.height/2),!t.isLineHolder&&mF(c)&&this._renderBackground(c,i,"right"===s?a-t.width:"center"===s?a-t.width/2:a,d-t.height/2,t.width,t.height);var p=!!c.backgroundColor,g=t.textPadding;g&&(a=JX(a,s,g),d-=t.height/2-g[0]-t.innerHeight/2);var y=this._getOrCreateChild(E1),b=y.createStyle();y.useStyle(b);var w=this._defaultStyle,M=!1,E=0,k=QX("fill"in c?c.fill:"fill"in i?i.fill:(M=!0,w.fill)),j=KX("stroke"in c?c.stroke:"stroke"in i?i.stroke:p||l||w.autoStroke&&!M?null:(E=2,w.stroke)),H=c.textShadowBlur>0||i.textShadowBlur>0;b.text=t.text,b.x=a,b.y=d,H&&(b.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,b.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",b.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,b.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),b.textAlign=s,b.textBaseline="middle",b.font=t.font||qm,b.opacity=jp(c.opacity,i.opacity,1),XX(b,c),j&&(b.lineWidth=jp(c.lineWidth,i.lineWidth,E),b.lineDash=qr(c.lineDash,i.lineDash),b.lineDashOffset=i.lineDashOffset||0,b.stroke=j),k&&(b.fill=k);var rt=t.contentWidth,yt=t.contentHeight;y.setBoundingRect(new Kr(y1(b.x,rt,b.textAlign),z0(b.y,yt,b.textBaseline),rt,yt))},e.prototype._renderBackground=function(t,i,r,o,a,s){var y,b,M,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,h=l&&!d,p=t.borderRadius,g=this;if(h||t.lineHeight||c&&u){(y=this._getOrCreateChild(Qo)).useStyle(y.createStyle()),y.style.fill=null;var w=y.shape;w.x=r,w.y=o,w.width=a,w.height=s,w.r=p,y.dirtyShape()}if(h)(M=y.style).fill=l||null,M.fillOpacity=qr(t.fillOpacity,1);else if(d){(b=this._getOrCreateChild(gu)).onload=function(){g.dirtyStyle()};var E=b.style;E.image=l.image,E.x=r,E.y=o,E.width=a,E.height=s}c&&u&&((M=y.style).lineWidth=c,M.stroke=u,M.strokeOpacity=qr(t.strokeOpacity,1),M.lineDash=t.borderDash,M.lineDashOffset=t.borderDashOffset||0,y.strokeContainThreshold=0,y.hasFill()&&y.hasStroke()&&(M.strokeFirst=!0,M.lineWidth*=2));var k=(y||b).style;k.shadowBlur=t.shadowBlur||0,k.shadowColor=t.shadowColor||"transparent",k.shadowOffsetX=t.shadowOffsetX||0,k.shadowOffsetY=t.shadowOffsetY||0,k.opacity=jp(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return $X(t)&&(i=[t.fontStyle,t.fontWeight,YX(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&Jh(i)||t.textFont||t.font},e}(Mh),yPt={left:!0,right:1,center:1},bPt={top:1,bottom:1,middle:1},ZX=["fontStyle","fontWeight","fontSize","fontFamily"];function YX(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?j2+"px":n+"px":n}function XX(n,e){for(var t=0;t<ZX.length;t++){var i=ZX[t],r=e[i];null!=r&&(n[i]=r)}}function $X(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function qX(n){if(n){n.font=WX.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||yPt[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||bPt[t]?t:"top",n.padding&&(n.padding=K2(n.padding))}}function KX(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function QX(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function JX(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function t$(n){var e=n.text;return null!=e&&(e+=""),e}function mF(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const la=WX;var kr=Ko(),gF=function(n,e,t,i){if(i){var r=kr(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=kr(o);a.seriesIndex=n,a.dataIndex=t,a.dataType=e})}},e$=1,n$={},i$=Ko(),vF=Ko(),_F=0,T1=1,DD=2,nd=["emphasis","blur","select"],D1=["normal","emphasis","blur","select"],j0=10,wPt=9,n_="highlight",AD="downplay",A1="select",ID="unselect",I1="toggleSelect";function W0(n){return null!=n&&"none"!==n}var r$=new u1(100);function o$(n){if(ci(n)){var e=r$.get(n);return e||(e=CN(n,-.1),r$.put(n,e)),e}if(UT(n)){var t=Dn({},n);return t.colorStops=On(n.colorStops,function(i){return{offset:i.offset,color:CN(i.color,-.1)}}),t}return n}function PD(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function a$(n){PD(n,"emphasis",DD)}function s$(n){n.hoverState===DD&&PD(n,"normal",_F)}function yF(n){PD(n,"blur",T1)}function l$(n){n.hoverState===T1&&PD(n,"normal",_F)}function CPt(n){n.selected=!0}function SPt(n){n.selected=!1}function c$(n,e,t){e(n,t)}function tm(n,e,t){c$(n,e,t),n.isGroup&&n.traverse(function(i){c$(i,e,t)})}function kD(n,e){switch(e){case"emphasis":n.hoverState=DD;break;case"normal":n.hoverState=_F;break;case"blur":n.hoverState=T1;break;case"select":n.selected=!0}}function bF(n,e){var t=this.states[n];if(this.style){if("emphasis"===n)return function EPt(n,e,t,i){var r=t&&uo(t,"select")>=0,o=!1;if(n instanceof wo){var a=i$(n),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(W0(s)||W0(l)){var c=(i=i||{}).style||{};"inherit"===c.fill?(o=!0,i=Dn({},i),(c=Dn({},c)).fill=s):!W0(c.fill)&&W0(s)?(o=!0,i=Dn({},i),(c=Dn({},c)).fill=o$(s)):!W0(c.stroke)&&W0(l)&&(o||(i=Dn({},i),c=Dn({},c)),c.stroke=o$(l)),i.style=c}}return i&&null==i.z2&&(o||(i=Dn({},i)),i.z2=n.z2+(n.z2EmphasisLift??j0)),i}(this,0,e,t);if("blur"===n)return function DPt(n,e,t){var i=uo(n.currentStates,e)>=0,r=n.style.opacity,o=i?null:function MPt(n,e,t,i){for(var r=n.style,o={},a=0;a<e.length;a++){var s=e[a];o[s]=r[s]??(i&&i[s])}for(a=0;a<n.animators.length;a++){var c=n.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(o,e)}return o}(n,["opacity"],e,{opacity:1}),a=(t=t||{}).style||{};return null==a.opacity&&(t=Dn({},t),a=Dn({opacity:i?r:.1*o.opacity},a),t.style=a),t}(this,n,t);if("select"===n)return function TPt(n,e,t){return t&&null==t.z2&&((t=Dn({},t)).z2=n.z2+(n.z2SelectLift??wPt)),t}(this,0,t)}return t}function i_(n){n.stateProxy=bF;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=bF),t&&(t.stateProxy=bF)}function u$(n,e){!m$(n,e)&&!n.__highByOuter&&tm(n,a$)}function d$(n,e){!m$(n,e)&&!n.__highByOuter&&tm(n,s$)}function em(n,e){n.__highByOuter|=1<<(e||0),tm(n,a$)}function nm(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&tm(n,s$)}function h$(n){tm(n,yF)}function xF(n){tm(n,l$)}function f$(n){tm(n,CPt)}function p$(n){tm(n,SPt)}function m$(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function g$(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,o){var a=vF(o),s="series"===r,l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(c){l$(c)}),s&&t.push(o)),a.isBlured=!1}),Xt(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function wF(n,e,t,i){var r=i.getModel();function o(c,u){for(var d=0;d<u.length;d++){var h=c.getItemGraphicEl(u[d]);h&&xF(h)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=a===c,d=c.coordinateSystem;if(d&&d.master&&(d=d.master),!("series"===t&&!u||"coordinateSystem"===t&&!(d&&s?d===s:u)||"series"===e&&u)){if(i.getViewOfSeriesModel(c).group.traverse(function(b){yF(b)}),Pu(e))o(c.getData(),e);else if(ar(e))for(var g=Ro(e),y=0;y<g.length;y++)o(c.getData(g[y]),e[g[y]]);l.push(c),vF(c).isBlured=!0}}),r.eachComponent(function(c,u){if("series"!==c){var d=i.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function CF(n,e,t){if(null!=n&&null!=e){var i=t.getModel().getComponent(n,e);if(i){vF(i).isBlured=!0;var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){yF(o)})}}}function SF(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var l,s=a.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===kr(s[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function v$(n){Xt(n.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(o,a){n.isSelected(a,r)?f$(o):p$(o)})})}function RPt(n){var e=[];return n.eachSeries(function(t){Xt(t.getAllData(),function(r){var a=r.type,s=t.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:t.seriesIndex};null!=a&&(l.dataType=a),e.push(l)}})}),e}function r_(n,e,t){o_(n,!0),tm(n,i_),MF(n,e,t)}function Al(n,e,t,i){i?function LPt(n){o_(n,!1)}(n):r_(n,e,t)}function MF(n,e,t){var i=kr(n);null!=e?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var _$=["emphasis","blur","select"],OPt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function vu(n,e,t,i){t=t||"itemStyle";for(var r=0;r<_$.length;r++){var o=_$[r],a=e.getModel([o,t]);n.ensureState(o).style=i?i(a):a[OPt[t]]()}}function o_(n,e){var t=!1===e,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function P1(n){return!(!n||!n.__highDownDispatcher)}function EF(n){var e=n.type;return e===A1||e===ID||e===I1}function y$(n){var e=n.type;return e===n_||e===AD}var b$=Ko();function Z0(n,e,t,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var l="update"===n;if(e&&e.isAnimationEnabled()){var c=void 0,u=void 0,d=void 0;return i?(c=qr(i.duration,200),u=qr(i.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(c=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(d=o.delay)),Ki(d)&&(d=d(t,r)),Ki(c)&&(c=c(t)),{duration:c||0,delay:d,easing:u}}return null}function TF(n,e,t,i,r,o,a){var l,s=!1;Ki(r)?(a=o,o=r,r=null):ar(r)&&(o=r.cb,a=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c="leave"===n;c||e.stopAnimation("leave");var u=Z0(n,i,r,c?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(u&&u.duration>0){var g={duration:u.duration,delay:u.delay||0,easing:u.easing,done:o,force:!!o||!!a,setToFinal:!c,scope:n,during:a};s?e.animateFrom(t,g):e.animateTo(t,g)}else e.stopAnimation(),!s&&e.attr(t),a&&a(1),o&&o()}function fa(n,e,t,i,r,o){TF("update",n,e,t,i,r,o)}function cl(n,e,t,i,r,o){TF("enter",n,e,t,i,r,o)}function Y0(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("leave"===n.animators[e].scope)return!0;return!1}function cg(n,e,t,i,r,o){Y0(n)||TF("leave",n,e,t,i,r,o)}function x$(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),cg(n,{style:{opacity:0}},e,t,i)}function k1(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||x$(r,e,t,i)}):x$(n,e,t,i)}function rf(n){b$(n).oldStyle=n.style}var RD={};function w$(n,e){for(var t=0;t<nd.length;t++){var i=nd[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function DF(n,e,t){var s,i=n.labelFetcher,r=n.labelDataIndex,o=n.labelDimIndex,a=e.normal;i&&(s=i.getFormattedLabel(r,"normal",null,o,a&&a.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=Ki(n.defaultText)?n.defaultText(r,n,t):n.defaultText);for(var l={normal:s},c=0;c<nd.length;c++){var u=nd[c],d=e[u];l[u]=qr(i?i.getFormattedLabel(r,u,null,o,d&&d.get("formatter")):null,s)}return l}function _u(n,e,t,i){t=t||RD;for(var r=n instanceof la,o=!1,a=0;a<D1.length;a++)if((s=e[D1[a]])&&s.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new la,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=DF(t,e),u=e.normal,d=!!u.getShallow("show"),h=js(u,i&&i.normal,t,!1,!r);for(h.text=c.normal,r||n.setTextConfig(LD(u,t,!1)),a=0;a<nd.length;a++){var s,p=nd[a];if(s=e[p]){var g=l.ensureState(p),y=!!qr(s.getShallow("show"),d);y!==d&&(g.ignore=!y),g.style=js(s,i&&i[p],t,!0,!r),g.style.text=c[p],r||(n.ensureState(p).textConfig=LD(s,t,!0))}}l.silent=!!u.getShallow("silent"),null!=l.style.x&&(h.x=l.style.x),null!=l.style.y&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),t.enableTextSetter&&(X0(l).setLabelText=function(w){var M=DF(t,e,w);w$(l,M)})}else l&&(l.ignore=!0);n.dirty()}function zc(n,e){for(var t={normal:n.getModel(e=e||"label")},i=0;i<nd.length;i++){var r=nd[i];t[r]=n.getModel([r,e])}return t}function js(n,e,t,i,r){var o={};return function zPt(n,e,t,i,r){t=t||RD;var l,o=e.ecModel,a=o&&o.option.textStyle,s=function UPt(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||RD).rich;if(t){e=e||{};for(var i=Ro(t),r=0;r<i.length;r++)e[i[r]]=1}n=n.parentModel}return e}(e);if(s)for(var c in l={},s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);E$(l[c]={},u,a,t,i,r,!1,!0)}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var h=e.get("minMargin");null!=h&&(n.margin=h),E$(n,e,a,t,i,r,!0,!1)}(o,n,t,i,r),e&&Dn(o,e),o}function LD(n,e,t){e=e||{};var r,i={},o=n.getShallow("rotate"),a=qr(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return"outside"===(r=n.getShallow("position")||(t?null:"inside"))&&(r=e.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",i}var C$=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],S$=["align","lineHeight","width","height","tag","verticalAlign"],M$=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function E$(n,e,t,i,r,o,a,s){t=!r&&t||RD;var l=i&&i.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=qr(e.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=l||null),("inherit"===u||"auto"===u)&&(u=l||null),o||(c=c||t.color,u=u||t.textBorderColor),null!=c&&(n.fill=c),null!=u&&(n.stroke=u);var h=qr(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=h&&(n.lineWidth=h);var p=qr(e.getShallow("textBorderType"),t.textBorderType);null!=p&&(n.lineDash=p);var g=qr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=g&&(n.lineDashOffset=g),!r&&null==d&&!s&&(d=i&&i.defaultOpacity),null!=d&&(n.opacity=d),!r&&!o&&null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var y=0;y<C$.length;y++)null!=(w=qr(e.getShallow(b=C$[y]),t[b]))&&(n[b]=w);for(y=0;y<S$.length;y++)null!=(w=e.getShallow(b=S$[y]))&&(n[b]=w);if(null==n.verticalAlign){var M=e.getShallow("baseline");null!=M&&(n.verticalAlign=M)}if(!a||!i.disableBox){for(y=0;y<M$.length;y++){var b,w;null!=(w=e.getShallow(b=M$[y]))&&(n[b]=w)}var E=e.getShallow("borderType");null!=E&&(n.borderDash=E),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&l&&(n.backgroundColor=l),("auto"===n.borderColor||"inherit"===n.borderColor)&&l&&(n.borderColor=l)}}function T$(n,e){var t=e&&e.getModel("textStyle");return Jh([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var X0=Ko();function D$(n,e,t,i){if(n){var r=X0(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function A$(n,e,t,i,r){var o=X0(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=qr(o.interpolatedValue,o.prevValue),l=o.value;n.percent=0,(null==o.prevValue?cl:fa)(n,{percent:1},i,e,null,function c(u){var d=wX(t,o.precision,s,l,u);o.interpolatedValue=1===u?null:d;var h=DF({labelDataIndex:e,labelFetcher:r,defaultText:a?a(d):d+""},o.statesModels,d);w$(n,h)})}}var GPt=["textStyle","color"],AF=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],IF=new la,HPt=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(GPt):null)},n.prototype.getFont=function(){return T$({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<AF.length;i++)t[AF[i]]=this.getShallow(AF[i]);return IF.useStyle(t),IF.update(),IF.getBoundingRect()},n}();const jPt=HPt;var I$=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],WPt=Yv(I$),ZPt=function(){function n(){}return n.prototype.getLineStyle=function(e){return WPt(this,e)},n}(),P$=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],YPt=Yv(P$),XPt=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return YPt(this,e,t)},n}(),a_=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){$r(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=null==i?i:i[e];if(null==r&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=null!=e,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(fr(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!aa.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||null!=(i=i&&"object"==typeof i?i[e[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();JN(a_),function IIt(n){var e=["__\0is_clz",AIt++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!(!t||!t[e])}}(a_),gc(a_,ZPt),gc(a_,XPt),gc(a_,OIt),gc(a_,jPt);const Ws=a_;var $Pt=Math.round(10*Math.random());function $0(n){return[n||"",$Pt++].join("_")}function ug(n,e){return $r($r({},n,!0),e,!0)}var OD="ZH",PF="EN",R1=PF,ND={},kF={},k$=aa.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(OD)>-1?OD:R1;function R$(n,e){n=n.toUpperCase(),kF[n]=new Ws(e),ND[n]=e}function RF(n){return kF[n]}R$(PF,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),R$(OD,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var LF=1e3,OF=60*LF,L1=60*OF,Th=24*L1,L$=365*Th,O1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},FD="{yyyy}-{MM}-{dd}",O$={year:"{yyyy}",month:"{yyyy}-{MM}",day:FD,hour:FD+" "+O1.hour,minute:FD+" "+O1.minute,second:FD+" "+O1.second,millisecond:O1.none},NF=["year","month","day","hour","minute","second","millisecond"],N$=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function s_(n,e){return"0000".substr(0,e-(n+="").length)+n}function q0(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function nkt(n){return n===q0(n)}function BD(n,e,t,i){var r=Vf(n),o=r[FF(t)](),a=r[K0(t)]()+1,s=Math.floor((a-1)/3)+1,l=r[VD(t)](),c=r["get"+(t?"UTC":"")+"Day"](),u=r[N1(t)](),d=(u-1)%12+1,h=r[zD(t)](),p=r[UD(t)](),g=r[GD(t)](),b=(i instanceof Ws?i:RF(i||k$)||function ekt(){return kF[R1]}()).getModel("time"),w=b.get("month"),M=b.get("monthAbbr"),E=b.get("dayOfWeek"),k=b.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,w[a-1]).replace(/{MMM}/g,M[a-1]).replace(/{MM}/g,s_(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,s_(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[c]).replace(/{ee}/g,k[c]).replace(/{e}/g,c+"").replace(/{HH}/g,s_(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,s_(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,s_(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,s_(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,s_(g,3)).replace(/{S}/g,g+"")}function F$(n,e){var t=Vf(n),i=t[K0(e)]()+1,r=t[VD(e)](),o=t[N1(e)](),a=t[zD(e)](),s=t[UD(e)](),c=0===t[GD(e)](),u=c&&0===s,d=u&&0===a,h=d&&0===o,p=h&&1===r;return p&&1===i?"year":p?"month":h?"day":d?"hour":u?"minute":c?"second":"millisecond"}function B$(n,e,t){var i=sa(n)?Vf(n):n;switch(e=e||F$(n,t)){case"year":return i[FF(t)]();case"half-year":return i[K0(t)]()>=6?1:0;case"quarter":return Math.floor((i[K0(t)]()+1)/4);case"month":return i[K0(t)]();case"day":return i[VD(t)]();case"half-day":return i[N1(t)]()/24;case"hour":return i[N1(t)]();case"minute":return i[zD(t)]();case"second":return i[UD(t)]();case"millisecond":return i[GD(t)]()}}function FF(n){return n?"getUTCFullYear":"getFullYear"}function K0(n){return n?"getUTCMonth":"getMonth"}function VD(n){return n?"getUTCDate":"getDate"}function N1(n){return n?"getUTCHours":"getHours"}function zD(n){return n?"getUTCMinutes":"getMinutes"}function UD(n){return n?"getUTCSeconds":"getSeconds"}function GD(n){return n?"getUTCMilliseconds":"getMilliseconds"}function okt(n){return n?"setUTCFullYear":"setFullYear"}function V$(n){return n?"setUTCMonth":"setMonth"}function z$(n){return n?"setUTCDate":"setDate"}function U$(n){return n?"setUTCHours":"setHours"}function G$(n){return n?"setUTCMinutes":"setMinutes"}function H$(n){return n?"setUTCSeconds":"setSeconds"}function j$(n){return n?"setUTCMilliseconds":"setMilliseconds"}function W$(n){if(!dX(n))return ci(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Z$(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Q0=K2;function BF(n,e,t){function r(u){return u&&Jh(u)?u:"-"}function o(u){return!(null==u||isNaN(u)||!isFinite(u))}var a="time"===e,s=n instanceof Date;if(a||s){var l=a?Vf(n):n;if(!isNaN(+l))return BD(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===e)return $2(n)?r(n):sa(n)&&o(n)?n+"":"-";var c=qp(n);return o(c)?W$(c):$2(n)?r(n):"boolean"==typeof n?n+"":"-"}var Y$=["a","b","c","d","e","f","g"],VF=function(n,e){return"{"+n+(e??"")+"}"};function X$(n,e,t){Rn(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=Y$[o];n=n.replace(VF(a),VF(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=e[s][r[l]];n=n.replace(VF(Y$[l],s),t?bd(c):c)}return n}function l_(n,e){return e=e||"transparent",ci(n)?n:ar(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function HD(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var jD=Xt,$$=["left","right","top","bottom","width","height"],c_=[["width","left","right"],["height","top","bottom"]];function zF(n,e,t,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(l,c){var p,g,u=l.getBoundingRect(),d=e.childAt(c+1),h=d&&d.getBoundingRect();if("horizontal"===n){var y=u.width+(h?-h.x+u.x:0);(p=o+y)>i||l.newline?(o=0,p=y,a+=s+t,s=u.height):s=Math.max(s,u.height)}else{var b=u.height+(h?-h.y+u.y:0);(g=a+b)>r||l.newline?(o+=s+t,a=0,g=b,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=p+t:a=g+t)})}var u_=zF;function Lc(n,e,t){t=Q0(t||0);var i=e.width,r=e.height,o=ni(n.left,i),a=ni(n.top,r),s=ni(n.right,i),l=ni(n.bottom,r),c=ni(n.width,i),u=ni(n.height,r),d=t[2]+t[0],h=t[1]+t[3],p=n.aspect;switch(isNaN(c)&&(c=i-s-h-o),isNaN(u)&&(u=r-l-d-a),null!=p&&(isNaN(c)&&isNaN(u)&&(p>i/r?c=.8*i:u=.8*r),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(o)&&(o=i-s-c-h),isNaN(a)&&(a=r-l-u-d),n.left||n.right){case"center":o=i/2-c/2-t[3];break;case"right":o=i-c-h}switch(n.top||n.bottom){case"middle":case"center":a=r/2-u/2-t[0];break;case"bottom":a=r-u-d}o=o||0,a=a||0,isNaN(c)&&(c=i-h-o-(s||0)),isNaN(u)&&(u=r-d-a-(l||0));var g=new Kr(o+t[3],a+t[0],c,u);return g.margin=t,g}function WD(n,e,t,i,r,o){var c,a=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!a&&!s)return!1;if("raw"===l)c="group"===n.type?new Kr(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(c=n.getBoundingRect(),n.needLocalTransform()){var u=n.getLocalTransform();(c=c.clone()).applyTransform(u)}var d=Lc(nr({width:c.width,height:c.height},e),t,i),h=a?d.x-c.x:0,p=s?d.y-c.y:0;return"raw"===l?(o.x=h,o.y=p):(o.x+=h,o.y+=p),o===n&&n.markRedraw(),!0}function F1(n){var e=n.layoutMode||n.constructor.layoutMode;return ar(e)?e:e?{type:e}:null}function dg(n,e,t){var i=t&&t.ignoreSize;!Rn(i)&&(i=[i,i]);var r=a(c_[0],0),o=a(c_[1],1);function a(u,d){var h={},p=0,g={},y=0;if(jD(u,function(E){g[E]=n[E]}),jD(u,function(E){s(e,E)&&(h[E]=g[E]=e[E]),l(h,E)&&p++,l(g,E)&&y++}),i[d])return l(e,u[1])?g[u[2]]=null:l(e,u[2])&&(g[u[1]]=null),g;if(2===y||!p)return g;if(p>=2)return h;for(var w=0;w<u.length;w++){var M=u[w];if(!s(h,M)&&s(n,M)){h[M]=n[M];break}}return h}function s(u,d){return u.hasOwnProperty(d)}function l(u,d){return null!=u[d]&&"auto"!==u[d]}function c(u,d,h){jD(u,function(p){d[p]=h[p]})}c(c_[0],n,r),c(c_[1],n,o)}function J0(n){return q$({},n)}function q$(n,e){return e&&n&&jD($$,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}Nr(zF,"vertical"),Nr(zF,"horizontal");var ukt=Ko(),tb=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=$0("ec_cpt_model"),o}return mn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=F1(this),o=r?J0(t):{};$r(t,i.getTheme().get(this.mainType)),$r(t,this.getDefaultOption()),r&&dg(t,o,r)},e.prototype.mergeOption=function(t,i){$r(this.option,t,!0);var r=F1(this);r&&dg(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function TIt(n){return!(!n||!n[CX])}(t))return t.defaultOption;var i=ukt(this);if(!i.defaultOption){for(var r=[],o=t;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=$r(s,r[l],!0);i.defaultOption=s}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var o=t+"Id";return C1(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((t=e.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),e;var t}(Ws);SX(tb,Ws),bD(tb),function qPt(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=zf(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=zf(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r}}(tb),function KPt(n,e){function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}n.topologicalTravel=function(o,a,s,l){if(o.length){var c=function t(o){var a={},s=[];return Xt(o,function(l){var c=i(a,l),d=function r(o,a){var s=[];return Xt(o,function(l){uo(a,l)>=0&&s.push(l)}),s}(c.originalDeps=e(l),o);c.entryCount=d.length,0===c.entryCount&&s.push(l),Xt(d,function(h){uo(c.predecessor,h)<0&&c.predecessor.push(h);var p=i(a,h);uo(p.successor,h)<0&&p.successor.push(l)})}),{graph:a,noEntryList:s}}(a),u=c.graph,d=c.noEntryList,h={};for(Xt(o,function(M){h[M]=!0});d.length;){var p=d.pop(),g=u[p],y=!!h[p];y&&(s.call(l,p,g.originalDeps.slice()),delete h[p]),Xt(g.successor,y?w:b)}Xt(h,function(){throw new Error("")})}function b(M){u[M].entryCount--,0===u[M].entryCount&&d.push(M)}function w(M){h[M]=!0,b(M)}}}(tb,function dkt(n){var e=[];return Xt(tb.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=On(e,function(t){return zf(t).main}),"dataset"!==n&&uo(e,"dataset")<=0&&e.unshift("dataset"),e});const ca=tb;var K$="";typeof navigator<"u"&&(K$=navigator.platform||"");var eb="rgba(0, 0, 0, 0.2)";const hkt={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:eb,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:eb,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:eb,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:eb,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:eb,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:eb,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:K$.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Q$=Wi(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Dh="original",ku="arrayRows",Ah="objectRows",Wf="keyedColumns",im="typedArray",J$="unknown",Zf="column",nb="row",yu={Must:1,Might:2,Not:3},tq=Ko();function eq(n,e,t){var i={},r=GF(e);if(!r||!n)return i;var u,d,o=[],a=[],l=tq(e.ecModel).datasetMap,c=r.uid+"_"+t.seriesLayoutBy;Xt(n=n.slice(),function(y,b){var w=ar(y)?y:n[b]={name:y};"ordinal"===w.type&&null==u&&(u=b,d=g(w)),i[w.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});function p(y,b,w){for(var M=0;M<w;M++)y.push(b+M)}function g(y){var b=y.dimsDef;return b?b.length:1}return Xt(n,function(y,b){var w=y.name,M=g(y);if(null==u)p(i[w],E=h.valueWayDim,M),p(a,E,M),h.valueWayDim+=M;else if(u===b)p(i[w],0,M),p(o,0,M);else{var E;p(i[w],E=h.categoryWayDim,M),p(a,E,M),h.categoryWayDim+=M}}),o.length&&(i.itemName=o),a.length&&(i.seriesName=a),i}function UF(n,e,t){var i={};if(!GF(n))return i;var s,o=e.sourceFormat,a=e.dimensionsDefine;(o===Ah||o===Wf)&&Xt(a,function(u,d){"name"===(ar(u)?u.name:u)&&(s=d)});var l=function(){for(var u={},d={},h=[],p=0,g=Math.min(5,t);p<g;p++){var y=iq(e.data,o,e.seriesLayoutBy,a,e.startIndex,p);h.push(y);var b=y===yu.Not;if(b&&null==u.v&&p!==s&&(u.v=p),(null==u.n||u.n===u.v||!b&&h[u.n]===yu.Not)&&(u.n=p),w(u)&&h[u.n]!==yu.Not)return u;b||(y===yu.Might&&null==d.v&&p!==s&&(d.v=p),(null==d.n||d.n===d.v)&&(d.n=p))}function w(M){return null!=M.v&&null!=M.n}return w(u)?u:w(d)?d:null}();if(l){i.value=[l.v];var c=s??l.n;i.itemName=[c],i.seriesName=[c]}return i}function GF(n){if(!n.get("data",!0))return C1(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},vc).models[0]}function nq(n,e){return iq(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function iq(n,e,t,i,r,o){var a,l,c;if(Zd(n))return yu.Not;if(i){var u=i[o];ar(u)?(l=u.name,c=u.type):ci(u)&&(l=u)}if(null!=c)return"ordinal"===c?yu.Must:yu.Not;if(e===ku){var d=n;if(t===nb){for(var h=d[o],p=0;p<(h||[]).length&&p<5;p++)if(null!=(a=k(h[r+p])))return a}else for(p=0;p<d.length&&p<5;p++){var g=d[r+p];if(g&&null!=(a=k(g[o])))return a}}else if(e===Ah){var y=n;if(!l)return yu.Not;for(p=0;p<y.length&&p<5;p++)if((b=y[p])&&null!=(a=k(b[l])))return a}else if(e===Wf){if(!l)return yu.Not;if(!(h=n[l])||Zd(h))return yu.Not;for(p=0;p<h.length&&p<5;p++)if(null!=(a=k(h[p])))return a}else if(e===Dh){var M=n;for(p=0;p<M.length&&p<5;p++){var b,E=G0(b=M[p]);if(!Rn(E))return yu.Not;if(null!=(a=k(E[o])))return a}}function k(j){var H=ci(j);return null!=j&&isFinite(j)&&""!==j?H?yu.Might:yu.Not:H&&"-"!==j?yu.Must:void 0}return yu.Not}var HF=Wi(),rq=Ko(),vkt=Ko(),jF=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=bs(this.get("color",!0)),o=this.get("colorLayer",!0);return oq(this,rq,r,o,e,t,i)},n.prototype.clearColorPalette=function(){!function ykt(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}(this,rq)},n}();function WF(n,e,t,i){var r=bs(n.get(["aria","decal","decals"]));return oq(n,vkt,r,null,e,t,i)}function oq(n,e,t,i,r,o,a){var s=e(o=o||n),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=null!=a&&i?function _kt(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}(i,a):t;if((u=u||t)&&u.length){var d=u[l];return r&&(c[r]=d),s.paletteIdx=(l+1)%u.length,d}}var ZD,B1,aq,sq="\0_ec_inner",cq=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.init=function(t,i,r,o,a,s){o=o||{},this.option=null,this._theme=new Ws(o),this._locale=new Ws(a),this._optionManager=s},e.prototype.setOption=function(t,i,r){var o=hq(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,hq(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||"recreate"===t){var a=o.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(a,i)):aq(this,a),r=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!t||"recreate"===t||"media"===t){var l=o.getMediaOption(this);l.length&&Xt(l,function(c){r=!0,this._mergeOption(c,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Wi(),c=i&&i.replaceMergeMainTypeMap;(function fkt(n){tq(n).datasetMap=Wi()})(this),Xt(t,function(d,h){null!=d&&(ca.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=null==r[h]?fr(d):$r(r[h],d,!0))}),c&&c.each(function(d,h){ca.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),ca.topologicalTravel(s,ca.getAllClassMainTypes(),function u(d){var h=function gkt(n,e,t){var i=HF.get(e);if(!i)return t;var r=i(n);return r?t.concat(r):t}(this,d,bs(t[d])),p=o.get(d),y=yX(p,h,p?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll");(function _It(n,e,t){Xt(n,function(i){var r=i.newOption;ar(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=function yIt(n,e,t,i){return e.type?e.type:t?t.subType:i.determineSubType(n,e)}(e,r,i.existing,t))})})(y,d,ca),r[d]=null,o.set(d,null),a.set(d,0);var E,b=[],w=[],M=0;Xt(y,function(j,H){var rt=j.existing,yt=j.newOption;if(yt){var Lt=ca.getClass(d,j.keyInfo.subType,!("series"===d));if(!Lt)return;if("tooltip"===d){if(E)return;E=!0}if(rt&&rt.constructor===Lt)rt.name=j.keyInfo.name,rt.mergeOption(yt,this),rt.optionUpdated(yt,!1);else{var ne=Dn({componentIndex:H},j.keyInfo);Dn(rt=new Lt(yt,this,this,ne),ne),j.brandNew&&(rt.__requireNewView=!0),rt.init(yt,this,this),rt.optionUpdated(null,!0)}}else rt&&(rt.mergeOption({},this),rt.optionUpdated({},!1));rt?(b.push(rt.option),w.push(rt),M++):(b.push(void 0),w.push(void 0))},this),r[d]=b,o.set(d,w),a.set(d,M),"series"===d&&ZD(this)},this),this._seriesIndices||ZD(this)},e.prototype.getOption=function(){var t=fr(this.option);return Xt(t,function(i,r){if(ca.hasClass(r)){for(var o=bs(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!x1(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,t[r]=o}}),delete t[sq],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var l,r=t.index,o=t.id,a=t.name,s=this._componentsMap.get(i);return s&&s.length?(null!=r?(l=[],Xt(bs(r),function(c){s[c]&&l.push(s[c])})):l=null!=o?uq("id",o,s):null!=a?uq("name",a,s):ps(s,function(c){return!!c}),dq(l,t)):[]},e.prototype.findComponents=function(t){var r=t.mainType,o=function s(c){var u=r+"Index",d=r+"Id",h=r+"Name";return!c||null==c[u]&&null==c[d]&&null==c[h]?null:{mainType:r,index:c[u],id:c[d],name:c[h]}}(t.query);return function l(c){return t.filter?ps(c,t.filter):c}(dq(o?this.queryComponents(o):ps(this._componentsMap.get(r),function(c){return!!c}),t))},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(Ki(t)){var a=i,s=t;o.each(function(d,h){for(var p=0;d&&p<d.length;p++){var g=d[p];g&&s.call(a,h,g,g.componentIndex)}})}else for(var l=ci(t)?o.get(t):ar(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&i.call(r,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=Rc(t,null);return ps(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return ps(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return ps(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){B1(this),Xt(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){Xt(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){B1(this),Xt(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===t&&i.call(r,a,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return Xt(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return B1(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){B1(this);var r=[];Xt(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Wi(r)},e.prototype.restoreData=function(t){ZD(this);var i=this._componentsMap,r=[];i.each(function(o,a){ca.hasClass(a)&&r.push(a)}),ca.topologicalTravel(r,ca.getAllClassMainTypes(),function(o){Xt(i.get(o),function(a){a&&("series"!==o||!function wkt(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=t&&n.componentIndex!==t||null!=i&&n.id!==i||null!=r&&n.name!==r}}(a,t))&&a.restoreData()})})},e.internalField=(ZD=function(t){var i=t._seriesIndices=[];Xt(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=Wi(i)},B1=function(t){},void(aq=function(t,i){t.option={},t.option[sq]=1,t._componentsMap=Wi({series:[]}),t._componentsCount=Wi();var r=i.aria;ar(r)&&null==r.enabled&&(r.enabled=!0),function Ckt(n,e){var t=n.color&&!n.colorLayer;Xt(e,function(i,r){"colorLayer"===r&&t||ca.hasClass(r)||("object"==typeof i?n[r]=n[r]?$r(n[r],i,!1):fr(i):null==n[r]&&(n[r]=i))})}(i,t._theme.option),$r(i,hkt,!1),t._mergeOption(i,null)})),e}(Ws);function uq(n,e,t){if(Rn(e)){var i=Wi();return Xt(e,function(o){null!=o&&null!=Rc(o,null)&&i.set(o,!0)}),ps(t,function(o){return o&&i.get(o[n])})}var r=Rc(e,null);return ps(t,function(o){return o&&null!=r&&o[n]===r})}function dq(n,e){return e.hasOwnProperty("subType")?ps(n,function(t){return t&&t.subType===e.subType}):n}function hq(n){var e=Wi();return n&&Xt(bs(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}gc(cq,jF);const fq=cq;var Skt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const pq=function n(e){Xt(Skt,function(t){this[t]=yi(e[t],e)},this)};var ZF={},Ekt=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];Xt(ZF,function(r,o){var a=r.create(e,t);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){Xt(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){ZF[e]=t},n.get=function(e){return ZF[e]},n}();const V1=Ekt;var Tkt=/^(min|max)?(.+)$/,Dkt=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(Xt(bs(e.series),function(a){a&&a.data&&Zd(a.data)&&GT(a.data)}),Xt(bs(e.dataset),function(a){a&&a.source&&Zd(a.source)&&GT(a.source)})),e=fr(e);var r=this._optionBackup,o=function Akt(n,e,t){var r,o,i=[],a=n.baseOption,s=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||s||a&&a.timeline);function h(p){Xt(e,function(g){g(p,t)})}return a?(o=a).timeline||(o.timeline=s):((d||u)&&(n.options=n.media=null),o=n),u&&Rn(c)&&Xt(c,function(p){p&&p.option&&(p.query?i.push(p):r||(r=p))}),h(o),Xt(l,function(p){return h(p)}),Xt(i,function(p){return h(p.option)}),{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],fr(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=fr(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!r.length&&!o)return s;for(var l=0,c=r.length;l<c;l++)Ikt(r[l].query,t,i)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!function kkt(n,e){return n.join(",")===e.join(",")}(a,this._currentMediaIndices)&&(s=On(a,function(u){return fr(-1===u?o.option:r[u].option)})),this._currentMediaIndices=a,s},n}();function Ikt(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return Xt(n,function(o,a){var s=a.match(Tkt);if(s&&s[1]&&s[2]){var l=s[1],c=s[2].toLowerCase();(function Pkt(n,e,t){return"min"===t?n>=e:"max"===t?n<=e:n===e})(i[c],o,l)||(r=!1)}}),r}const Rkt=Dkt;var af=Xt,z1=ar,mq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function YF(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=mq.length;t<i;t++){var r=mq[t],o=e.normal,a=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?$r(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?$r(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function Ru(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,nr(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function U1(n){Ru(n,"itemStyle"),Ru(n,"lineStyle"),Ru(n,"areaStyle"),Ru(n,"label"),Ru(n,"labelLine"),Ru(n,"upperLabel"),Ru(n,"edgeLabel")}function _c(n,e){var t=z1(n)&&n[e],i=z1(t)&&t.textStyle;if(i)for(var r=0,o=_X.length;r<o;r++){var a=_X[r];i.hasOwnProperty(a)&&(t[a]=i[a])}}function Ih(n){n&&(U1(n),_c(n,"label"),n.emphasis&&_c(n.emphasis,"label"))}function rm(n){return Rn(n)?n:n?[n]:[]}function gq(n){return(Rn(n)?n[0]:n)||{}}function vq(n){n&&Xt(Bkt,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var Bkt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Vkt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],XF=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function G1(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<XF.length;t++){var i=XF[t][1];null!=e[i]&&(e[XF[t][0]]=e[i])}}function _q(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function yq(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function bq(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&bq(n[t].children,e)}function xq(n,e){(function Okt(n,e){af(rm(n.series),function(i){z1(i)&&function Lkt(n){if(z1(n)){YF(n),U1(n),_c(n,"label"),_c(n,"upperLabel"),_c(n,"edgeLabel"),n.emphasis&&(_c(n.emphasis,"label"),_c(n.emphasis,"upperLabel"),_c(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(YF(e),Ih(e));var t=n.markLine;t&&(YF(t),Ih(t));var i=n.markArea;i&&Ih(i);var r=n.data;if("graph"===n.type){r=r||n.nodes;var o=n.links||n.edges;if(o&&!Zd(o))for(var a=0;a<o.length;a++)Ih(o[a]);Xt(n.categories,function(c){U1(c)})}if(r&&!Zd(r))for(a=0;a<r.length;a++)Ih(r[a]);if((e=n.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)Ih(s[a])}if((t=n.markLine)&&t.data){var l=t.data;for(a=0;a<l.length;a++)Rn(l[a])?(Ih(l[a][0]),Ih(l[a][1])):Ih(l[a])}"gauge"===n.type?(_c(n,"axisLabel"),_c(n,"title"),_c(n,"detail")):"treemap"===n.type?(Ru(n.breadcrumb,"itemStyle"),Xt(n.levels,function(c){U1(c)})):"tree"===n.type&&U1(n.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),af(t,function(i){af(rm(n[i]),function(r){r&&(_c(r,"axisLabel"),_c(r.axisPointer,"label"))})}),af(rm(n.parallel),function(i){var r=i&&i.parallelAxisDefault;_c(r,"axisLabel"),_c(r&&r.axisPointer,"label")}),af(rm(n.calendar),function(i){Ru(i,"itemStyle"),_c(i,"dayLabel"),_c(i,"monthLabel"),_c(i,"yearLabel")}),af(rm(n.radar),function(i){_c(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),af(rm(n.geo),function(i){z1(i)&&(Ih(i),af(rm(i.regions),function(r){Ih(r)}))}),af(rm(n.timeline),function(i){Ih(i),Ru(i,"label"),Ru(i,"itemStyle"),Ru(i,"controlStyle",!0);var r=i.data;Rn(r)&&Xt(r,function(o){ar(o)&&(Ru(o,"label"),Ru(o,"itemStyle"))})}),af(rm(n.toolbox),function(i){Ru(i,"iconStyle"),af(i.feature,function(r){Ru(r,"iconStyle")})}),_c(gq(n.axisPointer),"label"),_c(gq(n.tooltip).axisPointer,"label")})(n,e),n.series=bs(n.series),Xt(n.series,function(t){if(ar(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),_q(t.label),(r=t.data)&&!Zd(r))for(var o=0;o<r.length;o++)_q(r[o]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var a=function Nkt(n,e){for(var t=e.split(","),i=n,r=0;r<t.length&&null!=(i=i&&i[t[r]]);r++);return i}(t,"pointer.color");null!=a&&function Fkt(n,e,t,i){for(var a,r=e.split(","),o=n,s=0;s<r.length-1;s++)null==o[a=r[s]]&&(o[a]={}),o=o[a];(i||null==o[r[s]])&&(o[r[s]]=t)}(t,"itemStyle.color",a)}else if("bar"===i){var r;if(G1(t),G1(t.backgroundStyle),G1(t.emphasis),(r=t.data)&&!Zd(r))for(o=0;o<r.length;o++)"object"==typeof r[o]&&(G1(r[o]),G1(r[o]&&r[o].emphasis))}else if("sunburst"===i){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),yq(t),bq(t.data,yq)}else"graph"===i||"sankey"===i?function zkt(n){n&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(t):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&nr(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),vq(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Xt(Vkt,function(t){var i=n[t];i&&(Rn(i)||(i=[i]),Xt(i,function(r){vq(r)}))})}function Gkt(n){Xt(n,function(e,t){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,d){var p,g,h=a.get(e.stackedDimension,d);if(isNaN(h))return r;s?g=a.getRawIndex(d):p=a.get(e.stackedByDimension,d);for(var y=NaN,b=t-1;b>=0;b--){var w=n[b];if(s||(g=w.data.rawIndexOf(w.stackedByDimension,p)),g>=0){var M=w.data.getByRawIndex(w.stackResultDimension,g);if("all"===l||"positive"===l&&M>0||"negative"===l&&M<0||"samesign"===l&&h>=0&&M>0||"samesign"===l&&h<=0&&M<0){h=sIt(h,M),y=M;break}}}return i[0]=h,i[1]=y,i})})}var YD=function n(e){this.data=e.data||(e.sourceFormat===Wf?{}:[]),this.sourceFormat=e.sourceFormat||J$,this.seriesLayoutBy=e.seriesLayoutBy||Zf,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];null==r.type&&nq(this,i)===yu.Must&&(r.type="ordinal")}};function $F(n){return n instanceof YD}function qF(n,e,t){t=t||wq(n);var i=e.seriesLayoutBy,r=function jkt(n,e,t,i,r){var o,a;if(!n)return{dimensionsDefine:Cq(r),startIndex:a,dimensionsDetectedCount:o};if(e===ku){var s=n;"auto"===i||null==i?Sq(function(c){null!=c&&"-"!==c&&(ci(c)?null==a&&(a=1):a=0)},t,s,10):a=sa(i)?i:i?1:0,!r&&1===a&&(r=[],Sq(function(c,u){r[u]=null!=c?c+"":""},t,s,1/0)),o=r?r.length:t===nb?s.length:s[0]?s[0].length:null}else if(e===Ah)r||(r=function Wkt(n){for(var t,e=0;e<n.length&&!(t=n[e++]););if(t)return Ro(t)}(n));else if(e===Wf)r||(r=[],Xt(n,function(c,u){r.push(u)}));else if(e===Dh){var l=G0(n[0]);o=Rn(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Cq(r),dimensionsDetectedCount:o}}(n,t,i,e.sourceHeader,e.dimensions);return new YD({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:fr(e)})}function KF(n){return new YD({data:n,sourceFormat:Zd(n)?im:Dh})}function Hkt(n){return new YD({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:fr(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function wq(n){var e=J$;if(Zd(n))e=im;else if(Rn(n)){0===n.length&&(e=ku);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(null!=r){if(Rn(r)){e=ku;break}if(ar(r)){e=Ah;break}}}}else if(ar(n))for(var o in n)if(xi(n,o)&&Pu(n[o])){e=Wf;break}return e}function Cq(n){if(n){var e=Wi();return On(n,function(t,i){var r={name:(t=ar(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function Sq(n,e,t,i){if(e===nb)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function Mq(n){var e=n.sourceFormat;return e===Ah||e===Wf}var d_,h_,f_,Eq,Tq,Dq=function(){function n(e,t){var i=$F(e)?e:KF(e);this._source=i;var r=this._data=i.data;i.sourceFormat===im&&(this._offset=0,this._dimSize=t,this._data=r),Tq(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;Tq=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine;if(Dn(a,Eq[JF(c,u)]),c===im)a.getItem=t,a.count=r,a.fillStorage=i;else{var g=Iq(c,u);a.getItem=yi(g,null,s,d,h);var y=kq(c,u);a.count=yi(y,null,s,d,h)}};var t=function(a,s){s=s||[];for(var l=this._data,c=this._dimSize,u=c*(a-=this._offset),d=0;d<c;d++)s[d]=l[u+d];return s},i=function(a,s,l,c){for(var u=this._data,d=this._dimSize,h=0;h<d;h++){for(var p=c[h],g=null==p[0]?1/0:p[0],y=null==p[1]?-1/0:p[1],b=s-a,w=l[h],M=0;M<b;M++){var E=u[M*d+h];w[a+M]=E,E<g&&(g=E),E>y&&(y=E)}p[0]=g,p[1]=y}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(e={})[ku+"_"+Zf]={pure:!0,appendData:o},e[ku+"_"+nb]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Ah]={pure:!0,appendData:o},e[Wf]={pure:!0,appendData:function(a){var s=this._data;Xt(a,function(l,c){for(var u=s[c]||(s[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[Dh]={appendData:o},e[im]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},Eq=e}(),n}(),Aq=function(n,e,t,i){return n[i]},Zkt=((d_={})[ku+"_"+Zf]=function(n,e,t,i){return n[i+e]},d_[ku+"_"+nb]=function(n,e,t,i,r){i+=e;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},d_[Ah]=Aq,d_[Wf]=function(n,e,t,i,r){for(var o=r||[],a=0;a<t.length;a++){var l=n[t[a].name];o[a]=l?l[i]:null}return o},d_[Dh]=Aq,d_);function Iq(n,e){return Zkt[JF(n,e)]}var Pq=function(n,e,t){return n.length},Ykt=((h_={})[ku+"_"+Zf]=function(n,e,t){return Math.max(0,n.length-e)},h_[ku+"_"+nb]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},h_[Ah]=Pq,h_[Wf]=function(n,e,t){var r=n[t[0].name];return r?r.length:0},h_[Dh]=Pq,h_);function kq(n,e){return Ykt[JF(n,e)]}var QF=function(n,e,t){return n[e]},Xkt=((f_={})[ku]=QF,f_[Ah]=function(n,e,t){return n[t]},f_[Wf]=QF,f_[Dh]=function(n,e,t){var i=G0(n);return i instanceof Array?i[e]:i},f_[im]=QF,f_);function Rq(n){return Xkt[n]}function JF(n,e){return n===ku?n+"_"+e:n}function ib(n,e,t){if(n){var i=n.getRawDataItem(e);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=t){var a=n.getDimensionIndex(t),s=r.getDimensionProperty(a);return Rq(o)(i,a,s)}var l=i;return o===Dh&&(l=G0(i)),l}}}var $kt=/\{@(.+?)\}/g,tB=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),a=i.getName(e),s=i.getRawDataItem(e),l=i.getItemVisual(e,"style"),c=l&&l[i.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,h="series"===d,p=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:r,color:c,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,a){t=t||"normal";var s=this.getData(i),l=this.getDataParams(e,i);return a&&(l.value=a.interpolatedValue),null!=r&&Rn(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Ki(o)?(l.status=t,l.dimensionIndex=r,o(l)):ci(o)?X$(o,l).replace($kt,function(d,h){var p=h.length,g=h;"["===g.charAt(0)&&"]"===g.charAt(p-1)&&(g=+g.slice(1,p-1));var y=ib(s,e,g);if(a&&Rn(a.interpolatedValue)){var b=s.getDimensionIndex(g);b>=0&&(y=a.interpolatedValue[b])}return null!=y?y+"":""}):void 0},n.prototype.getRawValue=function(e,t){return ib(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function Lq(n){var e,t;return ar(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function H1(n){return new qkt(n)}var qkt=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var o,t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(o=this._plan(this.context));var d,a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;function u(M){return!(M>=1)&&(M=1),M}(a!==l||s!==c)&&(o="reset"),(this._dirty||"reset"===o)&&(this._dirty=!1,d=this._doReset(i)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,g=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(d||p<g)){var y=this._progress;if(Rn(y))for(var b=0;b<y.length;b++)this._doProgress(y[b],p,g,l,c);else this._doProgress(y,p,g,l,c)}this._dueIndex=g,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){Oq.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:Oq.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),Rn(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),Oq=function(){var n,e,t,i,r,o={reset:function(l,c,u,d){e=l,n=c,t=u,i=d,r=Math.ceil(i/t),o.next=t>1&&i>0?s:a}};return o;function a(){return e<n?e++:null}function s(){var l=e%r*t+Math.ceil(e/r),c=e>=n?null:l<i?l:e;return e++,c}}();function es(n){throw new Error(n)}function hg(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&!sa(n)&&null!=n&&"-"!==n&&(n=+Vf(n)),null==n||""===n?NaN:+n)}typeof console<"u"&&console.warn&&console;var tRt=Wi({number:function(n){return parseFloat(n)},time:function(n){return+Vf(n)},trim:function(n){return ci(n)?Jh(n):n}});function Fq(n){return tRt.get(n)}var Bq={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},eRt=function(){function n(e,t){sa(t)||es(""),this._opFn=Bq[e],this._rvalFloat=qp(t)}return n.prototype.evaluate=function(e){return sa(e)?this._opFn(e,this._rvalFloat):this._opFn(qp(e),this._rvalFloat)},n}(),Vq=function(){function n(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=sa(e)?e:qp(e),r=sa(t)?t:qp(t),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=ci(e),l=ci(t);s&&(i=l?e:0),l&&(r=s?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),nRt=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=qp(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(t=qp(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function iRt(n,e){return"eq"===n||"ne"===n?new nRt("eq"===n,e):xi(Bq,n)?new eRt(n,e):null}var rRt=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return hg(e,t)},n}();function aRt(n){return nB(n.sourceFormat)||es(""),n.data}function sRt(n){var e=n.sourceFormat,t=n.data;if(nB(e)||es(""),e===ku){for(var r=[],o=0,a=t.length;o<a;o++)r.push(t[o].slice());return r}if(e===Ah){for(r=[],o=0,a=t.length;o<a;o++)r.push(Dn({},t[o]));return r}}function lRt(n,e,t){if(null!=t){if(sa(t)||!isNaN(t)&&!xi(e,t))return n[t];if(xi(e,t))return e[t]}}function cRt(n){return fr(n)}var zq=Wi();function hRt(n,e,t,i){e.length||es(""),ar(n)||es("");var a=zq.get(n.type);a||es("");var s=On(e,function(u){return function oRt(n,e){var t=new rRt,i=n.data,r=t.sourceFormat=n.sourceFormat,o=n.startIndex;n.seriesLayoutBy!==Zf&&es("");var s=[],l={},c=n.dimensionsDefine;if(c)Xt(c,function(y,b){var w=y.name,M={index:b,name:w,displayName:y.displayName};s.push(M),null!=w&&(xi(l,w)&&es(""),l[w]=M)});else for(var u=0;u<n.dimensionsDetectedCount;u++)s.push({index:u});var d=Iq(r,Zf);e.__isBuiltIn&&(t.getRawDataItem=function(y){return d(i,o,s,y)},t.getRawData=yi(aRt,null,n)),t.cloneRawData=yi(sRt,null,n);var h=kq(r,Zf);t.count=yi(h,null,i,o,s);var p=Rq(r);t.retrieveValue=function(y,b){var w=d(i,o,s,y);return g(w,b)};var g=t.retrieveValueFromItem=function(y,b){if(null!=y){var w=s[b];if(w)return p(y,b,w.name)}};return t.getDimensionInfo=yi(lRt,null,s,l),t.cloneAllDimensionInfo=yi(cRt,null,s),t}(u,a)});return On(bs(a.transform({upstream:s[0],upstreamList:s,config:fr(n.config)})),function(u,d){ar(u)||es(""),u.data||es(""),nB(wq(u.data))||es("");var g,y=e[0];if(y&&0===d&&!u.dimensions){var b=y.startIndex;b&&(u.data=y.data.slice(0,b).concat(u.data)),g={seriesLayoutBy:Zf,sourceHeader:b,dimensions:y.metaRawOption.dimensions}}else g={seriesLayoutBy:Zf,sourceHeader:0,dimensions:u.dimensions};return qF(u.data,g,null)})}function nB(n){return n===ku||n===Ah}var iB,XD="undefined",fRt=typeof Uint32Array===XD?Array:Uint32Array,pRt=typeof Uint16Array===XD?Array:Uint16Array,Uq=typeof Int32Array===XD?Array:Int32Array,Gq=typeof Float64Array===XD?Array:Float64Array,Hq={float:Gq,int:Uq,ordinal:Array,number:Array,time:Gq};function j1(n){return n>65535?fRt:pRt}function mRt(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function jq(n,e,t,i,r){var o=Hq[t||"float"];if(r){var a=n[e],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];n[e]=l}}else n[e]=new o(i)}var gRt=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Wi()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=iB[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],Mq(r),this._dimensions=On(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(null!=o){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new Hq[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;0===a&&(o[e]=[1/0,-1/0]);for(var l=o[e],c=a;c<s;c++){var u=i[c]=t.parseAndCollect(i[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),c=0;c<o;c++)jq(i,c,r[c].type,l,!0);for(var d=[],h=s;h<l;h++)for(var p=h-s,g=0;g<o;g++){var y=iB.arrayRows.call(this,e[p]||d,r[g].property,p,g);i[g][h]=y;var b=a[g];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=On(a,function(M){return M.property}),u=0;u<s;u++){var d=a[u];l[u]||(l[u]=[1/0,-1/0]),jq(o,u,d.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,l);else for(var h=[],p=e;p<t;p++){h=r.getItem(p,h);for(var g=0;g<s;g++){var y=o[g],b=this._dimValueGetter(h,c[g],p,g);y[p]=b;var w=l[g];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(null==t){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var i=0;if(this._chunks[e])for(var r=0,o=this.count();r<o;r++){var a=this.get(e,r);isNaN(a)||(i+=a)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var o=this._chunks[e],a=[];if(!o)return a;null==i&&(i=1/0);for(var s=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var p=t-o[this.getRawIndex(u)],g=Math.abs(p);g<=i&&((g<s||g===s&&p>=0&&l<0)&&(s=g,l=p,c=0),p===l&&(a[c++]=u))}return a.length=c,a},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=this._count;if((i=t.constructor)===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else{var i;for(e=new(i=j1(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),a=new(j1(i._rawCount))(r),s=[],l=e.length,c=0,u=e[0],d=i._chunks,h=0;h<r;h++){var p=void 0,g=i.getRawIndex(h);if(0===l)p=t(h);else if(1===l)p=t(d[u][g],h);else{for(var b=0;b<l;b++)s[b]=d[e[b]][g];s[b]=h,p=t.apply(null,s)}p&&(a[c++]=g)}return c<r&&(i._indices=a),i._count=c,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Ro(e),o=r.length;if(!o)return this;var a=t.count(),l=new(j1(t._rawCount))(a),c=0,u=r[0],d=e[u][0],h=e[u][1],p=t._chunks,g=!1;if(!t._indices){var y=0;if(1===o){for(var b=p[r[0]],w=0;w<i;w++)((M=b[w])>=d&&M<=h||isNaN(M))&&(l[c++]=y),y++;g=!0}else if(2===o){b=p[r[0]];var E=p[r[1]],k=e[r[1]][0],j=e[r[1]][1];for(w=0;w<i;w++){var H=E[w];((M=b[w])>=d&&M<=h||isNaN(M))&&(H>=k&&H<=j||isNaN(H))&&(l[c++]=y),y++}g=!0}}if(!g)if(1===o)for(w=0;w<a;w++){var rt=t.getRawIndex(w);((M=p[r[0]][rt])>=d&&M<=h||isNaN(M))&&(l[c++]=rt)}else for(w=0;w<a;w++){for(var yt=!0,st=(rt=t.getRawIndex(w),0);st<o;st++){var M,Lt=r[st];((M=p[Lt][rt])<e[Lt][0]||M>e[Lt][1])&&(yt=!1)}yt&&(l[c++]=t.getRawIndex(w))}return c<a&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],a=t.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=[1/0,-1/0];for(var d=0;d<s;d++){for(var h=e.getRawIndex(d),p=0;p<a;p++)l[p]=r[t[p]][h];l[a]=d;var g=i&&i.apply(null,l);if(null!=g)for("object"!=typeof g&&(o[0]=g,g=o),u=0;u<g.length;u++){var y=t[u],b=g[u],w=c[y],M=r[y];M&&(M[h]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}},n.prototype.lttbDownSample=function(e,t){var u,d,h,i=this.clone([e],!0),o=i._chunks[e],a=this.count(),s=0,l=Math.floor(1/t),c=this.getRawIndex(0),p=new(j1(this._rawCount))(Math.min(2*(Math.ceil(a/l)+2),a));p[s++]=c;for(var g=1;g<a-1;g+=l){for(var y=Math.min(g+l,a-1),b=Math.min(g+2*l,a),w=(b+y)/2,M=0,E=y;E<b;E++){var j=o[k=this.getRawIndex(E)];isNaN(j)||(M+=j)}M/=b-y;var H=g,rt=Math.min(g+l,a),yt=g-1,st=o[c];u=-1,h=H;var Lt=-1,kt=0;for(E=H;E<rt;E++){var k;j=o[k=this.getRawIndex(E)],isNaN(j)?(kt++,Lt<0&&(Lt=k)):(d=Math.abs((yt-w)*(j-st)-(yt-E)*(M-st)))>u&&(u=d,h=k)}kt>0&&kt<rt-H&&(p[s++]=Math.min(Lt,h),h=Math.max(Lt,h)),p[s++]=h,c=h}return p[s++]=this.getRawIndex(a-1),i._count=s,i._indices=p,i.getRawIndex=this._getRawIdx,i},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/t),c=a[e],u=this.count(),d=o._rawExtent[e]=[1/0,-1/0],h=new(j1(this._rawCount))(Math.ceil(u/l)),p=0,g=0;g<u;g+=l){l>u-g&&(s.length=l=u-g);for(var y=0;y<l;y++){var b=this.getRawIndex(g+y);s[y]=c[b]}var w=i(s),M=this.getRawIndex(Math.min(g+r(s,w)||0,u-1));c[M]=w,w<d[0]&&(d[0]=w),w>d[1]&&(d[1]=w),h[p++]=M}return o._count=p,o._indices=h,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][s],o);break;case 2:t(r[e[0]][s],r[e[1]][s],o);break;default:for(var l=0,c=[];l<i;l++)c[l]=r[e[l]][s];c[l]=o,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var a,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(a=this._extent[e])return a.slice();for(var s=(a=i)[0],l=a[1],c=0;c<r;c++){var d=t[this.getRawIndex(c)];d<s&&(s=d),d>l&&(l=d)}return this._extent[e]=a=[s,l],a},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i=new n,r=this._chunks,o=e&&Rf(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?mRt(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=fr(this._extent),e._rawExtent=fr(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return hg(t[o],this._dimensions[o])}iB={arrayRows:e,objectRows:function(t,i,r,o){return hg(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var a=t&&(null==t.value?t:t.value);return hg(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}();const rB=gRt;var Wq=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var r,o,e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length;if($D(e)){var a=e,s=void 0,l=void 0,c=void 0;if(i){var u=t[0];u.prepareSource(),s=(c=u.getSource()).data,l=c.sourceFormat,o=[u._getVersionSign()]}else l=Zd(s=a.get("data",!0))?im:Dh,o=[];var d=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},p=qr(d.seriesLayoutBy,h.seriesLayoutBy)||null,g=qr(d.sourceHeader,h.sourceHeader),y=qr(d.dimensions,h.dimensions);r=p!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||y?[qF(s,{seriesLayoutBy:p,sourceHeader:g,dimensions:y},l)]:[]}else{var w=e;if(i){var M=this._applyTransform(t);r=M.sourceList,o=M.upstreamSignList}else r=[qF(w.get("source",!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(r,o)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);null!=r&&1!==e.length&&Yq("");var a,s=[],l=[];return Xt(e,function(c){c.prepareSource();var u=c.getSource(r||0);null!=r&&!u&&Yq(""),s.push(u),l.push(c._getVersionSign())}),i?a=function dRt(n,e,t){var i=bs(n),r=i.length;r||es("");for(var a=0,s=r;a<s;a++)e=hRt(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s):null!=r&&(a=[Hkt(s[0])]),{sourceList:a,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var o=this._storeList,a=o[0];a||(a=o[0]={});var s=a[i];if(!s){var l=this._getUpstreamSourceManagers()[0];$D(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,i):(s=new rB).initData(new Dq(t,e.length),e),a[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if($D(e)){var t=GF(e);return t?[t.getSourceManager()]:[]}return On(function pkt(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?C1(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},vc).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,i,r,e=this._sourceHost;if($D(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;t=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},n}();function Zq(n){n.option.transform&&GT(n.option.transform)}function $D(n){return"series"===n.mainType}function Yq(n){throw new Error(n)}var Xq="line-height:1";function $q(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+bd(i+"")+"px;color:"+bd(t)+";font-weight:"+bd(r+""),valueStyle:"font-size:"+bd(a+"")+"px;color:"+bd(o)+";font-weight:"+bd(s+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var vRt=[0,10,20,30],_Rt=["","\n","\n\n","\n\n\n"];function Uc(n,e){return e.type=n,e}function oB(n){return"section"===n.type}function qq(n){return oB(n)?yRt:bRt}function Kq(n){if(oB(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return Xt(n.blocks,function(r){var o=Kq(r);o>=e&&(e=o+ +(i&&(!o||oB(r)&&!r.noHeader)))}),e}return 0}function yRt(n,e,t,i){var r=e.noHeader,o=function xRt(n){return{html:vRt[n],richText:_Rt[n]}}(Kq(e)),a=[],s=e.blocks||[];Ju(!s||Rn(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(xi(c,l)){var u=new Vq(c[l],null);s.sort(function(g,y){return u.evaluate(g.sortParam,y.sortParam)})}else"seriesDesc"===l&&s.reverse()}Xt(s,function(g,y){var b=e.valueFormatter,w=qq(g)(b?Dn(Dn({},n),{valueFormatter:b}):n,g,y>0?o.html:0,i);null!=w&&a.push(w)});var d="richText"===n.renderMode?a.join(o.richText):aB(a.join(""),r?t:o.html);if(r)return d;var h=BF(e.header,"ordinal",n.useUTC),p=$q(i,n.renderMode).nameStyle;return"richText"===n.renderMode?Jq(n,h,p)+o.richText+d:aB('<div style="'+p+";"+Xq+';">'+bd(h)+"</div>"+d,t)}function bRt(n,e,t,i){var r=n.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(k){return On(k=Rn(k)?k:[k],function(j,H){return BF(j,Rn(p)?p[H]:p,c)})};if(!o||!a){var d=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),h=o?"":BF(l,"ordinal",c),p=e.valueType,g=a?[]:u(e.value),y=!s||!o,b=!s&&o,w=$q(i,r),M=w.nameStyle,E=w.valueStyle;return"richText"===r?(s?"":d)+(o?"":Jq(n,h,M))+(a?"":function SRt(n,e,t,i,r){var o=[r];return t&&o.push({padding:[0,0,0,i?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Rn(e)?e.join("  "):e,o)}(n,g,y,b,E)):aB((s?"":d)+(o?"":function wRt(n,e,t){return'<span style="'+t+";"+(e?"margin-left:2px":"")+'">'+bd(n)+"</span>"}(h,!s,M))+(a?"":function CRt(n,e,t,i){return'<span style="'+(e?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+i+'">'+On(n=Rn(n)?n:[n],function(a){return bd(a)}).join("&nbsp;&nbsp;")+"</span>"}(g,y,b,E)),t)}}function Qq(n,e,t,i,r,o){if(n)return qq(n)({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,o)}function aB(n,e){return'<div style="margin: '+e+"px 0 0;"+Xq+';">'+n+'<div style="clear:both"></div></div>'}function Jq(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function tK(n,e){return l_(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function eK(n,e){return n.get("padding")??("richText"===e?[8,10]:10)}var sB=function(){function n(){this.richTextStyles={},this._nextStyleNameId=hX()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r="richText"===i?this._generateStyleName():null,o=function skt(n,e){var t=ci(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+bd(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+bd(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:i,markerId:r});return ci(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};Rn(t)?Xt(t,function(o){return Dn(i,o)}):Dn(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function nK(n){var u,d,h,p,e=n.series,t=n.dataIndex,i=n.multipleSeries,r=e.getData(),o=r.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(t),l=Rn(s),c=tK(e,t);if(a>1||l&&!a){var g=function MRt(n,e,t,i,r){var o=e.getData(),a=Rf(n,function(d,h,p){var g=o.getDimensionInfo(p);return d||g&&!1!==g.tooltip&&null!=g.displayName},!1),s=[],l=[],c=[];function u(d,h){var p=o.getDimensionInfo(h);!p||!1===p.otherDims.tooltip||(a?c.push(Uc("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return i.length?Xt(i,function(d){u(ib(o,t,d),d)}):Xt(n,u),{inlineValues:s,inlineValueTypes:l,blocks:c}}(s,e,t,o,c);u=g.inlineValues,d=g.inlineValueTypes,h=g.blocks,p=g.inlineValues[0]}else if(a){var y=r.getDimensionInfo(o[0]);p=u=ib(r,t,o[0]),d=y.type}else p=u=l?s[0]:s;var b=qN(e),w=b&&e.name||"",M=r.getName(t),E=i?w:M;return Uc("section",{header:w,noHeader:i||!b,sortParam:p,blocks:[Uc("nameValue",{markerType:"item",markerColor:c,name:E,noName:!Jh(E),value:u,valueType:d})].concat(h||[])})}var fg=Ko();function qD(n,e){return n.getName(e)||n.getId(e)}var KD="__universalTransitionEnabled",QD=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return mn(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=H1({count:TRt,reset:DRt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(fg(this).sourceManager=new Wq(this)).prepareSource();var a=this.getInitialData(t,r);rK(a,this),this.dataTask.context.data=a,fg(this).dataBeforeProcessed=a,iK(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=F1(this),o=r?J0(t):{},a=this.subType;ca.hasClass(a)&&(a+="Series"),$r(t,i.getTheme().get(this.subType)),$r(t,this.getDefaultOption()),jv(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&dg(t,o,r)},e.prototype.mergeOption=function(t,i){t=$r(this.option,t,!0),this.fillDataTextStyle(t.data);var r=F1(this);r&&dg(this.option,t,r);var o=fg(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(t,i);rK(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,fg(this).dataBeforeProcessed=a,iK(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!Zd(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&jv(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=lB(this);if(i){var r=i.context.data;return null==t?r:r.getLinkedData(t)}return fg(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=lB(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}fg(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Wi(t)},e.prototype.getSourceManager=function(){return fg(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return fg(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return nK({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(aa.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,a=jF.prototype.getColorFromPalette.call(this,t,i,r);return a||(a=o.getColorFromPalette(t,i,r)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if("series"===o||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=qD(a,t[s]);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Ro(t),r=[],o=0;o<i.length;o++){var a=t[i[o]];a>=0&&r.push(a)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return("all"===r||r[qD(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[KD])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(s&&l)if("series"===s)a.selectedMap="all";else if("multiple"===s){ar(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var d=i[u];c[h=qD(t,d)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(d)}}else if("single"===s||!0===s){var p=i[l-1],h=qD(t,p);a.selectedMap=((r={})[h]=!0,r),this._selectedDataIndicesMap=((o={})[h]=t.getRawIndex(p),o)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return ca.registerClass(t)},e.protoInitialize=((t=e.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),e;var t}(ca);function iK(n){var e=n.name;qN(n)||(n.name=function ERt(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return Xt(t,function(r){var o=e.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}(n)||e)}function TRt(n){return n.model.getRawData().count()}function DRt(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),ARt}function ARt(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function rK(n,e){Xt(HT(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Nr(IRt,e))})}function IRt(n,e){var t=lB(n);return t&&t.setOutputEnd((e||this).count()),e}function lB(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}gc(QD,tB),gc(QD,jF),SX(QD,ca);const pl=QD;var cB=function(){function n(){this.group=new br,this.uid=$0("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();JN(cB),bD(cB);const Il=cB;function ob(){var n=Ko();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,a=t.large=!(!i||!i.large),s=t.progressiveRender=!(!i||!i.progressiveRender);return(r!==a||o!==s)&&"reset"}}var ab=jf.CMD,PRt=[[],[],[]],oK=Math.sqrt,kRt=Math.atan2;function aK(n,e){if(e){var r,o,a,s,l,c,t=n.data,i=n.len(),u=ab.M,d=ab.C,h=ab.L,p=ab.R,g=ab.A,y=ab.Q;for(a=0,s=0;a<i;){switch(r=t[a++],s=a,o=0,r){case u:case h:o=1;break;case d:o=3;break;case y:o=2;break;case g:var b=e[4],w=e[5],M=oK(e[0]*e[0]+e[1]*e[1]),E=oK(e[2]*e[2]+e[3]*e[3]),k=kRt(-e[1]/E,e[0]/M);t[a]*=M,t[a++]+=b,t[a]*=E,t[a++]+=w,t[a++]*=M,t[a++]*=E,t[a++]+=k,t[a++]+=k,s=a+=2;break;case p:c[0]=t[a++],c[1]=t[a++],mu(c,c,e),t[s++]=c[0],t[s++]=c[1],c[0]+=t[a++],c[1]+=t[a++],mu(c,c,e),t[s++]=c[0],t[s++]=c[1]}for(l=0;l<o;l++){var j=PRt[l];j[0]=t[a++],j[1]=t[a++],mu(j,j,e),t[s++]=j[0],t[s++]=j[1]}}n.increaseVersion()}}var uB=Math.sqrt,JD=Math.sin,tA=Math.cos,W1=Math.PI;function sK(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function dB(n,e){return(n[0]*e[0]+n[1]*e[1])/(sK(n)*sK(e))}function lK(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(dB(n,e))}function cK(n,e,t,i,r,o,a,s,l,c,u){var d=l*(W1/180),h=tA(d)*(n-t)/2+JD(d)*(e-i)/2,p=-1*JD(d)*(n-t)/2+tA(d)*(e-i)/2,g=h*h/(a*a)+p*p/(s*s);g>1&&(a*=uB(g),s*=uB(g));var y=(r===o?-1:1)*uB((a*a*(s*s)-a*a*(p*p)-s*s*(h*h))/(a*a*(p*p)+s*s*(h*h)))||0,b=y*a*p/s,w=y*-s*h/a,M=(n+t)/2+tA(d)*b-JD(d)*w,E=(e+i)/2+JD(d)*b+tA(d)*w,k=lK([1,0],[(h-b)/a,(p-w)/s]),j=[(h-b)/a,(p-w)/s],H=[(-1*h-b)/a,(-1*p-w)/s],rt=lK(j,H);if(dB(j,H)<=-1&&(rt=W1),dB(j,H)>=1&&(rt=0),rt<0){var yt=Math.round(rt/W1*1e6)/1e6;rt=2*W1+yt%2*W1}u.addData(c,M,E,a,s,k,rt,d,o)}var RRt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,LRt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,uK=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tl(e,n),e.prototype.applyTransform=function(t){},e}(wo);function dK(n){return null!=n.setData}function hK(n,e){var t=function ORt(n){var e=new jf;if(!n)return e;var a,t=0,i=0,r=t,o=i,s=jf.CMD,l=n.match(RRt);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),h=void 0,p=u.match(LRt)||[],g=p.length,y=0;y<g;y++)p[y]=parseFloat(p[y]);for(var b=0;b<g;){var w=void 0,M=void 0,E=void 0,k=void 0,j=void 0,H=void 0,rt=void 0,yt=t,st=i,Lt=void 0,kt=void 0;switch(d){case"l":t+=p[b++],i+=p[b++],e.addData(h=s.L,t,i);break;case"L":t=p[b++],i=p[b++],e.addData(h=s.L,t,i);break;case"m":t+=p[b++],i+=p[b++],e.addData(h=s.M,t,i),r=t,o=i,d="l";break;case"M":t=p[b++],i=p[b++],e.addData(h=s.M,t,i),r=t,o=i,d="L";break;case"h":t+=p[b++],e.addData(h=s.L,t,i);break;case"H":t=p[b++],e.addData(h=s.L,t,i);break;case"v":i+=p[b++],e.addData(h=s.L,t,i);break;case"V":i=p[b++],e.addData(h=s.L,t,i);break;case"C":e.addData(h=s.C,p[b++],p[b++],p[b++],p[b++],p[b++],p[b++]),t=p[b-2],i=p[b-1];break;case"c":e.addData(h=s.C,p[b++]+t,p[b++]+i,p[b++]+t,p[b++]+i,p[b++]+t,p[b++]+i),t+=p[b-2],i+=p[b-1];break;case"S":w=t,M=i,Lt=e.len(),kt=e.data,a===s.C&&(w+=t-kt[Lt-4],M+=i-kt[Lt-3]),yt=p[b++],st=p[b++],t=p[b++],i=p[b++],e.addData(h=s.C,w,M,yt,st,t,i);break;case"s":w=t,M=i,Lt=e.len(),kt=e.data,a===s.C&&(w+=t-kt[Lt-4],M+=i-kt[Lt-3]),yt=t+p[b++],st=i+p[b++],t+=p[b++],i+=p[b++],e.addData(h=s.C,w,M,yt,st,t,i);break;case"Q":yt=p[b++],st=p[b++],t=p[b++],i=p[b++],e.addData(h=s.Q,yt,st,t,i);break;case"q":yt=p[b++]+t,st=p[b++]+i,t+=p[b++],i+=p[b++],e.addData(h=s.Q,yt,st,t,i);break;case"T":w=t,M=i,Lt=e.len(),kt=e.data,a===s.Q&&(w+=t-kt[Lt-4],M+=i-kt[Lt-3]),t=p[b++],i=p[b++],e.addData(h=s.Q,w,M,t,i);break;case"t":w=t,M=i,Lt=e.len(),kt=e.data,a===s.Q&&(w+=t-kt[Lt-4],M+=i-kt[Lt-3]),t+=p[b++],i+=p[b++],e.addData(h=s.Q,w,M,t,i);break;case"A":E=p[b++],k=p[b++],j=p[b++],H=p[b++],rt=p[b++],cK(yt=t,st=i,t=p[b++],i=p[b++],H,rt,E,k,j,h=s.A,e);break;case"a":E=p[b++],k=p[b++],j=p[b++],H=p[b++],rt=p[b++],cK(yt=t,st=i,t+=p[b++],i+=p[b++],H,rt,E,k,j,h=s.A,e)}}("z"===d||"Z"===d)&&(e.addData(h=s.Z),t=r,i=o),a=h}return e.toStatic(),e}(n),i=Dn({},e);return i.buildPath=function(r){var o;dK(r)?(r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1)):t.rebuildPath(o=r,1)},i.applyTransform=function(r){aK(t,r),this.dirtyShape()},i}function fK(n,e){return new uK(hK(n,e))}function hB(n,e){e=e||{};var t=new wo;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?aK(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var BRt=function n(){this.cx=0,this.cy=0,this.r=0},pK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new BRt},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(wo);pK.prototype.type="circle";const Yf=pK;var VRt=function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},mK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new VRt},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,c=s*r,u=l*r;t.moveTo(o-s,a),t.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),t.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),t.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),t.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),t.closePath()},e}(wo);mK.prototype.type="ellipse";const fB=mK;var gK=Math.PI,pB=2*gK,p_=Math.sin,sb=Math.cos,zRt=Math.acos,Lu=Math.atan2,vK=Math.abs,Z1=Math.sqrt,Y1=Math.max,Xf=Math.min,sf=1e-4;function eA(n,e,t,i,r,o,a){var s=n-t,l=e-i,c=(a?o:-o)/Z1(s*s+l*l),u=c*l,d=-c*s,h=n+u,p=e+d,g=t+u,y=i+d,b=(h+g)/2,w=(p+y)/2,M=g-h,E=y-p,k=M*M+E*E,j=r-o,H=h*y-g*p,rt=(E<0?-1:1)*Z1(Y1(0,j*j*k-H*H)),yt=(H*E-M*rt)/k,st=(-H*M-E*rt)/k,Lt=(H*E+M*rt)/k,kt=(-H*M+E*rt)/k,te=yt-b,ne=st-w,de=Lt-b,Te=kt-w;return te*te+ne*ne>de*de+Te*Te&&(yt=Lt,st=kt),{cx:yt,cy:st,x0:-u,y0:-d,x1:yt*(r/j-1),y1:st*(r/j-1)}}var jRt=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},_K=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new jRt},e.prototype.buildPath=function(t,i){!function HRt(n,e){var t,i=Y1(e.r,0),r=Y1(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var l=e.startAngle,c=e.endAngle;if(!isNaN(l)&&!isNaN(c)){var u=e.cx,d=e.cy,h=!!e.clockwise,p=vK(c-l),g=p>pB&&p%pB;if(g>sf&&(p=g),i>sf)if(p>pB-sf)n.moveTo(u+i*sb(l),d+i*p_(l)),n.arc(u,d,i,l,c,!h),r>sf&&(n.moveTo(u+r*sb(c),d+r*p_(c)),n.arc(u,d,r,c,l,h));else{var y=void 0,b=void 0,w=void 0,M=void 0,E=void 0,k=void 0,j=void 0,H=void 0,rt=void 0,yt=void 0,st=void 0,Lt=void 0,kt=void 0,te=void 0,ne=void 0,de=void 0,Te=i*sb(l),be=i*p_(l),Ve=r*sb(c),Fe=r*p_(c),Ke=p>sf;if(Ke){var In=e.cornerRadius;In&&(t=function GRt(n){var e;if(Rn(n)){var t=n.length;if(!t)return n;e=1===t?[n[0],n[0],0,0]:2===t?[n[0],n[0],n[1],n[1]]:3===t?n.concat(n[2]):n}else e=[n,n,n,n];return e}(In),y=t[0],b=t[1],w=t[2],M=t[3]);var Nn=vK(i-r)/2;if(E=Xf(Nn,w),k=Xf(Nn,M),j=Xf(Nn,y),H=Xf(Nn,b),st=rt=Y1(E,k),Lt=yt=Y1(j,H),(rt>sf||yt>sf)&&(kt=i*sb(c),te=i*p_(c),ne=r*sb(l),de=r*p_(l),p<gK)){var qn=function URt(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=d*l-u*c;if(!(h*h<sf))return[n+(h=(u*(e-o)-d*(n-r))/h)*l,e+h*c]}(Te,be,ne,de,kt,te,Ve,Fe);if(qn){var Kn=Te-qn[0],Gn=be-qn[1],Ui=kt-qn[0],to=te-qn[1],Gi=1/p_(zRt((Kn*Ui+Gn*to)/(Z1(Kn*Kn+Gn*Gn)*Z1(Ui*Ui+to*to)))/2),ji=Z1(qn[0]*qn[0]+qn[1]*qn[1]);st=Xf(rt,(i-ji)/(Gi+1)),Lt=Xf(yt,(r-ji)/(Gi-1))}}}if(Ke)if(st>sf){var cr=Xf(w,st),Sr=Xf(M,st),Mi=eA(ne,de,Te,be,i,cr,h),zr=eA(kt,te,Ve,Fe,i,Sr,h);n.moveTo(u+Mi.cx+Mi.x0,d+Mi.cy+Mi.y0),st<rt&&cr===Sr?n.arc(u+Mi.cx,d+Mi.cy,st,Lu(Mi.y0,Mi.x0),Lu(zr.y0,zr.x0),!h):(cr>0&&n.arc(u+Mi.cx,d+Mi.cy,cr,Lu(Mi.y0,Mi.x0),Lu(Mi.y1,Mi.x1),!h),n.arc(u,d,i,Lu(Mi.cy+Mi.y1,Mi.cx+Mi.x1),Lu(zr.cy+zr.y1,zr.cx+zr.x1),!h),Sr>0&&n.arc(u+zr.cx,d+zr.cy,Sr,Lu(zr.y1,zr.x1),Lu(zr.y0,zr.x0),!h))}else n.moveTo(u+Te,d+be),n.arc(u,d,i,l,c,!h);else n.moveTo(u+Te,d+be);r>sf&&Ke?Lt>sf?(cr=Xf(y,Lt),Mi=eA(Ve,Fe,kt,te,r,-(Sr=Xf(b,Lt)),h),zr=eA(Te,be,ne,de,r,-cr,h),n.lineTo(u+Mi.cx+Mi.x0,d+Mi.cy+Mi.y0),Lt<yt&&cr===Sr?n.arc(u+Mi.cx,d+Mi.cy,Lt,Lu(Mi.y0,Mi.x0),Lu(zr.y0,zr.x0),!h):(Sr>0&&n.arc(u+Mi.cx,d+Mi.cy,Sr,Lu(Mi.y0,Mi.x0),Lu(Mi.y1,Mi.x1),!h),n.arc(u,d,r,Lu(Mi.cy+Mi.y1,Mi.cx+Mi.x1),Lu(zr.cy+zr.y1,zr.cx+zr.x1),h),cr>0&&n.arc(u+zr.cx,d+zr.cy,cr,Lu(zr.y1,zr.x1),Lu(zr.y0,zr.x0),!h))):(n.lineTo(u+Ve,d+Fe),n.arc(u,d,r,c,l,h)):n.lineTo(u+Ve,d+Fe)}else n.moveTo(u,d);n.closePath()}}}(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(wo);_K.prototype.type="sector";const Sd=_K;var WRt=function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0},yK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new WRt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,a,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,a,!0)},e}(wo);yK.prototype.type="ring";const nA=yK;function bK(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function ZRt(n,e,t,i){var l,c,u,d,r=[],o=[],a=[],s=[];if(i){u=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,p=n.length;h<p;h++)Qm(u,u,n[h]),Jm(d,d,n[h]);Qm(u,u,i[0]),Jm(d,d,i[1])}for(h=0,p=n.length;h<p;h++){var g=n[h];if(t)l=n[h?h-1:p-1],c=n[(h+1)%p];else{if(0===h||h===p-1){r.push(Wp(n[h]));continue}l=n[h-1],c=n[h+1]}Rv(o,c,l),YT(o,o,e);var y=eN(g,l),b=eN(g,c),w=y+b;0!==w&&(y/=w,b/=w),YT(a,o,-y),YT(s,o,b);var M=nY([],g,a),E=nY([],g,s);i&&(Jm(M,M,u),Qm(M,M,d),Jm(E,E,u),Qm(E,E,d)),r.push(M),r.push(E)}return t&&r.push(r.shift()),r}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(t?a:a-1);s++){var l=o[2*s],c=o[2*s+1],u=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(r[0][0],r[0][1]),s=1;for(var d=r.length;s<d;s++)n.lineTo(r[s][0],r[s][1])}t&&n.closePath()}}var YRt=function n(){this.points=null,this.smooth=0,this.smoothConstraint=null},xK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultShape=function(){return new YRt},e.prototype.buildPath=function(t,i){bK(t,i,!0)},e}(wo);xK.prototype.type="polygon";const Md=xK;var XRt=function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},wK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new XRt},e.prototype.buildPath=function(t,i){bK(t,i,!1)},e}(wo);wK.prototype.type="polyline";const Ed=wK;var $Rt={},qRt=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},CK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qRt},e.prototype.buildPath=function(t,i){var r,o,a,s;if(this.subPixelOptimize){var l=zX($Rt,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var c=i.percent;0!==c&&(t.moveTo(r,o),c<1&&(a=r*(1-c)+a*c,s=o*(1-c)+s*c),t.lineTo(a,s))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(wo);CK.prototype.type="line";const eu=CK;var Td=[],KRt=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function SK(n,e,t){return null!=n.cpx2||null!=n.cpy2?[(t?SY:Vc)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?SY:Vc)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?vN:tu)(n.x1,n.cpx1,n.x2,e),(t?vN:tu)(n.y1,n.cpy1,n.y2,e)]}var MK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new KRt},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,c=i.cpy1,u=i.cpx2,d=i.cpy2,h=i.percent;0!==h&&(t.moveTo(r,o),null==u||null==d?(h<1&&(c1(r,l,a,h,Td),l=Td[1],a=Td[2],c1(o,c,s,h,Td),c=Td[1],s=Td[2]),t.quadraticCurveTo(l,c,a,s)):(h<1&&(ng(r,l,u,a,h,Td),l=Td[1],u=Td[2],a=Td[3],ng(o,c,d,s,h,Td),c=Td[1],d=Td[2],s=Td[3]),t.bezierCurveTo(l,c,u,d,a,s)))},e.prototype.pointAt=function(t){return SK(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=SK(this.shape,t,!0);return k0(i,i)},e}(wo);MK.prototype.type="bezier-curve";const iA=MK;var QRt=function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},EK=function(n){function e(t){return n.call(this,t)||this}return tl(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new QRt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,c=i.clockwise,u=Math.cos(s),d=Math.sin(s);t.moveTo(u*a+r,d*a+o),t.arc(r,o,a,s,l,!c)},e}(wo);EK.prototype.type="arc";const mB=EK;var JRt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return tl(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),wo.prototype.getBoundingRect.call(this)},e}(wo);const gB=JRt;var tLt=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const TK=tLt;var eLt=function(n){function e(t,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=t??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return tl(e,n),e}(TK);const $f=eLt;var nLt=function(n){function e(t,i,r,o,a){var s=n.call(this,o)||this;return s.x=t??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return tl(e,n),e}(TK);const DK=nLt;var m_=[0,0],g_=[0,0],rA=new Wr,oA=new Wr,iLt=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Wr;for(i=0;i<2;i++)this._axes[i]=new Wr;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),t)for(var c=0;c<4;c++)i[c].transform(t);for(Wr.sub(r[0],i[1],i[0]),Wr.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return rA.set(1/0,1/0),oA.set(0,0),!this._intersectCheckOneSide(this,e,rA,oA,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,rA,oA,r,-1)&&(i=!1,r)||r||Wr.copy(t,i?rA:oA),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,m_),this._getProjMinMaxOnAxis(l,t._corners,g_),m_[1]<g_[0]||m_[0]>g_[1]){if(s=!1,o)return s;var u=Math.abs(g_[0]-m_[1]),d=Math.abs(m_[0]-g_[1]);Math.min(u,d)>r.len()&&Wr.scale(r,c,u<d?-u*a:d*a)}else i&&(u=Math.abs(g_[0]-m_[1]),d=Math.abs(m_[0]-g_[1]),Math.min(u,d)<i.len()&&Wr.scale(i,c,u<d?u*a:-d*a))}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,a=t[0].dot(r)+o[e],s=a,l=a,c=1;c<t.length;c++){var u=t[c].dot(r)+o[e];s=Math.min(u,s),l=Math.max(u,l)}i[0]=s,i[1]=l},n}();const aA=iLt;var rLt=[],oLt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return tl(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Kr(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(rLt)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,i))return!0;return!1},e}(Mh);const aLt=oLt;var sA=Math.max,lA=Math.min,vB={};function sLt(n){return wo.extend(n)}var lLt=function NRt(n,e){var t=hK(n,e);return function(r){function o(a){var s=r.call(this,a)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return tl(o,r),o}(uK)};function cLt(n,e){return lLt(n,e)}function lf(n,e){vB[n]=e}function _B(n){if(vB.hasOwnProperty(n))return vB[n]}function cA(n,e,t,i){var r=fK(n,e);return t&&("center"===i&&(t=IK(t,r.getBoundingRect())),PK(r,t)),r}function AK(n,e,t){var i=new gu({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){"center"===t&&i.setStyle(IK(e,{width:r.width,height:r.height}))}});return i}function IK(n,e){var r,t=e.width/e.height,i=n.height*t;return r=i<=n.width?n.height:(i=n.width)/t,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-r/2,width:i,height:r}}var Ph=function FRt(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push(n[r].getUpdatedPathProxy(!0));var a=new wo(e);return a.createPathProxy(),a.buildPath=function(s){if(dK(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function PK(n,e){if(n.applyTransform){var i=n.getBoundingRect().calculateTransform(e);n.applyTransform(i)}}function lb(n,e){return zX(n,n,{lineWidth:e}),n}function uLt(n){return UX(n.shape,n.shape,n.style),n}var uA=e_;function v_(n,e){for(var t=$T([]);n&&n!==e;)Yp(t,n.getLocalTransform(),t),n=n.parent;return t}function cf(n,e,t){return e&&!Pu(e)&&(e=$p.getLocalTransform(e)),t&&(e=L0([],e)),mu([],n,e)}function dA(n,e,t){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=cf(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function kK(n){return!n.isGroup}function X1(n,e,t){if(n&&e){var o=function i(a){var s={};return a.traverse(function(l){kK(l)&&l.anid&&(s[l.anid]=l)}),s}(n);e.traverse(function(a){if(kK(a)&&a.anid){var s=o[a.anid];if(s){var l=r(a);a.attr(r(s)),fa(a,l,t,kr(a).dataIndex)}}})}function r(a){var s={x:a.x,y:a.y,rotation:a.rotation};return function dLt(n){return null!=n.shape}(a)&&(s.shape=Dn({},a.shape)),s}}function RK(n,e){return On(n,function(t){var i=t[0];i=sA(i,e.x),i=lA(i,e.x+e.width);var r=t[1];return r=sA(r,e.y),[i,r=lA(r,e.y+e.height)]})}function hLt(n,e){var t=sA(n.x,e.x),i=lA(n.x+n.width,e.x+e.width),r=sA(n.y,e.y),o=lA(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function $1(n,e,t){var i=Dn({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),nr(r,t),new gu(i)):cA(n.replace("path://",""),i,t,"center")}function q1(n,e,t,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(LK(n,e,t,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function LK(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=yB(u,d,l,c);if(function fLt(n){return n<=1e-6&&n>=-1e-6}(h))return!1;var p=n-r,g=e-o,y=yB(p,g,l,c)/h;if(y<0||y>1)return!1;var b=yB(p,g,u,d)/h;return!(b<0||b>1)}function yB(n,e,t,i){return n*i-t*e}function cb(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=ci(e)?{formatter:e}:e,o=t.mainType,a=t.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&Xt(Ro(l),function(u){xi(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=kr(n.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:nr({content:i,formatterParams:s},r)}}function OK(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function pg(n,e){if(n)if(Rn(n))for(var t=0;t<n.length;t++)OK(n[t],e);else OK(n,e)}lf("circle",Yf),lf("ellipse",fB),lf("sector",Sd),lf("ring",nA),lf("polygon",Md),lf("polyline",Ed),lf("rect",Qo),lf("line",eu),lf("bezierCurve",iA),lf("arc",mB);var NK=Ko(),pLt=ob(),bB=function(){function n(){this.group=new br,this.uid=$0("viewChart"),this.renderTask=H1({plan:mLt,reset:gLt}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&BK(o,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&BK(o,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){pg(this.group,e)},n.markUpdateMethod=function(e,t){NK(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function FK(n,e,t){n&&P1(n)&&("emphasis"===e?em:nm)(n,t)}function BK(n,e,t){var i=Wv(n,e),r=e&&null!=e.highlightKey?function FPt(n){var e=n$[n];return null==e&&e$<=32&&(e=n$[n]=e$++),e}(e.highlightKey):null;null!=i?Xt(bs(i),function(o){FK(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){FK(o,t,r)})}function mLt(n){return pLt(n.model)}function gLt(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,a=n.view,s=r&&NK(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,t,i,r),vLt[l]}JN(bB),bD(bB);var vLt={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const Zs=bB;var hA="\0__throttleOriginMethod",VK="\0__throttleRate",zK="\0__throttleType";function xB(n,e,t){var i,s,l,c,u,r=0,o=0,a=null;function d(){o=(new Date).getTime(),a=null,n.apply(l,c||[])}e=e||0;var h=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];i=(new Date).getTime(),l=this,c=p;var y=u||e,b=u||t;u=null,s=i-(b?r:o)-y,clearTimeout(a),b?a=setTimeout(d,y):s>=0?d():a=setTimeout(d,-s),r=i};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(p){u=p},h}function ub(n,e,t,i){var r=n[e];if(r){var o=r[hA]||r;if(r[VK]!==t||r[zK]!==i){if(null==t||!i)return n[e]=o;(r=n[e]=xB(o,t,"debounce"===i))[hA]=o,r[zK]=i,r[VK]=t}return r}}function K1(n,e){var t=n[e];t&&t[hA]&&(t.clear&&t.clear(),n[e]=t[hA])}var UK=Ko(),GK={itemStyle:Yv(P$,!0),lineStyle:Yv(I$,!0)},_Lt={lineStyle:"stroke",itemStyle:"fill"};function HK(n,e){return n.visualStyleMapper||GK[e]||(console.warn("Unknown style type '"+e+"'."),GK.itemStyle)}function jK(n,e){return n.visualDrawType||_Lt[e]||(console.warn("Unknown style type '"+e+"'."),"fill")}var yLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),a=HK(n,i)(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=jK(n,i),c=a[l],u=Ki(c)?c:null;if(!a[l]||u||"auto"===a.fill||"auto"===a.stroke){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());a[l]||(a[l]=h,t.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||Ki(a.fill)?h:a.fill,a.stroke="auto"===a.stroke||Ki(a.stroke)?h:a.stroke}if(t.setVisual("style",a),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,g){var y=n.getDataParams(g),b=Dn({},a);b[l]=u(y),p.setItemVisual(g,"style",b)}}}},Q1=new Ws,bLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=HK(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){Q1.option=l[i];var c=r(Q1);Dn(a.ensureUniqueItemVisual(s,"style"),c),Q1.option.decal&&(a.setItemVisual(s,"decal",Q1.option.decal),Q1.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},xLt={performRawSeries:!0,overallReset:function(n){var e=Wi();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||e.set(r,o={}),UK(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),a=UK(t).scope,l=jK(t,t.visualStyleAccessPath||"itemStyle");o.each(function(c){var u=o.getRawIndex(c);r[u]=c}),i.each(function(c){var u=r[c];if(o.getItemVisual(u,"colorFromPalette")){var h=o.ensureUniqueItemVisual(u,"style"),p=i.getName(c)||c+"",g=i.count();h[l]=t.getColorFromPalette(p,a,g)}})}})}},fA=Math.PI,CLt=function(){function n(e,t,i,r){this._stageTaskMap=Wi(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,a=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,s=r&&r.modDataCount;return{step:a,modBy:null!=s?Math.ceil(s/a):null,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),o=e.getData().count(),a=i.progressiveEnabled&&t.incrementalPrepareRender&&o>=i.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l="mod"===e.get("progressiveChunkMode")?o:null;e.pipelineContext=i.context={progressiveRender:a,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=Wi();e.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;Xt(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{});Ju(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=i,a.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,a=this;function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}Xt(e,function(l,c){if(!r.visualType||r.visualType===l.visualType){var u=a._stageTaskMap.get(l.uid),d=u.seriesTaskMap,h=u.overallTask;if(h){var p,g=h.agentStubMap;g.each(function(b){s(r,b)&&(b.dirty(),p=!0)}),p&&h.dirty(),a.updatePayload(h,i);var y=a.getPerformArgs(h,r.block);g.each(function(b){b.perform(y)}),h.perform(y)&&(o=!0)}else d&&d.each(function(b,w){s(r,b)&&b.dirty();var M=a.getPerformArgs(b,r.block);M.skip=!l.performRawSeries&&t.isSeriesFiltered(b.context.model),a.updatePayload(b,i),b.perform(M)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,a=t.seriesTaskMap,s=t.seriesTaskMap=Wi(),l=e.seriesType,c=e.getTargetSeries;function u(d){var h=d.uid,p=s.set(h,a&&a.get(h)||H1({plan:DLt,reset:ALt,count:PLt}));p.context={model:d,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(d,p)}e.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,r).each(u)},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,a=t.overallTask=t.overallTask||H1({reset:SLt});a.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Wi(),c=e.seriesType,u=e.getTargetSeries,d=!0,h=!1;function g(y){var b=y.uid,w=l.set(b,s&&s.get(b)||(h=!0,H1({reset:MLt,onDirty:TLt})));w.context={model:y,overallProgress:d},w.agent=a,w.__block=d,o._pipe(y,w)}Ju(!e.createOnAllSeries,""),c?i.eachRawSeriesByType(c,g):u?u(i,r).each(g):(d=!1,Xt(i.getSeries(),g)),h&&a.dirty()},n.prototype._pipe=function(e,t){var r=this._pipelineMap.get(e.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return Ki(e)&&(e={overallReset:e,seriesType:kLt(e)}),e.uid=$0("stageHandler"),t&&(e.visualType=t),e},n}();function SLt(n){n.overallReset(n.ecModel,n.api,n.payload)}function MLt(n){return n.overallProgress&&ELt}function ELt(){this.agent.dirty(),this.getDownstream().dirty()}function TLt(){this.agent&&this.agent.dirty()}function DLt(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function ALt(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=bs(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?On(e,function(t,i){return WK(i)}):ILt}var ILt=WK(0);function WK(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function PLt(n){return n.data.count()}function kLt(n){pA=null;try{n(J1,ZK)}catch{}return pA}var pA,J1={},ZK={};function YK(n,e){for(var t in e.prototype)n[t]=Kl}YK(J1,fq),YK(ZK,pq),J1.eachSeriesByType=J1.eachRawSeriesByType=function(n){pA=n},J1.eachComponent=function(n){"series"===n.mainType&&n.subType&&(pA=n.subType)};const XK=CLt;var $K=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const RLt={color:$K,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],$K]};var id="#B9B8CE",qK="#100C2A",mA=function(){return{axisLine:{lineStyle:{color:id}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},KK=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],QK={darkMode:!0,color:KK,backgroundColor:qK,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:id}},textStyle:{color:id},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:id}},dataZoom:{borderColor:"#71708A",textStyle:{color:id},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:id}},timeline:{lineStyle:{color:id},label:{color:id},controlStyle:{color:id,borderColor:id}},calendar:{itemStyle:{color:qK},dayLabel:{color:id},monthLabel:{color:id},yearLabel:{color:id}},timeAxis:mA(),logAxis:mA(),valueAxis:mA(),categoryAxis:mA(),line:{symbol:"circle"},graph:{color:KK},gauge:{title:{color:id},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:id},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};QK.categoryAxis.splitLine.show=!1;const LLt=QK;var OLt=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(ci(e)){var o=zf(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Xt(e,function(l,c){for(var u=!1,d=0;d<a.length;d++){var h=a[d],p=c.lastIndexOf(h);if(p>0&&p===c.length-h.length){var g=c.slice(0,p);"data"!==g&&(t.mainType=g,t[h.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(i[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,o));function u(d,h,p,g){return null==d[p]||h[g||p]===d[p]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),wB=["symbol","symbolSize","symbolRotate","symbolOffset"],JK=wB.concat(["symbolKeepAspect"]),NLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<wB.length;a++){var s=wB[a],l=n.get(s);Ki(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(Dn({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var c=Ro(r);return{dataEach:o?function u(d,h){for(var p=n.getRawValue(h),g=n.getDataParams(h),y=0;y<c.length;y++){var b=c[y];d.setItemVisual(h,b,r[b](p,g))}}:null}}}}},FLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function i(r,o){for(var a=r.getItemModel(o),s=0;s<JK.length;s++){var l=JK[s],c=a.getShallow(l,!0);null!=c&&r.setItemVisual(o,l,c)}}:null}}};function CB(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function tC(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function tQ(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function eQ(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}Xt([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,a){r=Dn({},r),a.dispatchAction(Dn(r,{type:i[1],seriesIndex:t(o,r)}))})})}function db(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var d=a.getData(),h=Wv(d,r.fromActionPayload);t.trigger(o,{type:o,seriesId:a.id,name:Rn(h)?d.getName(h[0]):d.getName(h),selected:ci(l)?l:Dn({},l)})}})}function __(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var VLt=Math.round(9*Math.random()),zLt="function"==typeof Object.defineProperty,ULt=function(){function n(){this._id="__ec_inner_"+VLt++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return zLt?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const GLt=ULt;var HLt=wo.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),jLt=wo.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),WLt=wo.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),h=Math.cos(c),p=.6*a,g=.7*a;n.moveTo(t-u,l+s),n.arc(t,l,a,Math.PI-c,2*Math.PI+c),n.bezierCurveTo(t+u-d*p,l+s+h*p,t,i-g,t,i),n.bezierCurveTo(t,i-g,t-u+d*p,l+s+h*p,t-u,l+s),n.closePath()}}),ZLt=wo.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.x,o=e.y,a=e.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-a,o+t),n.lineTo(r,o),n.closePath()}}),XLt={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},gA={};Xt({line:eu,rect:Qo,roundRect:Qo,square:Qo,circle:Yf,diamond:jLt,pin:WLt,arrow:ZLt,triangle:HLt},function(n,e){gA[e]=new n});var $Lt=wo.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=vD(n,e,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if("none"!==i){var r=gA[i];r||(r=gA[i="rect"]),XLt[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function qLt(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function yc(n,e,t,i,r,o,a){var l,s=0===n.indexOf("empty");return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?AK(n.slice(8),new Kr(e,t,i,r),a?"center":"cover"):0===n.indexOf("path://")?cA(n.slice(7),{},new Kr(e,t,i,r),a?"center":"cover"):new $Lt({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=s,l.setColor=qLt,o&&l.setColor(o),l}function eC(n){return Rn(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function hb(n,e){if(null!=n)return Rn(n)||(n=[n,n]),[ni(n[0],e[0])||0,ni(qr(n[1],n[0]),e[1])||0]}function y_(n){return isFinite(n)}function SB(n,e,t){for(var i="radial"===e.type?function QLt(n,e,t){var i=t.width,r=t.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+t.x,s=s*r+t.y,l*=o),a=y_(a)?a:.5,s=y_(s)?s:.5,l=l>=0&&y_(l)?l:.5,n.createRadialGradient(a,s,0,a,s,l)}(n,e,t):function KLt(n,e,t){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*t.width+t.x,r=r*t.width+t.x,o=o*t.height+t.y,a=a*t.height+t.y),i=y_(i)?i:0,r=y_(r)?r:1,o=y_(o)?o:0,a=y_(a)?a:0,n.createLinearGradient(i,o,r,a)}(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function vA(n){return parseInt(n,10)}function fb(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||vA(s[i])||vA(n.style[i]))-(vA(s[o])||0)-(vA(s[a])||0)|0}function MB(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&function tOt(n,e){return n&&"solid"!==n&&e>0?"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:sa(n)?[n]:Rn(n)?n:null:null}(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var r=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&1!==r&&(t=On(t,function(o){return o/r}),i/=r)}return[t,i]}var eOt=new jf(!0);function _A(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function nQ(n){return"string"==typeof n&&"none"!==n}function yA(n){var e=n.fill;return null!=e&&"none"!==e}function iQ(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function rQ(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function EB(n,e,t){var i=eF(e.image,e.__image,t);if(xD(i)){var r=n.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*WT),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var oQ=["shadowBlur","shadowOffsetX","shadowOffsetY"],aQ=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function sQ(n,e,t,i,r){var o=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){Dd(n,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?Xv.opacity:a}(i||e.blend!==t.blend)&&(o||(Dd(n,r),o=!0),n.globalCompositeOperation=e.blend||Xv.blend);for(var s=0;s<oQ.length;s++){var l=oQ[s];(i||e[l]!==t[l])&&(o||(Dd(n,r),o=!0),n[l]=n.dpr*(e[l]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Dd(n,r),o=!0),n.shadowColor=e.shadowColor||Xv.shadowColor),o}function lQ(n,e,t,i,r){var o=nC(e,r.inHover),a=i?null:t&&nC(t,r.inHover)||{};if(o===a)return!1;var s=sQ(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Dd(n,r),s=!0),nQ(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Dd(n,r),s=!0),nQ(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Dd(n,r),s=!0),n.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var c=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(s||(Dd(n,r),s=!0),n.lineWidth=c)}for(var u=0;u<aQ.length;u++){var d=aQ[u],h=d[0];(i||o[h]!==a[h])&&(s||(Dd(n,r),s=!0),n[h]=o[h]||d[1])}return s}function cQ(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}var uQ=1,dQ=2,hQ=3,fQ=4;function Dd(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function nC(n,e){return e&&n.__hoverStyle||n.style}function pQ(n,e){b_(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function b_(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=~Yd,void(e.__isRendered=!1);var o=e.__clipPaths,a=t.prevElClipPaths,s=!1,l=!1;if((!a||function JLt(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}(o,a))&&(a&&a.length&&(Dd(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Dd(n,t),n.save(),function aOt(n,e,t){for(var i=!1,r=0;r<n.length;r++){var o=n[r];i=i||o.isZeroArea(),cQ(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}t.allClipped=i}(o,n,t),s=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=s=!0);var u=e instanceof wo&&e.autoBatch&&function lOt(n){var e=yA(n),t=_A(n);return!(n.lineDash||!(+e^+t)||e&&"string"!=typeof n.fill||t&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(e.style);s||function sOt(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}(r,c.transform)?(Dd(n,t),cQ(n,e)):u||Dd(n,t);var d=nC(e,t.inHover);e instanceof wo?(t.lastDrawType!==uQ&&(l=!0,t.lastDrawType=uQ),lQ(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),function nOt(n,e,t,i){var r,o=_A(t),a=yA(t),s=t.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||eOt,d=e.__dirty;if(!i){var h=t.fill,p=t.stroke,g=a&&!!h.colorStops,y=o&&!!p.colorStops,b=a&&!!h.image,w=o&&!!p.image,M=void 0,E=void 0,k=void 0,j=void 0,H=void 0;(g||y)&&(H=e.getBoundingRect()),g&&(M=d?SB(n,h,H):e.__canvasFillGradient,e.__canvasFillGradient=M),y&&(E=d?SB(n,p,H):e.__canvasStrokeGradient,e.__canvasStrokeGradient=E),b&&(k=d||!e.__canvasFillPattern?EB(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=k),w&&(j=d||!e.__canvasStrokePattern?EB(n,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=k),g?n.fillStyle=M:b&&(k?n.fillStyle=k:a=!1),y?n.strokeStyle=E:w&&(j?n.strokeStyle=j:o=!1)}var yt,st,rt=e.getGlobalScale();u.setScale(rt[0],rt[1],e.segmentIgnoreThreshold),n.setLineDash&&t.lineDash&&(yt=(r=MB(e))[0],st=r[1]);var Lt=!0;(c||d&O0)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),Lt=!1),u.reset(),e.buildPath(u,e.shape,i),u.toStatic(),e.pathUpdated()),Lt&&u.rebuildPath(n,l?s:1),yt&&(n.setLineDash(yt),n.lineDashOffset=st),i||(t.strokeFirst?(o&&rQ(n,t),a&&iQ(n,t)):(a&&iQ(n,t),o&&rQ(n,t))),yt&&n.setLineDash([])}(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof E1?(t.lastDrawType!==hQ&&(l=!0,t.lastDrawType=hQ),lQ(n,e,c,l,t),function rOt(n,e,t){var i,r=t.text;if(null!=r&&(r+=""),r){n.font=t.font||qm,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var o=void 0,a=void 0;n.setLineDash&&t.lineDash&&(o=(i=MB(e))[0],a=i[1]),o&&(n.setLineDash(o),n.lineDashOffset=a),t.strokeFirst?(_A(t)&&n.strokeText(r,t.x,t.y),yA(t)&&n.fillText(r,t.x,t.y)):(yA(t)&&n.fillText(r,t.x,t.y),_A(t)&&n.strokeText(r,t.x,t.y)),o&&n.setLineDash([])}}(n,e,d)):e instanceof gu?(t.lastDrawType!==dQ&&(l=!0,t.lastDrawType=dQ),function oOt(n,e,t,i,r){sQ(n,nC(e,r.inHover),t&&nC(t,r.inHover),i,r)}(n,e,c,l,t),function iOt(n,e,t){var i=e.__image=eF(t.image,e.__image,e,e.onload);if(i&&xD(i)){var r=t.x||0,o=t.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),t.sWidth&&t.sHeight)n.drawImage(i,c=t.sx||0,u=t.sy||0,t.sWidth,t.sHeight,r,o,a,s);else if(t.sx&&t.sy){var c,u;n.drawImage(i,c=t.sx,u=t.sy,a-c,s-u,r,o,a,s)}else n.drawImage(i,r,o,a,s)}}(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==fQ&&(l=!0,t.lastDrawType=fQ),function cOt(n,e,t){var i=e.getDisplayables(),r=e.getTemporalDisplayables();n.save();var a,s,o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(a=e.getCursor(),s=i.length;a<s;a++)(l=i[a]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),b_(n,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l;for(var c=0,u=r.length;c<u;c++){var l;(l=r[c]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),b_(n,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}(n,e,t)),u&&i&&Dd(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var TB=new GLt,mQ=new u1(100),gQ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pb(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;n.dirty&&TB.delete(n);var o=TB.get(n);if(o)return o;var a=nr(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function l(c){for(var u=[t],d=!0,h=0;h<gQ.length;++h){var p=a[gQ[h]];if(null!=p&&!Rn(p)&&!ci(p)&&!sa(p)&&"boolean"!=typeof p){d=!1;break}u.push(p)}var g;if(d){g=u.join(",")+(r?"-svg":"");var y=mQ.get(g);y&&(r?c.svgElement=y:c.image=y)}var yt,b=_Q(a.dashArrayX),w=function uOt(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(sa(n)){var e=Math.ceil(n);return[e,e]}var t=On(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}(a.dashArrayY),M=vQ(a.symbol),E=function dOt(n){return On(n,function(e){return yQ(e)})}(b),k=yQ(w),j=!r&&Qh.createCanvas(),H=r&&{tag:"g",attrs:{},key:"dcl",children:[]},rt=function st(){for(var kt=1,te=0,ne=E.length;te<ne;++te)kt=pX(kt,E[te]);var de=1;for(te=0,ne=M.length;te<ne;++te)de=pX(de,M[te].length);kt*=de;var Te=k*E.length*M.length;return{width:Math.max(1,Math.min(kt,a.maxTileWidth)),height:Math.max(1,Math.min(Te,a.maxTileHeight))}}();j&&(j.width=rt.width*t,j.height=rt.height*t,yt=j.getContext("2d")),function Lt(){yt&&(yt.clearRect(0,0,j.width,j.height),a.backgroundColor&&(yt.fillStyle=a.backgroundColor,yt.fillRect(0,0,j.width,j.height)));for(var kt=0,te=0;te<w.length;++te)kt+=w[te];if(!(kt<=0))for(var ne=-k,de=0,Te=0,be=0;ne<rt.height;){if(de%2==0){for(var Ve=Te/2%M.length,Fe=0,Ke=0,In=0;Fe<2*rt.width;){var Nn=0;for(te=0;te<b[be].length;++te)Nn+=b[be][te];if(Nn<=0)break;if(Ke%2==0){var qn=.5*(1-a.symbolSize);ji(Fe+b[be][Ke]*qn,ne+w[de]*qn,b[be][Ke]*a.symbolSize,w[de]*a.symbolSize,M[Ve][In/2%M[Ve].length])}Fe+=b[be][Ke],++In,++Ke===b[be].length&&(Ke=0)}++be===b.length&&(be=0)}ne+=w[de],++Te,++de===w.length&&(de=0)}function ji(cr,Sr,Mi,zr,el){var Ho=r?1:t,bl=yc(el,cr*Ho,Sr*Ho,Mi*Ho,zr*Ho,a.color,a.symbolKeepAspect);if(r){var kl=i.painter.renderOneToVNode(bl);kl&&H.children.push(kl)}else pQ(yt,bl)}}(),d&&mQ.put(g,j||H),c.image=j,c.svgElement=H,c.svgWidth=rt.width,c.svgHeight=rt.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/t,TB.set(n,s),n.dirty=!1,s}function vQ(n){if(!n||0===n.length)return[["rect"]];if(ci(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!ci(n[t])){e=!1;break}if(e)return vQ([n]);var i=[];for(t=0;t<n.length;++t)ci(n[t])?i.push([n[t]]):i.push(n[t]);return i}function _Q(n){if(!n||0===n.length)return[[0,0]];if(sa(n))return[[e=Math.ceil(n),e]];for(var t=!0,i=0;i<n.length;++i)if(!sa(n[i])){t=!1;break}if(t)return _Q([n]);var r=[];for(i=0;i<n.length;++i)if(sa(n[i])){var e=Math.ceil(n[i]);r.push([e,e])}else e=On(n[i],function(s){return Math.ceil(s)}),r.push(e.length%2==1?e.concat(e):e);return r}function yQ(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}const uf=new yh;var bQ={},bOt=2e3,wQ=3e3,TOt={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:wQ,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Ou="__flagInMainProcess",Ad="__pendingUpdate",AB="__needsUpdateStatus",SQ=/^[a-zA-Z0-9_]+$/,IB="__connectUpdateStatus";function EQ(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return DQ(this,n,e)}}function TQ(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DQ(this,n,e)}}function DQ(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),yh.prototype[e].apply(n,t)}var AQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e}(yh),IQ=AQ.prototype;IQ.on=TQ("on"),IQ.off=TQ("off");var mb,PB,xA,mg,kB,RB,LB,iC,rC,PQ,kQ,OB,RQ,wA,LQ,OQ,kh,NQ,CA=function(n){function e(t,i,r){var o=n.call(this,new OLt)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},ci(i)&&(i=FQ[i]),o._dom=t;var d=o._zr=nX(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:qr(r.useDirtyRect,!1),useCoarsePointer:qr(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=xB(yi(d.flush,d),17),(i=fr(i))&&xq(i,!0),o._theme=i,o._locale=function tkt(n){if(ci(n)){var e=ND[n.toUpperCase()]||{};return n===OD||n===PF?fr(e):$r(fr(e),fr(ND[R1]),!1)}return $r(fr(n),fr(ND[R1]),!1)}(r.locale||k$),o._coordSysMgr=new V1;var h=o._api=LQ(o);function p(g,y){return g.__prio-y.__prio}return QT(MA,p),QT(FB,p),o._scheduler=new XK(o,h,FB,MA),o._messageCenter=new AQ,o._initEvents(),o.resize=yi(o.resize,o),d.animation.on("frame",o._onframe,o),PQ(d,o),kQ(d,o),GT(o),o}return mn(e,n),e.prototype._onframe=function(){if(!this._disposed){NQ(this);var t=this._scheduler;if(this[Ad]){var i=this[Ad].silent;this[Ou]=!0;try{mb(this),mg.update.call(this,null,this[Ad].updateParams)}catch(l){throw this[Ou]=!1,this[Ad]=null,l}this._zr.flush(),this[Ou]=!1,this[Ad]=null,iC.call(this,i),rC.call(this,i)}else if(t.unfinished){var r=1,o=this._model,a=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),RB(this,o),t.performVisualTasks(o),wA(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[Ou]){if(this._disposed)return;var o,a,s;if(ar(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this[Ou]=!0,!this._model||i){var l=new Rkt(this._api),c=this._theme,u=this._model=new fq;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:a},BB);var d={seriesTransition:s,optionChanged:!0};if(r)this[Ad]={silent:o,updateParams:d},this[Ou]=!1,this.getZr().wakeUp();else{try{mb(this),mg.update.call(this,null,d)}catch(h){throw this[Ad]=null,this[Ou]=!1,h}this._ssr||this._zr.flush(),this[Ad]=null,this[Ou]=!1,iC.call(this,o),rC.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||aa.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},e.prototype.getSvgDataURL=function(){if(aa.svgSupported){var t=this._zr;return Xt(t.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var r=this._model,o=[],a=this;Xt((t=t||{}).excludeComponents,function(l){r.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Xt(o,function(l){l.group.ignore=!1}),s}},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i="svg"===t.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(EA[r]){var l=s,c=s,u=-s,d=-s,h=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();Xt(x_,function(E,k){if(E.group===r){var j=i?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(fr(t)),H=E.getDom().getBoundingClientRect();l=o(H.left,l),c=o(H.top,c),u=a(H.right,u),d=a(H.bottom,d),h.push({dom:j,left:H.left,top:H.top})}});var g=(u*=p)-(l*=p),y=(d*=p)-(c*=p),b=Qh.createCanvas(),w=nX(b,{renderer:i?"svg":"canvas"});if(w.resize({width:g,height:y}),i){var M="";return Xt(h,function(E){M+='<g transform="translate('+(E.left-l)+","+(E.top-c)+')">'+E.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=M,t.connectedBackgroundColor&&w.painter.setBackgroundColor(t.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}return t.connectedBackgroundColor&&w.add(new Qo({shape:{x:0,y:0,width:g,height:y},style:{fill:t.connectedBackgroundColor}})),Xt(h,function(E){var k=new gu({style:{x:E.left*p-l,y:E.top*p-c,image:E.dom}});w.add(k)}),w.refreshImmediately(),b.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,i){return kB(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return kB(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var o;if(!this._disposed)return Xt(w1(this._model,t),function(s,l){l.indexOf("Models")>=0&&Xt(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(i);else if("seriesModels"===l){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,c))}},this)},this),!!o},e.prototype.getVisual=function(t,i){var o=w1(this._model,t,{defaultMainType:"series"}),s=o.seriesModel.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return null!=l?CB(s,l,i):tC(s,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Xt(IOt,function(i){var r=function(o){var l,a=t.getModel(),s=o.target;if("globalout"===i?l={}:s&&__(s,function(g){var y=kr(g);if(y&&null!=y.dataIndex){var b=y.dataModel||a.getSeriesByIndex(y.seriesIndex);return l=b&&b.getDataParams(y.dataIndex,y.dataType)||{},!0}if(y.eventData)return l=Dn({},y.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;("markLine"===u||"markPoint"===u||"markArea"===u)&&(u="series",d=l.seriesIndex);var h=u&&null!=d&&a.getComponent(u,d),p=h&&t["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=i,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:p},t.trigger(i,l)}};r.zrEventfulCallAtLast=!0,t._zr.on(i,r,t)}),Xt(oC,function(i,r){t._messageCenter.on(r,function(o){this.trigger(r,o)},t)}),Xt(["selectchanged"],function(i){t._messageCenter.on(i,function(r){this.trigger(i,r)},t)}),function BLt(n,e,t){n.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(db("map","selectchanged",e,r,i),db("pie","selectchanged",e,r,i)):"select"===i.fromAction?(db("map","selected",e,r,i),db("pie","selected",e,r,i)):"unselect"===i.fromAction&&(db("map","unselected",e,r,i),db("pie","unselected",e,r,i))})}(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&xX(this.getDom(),zB,"");var i=this,r=i._api,o=i._model;Xt(i._componentsViews,function(a){a.dispose(o,r)}),Xt(i._chartsViews,function(a){a.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete x_[i.id]}},e.prototype.resize=function(t){if(!this[Ou]){if(this._disposed)return;this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this[Ad]&&(null==o&&(o=this[Ad].silent),r=!0,this[Ad]=null),this[Ou]=!0;try{r&&mb(this),mg.update.call(this,{type:"resize",animation:Dn({duration:0},t&&t.animation)})}catch(a){throw this[Ou]=!1,a}this[Ou]=!1,iC.call(this,o),rC.call(this,o)}}},e.prototype.showLoading=function(t,i){if(!this._disposed&&(ar(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),VB[t])){var r=VB[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=Dn({},t);return i.type=oC[t.type],i},e.prototype.dispatchAction=function(t,i){if(!this._disposed&&(ar(i)||(i={silent:!!i}),SA[t.type]&&this._model)){if(this[Ou])return void this._pendingActions.push(t);var r=i.silent;LB.call(this,t,r);var o=i.flush;o?this._zr.flush():!1!==o&&aa.browser.weChat&&this._throttledZrFlush(),iC.call(this,r),rC.call(this,r)}},e.prototype.updateLabelLayout=function(){uf.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(!this._disposed){var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function r(d){for(var h=[],p=d.currentStates,g=0;g<p.length;g++){var y=p[g];"emphasis"===y||"blur"===y||"select"===y||h.push(y)}d.selected&&d.states.select&&h.push("select"),d.hoverState===DD&&d.states.emphasis?h.push("emphasis"):d.hoverState===T1&&d.states.blur&&h.push("blur"),d.useStates(h)}function s(d,h){if(!d.preventAutoZ){var p=d.get("z")||0,g=d.get("zlevel")||0;h.eachRendered(function(y){return l(y,p,g,-1/0),!0})}}function l(d,h,p,g){var y=d.getTextContent(),b=d.getTextGuideLine();if(d.isGroup)for(var M=d.childrenRef(),E=0;E<M.length;E++)g=Math.max(l(M[E],h,p,g),g);else d.z=h,d.zlevel=p,g=Math.max(d.z2,g);if(y&&(y.z=h,y.zlevel=p,isFinite(g)&&(y.z2=g+2)),b){var k=d.textGuideLineConfig;b.z=h,b.zlevel=p,isFinite(g)&&(b.z2=g+(k&&k.showAbove?1:-1))}return g}function c(d,h){h.eachRendered(function(p){if(!Y0(p)){var g=p.getTextContent(),y=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function u(d,h){var p=d.getModel("stateAnimation"),g=d.isAnimationEnabled(),y=p.get("duration"),b=y>0?{duration:y,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(w){if(w.states&&w.states.emphasis){if(Y0(w))return;if(w instanceof wo&&function BPt(n){var e=i$(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}(w),w.__dirty){var M=w.prevStates;M&&w.useStates(M)}if(g){w.stateTransition=b;var E=w.getTextContent(),k=w.getTextGuideLine();E&&(E.stateTransition=b),k&&(k.stateTransition=b)}w.__dirty&&r(w)}})}mb=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),PB(d,!0),PB(d,!1),h.plan()},PB=function(d,h){for(var p=d._model,g=d._scheduler,y=h?d._componentsViews:d._chartsViews,b=h?d._componentsMap:d._chartsMap,w=d._zr,M=d._api,E=0;E<y.length;E++)y[E].__alive=!1;function k(H){var rt=H.__requireNewView;H.__requireNewView=!1;var yt="_ec_"+H.id+"_"+H.type,st=!rt&&b[yt];if(!st){var Lt=zf(H.type);(st=new(h?Il.getClass(Lt.main,Lt.sub):Zs.getClass(Lt.sub))).init(p,M),b[yt]=st,y.push(st),w.add(st.group)}H.__viewId=st.__id=yt,st.__alive=!0,st.__model=H,st.group.__ecComponentInfo={mainType:H.mainType,index:H.componentIndex},!h&&g.prepareView(st,H,p,M)}for(h?p.eachComponent(function(H,rt){"series"!==H&&k(rt)}):p.eachSeries(k),E=0;E<y.length;){var j=y[E];j.__alive?E++:(!h&&j.renderTask.dispose(),w.remove(j.group),j.dispose(p,M),y.splice(E,1),b[j.__id]===j&&delete b[j.__id],j.__id=j.group.__ecComponentInfo=null)}},xA=function(d,h,p,g,y){var b=d._model;if(b.setUpdatePayload(p),g){var w={};w[g+"Id"]=p[g+"Id"],w[g+"Index"]=p[g+"Index"],w[g+"Name"]=p[g+"Name"];var M={mainType:g,query:w};y&&(M.subType=y);var k,E=p.excludeSeriesId;null!=E&&(k=Wi(),Xt(bs(E),function(H){var rt=Rc(H,null);null!=rt&&k.set(rt,!0)})),b&&b.eachComponent(M,function(H){if(!k||null==k.get(H.id))if(y$(p))if(H instanceof pl)p.type===n_&&!p.notBlur&&!H.get(["emphasis","disabled"])&&function APt(n,e,t){var i=n.seriesIndex,r=n.getData(e.dataType);if(r){var o=Wv(r,e);o=(Rn(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=kr(a);wF(i,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);null!=u&&wF(i,u,d,t)}}}(H,p,d._api);else{var yt=SF(H.mainType,H.componentIndex,p.name,d._api),Lt=yt.dispatchers;p.type===n_&&yt.focusSelf&&!p.notBlur&&CF(H.mainType,H.componentIndex,d._api),Lt&&Xt(Lt,function(kt){p.type===n_?em(kt):nm(kt)})}else EF(p)&&H instanceof pl&&(function kPt(n,e,t){if(EF(e)){var i=e.dataType,o=Wv(n.getData(i),e);Rn(o)||(o=[o]),n[e.type===I1?"toggleSelect":e.type===A1?"select":"unselect"](o,i)}}(H,p),v$(H),kh(d))},d),b&&b.eachComponent(M,function(H){k&&null!=k.get(H.id)||j(d["series"===g?"_chartsMap":"_componentsMap"][H.__viewId])},d)}else Xt([].concat(d._componentsViews).concat(d._chartsViews),j);function j(H){H&&H.__alive&&H[h]&&H[h](H.__model,b,d._api,p)}},mg={prepareAndUpdate:function(d){mb(this),mg.update.call(this,d,{optionChanged:null!=d.newOption})},update:function(d,h){var p=this._model,g=this._api,y=this._zr,b=this._coordSysMgr,w=this._scheduler;if(p){p.setUpdatePayload(d),w.restoreData(p,d),w.performSeriesTasks(p),b.create(p,g),w.performDataProcessorTasks(p,d),RB(this,p),b.update(p,g),t(p),w.performVisualTasks(p,d),OB(this,p,g,d,h);var M=p.get("backgroundColor")||"transparent",E=p.get("darkMode");y.setBackgroundColor(M),null!=E&&"auto"!==E&&y.setDarkMode(E),uf.trigger("afterupdate",p,g)}},updateTransform:function(d){var h=this,p=this._model,g=this._api;if(p){p.setUpdatePayload(d);var y=[];p.eachComponent(function(w,M){if("series"!==w){var E=h.getViewOfComponentModel(M);if(E&&E.__alive)if(E.updateTransform){var k=E.updateTransform(M,p,g,d);k&&k.update&&y.push(E)}else y.push(E)}});var b=Wi();p.eachSeries(function(w){var M=h._chartsMap[w.__viewId];if(M.updateTransform){var E=M.updateTransform(w,p,g,d);E&&E.update&&b.set(w.uid,1)}else b.set(w.uid,1)}),t(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:b}),wA(this,p,g,d,{},b),uf.trigger("afterupdate",p,g)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),Zs.markUpdateMethod(d,"updateView"),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),OB(this,h,this._api,d,{}),uf.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(g){g.getData().clearAllVisual()}),Zs.markUpdateMethod(d,"updateVisual"),t(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(g,y){if("series"!==g){var b=h.getViewOfComponentModel(y);b&&b.__alive&&b.updateVisual(y,p,h._api,d)}}),p.eachSeries(function(g){h._chartsMap[g.__viewId].updateVisual(g,p,h._api,d)}),uf.trigger("afterupdate",p,this._api))},updateLayout:function(d){mg.update.call(this,d)}},kB=function(d,h,p,g){if(!d._disposed)for(var w,y=d._model,b=d._coordSysMgr.getCoordinateSystems(),M=w1(y,p),E=0;E<b.length;E++){var k=b[E];if(k[h]&&null!=(w=k[h](y,M,g)))return w}},RB=function(d,h){var p=d._chartsMap,g=d._scheduler;h.eachSeries(function(y){g.updateStreamModes(y,p[y.__viewId])})},LB=function(d,h){var p=this,g=this.getModel(),y=d.type,b=d.escapeConnect,w=SA[y],M=w.actionInfo,E=(M.update||"update").split(":"),k=E.pop(),j=null!=E[0]&&zf(E[0]);this[Ou]=!0;var H=[d],rt=!1;d.batch&&(rt=!0,H=On(d.batch,function(de){return(de=nr(Dn({},de),d)).batch=null,de}));var st,yt=[],Lt=EF(d),kt=y$(d);if(kt&&g$(this._api),Xt(H,function(de){if((st=(st=w.action(de,p._model,p._api))||Dn({},de)).type=M.event||st.type,yt.push(st),kt){var Te=KN(d),Fe=Te.mainTypeSpecified?Te.queryOptionMap.keys()[0]:"series";xA(p,k,de,Fe),kh(p)}else Lt?(xA(p,k,de,"series"),kh(p)):j&&xA(p,k,de,j.main,j.sub)}),"none"!==k&&!kt&&!Lt&&!j)try{this[Ad]?(mb(this),mg.update.call(this,d),this[Ad]=null):mg[k].call(this,d)}catch(de){throw this[Ou]=!1,de}if(st=rt?{type:M.event||y,escapeConnect:b,batch:yt}:yt[0],this[Ou]=!1,!h){var te=this._messageCenter;if(te.trigger(st.type,st),Lt){var ne={type:"selectchanged",escapeConnect:b,selected:RPt(g),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};te.trigger(ne.type,ne)}}},iC=function(d){for(var h=this._pendingActions;h.length;){var p=h.shift();LB.call(this,p,d)}},rC=function(d){!d&&this.trigger("updated")},PQ=function(d,h){d.on("rendered",function(p){h.trigger("rendered",p),d.animation.isFinished()&&!h[Ad]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},kQ=function(d,h){d.on("mouseover",function(p){var y=__(p.target,P1);y&&(function IPt(n,e,t){var i=kr(n),r=SF(i.componentMainType,i.componentIndex,i.componentHighDownName,t),o=r.dispatchers;o?(r.focusSelf&&CF(i.componentMainType,i.componentIndex,t),Xt(o,function(s){return u$(s,e)})):(wF(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&CF(i.componentMainType,i.componentIndex,t),u$(n,e))}(y,p,h._api),kh(h))}).on("mouseout",function(p){var y=__(p.target,P1);y&&(function PPt(n,e,t){g$(t);var i=kr(n),r=SF(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?Xt(r,function(o){return d$(o,e)}):d$(n,e)}(y,p,h._api),kh(h))}).on("click",function(p){var y=__(p.target,function(M){return null!=kr(M).dataIndex},!0);if(y){var b=y.selected?"unselect":"select",w=kr(y);h._api.dispatchAction({type:b,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})},OB=function(d,h,p,g,y){(function i(d){var h=[],p=[],g=!1;if(d.eachComponent(function(M,E){var k=E.get("zlevel")||0,j=E.get("z")||0,H=E.getZLevelKey();g=g||!!H,("series"===M?p:h).push({zlevel:k,z:j,idx:E.componentIndex,type:M,key:H})}),g){var b,w,y=h.concat(p);QT(y,function(M,E){return M.zlevel===E.zlevel?M.z-E.z:M.zlevel-E.zlevel}),Xt(y,function(M){var E=d.getComponent(M.type,M.idx),k=M.zlevel,j=M.key;null!=b&&(k=Math.max(b,k)),j?(k===b&&j!==w&&k++,w=j):w&&(k===b&&k++,w=""),b=k,E.setZLevel(k)})}})(h),RQ(d,h,p,g,y),Xt(d._chartsViews,function(b){b.__alive=!1}),wA(d,h,p,g,y),Xt(d._chartsViews,function(b){b.__alive||b.remove(h,p)})},RQ=function(d,h,p,g,y,b){Xt(b||d._componentsViews,function(w){var M=w.__model;c(0,w),w.render(M,h,p,g),s(M,w),u(M,w)})},wA=function(d,h,p,g,y,b){var w=d._scheduler;y=Dn(y||{},{updatedSeries:h.getSeries()}),uf.trigger("series:beforeupdate",h,p,y);var M=!1;h.eachSeries(function(E){var k=d._chartsMap[E.__viewId];k.__alive=!0;var j=k.renderTask;w.updatePayload(j,g),c(0,k),b&&b.get(E.uid)&&j.dirty(),j.perform(w.getPerformArgs(j))&&(M=!0),k.group.silent=!!E.get("silent"),function a(d,h){var p=d.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=p)})}(E,k),v$(E)}),w.unfinished=M||w.unfinished,uf.trigger("series:layoutlabels",h,p,y),uf.trigger("series:transition",h,p,y),h.eachSeries(function(E){var k=d._chartsMap[E.__viewId];s(E,k),u(E,k)}),function o(d,h){var y=0;d._zr.storage.traverse(function(b){b.isGroup||y++}),y>h.get("hoverLayerThreshold")&&!aa.node&&!aa.worker&&h.eachSeries(function(b){if(!b.preventUsingHoverLayer){var w=d._chartsMap[b.__viewId];w.__alive&&w.eachRendered(function(M){M.states.emphasis&&(M.states.emphasis.hoverLayer=!0)})}})}(d,h),uf.trigger("series:afterupdate",h,p,y)},kh=function(d){d[AB]=!0,d.getZr().wakeUp()},NQ=function(d){d[AB]&&(d.getZr().storage.traverse(function(h){Y0(h)||r(h)}),d[AB]=!1)},LQ=function(d){return new(function(h){function p(){return null!==h&&h.apply(this,arguments)||this}return mn(p,h),p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(g){for(;g;){var y=g.__ecComponentInfo;if(null!=y)return d._model.getComponent(y.mainType,y.index);g=g.parent}},p.prototype.enterEmphasis=function(g,y){em(g,y),kh(d)},p.prototype.leaveEmphasis=function(g,y){nm(g,y),kh(d)},p.prototype.enterBlur=function(g){h$(g),kh(d)},p.prototype.leaveBlur=function(g){xF(g),kh(d)},p.prototype.enterSelect=function(g){f$(g),kh(d)},p.prototype.leaveSelect=function(g){p$(g),kh(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(g){return d.getViewOfComponentModel(g)},p.prototype.getViewOfSeriesModel=function(g){return d.getViewOfSeriesModel(g)},p}(pq))(d)},OQ=function(d){function h(p,g){for(var y=0;y<p.length;y++)p[y][IB]=g}Xt(oC,function(p,g){d._messageCenter.on(g,function(y){if(EA[d.group]&&0!==d[IB]){if(y&&y.escapeConnect)return;var b=d.makeActionFromEvent(y),w=[];Xt(x_,function(M){M!==d&&M.group===d.group&&w.push(M)}),h(w,0),Xt(w,function(M){1!==M[IB]&&M.dispatchAction(b)}),h(w,2)}})})}}(),e}(yh),NB=CA.prototype;NB.on=EQ("on"),NB.off=EQ("off"),NB.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(n,r)},t)};var IOt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],SA={},oC={},FB=[],BB=[],MA=[],FQ={},VB={},x_={},EA={},POt=+new Date-0,zB="_echarts_instance_";function BQ(n,e,t){var i=!(t&&t.ssr);if(i){var r=function VQ(n){return x_[function CIt(n,e){return n.getAttribute?n.getAttribute(e):n[e]}(n,zB)]}(n);if(r)return r}var o=new CA(n,e,t);return o.id="ec_"+POt++,x_[o.id]=o,i&&xX(n,zB,o.id),OQ(o),uf.trigger("afterinit",o),o}function zQ(n,e){FQ[n]=e}function UQ(n){uo(BB,n)<0&&BB.push(n)}function GQ(n,e){GB(FB,n,e,bOt)}function UB(n,e){uf.on(n,e)}function qf(n,e,t){Ki(e)&&(t=e,e="");var i=ar(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),!oC[e=n.event]&&(Ju(SQ.test(i)&&SQ.test(e)),SA[i]||(SA[i]={action:t,actionInfo:n}),oC[e]=i)}function w_(n,e){GB(MA,n,e,wQ,"visual")}var HQ=[];function GB(n,e,t,i,r){if((Ki(e)||ar(e))&&(t=e,e=i),!(uo(HQ,t)>=0)){HQ.push(t);var o=XK.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function jQ(n,e){VB[n]=e}w_(2e3,yLt),w_(4500,bLt),w_(4500,xLt),w_(2e3,NLt),w_(4500,FLt),w_(7e3,function hOt(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(a){var s=i.getItemVisual(a,"decal");s&&(i.ensureUniqueItemVisual(a,"style").decal=pb(s,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=pb(r,e))}})}),UQ(xq),GQ(900,function Ukt(n){var e=Wi();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(Gkt)}),jQ("default",function wLt(n,e){nr(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new br,i=new Qo({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var a,r=new la({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Qo({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(o),e.showSpinner&&((a=new mB({shape:{startAngle:-fA/2,endAngle:-fA/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*fA/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*fA/2}).delay(300).start("circularInOut"),t.add(a)),t.resize=function(){var s=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-2*l-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=n.getHeight()/2;e.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),qf({type:n_,event:n_,update:n_},Kl),qf({type:AD,event:AD,update:AD},Kl),qf({type:A1,event:A1,update:A1},Kl),qf({type:ID,event:ID,update:ID},Kl),qf({type:I1,event:I1,update:I1},Kl),zQ("light",RLt),zQ("dark",LLt);var WQ=[],VOt={registerPreprocessor:UQ,registerProcessor:GQ,registerPostInit:function ROt(n){UB("afterinit",n)},registerPostUpdate:function LOt(n){UB("afterupdate",n)},registerUpdateLifecycle:UB,registerAction:qf,registerCoordinateSystem:function OOt(n,e){V1.register(n,e)},registerLayout:function NOt(n,e){GB(MA,n,e,1e3,"layout")},registerVisual:w_,registerTransform:function uRt(n){var e=(n=fr(n)).type;e||es("");var i=e.split(":");2!==i.length&&es("");var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),n.__isBuiltIn=r,zq.set(e,n)},registerLoading:jQ,registerMap:function FOt(n,e,t){var i=function mOt(n){return bQ[n]}("registerMap");i&&i(n,e,t)},registerImpl:function pOt(n,e){bQ[n]=e},PRIORITY:TOt,ComponentModel:ca,ComponentView:Il,SeriesModel:pl,ChartView:Zs,registerComponentModel:function(n){ca.registerClass(n)},registerComponentView:function(n){Il.registerClass(n)},registerSeriesModel:function(n){pl.registerClass(n)},registerChartView:function(n){Zs.registerClass(n)},registerSubTypeDefaulter:function(n,e){ca.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){!function rIt(n,e){_D[n]=e}(n,e)}};function ho(n){Rn(n)?Xt(n,function(e){ho(e)}):uo(WQ,n)>=0||(WQ.push(n),Ki(n)&&(n={install:n}),n.install(VOt))}var aC=2*Math.PI,C_=jf.CMD,zOt=["top","right","bottom","left"];function UOt(n,e,t,i,r){var o=t.width,a=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+a+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+a/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+a/2),r.set(1,0)}}function GOt(n,e,t,i,r,o,a,s,l){a-=n,s-=e;var c=Math.sqrt(a*a+s*s),u=(a/=c)*t+n,d=(s/=c)*t+e;if(Math.abs(i-r)%aC<1e-4)return l[0]=u,l[1]=d,c-t;if(o){var h=i;i=Qp(r),r=Qp(h)}else i=Qp(i),r=Qp(r);i>r&&(r+=aC);var p=Math.atan2(s,a);if(p<0&&(p+=aC),p>=i&&p<=r||p+aC>=i&&p+aC<=r)return l[0]=u,l[1]=d,c-t;var g=t*Math.cos(i)+n,y=t*Math.sin(i)+e,b=t*Math.cos(r)+n,w=t*Math.sin(r)+e,M=(g-a)*(g-a)+(y-s)*(y-s),E=(b-a)*(b-a)+(w-s)*(w-s);return M<E?(l[0]=g,l[1]=y,Math.sqrt(M)):(l[0]=b,l[1]=w,Math.sqrt(E))}function TA(n,e,t,i,r,o,a,s){var l=r-n,c=o-e,u=t-n,d=i-e,h=Math.sqrt(u*u+d*d),g=(l*(u/=h)+c*(d/=h))/h;s&&(g=Math.min(Math.max(g,0),1));var y=a[0]=n+(g*=h)*u,b=a[1]=e+g*d;return Math.sqrt((y-r)*(y-r)+(b-o)*(b-o))}function ZQ(n,e,t,i,r,o,a){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var s=n+t,l=e+i,c=a[0]=Math.min(Math.max(r,n),s),u=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((c-r)*(c-r)+(u-o)*(u-o))}var df=[];function HOt(n,e,t){var i=ZQ(e.x,e.y,e.width,e.height,n.x,n.y,df);return t.set(df[0],df[1]),i}function jOt(n,e,t){for(var s,l,i=0,r=0,o=0,a=0,c=1/0,u=e.data,d=n.x,h=n.y,p=0;p<u.length;){var g=u[p++];1===p&&(o=i=u[p],a=r=u[p+1]);var y=c;switch(g){case C_.M:i=o=u[p++],r=a=u[p++];break;case C_.L:y=TA(i,r,u[p],u[p+1],d,h,df,!0),i=u[p++],r=u[p++];break;case C_.C:y=EY(i,r,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],d,h,df),i=u[p++],r=u[p++];break;case C_.Q:y=DY(i,r,u[p++],u[p++],u[p],u[p+1],d,h,df),i=u[p++],r=u[p++];break;case C_.A:var b=u[p++],w=u[p++],M=u[p++],E=u[p++],k=u[p++],j=u[p++];p+=1;var H=!!(1-u[p++]);s=Math.cos(k)*M+b,l=Math.sin(k)*E+w,p<=1&&(o=s,a=l),y=GOt(b,w,E,k,k+j,H,(d-b)*E/M+b,h,df),i=Math.cos(k+j)*M+b,r=Math.sin(k+j)*E+w;break;case C_.R:y=ZQ(o=i=u[p++],a=r=u[p++],u[p++],u[p++],d,h,df);break;case C_.Z:y=TA(i,r,o,a,d,h,df,!0),i=o,r=a}y<c&&(c=y,t.set(df[0],df[1]))}return c}var hf=new Wr,Ys=new Wr,Ql=new Wr,Kf=new Wr,Qf=new Wr;function YQ(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||zOt,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,c=r.anchor,u=n.getComputedTransform(),d=u&&L0([],u),h=e.get("length2")||0;c&&Ql.copy(c);for(var p=0;p<a.length;p++){UOt(a[p],0,s,hf,Kf),Wr.scaleAndAdd(Ys,hf,Kf,h),Ys.transform(d);var y=n.getBoundingRect(),b=c?c.distance(Ys):n instanceof wo?jOt(Ys,n.path,Ql):HOt(Ys,y,Ql);b<l&&(l=b,Ys.transform(u),Ql.transform(u),Ql.toArray(o[0]),Ys.toArray(o[1]),hf.toArray(o[2]))}XQ(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var DA=[],rd=new Wr;function XQ(n,e){if(e<=180&&e>0){e=e/180*Math.PI,hf.fromArray(n[0]),Ys.fromArray(n[1]),Ql.fromArray(n[2]),Wr.sub(Kf,hf,Ys),Wr.sub(Qf,Ql,Ys);var t=Kf.len(),i=Qf.len();if(!(t<.001||i<.001)){Kf.scale(1/t),Qf.scale(1/i);var r=Kf.dot(Qf);if(Math.cos(e)<r){var a=TA(Ys.x,Ys.y,Ql.x,Ql.y,hf.x,hf.y,DA,!1);rd.fromArray(DA),rd.scaleAndAdd(Qf,a/Math.tan(Math.PI-e));var s=Ql.x!==Ys.x?(rd.x-Ys.x)/(Ql.x-Ys.x):(rd.y-Ys.y)/(Ql.y-Ys.y);if(isNaN(s))return;s<0?Wr.copy(rd,Ys):s>1&&Wr.copy(rd,Ql),rd.toArray(n[1])}}}}function WOt(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,hf.fromArray(n[0]),Ys.fromArray(n[1]),Ql.fromArray(n[2]),Wr.sub(Kf,Ys,hf),Wr.sub(Qf,Ql,Ys);var i=Kf.len(),r=Qf.len();if(!(i<.001||r<.001)&&(Kf.scale(1/i),Qf.scale(1/r),Kf.dot(e)<Math.cos(t))){var s=TA(Ys.x,Ys.y,Ql.x,Ql.y,hf.x,hf.y,DA,!1);rd.fromArray(DA);var l=Math.PI/2,u=l+Math.acos(Qf.dot(e))-t;if(u>=l)Wr.copy(rd,Ql);else{rd.scaleAndAdd(Qf,s/Math.tan(Math.PI/2-u));var d=Ql.x!==Ys.x?(rd.x-Ys.x)/(Ql.x-Ys.x):(rd.y-Ys.y)/(Ql.y-Ys.y);if(isNaN(d))return;d<0?Wr.copy(rd,Ys):d>1&&Wr.copy(rd,Ql)}rd.toArray(n[1])}}}function $Q(n,e,t,i){var r="normal"===t,o=r?n:n.ensureState(t);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):o.style=s}function ZOt(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Km(i[0],i[1]),o=Km(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*t,s=XT([],i[1],i[0],a/r),l=XT([],i[1],i[2],a/o),c=XT([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var u=1;u<i.length;u++)n.lineTo(i[u][0],i[u][1])}function HB(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<D1.length;l++){var c=D1[l],u=e[c],d="normal"===c;if(u){var h=u.get("show");if((d?s:qr(r.states[c]&&r.states[c].ignore,s))||!qr(h,a)){var g=d?i:i&&i.states[c];g&&(g.ignore=!0);continue}i||(i=new Ed,n.setTextGuideLine(i),!d&&(s||!a)&&$Q(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),$Q(i,!1,c,u)}}if(i){nr(i.style,t),i.style.fill=null;var y=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=y||!1,i.buildPath=ZOt}}else i&&n.removeTextGuideLine()}function jB(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},i=0;i<nd.length;i++){var r=nd[i];t[r]=n.getModel([r,e])}return t}function qQ(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new aA(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:c,localRect:a,obb:u,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function KQ(n,e,t,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(st,Lt){return st.rect[e]-Lt.rect[e]});for(var l,s=0,c=!1,u=[],d=0,h=0;h<a;h++){var p=n[h],g=p.rect;(l=g[e]-s)<0&&(g[e]-=l,p.label[e]-=l,c=!0);var y=Math.max(-l,0);u.push(y),d+=y,s=g[e]+g[t]}d>0&&o&&H(-d/a,0,a);var M,E,b=n[0],w=n[a-1];return k(),M<0&&rt(-M,.8),E<0&&rt(E,.8),k(),j(M,E,1),j(E,M,-1),k(),M<0&&yt(-M),E<0&&yt(E),c}function k(){M=b.rect[e]-i,E=r-w.rect[e]-w.rect[t]}function j(st,Lt,kt){if(st<0){var te=Math.min(Lt,-st);if(te>0){H(te*kt,0,a);var ne=te+st;ne<0&&rt(-ne*kt,1)}else rt(-st*kt,1)}}function H(st,Lt,kt){0!==st&&(c=!0);for(var te=Lt;te<kt;te++){var ne=n[te];ne.rect[e]+=st,ne.label[e]+=st}}function rt(st,Lt){for(var kt=[],te=0,ne=1;ne<a;ne++){var de=n[ne-1].rect,Te=Math.max(n[ne].rect[e]-de[e]-de[t],0);kt.push(Te),te+=Te}if(te){var be=Math.min(Math.abs(st)/te,Lt);if(st>0)for(ne=0;ne<a-1;ne++)H(kt[ne]*be,0,ne+1);else for(ne=a-1;ne>0;ne--)H(-kt[ne-1]*be,ne,a)}}function yt(st){var Lt=st<0?-1:1;st=Math.abs(st);for(var kt=Math.ceil(st/(a-1)),te=0;te<a-1;te++)if(Lt>0?H(kt,0,te+1):H(-kt,a-te-1,a),(st-=kt)<=0)return}}function QQ(n,e,t,i){return KQ(n,"y","height",e,t,i)}function JQ(n){var e=[];n.sort(function(y,b){return b.priority-y.priority});var t=new Kr(0,0,0,0);function i(y){if(!y.ignore){var b=y.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}y.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=o.obb,h=!1,p=0;p<e.length;p++){var g=e[p];if(t.intersect(g.rect)){if(a&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new aA(g.localRect,g.transform)),d||(d=new aA(s,l)),d.intersect(g.obb)){h=!0;break}}}h?(i(c),u&&i(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function XOt(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function $Ot(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:XOt(i&&i.shape.points)}}var tJ=["align","verticalAlign","width","height","fontSize"],$d=new $p,WB=Ko(),qOt=Ko();function AA(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];null!=e[r]&&(n[r]=e[r])}}var IA=["x","y","rotation"],KOt=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var a=r.style,l=r.__hostTarget.textConfig||{},c=r.getComputedTransform(),u=r.getBoundingRect().plain();Kr.applyTransform(u,u,c),c?$d.setLocalTransform(c):($d.x=$d.y=$d.rotation=$d.originX=$d.originY=0,$d.scaleX=$d.scaleY=1);var h,d=r.__hostTarget;if(d){h=d.getBoundingRect().plain();var p=d.getComputedTransform();Kr.applyTransform(h,h,p)}var g=h&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:$d.x,y:$d.y,scaleX:$d.scaleX,scaleY:$d.scaleY,rotation:$d.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(Ki(r)||Ro(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=kr(o);a&&!a.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(E,k){return function(){YQ(E,k)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,c=a.defaultAttr,u=void 0;u=Ki(a.layoutOption)?a.layoutOption($Ot(a,l)):a.layoutOption,a.computedLayoutOption=u=u||{};var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*d:c.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(null!=u.x?(s.x=ni(u.x,t),s.setStyle("x",0),h=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=u.y?(s.y=ni(u.y,i),s.setStyle("y",0),h=!0):(s.y=c.y,s.setStyle("y",c.style.y)),u.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),h=!1)}WB(s).needsUpdateLabelLine=h,s.rotation=null!=u.rotate?u.rotate*d:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var y=0;y<tJ.length;y++){var b=tJ[y];s.setStyle(b,null!=u[b]?u[b]:c.style[b])}if(u.draggable){if(s.draggable=!0,s.cursor="move",l){var w=a.seriesModel;null!=a.dataIndex&&(w=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,w.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=qQ(this._labelList),o=ps(r,function(l){return"shiftX"===l.layoutOption.moveOverlap}),a=ps(r,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function YOt(n,e,t,i){KQ(n,"x","width",e,t,i)})(o,0,t),QQ(a,0,i),JQ(ps(r,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;Xt(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=WB(l).needsUpdateLabelLine),s&&e._updateLabelLine(a,i),o&&e._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=kr(e),o=r.dataIndex;if(i&&null!=o){var a=t.getData(r.dataType),s=a.getItemModel(o),l={},c=a.getItemVisual(o,"style"),u=a.getVisual("drawType");l.stroke=c[u];var d=s.getModel("labelLine");HB(e,jB(s),l),YQ(e,d)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!Y0(e))){var a=(o=WB(i)).oldLayout,s=kr(e),l=s.dataIndex,c={x:i.x,y:i.y,rotation:i.rotation},u=t.getData(s.dataType);if(a){i.attr(a);var h=e.prevStates;h&&(uo(h,"select")>=0&&i.attr(o.oldLayoutSelect),uo(h,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),fa(i,c,t,l)}else if(i.attr(c),!X0(i).valueAnimation){var d=qr(i.style.opacity,1);i.style.opacity=0,cl(i,{style:{opacity:d}},t,l)}if(o.oldLayout=c,i.states.select){var p=o.oldLayoutSelect={};AA(p,c,IA),AA(p,i.states.select,IA)}if(i.states.emphasis){var g=o.oldLayoutEmphasis={};AA(g,c,IA),AA(g,i.states.emphasis,IA)}A$(i,l,u,t,t)}if(r&&!r.ignore&&!r.invisible){var o=qOt(r),y={points:r.shape.points};(a=o.oldLayout)?(r.attr({shape:a}),fa(r,{shape:y},t)):(r.setShape(y),r.style.strokePercent=0,cl(r,{style:{strokePercent:1}},t)),o.oldLayout=y}},n}();const QOt=KOt;var ZB=Ko();function eJ(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=ZB(t).labelManager;r||(r=ZB(t).labelManager=new QOt),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=ZB(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}function nJ(n,e,t){var i=Qh.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}ho(eJ);var JOt=function(n){function e(t,i,r){var a,o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||mD,"string"==typeof t?a=nJ(t,i,r):ar(t)&&(t=(a=t).id),o.id=t,o.dom=a;var s=a.style;return s&&(Q7(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return tl(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=nJ("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var b,a=[],s=this.maxRepaintRectCount,l=!1,c=new Kr(0,0,0,0);function u(M){if(M.isFinite()&&!M.isZero())if(0===a.length)(E=new Kr(0,0,0,0)).copy(M),a.push(E);else{for(var k=!1,j=1/0,H=0,rt=0;rt<a.length;++rt){var yt=a[rt];if(yt.intersect(M)){var st=new Kr(0,0,0,0);st.copy(yt),st.union(M),a[rt]=st,k=!0;break}if(l){c.copy(M),c.union(yt);var ne=c.width*c.height-M.width*M.height-yt.width*yt.height;ne<j&&(j=ne,H=rt)}}var E;l&&(a[H].union(M),k=!0),k||((E=new Kr(0,0,0,0)).copy(M),a.push(E)),l||(l=a.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d)if(h=t[d]){var p=h.shouldBePainted(r,o,!0,!0);(g=h.__isRendered&&(h.__dirty&Yd||!p)?h.getPrevPaintRect():null)&&u(g);var y=p&&(h.__dirty&Yd||!h.__isRendered)?h.getPaintRect():null;y&&u(y)}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h,g;p=(h=i[d]).shouldBePainted(r,o,!0,!0),!h||p&&h.__zr||!h.__isRendered||(g=h.getPrevPaintRect())&&u(g)}do{for(b=!1,d=0;d<a.length;)if(a[d].isZero())a.splice(d,1);else{for(var w=d+1;w<a.length;)a[d].intersect(a[w])?(b=!0,a[d].union(a[w]),a.splice(w,1)):w++;d++}}while(b);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=t+"px",a.height=i+"px"),o.width=t*r,o.height=i*r,s&&(s.width=t*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/d,l/d));var p=this.domBack;function g(y,b,w,M){if(a.clearRect(y,b,w,M),i&&"transparent"!==i){var E=void 0;UT(i)?(E=(i.global||i.__width===w&&i.__height===M)&&i.__canvasGradient||SB(a,i,{x:0,y:0,width:w,height:M}),i.__canvasGradient=E,i.__width=w,i.__height=M):function DDt(n){return null!=n.image}(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,E=EB(a,i,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),a.save(),a.fillStyle=E||i,a.fillRect(y,b,w,M),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(p,y,b,w,M),a.restore())}!r||c?g(0,0,s,l):r.length&&Xt(r,function(y){g(y.x*d,y.y*d,y.width*d,y.height*d)})},e}(yh);const YB=JOt;var S_=314159,i2t=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=Dn({},i||{}),this.dpr=i.devicePixelRatio||mD,this._singleCanvas=o,this.root=e,e.style&&(Q7(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,d=u.width,h=u.height;null!=i.width&&(d=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,u.width=d*this.dpr,u.height=h*this.dpr,this._width=d,this._height=h;var p=new YB(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[S_]=p,p.zlevel=S_,s.push(S_),this._domRoot=e}else{this._width=fb(e,0,i),this._height=fb(e,1,i);var c=this._domRoot=function n2t(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var o,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var s=e[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),o||(o=i.ctx).save(),b_(o,s,r,a===t-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){pQ(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;gN(function(){l._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(S_).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,d=!1,h=function(y){var b=o[y],w=b.ctx,M=a&&b.createRepaintRects(e,t,p._width,p._height),E=i?b.__startIndex:b.__drawIndex,k=!i&&b.incremental&&Date.now,j=k&&Date.now(),H=b.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,H,M);else if(E===b.__startIndex){var rt=e[E];(!rt.incremental||!rt.notClear||i)&&b.clear(!1,H,M)}-1===E&&(console.error("For some unknown reason. drawIndex is -1"),E=b.__startIndex);var yt,st=function(ne){var de={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(yt=E;yt<b.__endIndex;yt++){var Te=e[yt];if(Te.__inHover&&(d=!0),r._doPaintEl(Te,b,a,ne,de,yt===b.__endIndex-1),k&&Date.now()-j>15)break}de.prevElClipPaths&&w.restore()};if(M)if(0===M.length)yt=b.__endIndex;else for(var Lt=p.dpr,kt=0;kt<M.length;++kt){var te=M[kt];w.save(),w.beginPath(),w.rect(te.x*Lt,te.y*Lt,te.width*Lt,te.height*Lt),w.clip(),st(te),w.restore()}else w.save(),st(),w.restore();b.__drawIndex=yt,b.__drawIndex<b.__endIndex&&(u=!1)},p=this,g=0;g<o.length;g++)h(g);return aa.wxa&&Xt(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,i,r,o,a){var s=t.ctx;if(i){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(b_(s,e,o,a),e.setPrevPaintRect(l))}else b_(s,e,o,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=S_);var i=this._layers[e];return i||((i=new YB("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?$r(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&$r(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[e]&&function e2t(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(t)){if(o>0&&e>r[0]){for(l=0;l<o-1&&!(r[l]<e&&r[l+1]>e);l++);s=i[r[l]]}if(r.splice(l+1,0,e),i[e]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(t.dom,c.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((r=e[i]).zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}var s,l,o=null,a=0;for(l=0;l<e.length;l++){var r,c=(r=e[l]).zlevel,u=void 0;s!==c&&(s=c,a=0),r.incremental?((u=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(c+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||Y2("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.__drawIndex=u.incremental?-1:l,t(l),o=u),r.__dirty&Yd&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Xt(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?$r(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];o!==e&&o!==e+.01||$r(this._layers[o],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(uo(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=fb(o,0,r),t=fb(o,1,r),i.style.display="",this._width!==e||t!==this._height){for(var a in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(S_).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[S_].dom;var t=new YB("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,r,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++)b_(i,s[l],a,l===c-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const r2t=i2t;var XB=Math.sin,$B=Math.cos,rJ=Math.PI,M_=2*Math.PI,a2t=180/rJ,s2t=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){this._add("C",e,t,i,r,o,a)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,a){this.ellipse(e,t,i,i,0,r,o,a)},n.prototype.ellipse=function(e,t,i,r,o,a,s,l){var g,c=s-a,u=!l,d=Math.abs(c),h=rg(d-M_)||(u?c>=M_:-c>=M_),p=c>0?c%M_:c%M_+M_;g=!!h||!rg(d)&&p>=rJ==!!u;var y=e+i*$B(a),b=t+r*XB(a);this._start&&this._add("M",y,b);var w=Math.round(o*a2t);if(h){var M=1/this._p,E=(u?1:-1)*(M_-M);this._add("A",i,r,w,1,+u,e+i*$B(a+E),t+r*XB(a+E)),M>.01&&this._add("A",i,r,w,0,+u,y,b)}else{var k=e+i*$B(s),j=t+r*XB(s);this._add("A",i,r,w,+g,+u,k,j)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,a,s,l,c){for(var u=[],d=this._p,h=1;h<arguments.length;h++){var p=arguments[h];if(isNaN(p))return void(this._invalid=!0);u.push(Math.round(p*d)/d)}this._d.push(e+u.join(" ")),this._start="Z"===e},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const oJ=s2t;var sC="none",l2t=Math.round,qB=["lineCap","miterLimit","lineJoin"],d2t=On(qB,function(n){return"stroke-"+n.toLowerCase()});var aJ="http://www.w3.org/2000/svg",sJ="http://www.w3.org/1999/xlink",f2t="http://www.w3.org/2000/xmlns/",p2t="http://www.w3.org/XML/1998/namespace";function lJ(n){return document.createElementNS(aJ,n)}function Gc(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function KB(n,e){var t=(e=e||{}).newline?"\n":"";return function i(r){var o=r.children,a=r.tag,l=r.text;return function m2t(n,e){var t=[];if(e)for(var i in e){var r=e[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),t.push(o))}return"<"+n+" "+t.join(" ")+">"}(a,r.attrs)+("style"!==a?bd(l):l||"")+(o?""+t+On(o,function(c){return i(c)}).join(t)+t:"")+function g2t(n){return"</"+n+">"}(a)}(n)}function QB(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function cJ(n,e,t,i){return Gc("svg","root",{width:n,height:e,xmlns:aJ,"xmlns:xlink":sJ,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var uJ={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},E_="transform-origin";function _2t(n,e,t){var i=Dn({},n.shape);Dn(i,e),n.buildPath(t,i);var r=new oJ;return r.reset(FY(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function y2t(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[E_]=t+"px "+i+"px")}var b2t={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function dJ(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function hJ(n){return ci(n)?uJ[n]?"cubic-bezier("+uJ[n]+")":_N(n)?n:"":""}function kA(n,e,t,i){var r=n.animators,o=r.length,a=[];if(n instanceof gB){var s=function x2t(n,e,t){var o,a,r={};if(Xt(n.shape.paths,function(l){var c=QB(t.zrId);c.animation=!0,kA(l,{},c,!0);var u=c.cssAnims,d=c.cssNodes,h=Ro(u),p=h.length;if(p){var g=u[a=h[p-1]];for(var y in g){var b=g[y];r[y]=r[y]||{d:""},r[y].d+=b.d||""}for(var w in d){var M=d[w].animation;M.indexOf(a)>=0&&(o=M)}}}),o){e.d=!1;var s=dJ(r,t);return o.replace(a,s)}}(n,e,t);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},c=0;c<o;c++){var u=r[c],d=[u.getMaxTime()/1e3+"s"],h=hJ(u.getClip().easing),p=u.getDelay();d.push(h||"linear"),p&&d.push(p/1e3+"s"),u.getLoop()&&d.push("infinite");var g=d.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(u)}function y(M){var E=M[1],k=E.length,j={},H={},rt={},yt="animation-timing-function";function st(ji,cr,Sr){for(var Mi=ji.getTracks(),zr=ji.getMaxTime(),el=0;el<Mi.length;el++){var Ho=Mi[el];if(Ho.needsAnimate()){var bl=Ho.keyframes,kl=Ho.propName;if(Sr&&(kl=Sr(kl)),kl)for(var Fu=0;Fu<bl.length;Fu++){var Sm=bl[Fu],kd=Math.round(Sm.time/zr*100)+"%",$k=hJ(Sm.easing),Hg=Sm.rawValue;(ci(Hg)||sa(Hg))&&(cr[kd]=cr[kd]||{},cr[kd][kl]=Sm.rawValue,$k&&(cr[kd][yt]=$k))}}}}for(var Lt=0;Lt<k;Lt++)(te=(kt=E[Lt]).targetName)?"shape"===te&&st(kt,H):!i&&st(kt,j);for(var ne in j){var de={};qY(de,n),Dn(de,j[ne]);var Te=BY(de),be=j[ne][yt];rt[ne]=Te?{transform:Te}:{},y2t(rt[ne],de),be&&(rt[ne][yt]=be)}var Ve,Fe=!0;for(var ne in H){rt[ne]=rt[ne]||{};var Ke=!Ve;be=H[ne][yt],Ke&&(Ve=new jf);var In=Ve.len();Ve.reset(),rt[ne].d=_2t(n,H[ne],Ve);var Nn=Ve.len();if(!Ke&&In!==Nn){Fe=!1;break}be&&(rt[ne][yt]=be)}if(!Fe)for(var ne in rt)delete rt[ne].d;if(!i)for(Lt=0;Lt<k;Lt++){var kt,te;"style"===(te=(kt=E[Lt]).targetName)&&st(kt,rt,function(Mi){return b2t[Mi]})}var Gn,qn=Ro(rt),Kn=!0;for(Lt=1;Lt<qn.length;Lt++){var Ui=qn[Lt-1];if(rt[Ui][E_]!==rt[qn[Lt]][E_]){Kn=!1;break}Gn=rt[Ui][E_]}if(Kn&&Gn){for(var ne in rt)rt[ne][E_]&&delete rt[ne][E_];e[E_]=Gn}if(ps(qn,function(ji){return Ro(rt[ji]).length>0}).length)return dJ(rt,t)+" "+M[0]+" both"}for(var b in l)(s=y(l[b]))&&a.push(s);if(a.length){var w=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+w]={animation:a.join(",")},e.class=w}}var lC=Math.round;function fJ(n){return n&&ci(n.src)}function pJ(n){return n&&Ki(n.toDataURL)}function JB(n,e,t,i){(function h2t(n,e,t,i){var r=null==e.opacity?1:e.opacity;if(t instanceof gu)n("opacity",r);else{if(function c2t(n){var e=n.fill;return null!=e&&e!==sC}(e)){var o=p1(e.fill);n("fill",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",sC);if(function u2t(n){var e=n.stroke;return null!=e&&e!==sC}(e)){var s=p1(e.stroke);n("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,d=e.strokeFirst;if((i||1!==c)&&n("stroke-width",c),(i||d)&&n("paint-order",d?"stroke":"fill"),(i||u<1)&&n("stroke-opacity",u),e.lineDash){var h=MB(t),p=h[0],g=h[1];p&&(g=l2t(g||0),n("stroke-dasharray",p.join(",")),(g||i)&&n("stroke-dashoffset",g))}else i&&n("stroke-dasharray",sC);for(var y=0;y<qB.length;y++){var b=qB[y];if(i||e[b]!==TD[b]){var w=e[b]||TD[b];w&&n(d2t[y],w)}}}else i&&n("stroke",sC)}})(function(r,o){var a="fill"===r||"stroke"===r;a&&NY(o)?bJ(e,n,r,i):a&&EN(o)?xJ(t,n,r,i):n[r]=o},e,t,!1),function D2t(n,e,t){var i=n.style;if(function TAt(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(i)){var r=function DAt(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(n),o=t.shadowCache,a=o[r];if(!a){var s=n.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=i.shadowOffsetX||0,d=i.shadowOffsetY||0,h=i.shadowBlur,p=p1(i.shadowColor),g=p.opacity,y=p.color,M=h/2/l+" "+h/2/c;a=t.zrId+"-s"+t.shadowIdx++,t.defs[a]=Gc("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Gc("feDropShadow","",{dx:u/l,dy:d/c,stdDeviation:M,"flood-color":y,"flood-opacity":g})]),o[r]=a}e.filter=lD(a)}}(t,n,i)}function mJ(n){return rg(n[0]-1)&&rg(n[1])&&rg(n[2])&&rg(n[3]-1)}function t3(n,e,t){if(e&&(!function w2t(n){return rg(n[4])&&rg(n[5])}(e)||!mJ(e))){var i=t?10:1e4;n.transform=mJ(e)?"translate("+lC(e[4]*i)/i+" "+lC(e[5]*i)/i+")":function SAt(n){return"matrix("+sD(n[0])+","+sD(n[1])+","+sD(n[2])+","+sD(n[3])+","+MN(n[4])+","+MN(n[5])+")"}(e)}}function gJ(n,e,t){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(lC(i[o][0]*t)/t),r.push(lC(i[o][1]*t)/t);e.points=r.join(" ")}function vJ(n){return!n.smooth}var S2t={circle:[function C2t(n){var e=On(n,function(t){return"string"==typeof t?[t,t]:t});return function(t,i,r){for(var o=0;o<e.length;o++){var a=e[o],s=t[a[0]];null!=s&&(i[a[1]]=lC(s*r)/r)}}}(["cx","cy","r"])],polyline:[gJ,vJ],polygon:[gJ,vJ]};function _J(n,e){var t=n.style,i=n.shape,r=S2t[n.type],o={},a=e.animation,s="path",l=n.style.strokePercent,c=e.compress&&FY(n)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function M2t(n){for(var e=n.animators,t=0;t<e.length;t++)if("shape"===e[t].targetName)return!0;return!1}(n)||l<1){var d=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;d&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var p=h.getVersion(),g=n,y=g.__svgPathBuilder;(g.__svgPathVersion!==p||!y||l!==g.__svgPathStrokePercent)&&(y||(y=g.__svgPathBuilder=new oJ),y.reset(c),h.rebuildPath(y,l),y.generateStr(),g.__svgPathVersion=p,g.__svgPathStrokePercent=l),o.d=y.getStr()}else{s=n.type;var u=Math.pow(10,c);r[0](i,o,u)}return t3(o,n.transform),JB(o,t,n,e),e.animation&&kA(n,o,e),Gc(s,n.id+"",o)}function yJ(n,e){return n instanceof wo?_J(n,e):n instanceof gu?function E2t(n,e){var t=n.style,i=t.image;if(i&&!ci(i)&&(fJ(i)?i=i.src:pJ(i)&&(i=i.toDataURL())),i){var r=t.x||0,o=t.y||0,l={href:i,width:t.width,height:t.height};return r&&(l.x=r),o&&(l.y=o),t3(l,n.transform),JB(l,t,n,e),e.animation&&kA(n,l,e),Gc("image",n.id+"",l)}}(n,e):n instanceof E1?function T2t(n,e){var t=n.style,i=t.text;if(null!=i&&(i+=""),i&&!isNaN(t.x)&&!isNaN(t.y)){var r=t.font||qm,o=t.x||0,a=function EAt(n,e,t){return"top"===t?n+=e/2:"bottom"===t&&(n-=e/2),n}(t.y||0,gD(r),t.textBaseline),l={"dominant-baseline":"central","text-anchor":MAt[t.textAlign]||t.textAlign};if($X(t)){var c="",u=t.fontStyle,d=YX(t.fontSize);if(!parseFloat(d))return;var p=t.fontWeight;c+="font-size:"+d+";font-family:"+(t.fontFamily||j7)+";",u&&"normal"!==u&&(c+="font-style:"+u+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+r;return i.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),a&&(l.y=a),t3(l,n.transform),JB(l,t,n,e),e.animation&&kA(n,l,e),Gc("text",n.id+"",l,void 0,i)}}(n,e):void 0}function bJ(n,e,t,i){var o,r=n[t],a={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(LY(r))o="linearGradient",a.x1=r.x,a.y1=r.y,a.x2=r.x2,a.y2=r.y2;else{if(!OY(r))return;o="radialGradient",a.cx=qr(r.x,.5),a.cy=qr(r.y,.5),a.r=qr(r.r,.5)}for(var s=r.colorStops,l=[],c=0,u=s.length;c<u;++c){var d=100*MN(s[c].offset)+"%",p=p1(s[c].color),y=p.opacity,b={offset:d};b["stop-color"]=p.color,y<1&&(b["stop-opacity"]=y),l.push(Gc("stop",c+"",b))}var M=KB(Gc(o,"",a,l)),E=i.gradientCache,k=E[M];k||(k=i.zrId+"-g"+i.gradientIdx++,E[M]=k,a.id=k,i.defs[k]=Gc(o,k,a,l)),e[t]=lD(k)}function xJ(n,e,t,i){var d,r=n.style[t],o=n.getBoundingRect(),a={},s=r.repeat,l="no-repeat"===s,c="repeat-x"===s,u="repeat-y"===s;if(RY(r)){var h=r.imageWidth,p=r.imageHeight,g=void 0,y=r.image;if(ci(y)?g=y:fJ(y)?g=y.src:pJ(y)&&(g=y.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";Ju(h,b),Ju(p,b)}else if(null==h||null==p){var w=function(Lt,kt){if(Lt){var te=Lt.elm,ne=h||kt.width,de=p||kt.height;"pattern"===Lt.tag&&(c?(de=1,ne/=o.width):u&&(ne=1,de/=o.height)),Lt.attrs.width=ne,Lt.attrs.height=de,te&&(te.setAttribute("width",ne),te.setAttribute("height",de))}},M=eF(g,null,n,function(Lt){l||w(H,Lt),w(d,Lt)});M&&M.width&&M.height&&(h=h||M.width,p=p||M.height)}d=Gc("image","img",{href:g,width:h,height:p}),a.width=h,a.height=p}else r.svgElement&&(d=fr(r.svgElement),a.width=r.svgWidth,a.height=r.svgHeight);if(d){var E,k;l?E=k=1:c?(k=1,E=a.width/o.width):u?(E=1,k=a.height/o.height):a.patternUnits="userSpaceOnUse",null!=E&&!isNaN(E)&&(a.width=E),null!=k&&!isNaN(k)&&(a.height=k);var j=BY(r);j&&(a.patternTransform=j);var H=Gc("pattern","",a,[d]),rt=KB(H),yt=i.patternCache,st=yt[rt];st||(st=i.zrId+"-p"+i.patternIdx++,yt[rt]=st,a.id=st,H=i.defs[st]=Gc("pattern",st,a,[d])),e[t]=lD(st)}}function A2t(n,e,t){var i=t.clipPathCache,r=t.defs,o=i[n.id];if(!o){var a={id:o=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=o,r[o]=Gc("clipPath",o,a,[_J(n,t)])}e["clip-path"]=lD(o)}function wJ(n){return document.createTextNode(n)}function T_(n,e,t){n.insertBefore(e,t)}function CJ(n,e){n.removeChild(e)}function SJ(n,e){n.appendChild(e)}function MJ(n){return n.parentNode}function EJ(n){return n.nextSibling}function e3(n,e){n.textContent=e}var TJ=58,I2t=120,P2t=Gc("","");function n3(n){return void 0===n}function Jf(n){return void 0!==n}function k2t(n,e,t){for(var i={},r=e;r<=t;++r){var o=n[r].key;void 0!==o&&(i[o]=r)}return i}function cC(n,e){return n.tag===e.tag&&n.key===e.key}function uC(n){var e,t=n.children,i=n.tag;if(Jf(i)){var r=n.elm=lJ(i);if(r3(P2t,n),Rn(t))for(e=0;e<t.length;++e){var o=t[e];null!=o&&SJ(r,uC(o))}else Jf(n.text)&&!ar(n.text)&&SJ(r,wJ(n.text))}else n.elm=wJ(n.text);return n.elm}function DJ(n,e,t,i,r){for(;i<=r;++i){var o=t[i];null!=o&&T_(n,uC(o),e)}}function RA(n,e,t,i){for(;t<=i;++t){var r=e[t];null!=r&&(Jf(r.tag)?CJ(MJ(r.elm),r.elm):CJ(n,r.elm))}}function r3(n,e){var t,i=e.elm,r=n&&n.attrs||{},o=e.attrs||{};if(r!==o){for(t in o){var a=o[t];r[t]!==a&&(!0===a?i.setAttribute(t,""):!1===a?i.removeAttribute(t):t.charCodeAt(0)!==I2t?i.setAttribute(t,a):"xmlns:xlink"===t||"xmlns"===t?i.setAttributeNS(f2t,t,a):t.charCodeAt(3)===TJ?i.setAttributeNS(p2t,t,a):t.charCodeAt(5)===TJ?i.setAttributeNS(sJ,t,a):i.setAttribute(t,a))}for(t in r)t in o||i.removeAttribute(t)}}function gb(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(r3(n,e),n3(e.text)?Jf(i)&&Jf(r)?i!==r&&function R2t(n,e,t){for(var d,h,p,i=0,r=0,o=e.length-1,a=e[0],s=e[o],l=t.length-1,c=t[0],u=t[l];i<=o&&r<=l;)null==a?a=e[++i]:null==s?s=e[--o]:null==c?c=t[++r]:null==u?u=t[--l]:cC(a,c)?(gb(a,c),a=e[++i],c=t[++r]):cC(s,u)?(gb(s,u),s=e[--o],u=t[--l]):cC(a,u)?(gb(a,u),T_(n,a.elm,EJ(s.elm)),a=e[++i],u=t[--l]):cC(s,c)?(gb(s,c),T_(n,s.elm,a.elm),s=e[--o],c=t[++r]):(n3(d)&&(d=k2t(e,i,o)),n3(h=d[c.key])||(p=e[h]).tag!==c.tag?T_(n,uC(c),a.elm):(gb(p,c),e[h]=void 0,T_(n,p.elm,a.elm)),c=t[++r]);(i<=o||r<=l)&&(i>o?DJ(n,null==t[l+1]?null:t[l+1].elm,t,r,l):RA(n,e,i,o))}(t,i,r):Jf(r)?(Jf(n.text)&&e3(t,""),DJ(t,null,r,0,r.length-1)):Jf(i)?RA(t,i,0,i.length-1):Jf(n.text)&&e3(t,""):n.text!==e.text&&(Jf(i)&&RA(t,i,0,i.length-1),e3(t,e.text)))}var O2t=0,N2t=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=i=Dn({},i),this.root=e,this._id="zr"+O2t++,this._oldVNode=cJ(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=lJ("svg");r3(null,this._oldVNode),r.appendChild(o),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function L2t(n,e){if(cC(n,e))gb(n,e);else{var t=n.elm,i=MJ(t);uC(e),null!==i&&(T_(i,e.elm,EJ(t)),RA(i,[n],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return yJ(e,QB(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=QB(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[],s=this._bgVNode=function F2t(n,e,t,i){var r;if(t&&"none"!==t)if(r=Gc("rect","bg",{width:n,height:e,x:"0",y:"0",id:"0"}),NY(t))bJ({fill:t},r.attrs,"fill",i);else if(EN(t))xJ({style:{fill:t},dirty:Kl,getBoundingRect:function(){return{width:n,height:e}}},r.attrs,"fill",i);else{var o=p1(t),s=o.opacity;r.attrs.fill=o.color,s<1&&(r.attrs["fill-opacity"]=s)}return r}(i,r,this._backgroundColor,o);s&&a.push(s);var l=e.compress?null:this._mainVNode=Gc("g","main",{},[]);this._paintList(t,o,l?l.children:a),l&&a.push(l);var c=On(Ro(o.defs),function(h){return o.defs[h]});if(c.length&&a.push(Gc("defs","defs",{},c)),e.animation){var u=function v2t(n,e,t){var i=(t=t||{}).newline?"\n":"",r=" {"+i,o=i+"}",a=On(Ro(n),function(l){return l+r+On(Ro(n[l]),function(c){return c+":"+n[l][c]+";"}).join(i)+o}).join(i),s=On(Ro(e),function(l){return"@keyframes "+l+r+On(Ro(e[l]),function(c){return c+r+On(Ro(e[l][c]),function(u){var d=e[l][c][u];return"d"===u&&(d='path("'+d+'")'),u+":"+d+";"}).join(i)+o}).join(i)+o}).join(i);return a||s?["<![CDATA[",a,s,"]]>"].join(i):""}(o.cssNodes,o.cssAnims,{newline:!0});if(u){var d=Gc("style","stl",{},[],u);a.push(d)}}return cJ(i,r,a,e.useViewBox)},n.prototype.renderToString=function(e){return KB(this.renderToVNode({animation:qr((e=e||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:qr(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var s,l,r=e.length,o=[],a=0,c=0,u=0;u<r;u++){var d=e[u];if(!d.invisible){var h=d.__clipPaths,p=h&&h.length||0,g=l&&l.length||0,y=void 0;for(y=Math.max(p-1,g-1);y>=0&&(!h||!l||h[y]!==l[y]);y--);for(var b=g-1;b>y;b--)s=o[--a-1];for(var w=y+1;w<p;w++){var M={};A2t(h[w],M,t);var E=Gc("g","clip-g-"+c++,M,[]);(s?s.children:i).push(E),o[a++]=E,s=E}l=h;var k=yJ(d,t);k&&(s?s.children:i).push(k)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,o=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),r&&o&&(o.style.display="none",e=fb(r,0,i),t=fb(r,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var a=o.style;a.width=e+"px",a.height=t+"px"}if(EN(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=IAt(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();const B2t=N2t;function dC(n){return null==n?0:n.length||1}function IJ(n){return n}var z2t=function(){function n(e,t,i,r,o,a){this._old=e,this._new=t,this._oldKeyGetter=i||IJ,this._newKeyGetter=r||IJ,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=r[a],l=i[s],c=dC(l);if(c>1){var u=l.shift();1===l.length&&(i[s]=l[0]),this._update&&this._update(u,a)}else 1===c?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var t=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=i[l],u=r[l],d=dC(c),h=dC(u);if(d>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(1===d&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(1===d&&1===h)this._update&&this._update(u,c),r[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],a=dC(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[r](e[a],a);if(o||(i[a]=s),t){var l=t[s],c=dC(l);0===c?(t[s]=a,o&&i.push(s)):1===c?t[s]=[l,a]:l.push(a)}}},n}();const om=z2t;var U2t=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function o3(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function LA(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const OA=function n(e){this.otherDims={},null!=e&&Dn(this,e)};var W2t=Ko(),Z2t={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},PJ=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=LJ(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return qr(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Mq(this.source),i=!OJ(e),r="",o=[],a=0,s=0;a<e;a++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===a)l=t?d.name:null,c=d.type,u=d.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=t?h.name:null,c=h.type)}o.push({property:l,type:c,ordinalMeta:u}),t&&null!=l&&(!d||!d.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=Z2t[c]||"f",u&&(r+=u.uid),r+="$"}var p=this.source;return{dimensions:o,hash:[p.seriesLayoutBy,p.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function kJ(n){return n instanceof PJ}function RJ(n){for(var e=Wi(),t=0;t<(n||[]).length;t++){var i=n[t],r=ar(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,t)}return e}function LJ(n){var e=W2t(n);return e.dimNameMap||(e.dimNameMap=RJ(n.dimensionsDefine))}function OJ(n){return n>30}var FJ,NA,fC,pC,a3,FA,s3,hC=ar,gg=On,Y2t=typeof Int32Array>"u"?Array:Int32Array,$2t=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],q2t=["_approximateExtent"],K2t=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;kJ(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<i.length;u++){var d=i[u],h=ci(d)?new OA({name:d}):d instanceof OA?d:new OA(d),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};a.push(p),o[p]=h,null!=c[p]&&(l=!0),h.createInvertedIndices&&(s[p]=[]),0===g.itemName&&(this._nameDimIdx=u),0===g.itemId&&(this._idDimIdx=u),r&&(h.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=Wi();Xt(a,function(b){y.set(o[b].storeDimIndex,b)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(sa(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var o,r=this;if(e instanceof rB&&(o=e),!o){var a=this.dimensions,s=$F(e)||Pu(e)?new Dq(e,a.length):e;o=new rB;var l=gg(a,function(c){return{type:r._dimInfos[c].type,property:c}});o.initData(s,l,i)}this._store=o,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function G2t(n,e){var t={},i=t.encode={},r=Wi(),o=[],a=[],s={};Xt(n.dimensions,function(h){var p=n.getDimensionInfo(h),g=p.coordDim;if(g){var y=p.coordDimIndex;o3(i,g)[y]=h,p.isExtraCoord||(r.set(g,1),function H2t(n){return!("ordinal"===n||"time"===n)}(p.type)&&(o[0]=h),o3(s,g)[y]=n.getDimensionIndex(p.name)),p.defaultTooltip&&a.push(h)}Q$.each(function(b,w){var M=o3(i,w),E=p.otherDims[w];null!=E&&!1!==E&&(M[E]=p.name)})});var l=[],c={};r.each(function(h,p){var g=i[p];c[p]=g[0],l=l.concat(g)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=On(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var d=i.tooltip;return d&&d.length?a=d.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,t.userOutput=new U2t(s,e),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<o;s++)this._nameList[s]=t[s-r],a&&s3(this,s)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==im&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList;if(r.getSource().sourceFormat===Dh&&!r.pure)for(var c=[],u=e;u<t;u++){var d=r.getItem(u,c);if(!this.hasItemOption&&uIt(d)&&(this.hasItemOption=!0),d){var h=d.name;null==o[u]&&null!=h&&(o[u]=Rc(h,null));var p=d.id;null==a[u]&&null!=p&&(a[u]=Rc(p,null))}}if(this._shouldMakeIdFromName())for(u=e;u<t;u++)s3(this,u);FJ(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){hC(e)?Dn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=fC(this,this._nameDimIdx,t)),null==i&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return NA(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._dimInfos[e];if(r)return this._store.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._dimInfos[e];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return Rn(e)?r.getValues(gg(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=(e&&this._invertedIndicesMap[e])[t];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=i||this,o=gg(pC(e),this._getStoreDimIndex,this);this._store.each(o,r?yi(t,r):t)},n.prototype.filterSelf=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=i||this,o=gg(pC(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?yi(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={},r=Ro(e),o=[];return Xt(r,function(a){var s=t._getStoreDimIndex(a);i[s]=e[a],o.push(s)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){Ki(e)&&(i=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i=i||this),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,a=gg(pC(e),this._getStoreDimIndex,this),s=FA(this);return s._store=this._store.map(a,o?yi(t,o):t),s},n.prototype.modify=function(e,t,i,r){var a=i||r||this,s=gg(pC(e),this._getStoreDimIndex,this);this._store.modify(s,a?yi(t,a):t)},n.prototype.downSample=function(e,t,i,r){var o=FA(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=FA(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Ws(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new om(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return NA(e,i)},function(i){return NA(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},hC(e)?Dn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e];return(i&&i[t])??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return null==o&&(Rn(o=this.getVisual(t))?o=o.slice():hC(o)&&(o=Dn({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,hC(t)?Dn(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){hC(e)?Dn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?Dn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){gF(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Xt(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:gg(this.dimensions,this._getDimInfo,this),this.hostModel)),a3(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];Ki(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(q2(arguments)))})},n.internalField=(FJ=function(e){var t=e._invertedIndicesMap;Xt(t,function(i,r){var o=e._dimInfos[r],a=o.ordinalMeta,s=e._store;if(a){i=t[r]=new Y2t(a.categories.length);for(var l=0;l<i.length;l++)i[l]=-1;for(l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},fC=function(e,t,i){return Rc(e._getCategory(t,i),null)},NA=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=fC(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},pC=function(e){return Rn(e)||(e=null!=e?[e]:[]),e},FA=function(e){var t=new n(e._schema?e._schema:gg(e.dimensions,e._getDimInfo,e),e.hostModel);return a3(t,e),t},a3=function(e,t){Xt($2t.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,Xt(q2t,function(i){e[i]=fr(t[i])}),e._calculationInfo=Dn({},t._calculationInfo)},void(s3=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=i[t],l=r[t];if(null==s&&null!=o&&(i[t]=s=fC(e,o,t)),null==l&&null!=a&&(r[t]=l=fC(e,a,t)),null==l&&null!=s){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[t]=l}})),n}();const od=K2t;function vb(n,e){$F(n)||(n=KF(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=Wi(),o=[],a=function J2t(n,e,t,i){var r=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return Xt(e,function(o){var a;ar(o)&&(a=o.dimsDef)&&(r=Math.max(r,a.length))}),r}(n,t,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&OJ(a),l=i===n.dimensionsDefine,c=l?LJ(n):RJ(i),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,a));for(var d=Wi(u),h=new Uq(a),p=0;p<h.length;p++)h[p]=-1;function g(st){var Lt=h[st];if(Lt<0){var kt=i[st],te=ar(kt)?kt:{name:kt},ne=new OA,de=te.name;return null!=de&&null!=c.get(de)&&(ne.name=ne.displayName=de),null!=te.type&&(ne.type=te.type),null!=te.displayName&&(ne.displayName=te.displayName),h[st]=o.length,ne.storeDimIndex=st,o.push(ne),ne}return o[Lt]}if(!s)for(p=0;p<a;p++)g(p);d.each(function(st,Lt){var kt=bs(st).slice();if(1===kt.length&&!ci(kt[0])&&kt[0]<0)d.set(Lt,!1);else{var te=d.set(Lt,[]);Xt(kt,function(ne,de){var Te=ci(ne)?c.get(ne):ne;null!=Te&&Te<a&&(te[de]=Te,b(g(Te),Lt,de))})}});var y=0;function b(st,Lt,kt){null!=Q$.get(Lt)?st.otherDims[Lt]=kt:(st.coordDim=Lt,st.coordDimIndex=kt,r.set(Lt,!0))}Xt(t,function(st){var Lt,kt,te,ne;if(ci(st))Lt=st,ne={};else{Lt=(ne=st).name;var de=ne.ordinalMeta;ne.ordinalMeta=null,(ne=Dn({},ne)).ordinalMeta=de,kt=ne.dimsDef,te=ne.otherDims,ne.name=ne.coordDim=ne.coordDimIndex=ne.dimsDef=ne.otherDims=null}var Te=d.get(Lt);if(!1!==Te){if(!(Te=bs(Te)).length)for(var be=0;be<(kt&&kt.length||1);be++){for(;y<a&&null!=g(y).coordDim;)y++;y<a&&Te.push(y++)}Xt(Te,function(Ve,Fe){var Ke=g(Ve);if(l&&null!=ne.type&&(Ke.type=ne.type),b(nr(Ke,ne),Lt,Fe),null==Ke.name&&kt){var In=kt[Fe];!ar(In)&&(In={name:In}),Ke.name=Ke.displayName=In.name,Ke.defaultTooltip=In.defaultTooltip}te&&nr(Ke.otherDims,te)})}});var w=e.generateCoord,M=e.generateCoordCount,E=null!=M;M=w?M||1:0;var k=w||"value";function j(st){null==st.name&&(st.name=st.coordDim)}if(s)Xt(o,function(st){j(st)}),o.sort(function(st,Lt){return st.storeDimIndex-Lt.storeDimIndex});else for(var H=0;H<a;H++){var rt=g(H);null==rt.coordDim&&(rt.coordDim=tNt(k,r,E),rt.coordDimIndex=0,(!w||M<=0)&&(rt.isExtraCoord=!0),M--),j(rt),null==rt.type&&(nq(n,H)===yu.Must||rt.isExtraCoord&&(null!=rt.otherDims.itemName||null!=rt.otherDims.seriesName))&&(rt.type="ordinal")}return function Q2t(n){for(var e=Wi(),t=0;t<n.length;t++){var i=n[t],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}(o),new PJ({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function tNt(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var eNt=function n(e){this.coordSysDims=[],this.axisMap=Wi(),this.categoryAxisMap=Wi(),this.coordSysName=e},iNt={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",vc).models[0],o=n.getReferringComponents("yAxis",vc).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),_b(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),_b(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",vc).models[0];e.coordSysDims=["single"],t.set("single",r),_b(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",vc).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",a),_b(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),_b(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();Xt(o.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=a[l];t.set(u,c),_b(c)&&(i.set(u,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=l))})}};function _b(n){return"category"===n.get("type")}function vg(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function BJ(n,e){return vg(n,e)?n.getCalculationInfo("stackResultDimension"):e}const am=function lNt(n,e,t){t=t||{};var r,i=e.getSourceManager(),o=!1;n?(o=!0,r=KF(n)):o=(r=i.getSource()).sourceFormat===Dh;var a=function nNt(n){var e=n.get("coordinateSystem"),t=new eNt(e),i=iNt[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}(e),s=function aNt(n,e){var r,t=n.get("coordinateSystem"),i=V1.get(t);return e&&e.coordSysDims&&(r=On(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=LA(l)}return a})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}(e,a),l=t.useEncodeDefaulter,c=Ki(l)?l:l?Nr(eq,s,e):null,d=vb(r,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o}),h=function sNt(n,e,t){var i,r;return t&&Xt(n,function(o,a){var l=t.categoryAxisMap.get(o.coordDim);l&&(null==i&&(i=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(r=!0)}),!r&&null!=i&&(n[i].otherDims.itemName=0),i}(d.dimensions,t.createInvertedIndices,a),p=o?null:i.getSharedDataStore(d),g=function rNt(n,e,t){var o,a,s,i=(t=t||{}).byIndex,r=t.stackedCoordDimension;!function oNt(n){return!kJ(n.schema)}(e)?(o=(a=e.schema).dimensions,s=e.store):o=e;var c,u,d,h,l=!(!n||!n.get("stack"));if(Xt(o,function(M,E){ci(M)&&(o[E]=M={name:M}),l&&!M.isExtraCoord&&(!i&&!c&&M.ordinalMeta&&(c=M),!u&&"ordinal"!==M.type&&"time"!==M.type&&(!r||r===M.coordDim)&&(u=M))}),u&&!i&&!c&&(i=!0),u){d="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var p=u.coordDim,g=u.type,y=0;Xt(o,function(M){M.coordDim===p&&y++});var b={name:d,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},w={name:h,coordDim:h,coordDimIndex:y+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(b.storeDimIndex=s.ensureCalculationDimension(h,g),w.storeDimIndex=s.ensureCalculationDimension(d,g)),a.appendCalculationDimension(b),a.appendCalculationDimension(w)):(o.push(b),o.push(w))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:h,stackResultDimension:d}}(e,{schema:d,store:p}),y=new od(d,e);y.setCalculationInfo(g);var b=null!=h&&function cNt(n){if(n.sourceFormat===Dh){var e=function uNt(n){for(var e=0;e<n.length&&null==n[e];)e++;return n[e]}(n.data||[]);return!Rn(G0(e))}}(r)?function(w,M,E,k){return k===h?E:this.defaultDimValueGetter(w,M,E,k)}:null;return y.hasItemOption=!1,y.initData(o?r:p,null,b),y};var dNt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return mn(e,n),e.prototype.getInitialData=function(t){return am(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new br,r=yc("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*t.itemHeight,c=yc(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);return i.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?a:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(pl);const hNt=dNt;function yb(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var r=ib(n,e,t[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<t.length;a++)o.push(ib(n,e,t[a]));return o.join(" ")}}function VJ(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Rn(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var fNt=function(n){function e(t,i,r,o){var a=n.call(this)||this;return a.updateData(t,i,r,o),a}return mn(e,n),e.prototype._createSymbol=function(t,i,r,o,a){this.removeAll();var s=yc(t,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=pNt,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){em(this.childAt(0))},e.prototype.downplay=function(){nm(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,i),c=a!==this._symbolType,u=o&&o.disableAnimation;if(c){var d=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,t,i,l,d)}else{(h=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};u?h.attr(p):fa(h,p,s,i),rf(h)}if(this._updateCommon(t,i,l,r,o),c){var h=this.childAt(0);u||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}},h.scaleX=h.scaleY=0,h.style.opacity=0,cl(h,p,s,i))}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,o,a){var c,u,d,h,p,g,y,b,w,s=this.childAt(0),l=t.hostModel;if(o&&(c=o.emphasisItemStyle,u=o.blurItemStyle,d=o.selectItemStyle,h=o.focus,p=o.blurScope,y=o.labelStatesModels,b=o.hoverScale,w=o.cursorStyle,g=o.emphasisDisabled),!o||t.hasItemOption){var M=o&&o.itemModel?o.itemModel:t.getItemModel(i),E=M.getModel("emphasis");c=E.getModel("itemStyle").getItemStyle(),d=M.getModel(["select","itemStyle"]).getItemStyle(),u=M.getModel(["blur","itemStyle"]).getItemStyle(),h=E.get("focus"),p=E.get("blurScope"),g=E.get("disabled"),y=zc(M),b=E.getShallow("scale"),w=M.getShallow("cursor")}var k=t.getItemVisual(i,"symbolRotate");s.attr("rotation",(k||0)*Math.PI/180||0);var j=hb(t.getItemVisual(i,"symbolOffset"),r);j&&(s.x=j[0],s.y=j[1]),w&&s.attr("cursor",w);var H=t.getItemVisual(i,"style"),rt=H.fill;if(s instanceof gu){var yt=s.style;s.useStyle(Dn({image:yt.image,x:yt.x,y:yt.y,width:yt.width,height:yt.height},H))}else s.useStyle(s.__isEmptyBrush?Dn({},H):H),s.style.decal=null,s.setColor(rt,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var st=t.getItemVisual(i,"liftZ"),Lt=this._z2;null!=st?null==Lt&&(this._z2=s.z2,s.z2+=st):null!=Lt&&(s.z2=Lt,this._z2=null);var kt=a&&a.useNameLabel;_u(s,y,{labelFetcher:l,labelDataIndex:i,defaultText:function te(Te){return kt?t.getName(Te):yb(t,Te)},inheritColor:rt,defaultOpacity:H.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var ne=s.ensureState("emphasis");ne.style=c,s.ensureState("select").style=d,s.ensureState("blur").style=u;var de=null==b||!0===b?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;ne.scaleX=this._sizeX*de,ne.scaleY=this._sizeY*de,this.setSymbolScale(1),Al(this,h,p,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var o=this.childAt(0),a=kr(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&cg(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();cg(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:t,removeOpt:s})},e.getSymbolSize=function(t,i){return eC(t.getItemVisual(i,"symbolSize"))},e}(br);function pNt(n,e){this.parent.drift(n,e)}const mC=fNt;function l3(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==n.getItemVisual(t,"symbol")}function zJ(n){return null!=n&&!ar(n)&&(n={isIgnore:n}),n||{}}function UJ(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:zc(e),cursorStyle:e.get("cursor")}}var mNt=function(){function n(e){this.group=new br,this._SymbolCtor=e||mC}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=zJ(t);var i=this.group,r=e.hostModel,o=this._data,a=this._SymbolCtor,s=t.disableAnimation,l=UJ(e),c={disableAnimation:s},u=t.getSymbolPoint||function(d){return e.getItemLayout(d)};o||i.removeAll(),e.diff(o).add(function(d){var h=u(d);if(l3(e,h,d,t)){var p=new a(e,d,l,c);p.setPosition(h),e.setItemGraphicEl(d,p),i.add(p)}}).update(function(d,h){var p=o.getItemGraphicEl(h),g=u(d);if(l3(e,g,d,t)){var y=e.getItemVisual(d,"symbol")||"circle",b=p&&p.getSymbolType&&p.getSymbolType();if(!p||b&&b!==y)i.remove(p),(p=new a(e,d,l,c)).setPosition(g);else{p.updateData(e,d,l,c);var w={x:g[0],y:g[1]};s?p.attr(w):fa(p,w,r)}i.add(p),e.setItemGraphicEl(d,p)}else i.remove(p)}).remove(function(d){var h=o.getItemGraphicEl(d);h&&h.fadeOut(function(){i.remove(h)},r)}).execute(),this._getSymbolPoint=u,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=UJ(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=zJ(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(l3(t,a,o,i)){var s=new this._SymbolCtor(t,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),t.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){pg(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();const gC=mNt;function GJ(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=function gNt(n,e){var t=0,i=n.scale.getExtent();return"start"===e?t=i[0]:"end"===e?t=i[1]:sa(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}(r,t),a=i.dim,s=r.dim,l=e.mapDimension(s),c=e.mapDimension(a),u="x"===s||"radius"===s?1:0,d=On(n.dimensions,function(g){return e.mapDimension(g)}),h=!1,p=e.getCalculationInfo("stackResultDimension");return vg(e,d[0])&&(h=!0,d[0]=p),vg(e,d[1])&&(h=!0,d[1]=p),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function HJ(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=t.get(n.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var jJ=typeof Float32Array<"u",vNt=jJ?Float32Array:Array;function tp(n){return Rn(n)?jJ?new Float32Array(n):n:new vNt(n)}var _g=Math.min,yg=Math.max;function D_(n,e){return isNaN(n)||isNaN(e)}function c3(n,e,t,i,r,o,a,s,l){for(var c,u,d,h,p,g,y=t,b=0;b<i;b++){var w=e[2*y],M=e[2*y+1];if(y>=r||y<0)break;if(D_(w,M)){if(l){y+=o;continue}break}if(y===t)n[o>0?"moveTo":"lineTo"](w,M),d=w,h=M;else{var E=w-c,k=M-u;if(E*E+k*k<.5){y+=o;continue}if(a>0){for(var j=y+o,H=e[2*j],rt=e[2*j+1];H===w&&rt===M&&b<i;)b++,H=e[2*(j+=o)],rt=e[2*j+1],E=(w=e[2*(y+=o)])-c,k=(M=e[2*y+1])-u;var yt=b+1;if(l)for(;D_(H,rt)&&yt<i;)yt++,H=e[2*(j+=o)],rt=e[2*j+1];var st=.5,Lt=0,kt=0,te=void 0,ne=void 0;if(yt>=i||D_(H,rt))p=w,g=M;else{Lt=H-c,kt=rt-u;var de=w-c,Te=H-w,be=M-u,Ve=rt-M,Fe=void 0,Ke=void 0;if("x"===s){var In=Lt>0?1:-1;p=w-In*(Fe=Math.abs(de))*a,g=M,te=w+In*(Ke=Math.abs(Te))*a,ne=M}else if("y"===s){var Nn=kt>0?1:-1;p=w,g=M-Nn*(Fe=Math.abs(be))*a,te=w,ne=M+Nn*(Ke=Math.abs(Ve))*a}else Fe=Math.sqrt(de*de+be*be),p=w-Lt*a*(1-(st=(Ke=Math.sqrt(Te*Te+Ve*Ve))/(Ke+Fe))),g=M-kt*a*(1-st),ne=M+kt*a*st,te=_g(te=w+Lt*a*st,yg(H,w)),ne=_g(ne,yg(rt,M)),te=yg(te,_g(H,w)),g=M-(kt=(ne=yg(ne,_g(rt,M)))-M)*Fe/Ke,p=_g(p=w-(Lt=te-w)*Fe/Ke,yg(c,w)),g=_g(g,yg(u,M)),te=w+(Lt=w-(p=yg(p,_g(c,w))))*Ke/Fe,ne=M+(kt=M-(g=yg(g,_g(u,M))))*Ke/Fe}n.bezierCurveTo(d,h,p,g,w,M),d=te,h=ne}else n.lineTo(w,M)}c=w,u=M,y+=o}return b}var WJ=function n(){this.smooth=0,this.smoothConstraint=!0},bNt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return mn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new WJ},e.prototype.buildPath=function(t,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&D_(r[2*a-2],r[2*a-1]);a--);for(;o<a&&D_(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=c3(t,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,l,o=this.path.data,a=jf.CMD,c="x"===i,u=[],d=0;d<o.length;){var p=void 0,g=void 0,y=void 0,b=void 0,w=void 0,M=void 0,E=void 0;switch(o[d++]){case a.M:s=o[d++],l=o[d++];break;case a.L:if(p=o[d++],g=o[d++],(E=c?(t-s)/(p-s):(t-l)/(g-l))<=1&&E>=0){var k=c?(g-l)*E+l:(p-s)*E+s;return c?[t,k]:[k,t]}s=p,l=g;break;case a.C:p=o[d++],g=o[d++],y=o[d++],b=o[d++],w=o[d++],M=o[d++];var j=c?iD(s,p,y,w,t,u):iD(l,g,b,M,t,u);if(j>0)for(var H=0;H<j;H++){var rt=u[H];if(rt<=1&&rt>=0)return k=c?Vc(l,g,b,M,rt):Vc(s,p,y,w,rt),c?[t,k]:[k,t]}s=w,l=M}}},e}(wo),xNt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e}(WJ),ZJ=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new xNt},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&D_(r[2*s-2],r[2*s-1]);s--);for(;a<s&&D_(r[2*a],r[2*a+1]);a++);}for(;a<s;){var c=c3(t,r,a,s,s,1,i.smooth,l,i.connectNulls);c3(t,o,a+c-1,c,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=c+1,t.closePath()}},e}(wo);function YJ(n,e,t,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=t.get(["lineStyle","width"])||2;a-=u/2,s-=u/2,l+=u,c+=u,a=Math.floor(a),l=Math.round(l);var d=new Qo({shape:{x:a,y:s,width:l,height:c}});if(e){var h=n.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=c),d.shape.height=0);var y=Ki(r)?function(b){r(b,d)}:null;cl(d,{shape:{width:l,height:c,x:a,y:s}},t,null,i,y)}return d}function XJ(n,e,t){var i=n.getArea(),r=Bl(i.r0,1),o=Bl(i.r,1),a=new Sd({shape:{cx:Bl(n.cx,1),cy:Bl(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,cl(a,{shape:{endAngle:i.endAngle,r:o}},t)),a}function BA(n,e,t,i,r){return n?"polar"===n.type?XJ(n,e,t):"cartesian2d"===n.type?YJ(n,e,t,i,r):null:null}function A_(n,e){return n.type===e}function $J(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function qJ(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[i,r]]}function KJ(n,e){var t=qJ(n),i=t[0],r=t[1],o=qJ(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function QJ(n){return sa(n)?n:n?.5:0}function bg(n,e,t,i){var r=e.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],s=0,l=[],c=[],u=[],d=[];if(i){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&d.push(n[s],n[s+1]);n=d}for(s=0;s<n.length-2;s+=2)switch(u[0]=n[s+2],u[1]=n[s+3],c[0]=n[s],c[1]=n[s+1],a.push(c[0],c[1]),t){case"end":l[o]=u[o],l[1-o]=c[1-o],a.push(l[0],l[1]);break;case"middle":var p=[];l[o]=p[o]=(c[o]+u[o])/2,l[1-o]=c[1-o],p[1-o]=u[1-o],a.push(l[0],l[1]),a.push(p[0],p[1]);break;default:l[o]=c[o],l[1-o]=u[1-o],a.push(l[0],l[1])}return a.push(n[s++],n[s++]),a}function TNt(n,e){return isNaN(n)||isNaN(e)}function JJ(n,e){return[n[2*e],n[2*e+1]]}function ttt(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<nd.length;e++)if(n.get([nd[e],"endLabel","show"]))return!0;return!1}function u3(n,e,t,i){if(A_(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=ttt(i)?function(p,g){n._endLabelOnDuring(p,g,a,s,o,r,e)}:null,c=e.getBaseAxis().isHorizontal(),u=YJ(e,t,i,function(){var p=n._endLabel;p&&t&&null!=s.originalX&&p.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var d=u.shape,h=Math.max(d.width,d.height);c?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return l&&l(1,u),u}return XJ(e,t,i)}var PNt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.init=function(){var t=new br,i=new gC;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem,s=this.group,l=t.getData(),c=t.getModel("lineStyle"),u=t.getModel("areaStyle"),d=l.getLayout("points")||[],h="polar"===a.type,p=this._coordSys,g=this._symbolDraw,y=this._polyline,b=this._polygon,w=this._lineGroup,M=!i.ssr&&t.isAnimationEnabled(),E=!u.isEmpty(),k=u.get("origin"),j=GJ(a,l,k),H=E&&function wNt(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),r=tp(2*i),o=0;o<i;o++){var a=HJ(t,n,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(a,l,j),rt=t.get("showSymbol"),yt=t.get("connectNulls"),st=rt&&!h&&function MNt(n,e,t){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function ENt(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*mC.getSymbolSize(e,a)[n.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return Xt(o.getViewLabels(),function(l){var c=o.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(e.get(a,l))}}}}(t,l,a),Lt=this._data;Lt&&Lt.eachItemGraphicEl(function(to,Gi){to.__temp&&(s.remove(to),Lt.setItemGraphicEl(Gi,null))}),rt||g.remove(),s.add(w);var te,kt=!h&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&(null!=(te=a.getArea()).width?(te.x-=.1,te.y-=.1,te.width+=.2,te.height+=.2):te.r0&&(te.r0-=.5,te.r+=.5)),this._clipShapeForSymbol=te;var ne=function SNt(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===e.type){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=e.getAxis(r),c=On(o.stops,function(E){return{coord:l.toGlobalCoord(l.dataToCoord(E.value)),color:E.color}}),u=c.length,d=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var h=function CNt(n,e){var r,o,t=[],i=n.length;function a(u,d,h){var p=u.coord,y=function CAt(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=xd(e[r]),s=xd(e[o]),l=i-r,c=Nf([tf(ig(a[0],s[0],l)),tf(ig(a[1],s[1],l)),tf(ig(a[2],s[2],l)),d1(ig(a[3],s[3],l))],"rgba");return t?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}((h-p)/(d.coord-p),[u.color,d.color]);return{coord:h,color:y}}for(var s=0;s<i;s++){var l=n[s],c=l.coord;if(c<0)r=l;else{if(c>e){o?t.push(a(o,l,e)):r&&t.push(a(r,l,0),a(r,l,e));break}r&&(t.push(a(r,l,0)),r=null),t.push(l),o=l}}return t}(c,"x"===r?t.getWidth():t.getHeight()),p=h.length;if(!p&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var y=h[0].coord-10,b=h[p-1].coord+10,w=b-y;if(w<.001)return"transparent";Xt(h,function(E){E.offset=(E.coord-y)/w}),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var M=new $f(0,0,0,0,h,!0);return M[r]=y,M[r+"2"]=b,M}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(y&&p.type===a.type&&kt===this._step){E&&!b?b=this._newPolygon(d,H):b&&!E&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,l_(ne));var de=w.getClipPath();de?cl(de,{shape:u3(this,a,!1,t).shape},t):w.setClipPath(u3(this,a,!0,t)),rt&&g.updateData(l,{isIgnore:st,clipShape:te,disableAnimation:!0,getSymbolPoint:function(to){return[d[2*to],d[2*to+1]]}}),(!$J(this._stackedOnPoints,H)||!$J(this._points,d))&&(M?this._doUpdateAnimation(l,H,a,r,kt,k,yt):(kt&&(d=bg(d,a,kt,yt),H&&(H=bg(H,a,kt,yt))),y.setShape({points:d}),b&&b.setShape({points:d,stackedOnPoints:H})))}else rt&&g.updateData(l,{isIgnore:st,clipShape:te,disableAnimation:!0,getSymbolPoint:function(to){return[d[2*to],d[2*to+1]]}}),M&&this._initSymbolLabelAnimation(l,a,te),kt&&(d=bg(d,a,kt,yt),H&&(H=bg(H,a,kt,yt))),y=this._newPolyline(d),E?b=this._newPolygon(d,H):b&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,l_(ne)),w.setClipPath(u3(this,a,!0,t));var be=t.getModel("emphasis"),Ve=be.get("focus"),Fe=be.get("blurScope"),Ke=be.get("disabled");y.useStyle(nr(c.getLineStyle(),{fill:"none",stroke:ne,lineJoin:"bevel"})),vu(y,t,"lineStyle"),y.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(y.getState("emphasis").style.lineWidth=+y.style.lineWidth+1),kr(y).seriesIndex=t.seriesIndex,Al(y,Ve,Fe,Ke);var Nn=QJ(t.get("smooth")),qn=t.get("smoothMonotone");if(y.setShape({smooth:Nn,smoothMonotone:qn,connectNulls:yt}),b){var Kn=l.getCalculationInfo("stackedOnSeries"),Gn=0;b.useStyle(nr(u.getAreaStyle(),{fill:ne,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Kn&&(Gn=QJ(Kn.get("smooth"))),b.setShape({smooth:Nn,stackedOnSmooth:Gn,smoothMonotone:qn,connectNulls:yt}),vu(b,t,"areaStyle"),kr(b).seriesIndex=t.seriesIndex,Al(b,Ve,Fe,Ke)}var Ui=function(to){o._changePolyState(to)};l.eachItemGraphicEl(function(to){to&&(to.onHoverStateChange=Ui)}),this._polyline.onHoverStateChange=Ui,this._data=l,this._coordSys=a,this._stackedOnPoints=H,this._points=d,this._step=kt,this._valueOrigin=k,t.get("triggerLineEvent")&&(this.packEventData(t,y),b&&this.packEventData(t,b))},e.prototype.packEventData=function(t,i){kr(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var a=t.getData(),s=Wv(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(s);if(!c){var u=l[2*s],d=l[2*s+1];if(isNaN(u)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,d))return;var h=t.get("zlevel")||0,p=t.get("z")||0;(c=new mC(a,s)).x=u,c.y=d,c.setZ(h,p);var g=c.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=p,g.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Zs.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var a=t.getData(),s=Wv(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Zs.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;kD(this._polyline,t),i&&kD(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new bNt({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new ZJ({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;"cartesian2d"===i.type?(o=s.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===s.dim,a=!0);var c=t.hostModel,u=c.get("animationDuration");Ki(u)&&(u=u(null));var d=c.get("animationDelay")||0,h=Ki(d)?d(null):d;t.eachItemGraphicEl(function(p,g){var y=p;if(y){var w=void 0,M=void 0,E=void 0;if(r)if(a){var k=r,j=i.pointToCoord([p.x,p.y]);o?(w=k.startAngle,M=k.endAngle,E=-j[1]/180*Math.PI):(w=k.r0,M=k.r,E=j[0])}else o?(w=r.x,M=r.x+r.width,E=p.x):(w=r.y+r.height,M=r.y,E=p.y);var rt=M===w?0:(E-w)/(M-w);l&&(rt=1-rt);var yt=Ki(d)?d(g):u*rt+h,st=y.getSymbolPath(),Lt=st.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:yt}),Lt&&Lt.animateFrom({style:{opacity:0}},{duration:300,delay:yt}),st.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var o=t.getModel("endLabel");if(ttt(t)){var a=t.getData(),s=this._polyline,l=a.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new la({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function DNt(n){for(var e=n.length/2;e>0&&TNt(n[2*e-2],n[2*e-1]);e--);return e-1}(l);u>=0&&(_u(s,zc(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:u,defaultText:function(d,h,p){return null!=p?VJ(a,p):yb(a,d)},enableTextSetter:!0},function INt(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),r=t.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||a}}}(o,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,a,s,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&null==o.originalX&&(o.originalX=c.x,o.originalY=c.y);var d=r.getLayout("points"),h=r.hostModel,p=h.get("connectNulls"),g=s.get("precision"),y=s.get("distance")||0,b=l.getBaseAxis(),w=b.isHorizontal(),M=b.inverse,E=i.shape,k=M?w?E.x:E.y+E.height:w?E.x+E.width:E.y,j=(w?y:0)*(M?-1:1),H=(w?0:-y)*(M?-1:1),rt=w?"x":"y",yt=function ANt(n,e,t){for(var o,a,i=n.length/2,r="x"===t?0:1,s=0,l=-1,c=0;c<i;c++)if(a=n[2*c+r],!isNaN(a)&&!isNaN(n[2*c+1-r])){if(0===c){o=a;continue}if(o<=e&&a>=e||o>=e&&a<=e){l=c;break}s=c,o=a}return{range:[s,l],t:(e-o)/(a-o)}}(d,k,rt),st=yt.range,Lt=st[1]-st[0],kt=void 0;if(Lt>=1){if(Lt>1&&!p){var te=JJ(d,st[0]);c.attr({x:te[0]+j,y:te[1]+H}),a&&(kt=h.getRawValue(st[0]))}else{(te=u.getPointOn(k,rt))&&c.attr({x:te[0]+j,y:te[1]+H});var ne=h.getRawValue(st[0]),de=h.getRawValue(st[1]);a&&(kt=wX(r,g,ne,de,yt.t))}o.lastFrameIndex=st[0]}else{var Te=1===t||o.lastFrameIndex>0?st[0]:0;te=JJ(d,Te),a&&(kt=h.getRawValue(Te)),c.attr({x:te[0]+j,y:te[1]+H})}a&&X0(c).setLabelText(kt)}},e.prototype._doUpdateAnimation=function(t,i,r,o,a,s,l){var c=this._polyline,u=this._polygon,d=t.hostModel,h=function yNt(n,e,t,i,r,o,a,s){for(var l=function _Nt(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,r){t.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}(n,e),c=[],u=[],d=[],h=[],p=[],g=[],y=[],b=GJ(r,e,a),w=n.getLayout("points")||[],M=e.getLayout("points")||[],E=0;E<l.length;E++){var k=l[E],j=!0,H=void 0,rt=void 0;switch(k.cmd){case"=":var yt=w[H=2*k.idx],st=w[H+1],Lt=M[rt=2*k.idx1],kt=M[rt+1];(isNaN(yt)||isNaN(st))&&(yt=Lt,st=kt),c.push(yt,st),u.push(Lt,kt),d.push(t[H],t[H+1]),h.push(i[rt],i[rt+1]),y.push(e.getRawIndex(k.idx1));break;case"+":var te=k.idx,ne=b.dataDimsForPoint,de=r.dataToPoint([e.get(ne[0],te),e.get(ne[1],te)]);rt=2*te,c.push(de[0],de[1]),u.push(M[rt],M[rt+1]);var Te=HJ(b,r,e,te);d.push(Te[0],Te[1]),h.push(i[rt],i[rt+1]),y.push(e.getRawIndex(te));break;case"-":j=!1}j&&(p.push(k),g.push(g.length))}g.sort(function(Ui,to){return y[Ui]-y[to]});var be=c.length,Ve=tp(be),Fe=tp(be),Ke=tp(be),In=tp(be),Nn=[];for(E=0;E<g.length;E++){var qn=g[E],Kn=2*E,Gn=2*qn;Ve[Kn]=c[Gn],Ve[Kn+1]=c[Gn+1],Fe[Kn]=u[Gn],Fe[Kn+1]=u[Gn+1],Ke[Kn]=d[Gn],Ke[Kn+1]=d[Gn+1],In[Kn]=h[Gn],In[Kn+1]=h[Gn+1],Nn[E]=p[qn]}return{current:Ve,next:Fe,stackedOnCurrent:Ke,stackedOnNext:In,status:Nn}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),p=h.current,g=h.stackedOnCurrent,y=h.next,b=h.stackedOnNext;if(a&&(p=bg(h.current,r,a,l),g=bg(h.stackedOnCurrent,r,a,l),y=bg(h.next,r,a,l),b=bg(h.stackedOnNext,r,a,l)),KJ(p,y)>3e3||u&&KJ(g,b)>3e3)return c.stopAnimation(),c.setShape({points:y}),void(u&&(u.stopAnimation(),u.setShape({points:y,stackedOnPoints:b})));c.shape.__points=h.current,c.shape.points=p;var w={shape:{points:y}};h.current!==p&&(w.shape.__points=h.next),c.stopAnimation(),fa(c,w,d),u&&(u.setShape({points:p,stackedOnPoints:g}),u.stopAnimation(),fa(u,{shape:{stackedOnPoints:b}},d),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var M=[],E=h.status,k=0;k<E.length;k++)if("="===E[k].cmd){var H=t.getItemGraphicEl(E[k].idx1);H&&M.push({el:H,ptIdx:k})}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var rt=c.shape.__points,yt=0;yt<M.length;yt++){var st=M[yt].el,Lt=2*M[yt].ptIdx;st.x=rt[Lt],st.y=rt[Lt+1],st.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Zs);const kNt=PNt;function vC(n,e){return{seriesType:n,plan:ob(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,a=e||t.pipelineContext.large;if(r){var s=On(r.dimensions,function(p){return i.mapDimension(p)}).slice(0,2),l=s.length,c=i.getCalculationInfo("stackResultDimension");vg(i,s[0])&&(s[0]=c),vg(i,s[1])&&(s[1]=c);var u=i.getStore(),d=i.getDimensionIndex(s[0]),h=i.getDimensionIndex(s[1]);return l&&{progress:function(p,g){for(var b=a&&tp((p.end-p.start)*l),w=[],M=[],E=p.start,k=0;E<p.end;E++){var j=void 0;if(1===l){var H=u.get(d,E);j=r.dataToPoint(H,null,M)}else w[0]=u.get(d,E),w[1]=u.get(h,E),j=r.dataToPoint(w,null,M);a?(b[k++]=j[0],b[k++]=j[1]):g.setItemLayout(E,j.slice())}a&&g.setLayout("points",b)}}}}}}var RNt={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return 0===t?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},LNt=function(n){return Math.round(n.length/2)};function ett(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),c=a.getOtherAxis(l),u=l.getExtent(),d=i.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(d||1),p=Math.round(s/h);if(isFinite(p)&&p>1){"lttb"===o&&e.setData(r.lttbDownSample(r.mapDimension(c.dim),1/p));var g=void 0;ci(o)?g=RNt[o]:Ki(o)&&(g=o),g&&e.setData(r.downSample(r.mapDimension(c.dim),1/p,g,LNt))}}}}}var d3="__ec_stack_";function h3(n){return n.get("stack")||d3+n.seriesIndex}function f3(n){return n.dim+n.index}function ntt(n,e){var t=[];return e.eachSeriesByType(n,function(i){stt(i)&&t.push(i)}),t}function itt(n){var e=function FNt(n){var e={};Xt(n,function(l){var u=l.coordinateSystem.getBaseAxis();if("time"===u.type||"value"===u.type)for(var d=l.getData(),h=u.dim+"_"+u.index,p=d.getDimensionIndex(d.mapDimension(u.dim)),g=d.getStore(),y=0,b=g.count();y<b;++y){var w=g.get(p,y);e[h]?e[h].push(w):e[h]=[w]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(l,c){return l-c});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}t[i]=o}}return t}(n),t=[];return Xt(n,function(i){var s,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)s=o.getBandWidth();else if("value"===o.type||"time"===o.type){var c=e[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=c?u/h*c:u}else{var p=i.getData();s=Math.abs(a[1]-a[0])/p.count()}var g=ni(i.get("barWidth"),s),y=ni(i.get("barMaxWidth"),s),b=ni(i.get("barMinWidth")||(ltt(i)?.5:1),s),w=i.get("barGap"),M=i.get("barCategoryGap");t.push({bandWidth:s,barWidth:g,barMaxWidth:y,barMinWidth:b,barGap:w,barCategoryGap:M,axisKey:f3(o),stackId:h3(i)})}),rtt(t)}function rtt(n){var e={};Xt(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[o]=s;var c=i.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=i.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=i.barMaxWidth;d&&(l[c].maxWidth=d);var h=i.barMinWidth;h&&(l[c].minWidth=h);var p=i.barGap;null!=p&&(s.gap=p);var g=i.barCategoryGap;null!=g&&(s.categoryGap=g)});var t={};return Xt(e,function(i,r){t[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(null==s){var l=Ro(o).length;s=Math.max(35-4*l,15)+"%"}var c=ni(s,a),u=ni(i.gap,1),d=i.remainedWidth,h=i.autoWidthCount,p=(d-c)/(h+(h-1)*u);p=Math.max(p,0),Xt(o,function(w){var M=w.maxWidth,E=w.minWidth;if(w.width){var k=w.width;M&&(k=Math.min(k,M)),E&&(k=Math.max(k,E)),w.width=k,d-=k+u*k,h--}else k=p,M&&M<k&&(k=Math.min(M,d)),E&&E>k&&(k=E),k!==p&&(w.width=k,d-=k+u*k,h--)}),p=(d-c)/(h+(h-1)*u),p=Math.max(p,0);var y,g=0;Xt(o,function(w,M){w.width||(w.width=p),y=w,g+=w.width*(1+u)}),y&&(g-=y.width*u);var b=-g/2;Xt(o,function(w,M){t[r][M]=t[r][M]||{bandWidth:a,offset:b,width:w.width},b+=w.width*(1+u)})}),t}function ott(n,e){var t=ntt(n,e),i=itt(t);Xt(t,function(r){var o=r.getData(),s=r.coordinateSystem.getBaseAxis(),l=h3(r),c=i[f3(s)][l];o.setLayout({bandWidth:c.bandWidth,offset:c.offset,size:c.width})})}function att(n){return{seriesType:n,plan:ob(),reset:function(e){if(stt(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),c=t.mapDimension(o.dim),u=t.getCalculationInfo("stackResultDimension"),d=vg(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),h=o.isHorizontal(),p=function VNt(n,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,o),g=ltt(e),y=e.get("barMinHeight")||0,b=u&&t.getDimensionIndex(u),w=t.getLayout("size"),M=t.getLayout("offset");return{progress:function(E,k){for(var kt,j=E.count,H=g&&tp(3*j),rt=g&&l&&tp(3*j),yt=g&&tp(j),st=i.master.getRect(),Lt=h?st.width:st.height,te=k.getStore(),ne=0;null!=(kt=E.next());){var de=te.get(d?b:a,kt),Te=te.get(s,kt),be=p,Ve=void 0;d&&(Ve=+de-te.get(a,kt));var Fe=void 0,Ke=void 0,In=void 0,Nn=void 0;if(h){var qn=i.dataToPoint([de,Te]);d&&(be=i.dataToPoint([Ve,Te])[0]),Fe=be,Ke=qn[1]+M,In=qn[0]-be,Nn=w,Math.abs(In)<y&&(In=(In<0?-1:1)*y)}else qn=i.dataToPoint([Te,de]),d&&(be=i.dataToPoint([Te,Ve])[1]),Fe=qn[0]+M,Ke=be,In=w,Nn=qn[1]-be,Math.abs(Nn)<y&&(Nn=(Nn<=0?-1:1)*y);g?(H[ne]=Fe,H[ne+1]=Ke,H[ne+2]=h?In:Nn,rt&&(rt[ne]=h?st.x:Fe,rt[ne+1]=h?Ke:st.y,rt[ne+2]=Lt),yt[kt]=kt):k.setItemLayout(kt,{x:Fe,y:Ke,width:In,height:Nn}),ne+=3}g&&k.setLayout({largePoints:H,largeDataIndices:yt,largeBackgroundPoints:rt,valueAxisHorizontal:h})}}}}}}function stt(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function ltt(n){return n.pipelineContext&&n.pipelineContext.large}var ctt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.getInitialData=function(t,i){return am(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(t),s=o.dataToPoint(a);if(r)Xt(o.getAxes(),function(h,p){if("category"===h.type&&null!=i){var g=h.getTicksCoords(),y=a[p],b="x1"===i[p]||"y1"===i[p];if(b&&(y+=1),g.length<2)return;if(2===g.length)return void(s[p]=h.toGlobalCoord(h.getExtent()[b?1:0]));for(var w=void 0,M=void 0,E=1,k=0;k<g.length;k++){var j=g[k].coord,H=k===g.length-1?g[k-1].tickValue+E:g[k].tickValue;if(H===y){M=j;break}if(H<y)w=j;else if(null!=w&&H>y){M=(j+w)/2;break}1===k&&(E=H-g[0].tickValue)}null==M&&(w?w&&(M=g[g.length-1].coord):M=g[0].coord),s[p]=h.toGlobalCoord(M)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;s[d]+=c+u/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(pl);pl.registerClass(ctt);const VA=ctt;var zNt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.getInitialData=function(){return am(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=ug(VA.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(VA);const UNt=zNt;var GNt=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},HNt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new GNt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=.5*(s-a),c=a+l,u=i.startAngle,d=i.endAngle,h=i.clockwise,p=2*Math.PI,g=h?d-u<p:u-d<p;g||(u=d-(h?p:-p));var y=Math.cos(u),b=Math.sin(u),w=Math.cos(d),M=Math.sin(d);g?(t.moveTo(y*a+r,b*a+o),t.arc(y*c+r,b*c+o,l,-Math.PI+u,u,!h)):t.moveTo(y*s+r,b*s+o),t.arc(r,o,s,u,d,!h),t.arc(w*c+r,M*c+o,l,d-2*Math.PI,d-Math.PI,!h),0!==a&&t.arc(r,o,a,d,u,h)},e}(wo);const zA=HNt;function UA(n,e,t){return e*Math.sin(n)*(t?-1:1)}function GA(n,e,t){return e*Math.cos(n)*(t?1:-1)}function I_(n,e,t){var i=n.get("borderRadius");if(null==i)return t?{cornerRadius:0}:null;Rn(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:On(i,function(o){return nf(o,r)})}}var p3=Math.max,m3=Math.min,YNt=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return mn(e,n),e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var a=t.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){pg(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var d,a=this.group,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis();"cartesian2d"===c.type?d=u.isHorizontal():"polar"===c.type&&(d="angle"===u.dim);var h=t.isAnimationEnabled()?t:null,p=function XNt(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,c);p&&this._enableRealtimeSort(p,s,r);var g=t.get("clip",!0)||p,y=function ZNt(n,e){var t=n.getArea&&n.getArea();if(A_(n,"cartesian2d")){var i=n.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=r,t.width+=2*r):(t.y-=r,t.height+=2*r)}}return t}(c,s);a.removeClipPath();var b=t.get("roundCap",!0),w=t.get("showBackground",!0),M=t.getModel("backgroundStyle"),E=M.get("borderRadius")||0,k=[],j=this._backgroundEls,H=o&&o.isInitSort,rt=o&&"changeAxisOrder"===o.type;function yt(kt){var te=HA[c.type](s,kt),ne=function eFt(n,e,t){return new("polar"===n.type?Sd:Qo)({shape:btt(e,t,n),silent:!0,z2:0})}(c,d,te);return ne.useStyle(M.getItemStyle()),ne.setShape("cartesian2d"===c.type?"r":"cornerRadius",E),k[kt]=ne,ne}s.diff(l).add(function(kt){var te=s.getItemModel(kt),ne=HA[c.type](s,kt,te);if(w&&yt(kt),s.hasValue(kt)&&ptt[c.type](ne)){var de=!1;g&&(de=utt[c.type](y,ne));var Te=dtt[c.type](t,s,kt,ne,d,h,u.model,!1,b);p&&(Te.forceLabelAnimation=!0),gtt(Te,s,kt,te,ne,t,d,"polar"===c.type),H?Te.attr({shape:ne}):p?htt(p,h,Te,ne,kt,d,!1,!1):cl(Te,{shape:ne},t,kt),s.setItemGraphicEl(kt,Te),a.add(Te),Te.ignore=de}}).update(function(kt,te){var ne=s.getItemModel(kt),de=HA[c.type](s,kt,ne);if(w){var Te=void 0;0===j.length?Te=yt(te):((Te=j[te]).useStyle(M.getItemStyle()),Te.setShape("cartesian2d"===c.type?"r":"cornerRadius",E),k[kt]=Te);var be=HA[c.type](s,kt);fa(Te,{shape:btt(d,be,c)},h,kt)}var Fe=l.getItemGraphicEl(te);if(s.hasValue(kt)&&ptt[c.type](de)){var Ke=!1;if(g&&(Ke=utt[c.type](y,de))&&a.remove(Fe),Fe?rf(Fe):Fe=dtt[c.type](t,s,kt,de,d,h,u.model,!!Fe,b),p&&(Fe.forceLabelAnimation=!0),rt){var In=Fe.getTextContent();if(In){var Nn=X0(In);null!=Nn.prevValue&&(Nn.prevValue=Nn.value)}}else gtt(Fe,s,kt,ne,de,t,d,"polar"===c.type);H?Fe.attr({shape:de}):p?htt(p,h,Fe,de,kt,d,!0,rt):fa(Fe,{shape:de},t,kt,null),s.setItemGraphicEl(kt,Fe),Fe.ignore=Ke,a.add(Fe)}else a.remove(Fe)}).remove(function(kt){var te=l.getItemGraphicEl(kt);te&&k1(te,t,kt)}).execute();var st=this._backgroundGroup||(this._backgroundGroup=new br);st.removeAll();for(var Lt=0;Lt<k.length;++Lt)st.add(k[Lt]);a.add(st),this._backgroundEls=k,this._data=s},e.prototype._renderLarge=function(t,i,r){this._clear(),_tt(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),_tt(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&BA(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var s=function(l){var c=i.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(a.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:On(o,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,a=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,c=o.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(a,o.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:i(t.indexOfRawIndex(u));if(d>s)return!0;s=d}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var a=this._dataSort(t,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,a=this._dataSort(t,o,function(s){return t.get(t.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){k1(o,t,kr(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Zs),utt={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,a=p3(e.x,n.x),s=m3(e.x+e.width,r),l=p3(e.y,n.y),c=m3(e.y+e.height,o),u=s<a,d=c<l;return e.x=u&&a>r?s:a,e.y=d&&l>o?c:l,e.width=u?0:s-a,e.height=d?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),u||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=m3(e.r,n.r),o=p3(e.r0,n.r0);e.r=r,e.r0=o;var a=r-o<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),a}},dtt={cartesian2d:function(n,e,t,i,r,o,a,s,l){var c=new Qo({shape:Dn({},i),z2:1});return c.__dataIndex=t,c.name="item",o&&(c.shape[r?"height":"width"]=0),c},polar:function(n,e,t,i,r,o,a,s,l){var c=!r&&l?zA:Sd,u=new c({shape:i,z2:1});u.name="item";var d=mtt(r);if(u.calculateTextPosition=function jNt(n,e){var t=(e=e||{}).isRoundCap;return function(i,r,o){var a=r.position;if(!a||a instanceof Array)return vD(i,r,o);var s=n(a),l=null!=r.distance?r.distance:5,c=this.shape,u=c.cx,d=c.cy,h=c.r,p=c.r0,g=(h+p)/2,y=c.startAngle,b=c.endAngle,w=(y+b)/2,M=t?Math.abs(h-p)/2:0,E=Math.cos,k=Math.sin,j=u+h*E(y),H=d+h*k(y),rt="left",yt="top";switch(s){case"startArc":j=u+(p-l)*E(w),H=d+(p-l)*k(w),rt="center",yt="top";break;case"insideStartArc":j=u+(p+l)*E(w),H=d+(p+l)*k(w),rt="center",yt="bottom";break;case"startAngle":j=u+g*E(y)+UA(y,l+M,!1),H=d+g*k(y)+GA(y,l+M,!1),rt="right",yt="middle";break;case"insideStartAngle":j=u+g*E(y)+UA(y,-l+M,!1),H=d+g*k(y)+GA(y,-l+M,!1),rt="left",yt="middle";break;case"middle":j=u+g*E(w),H=d+g*k(w),rt="center",yt="middle";break;case"endArc":j=u+(h+l)*E(w),H=d+(h+l)*k(w),rt="center",yt="bottom";break;case"insideEndArc":j=u+(h-l)*E(w),H=d+(h-l)*k(w),rt="center",yt="top";break;case"endAngle":j=u+g*E(b)+UA(b,l+M,!0),H=d+g*k(b)+GA(b,l+M,!0),rt="left",yt="middle";break;case"insideEndAngle":j=u+g*E(b)+UA(b,-l+M,!0),H=d+g*k(b)+GA(b,-l+M,!0),rt="right",yt="middle";break;default:return vD(i,r,o)}return(i=i||{}).x=j,i.y=H,i.align=rt,i.verticalAlign=yt,i}}(d,{isRoundCap:c===zA}),o){var p=r?"r":"endAngle",g={};u.shape[p]=r?i.r0:i.startAngle,g[p]=i[p],(s?fa:cl)(u,{shape:g},o)}return u}};function htt(n,e,t,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?fa:cl)(t,{shape:l},e,r,null),(a?fa:cl)(t,{shape:c},e?n.baseAxis.model:null,r)}function ftt(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var $Nt=["x","y","width","height"],qNt=["cx","cy","r","startAngle","endAngle"],ptt={cartesian2d:function(n){return!ftt(n,$Nt)},polar:function(n){return!ftt(n,qNt)}},HA={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function QNt(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(t,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function mtt(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function gtt(n,e,t,i,r,o,a,s){var l=e.getItemVisual(t,"style");if(s){if(!o.get("roundCap")){var u=n.shape;Dn(u,I_(i.getModel("itemStyle"),u,!0)),n.setShape(u)}}else{var c=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var h=i.getShallow("cursor");h&&n.attr("cursor",h);var p=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",g=zc(i);_u(n,g,{labelFetcher:o,labelDataIndex:t,defaultText:yb(o.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var y=n.getTextContent();if(s&&y){var b=i.get(["label","position"]);n.textConfig.inside="middle"===b||null,function WNt(n,e,t,i){if(sa(i))n.setTextConfig({rotation:i});else if(Rn(e))n.setTextConfig({rotation:0});else{var l,r=n.shape,o=r.clockwise?r.startAngle:r.endAngle,a=r.clockwise?r.endAngle:r.startAngle,s=(o+a)/2,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:return void n.setTextConfig({rotation:0})}var u=1.5*Math.PI-l;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),n.setTextConfig({rotation:u})}}(n,"outside"===b?p:b,mtt(a),i.get(["label","rotate"]))}D$(y,g,o.getRawValue(t),function(M){return VJ(e,M)});var w=i.getModel(["emphasis"]);Al(n,w.get("focus"),w.get("blurScope"),w.get("disabled")),vu(n,i),function KNt(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(r)&&(n.style.fill="none",n.style.stroke="none",Xt(n.states,function(M){M.style&&(M.style.fill=M.style.stroke="none")}))}var JNt=function n(){},vtt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new JNt},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<r.length;u+=3)l[o]=c,l[a]=r[u+2],s[o]=r[u+o],s[a]=r[u+a],t.rect(s[0],s[1],l[0],l[1])},e}(wo);function _tt(n,e,t,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=n.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new vtt({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var d=new vtt({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,e.add(d),d.useStyle(r.getVisual("style")),kr(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",ytt),d.on("mousemove",ytt)),t&&t.push(d)}var ytt=xB(function(n){var t=function tFt(n,e,t){for(var i=n.baseDimIdx,r=1-i,o=n.shape.points,a=n.largeDataIndices,s=[],l=[],c=n.barWidth,u=0,d=o.length/3;u<d;u++){var h=3*u;if(l[i]=c,l[r]=o[h+2],s[i]=o[h+i],s[r]=o[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return a[u]}return-1}(this,n.offsetX,n.offsetY);kr(this).dataIndex=t>=0?t:null},30,!1);function btt(n,e,t){if(A_(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:e.r0,r:n?r.r:e.r,startAngle:n?e.startAngle:0,endAngle:n?e.endAngle:2*Math.PI}}const nFt=YNt;var jA=2*Math.PI,xtt=Math.PI/180;function wtt(n,e){return Lc(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ctt(n,e){var t=wtt(n,e),i=n.get("center"),r=n.get("radius");Rn(r)||(r=[0,r]);var u,d,o=ni(t.width,e.getWidth()),a=ni(t.height,e.getHeight()),s=Math.min(o,a),l=ni(r[0],s/2),c=ni(r[1],s/2),h=n.coordinateSystem;if(h){var p=h.dataToPoint(i);u=p[0]||0,d=p[1]||0}else Rn(i)||(i=[i,i]),u=ni(i[0],o)+t.x,d=ni(i[1],a)+t.y;return{cx:u,cy:d,r0:l,r:c}}function rFt(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=wtt(i,t),s=Ctt(i,t),l=s.cx,c=s.cy,u=s.r,d=s.r0,h=-i.get("startAngle")*xtt,p=i.get("minAngle")*xtt,g=0;r.each(o,function(Lt){!isNaN(Lt)&&g++});var y=r.getSum(o),b=Math.PI/(y||g)*2,w=i.get("clockwise"),M=i.get("roseType"),E=i.get("stillShowZeroSum"),k=r.getDataExtent(o);k[0]=0;var j=jA,H=0,rt=h,yt=w?1:-1;if(r.setLayout({viewRect:a,r:u}),r.each(o,function(Lt,kt){var te;if(isNaN(Lt))r.setItemLayout(kt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:l,cy:c,r0:d,r:M?NaN:u});else{(te="area"!==M?0===y&&E?b:Lt*b:jA/g)<p?(te=p,j-=p):H+=Lt;var ne=rt+yt*te;r.setItemLayout(kt,{angle:te,startAngle:rt,endAngle:ne,clockwise:w,cx:l,cy:c,r0:d,r:M?ls(Lt,k,[d,u]):u}),rt=ne}}),j<jA&&g)if(j<=.001){var st=jA/g;r.each(o,function(Lt,kt){if(!isNaN(Lt)){var te=r.getItemLayout(kt);te.angle=st,te.startAngle=h+yt*kt*st,te.endAngle=h+yt*(kt+1)*st}})}else b=j/H,rt=h,r.each(o,function(Lt,kt){if(!isNaN(Lt)){var te=r.getItemLayout(kt),ne=te.angle===p?p:Lt*b;te.startAngle=rt,te.endAngle=rt+yt*ne,rt+=yt*ne}})})}function _C(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var oFt=Math.PI/180;function Stt(n,e,t,i,r,o,a,s,l,c){if(!(n.length<2)){for(var h=n.length,p=0;p<h;p++)"outer"===n[p].position&&"labelLine"===n[p].labelAlignTo&&(n[p].linePoints[1][0]+=n[p].label.x-c,n[p].label.x=c);QQ(n,l,l+a)&&function d(y){for(var b={list:[],maxY:0},w={list:[],maxY:0},M=0;M<y.length;M++)if("none"===y[M].labelAlignTo){var E=y[M],k=E.label.y>t?w:b,j=Math.abs(E.label.y-t);if(j>=k.maxY){var H=E.label.x-e-E.len2*r,rt=i+E.len,yt=Math.abs(H)<rt?Math.sqrt(j*j/(1-H*H/rt/rt)):rt;k.rB=yt,k.maxY=j}k.list.push(E)}u(b),u(w)}(n)}function u(y){for(var b=y.rB,w=b*b,M=0;M<y.list.length;M++){var E=y.list[M],k=Math.abs(E.label.y-t),j=i+E.len,H=j*j,rt=Math.sqrt((1-Math.abs(k*k/w))*H),yt=e+(rt+E.len2)*r;Mtt(E,E.targetTextWidth-(yt-E.label.x)*r,!0),E.label.x=yt}}}function Mtt(n,e,t){if(void 0===t&&(t=!1),null==n.labelStyleWidth){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=o.width+(a?0:l);if(e<u||t){var d=o.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",a)}else{var p=e-l;i.setStyle("width",e<u?p:t?p>n.unconstrainedWidth?null:p:null)}var y=i.getBoundingRect();o.width=y.width,o.height=y.height+((i.style.margin||0)+2.1),o.y-=(o.height-d)/2}}}function g3(n){return"center"===n.position}var lFt=function(n){function e(t,i,r){var o=n.call(this)||this;o.z2=2;var a=new la;return o.setTextContent(a),o.updateData(t,i,r,!0),o}return mn(e,n),e.prototype.updateData=function(t,i,r,o){var a=this,s=t.hostModel,l=t.getItemModel(i),c=l.getModel("emphasis"),u=t.getItemLayout(i),d=Dn(I_(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))a.setShape(d);else{if(o){a.setShape(d);var h=s.getShallow("animationType");s.ecModel.ssr?(cl(a,{scaleX:0,scaleY:0},s,{dataIndex:i,isFrom:!0}),a.originX=d.cx,a.originY=d.cy):"scale"===h?(a.shape.r=u.r0,cl(a,{shape:{r:u.r}},s,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),cl(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,i)):(a.shape.endAngle=u.startAngle,fa(a,{shape:{endAngle:u.endAngle}},s,i))}else rf(a),fa(a,{shape:d},s,i);a.useStyle(t.getItemVisual(i,"style")),vu(a,l);var p=(u.startAngle+u.endAngle)/2,g=s.get("selectedOffset"),y=Math.cos(p)*g,b=Math.sin(p)*g,w=l.getShallow("cursor");w&&a.attr("cursor",w),this._updateLabel(s,t,i),a.ensureState("emphasis").shape=Dn({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},I_(c.getModel("itemStyle"),u)),Dn(a.ensureState("select"),{x:y,y:b,shape:I_(l.getModel(["select","itemStyle"]),u)}),Dn(a.ensureState("blur"),{shape:I_(l.getModel(["blur","itemStyle"]),u)});var M=a.getTextGuideLine(),E=a.getTextContent();M&&Dn(M.ensureState("select"),{x:y,y:b}),Dn(E.ensureState("select"),{x:y,y:b}),Al(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},e.prototype._updateLabel=function(t,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),c=l&&l.fill,u=l&&l.opacity;_u(o,zc(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)o.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ed,this.setTextGuideLine(p)),HB(this,jB(a),{stroke:c,opacity:jp(s.get(["lineStyle","opacity"]),u,1)})}},e}(Sd),cFt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return mn(e,n),e.prototype.render=function(t,i,r,o){var c,a=t.getData(),s=this._data,l=this.group;if(!s&&a.count()>0){for(var u=a.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<a.count();++d)u=a.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===a.count()&&t.get("showEmptyCircle")){var h=new Sd({shape:Ctt(t,r)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}a.diff(s).add(function(p){var g=new lFt(a,p,c);a.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var y=s.getItemGraphicEl(g);y.updateData(a,p,c),y.off("click"),l.add(y),a.setItemGraphicEl(p,y)}).remove(function(p){k1(s.getItemGraphicEl(p),t,p)}).execute(),function sFt(n){var i,r,e=n.getData(),t=[],o=!1,a=(n.get("minShowLabelAngle")||0)*oFt,s=e.getLayout("viewRect"),l=e.getLayout("r"),c=s.width,u=s.x,d=s.y,h=s.height;function p(H){H.ignore=!0}e.each(function(H){var rt=e.getItemGraphicEl(H),yt=rt.shape,st=rt.getTextContent(),Lt=rt.getTextGuideLine(),kt=e.getItemModel(H),te=kt.getModel("label"),ne=te.get("position")||kt.get(["emphasis","label","position"]),de=te.get("distanceToLabelLine"),Te=te.get("alignTo"),be=ni(te.get("edgeDistance"),c),Ve=te.get("bleedMargin"),Fe=kt.getModel("labelLine"),Ke=Fe.get("length");Ke=ni(Ke,c);var In=Fe.get("length2");if(In=ni(In,c),Math.abs(yt.endAngle-yt.startAngle)<a)return Xt(st.states,p),st.ignore=!0,void(Lt&&(Xt(Lt.states,p),Lt.ignore=!0));if(function g(H){if(!H.ignore)return!0;for(var rt in H.states)if(!1===H.states[rt].ignore)return!0;return!1}(st)){var Gn,Ui,to,Gi,Nn=(yt.startAngle+yt.endAngle)/2,qn=Math.cos(Nn),Kn=Math.sin(Nn);i=yt.cx,r=yt.cy;var ji="inside"===ne||"inner"===ne;if("center"===ne)Gn=yt.cx,Ui=yt.cy,Gi="center";else{var cr=(ji?(yt.r+yt.r0)/2*qn:yt.r*qn)+i,Sr=(ji?(yt.r+yt.r0)/2*Kn:yt.r*Kn)+r;if(Gn=cr+3*qn,Ui=Sr+3*Kn,!ji){var Mi=cr+qn*(Ke+l-yt.r),zr=Sr+Kn*(Ke+l-yt.r),el=Mi+(qn<0?-1:1)*In;Gn="edge"===Te?qn<0?u+be:u+c-be:el+(qn<0?-de:de),Ui=zr,to=[[cr,Sr],[Mi,zr],[el,zr]]}Gi=ji?"center":"edge"===Te?qn>0?"right":"left":qn>0?"left":"right"}var bl=Math.PI,kl=0,Fu=te.get("rotate");if(sa(Fu))kl=Fu*(bl/180);else if("center"===ne)kl=0;else if("radial"===Fu||!0===Fu)kl=qn<0?-Nn+bl:-Nn;else if("tangential"===Fu&&"outside"!==ne&&"outer"!==ne){var kd=Math.atan2(qn,Kn);kd<0&&(kd=2*bl+kd),Kn>0&&(kd=bl+kd),kl=kd-bl}if(o=!!kl,st.x=Gn,st.y=Ui,st.rotation=kl,st.setStyle({verticalAlign:"middle"}),ji){st.setStyle({align:Gi});var Q8=st.states.select;Q8&&(Q8.x+=st.x,Q8.y+=st.y)}else{var Hg=st.getBoundingRect().clone();Hg.applyTransform(st.getComputedTransform());var fmt=(st.style.margin||0)+2.1;Hg.y-=fmt/2,Hg.height+=fmt,t.push({label:st,labelLine:Lt,position:ne,len:Ke,len2:In,minTurnAngle:Fe.get("minTurnAngle"),maxSurfaceAngle:Fe.get("maxSurfaceAngle"),surfaceNormal:new Wr(qn,Kn),linePoints:to,textAlign:Gi,labelDistance:de,labelAlignTo:Te,edgeDistance:be,bleedMargin:Ve,rect:Hg,unconstrainedWidth:Hg.width,labelStyleWidth:st.style.width})}rt.setTextConfig({inside:ji})}}),!o&&n.get("avoidLabelOverlap")&&function aFt(n,e,t,i,r,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<n.length;h++){var p=n[h].label;g3(n[h])||(p.x<e?(u=Math.min(u,p.x),l.push(n[h])):(d=Math.max(d,p.x),c.push(n[h])))}for(h=0;h<n.length;h++)if(!g3(g=n[h])&&g.linePoints){if(null!=g.labelStyleWidth)continue;p=g.label;var b,y=g.linePoints;g.targetTextWidth=b="edge"===g.labelAlignTo?p.x<e?y[2][0]-g.labelDistance-a-g.edgeDistance:a+r-g.edgeDistance-y[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<e?u-a-g.bleedMargin:a+r-d-g.bleedMargin:p.x<e?p.x-a-g.bleedMargin:a+r-p.x-g.bleedMargin,Mtt(g,b)}for(Stt(c,e,t,i,1,0,o,0,s,d),Stt(l,e,t,i,-1,0,o,0,s,u),h=0;h<n.length;h++){var g;if(!g3(g=n[h])&&g.linePoints){var M=(p=g.label).style.padding,j=g.rect.width+(p.style.backgroundColor?0:M?M[1]+M[3]:0),H=(y=g.linePoints)[1][0]-y[2][0];"edge"===g.labelAlignTo?y[2][0]=p.x<e?a+g.edgeDistance+j+g.labelDistance:a+r-g.edgeDistance-j-g.labelDistance:(y[2][0]=p.x<e?p.x+g.labelDistance:p.x-g.labelDistance,y[1][0]=y[2][0]+H),y[1][1]=y[2][1]=p.y}}}(t,i,r,l,c,h,u,d);for(var y=0;y<t.length;y++){var b=t[y],w=b.label,M=b.labelLine,E=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:b.textAlign}),E&&(Xt(w.states,p),w.ignore=!0);var k=w.states.select;k&&(k.x+=w.x,k.y+=w.y)}if(M){var j=b.linePoints;E||!j?(Xt(M.states,p),M.ignore=!0):(XQ(j,b.minTurnAngle),WOt(j,b.surfaceNormal,b.maxSurfaceAngle),M.setShape({points:j}),w.__hostTarget.textGuideLineConfig={anchor:new Wr(j[0][0],j[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var o=i.getData().getItemLayout(0);if(o){var a=t[0]-o.cx,s=t[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e}(Zs);const uFt=cFt;function bb(n,e,t){e=Rn(e)&&{coordDimensions:e}||Dn({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=vb(i,e).dimensions,o=new od(r,n);return o.initData(i,t),o}var dFt=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}();const yC=dFt;var hFt=Ko(),fFt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new yC(yi(this.getData,this),yi(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return bb(this,{coordDimensions:["value"],encodeDefaulter:Nr(UF,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=hFt(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(l){a.push(l)}),o=r.seats=function aX(n,e){var t=Rf(n,function(p,g){return p+(isNaN(g)?0:g)},0);if(0===t)return[];for(var i=Math.pow(10,e),r=On(n,function(p){return(isNaN(p)?0:p)/t*i*100}),o=100*i,a=On(r,function(p){return Math.floor(p)}),s=Rf(a,function(p,g){return p+g},0),l=On(r,function(p,g){return p-a[g]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,h=l.length;d<h;++d)l[d]>c&&(c=l[d],u=d);++a[u],l[u]=0,++s}return On(a,function(p){return p/i})}(a,i.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=o[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){jv(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(pl);const pFt=fFt;var vFt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return mn(e,n),e.prototype.getInitialData=function(t,i){return am(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(pl);const _Ft=vFt;var yFt=function n(){},bFt=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return mn(e,n),e.prototype.getDefaultShape=function(){return new yFt},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var d,r=i.points,o=i.size,a=this.symbolProxy,s=a.shape,l=t.getContext?t.getContext():t,u=this.softClipShape;if(l&&o[0]<4)this._ctx=l;else{for(this._ctx=null,d=this._off;d<r.length;){var h=r[d++],p=r[d++];isNaN(h)||isNaN(p)||u&&!u.contain(h,p)||(s.x=h-o[0]/2,s.y=p-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(t,s,!0))}this.incremental&&(this._off=d,this.notClear=!0)}},e.prototype.afterBrush=function(){var s,t=this.shape,i=t.points,r=t.size,o=this._ctx,a=this.softClipShape;if(o){for(s=this._off;s<i.length;){var l=i[s++],c=i[s++];isNaN(l)||isNaN(c)||a&&!a.contain(l,c)||o.fillRect(l-r[0]/2,c-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),c=o.length/2-1;c>=0;c--){var u=2*c,d=o[u]-s/2,h=o[u+1]-l/2;if(t>=d&&i>=h&&t<=d+s&&i<=h+l)return c}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,o=i.size,a=o[0],s=o[1],l=1/0,c=1/0,u=-1/0,d=-1/0,h=0;h<r.length;){var p=r[h++],g=r[h++];l=Math.min(p,l),u=Math.max(p,u),c=Math.min(g,c),d=Math.max(g,d)}t=this._rect=new Kr(l-a/2,c-s/2,u-l+a,d-c+s)}return t},e}(wo),xFt=function(){function n(){this.group=new br}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],o=t.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),r.endIndex=e.end,r.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=e.start,c.endIndex=e.end,c.incremental=!0,c.setShape({points:o}),this._setCommon(c,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new bFt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=yc(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var c=kr(e);c.seriesIndex=r.seriesIndex,e.on("mousemove",function(u){c.dataIndex=null;var d=e.hoverDataIdx;d>=0&&(c.dataIndex=d+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const wFt=xFt;var CFt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=vC("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,a=i.pipelineContext.large;return(!r||a!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=a?new wFt:new gC,this._isLargeDraw=a,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Zs);const SFt=CFt;var MFt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(ca);const EFt=MFt;var bC=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),v3=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",vc).models[0]},e.type="cartesian2dAxis",e}(ca);gc(v3,bC);var Ttt={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},TFt=$r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ttt),_3=$r({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ttt);const Dtt={category:TFt,value:_3,time:$r({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_3),log:nr({logBase:10},_3)};var IFt=0,PFt=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++IFt}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&On(i,kFt);return new n({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!ci(e)&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(i?(this.categories[t=this.categories.length]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Wi(this.categories))},n}();function kFt(n){return ar(n)&&null!=n.value?n.value:n+""}const y3=PFt;var RFt={value:1,category:1,time:1,log:1};function xb(n,e,t,i){Xt(RFt,function(r,o){var a=$r($r({},Dtt[o],!0),i,!0),s=function(l){function c(){var u=null!==l&&l.apply(this,arguments)||this;return u.type=e+"Axis."+o,u}return mn(c,l),c.prototype.mergeDefaultAndTheme=function(u,d){var h=F1(this),p=h?J0(u):{};$r(u,d.getTheme().get(o+"Axis")),$r(u,this.getDefaultOption()),u.type=Att(u),h&&dg(u,p,h)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=y3.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if("category"===d.type)return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+o,c.defaultOption=a,c}(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",Att)}function Att(n){return n.type||(n.data?"category":"value")}var Itt=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();bD(Itt);const sm=Itt;function b3(n){return"interval"===n.type||"log"===n.type}function x3(n){var e=Math.pow(10,XN(n)),t=n/e;return t?2===t?t=3:3===t?t=5:t*=2:t=1,Bl(t*e)}function Ptt(n){return Bf(n)+2}function ktt(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function WA(n,e){return n>=e[0]&&n<=e[1]}function ZA(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function YA(n,e){return n*(e[1]-e[0])+e[0]}var Rtt=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new y3({})),Rn(r)&&(r=new y3({categories:On(r,function(o){return ar(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return mn(e,n),e.prototype.parse=function(t){return null==t?NaN:ci(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return WA(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return ZA(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(YA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var c=i[a];r[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;null!=o[u];)u++;r.push(u),o[u]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(sm);sm.registerClass(Rtt);const w3=Rtt;var P_=Bl,Ltt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return mn(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return WA(t,this._extent)},e.prototype.normalize=function(t){return ZA(t,this._extent)},e.prototype.scale=function(t){return YA(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ptt(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;r[0]<o[0]&&s.push(t?{value:P_(o[0]-i,a)}:{value:r[0]});for(var c=o[0];c<=o[1]&&(s.push({value:c}),(c=P_(c+i,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(t?{value:P_(u+i,a)}:{value:r[1]}),s},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a-1],c=0,u=[],h=(i[a].value-l.value)/t;c<t-1;){var p=P_(l.value+(c+1)*h);p>o[0]&&p<o[1]&&u.push(p),c++}r.push(u)}return r},e.prototype.getLabel=function(t,i){if(null==t)return"";var r=i&&i.precision;return null==r?r=Bf(t.value)||0:"auto"===r&&(r=this._intervalPrecision),W$(P_(t.value,r,!0))},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function LFt(n,e,t,i){var r={},a=r.interval=cX((n[1]-n[0])/e,!0);null!=t&&a<t&&(a=r.interval=t),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=Ptt(a);return function OFt(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),ktt(n,0,e),ktt(n,1,e),n[0]>n[1]&&(n[0]=n[1])}(r.niceTickExtent=[Bl(Math.ceil(n[0]/a)*a,s),Bl(Math.floor(n[1]/a)*a,s)],n),r}(o,t,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(i[0]=P_(Math.floor(i[0]/a)*a)),t.fixMax||(i[1]=P_(Math.ceil(i[1]/a)*a))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(sm);sm.registerClass(Ltt);const xg=Ltt;var Ott=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return mn(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return BD(t.value,O$[function ikt(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(q0(this._minLevelUnit))]||O$.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function rkt(n,e,t,i,r){var o=null;if(ci(t))o=t;else if(Ki(t))o=t(n.value,e,{level:n.level});else{var a=Dn({},O1);if(n.level>0)for(var s=0;s<NF.length;++s)a[NF[s]]="{primary|"+a[NF[s]]+"}";var l=t?!1===t.inherit?t:nr(t,a):a,c=F$(n.value,r);if(l[c])o=l[c];else if(l.inherit){for(s=N$.indexOf(c)-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(Rn(o)){var d=null==n.level?0:n.level>=0?n.level:o.length+n.level;o=o[d=Math.min(d,o.length-1)]}}return BD(new Date(n.value),o,r,i)}(t,i,r,this.getSetting("locale"),o)},e.prototype.getTicks=function(){var i=this._extent,r=[];if(!this._interval)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function HFt(n,e,t,i){var o=N$,a=0;function s(Lt,kt,te,ne,de,Te,be){for(var Ve=new Date(kt),Fe=kt,Ke=Ve[ne]();Fe<te&&Fe<=i[1];)be.push({value:Fe}),Ve[de](Ke+=Lt),Fe=Ve.getTime();be.push({value:Fe,notAdd:!0})}function l(Lt,kt,te){var ne=[],de=!kt.length;if(!function FFt(n,e,t,i){var r=Vf(e),o=Vf(t),a=function(g){return B$(r,g,i)===B$(o,g,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},d=function(){return u()&&a("minute")},h=function(){return d()&&a("second")};switch(n){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return h();case"millisecond":return h()&&a("millisecond")}}(q0(Lt),i[0],i[1],t)){de&&(kt=[{value:GFt(new Date(i[0]),Lt,t)},{value:i[1]}]);for(var Te=0;Te<kt.length-1;Te++){var be=kt[Te].value,Ve=kt[Te+1].value;if(be!==Ve){var Fe=void 0,Ke=void 0,In=void 0;switch(Lt){case"year":Fe=Math.max(1,Math.round(e/Th/365)),Ke=FF(t),In=okt(t);break;case"half-year":case"quarter":case"month":Fe=VFt(e),Ke=K0(t),In=V$(t);break;case"week":case"half-week":case"day":Fe=BFt(e),Ke=VD(t),In=z$(t),!0;break;case"half-day":case"quarter-day":case"hour":Fe=zFt(e),Ke=N1(t),In=U$(t);break;case"minute":Fe=Ntt(e,!0),Ke=zD(t),In=G$(t);break;case"second":Fe=Ntt(e,!1),Ke=UD(t),In=H$(t);break;case"millisecond":Fe=UFt(e),Ke=GD(t),In=j$(t)}s(Fe,be,Ve,Ke,In,0,ne),"year"===Lt&&te.length>1&&0===Te&&te.unshift({value:te[0].value-Fe})}}for(Te=0;Te<ne.length;Te++)te.push(ne[Te]);return ne}}for(var c=[],u=[],d=0,h=0,p=0;p<o.length&&a++<1e4;++p){var g=q0(o[p]);if(nkt(o[p])&&(l(o[p],c[c.length-1]||[],u),g!==(o[p+1]?q0(o[p+1]):null))){if(u.length){h=d,u.sort(function(Lt,kt){return Lt.value-kt.value});for(var b=[],w=0;w<u.length;++w){var M=u[w].value;(0===w||u[w-1].value!==M)&&(b.push(u[w]),M>=i[0]&&M<=i[1]&&d++)}var E=(i[1]-i[0])/e;if(d>1.5*E&&h>E/1.5||(c.push(b),d>E||n===o[p]))break}u=[]}}var k=ps(On(c,function(Lt){return ps(Lt,function(kt){return kt.value>=i[0]&&kt.value<=i[1]&&!kt.notAdd})}),function(Lt){return Lt.length>0}),j=[],H=k.length-1;for(p=0;p<k.length;++p)for(var rt=k[p],yt=0;yt<rt.length;++yt)j.push({value:rt[yt].value,level:H-p});j.sort(function(Lt,kt){return Lt.value-kt.value});var st=[];for(p=0;p<j.length;++p)(0===p||j[p].value!==j[p-1].value)&&st.push(j[p]);return st}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Th,i[1]+=Th),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Th}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=XA.length,l=Math.min(function(n,e,t,i){for(;t<i;){var r=t+i>>>1;n[r][1]<e?t=r+1:i=r}return t}(XA,this._approxInterval,0,s),s-1);this._interval=XA[l][1],this._minLevelUnit=XA[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return sa(t)?t:+Vf(t)},e.prototype.contain=function(t){return WA(this.parse(t),this._extent)},e.prototype.normalize=function(t){return ZA(this.parse(t),this._extent)},e.prototype.scale=function(t){return YA(t,this._extent)},e.type="time",e}(xg),XA=[["second",LF],["minute",OF],["hour",L1],["quarter-day",6*L1],["half-day",12*L1],["day",1.2*Th],["half-week",3.5*Th],["week",7*Th],["month",31*Th],["quarter",95*Th],["half-year",L$/2],["year",L$]];function BFt(n,e){return(n/=Th)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function VFt(n){return(n/=30*Th)>6?6:n>3?3:n>2?2:1}function zFt(n){return(n/=L1)>12?12:n>6?6:n>3.5?4:n>2?2:1}function Ntt(n,e){return(n/=e?OF:LF)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function UFt(n){return cX(n,!0)}function GFt(n,e,t){var i=new Date(n);switch(q0(e)){case"year":case"month":i[V$(t)](0);case"day":i[z$(t)](1);case"hour":i[U$(t)](0);case"minute":i[G$(t)](0);case"second":i[H$(t)](0),i[j$(t)](0)}return i.getTime()}sm.registerClass(Ott);const Ftt=Ott;var Btt=sm.prototype,xC=xg.prototype,jFt=Bl,WFt=Math.floor,ZFt=Math.ceil,$A=Math.pow,ff=Math.log,C3=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new xg,t._interval=0,t}return mn(e,n),e.prototype.getTicks=function(t){var r=this._extent,o=this._originalScale.getExtent();return On(xC.getTicks.call(this,t),function(s){var l=s.value,c=Bl($A(this.base,l));return c=l===r[0]&&this._fixMin?qA(c,o[0]):c,{value:c=l===r[1]&&this._fixMax?qA(c,o[1]):c}},this)},e.prototype.setExtent=function(t,i){var r=ff(this.base);t=ff(Math.max(0,t))/r,i=ff(Math.max(0,i))/r,xC.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=Btt.getExtent.call(this);i[0]=$A(t,i[0]),i[1]=$A(t,i[1]);var o=this._originalScale.getExtent();return this._fixMin&&(i[0]=qA(i[0],o[0])),this._fixMax&&(i[1]=qA(i[1],o[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=ff(t[0])/ff(i),t[1]=ff(t[1])/ff(i),Btt.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=function cIt(n){return Math.pow(10,XN(n))}(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[Bl(ZFt(i[0]/o)*o),Bl(WFt(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){xC.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return WA(t=ff(t)/ff(this.base),this._extent)},e.prototype.normalize=function(t){return ZA(t=ff(t)/ff(this.base),this._extent)},e.prototype.scale=function(t){return t=YA(t,this._extent),$A(this.base,t)},e.type="log",e}(sm),Vtt=C3.prototype;function qA(n,e){return jFt(n,Bf(e))}Vtt.getMinorTicks=xC.getMinorTicks,Vtt.getLabel=xC.getLabel,sm.registerClass(C3);const YFt=C3;var XFt=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);Ki(o)?this._modelMinNum=KA(e,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=KA(e,o));var a=this._modelMaxRaw=t.get("max",!0);if(Ki(a)?this._modelMaxNum=KA(e,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=KA(e,a)),r)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=Rn(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[nf(l[0],1),nf(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=e?r?0:NaN:t-o[0]*a),null==l&&(l=e?r?r-1:NaN:i+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var d=e1(s)||e1(l)||e&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var h=this._determinedMin,p=this._determinedMax;return null!=h&&(s=h,c=!0),null!=p&&(l=p,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[qFt[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[$Ft[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),$Ft={min:"_determinedMin",max:"_determinedMax"},qFt={min:"_dataMin",max:"_dataMax"};function ztt(n,e,t){var i=n.rawExtentInfo;return i||(i=new XFt(n,e,t),n.rawExtentInfo=i,i)}function KA(n,e){return null==e?null:e1(e)?NaN:n.parse(e)}function Utt(n,e){var t=n.type,i=ztt(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&"time"===t){var s=ntt("bar",a),l=!1;if(Xt(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var c=itt(s),u=function KFt(n,e,t,i){var r=t.axis.getExtent(),o=r[1]-r[0],a=function BNt(n,e,t){if(n&&e){var i=n[f3(e)];return null!=i&&null!=t?i[h3(t)]:i}}(i,t.axis);if(void 0===a)return{min:n,max:e};var s=1/0;Xt(a,function(p){s=Math.min(p.offset,s)});var l=-1/0;Xt(a,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-n,h=u/(1-(s+l)/o)-u;return{min:n-=h*(s/c),max:e+=h*(l/c)}}(r,o,e,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function wb(n,e){var t=e,i=Utt(n,t),r=i.extent,o=t.get("splitNumber");n instanceof YFt&&(n.base=t.get("logBase"));var a=n.type,s=t.get("interval"),l="interval"===a||"time"===a;n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}function QA(n,e){if(e=e||n.get("type"))switch(e){case"category":return new w3({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Ftt({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(sm.getClass(e)||xg)}}function wC(n){var i,e=n.getLabelModel().get("formatter"),t="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(i=e,function(r,o){return n.scale.getFormattedLabel(r,o,i)}):ci(e)?function(i){return function(r){var o=n.scale.getLabel(r);return i.replace("{value}",o??"")}}(e):Ki(e)?function(i){return function(r,o){return null!=t&&(o=r.value-t),i(S3(n,r),o,null!=r.level?{level:r.level}:null)}}(e):function(i){return n.scale.getLabel(i)}}function S3(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function tBt(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),a=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new Kr(n.x,n.y,o,a)}function M3(n){return n.get("interval")??"auto"}function Gtt(n){return"category"===n.type&&0===M3(n.getLabelModel())}function JA(n,e){var t={};return Xt(n.mapDimensionsAll(e),function(i){t[BJ(n,i)]=!0}),Ro(t)}var nBt=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return On(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ps(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),E3=["x","y"];function Htt(n){return"interval"===n.type||"time"===n.type}var rBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=E3,t}return mn(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(Htt(t)&&Htt(i)){var r=t.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],c=o[1]-o[0];if(l&&c){var u=(s[0]-a[0])/l,d=(s[1]-a[1])/c,g=this._transform=[u,0,0,d,a[0]-r[0]*u,a[1]-o[0]*d];this._invTransform=L0([],g)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),o=this.dataToPoint(i),a=this.getArea(),s=new Kr(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],a=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return mu(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(t[0]),c=o.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return mu(r,t,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=a.coordToData(a.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),a=Math.max(t[0],t[1])-r,s=Math.max(i[0],i[1])-o;return new Kr(r,o,a,s)},e}(nBt);const oBt=rBt;var CC=Ko();function jtt(n,e){var o,a,t=Wtt(n,"labels"),i=M3(e);return Ztt(t,i)||(Ki(i)?o=$tt(n,i):(a="auto"===i?function dBt(n){return CC(n).autoInterval??(CC(n).autoInterval=n.calculateCategoryInterval())}(n):i,o=Xtt(n,a)),Ytt(t,i,{labels:o,labelCategoryInterval:a}))}function Wtt(n,e){return CC(n)[e]||(CC(n)[e]=[])}function Ztt(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Ytt(n,e,t){return n.push({key:e,value:t}),t}function Xtt(n,e,t){var i=wC(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=o[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=Gtt(n),h=a.get("showMinLabel")||d,p=a.get("showMaxLabel")||d;h&&c!==o[0]&&y(o[0]);for(var g=c;g<=o[1];g+=l)y(g);function y(b){var w={value:b};s.push(t?b:{formattedLabel:i(w),rawLabel:r.getLabel(w),tickValue:b})}return p&&g-l!==o[1]&&y(o[1]),s}function $tt(n,e,t){var i=n.scale,r=wC(n),o=[];return Xt(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;e(a.value,s)&&o.push(t?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var qtt=[0,1],pBt=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return oX(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&Ktt(i=i.slice(),r.count()),ls(e,qtt,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Ktt(i=i.slice(),r.count());var o=ls(e,i,qtt,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),o=On(function sBt(n,e){return"category"===n.type?function cBt(n,e){var o,a,t=Wtt(n,"ticks"),i=M3(e),r=Ztt(t,i);if(r)return r;if((!e.get("show")||n.scale.isBlank())&&(o=[]),Ki(i))o=$tt(n,i,!0);else if("auto"===i){var s=jtt(n,n.getLabelModel());a=s.labelCategoryInterval,o=On(s.labels,function(l){return l.tickValue})}else o=Xtt(n,a=i,!0);return Ytt(t,i,{ticks:o,tickCategoryInterval:a})}(n,e):{ticks:On(n.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function mBt(n,e,t,i){var r=e.length;if(n.onBand&&!t&&r){var a,o=n.getExtent();if(1===r)e[0].coord=o[0],a=e[1]={coord:o[0]};else{var c=(e[r-1].coord-e[0].coord)/(e[r-1].tickValue-e[0].tickValue);Xt(e,function(p){p.coord-=c/2});var u=n.scale.getExtent();e.push(a={coord:e[r-1].coord+c*(1+u[1]-e[r-1].tickValue)})}var d=o[0]>o[1];h(e[0].coord,o[0])&&(i?e[0].coord=o[0]:e.shift()),i&&h(o[0],e[0].coord)&&e.unshift({coord:o[0]}),h(o[1],a.coord)&&(i?a.coord=o[1]:e.pop()),i&&h(a.coord,o[1])&&e.push({coord:o[1]})}function h(p,g){return p=Bl(p),g=Bl(g),d?p>g:p<g}}(this,o,t.get("alignWithLabel"),e.clamp),o},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),On(this.scale.getMinorTicks(t),function(o){return On(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},n.prototype.getViewLabels=function(){return function aBt(n){return"category"===n.type?function lBt(n){var e=n.getLabelModel(),t=jtt(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(n):function uBt(n){var e=n.scale.getTicks(),t=wC(n);return{labels:On(e,function(i,r){return{level:i.level,formattedLabel:t(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function hBt(n){var e=function fBt(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(n),t=wC(n),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=n.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,p=0;l<=o[1];l+=s){var y,b=_1(t({value:l}),e.font,"center","top");y=1.3*b.height,h=Math.max(h,1.3*b.width,7),p=Math.max(p,y,7)}var w=h/u,M=p/d;isNaN(w)&&(w=1/0),isNaN(M)&&(M=1/0);var E=Math.max(0,Math.floor(Math.min(w,M))),k=CC(n.model),j=n.getExtent(),H=k.lastAutoInterval,rt=k.lastTickCount;return null!=H&&null!=rt&&Math.abs(H-E)<=1&&Math.abs(rt-a)<=1&&H>E&&k.axisExtent0===j[0]&&k.axisExtent1===j[1]?E=H:(k.lastTickCount=a,k.lastAutoInterval=E,k.axisExtent0=j[0],k.axisExtent1=j[1]),E}(this)},n}();function Ktt(n,e){var r=(n[1]-n[0])/e/2;n[0]+=r,n[1]-=r}const pf=pBt;var gBt=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return mn(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(pf);const vBt=gBt;function T3(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,c=r.dim,u=i.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,g="x"===c?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(a){var y=a.toGlobalCoord(a.dataToCoord(0));g[h.onZero]=Math.max(Math.min(y,g[1]),g[0])}o.position=["y"===c?g[h[l]]:d[0],"x"===c?g[h[l]]:d[3]],o.rotation=Math.PI/2*("x"===c?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?g[h[s]]-g[h.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Jc(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var w=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-w:w,o.z2=1,o}function Qtt(n){return"cartesian2d"===n.get("coordinateSystem")}function Jtt(n){var e={xAxisModel:null,yAxisModel:null};return Xt(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,vc).models[0];e[i]=o}),e}var D3=Math.log;function tet(n,e,t){var i=xg.prototype,r=i.getTicks.call(t),o=i.getTicks.call(t,!0),a=r.length-1,s=i.getInterval.call(t),l=Utt(n,e),c=l.extent,u=l.fixMin,d=l.fixMax;if("log"===n.type){var h=D3(n.base);c=[D3(c[0])/h,D3(c[1])/h]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:d});var p=i.getExtent.call(n);u&&(c[0]=p[0]),d&&(c[1]=p[1]);var g=i.getInterval.call(n),y=c[0],b=c[1];if(u&&d)g=(b-y)/a;else if(u)for(b=c[0]+g*a;b<c[1]&&isFinite(b)&&isFinite(c[1]);)g=x3(g),b=c[0]+g*a;else if(d)for(y=c[1]-g*a;y>c[0]&&isFinite(y)&&isFinite(c[0]);)g=x3(g),y=c[1]-g*a;else{n.getTicks().length-1>a&&(g=x3(g));var M=g*a;(y=Bl((b=Math.ceil(c[1]/g)*g)-M))<0&&c[0]>=0?(y=0,b=Bl(M)):b>0&&c[1]<=0&&(b=0,y=-Bl(M))}var E=(r[0].value-o[0].value)/s,k=(r[a].value-o[a].value)/s;i.setExtent.call(n,y+g*E,b+g*k),i.setInterval.call(n,g),(E||k)&&i.setNiceExtent.call(n,y+g,b-g)}var _Bt=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=E3,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function r(a){var s,l=Ro(a),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var p=a[+l[d]],g=p.model,y=p.scale;b3(y)&&g.get("alignTicks")&&null==g.get("interval")?u.push(p):(wb(y,g),b3(y)&&(s=p))}u.length&&(s||wb((s=u.pop()).scale,s.model),Xt(u,function(b){tet(b.scale,b.model,s.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var o={};Xt(i.x,function(a){eet(i,"y",a,o)}),Xt(i.y,function(a){eet(i,"x",a,o)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=Lc(r,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var s=this._axesList;function l(){Xt(s,function(c){var u=c.isHorizontal(),d=u?[0,a.width]:[0,a.height],h=c.inverse?1:0;c.setExtent(d[h],d[1-h]),function yBt(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord="x"===n.dim?function(r){return r+e}:function(r){return i-r+e},n.toLocalCoord="x"===n.dim?function(r){return r-e}:function(r){return i-r+e}}(c,u?a.x:a.y)})}l(),o&&(Xt(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=function JFt(n){var t=n.scale;if(n.model.get(["axisLabel","show"])&&!t.isBlank()){var i,r,o=t.getExtent();r=t instanceof w3?t.count():(i=t.getTicks()).length;var l,a=n.getLabelModel(),s=wC(n),c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var h=s(i?i[u]:{value:o[0]+u},u),g=tBt(a.getTextRect(h),a.get("rotate")||0);l?l.union(g):l=g}return l}}(c);if(u){var d=c.isHorizontal()?"height":"width",h=c.model.get(["axisLabel","margin"]);a[d]-=u[d]+h,"top"===c.position?a.y+=u.height+h:"left"===c.position&&(a.x+=u.width+h)}}}),l()),Xt(this._coordsList,function(c){c.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];ar(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var s,l,t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",vc).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",vc).models[0],o=e.gridModel;return t?uo(this._coordsList,s=t.coordinateSystem)<0&&(s=null):i&&r?s=this.getCartesian(i.componentIndex,r.componentIndex):i?l=this.getAxis("x",i.componentIndex):r?l=this.getAxis("y",r.componentIndex):o&&o.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(u){return function(d,h){if(A3(d,e)){var p=d.get("position");"x"===u?"top"!==p&&"bottom"!==p&&(p=a.bottom?"top":"bottom"):"left"!==p&&"right"!==p&&(p=a.left?"right":"left"),a[p]=!0;var g=new vBt(u,QA(d),[0,0],d.get("type"),p);g.onBand="category"===g.type&&d.get("boundaryGap"),g.inverse=d.get("inverse"),d.axis=g,g.model=d,g.grid=o,g.index=h,o._axesList.push(g),s[u][h]=g,l[u]++}}}this._axesMap=s,Xt(s.x,function(u,d){Xt(s.y,function(h,p){var g="x"+d+"y"+p,y=new oBt(g);y.master=r,y.model=e,r._coordsMap[g]=y,r._coordsList.push(y),y.addAxis(u),y.addAxis(h)})})},n.prototype._updateScale=function(e,t){function i(r,o){Xt(JA(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}Xt(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(Qtt(r)){var o=Jtt(r),a=o.xAxisModel,s=o.yAxisModel;if(!A3(a,t)||!A3(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),d=l.getAxis("y");i(c,u),i(c,d)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return Xt(this.getCartesians(),function(r){var o=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(o);uo(t,o)<0&&t.push(o),uo(i,a)<0&&i.push(a)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var a=new n(r,e,t);a.name="grid_"+o,a.resize(r,t,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(r){if(Qtt(r)){var o=Jtt(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=E3,n}();function A3(n,e){return n.getCoordSysModel()===e}function eet(n,e,t,i){t.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=n[e],a=t.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)net(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&net(r[c])&&!i[u(r[c])]){o=r[c];break}o&&(i[u(o)]=!0)}function u(d){return d.dim+"_"+d.index}}function net(n){return n&&"category"!==n.type&&"time"!==n.type&&function QFt(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}(n)}const bBt=_Bt;var wg=Math.PI,k_=function(){function n(e,t){this.group=new br,this.opt=t,this.axisModel=e,nr(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new br({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!iet[e]},n.prototype.add=function(e){iet[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var o,a,r=lX(t-e);return yD(r)?(a=i>0?"top":"bottom",o="center"):yD(r-wg)?(a=i>0?"bottom":"top",o="center"):(a="middle",o=r>0&&r<wg?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:a}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),iet={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(mu(s,s,a),mu(l,l,a));var u=Dn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new eu({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});lb(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=e.get(["axisLine","symbol"]);if(null!=h){var p=e.get(["axisLine","symbolSize"]);ci(h)&&(h=[h,h]),(ci(p)||sa(p))&&(p=[p,p]);var g=hb(e.get(["axisLine","symbolOffset"])||0,p),y=p[0],b=p[1];Xt([{rotate:n.rotation+Math.PI/2,offset:g[0],r:0},{rotate:n.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(w,M){if("none"!==h[M]&&null!=h[M]){var E=yc(h[M],-y/2,-b/2,y,b,u.stroke,!0),k=w.r+w.offset,j=c?l:s;E.attr({rotation:w.rotate,x:j[0]+k*Math.cos(n.rotation),y:j[1]-k*Math.sin(n.rotation),silent:!0,z2:11}),t.add(E)}})}}},axisTickLabel:function(n,e,t,i){var r=function CBt(n,e,t,i){var r=t.axis,o=t.getModel("axisTick"),a=o.get("show");if("auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),a&&!r.scale.isBlank()){for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=aet(r.getTicksCoords(),e.transform,l,nr(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}(t,i,e,n),o=function MBt(n,e,t,i){var r=t.axis;if(Jc(i.axisLabelShow,t.get(["axisLabel","show"]))&&!r.scale.isBlank()){var a=t.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),c=(Jc(i.labelRotate,a.get("rotate"))||0)*wg/180,u=k_.innerTextLayout(i.rotation,c,i.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],p=k_.isLabelSilent(t),g=t.get("triggerEvent");return Xt(l,function(y,b){var w="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(y.tickValue):y.tickValue,M=y.formattedLabel,E=y.rawLabel,k=a;if(d&&d[w]){var j=d[w];ar(j)&&j.textStyle&&(k=new Ws(j.textStyle,a,t.ecModel))}var H=k.getTextColor()||t.get(["axisLine","lineStyle","color"]),rt=r.dataToCoord(w),yt=new la({x:rt,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:p,z2:10+(y.level||0),style:js(k,{text:M,align:k.getShallow("align",!0)||u.textAlign,verticalAlign:k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||u.textVerticalAlign,fill:Ki(H)?H("category"===r.type?E:"value"===r.type?w+"":w,b):H})});if(yt.anid="label_"+w,g){var st=k_.makeAxisEventDataBase(t);st.targetType="axisLabel",st.value=E,st.tickIndex=b,"category"===r.type&&(st.dataIndex=w),kr(yt).eventData=st}e.add(yt),yt.updateTransform(),h.push(yt),n.add(yt),yt.decomposeTransform()}),h}}(t,i,e,n);(function wBt(n,e,t){if(!Gtt(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]),o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=(t=t||[])[0],u=t[1],d=t[t.length-1],h=t[t.length-2];!1===i?(Rh(o),Rh(c)):ret(o,a)&&(i?(Rh(a),Rh(u)):(Rh(o),Rh(c))),!1===r?(Rh(s),Rh(d)):ret(l,s)&&(r?(Rh(l),Rh(h)):(Rh(s),Rh(d)))}})(e,o,r),function SBt(n,e,t,i){var r=t.axis,o=t.getModel("minorTick");if(o.get("show")&&!r.scale.isBlank()){var a=r.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=i*o.get("length"),c=nr(s.getLineStyle(),nr(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var d=aet(a[u],e.transform,l,c,"minorticks_"+u),h=0;h<d.length;h++)n.add(d[h])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&JQ(qQ(On(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,e,t,i){var r=Jc(n.axisName,e.get("name"));if(r){var h,g,o=e.get("nameLocation"),a=n.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=["start"===o?c[0]-u*l:"end"===o?c[1]+u*l:(c[0]+c[1])/2,oet(o)?n.labelOffset+a*l:0],p=e.get("nameRotate");null!=p&&(p=p*wg/180),oet(o)?h=k_.innerTextLayout(n.rotation,p??n.rotation,a):(h=function xBt(n,e,t,i){var o,a,r=lX(t-n),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return yD(r-wg/2)?(a=l?"bottom":"top",o="center"):yD(r-1.5*wg)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*wg&&r>wg/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}(n.rotation,o,p||0,c),null!=(g=n.axisNameAvailableWidth)&&(g=Math.abs(g/Math.sin(h.rotation)),!isFinite(g)&&(g=null)));var y=s.getFont(),b=e.get("nameTruncate",!0)||{},w=b.ellipsis,M=Jc(n.nameTruncateMaxWidth,b.maxWidth,g),E=new la({x:d[0],y:d[1],rotation:h.rotation,silent:k_.isLabelSilent(e),style:js(s,{text:r,font:y,overflow:"truncate",width:M,ellipsis:w,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(cb({el:E,componentModel:e,itemName:r}),E.__fullText=r,E.anid="name",e.get("triggerEvent")){var k=k_.makeAxisEventDataBase(e);k.targetType="axisName",k.name=r,kr(E).eventData=k}i.add(E),E.updateTransform(),t.add(E),E.decomposeTransform()}}};function Rh(n){n&&(n.ignore=!0)}function ret(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=$T([]);return Ov(r,r,-n.rotation),t.applyTransform(Yp([],r,n.getLocalTransform())),i.applyTransform(Yp([],r,e.getLocalTransform())),t.intersect(i)}}function oet(n){return"middle"===n||"center"===n}function aet(n,e,t,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var c=n[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=t,e&&(mu(a,a,e),mu(s,s,e));var u=new eu({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});lb(u.shape,u.style.lineWidth),u.anid=r+"_"+n[l].tickValue,o.push(u)}return o}const lm=k_;function I3(n,e){return"all"===n||Rn(n)&&uo(n,e)>=0||n===e}function P3(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[SC(n)]}function k3(n){return!!n.get(["handle","show"])}function SC(n){return n.type+"||"+n.id}var set={},RBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r,o){this.axisPointerClass&&function PBt(n){var e=P3(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),a=t.get("value");null!=a&&(a=i.parse(a));var s=k3(t);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function kBt(n){var e=P3(n);return e&&e.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){set[t]=i},e.getAxisPointerClass=function(t){return t&&set[t]},e.type="axis",e}(Il);const R_=RBt;var R3=Ko();function cet(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,d=R3(n).splitAreaColors,h=Wi(),p=0;if(d)for(var g=0;g<c.length;g++){var y=d.get(c[g].tickValue);if(null!=y){p=(y+(u-1)*g)%u;break}}var b=r.toGlobalCoord(c[0].coord),w=a.getAreaStyle();for(s=Rn(s)?s:[s],g=1;g<c.length;g++){var M=r.toGlobalCoord(c[g].coord),E=void 0,k=void 0,j=void 0,H=void 0;r.isHorizontal()?(k=l.y,H=l.height,b=(E=b)+(j=M-E)):(E=l.x,j=l.width,b=(k=b)+(H=M-k));var rt=c[g-1].tickValue;null!=rt&&h.set(rt,p),e.add(new Qo({anid:null!=rt?"area_"+rt:null,shape:{x:E,y:k,width:j,height:H},style:nr({fill:s[p]},w),autoBatch:!0,silent:!0})),p=(p+1)%u}R3(n).splitAreaColors=h}}}function uet(n){R3(n).splitAreaColors=null}var LBt=["axisLine","axisTickLabel","axisName"],OBt=["splitArea","splitLine","minorSplitLine"],det=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return mn(e,n),e.prototype.render=function(t,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new br,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),l=T3(s,t),c=new lm(t,Dn({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(b3(h[p].getOtherAxis(t.axis).scale))return!0;return!1}},l));Xt(LBt,c.add,c),this._axisGroup.add(c.getGroup()),Xt(OBt,function(d){t.get([d,"show"])&&NBt[d](this,this._axisGroup,t,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||X1(a,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){uet(this)},e.type="cartesianAxis",e}(R_),NBt={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=Rn(s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=r.isHorizontal(),u=0,d=r.getTicksCoords({tickModel:o}),h=[],p=[],g=a.getLineStyle(),y=0;y<d.length;y++){var b=r.toGlobalCoord(d[y].coord);c?(h[0]=b,h[1]=l.y,p[0]=b,p[1]=l.y+l.height):(h[0]=l.x,h[1]=b,p[0]=l.x+l.width,p[1]=b);var w=u++%s.length,E=new eu({anid:null!=d[y].tickValue?"line_"+d[y].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:nr({stroke:s[w]},g),silent:!0});lb(E.shape,g.lineWidth),e.add(E)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,a=t.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],d=[],h=a.getLineStyle(),p=0;p<c.length;p++)for(var g=0;g<c[p].length;g++){var y=r.toGlobalCoord(c[p][g].coord);l?(u[0]=y,u[1]=s.y,d[0]=y,d[1]=s.y+s.height):(u[0]=s.x,u[1]=y,d[0]=s.x+s.width,d[1]=y);var b=new eu({anid:"minor_line_"+c[p][g].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:h,silent:!0});lb(b.shape,h.lineWidth),e.add(b)}},splitArea:function(n,e,t,i){cet(n,e,t,i)}},het=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="xAxis",e}(det),FBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=het.type,t}return mn(e,n),e.type="yAxis",e}(det),BBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="grid",t}return mn(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new Qo({shape:t.coordinateSystem.getRect(),style:nr({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Il),fet={offset:0};function pet(n){n.registerComponentView(BBt),n.registerComponentModel(EFt),n.registerCoordinateSystem("cartesian2d",bBt),xb(n,"x",v3,fet),xb(n,"y",v3,fet),n.registerComponentView(het),n.registerComponentView(FBt),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function zBt(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();Xt(o,function(a,s){t.each(t.mapDimension(o[s].dim),function(l,c){i[c]=i[c]||[];var u=r.dataToPoint(l,s);i[c][s]=met(u)?u:get(r)})}),t.each(function(a){var s=function EDt(n,e,t){if(n&&e)for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}(i[a],function(l){return met(l)})||get(r);i[a].push(s.slice()),t.setItemLayout(a,i[a])})}})}function met(n){return!isNaN(n[0])&&!isNaN(n[1])}function get(n){return[n.cx,n.cy]}function UBt(n){var e=n.polar;if(e){Rn(e)||(e=[e]);var t=[];Xt(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Rn(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}Xt(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var GBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.coordinateSystem,a=this.group,s=t.getData(),l=this._data;function c(h,p){var g=h.getItemVisual(p,"symbol")||"circle";if("none"!==g){var y=eC(h.getItemVisual(p,"symbolSize")),b=yc(g,-1,-1,2,2),w=h.getItemVisual(p,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:y[0]/2,scaleY:y[1]/2,rotation:w*Math.PI/180||0}),b}}function u(h,p,g,y,b,w){g.removeAll();for(var M=0;M<p.length-1;M++){var E=c(y,b);E&&(E.__dimIdx=M,h[M]?(E.setPosition(h[M]),tt[w?"initProps":"updateProps"](E,{x:p[M][0],y:p[M][1]},t,b)):E.setPosition(p[M]),g.add(E))}}function d(h){return On(h,function(p){return[o.cx,o.cy]})}s.diff(l).add(function(h){var p=s.getItemLayout(h);if(p){var g=new Md,y=new Ed,b={shape:{points:p}};g.shape.points=d(p),y.shape.points=d(p),cl(g,b,t,h),cl(y,b,t,h);var w=new br,M=new br;w.add(y),w.add(g),w.add(M),u(y.shape.points,p,M,s,h,!0),s.setItemGraphicEl(h,w)}}).update(function(h,p){var g=l.getItemGraphicEl(p),y=g.childAt(0),b=g.childAt(1),w=g.childAt(2),M={shape:{points:s.getItemLayout(h)}};M.shape.points&&(u(y.shape.points,M.shape.points,w,s,h,!1),rf(b),rf(y),fa(y,M,t),fa(b,M,t),s.setItemGraphicEl(h,g))}).remove(function(h){a.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,p){var g=s.getItemModel(p),y=h.childAt(0),b=h.childAt(1),w=h.childAt(2),M=s.getItemVisual(p,"style"),E=M.fill;a.add(h),y.useStyle(nr(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),vu(y,g,"lineStyle"),vu(b,g,"areaStyle");var k=g.getModel("areaStyle"),j=k.isEmpty()&&k.parentModel.isEmpty();b.ignore=j,Xt(["emphasis","select","blur"],function(yt){var st=g.getModel([yt,"areaStyle"]),Lt=st.isEmpty()&&st.parentModel.isEmpty();b.ensureState(yt).ignore=Lt&&j}),b.useStyle(nr(k.getAreaStyle(),{fill:E,opacity:.7,decal:M.decal}));var H=g.getModel("emphasis"),rt=H.getModel("itemStyle").getItemStyle();w.eachChild(function(yt){if(yt instanceof gu){var st=yt.style;yt.useStyle(Dn({image:st.image,x:st.x,y:st.y,width:st.width,height:st.height},M))}else yt.useStyle(M),yt.setColor(E),yt.style.strokeNoScale=!0;yt.ensureState("emphasis").style=fr(rt);var kt=s.getStore().get(s.getDimensionIndex(yt.__dimIdx),p);(null==kt||isNaN(kt))&&(kt=""),_u(yt,zc(g),{labelFetcher:s.hostModel,labelDataIndex:p,labelDimIndex:yt.__dimIdx,defaultText:kt,inheritColor:E,defaultOpacity:M.opacity})}),Al(h,H.get("focus"),H.get("blurScope"),H.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Zs);const HBt=GBt;var jBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return mn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new yC(yi(this.getData,this),yi(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return bb(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),c=""===l?this.name:l,u=tK(this,t);return Uc("section",{header:c,sortBlocks:!0,blocks:On(s,function(d){var h=o.get(o.mapDimension(d.dim),t);return Uc("nameValue",{markerType:"subItem",markerColor:u,name:d.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(On(r.dimensions,function(c){return i.mapDimension(c)}),t),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(pl);const WBt=jBt;var MC=Dtt.value;function tI(n,e){return nr({show:e},n)}var ZBt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),h=this.get("triggerEvent"),p=On(this.get("indicator")||[],function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var y=l;null!=g.color&&(y=nr({color:g.color},l));var b=$r(fr(g),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:g.text,showName:c,nameLocation:"end",nameGap:d,nameTextStyle:y,triggerEvent:h},!1);ci(u)?b.name=u.replace("{value}",b.name??""):Ki(u)&&(b.name=u(b.name,b));var M=new Ws(b,null,this.ecModel);return gc(M,bC.prototype),M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:$r({lineStyle:{color:"#bbb"}},MC.axisLine),axisLabel:tI(MC.axisLabel,!1),axisTick:tI(MC.axisTick,!1),splitLine:tI(MC.splitLine,!0),splitArea:tI(MC.splitArea,!0),indicator:[]},e}(ca);const YBt=ZBt;var XBt=["axisLine","axisTickLabel","axisName"],$Bt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;Xt(On(i.getIndicatorAxes(),function(a){var s=a.model.get("showName")?a.name:"";return new lm(a.model,{axisName:s,position:[i.cx,i.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){Xt(XBt,a.add,a),this.group.add(a.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=t.get("shape"),a=t.getModel("splitLine"),s=t.getModel("splitArea"),l=a.getModel("lineStyle"),c=s.getModel("areaStyle"),u=a.get("show"),d=s.get("show"),h=l.get("color"),p=c.get("color"),g=Rn(h)?h:[h],y=Rn(p)?p:[p],b=[],w=[];if("circle"===o)for(var E=r[0].getTicksCoords(),k=i.cx,j=i.cy,H=0;H<E.length;H++)u&&b[M(b,g,H)].push(new Yf({shape:{cx:k,cy:j,r:E[H].coord}})),d&&H<E.length-1&&w[M(w,y,H)].push(new nA({shape:{cx:k,cy:j,r0:E[H].coord,r:E[H+1].coord}}));else{var yt,st=On(r,function(Te,be){var Ve=Te.getTicksCoords();return yt=null==yt?Ve.length-1:Math.min(Ve.length-1,yt),On(Ve,function(Fe){return i.coordToPoint(Fe.coord,be)})}),Lt=[];for(H=0;H<=yt;H++){for(var kt=[],te=0;te<r.length;te++)kt.push(st[te][H]);kt[0]&&kt.push(kt[0].slice()),u&&b[M(b,g,H)].push(new Ed({shape:{points:kt}})),d&&Lt&&w[M(w,y,H-1)].push(new Md({shape:{points:kt.concat(Lt)}})),Lt=kt.slice().reverse()}}var ne=l.getLineStyle(),de=c.getAreaStyle();Xt(w,function(Te,be){this.group.add(Ph(Te,{style:nr({stroke:"none",fill:y[be%y.length]},de),silent:!0}))},this),Xt(b,function(Te,be){this.group.add(Ph(Te,{style:nr({fill:"none",stroke:g[be%g.length]},ne),silent:!0}))},this)}function M(Te,be,Ve){var Fe=Ve%be.length;return Te[Fe]=Te[Fe]||[],Fe}},e.type="radar",e}(Il);const qBt=$Bt;var KBt=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return mn(e,n),e}(pf);const QBt=KBt;var JBt=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=On(e.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new QBt(a,new xg);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(r),this.cy-e*Math.sin(r)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var s,o=Math.atan2(-i,t),a=1/0,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],d=Math.abs(o-u.angle);d<a&&(s=u,l=c,a=d)}return[l,+(s&&s.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),a=Math.min(r,o)/2;this.cx=ni(i[0],r),this.cy=ni(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(ci(s)||sa(s))&&(s=[0,s]),this.r0=ni(s[0],a),this.r=ni(s[1],a),Xt(this._indicatorAxes,function(l,c){l.setExtent(this.r0,this.r);var u=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),l.angle=u},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;Xt(i,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===r){var c=s.getData();Xt(i,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var o=r.get("splitNumber"),a=new xg;a.setExtent(0,o),a.setInterval(1),Xt(i,function(s,l){tet(s.scale,s.model,a)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();const t3t=JBt;function e3t(n){n.registerCoordinateSystem("radar",t3t),n.registerComponentModel(YBt),n.registerComponentView(qBt),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var vet="\0_ec_interaction_mutex";function _et(n,e){return!!L3(n)[e]}function L3(n){return n[vet]||(n[vet]={})}qf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Kl);var o3t=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=yi(i._mousedownHandler,i),o=yi(i._mousemoveHandler,i),a=yi(i._mouseupHandler,i),s=yi(i._mousewheelHandler,i),l=yi(i._pinchHandler,i);return i.enable=function(c,u){this.disable(),this._opt=nr(fr(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==c&&(c=!0),(!0===c||"move"===c||"pan"===c)&&(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",a)),(!0===c||"scale"===c||"zoom"===c)&&(t.on("mousewheel",s),t.on("pinch",l))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",l)},i}return mn(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!sY(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&eI("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!_et(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Zp(t.event),yet(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){sY(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=eI("zoomOnMouseWheel",t,this._opt),r=eI("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,a=Math.abs(o),s=t.offsetX,l=t.offsetY;if(0!==o&&(i||r)){if(i){var c=a>3?1.4:a>1?1.2:1.1;O3(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?c:1/c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(o);O3(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){_et(this._zr,"globalPan")||O3(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(yh);function O3(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Zp(i.event),yet(n,e,t,i,r))}function yet(n,e,t,i,r){r.isAvailableBehavior=yi(eI,null,t,i),n.trigger(e,r)}function eI(n,e,t){var i=t[n];return!n||i&&(!ci(i)||e.event[i+"Key"])}const EC=o3t;function N3(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function F3(n,e,t,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=e,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var c=a/n.zoom;n.zoom=a,r.x-=(t-r.x)*(c-1),r.y-=(i-r.y)*(c-1),r.scaleX*=c,r.scaleY*=c,r.dirty()}var a3t={axisPointer:1,tooltip:1,brush:1};function nI(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!a3t.hasOwnProperty(i.mainType)&&r&&r.model!==t}function bet(n){ci(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var B3,iI={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},xet=Ro(iI),rI={"alignment-baseline":"textBaseline","stop-color":"stopColor"},wet=Ro(rI),s3t=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=bet(e);this._defsUsePending=[];var r=new br;this._root=r;var u,d,o=[],a=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||t.width),l=parseFloat(i.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),qd(i,r,null,!0,!1);for(var c=i.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function u3t(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var h=oI(a);h.length>=4&&(u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(u&&null!=s&&null!=l&&(d=Pet(u,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var p=r;(r=new br).add(p),p.scaleX=p.scaleY=d.scale,p.x=d.x,p.y=d.y}return!t.ignoreRootClip&&null!=s&&null!=l&&r.setClipPath(new Qo({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:d,named:o}},n.prototype._parseNode=function(e,t,i,r,o,a){var l,s=e.nodeName.toLowerCase(),c=r;if("defs"===s&&(o=!0),"text"===s&&(a=!0),"defs"===s||"switch"===s)l=t;else{if(!o){var u=B3[s];if(u&&xi(B3,s)){l=u.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:s,el:l};i.push(h),"g"===s&&(c=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:l});t.add(l)}}var p=Cet[s];if(p&&xi(Cet,s)){var g=p.call(this,e),y=e.getAttribute("id");y&&(this._defs[y]=g)}}if(l&&l.isGroup)for(var b=e.firstChild;b;)1===b.nodeType?this._parseNode(b,l,i,c,o,a):3===b.nodeType&&a&&this._parseText(b,l),b=b.nextSibling},n.prototype._parseText=function(e,t){var i=new E1({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),function l3t(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,r=i;i&&"auto"!==i&&"baseline"!==i?"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":("central"===i||"mathematical"===i)&&(r="middle"):r="alphabetic",n.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),n.style.textAlign=s)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i},n.internalField=void(B3={g:function(e,t){var i=new br;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new Qo;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Yf;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new eu;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new fB;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var r,i=e.getAttribute("points");i&&(r=Tet(i));var o=new Md({shape:{points:r||[]},silent:!0});return Lh(t,o),qd(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var r,i=e.getAttribute("points");i&&(r=Tet(i));var o=new Ed({shape:{points:r||[]},silent:!0});return Lh(t,o),qd(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new gu;return Lh(t,i),qd(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new br;return Lh(t,s),qd(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",s=new br;return Lh(t,s),qd(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(e,t){var r=fK(e.getAttribute("d")||"");return Lh(t,r),qd(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),n}(),Cet={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new $f(e,t,i,r);return Met(n,o),Eet(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new DK(e,t,i);return Met(n,r),Eet(n,r),r}};function Met(n,e){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(e.global=!0)}function Eet(n,e){for(var t=n.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,i=t.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};Iet(t,o,o);var a=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}t=t.nextSibling}}function Lh(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),nr(e.__inheritedStyle,n.__inheritedStyle))}function Tet(n){for(var e=oI(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function qd(n,e,t,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===n.nodeType&&(function f3t(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(h3t,function(d,h,p){return i.push(h,p),""});for(var o=i.length-1;o>0;o-=2){var s=i[o-1],l=oI(i[o]);switch(r=r||[1,0,0,1,0,0],s){case"translate":Lf(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":dN(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ov(r,r,-parseFloat(l[0])*V3);break;case"skewX":Yp(r,[1,0,Math.tan(parseFloat(l[0])*V3),1,0,0],r);break;case"skewY":Yp(r,[1,Math.tan(parseFloat(l[0])*V3),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(n,e),Iet(n,a,s),i||function p3t(n,e,t){for(var i=0;i<xet.length;i++)null!=(o=n.getAttribute(r=xet[i]))&&(e[iI[r]]=o);for(i=0;i<wet.length;i++){var r,o;null!=(o=n.getAttribute(r=wet[i]))&&(t[rI[r]]=o)}}(n,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=Det(o,"fill",a.fill,t)),null!=a.stroke&&(o.style.stroke=Det(o,"stroke",a.stroke,t)),Xt(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),Xt(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=On(oI(a.lineDash),function(l){return parseFloat(l)})),("hidden"===a.visibility||"collapse"===a.visibility)&&(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var c3t=/^url\(\s*#(.*?)\)/;function Det(n,e,t,i){var r=t&&t.match(c3t);if(!r)return"none"===t&&(t=null),t;var o=Jh(r[1]);i.push([n,e,o])}var d3t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function oI(n){return n.match(d3t)||[]}var h3t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,V3=Math.PI/180,Aet=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Iet(n,e,t){var i=n.getAttribute("style");if(i){Aet.lastIndex=0;for(var r;null!=(r=Aet.exec(i));){var o=r[1],a=xi(iI,o)?iI[o]:null;a&&(e[a]=r[2]);var s=xi(rI,o)?rI[o]:null;s&&(t[s]=r[2])}}}function Pet(n,e){var r=Math.min(e.width/n.width,e.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}var g3t=1e-8;function ket(n,e){return Math.abs(n-e)<g3t}function L_(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Jp(r[0],r[1],a[0],a[1],e,t),r=a}var s=n[0];return(!ket(r[0],s[0])||!ket(r[1],s[1]))&&(i+=Jp(r[0],r[1],s[0],s[1],e,t)),0!==i}var v3t=[];function z3(n,e){for(var t=0;t<n.length;t++)mu(n[t],n[t],e)}function Ret(n,e,t,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Qm(e,e,o),Jm(t,t,o))}}var Let=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),Oet=function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t},Net=function n(e){this.type="linestring",this.points=e},Fet=function(n){function e(t,i,r){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return mn(e,n),e.prototype.calcCenter=function(){for(var i,t=this.geometries,r=0,o=0;o<t.length;o++){var a=t[o],s=a.exterior,l=s&&s.length;l>r&&(i=a,r=l)}if(i)return function _3t(n){for(var e=0,t=0,i=0,r=n.length,o=n[r-1][0],a=n[r-1][1],s=0;s<r;s++){var l=n[s][0],c=n[s][1],u=o*c-l*a;e+=u,t+=(o+l)*u,i+=(a+c)*u,o=l,a=c}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}(i.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return Xt(this.geometries,function(s){"polygon"===s.type?Ret(s.exterior,r,o,t):Xt(s.points,function(l){Ret(l,r,o,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new Kr(r[0],r[1],o[0]-r[0],o[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var o=0,a=r.length;o<a;o++){var s=r[o];if("polygon"===s.type){var c=s.interiors;if(L_(s.exterior,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(L_(c[u],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new Kr(t,i,r,o),c=a.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++){var h=u[d];"polygon"===h.type?(z3(h.exterior,c),Xt(h.interiors,function(p){z3(p,c)})):Xt(h.points,function(p){z3(p,c)})}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(Let),y3t=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return mn(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=$T(v3t),a=t;a&&!a.isGeoSVGGraphicRoot;)Yp(o,a.getLocalTransform(),o),a=a.parent;return L0(o,o),mu(r,r,o),r},e}(Let),b3t=Wi(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),x3t=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Wi(),this._freedGraphics=[],this._mapName=e,this._parsedXML=bet(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function C3t(n){var e=[],t=Wi();return Xt(n,function(i){if(null==i.namedFrom){var r=new y3t(i.name,i.el);e.push(r),t.set(i.name,r)}}),{regions:e,regionsMap:t}}(e.named),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&function m3t(n,e){return(new s3t).parse(n,e)}(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Ju(null!=(i=t.root))}catch(b){throw new Error("Invalid svg format\n"+b.message)}var r=new br;r.add(i),r.isGeoSVGGraphicRoot=!0;var o=t.width,a=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,d=void 0,h=void 0;if(null!=o?(c=0,d=o):s&&(c=s.x,d=s.width),null!=a?(u=0,h=a):s&&(u=s.y,h=s.height),null==c||null==u){var p=i.getBoundingRect();null==c&&(c=p.x,d=p.width),null==u&&(u=p.y,h=p.height)}l=this._boundingRect=new Kr(c,u,d,h)}if(s){var g=Pet(s,l);i.scaleX=i.scaleY=g.scale,i.x=g.x,i.y=g.y}r.setClipPath(new Qo({shape:l.plain()}));var y=[];return Xt(t.named,function(b){null!=b3t.get(b.svgNodeTagLower)&&(y.push(b),function w3t(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}(b.el))}),{root:r,boundingRect:l,named:y}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function U3(n,e,t){for(var i=0;i<n.length;i++)n[i]=Bet(n[i],e[i],t)}function Bet(n,e,t){for(var i=[],r=e[0],o=e[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/t,l/t])}return i}for(var G3=[126,25],O_=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],N_=0;N_<O_.length;N_++)for(var Cb=0;Cb<O_[N_].length;Cb++)O_[N_][Cb][0]/=10.5,O_[N_][Cb][1]/=-14,O_[N_][Cb][0]+=G3[0],O_[N_][Cb][1]+=G3[1];var T3t={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},A3t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],k3t=function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=Wi(),this._mapName=e,this._specialAreas=i,this._geoJSON=function L3t(n){return ci(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(t)}return n.prototype.load=function(e,t){var i=this._parsedMap.get(t=t||"name");if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:R3t(r)})}var o=Wi(),a=[];return Xt(i.regions,function(s){var l=s.name;e&&xi(e,l)&&(s=s.cloneShallow(l=e[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:i.boundingRect||new Kr(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var r,t=this._mapName,i=this._geoJSON;try{r=i?function M3t(n,e){return n=function S3t(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;return null==t&&(t=1024),Xt(e.features,function(r){var o=r.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=Bet(s,a,t);break;case"Polygon":case"MultiLineString":U3(s,a,t);break;case"MultiPolygon":Xt(s,function(l,c){return U3(l,a[c],t)})}}),e.UTF8Encoding=!1,e}(n),On(ps(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new Oet(a[0],a.slice(1)));break;case"MultiPolygon":Xt(r.coordinates,function(l){l[0]&&o.push(new Oet(l[0],l.slice(1)))});break;case"LineString":o.push(new Net([r.coordinates]));break;case"MultiLineString":o.push(new Net(r.coordinates))}var s=new Fet(i[e||"name"],o,i.cp);return s.properties=i,s})}(i,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function E3t(n,e){if("china"===n){for(var t=0;t<e.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===e[t].name)return;e.push(new Fet("\u5357\u6d77\u8bf8\u5c9b",On(O_,function(i){return{type:"polygon",exterior:i}}),G3))}}(t,r),Xt(r,function(o){var a=o.name;(function D3t(n,e){if("china"===n){var t=T3t[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/14,e.setCenter(i)}}})(t,o),function I3t(n,e){"china"===n&&"\u53f0\u6e7e"===e.name&&e.geometries.push({type:"polygon",exterior:A3t[0]})}(t,o);var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),r},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function R3t(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var TC=Wi();const cm={registerMap:function(n,e,t){if(e.svg){var i=new x3t(n,e.svg);TC.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new k3t(n,r,t),TC.set(n,i)}},getGeoResource:function(n){return TC.get(n)},getMapForUser:function(n){var e=TC.get(n);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(n,e,t){var i=TC.get(n);if(i)return i.load(e,t)}};var H3=["rect","circle","line","ellipse","polygon","polyline","path"],O3t=Wi(H3),N3t=Wi(H3.concat(["g"])),F3t=Wi(H3.concat(["g"])),zet=Ko();function aI(n){var e=n.getItemStyle(),t=n.get("areaColor");return null!=t&&(e.fill=t),e}function Uet(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var B3t=function(){function n(e){var t=new br;this.uid=$0("ec_map_draw"),this._controller=new EC(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new br),t.add(this._svgGroup=new br)}return n.prototype.draw=function(e,t,i,r,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(w){!s&&w.getHostGeoModel()===e&&(s=w.getData())});var l=e.coordinateSystem,c=this._regionsGroup,u=this.group,d=l.getTransformInfo(),h=d.raw,p=d.roam;!c.childAt(0)||o?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):fa(u,p,e);var y=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,b={api:i,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:y,isGeo:a,transformInfoRaw:h};"geoJSON"===l.resourceType?this._buildGeoJSON(b):"geoSVG"===l.resourceType&&this._buildSVG(b),this._updateController(e,t,i),this._updateMapSelectHandler(e,c,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Wi(),i=Wi(),r=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,s=e.data,l=e.geo.projection,c=l&&l.stream;function u(p,g){return g&&(p=g(p)),p&&[p[0]*o.scaleX+o.x,p[1]*o.scaleY+o.y]}function d(p){for(var g=[],y=!c&&l&&l.project,b=0;b<p.length;++b){var w=u(p[b],y);w&&g.push(w)}return g}function h(p){return{shape:{points:d(p)}}}r.removeAll(),Xt(e.geo.regions,function(p){var g=p.name,y=t.get(g),b=i.get(g)||{},w=b.dataIdx,M=b.regionModel;y||(y=t.set(g,new br),r.add(y),w=s?s.indexOfName(g):null,M=e.isGeo?a.getRegionModel(g):s?s.getItemModel(w):null,i.set(g,{dataIdx:w,regionModel:M}));var E=[],k=[];Xt(p.geometries,function(rt){if("polygon"===rt.type){var yt=[rt.exterior].concat(rt.interiors||[]);c&&(yt=Yet(yt,c)),Xt(yt,function(Lt){E.push(new Md(h(Lt)))})}else{var st=rt.points;c&&(st=Yet(st,c,!0)),Xt(st,function(Lt){k.push(new Ed(h(Lt)))})}});var j=u(p.getCenter(),l&&l.project);function H(rt,yt){if(rt.length){var st=new gB({culling:!0,segmentIgnoreThreshold:1,shape:{paths:rt}});y.add(st),Get(e,st,w,M),Het(e,st,g,M,a,w,j),yt&&(Uet(st),Xt(st.states,Uet))}}H(E),H(k,!0)}),t.each(function(p,g){var y=i.get(g),w=y.regionModel;jet(e,p,g,w,a,y.dataIdx),Wet(e,p,g,w,a),Zet(e,p,g,w,a)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=Wi(),o=!1;Xt(this._svgGraphicRecord.named,function(a){var s=a.name,l=e.mapOrGeoModel,c=e.data,u=a.svgNodeTagLower,d=a.el,h=c?c.indexOfName(s):null,p=l.getRegionModel(s);null!=O3t.get(u)&&d instanceof Mh&&Get(e,d,h,p),d instanceof Mh&&(d.culling=!0),d.z2EmphasisLift=0,a.namedFrom||(null!=F3t.get(u)&&Het(e,d,s,p,l,h,null),jet(e,d,s,p,l,h),Wet(e,d,s,p,l),null==N3t.get(u))||("self"===Zet(e,d,s,p,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(d))},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){i_(o);var a=o.ensureState("blur").style||{};null==a.opacity&&null!=r&&(a.opacity=r),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=cm.getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=cm.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var c={type:"geoRoam",componentType:s};return c[s+"Id"]=e.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,N3(a,c.dx,c.dy),i.dispatchAction(Dn(l(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,F3(a,c.scale,c.originX,c.originY),i.dispatchAction(Dn(l(),{zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(c,u,d){return r.containPoint([u,d])&&!nI(c,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=zet(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function Get(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=aI(r),c=aI(o),u=aI(s),d=aI(a),h=n.data;if(h){var p=h.getItemVisual(t,"style"),g=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=pb(g,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=d,i_(e)}function Het(n,e,t,i,r,o,a){var s=n.data,l=n.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),o)),u=s&&s.getItemLayout(o);if(l||c||u&&u.showLabel){var d=l?t:o,h=void 0;(!s||o>=0)&&(h=r);var p=a?{normal:{align:"center",verticalAlign:"middle"}}:null;_u(e,zc(i),{labelFetcher:h,labelDataIndex:d,defaultText:t},p);var g=e.getTextContent();if(g&&(zet(g).ignore=g.ignore,e.textConfig&&a)){var y=e.getBoundingRect().clone();e.textConfig.layoutRect=y,e.textConfig.position=[(a[0]-y.x)/y.width*100+"%",(a[1]-y.y)/y.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function jet(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):kr(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function Wet(n,e,t,i,r){n.data||cb({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function Zet(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return Al(e,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&function NPt(n,e,t){var i=kr(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}(e,r,t),a}function Yet(n,e,t){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,c){isFinite(l)&&isFinite(c)&&r.push([l,c])},sphere:function(){}});return!t&&s.polygonStart(),Xt(n,function(l){s.lineStart();for(var c=0;c<l.length;c++)s.point(l[c][0],l[c][1]);s.lineEnd()}),!t&&s.polygonEnd(),i}const Xet=B3t;var V3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===t.id)(s=this._mapDraw)&&a.add(s.group);else if(t.needsDrawMap){var s=this._mapDraw||new Xet(r);a.add(s.group),s.draw(t,i,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var c=o.getItemLayout(l);if(c&&c.point){var u=c.point,d=c.offset,h=new Yf({style:{fill:t.getData().getVisual("style").fill},shape:{cx:u[0]+9*d,cy:u[1],r:3},silent:!0,z2:8+(d?0:j0+1)});if(!d){var p=t.mainSeries.getData(),g=o.getName(l),y=p.indexOfName(g),b=o.getItemModel(l),w=b.getModel("label"),M=p.getItemGraphicEl(y);_u(h,zc(b),{labelFetcher:{getFormattedLabel:function(E,k){return t.getFormattedLabel(y,k)}},defaultText:g}),h.disableLabelAnimation=!0,w.get("position")||h.setTextConfig({position:"bottom"}),M.onHoverStateChange=function(E){kD(h,E)}}a.add(h)}}})},e.type="map",e}(Zs);const z3t=V3t;var U3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},t}return mn(e,n),e.prototype.getInitialData=function(t){for(var i=bb(this,{coordDimensions:["value"],encodeDefaulter:Nr(UF,this)}),r=Wi(),o=[],a=0,s=i.count();a<s;a++){var l=i.getName(a);r.set(l,!0)}return Xt(cm.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var d=u.name;r.get(d)||o.push(d)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),a=this.getRawValue(t),s=o.getName(t),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var d=l[u].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[u].originalData.get(h,d))||c.push(l[u].name)}return Uc("section",{header:c.join(", "),noHeader:!c.length,blocks:[Uc("nameValue",{name:s,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=yc(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(pl);const G3t=U3t;function j3t(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),Xt(e,function(t,i){for(var r=function H3t(n,e){var t={};return Xt(n,function(i){i.each(i.mapDimension("value"),function(r,o){var a="ec-"+i.getName(o);t[a]=t[a]||[],isNaN(r)||t[a].push(r)})}),n[0].map(n[0].mapDimension("value"),function(i,r){for(var o="ec-"+n[0].getName(r),a=0,s=1/0,l=-1/0,c=t[o].length,u=0;u<c;u++)s=Math.min(s,t[o][u]),l=Math.max(l,t[o][u]),a+=t[o][u];return 0===c?NaN:"min"===e?s:"max"===e?l:"average"===e?a/c:a})}(On(t,function(a){return a.getData()}),t[0].get("mapValueCalculation")),o=0;o<t.length;o++)t[o].originalData=t[o].getData();for(o=0;o<t.length;o++)t[o].seriesGroup=t,t[o].needsDrawMap=0===o&&!t[o].getHostGeoModel(),t[o].setData(r.cloneShallow()),t[o].mainSeries=t[0]})}function W3t(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};Xt(t.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var d=l.getName(u),h=s.getRegion(d);if(h&&!isNaN(c)){var p=r[d]||0,g=s.dataToPoint(h.getCenter());r[d]=p+1,l.setItemLayout(u,{point:g,offset:p})}})});var o=t.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),e[i]=!0}})}var $et=mu,Z3t=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new $p,i._rawTransformable=new $p,i.name=t,i}return mn(e,n),e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new Kr(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new Kr(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new Kr(t,i,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[ni(t[0],i.getWidth()),ni(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=mu([],o,t),r=mu([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),uN(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],L0(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new $p;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?$et(r,t,o):td(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?$et([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=qet(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=qet(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}($p);function qet(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const DC=Z3t;var Y3t={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Ket=["lng","lat"],Qet=function(n){function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=Ket,o.type="geo",o._nameCoordMap=Wi(),o.map=i;var h,a=r.projection,s=cm.load(i,r.nameMap,r.nameProperty),l=cm.getGeoResource(i),u=(o.resourceType=l?l.type:null,o.regions=s.regions),d=Y3t[l.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a,a)for(var p=0;p<u.length;p++){var g=u[p].getBoundingRect(a);(h=h||g.clone()).union(g)}else h=s.boundingRect;return o.setBoundingRect(h.x,h.y,h.width,h.height),o.aspectScale=a?1:qr(r.aspectScale,d.aspectScale),o._invertLongitute=!a&&d.invertLongitute,o}return mn(e,n),e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new Kr(t,i,r,o));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(ci(t)&&(t=this.getGeoCoord(t)),t){var o=this.projection;return o&&(t=o.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=Jet(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=Jet(i);return o===this?o.pointToData(r):null},e}(DC);function Jet(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",vc).models[0]||{}).coordinateSystem:null}gc(Qet,DC);const tnt=Qet;function ent(n,e){var t=n.get("boundingCoords");if(null!=t){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],c=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var u=function(H,rt,yt,st){for(var Lt=yt-H,kt=st-rt,te=0;te<=100;te++){var ne=te/100,de=o.project([H+Lt*ne,rt+kt*ne]);Qm(i,i,de),Jm(r,r,de)}};u(a,s,l,s),u(l,s,l,c),u(l,c,a,c),u(a,c,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var M,E,k,d=this.getBoundingRect(),h=n.get("layoutCenter"),p=n.get("layoutSize"),g=e.getWidth(),y=e.getHeight(),b=d.width/d.height*this.aspectScale,w=!1;if(h&&p&&(M=[ni(h[0],g),ni(h[1],y)],E=ni(p,Math.min(g,y)),!isNaN(M[0])&&!isNaN(M[1])&&!isNaN(E)&&(w=!0)),w)k={},b>1?(k.width=E,k.height=E/b):(k.height=E,k.width=E*b),k.y=M[1]-k.height/2,k.x=M[0]-k.width/2;else{var j=n.getBoxLayoutParams();j.aspect=b,k=Lc(j,{width:g,height:y})}this.setViewRect(k.x,k.y,k.width,k.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}var $3t=function(){function n(){this.dimensions=Ket}return n.prototype.create=function(e,t){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,s){var l=a.get("map"),c=new tnt(l+s,l,Dn({nameMap:a.get("nameMap")},r(a)));c.zoomLimit=a.get("scaleLimit"),i.push(c),a.coordinateSystem=c,c.model=a,c.resize=ent,c.resize(a,t)}),e.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var l=a.get("geoIndex")||0;a.coordinateSystem=i[l]}});var o={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),Xt(o,function(a,s){var l=On(a,function(u){return u.get("nameMap")}),c=new tnt(s,s,Dn({nameMap:X2(l)},r(a[0])));c.zoomLimit=Jc.apply(null,On(a,function(u){return u.get("scaleLimit")})),i.push(c),c.resize=ent,c.resize(a[0],t),Xt(a,function(u){u.coordinateSystem=c,function X3t(n,e){Xt(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}(c,u)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),a=Wi(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return Xt(cm.load(t,i,r).regions,function(c){var u=c.name;!a.get(u)&&o.push({name:u})}),o},n}();const nnt=new $3t;var K3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i,r){var o=cm.getGeoResource(t.map);if(o&&"geoJSON"===o.type){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,r),jv(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=nnt.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=Rf(i.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Ws(a,t,t.ecModel)),a.selected&&(r[s]=!0)),o},Wi()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Ws(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var o=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:t};return Ki(o)?(a.status=i,o(a)):ci(o)?o.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(ca);const Q3t=K3t;function int(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function j3(n,e,t,i){var r=n.getZoom(),o=n.getCenter(),a=e.zoom,s=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(int(n,s),i)),null!=a){if(t){var l=t.min||0;a=Math.max(Math.min(r*a,t.max||1/0),l)/r}n.scaleX*=a,n.scaleY*=a;var d=(e.originY-n.y)*(a-1);n.x-=(e.originX-n.x)*(a-1),n.y-=d,n.updateTransform(),n.setCenter(int(n,s),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var J3t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return mn(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Xet(r));var a=this._mapDraw;a.draw(t,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;__(t.target,function(r){return null!=(i=kr(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(a){var s=kr(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Il);const tVt=J3t;function eVt(n,e,t){cm.registerMap(n,e,t)}function rnt(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name),Xt(l.coordinateSystem.regions,function(d){a[d.name]=l.isSelected(d.name)||!1});var u=[];Xt(a,function(d,h){a[h]&&u.push(h)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",nnt),n.registerComponentModel(Q3t),n.registerComponentView(tVt),n.registerImpl("registerMap",eVt),n.registerImpl("getMap",function(t){return cm.getMapForUser(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var o=t.componentType||"series";i.eachComponent({mainType:o,query:t},function(a){var s=a.coordinateSystem;if("geo"===s.type){var l=j3(s,t,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),"series"===o&&Xt(a.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function rVt(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){!function sVt(n){for(var e=n.children,t=e.length,i=0,r=0;--t>=0;){var o=e[t];o.hierNode.prelim+=i,o.hierNode.modifier+=i,i+=o.hierNode.shift+(r+=o.hierNode.change)}}(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function lVt(n,e,t,i){if(e){for(var r=n,o=n,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,c=o.hierNode.modifier,u=a.hierNode.modifier,d=s.hierNode.modifier;s=W3(s),o=Z3(o),s&&o;){r=W3(r),a=Z3(a),r.hierNode.ancestor=n;var h=s.hierNode.prelim+d-o.hierNode.prelim-c+i(s,o);h>0&&(uVt(cVt(s,n,t),n,h),c+=h,l+=h),d+=s.hierNode.modifier,c+=o.hierNode.modifier,l+=r.hierNode.modifier,u+=a.hierNode.modifier}s&&!W3(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=d-l),o&&!Z3(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=c-u,t=n)}return t}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function oVt(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function ont(n){return arguments.length?n:dVt}function AC(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function W3(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function Z3(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function cVt(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function uVt(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function dVt(n,e){return n.parentNode===e.parentNode?1:2}var hVt=function n(){this.parentPoint=[],this.childPoints=[]},fVt=function(n){function e(t){return n.call(this,t)||this}return mn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new hVt},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,a=i.parentPoint,s=r[0],l=r[o-1];if(1===o)return t.moveTo(a[0],a[1]),void t.lineTo(s[0],s[1]);var c=i.orient,u="TB"===c||"BT"===c?0:1,d=1-u,h=ni(i.forkPosition,1),p=[];p[u]=a[u],p[d]=a[d]+(l[d]-a[d])*h,t.moveTo(a[0],a[1]),t.lineTo(p[0],p[1]),t.moveTo(s[0],s[1]),p[u]=s[u],t.lineTo(p[0],p[1]),p[u]=l[u],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var g=1;g<o-1;g++){var y=r[g];t.moveTo(y[0],y[1]),p[u]=y[u],t.lineTo(p[0],p[1])}},e}(wo),pVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new br,t}return mn(e,n),e.prototype.init=function(t,i){this._controller=new EC(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),a=t.layoutInfo,s=this._mainGroup;"radial"===t.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var c=this._data;o.diff(c).add(function(u){ant(o,u)&&snt(o,u,null,s,t)}).update(function(u,d){var h=c.getItemGraphicEl(d);ant(o,u)?snt(o,u,h,s,t):h&&unt(c,d,h,s,t)}).remove(function(u){var d=c.getItemGraphicEl(u);d&&unt(c,u,d,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,d){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=o},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),o=[];r.each(function(d){var h=r.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&o.push([+h.x,+h.y])});var a=[],s=[];ED(o,a,s);var l=this._min,c=this._max;s[0]-a[0]==0&&(a[0]=l?l[0]:a[0]-1,s[0]=c?c[0]:s[0]+1),s[1]-a[1]==0&&(a[1]=l?l[1]:a[1]-1,s[1]=c?c[1]:s[1]+1);var u=t.coordinateSystem=new DC;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),u.setCenter(t.get("center"),i),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=a,this._max=s},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(c,u,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(u,d)&&!nI(c,r,t)}),a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){N3(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){F3(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Zs);function ant(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function snt(n,e,t,i,r){var o=!t,a=n.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,c=!1===a.isExpand&&0!==a.children.length?l:"#fff",u=n.tree.root,d=a.parentNode===u?a:a.parentNode||a,h=n.getItemGraphicEl(d.dataIndex),p=d.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,y=a.getLayout();o?((t=new mC(n,e,null,{symbolInnerColor:c,useNameLabel:!0})).x=g.x,t.y=g.y):t.updateData(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=y.rawX,t.__radialRawY=y.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,fa(t,{x:y.x,y:y.y},r);var b=t.getSymbolPath();if("radial"===r.get("layout")){var w=u.children[0],M=w.getLayout(),E=w.children.length,k=void 0,j=void 0;if(y.x===M.x&&!0===a.isExpand&&w.children.length){var H={x:(w.children[0].getLayout().x+w.children[E-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[E-1].getLayout().y)/2};(k=Math.atan2(H.y-M.y,H.x-M.x))<0&&(k=2*Math.PI+k),(j=H.x<M.x)&&(k-=Math.PI)}else(k=Math.atan2(y.y-M.y,y.x-M.x))<0&&(k=2*Math.PI+k),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(j=y.x<M.x)&&(k-=Math.PI):(j=y.x>M.x)||(k-=Math.PI);var rt=j?"left":"right",yt=s.getModel("label"),st=yt.get("rotate"),Lt=st*(Math.PI/180),kt=b.getTextContent();kt&&(b.setTextConfig({position:yt.get("position")||rt,rotation:null==st?-k:Lt,origin:"center"}),kt.setStyle("verticalAlign","middle"))}var te=s.get(["emphasis","focus"]),ne="relative"===te?HT(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===te?a.getAncestorsIndices():"descendant"===te?a.getDescendantIndices():null;ne&&(kr(t).focus=ne),function mVt(n,e,t,i,r,o,a,s){var l=e.getModel(),c=n.get("edgeShape"),u=n.get("layout"),d=n.getOrient(),h=n.get(["lineStyle","curveness"]),p=n.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),y=i.__edge;if("curve"===c)e.parentNode&&e.parentNode!==t&&(y||(y=i.__edge=new iA({shape:Y3(u,d,h,r,r)})),fa(y,{shape:Y3(u,d,h,o,a)},n));else if("polyline"===c&&"orthogonal"===u&&e!==t&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var b=e.children,w=[],M=0;M<b.length;M++){var E=b[M].getLayout();w.push([E.x,E.y])}y||(y=i.__edge=new fVt({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:p}})),fa(y,{shape:{parentPoint:[a.x,a.y],childPoints:w}},n)}y&&("polyline"!==c||e.isExpand)&&(y.useStyle(nr({strokeNoScale:!0,fill:null},g)),vu(y,l,"lineStyle"),i_(y),s.add(y))}(r,a,u,t,g,p,y,i),t.__edge&&(t.onHoverStateChange=function(de){if("blur"!==de){var Te=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);Te&&Te.hoverState===T1||kD(t.__edge,de)}})}function lnt(n,e,t,i,r){var a=cnt(e.tree.root,n),s=a.source,l=a.sourceLayout,c=e.getItemGraphicEl(n.dataIndex);if(c){var u=e.getItemGraphicEl(s.dataIndex),h=c.__edge||(!1===s.isExpand||1===s.children.length?u.__edge:void 0),p=i.get("edgeShape"),g=i.get("layout"),y=i.get("orient"),b=i.get(["lineStyle","curveness"]);h&&("curve"===p?cg(h,{shape:Y3(g,y,b,l,l),style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}):"polyline"===p&&"orthogonal"===i.get("layout")&&cg(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}))}}function cnt(n,e){for(var i,t=e.parentNode===n?e:e.parentNode||e;null==(i=t.getLayout());)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function unt(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),s=cnt(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};cg(t,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(c){lnt(c,n,i,r,l)}),lnt(o,n,i,r,l)}function Y3(n,e,t,i,r){var o,a,s,l,c,u,d,h;if("radial"===n){u=r.rawX,h=r.rawY;var p=AC(c=i.rawX,d=i.rawY),g=AC(c,d+(h-d)*t),y=AC(u,h+(d-h)*t),b=AC(u,h);return{x1:p.x||0,y1:p.y||0,x2:b.x||0,y2:b.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:y.x||0,cpy2:y.y||0}}return c=i.x,d=i.y,u=r.x,h=r.y,("LR"===e||"RL"===e)&&(o=c+(u-c)*t,a=d,s=u+(c-u)*t,l=h),("TB"===e||"BT"===e)&&(o=c,a=d+(h-d)*t,s=u,l=h+(d-h)*t),{x1:c,y1:d,x2:u,y2:h,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}const gVt=pVt;var Oh=Ko();function _Vt(n,e){if(function CVt(n){return Oh(n).mainData===n}(this)){var t=Dn({},Oh(this).datas);t[this.dataType]=e,dnt(e,t,n)}else X3(e,this.dataType,Oh(this).mainData,n);return e}function yVt(n,e){return n.struct&&n.struct.update(),e}function bVt(n,e){return Xt(Oh(e).datas,function(t,i){t!==e&&X3(t.cloneShallow(),i,e,n)}),e}function xVt(n){var e=Oh(this).mainData;return null==n||null==e?e:Oh(e).datas[n]}function wVt(){var n=Oh(this).mainData;return null==n?[{data:n}]:On(Ro(Oh(n).datas),function(e){return{type:e,data:Oh(n).datas[e]}})}function dnt(n,e,t){Oh(n).datas={},Xt(e,function(i,r){X3(i,r,n,t)})}function X3(n,e,t,i){Oh(t).datas[e]=n,Oh(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=xVt,n.getLinkedDataAll=wVt}const hnt=function vVt(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,dnt(e,t,n),Xt(t,function(i){Xt(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,Nr(_Vt,n))})}),e.wrapMethod("cloneShallow",Nr(bVt,n)),Xt(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,Nr(yVt,n))}),Ju(t[e.dataType]===e)};var SVt=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){Ki(e)&&(i=t,t=e,e=null),ci(e=e||{})&&(e={order:e});var a,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(a=t.call(i,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(e,t,i);"postorder"===r&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),MVt=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],a=1;!function s(u,d){var h=u.value;a=Math.max(a,Rn(h)?h.length:1),o.push(u);var p=new SVt(Rc(u.name,""),r);d?function EVt(n,e){n.parentNode!==e&&(e.children.push(n),n.parentNode=e)}(p,d):r.root=p,r._nodes.push(p);var g=u.children;if(g)for(var y=0;y<g.length;y++)s(g[y],p)}(e),r.root.updateDepthAndHeight(0);var l=vb(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,c=new od(l,t);return c.initData(o),i&&i(c),hnt({mainData:c,struct:r,structAttr:"tree"}),r.update(),r},n}();const $3=MVt;function IC(n,e,t){if(n&&uo(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(ci(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function fnt(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function q3(n,e){return uo(fnt(n),e)>=0}function sI(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var TVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return mn(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},o=new Ws(t.leaves||{},this,this.ecModel),a=$3.createTree(i,this,function s(d){d.wrapMethod("getItemModel",function(h,p){var g=a.getNodeByDataIndex(p);return g&&g.children.length&&g.isExpand||(h.parentModel=o),h})}),l=0;a.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return a.root.eachNode("preorder",function(d){var h=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=h&&null!=h.collapsed?!h.collapsed:d.depth<=u}),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(t),l=s.getValue(),c=s.name;s&&s!==a;)c=s.parentNode.name+"."+c,s=s.parentNode;return Uc("nameValue",{name:c,value:l,noValue:isNaN(l)||null==l})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=sI(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(pl);const DVt=TVt;function PC(n,e){for(var i,t=[n];i=t.pop();)if(e(i),i.isExpand){var r=i.children;if(r.length)for(var o=r.length-1;o>=0;o--)t.push(r[o])}}function IVt(n,e){n.eachSeriesByType("tree",function(t){!function PVt(n,e){var t=function aVt(n,e){return Lc(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(n,e);n.layoutInfo=t;var i=n.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(t.height,t.width)/2,a=ont(function(E,k){return(E.parentNode===k.parentNode?1:2)/E.depth})):(r=t.width,o=t.height,a=ont());var s=n.getData().tree.root,l=s.children[0];if(l){(function iVt(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,r,t=[e];i=t.pop();)if(r=i.children,i.isExpand&&r.length)for(var a=r.length-1;a>=0;a--){var s=r[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},t.push(s)}})(s),function AVt(n,e,t){for(var o,i=[n],r=[];o=i.pop();)if(r.push(o),o.isExpand){var a=o.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;o=r.pop();)e(o,t)}(l,rVt,a),s.hierNode.modifier=-l.hierNode.prelim,PC(l,oVt);var c=l,u=l,d=l;PC(l,function(E){var k=E.getLayout().x;k<c.getLayout().x&&(c=E),k>u.getLayout().x&&(u=E),E.depth>d.depth&&(d=E)});var h=c===u?1:a(c,u)/2,p=h-c.getLayout().x,g=0,y=0,b=0,w=0;if("radial"===i)g=r/(u.getLayout().x+h+p),y=o/(d.depth-1||1),PC(l,function(E){var k=AC(b=(E.getLayout().x+p)*g,w=(E.depth-1)*y);E.setLayout({x:k.x,y:k.y,rawX:b,rawY:w},!0)});else{var M=n.getOrient();"RL"===M||"LR"===M?(y=o/(u.getLayout().x+h+p),g=r/(d.depth-1||1),PC(l,function(E){w=(E.getLayout().x+p)*y,E.setLayout({x:b="LR"===M?(E.depth-1)*g:r-(E.depth-1)*g,y:w},!0)})):("TB"===M||"BT"===M)&&(g=r/(u.getLayout().x+h+p),y=o/(d.depth-1||1),PC(l,function(E){b=(E.getLayout().x+p)*g,E.setLayout({x:b,y:w="TB"===M?(E.depth-1)*y:o-(E.depth-1)*y},!0)}))}}}(t,e)})}function kVt(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(r){var a=r.getModel().getModel("itemStyle").getItemStyle();Dn(t.ensureUniqueItemVisual(r.dataIndex,"style"),a)})})}var pnt=["treemapZoomToNode","treemapRender","treemapMove"];function mnt(n){var e=n.getData(),i={};e.tree.eachNode(function(r){for(var o=r;o&&o.depth>1;)o=o.parentNode;var a=WF(n.ecModel,o.name||o.dataIndex+"",i);r.setVisual("decal",a)})}var NVt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return mn(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};gnt(r);var o=t.levels||[],a=this.designatedVisualItemStyle={},s=new Ws({itemStyle:a},this,i);o=t.levels=function FVt(n,e){var t=bs(e.get("color")),i=bs(e.get(["aria","decal","decals"]));if(t){var r,o;Xt(n=n||[],function(s){var l=new Ws(s),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&"none"!==c)&&(r=!0),(l.get(["itemStyle","decal"])||u&&"none"!==u)&&(o=!0)});var a=n[0]||(n[0]={});return r||(a.color=t.slice()),!o&&i&&(a.decal=i.slice()),n}}(o,i);var l=On(o||[],function(d){return new Ws(d,s,i)},this),c=$3.createTree(r,this,function u(d){d.wrapMethod("getItemModel",function(h,p){var g=c.getNodeByDataIndex(p);return h.parentModel=(g?l[g.depth]:null)||s,h})});return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t);return Uc("nameValue",{name:o.getName(t),value:a})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=sI(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Dn(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=Wi(),this._idIndexMapCount=0);var r=i.get(t);return null==r&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){mnt(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(pl);function gnt(n){var e=0;Xt(n.children,function(i){gnt(i);var r=i.value;Rn(r)&&(r=r[0]),e+=r});var t=n.value;Rn(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Rn(n.value)?n.value[0]=t:n.value=t}const BVt=NVt;var K3=5,zVt=function(){function n(e){this.group=new br,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var s=o.getModel("itemStyle"),l=o.getModel("emphasis"),c=s.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,c),this._renderContent(e,d,s,l,c,u,r),WD(a,d.pos,d.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=Rc(r.getModel().get("name"),""),a=i.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:r,text:o,width:s})}},n.prototype._renderContent=function(e,t,i,r,o,a,s){for(var l=0,c=t.emptyItemWidth,u=e.get(["breadcrumb","height"]),d=function lkt(n,e,t){var i=e.width,r=e.height,o=ni(n.left,i),a=ni(n.top,r),s=ni(n.right,i),l=ni(n.bottom,r);return(isNaN(o)||isNaN(parseFloat(n.left)))&&(o=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=i),(isNaN(a)||isNaN(parseFloat(n.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=r),t=Q0(t||0),{width:Math.max(s-o-t[1]-t[3],0),height:Math.max(l-a-t[0]-t[2],0)}}(t.pos,t.box),h=t.totalWidth,p=t.renderList,g=r.getModel("itemStyle").getItemStyle(),y=p.length-1;y>=0;y--){var b=p[y],w=b.node,M=b.width,E=b.text;h>d.width&&(h-=M-c,M=c,E=null);var k=new Md({shape:{points:UVt(l,0,M,u,y===p.length-1,0===y)},style:nr(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new la({style:js(o,{text:E})}),textConfig:{position:"inside"},z2:1e4*j0,onclick:Nr(s,w)});k.disableLabelAnimation=!0,k.getTextContent().ensureState("emphasis").style=js(a,{text:E}),k.ensureState("emphasis").style=g,Al(k,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(k),GVt(k,e,w),l+=M+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function UVt(n,e,t,i,r,o){var a=[[r?n:n-K3,e],[n+t,e],[n+t,e+i],[r?n:n-K3,e+i]];return!o&&a.splice(2,0,[n+t+K3,e+i/2]),!r&&a.push([n,e+i/2]),a}function GVt(n,e,t){kr(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&sI(t,e)}}const HVt=zVt;var jVt=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Q3=br,_nt=Qo,bnt="label",xnt="upperLabel",ZVt=10*j0,YVt=2*j0,XVt=3*j0,F_=Yv([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),wnt=function(n){var e=F_(n);return e.stroke=e.fill=e.lineWidth=null,e},lI=Ko(),$Vt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return mn(e,n),e.prototype.render=function(t,i,r,o){if(!(uo(i.findComponents({mainType:"series",subType:"treemap",query:o}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var l=IC(o,["treemapZoomToNode","treemapRootToNode"],t),c=o&&o.type,u=t.layoutInfo,d=!this._oldTree,h=this._storage,p="treemapRootToNode"===c&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:o.direction}:null,g=this._giveContainerGroup(u),y=t.get("animation"),b=this._doRender(g,t,p);!y||d||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?b.renderFinally():this._doAnimation(g,b,t,p),this._resetController(r),this._renderBreadcrumb(t,r,l)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new Q3,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},c=this._storage,u=[];function d(b,w,M,E){return function qVt(n,e,t,i,r,o,a,s,l,c){if(a){var u=a.getLayout(),d=n.getData(),h=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),u&&u.isInView){var p=u.width,g=u.height,y=u.borderWidth,b=u.invisible,w=a.getRawIndex(),M=s&&s.getRawIndex(),E=a.viewChildren,k=u.upperHeight,j=E&&E.length,H=h.getModel("itemStyle"),rt=h.getModel(["emphasis","itemStyle"]),yt=h.getModel(["blur","itemStyle"]),st=h.getModel(["select","itemStyle"]),Lt=H.get("borderRadius")||0,kt=Gn("nodeGroup",Q3);if(kt){if(l.add(kt),kt.x=u.x||0,kt.y=u.y||0,kt.markRedraw(),lI(kt).nodeWidth=p,lI(kt).nodeHeight=g,u.isAboveViewRoot)return kt;var te=Gn("background",_nt,c,YVt);te&&function Ke(Gi,ji,cr){var Sr=kr(ji);if(Sr.dataIndex=a.dataIndex,Sr.seriesIndex=n.seriesIndex,ji.setShape({x:0,y:0,width:p,height:g,r:Lt}),b)Nn(ji);else{ji.invisible=!1;var Mi=a.getVisual("style"),zr=Mi.stroke,el=wnt(H);el.fill=zr;var Ho=F_(rt);Ho.fill=rt.get("borderColor");var bl=F_(yt);bl.fill=yt.get("borderColor");var kl=F_(st);kl.fill=st.get("borderColor"),cr?qn(ji,zr,Mi.opacity,{x:y,y:0,width:p-2*y,height:k}):ji.removeTextContent(),ji.setStyle(el),ji.ensureState("emphasis").style=Ho,ji.ensureState("blur").style=bl,ji.ensureState("select").style=kl,i_(ji)}Gi.add(ji)}(kt,te,j&&u.upperLabelHeight);var ne=h.getModel("emphasis"),de=ne.get("focus"),Te=ne.get("blurScope"),be=ne.get("disabled"),Ve="ancestor"===de?a.getAncestorsIndices():"descendant"===de?a.getDescendantIndices():de;if(j)P1(kt)&&o_(kt,!1),te&&(o_(te,!be),d.setItemGraphicEl(a.dataIndex,te),MF(te,Ve,Te));else{var Fe=Gn("content",_nt,c,XVt);Fe&&function In(Gi,ji){var cr=kr(ji);cr.dataIndex=a.dataIndex,cr.seriesIndex=n.seriesIndex;var Sr=Math.max(p-2*y,0),Mi=Math.max(g-2*y,0);if(ji.culling=!0,ji.setShape({x:y,y,width:Sr,height:Mi,r:Lt}),b)Nn(ji);else{ji.invisible=!1;var zr=a.getVisual("style"),el=zr.fill,Ho=wnt(H);Ho.fill=el,Ho.decal=zr.decal;var bl=F_(rt),kl=F_(yt),Fu=F_(st);qn(ji,el,zr.opacity,null),ji.setStyle(Ho),ji.ensureState("emphasis").style=bl,ji.ensureState("blur").style=kl,ji.ensureState("select").style=Fu,i_(ji)}Gi.add(ji)}(kt,Fe),te.disableMorphing=!0,te&&P1(te)&&o_(te,!1),o_(kt,!be),d.setItemGraphicEl(a.dataIndex,kt),MF(kt,Ve,Te)}return kt}}}function Nn(Gi){!Gi.invisible&&o.push(Gi)}function qn(Gi,ji,cr,Sr){var Mi=h.getModel(Sr?xnt:bnt),zr=Rc(h.get("name"),null),el=Mi.getShallow("show");_u(Gi,zc(h,Sr?xnt:bnt),{defaultText:el?zr:null,inheritColor:ji,defaultOpacity:cr,labelFetcher:n,labelDataIndex:a.dataIndex});var Ho=Gi.getTextContent();if(Ho){var bl=Ho.style,kl=K2(bl.padding||0);Sr&&(Gi.setTextConfig({layoutRect:Sr}),Ho.disableLabelLayout=!0),Ho.beforeUpdate=function(){var Sm=Math.max((Sr?Sr.width:Gi.shape.width)-kl[1]-kl[3],0),kd=Math.max((Sr?Sr.height:Gi.shape.height)-kl[0]-kl[2],0);(bl.width!==Sm||bl.height!==kd)&&Ho.setStyle({width:Sm,height:kd})},bl.truncateMinChar=2,bl.lineOverflow="truncate",Kn(bl,Sr,u);var Fu=Ho.getState("emphasis");Kn(Fu?Fu.style:null,Sr,u)}}function Kn(Gi,ji,cr){var Sr=Gi?Gi.text:null;if(!ji&&cr.isLeafRoot&&null!=Sr){var Mi=n.get("drillDownIcon",!0);Gi.text=Mi?Mi+" "+Sr:Sr}}function Gn(Gi,ji,cr,Sr){var Mi=null!=M&&t[Gi][M],zr=r[Gi];return Mi?(t[Gi][M]=null,function Ui(Gi,ji){var cr=Gi[w]={};ji instanceof Q3?(cr.oldX=ji.x,cr.oldY=ji.y):cr.oldShape=Dn({},ji.shape)}(zr,Mi)):b||((Mi=new ji)instanceof Mh&&(Mi.z2=function KVt(n,e){return n*ZVt+e}(cr,Sr)),function to(Gi,ji){var cr=Gi[w]={},Sr=a.parentNode,Mi=ji instanceof br;if(Sr&&(!i||"drillDown"===i.direction)){var zr=0,el=0,Ho=r.background[Sr.getRawIndex()];!i&&Ho&&Ho.oldShape&&(zr=Ho.oldShape.width,el=Ho.oldShape.height),Mi?(cr.oldX=0,cr.oldY=el):cr.oldShape={x:zr,y:el,width:0,height:0}}cr.fadein=!Mi}(zr,Mi)),e[Gi][w]=Mi}}(i,l,c,r,s,u,b,w,M,E)}!function p(b,w,M,E,k){function j(rt){return rt.getId()}function H(rt,yt){var st=null!=rt?b[rt]:null,Lt=null!=yt?w[yt]:null,kt=d(st,Lt,M,k);kt&&p(st&&st.viewChildren||[],Lt&&Lt.viewChildren||[],kt,E,k+1)}E?(w=b,Xt(b,function(rt,yt){!rt.isRemoved()&&H(yt,yt)})):new om(w,b,j,j).add(H).update(H).remove(Nr(H,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var h=function g(b){var w={nodeGroup:[],background:[],content:[]};return b&&Xt(b,function(M,E){var k=w[E];Xt(M,function(j){j&&(k.push(j),lI(j).willDelete=!0)})}),w}(c);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:h,renderFinally:function y(){Xt(h,function(b){Xt(b,function(w){w.parent&&w.parent.remove(w)})}),Xt(u,function(b){b.invisible=!0,b.dirty()})}}},e.prototype._doAnimation=function(t,i,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Ki(a)?0:a)||0,c=(Ki(s)?null:s)||"cubicOut",u=function WVt(){return new jVt}();Xt(i.willDeleteEls,function(d,h){Xt(d,function(p,g){if(!p.invisible){var b,y=p.parent,w=lI(y);if(o&&"drillDown"===o.direction)b=y===o.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var M=0,E=0;w.willDelete||(M=w.nodeWidth/2,E=w.nodeHeight/2),b="nodeGroup"===h?{x:M,y:E,style:{opacity:0}}:{shape:{x:M,y:E,width:0,height:0},style:{opacity:0}}}b&&u.add(p,b,l,0,c)}})}),Xt(this._storage,function(d,h){Xt(d,function(p,g){var y=i.lastsForAnimation[h][g],b={};y&&(p instanceof br?null!=y.oldX&&(b.x=p.x,b.y=p.y,p.x=y.oldX,p.y=y.oldY):(y.oldShape&&(b.shape=Dn({},p.shape),p.setShape(y.oldShape)),y.fadein?(p.setStyle("opacity",0),b.style={opacity:1}):1!==p.style.opacity&&(b.style={opacity:1})),u.add(p,b,l,0,c))})},this),this._state="animating",u.finished(yi(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new EC(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",yi(this._onPan,this)),i.on("zoom",yi(this._onZoom,this)));var r=new Kr(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,a,s){return r.contain(a,s)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new Kr(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,c=[1,0,0,1,0,0];Lf(c,c,[-(i-=l.x),-(r-=l.y)]),dN(c,c,[t.scale,t.scale]),Lf(c,c,[i,r]),s.applyTransform(c),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&HD(c,u)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new HVt(this.group))).render(t,i,r.node,function(a){"animating"!==o._state&&(q3(t.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,i),c=s.shape;if(!(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height))return!1;r={node:a,offsetX:l[0],offsetY:l[1]}}},this),r},e.type="treemap",e}(Zs);const QVt=$Vt;var RC=Xt,JVt=ar,cI=-1,J3=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=fr(e);this.type=i,this.mappingMethod=t,this._normalizeData=nzt[t];var o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],"piecewise"===t?(tV(r),function tzt(n){var e=n.pieceList;n.hasSpecialVisual=!1,Xt(e,function(t,i){t.originIndex=i,null!=t.visual&&(n.hasSpecialVisual=!0)})}(r)):"category"===t?r.categories?function ezt(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(RC(e,function(a,s){t[a]=s}),!Rn(i)){var r=[];ar(i)?RC(i,function(a,s){r[t[s]??cI]=a}):r[cI]=i,i=Snt(n,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete t[e[o]],e.pop())}(r):tV(r,!0):(Ju("linear"!==t||r.dataExtent),tV(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return yi(this._normalizeData,this)},n.listVisualTypes=function(){return Ro(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){ar(e)?Xt(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=Rn(e)?[]:ar(e)?{}:(r=!0,null);return n.eachVisual(e,function(a,s){var l=t.call(i,a,s);r?o=l:o[s]=l}),o},n.retrieveVisuals=function(e){var i,t={};return e&&RC(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(t[o]=e[o],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(Rn(e))e=e.slice();else{if(!JVt(e))return[];var t=[];RC(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),e},n.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||ci(l)&&l===e+"")return a;i&&h(l,a)}}for(a=0,s=t.length;a<s;a++){var c=t[a],u=c.interval,d=c.close;if(u){if(u[0]===-1/0){if(dI(d[1],e,u[1]))return a}else if(u[1]===1/0){if(dI(d[0],u[0],e))return a}else if(dI(d[0],u[0],e)&&dI(d[1],e,u[1]))return a;i&&h(u[0],a),i&&h(u[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function h(p,g){var y=Math.abs(p-e);y<o&&(o=y,r=g)}},n.visualHandlers={color:{applyVisual:LC("color"),getColorMapper:function(){var e=this.option;return yi("category"===e.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),OC.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=SN(t,e.parsedVisual,r),o?r:Nf(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Nf(SN(e,this.option.parsedVisual),"rgba")},category:OC,piecewise:function(e,t){var i=nV.call(this,t);return null==i&&(i=Nf(SN(e,this.option.parsedVisual),"rgba")),i},fixed:B_}},colorHue:uI(function(e,t){return h1(e,t)}),colorSaturation:uI(function(e,t){return h1(e,null,t)}),colorLightness:uI(function(e,t){return h1(e,null,null,t)}),colorAlpha:uI(function(e,t){return oD(e,t)}),decal:{applyVisual:LC("decal"),_normalizedToVisual:{linear:null,category:OC,piecewise:null,fixed:null}},opacity:{applyVisual:LC("opacity"),_normalizedToVisual:eV([0,1])},liftZ:{applyVisual:LC("liftZ"),_normalizedToVisual:{linear:B_,category:B_,piecewise:B_,fixed:B_}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:Cnt,category:OC,piecewise:function(e,t){var i=nV.call(this,t);return null==i&&(i=Cnt.call(this,e)),i},fixed:B_}},symbolSize:{applyVisual:LC("symbolSize"),_normalizedToVisual:eV([0,1])}},n}();function tV(n,e){var t=n.visual,i=[];ar(t)?RC(t,function(o){i.push(o)}):null!=t&&i.push(t),!e&&1===i.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(i[1]=i[0]),Snt(n,i)}function uI(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:eV([0,1])}}function Cnt(n){var e=this.option.visual;return e[Math.round(ls(n,[0,1],[0,e.length-1],!0))]||{}}function LC(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function OC(n){var e=this.option.visual;return e[this.option.loop&&n!==cI?n%e.length:n]}function B_(){return this.option.visual[0]}function eV(n){return{linear:function(e){return ls(e,n,this.option.visual,!0)},category:OC,piecewise:function(e,t){var i=nV.call(this,t);return null==i&&(i=ls(e,n,this.option.visual,!0)),i},fixed:B_}}function nV(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=t[J3.findPieceIndex(n,t)];if(r&&r.visual)return r.visual[this.type]}}function Snt(n,e){return n.visual=e,"color"===n.type&&(n.parsedVisual=On(e,function(t){return xd(t)||[0,0,0,1]})),e}var nzt={linear:function(n){return ls(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=J3.findPieceIndex(n,e,!0);if(null!=t)return ls(t,[0,e.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??cI},fixed:Kl};function dI(n,e,t){return n?e<=t:e<t}const bu=J3;var izt="itemStyle",Mnt=Ko();const rzt={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||Ent(t,{},n.getViewRoot().getAncestors(),n)}};function Ent(n,e,t,i){var r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var h,s=r.getModel(izt),l=function ozt(n,e,t){var i=Dn({},e),r=t.designatedVisualItemStyle;return Xt(["color","colorAlpha","colorSaturation"],function(o){r[o]=e[o];var a=n.get(o);r[o]=null,null!=a&&(i[o]=a)}),i}(s,e,i),c=a.ensureUniqueItemVisual(n.dataIndex,"style"),u=s.get("borderColor"),d=s.get("borderColorSaturation");null!=d&&(u=function azt(n,e){return null!=e?h1(e,null,null,n):null}(d,h=Tnt(l))),c.stroke=u;var p=n.viewChildren;if(p&&p.length){var g=function szt(n,e,t,i,r,o){if(o&&o.length){var a=rV(e,"color")||null!=r.color&&"none"!==r.color&&(rV(e,"colorAlpha")||rV(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),c=t.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var u=e.get("colorMappingBy"),d={type:a.name,dataExtent:c,visual:a.range};"color"!==d.type||"index"!==u&&"id"!==u?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var h=new bu(d);return Mnt(h).drColorMappingBy=u,h}}}(0,r,o,0,l,p);Xt(p,function(y,b){if(y.depth>=t.length||y===t[y.depth]){var w=function lzt(n,e,t,i,r,o){var a=Dn({},e);if(r){var s=r.type,l="color"===s&&Mnt(r).drColorMappingBy,c="index"===l?i:"id"===l?o.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));a[s]=r.mapValueToVisual(c)}return a}(r,l,y,b,g,i);Ent(y,w,t,i)}})}else h=Tnt(l),c.fill=h}}function Tnt(n){var e=iV(n,"color");if(e){var t=iV(n,"colorAlpha"),i=iV(n,"colorSaturation");return i&&(e=h1(e,null,null,i)),t&&(e=oD(e,t)),e}}function iV(n,e){var t=n[e];if(null!=t&&"none"!==t)return t}function rV(n,e){var t=n.get(e);return Rn(t)&&t.length?{name:e,range:t}:null}var NC=Math.max,hI=Math.min,Dnt=Jc,oV=Xt,Ant=["itemStyle","borderWidth"],czt=["itemStyle","gapWidth"],uzt=["upperLabel","show"],dzt=["upperLabel","height"];const hzt={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),a=n.option,s=Lc(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=a.size||[],c=ni(Dnt(s.width,l[0]),r),u=ni(Dnt(s.height,l[1]),o),d=i&&i.type,p=IC(i,["treemapZoomToNode","treemapRootToNode"],n),g="treemapRender"===d||"treemapMove"===d?i.rootRect:null,y=n.getViewRoot(),b=fnt(y);if("treemapMove"!==d){var w="treemapZoomToNode"===d?function _zt(n,e,t,i,r){var o=(e||{}).node,a=[i,r];if(!o||o===t)return a;for(var s,l=i*r,c=l*n.option.zoomToNodeRatio;s=o.parentNode;){for(var u=0,d=s.children,h=0,p=d.length;h<p;h++)u+=d[h].getValue();var g=o.getValue();if(0===g)return a;c*=u/g;var y=s.getModel(),b=y.get(Ant);(c+=4*b*b+(3*b+Math.max(b,Rnt(y)))*Math.pow(c,.5))>sX&&(c=sX),o=s}c<l&&(c=l);var M=Math.pow(c/l,.5);return[i*M,r*M]}(n,p,y,c,u):g?[g.width,g.height]:[c,u],M=a.sort;M&&"asc"!==M&&"desc"!==M&&(M="desc");var E={squareRatio:a.squareRatio,sort:M,leafDepth:a.leafDepth};y.hostTree.clearLayouts();var k={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};y.setLayout(k),Int(y,E,!1,0),k=y.getLayout(),oV(b,function(H,rt){var yt=(b[rt+1]||y).getValue();H.setLayout(Dn({dataExtent:[yt,yt],borderWidth:0,upperHeight:0},k))})}var j=n.getData().tree.root;j.setLayout(function yzt(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var r=t.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:n.width/2-a[0],y:n.height/2-a[1]}}(s,g,p),!0),n.setLayoutInfo(s),knt(j,new Kr(-s.x,-s.y,r,o),b,y,0)}};function Int(n,e,t,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var s=n.getModel(),l=s.get(Ant),c=s.get(czt)/2,u=Rnt(s),d=Math.max(l,u),h=l-c,p=d-c;n.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:u},!0);var g=(r=NC(r-2*h,0))*(o=NC(o-h-p,0)),y=function fzt(n,e,t,i,r,o){var a=n.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return n.viewChildren=[];a=ps(a,function(p){return!p.isRemoved()}),function mzt(n,e){e&&n.sort(function(t,i){var r="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r})}(a,s);var c=function gzt(n,e,t){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var s,a=n.get("visualDimension");return e&&e.length?"value"===a&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===t&&s.reverse()):(s=[1/0,-1/0],oV(e,function(l){var c=l.getValue(a);c<s[0]&&(s[0]=c),c>s[1]&&(s[1]=c)})):s=[NaN,NaN],{sum:i,dataExtent:s}}(e,a,s);if(0===c.sum)return n.viewChildren=[];if(c.sum=function pzt(n,e,t,i,r){if(!i)return t;for(var o=n.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var c=r["asc"===i?a-l-1:l].getValue();c/t*e<o&&(s=l,t-=c)}return r.splice("asc"===i?0:s,a-s),t}(e,t,c.sum,s,a),0===c.sum)return n.viewChildren=[];for(var u=0,d=a.length;u<d;u++){var h=a[u].getValue()/c.sum*t;a[u].setLayout({area:h})}return l&&(a.length&&n.setLayout({isLeafRoot:!0},!0),a.length=0),n.viewChildren=a,n.setLayout({dataExtent:c.dataExtent},!0),a}(n,s,g,e,t,i);if(y.length){var b={x:h,y:p,width:r,height:o},w=hI(r,o),M=1/0,E=[];E.area=0;for(var k=0,j=y.length;k<j;){var H=y[k];E.push(H),E.area+=H.getLayout().area;var rt=vzt(E,w,e.squareRatio);rt<=M?(k++,M=rt):(E.area-=E.pop().getLayout().area,Pnt(E,w,b,c,!1),w=hI(b.width,b.height),E.length=E.area=0,M=1/0)}if(E.length&&Pnt(E,w,b,c,!0),!t){var yt=s.get("childrenVisibleMin");null!=yt&&g<yt&&(t=!0)}for(k=0,j=y.length;k<j;k++)Int(y[k],e,t,i+1)}}}function vzt(n,e,t){for(var i=0,r=1/0,o=0,a=void 0,s=n.length;o<s;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=n.area*n.area,c=e*e*t;return l?NC(c*i/l,l/(c*r)):1/0}function Pnt(n,e,t,i,r){var o=e===t.width?0:1,a=1-o,s=["x","y"],l=["width","height"],c=t[s[o]],u=e?n.area/e:0;(r||u>t[l[a]])&&(u=t[l[a]]);for(var d=0,h=n.length;d<h;d++){var p=n[d],g={},y=u?p.getLayout().area/u:0,b=g[l[a]]=NC(u-2*i,0),w=t[s[o]]+t[l[o]]-c,M=d===h-1||w<y?w:y,E=g[l[o]]=NC(M-2*i,0);g[s[a]]=t[s[a]]+hI(i,b/2),g[s[o]]=c+hI(i,E/2),c+=M,p.setLayout(g,!0)}t[s[a]]+=u,t[l[a]]-=u}function knt(n,e,t,i,r){var o=n.getLayout(),a=t[r],s=a&&a===n;if(!(a&&!s||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new Kr(e.x-o.x,e.y-o.y,e.width,e.height);oV(n.viewChildren||[],function(c){knt(c,l,t,i,r+1)})}}function Rnt(n){return n.get(uzt)?n.get(dzt):0}function xzt(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),o=t.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var c=o.getItemModel(s).getShallow("category");if(null!=c){sa(c)&&(c=a[c]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(c))return!1}return!0})})}function wzt(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var l=i.getItemModel(a),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(s,e)),i.setItemVisual(a,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],d=0;d<u.length;d++){var h=l.getShallow(u[d],!0);null!=h&&i.setItemVisual(a,u[d],h)}}),i.count()&&r.each(function(a){var l=r.getItemModel(a).getShallow("category");if(null!=l){ci(l)&&(l=o["ec-"+l]);var c=i.getItemVisual(l,"style");Dn(r.ensureUniqueItemVisual(a,"style"),c);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)r.setItemVisual(a,d[h],i.getItemVisual(l,d[h]))}})})}function fI(n){return n instanceof Array||(n=[n,n]),n}function Czt(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=fI(e.get("edgeSymbol")),o=fI(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(a){var s=i.getItemModel(a),l=t.getEdgeByIndex(a),c=fI(s.getShallow("symbol",!0)),u=fI(s.getShallow("symbolSize",!0)),d=s.getModel("lineStyle").getLineStyle(),h=i.ensureUniqueItemVisual(a,"style");switch(Dn(h,d),h.stroke){case"source":var p=l.node1.getVisual("style");h.stroke=p&&p.fill;break;case"target":p=l.node2.getVisual("style"),h.stroke=p&&p.fill}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var pI=function(n){return n.get("autoCurveness")||null},Lnt=function(n,e){var t=pI(n),i=20,r=[];if(sa(t))i=t;else if(Rn(t))return void(n.__curvenessList=t);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},FC=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join("--\x3e")},Ont=function(n){var e=n.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},Szt=function(n,e){var t=FC(n.node1,n.node2,e);return e.__edgeMap[t]},Mzt=function(n,e){return sV(FC(n.node1,n.node2,e),e)+sV(FC(n.node2,n.node1,e),e)},sV=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function lV(n,e,t,i){var r=pI(e),o=Rn(r);if(!r)return null;var a=Szt(n,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===t){s=l;break}var c=Mzt(n,e);Lnt(e,c),n.lineStyle=n.lineStyle||{};var u=FC(n.node1,n.node2,e),d=e.__curvenessList,h=o||c%2?0:1;if(a.isForward)return d[h+s];var p=Ont(u),g=sV(p,e),y=d[s+g+h];return i?o?r&&0===r[0]?(g+h)%2?y:-y:((g%2?0:1)+h)%2?y:-y:(g+h)%2?y:-y:d[s+g+h]}function Nnt(n){var e=n.coordinateSystem;if(!e||"view"===e.type){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),cV(t,n)}}function cV(n,e){n.eachEdge(function(t,i){var r=jp(t.getModel().get(["lineStyle","curveness"]),-lV(t,e,i,!0),0),o=Wp(t.node1.getLayout()),a=Wp(t.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),t.setLayout(s)})}function Dzt(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&"view"!==r.type){var o=t.getData(),a=[];Xt(r.dimensions,function(h){a=a.concat(o.mapDimensionsAll(h))});for(var s=0;s<o.count();s++){for(var l=[],c=!1,u=0;u<a.length;u++){var d=o.get(a[u],s);isNaN(d)||(c=!0),l.push(d)}o.setItemLayout(s,c?r.dataToPoint(l):[NaN,NaN])}cV(o.graph,t)}else(!i||"none"===i)&&Nnt(t)})}function BC(n){var e=n.coordinateSystem;if("view"!==e.type)return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function VC(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Fnt=Math.PI,uV=[];function dV(n,e,t,i){var r=n.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=n.getData(),s=a.graph,l=o.width/2+o.x,c=o.height/2+o.y,u=Math.min(o.width,o.height)/2,d=a.count();if(a.setLayout({cx:l,cy:c}),d){if(t){var h=r.pointToData(i),y=[h[0]-l,h[1]-c];k0(y,y),YT(y,y,u),t.setLayout([l+y[0],c+y[1]],!0),Bnt(t,n.get(["circular","rotateLabel"]),l,c)}Azt[e](n,s,a,u,l,c,d),s.eachEdge(function(w,M){var H,E=jp(w.getModel().get(["lineStyle","curveness"]),lV(w,n,M),0),k=Wp(w.node1.getLayout()),j=Wp(w.node2.getLayout());+E&&(H=[l*(E*=3)+(k[0]+j[0])/2*(1-E),c*E+(k[1]+j[1])/2*(1-E)]),w.setLayout([k,j,H])})}}}var Azt={value:function(n,e,t,i,r,o,a){var s=0,l=t.getSum("value"),c=2*Math.PI/(l||a);e.eachNode(function(u){var d=u.getValue("value"),h=c*(l?d:1)/2;s+=h,u.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=h})},symbolSize:function(n,e,t,i,r,o,a){var s=0;uV.length=a;var l=BC(n);e.eachNode(function(d){var h=VC(d);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var p=Math.asin(h/2/i);isNaN(p)&&(p=Fnt/2),uV[d.dataIndex]=p,s+=2*p});var c=(2*Fnt-s)/a/2,u=0;e.eachNode(function(d){var h=c+uV[d.dataIndex];u+=h,(!d.getLayout()||!d.getLayout().fixed)&&d.setLayout([i*Math.cos(u)+r,i*Math.sin(u)+o]),u+=h})}};function Bnt(n,e,t,i){var r=n.getGraphicEl();if(r){var a=n.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(e){var l=n.getLayout(),c=Math.atan2(l[1]-i,l[0]-t);c<0&&(c=2*Math.PI+c);var u=l[0]<t;u&&(c-=Math.PI);var d=u?"left":"right";s.setTextConfig({rotation:-c,position:d,origin:"center"});var h=s.ensureState("emphasis");Dn(h.textConfig||(h.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function Izt(n){n.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&dV(e,"symbolSize")})}var Sb=J2;function kzt(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,a=r.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?o.each(function(E){var k=o.getId(E);o.setItemLayout(E,i[k]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&dV(e,"value"):Nnt(e);var c=o.getDataExtent("value"),u=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),p=Rn(d)?d:[d,d],g=Rn(h)?h:[h,h];g=[g[1],g[0]];var y=o.mapArray("value",function(E,k){var j=o.getItemLayout(k),H=ls(E,c,p);return isNaN(H)&&(H=(p[0]+p[1])/2),{w:H,rep:H,fixed:o.getItemModel(k).get("fixed"),p:!j||isNaN(j[0])||isNaN(j[1])?null:j}}),b=a.mapArray("value",function(E,k){var j=r.getEdgeByIndex(k),H=ls(E,u,g);isNaN(H)&&(H=(g[0]+g[1])/2);var rt=j.getModel(),yt=jp(j.getModel().get(["lineStyle","curveness"]),-lV(j,e,k,!0),0);return{n1:y[j.node1.dataIndex],n2:y[j.node2.dataIndex],d:H,curveness:yt,ignoreForceLayout:rt.get("ignoreForceLayout")}}),w=t.getBoundingRect(),M=function Pzt(n,e,t){for(var i=n,r=e,o=t.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],c=null==t.gravity?.1:t.gravity,u=0;u<i.length;u++){var d=i[u];d.p||(d.p=kv(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Wp(d.p),d.edges=null}var g,y,h=null==t.friction?.6:t.friction,p=h;return{warmUp:function(){p=.8*h},setFixed:function(b){i[b].fixed=!0},setUnfixed:function(b){i[b].fixed=!1},beforeStep:function(b){g=b},afterStep:function(b){y=b},step:function(b){g&&g(i,r);for(var w=[],M=i.length,E=0;E<r.length;E++){var k=r[E];if(!k.ignoreForceLayout){Rv(w,(H=k.n2).p,(j=k.n1).p);var rt=tN(w)-k.d,yt=H.w/(j.w+H.w);isNaN(yt)&&(yt=0),k0(w,w),!j.fixed&&Sb(j.p,j.p,w,yt*rt*p),!H.fixed&&Sb(H.p,H.p,w,-(1-yt)*rt*p)}}for(E=0;E<M;E++)(st=i[E]).fixed||(Rv(w,l,st.p),Sb(st.p,st.p,w,c*p));for(E=0;E<M;E++)for(var j=i[E],Lt=E+1;Lt<M;Lt++){var H;Rv(w,(H=i[Lt]).p,j.p),0===(rt=tN(w))&&(ODt(w,Math.random()-.5,Math.random()-.5),rt=1);var kt=(j.rep+H.rep)/rt/rt;!j.fixed&&Sb(j.pp,j.pp,w,kt),!H.fixed&&Sb(H.pp,H.pp,w,-kt)}var te=[];for(E=0;E<M;E++){var st;(st=i[E]).fixed||(Rv(te,st.p,st.pp),Sb(st.p,st.p,te,p),td(st.pp,st.p))}var ne=(p*=.992)<.01;y&&y(i,r,ne),b&&b(ne)}}}(y,b,{rect:w,gravity:s.get("gravity"),friction:s.get("friction")});M.beforeStep(function(E,k){for(var j=0,H=E.length;j<H;j++)E[j].fixed&&td(E[j].p,r.getNodeByIndex(j).getLayout())}),M.afterStep(function(E,k,j){for(var H=0,rt=E.length;H<rt;H++)E[H].fixed||r.getNodeByIndex(H).setLayout(E[H].p),i[o.getId(H)]=E[H].p;for(H=0,rt=k.length;H<rt;H++){var yt=k[H],st=r.getEdgeByIndex(H),Lt=yt.n1.p,kt=yt.n2.p,te=st.getLayout();(te=te?te.slice():[])[0]=te[0]||[],te[1]=te[1]||[],td(te[0],Lt),td(te[1],kt),+yt.curveness&&(te[2]=[(Lt[0]+kt[0])/2-(Lt[1]-kt[1])*yt.curveness,(Lt[1]+kt[1])/2-(kt[0]-Lt[0])*yt.curveness]),st.setLayout(te)}}),e.forceLayout=M,e.preservedPoints=i,M.step()}else e.forceLayout=null})}function Lzt(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),s=[],l=[];ED(o.mapArray(function(b){var w=o.getItemModel(b);return[+w.get("x"),+w.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var c=(l[0]-s[0])/(l[1]-s[1]),u=function Rzt(n,e,t){return Lc(Dn(n.getBoxLayoutParams(),{aspect:t}),{width:e.getWidth(),height:e.getHeight()})}(i,e,c);isNaN(c)&&(s=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var d=l[0]-s[0],h=l[1]-s[1],p=u.width,g=u.height,y=i.coordinateSystem=new DC;y.zoomLimit=i.get("scaleLimit"),y.setBoundingRect(s[0],s[1],d,h),y.setViewRect(u.x,u.y,p,g),y.setCenter(i.get("center"),e),y.setZoom(i.get("zoom")),t.push(y)}}),t}var Vnt=eu.prototype,hV=iA.prototype,znt=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function fV(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){mn(function e(){return null!==n&&n.apply(this,arguments)||this},n)}(znt);var Ozt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return mn(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new znt},e.prototype.buildPath=function(t,i){fV(i)?Vnt.buildPath.call(this,t,i):hV.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return fV(this.shape)?Vnt.pointAt.call(this,t):hV.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=fV(i)?[i.x2-i.x1,i.y2-i.y1]:hV.tangentAt.call(this,t);return k0(r,r)},e}(wo);const Nzt=Ozt;var pV=["fromSymbol","toSymbol"];function Unt(n){return"_"+n+"Type"}function Gnt(n,e,t){var i=e.getItemVisual(t,n);if(i&&"none"!==i){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=eC(r),c=hb(a||0,l),u=yc(i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,u.name=n,u}}function mV(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Bzt=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return mn(e,n),e.prototype._createLine=function(t,i,r){var o=t.hostModel,s=function Fzt(n){var e=new Nzt({name:"line",subPixelOptimize:!0});return mV(e.shape,n),e}(t.getItemLayout(i));s.shape.percent=0,cl(s,{shape:{percent:1}},o,i),this.add(s),Xt(pV,function(l){var c=Gnt(l,t,i);this.add(c),this[Unt(l)]=t.getItemVisual(i,l)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),s=t.getItemLayout(i),l={shape:{}};mV(l.shape,s),fa(a,l,o,i),Xt(pV,function(c){var u=t.getItemVisual(i,c),d=Unt(c);if(this[d]!==u){this.remove(this.childOfName(c));var h=Gnt(c,t,i);this.add(h)}this[d]=u},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,c=r&&r.selectLineStyle,u=r&&r.labelStatesModels,d=r&&r.emphasisDisabled,h=r&&r.focus,p=r&&r.blurScope;if(!r||t.hasItemOption){var g=t.getItemModel(i),y=g.getModel("emphasis");s=y.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),c=g.getModel(["select","lineStyle"]).getLineStyle(),d=y.get("disabled"),h=y.get("focus"),p=y.get("blurScope"),u=zc(g)}var b=t.getItemVisual(i,"style"),w=b.stroke;a.useStyle(b),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=c,Xt(pV,function(H){var rt=this.childOfName(H);if(rt){rt.setColor(w),rt.style.opacity=b.opacity;for(var yt=0;yt<nd.length;yt++){var st=nd[yt],Lt=a.getState(st);if(Lt){var kt=Lt.style||{},te=rt.ensureState(st),ne=te.style||(te.style={});null!=kt.stroke&&(ne[rt.__isEmptyBrush?"stroke":"fill"]=kt.stroke),null!=kt.opacity&&(ne.opacity=kt.opacity)}}rt.markRedraw()}},this);var M=o.getRawValue(i);_u(this,u,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(H,rt){return o.getFormattedLabel(H,rt,t.dataType)}},inheritColor:w||"#000",defaultOpacity:b.opacity,defaultText:(null==M?t.getName(i):isFinite(M)?Bl(M):M)+""});var E=this.getTextContent();if(E){var k=u.normal;E.__align=E.style.align,E.__verticalAlign=E.style.verticalAlign,E.__position=k.get("position")||"middle";var j=k.get("distance");Rn(j)||(j=[j,j]),E.__labelDistance=j}this.setTextConfig({position:null,local:!0,inside:!1}),Al(this,h,p,d)},e.prototype.highlight=function(){em(this)},e.prototype.downplay=function(){nm(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");mV(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(this.__dirty||l.__dirty){var c=l.shape.percent,u=l.pointAt(0),d=l.pointAt(c),h=Rv([],d,u);if(k0(h,h),i&&(i.setPosition(u),p(i,0),i.scaleX=i.scaleY=a*c,i.markRedraw()),r&&(r.setPosition(d),p(r,1),r.scaleX=r.scaleY=a*c,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var g=void 0,y=void 0,b=o.__labelDistance,w=b[0]*a,M=b[1]*a,E=c/2,k=l.tangentAt(E),j=[k[1],-k[0]],H=l.pointAt(E);j[1]>0&&(j[0]=-j[0],j[1]=-j[1]);var rt=k[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var yt=-Math.atan2(k[1],k[0]);d[0]<u[0]&&(yt=Math.PI+yt),o.rotation=yt}var st=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":st=-M,y="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":st=M,y="top";break;default:st=0,y="middle"}switch(o.__position){case"end":o.x=h[0]*w+d[0],o.y=h[1]*M+d[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",y=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":o.x=-h[0]*w+u[0],o.y=-h[1]*M+u[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",y=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=w*rt+u[0],o.y=u[1]+st,g=k[0]<0?"right":"left",o.originX=-w*rt,o.originY=-st;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=H[0],o.y=H[1]+st,g="center",o.originY=-st;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-w*rt+d[0],o.y=d[1]+st,g=k[0]>=0?"right":"left",o.originX=w*rt,o.originY=-st}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||y,align:o.__align||g})}}}function p(Lt,kt){var te=Lt.__specifiedRotation;if(null==te){var ne=l.tangentAt(kt);Lt.attr("rotation",(1===kt?-1:1)*Math.PI/2-Math.atan2(ne[1],ne[0]))}else Lt.attr("rotation",te)}},e}(br);const gV=Bzt;var Vzt=function(){function n(e){this.group=new br,this._LineCtor=e||gV}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var a=Hnt(e);e.diff(o).add(function(s){t._doAdd(e,s,a)}).update(function(s,l){t._doUpdate(o,e,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Hnt(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(s){!s.isGroup&&!function zzt(n){return n.animators&&n.animators.length>0}(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(vV(t.getItemLayout(r))){var a=new this._LineCtor(t,r,this._seriesScope);a.traverse(i),this.group.add(a),t.setItemGraphicEl(r,a),this._progressiveEls.push(a)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){pg(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(vV(e.getItemLayout(t))){var o=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,o),this.group.add(o)}},n.prototype._doUpdate=function(e,t,i,r,o){var a=e.getItemGraphicEl(i);vV(t.getItemLayout(r))?(a?a.updateData(t,r,o):a=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function Hnt(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:zc(e)}}function jnt(n){return isNaN(n[0])||isNaN(n[1])}function vV(n){return n&&!jnt(n[0])&&!jnt(n[1])}const _V=Vzt;var yV=[],bV=[],xV=[],Mb=tu,wV=Lv,Wnt=Math.abs;function Znt(n,e,t){for(var s,i=n[0],r=n[1],o=n[2],a=1/0,l=t*t,c=.1,u=.1;u<=.9;u+=.1)yV[0]=Mb(i[0],r[0],o[0],u),yV[1]=Mb(i[1],r[1],o[1],u),(d=Wnt(wV(yV,e)-l))<a&&(a=d,s=u);for(var h=0;h<32;h++){var p=s+c;bV[0]=Mb(i[0],r[0],o[0],s),bV[1]=Mb(i[1],r[1],o[1],s),xV[0]=Mb(i[0],r[0],o[0],p),xV[1]=Mb(i[1],r[1],o[1],p);var d=wV(bV,e)-l;if(Wnt(d)<.01)break;var g=wV(xV,e)-l;c/=2,d<0?g>=0?s+=c:s-=c:g>=0?s-=c:s+=c}return s}function CV(n,e){var t=[],i=c1,r=[[],[],[]],o=[[],[]],a=[];e/=2,n.eachEdge(function(s,l){var c=s.getLayout(),u=s.getVisual("fromSymbol"),d=s.getVisual("toSymbol");c.__original||(c.__original=[Wp(c[0]),Wp(c[1])],c[2]&&c.__original.push(Wp(c[2])));var h=c.__original;if(null!=c[2]){if(td(r[0],h[0]),td(r[1],h[2]),td(r[2],h[1]),u&&"none"!==u){var p=VC(s.node1),g=Znt(r,h[0],p*e);i(r[0][0],r[1][0],r[2][0],g,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],g,t),r[0][1]=t[3],r[1][1]=t[4]}d&&"none"!==d&&(p=VC(s.node2),g=Znt(r,h[1],p*e),i(r[0][0],r[1][0],r[2][0],g,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],g,t),r[1][1]=t[1],r[2][1]=t[2]),td(c[0],r[0]),td(c[1],r[2]),td(c[2],r[1])}else td(o[0],h[0]),td(o[1],h[1]),Rv(a,o[1],o[0]),k0(a,a),u&&"none"!==u&&(p=VC(s.node1),J2(o[0],o[0],a,p*e)),d&&"none"!==d&&(p=VC(s.node2),J2(o[1],o[1],a,-p*e)),td(c[0],o[0]),td(c[1],o[1])})}function Ynt(n){return"view"===n.type}var Uzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i){var r=new gC,o=new _V,a=this.group;this._controller=new EC(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem;this._model=t;var s=this._symbolDraw,l=this._lineDraw,c=this.group;if(Ynt(a)){var u={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?c.attr(u):fa(c,u,t)}CV(t.getGraph(),BC(t));var d=t.getData();s.updateData(d);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,g);var y=t.get("layout");d.graph.eachNode(function(E){var k=E.dataIndex,j=E.getGraphicEl(),H=E.getModel();if(j){j.off("drag").off("dragend");var rt=H.get("draggable");rt&&j.on("drag",function(st){switch(y){case"force":p.warmUp(),!o._layouting&&o._startForceLayoutIteration(p,g),p.setFixed(k),d.setItemLayout(k,[j.x,j.y]);break;case"circular":d.setItemLayout(k,[j.x,j.y]),E.setLayout({fixed:!0},!0),dV(t,"symbolSize",E,[st.offsetX,st.offsetY]),o.updateLayout(t);break;default:d.setItemLayout(k,[j.x,j.y]),cV(t.getGraph(),t),o.updateLayout(t)}}).on("dragend",function(){p&&p.setUnfixed(k)}),j.setDraggable(rt,!!H.get("cursor")),"adjacency"===H.get(["emphasis","focus"])&&(kr(j).focus=E.getAdjacentDataIndices())}}),d.graph.eachEdge(function(E){var k=E.getGraphicEl(),j=E.getModel().get(["emphasis","focus"]);k&&"adjacency"===j&&(kr(k).focus={edge:[E.dataIndex],node:[E.node1.dataIndex,E.node2.dataIndex]})});var b="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),w=d.getLayout("cx"),M=d.getLayout("cy");d.graph.eachNode(function(E){Bnt(E,b,w,M)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;!function o(){t.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(c,u,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(u,d)&&!nI(c,r,t)}),Ynt(t.coordinateSystem)?(a.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(c){N3(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){F3(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),o._updateNodeAndLinkScale(),CV(t.getGraph(),BC(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=BC(t);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){CV(t.getGraph(),BC(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Zs);const Gzt=Uzt;function Eb(n){return"_EC_"+n}var Hzt=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){var i=this._nodesMap;if(!i[Eb(e=null==e?""+t:""+e)]){var r=new V_(e,t);return r.hostGraph=this,this.nodes.push(r),i[Eb(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Eb(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if(sa(e)&&(e=this.nodes[e]),sa(t)&&(t=this.nodes[t]),e instanceof V_||(e=r[Eb(e)]),t instanceof V_||(t=r[Eb(t)]),e&&t){var a=e.id+"-"+t.id,s=new Xnt(e,t,i);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof V_&&(e=e.id),t instanceof V_&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof V_||(t=this._nodesMap[Eb(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var s=[t];s.length;){var l=s.shift(),c=l[o];for(a=0;a<c.length;a++){var u=c[a],d=u.node1===l?u.node2:u.node1;if(!d.__visited){if(e.call(r,d,l))return;s.push(d),d.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=r[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),V_=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),Xnt=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function $nt(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}gc(V_,$nt("hostGraph","data")),gc(Xnt,$nt("hostGraph","edgeData"));const jzt=Hzt;function qnt(n,e,t,i,r){for(var o=new jzt(i),a=0;a<n.length;a++)o.addNode(Jc(n[a].id,n[a].name,a),a);var s=[],l=[],c=0;for(a=0;a<e.length;a++){var u=e[a],d=u.source,h=u.target;o.addEdge(d,h,c)&&(l.push(u),s.push(Jc(Rc(u.id,null),d+" > "+h)),c++)}var g,p=t.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)g=am(n,t);else{var y=V1.get(p),b=y&&y.dimensions||[];uo(b,"value")<0&&b.concat(["value"]);var w=vb(n,{coordDimensions:b,encodeDefine:t.getEncode()}).dimensions;(g=new od(w,t)).initData(n)}var M=new od(["value"],t);return M.initData(l,s),r&&r(g,M),hnt({mainData:g,struct:o,structAttr:"graph",datas:{node:g,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var Wzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return mn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new yC(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),jv(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],o=t.data||t.nodes||[],a=this;if(o&&r){!function Ezt(n){pI(n)&&(n.__curvenessList=[],n.__edgeMap={},Lnt(n))}(this);var s=qnt(o,r,this,!0,function l(c,u){c.wrapMethod("getItemModel",function(g){var w=a._categoriesModels[g.getShallow("category")];return w&&(w.parentModel=g.parentModel,g.parentModel=w),g});var d=Ws.prototype.getModel;function h(g,y){var b=d.call(this,g,y);return b.resolveParentPath=p,b}function p(g){if(g&&("label"===g[0]||"label"===g[1])){var y=g.slice();return"label"===g[0]?y[0]="edgeLabel":"label"===g[1]&&(y[1]="edgeLabel"),y}return g}u.wrapMethod("getItemModel",function(g){return g.resolveParentPath=p,g.getModel=h,g})});return Xt(s.edges,function(c){!function Tzt(n,e,t,i){if(pI(t)){var r=FC(n,e,t),o=t.__edgeMap,a=o[Ont(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(c.node1,c.node2,this,c.dataIndex)},this),s.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(t,r),s=o.graph.getEdgeByIndex(t),l=o.getName(s.node1.dataIndex),c=o.getName(s.node2.dataIndex),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),Uc("nameValue",{name:u.join(" > "),value:a.value,noValue:null==a.value})}return nK({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=On(this.option.categories||[],function(r){return null!=r.value?r:Dn({value:0},r)}),i=new od(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(pl);const Zzt=Wzt;var Yzt={type:"graphRoam",event:"graphRoam",update:"none"},$zt=function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},qzt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new $zt},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,a=i.r,s=i.width,l=i.angle,c=i.x-r(l)*s*(s>=a/3?1:2),u=i.y-o(l)*s*(s>=a/3?1:2);l=i.angle-Math.PI/2,t.moveTo(c,u),t.lineTo(i.x+r(l)*s,i.y+o(l)*s),t.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),t.lineTo(i.x-r(l)*s,i.y-o(l)*s),t.lineTo(c,u)},e}(wo);const Kzt=qzt;function mI(n,e){var t=null==n?"":n+"";return e&&(ci(e)?t=e.replace("{value}",t):Ki(e)&&(t=e(n))),t}var Jzt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var o=t.get(["axisLine","lineStyle","color"]),a=function Qzt(n,e){var t=n.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:ni(t[0],e.getWidth()),cy:ni(t[1],e.getHeight()),r:ni(n.get("radius"),o/2)}}(t,r);this._renderMain(t,i,r,o,a),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,a){var s=this.group,l=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,d=t.getModel("axisLine"),p=d.get("roundCap")?zA:Sd,g=d.get("show"),y=d.getModel("lineStyle"),b=y.get("width"),w=[c,u];LX(w,!l);for(var M=(u=w[1])-(c=w[0]),E=c,k=[],j=0;g&&j<o.length;j++){var rt=new p({shape:{startAngle:E,endAngle:u=c+M*Math.min(Math.max(o[j][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-b,r:a.r},silent:!0});rt.setStyle({fill:o[j][1]}),rt.setStyle(y.getLineStyle(["color","width"])),k.push(rt),E=u}k.reverse(),Xt(k,function(st){return s.add(st)});var yt=function(st){if(st<=0)return o[0][1];var Lt;for(Lt=0;Lt<o.length;Lt++)if(o[Lt][0]>=st&&(0===Lt?0:o[Lt-1][0])<st)return o[Lt][1];return o[Lt-1][1]};this._renderTicks(t,i,r,yt,a,c,u,l,b),this._renderTitleAndDetail(t,i,r,yt,a),this._renderAnchor(t,a),this._renderPointer(t,i,r,yt,a,c,u,l,b)},e.prototype._renderTicks=function(t,i,r,o,a,s,l,c,u){for(var de,Te,d=this.group,h=a.cx,p=a.cy,g=a.r,y=+t.get("min"),b=+t.get("max"),w=t.getModel("splitLine"),M=t.getModel("axisTick"),E=t.getModel("axisLabel"),k=t.get("splitNumber"),j=M.get("splitNumber"),H=ni(w.get("length"),g),rt=ni(M.get("length"),g),yt=s,st=(l-s)/k,Lt=st/j,kt=w.getModel("lineStyle").getLineStyle(),te=M.getModel("lineStyle").getLineStyle(),ne=w.get("distance"),be=0;be<=k;be++){if(de=Math.cos(yt),Te=Math.sin(yt),w.get("show")){var Fe=new eu({shape:{x1:de*(g-(Ve=ne?ne+u:u))+h,y1:Te*(g-Ve)+p,x2:de*(g-H-Ve)+h,y2:Te*(g-H-Ve)+p},style:kt,silent:!0});"auto"===kt.stroke&&Fe.setStyle({stroke:o(be/k)}),d.add(Fe)}if(E.get("show")){var Ve=E.get("distance")+ne,Ke=mI(Bl(be/k*(b-y)+y),E.get("formatter")),In=o(be/k),Nn=de*(g-H-Ve)+h,qn=Te*(g-H-Ve)+p,Kn=E.get("rotate"),Gn=0;"radial"===Kn?(Gn=-yt+2*Math.PI)>Math.PI/2&&(Gn+=Math.PI):"tangential"===Kn?Gn=-yt-Math.PI/2:sa(Kn)&&(Gn=Kn*Math.PI/180),d.add(new la(0===Gn?{style:js(E,{text:Ke,x:Nn,y:qn,verticalAlign:Te<-.8?"top":Te>.8?"bottom":"middle",align:de<-.4?"left":de>.4?"right":"center"},{inheritColor:In}),silent:!0}:{style:js(E,{text:Ke,x:Nn,y:qn,verticalAlign:"middle",align:"center"},{inheritColor:In}),silent:!0,originX:Nn,originY:qn,rotation:Gn}))}if(M.get("show")&&be!==k){Ve=(Ve=M.get("distance"))?Ve+u:u;for(var Ui=0;Ui<=j;Ui++){de=Math.cos(yt),Te=Math.sin(yt);var to=new eu({shape:{x1:de*(g-Ve)+h,y1:Te*(g-Ve)+p,x2:de*(g-rt-Ve)+h,y2:Te*(g-rt-Ve)+p},silent:!0,style:te});"auto"===te.stroke&&to.setStyle({stroke:o((be+Ui/j)/k)}),d.add(to),yt+=Lt}yt-=Lt}else yt+=st}},e.prototype._renderPointer=function(t,i,r,o,a,s,l,c,u){var d=this.group,h=this._data,p=this._progressEls,g=[],y=t.get(["pointer","show"]),b=t.getModel("progress"),w=b.get("show"),M=t.getData(),E=M.mapDimension("value"),k=+t.get("min"),j=+t.get("max"),H=[k,j],rt=[s,l];function yt(Lt,kt){var Nn,ne=M.getItemModel(Lt).getModel("pointer"),de=ni(ne.get("width"),a.r),Te=ni(ne.get("length"),a.r),be=t.get(["pointer","icon"]),Ve=ne.get("offsetCenter"),Fe=ni(Ve[0],a.r),Ke=ni(Ve[1],a.r),In=ne.get("keepAspect");return(Nn=be?yc(be,Fe-de/2,Ke-Te,de,Te,null,In):new Kzt({shape:{angle:-Math.PI/2,width:de,r:Te,x:Fe,y:Ke}})).rotation=-(kt+Math.PI/2),Nn.x=a.cx,Nn.y=a.cy,Nn}function st(Lt,kt){var ne=b.get("roundCap")?zA:Sd,de=b.get("overlap"),Te=de?b.get("width"):u/M.count(),Fe=new ne({shape:{startAngle:s,endAngle:kt,cx:a.cx,cy:a.cy,clockwise:c,r0:de?a.r-Te:a.r-(Lt+1)*Te,r:de?a.r:a.r-Lt*Te}});return de&&(Fe.z2=j-M.get(E,Lt)%j),Fe}(w||y)&&(M.diff(h).add(function(Lt){var kt=M.get(E,Lt);if(y){var te=yt(Lt,s);cl(te,{rotation:-((isNaN(+kt)?rt[0]:ls(kt,H,rt,!0))+Math.PI/2)},t),d.add(te),M.setItemGraphicEl(Lt,te)}if(w){var ne=st(Lt,s),de=b.get("clip");cl(ne,{shape:{endAngle:ls(kt,H,rt,de)}},t),d.add(ne),gF(t.seriesIndex,M.dataType,Lt,ne),g[Lt]=ne}}).update(function(Lt,kt){var te=M.get(E,Lt);if(y){var ne=h.getItemGraphicEl(kt),de=ne?ne.rotation:s,Te=yt(Lt,de);Te.rotation=de,fa(Te,{rotation:-((isNaN(+te)?rt[0]:ls(te,H,rt,!0))+Math.PI/2)},t),d.add(Te),M.setItemGraphicEl(Lt,Te)}if(w){var be=p[kt],Fe=st(Lt,be?be.shape.endAngle:s),Ke=b.get("clip");fa(Fe,{shape:{endAngle:ls(te,H,rt,Ke)}},t),d.add(Fe),gF(t.seriesIndex,M.dataType,Lt,Fe),g[Lt]=Fe}}).execute(),M.each(function(Lt){var kt=M.getItemModel(Lt),te=kt.getModel("emphasis"),ne=te.get("focus"),de=te.get("blurScope"),Te=te.get("disabled");if(y){var be=M.getItemGraphicEl(Lt),Ve=M.getItemVisual(Lt,"style"),Fe=Ve.fill;if(be instanceof gu){var Ke=be.style;be.useStyle(Dn({image:Ke.image,x:Ke.x,y:Ke.y,width:Ke.width,height:Ke.height},Ve))}else be.useStyle(Ve),"pointer"!==be.type&&be.setColor(Fe);be.setStyle(kt.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===be.style.fill&&be.setStyle("fill",o(ls(M.get(E,Lt),H,[0,1],!0))),be.z2EmphasisLift=0,vu(be,kt),Al(be,ne,de,Te)}if(w){var In=g[Lt];In.useStyle(M.getItemVisual(Lt,"style")),In.setStyle(kt.getModel(["progress","itemStyle"]).getItemStyle()),In.z2EmphasisLift=0,vu(In,kt),Al(In,ne,de,Te)}}),this._progressEls=g)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var a=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),c=r.get("keepAspect"),u=yc(s,i.cx-a/2+ni(l[0],i.r),i.cy-a/2+ni(l[1],i.r),a,a,null,c);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,a){var s=this,l=t.getData(),c=l.mapDimension("value"),u=+t.get("min"),d=+t.get("max"),h=new br,p=[],g=[],y=t.isAnimationEnabled(),b=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(w){p[w]=new la({silent:!0}),g[w]=new la({silent:!0})}).update(function(w,M){p[w]=s._titleEls[M],g[w]=s._detailEls[M]}).execute(),l.each(function(w){var M=l.getItemModel(w),E=l.get(c,w),k=new br,j=o(ls(E,[u,d],[0,1],!0)),H=M.getModel("title");if(H.get("show")){var rt=H.get("offsetCenter"),yt=a.cx+ni(rt[0],a.r),st=a.cy+ni(rt[1],a.r);(Lt=p[w]).attr({z2:b?0:2,style:js(H,{x:yt,y:st,text:l.getName(w),align:"center",verticalAlign:"middle"},{inheritColor:j})}),k.add(Lt)}var kt=M.getModel("detail");if(kt.get("show")){var te=kt.get("offsetCenter"),ne=a.cx+ni(te[0],a.r),de=a.cy+ni(te[1],a.r),Te=ni(kt.get("width"),a.r),be=ni(kt.get("height"),a.r),Ve=t.get(["progress","show"])?l.getItemVisual(w,"style").fill:j,Lt=g[w],Fe=kt.get("formatter");Lt.attr({z2:b?0:2,style:js(kt,{x:ne,y:de,text:mI(E,Fe),width:isNaN(Te)?null:Te,height:isNaN(be)?null:be,align:"center",verticalAlign:"middle"},{inheritColor:Ve})}),D$(Lt,{normal:kt},E,function(In){return mI(In,Fe)}),y&&A$(Lt,w,l,t,{getFormattedLabel:function(In,Nn,qn,Kn,Gn,Ui){return mI(Ui?Ui.interpolatedValue:E,Fe)}}),k.add(Lt)}h.add(k)}),this.group.add(h),this._titleEls=p,this._detailEls=g},e.type="gauge",e}(Zs);const t5t=Jzt;var e5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return mn(e,n),e.prototype.getInitialData=function(t,i){return bb(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(pl);const n5t=e5t;var r5t=["itemStyle","opacity"],o5t=function(n){function e(t,i){var r=n.call(this)||this,o=r,a=new Ed,s=new la;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(t,i,!0),r}return mn(e,n),e.prototype.updateData=function(t,i,r){var o=this,a=t.hostModel,s=t.getItemModel(i),l=t.getItemLayout(i),c=s.getModel("emphasis"),u=s.get(r5t);u=u??1,r||rf(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,cl(o,{style:{opacity:u}},a,i)):fa(o,{style:{opacity:u},shape:{points:l.points}},a,i),vu(o,s),this._updateLabel(t,i),Al(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i).label,d=t.getItemVisual(i,"style"),h=d.fill;_u(a,zc(l),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:d.opacity,defaultText:t.getName(i)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:h,outsideFill:h});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new Wr(p[0][0],p[0][1]):null},fa(a,{style:{x:u.x,y:u.y}},s,i),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),HB(r,jB(l),{stroke:h})},e}(Md),a5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var c=new o5t(o,l);o.setItemGraphicEl(l,c),s.add(c)}).update(function(l,c){var u=a.getItemGraphicEl(c);u.updateData(o,l),s.add(u),o.setItemGraphicEl(l,u)}).remove(function(l){k1(a.getItemGraphicEl(l),t,l)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Zs);const s5t=a5t;var l5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new yC(yi(this.getData,this),yi(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return bb(this,{coordDimensions:["value"],encodeDefaulter:Nr(UF,this)})},e.prototype._defaultLabelLine=function(t){jv(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,t)/a*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(pl);const c5t=l5t;function f5t(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),a=function u5t(n,e){return Lc(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),s=t.get("orient"),l=a.width,c=a.height,u=function d5t(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(l){return l}),r=[],o="ascending"===e,a=0,s=n.count();a<s;a++)r[a]=a;return Ki(e)?r.sort(e):"none"!==e&&r.sort(function(l,c){return o?i[l]-i[c]:i[c]-i[l]}),r}(i,o),d=a.x,h=a.y,p="horizontal"===s?[ni(t.get("minSize"),c),ni(t.get("maxSize"),c)]:[ni(t.get("minSize"),l),ni(t.get("maxSize"),l)],g=i.getDataExtent(r),y=t.get("min"),b=t.get("max");null==y&&(y=Math.min(g[0],0)),null==b&&(b=g[1]);var w=t.get("funnelAlign"),M=t.get("gap"),k=(("horizontal"===s?l:c)-M*(i.count()-1))/i.count(),j=function(de,Te){if("horizontal"===s){var Ve=ls(i.get(r,de)||0,[y,b],p,!0),Fe=void 0;switch(w){case"top":Fe=h;break;case"center":Fe=h+(c-Ve)/2;break;case"bottom":Fe=h+(c-Ve)}return[[Te,Fe],[Te,Fe+Ve]]}var Nn,In=ls(i.get(r,de)||0,[y,b],p,!0);switch(w){case"left":Nn=d;break;case"center":Nn=d+(l-In)/2;break;case"right":Nn=d+l-In}return[[Nn,Te],[Nn+In,Te]]};"ascending"===o&&(k=-k,M=-M,"horizontal"===s?d+=l:h+=c,u=u.reverse());for(var H=0;H<u.length;H++){var rt=u[H],yt=u[H+1],st=i.getItemModel(rt);if("horizontal"===s){var Lt=st.get(["itemStyle","width"]);null==Lt?Lt=k:(Lt=ni(Lt,l),"ascending"===o&&(Lt=-Lt));var kt=j(rt,d),te=j(yt,d+Lt);d+=Lt+M,i.setItemLayout(rt,{points:kt.concat(te.slice().reverse())})}else{var ne=st.get(["itemStyle","height"]);null==ne?ne=k:(ne=ni(ne,c),"ascending"===o&&(ne=-ne)),kt=j(rt,h),te=j(yt,h+ne),h+=ne+M,i.setItemLayout(rt,{points:kt.concat(te.slice().reverse())})}}!function h5t(n){var t=n.hostModel.get("orient");n.each(function(i){var d,h,p,g,r=n.getItemModel(i),a=r.getModel("label").get("position"),s=r.getModel("labelLine"),l=n.getItemLayout(i),c=l.points,u="inner"===a||"inside"===a||"center"===a||"insideLeft"===a||"insideRight"===a;if(u)"insideLeft"===a?(h=(c[0][0]+c[3][0])/2+5,p=(c[0][1]+c[3][1])/2,d="left"):"insideRight"===a?(h=(c[1][0]+c[2][0])/2-5,p=(c[1][1]+c[2][1])/2,d="right"):(h=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,p=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,d="center"),g=[[h,p],[h,p]];else{var y=void 0,b=void 0,w=void 0,M=void 0,E=s.get("length");"left"===a?(b=(c[3][1]+c[0][1])/2,h=(w=(y=(c[3][0]+c[0][0])/2)-E)-5,d="right"):"right"===a?(b=(c[1][1]+c[2][1])/2,h=(w=(y=(c[1][0]+c[2][0])/2)+E)+5,d="left"):"top"===a?(y=(c[3][0]+c[0][0])/2,p=(M=(b=(c[3][1]+c[0][1])/2)-E)-5,d="center"):"bottom"===a?(y=(c[1][0]+c[2][0])/2,p=(M=(b=(c[1][1]+c[2][1])/2)+E)+5,d="center"):"rightTop"===a?(y="horizontal"===t?c[3][0]:c[1][0],b="horizontal"===t?c[3][1]:c[1][1],"horizontal"===t?(p=(M=b-E)-5,d="center"):(h=(w=y+E)+5,d="top")):"rightBottom"===a?(y=c[2][0],b=c[2][1],"horizontal"===t?(p=(M=b+E)+5,d="center"):(h=(w=y+E)+5,d="bottom")):"leftTop"===a?(y=c[0][0],b="horizontal"===t?c[0][1]:c[1][1],"horizontal"===t?(p=(M=b-E)-5,d="center"):(h=(w=y-E)-5,d="right")):"leftBottom"===a?(y="horizontal"===t?c[1][0]:c[3][0],b="horizontal"===t?c[1][1]:c[2][1],"horizontal"===t?(p=(M=b+E)+5,d="center"):(h=(w=y-E)-5,d="right")):(y=(c[1][0]+c[2][0])/2,b=(c[1][1]+c[2][1])/2,"horizontal"===t?(p=(M=b+E)+5,d="center"):(h=(w=y+E)+5,d="left")),"horizontal"===t?h=w=y:p=M=b,g=[[y,b],[w,M]]}l.label={linePoints:g,x:h,y:p,verticalAlign:"middle",textAlign:d,inside:u}})}(i)})}var m5t=.3,g5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new br,t._initialized=!1,t}return mn(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._dataGroup,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.dimensions,d=Jnt(t);if(s.diff(l).add(function h(b){SV(Qnt(s,a,b,u,c),s,b,d)}).update(function p(b,w){var M=l.getItemGraphicEl(w),E=Knt(s,b,u,c);s.setItemGraphicEl(b,M),fa(M,{shape:{points:E}},t,b),rf(M),SV(M,s,b,d)}).remove(function g(b){var w=l.getItemGraphicEl(b);a.remove(w)}).execute(),!this._initialized){this._initialized=!0;var y=function v5t(n,e,t){var i=n.model,r=n.getRect(),o=new Qo({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),cl(o,{shape:{width:r.width,height:r.height}},e,t),o}(c,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(y)}this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),a=i.coordinateSystem,s=a.dimensions,l=Jnt(i),c=this._progressiveEls=[],u=t.start;u<t.end;u++){var d=Qnt(o,this._dataGroup,u,s,a);d.incremental=!0,SV(d,o,u,l),c.push(d)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Zs);function Knt(n,e,t,i){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=n.get(n.mapDimension(a),e);_5t(s,i.getAxis(a).type)||r.push(i.dataToPoint(s,a))}return r}function Qnt(n,e,t,i,r){var o=Knt(n,t,i,r),a=new Ed({shape:{points:o},z2:10});return e.add(a),n.setItemGraphicEl(t,a),a}function Jnt(n){var e=n.get("smooth",!0);return!0===e&&(e=m5t),e1(e=qp(e))&&(e=0),{smooth:e}}function SV(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");vu(n,r,"lineStyle"),Al(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function _5t(n,e){return"category"===e?null==n:null==n||isNaN(n)}const y5t=g5t;var b5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return mn(e,n),e.prototype.getInitialData=function(t,i){return am(null,this,{useEncodeDefaulter:yi(x5t,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,s){t===a&&o.push(r.getRawIndex(s))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(pl);function x5t(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return Xt(e.dimensions,function(i){var r=function w5t(n){return+n.replace("dim","")}(i);t[i]=r}),t}}const C5t=b5t;var S5t=["lineStyle","opacity"],M5t={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(a,s){var l=i[a];if("normal"===a&&o.hasItemOption){var c=o.getItemModel(s).get(S5t,!0);null!=c&&(l=c)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};const E5t=M5t;function T5t(n){(function D5t(n){if(!n.parallel){var e=!1;Xt(n.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(n.parallel=[{}])}})(n),function A5t(n){Xt(bs(n.parallelAxis),function(t){if(ar(t)){var i=t.parallelIndex||0,r=bs(n.parallel)[i];r&&r.parallelAxisDefault&&$r(t,r.parallelAxisDefault,!1)}})}(n)}var P5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},Xt(k5t,function(o,a){r.getZr().on(a,this._handlers[a]=yi(o,this))},this)),ub(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){K1(this,"_throttledDispatchExpand"),Xt(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Dn({type:"parallelAxisExpand"},t))},e.type="parallel",e}(Il),k5t={mousedown:function(n){MV(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(MV(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&MV(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function MV(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const R5t=P5t;var L5t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){t&&$r(this.option,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){Xt(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];Xt(ps(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(o){t.push("dim"+o.get("dim")),i.push(o.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(ca);const O5t=L5t;var N5t=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s.axisIndex=a,s}return mn(e,n),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(pf);const F5t=N5t;function z_(n,e,t,i,r,o){n=n||0;var a=t[1]-t[0];if(null!=r&&(r=Tb(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=Tb(s,[0,a]),r=o=Tb(s,[r,o]),i=0}e[0]=Tb(e[0],t),e[1]=Tb(e[1],t);var l=EV(e,i);e[i]+=n;var d,c=r||0,u=t.slice();return l.sign<0?u[0]+=c:u[1]-=c,e[i]=Tb(e[i],u),d=EV(e,i),null!=r&&(d.sign!==l.sign||d.span<r)&&(e[1-i]=e[i]+l.sign*r),d=EV(e,i),null!=o&&d.span>o&&(e[1-i]=e[i]+d.sign*o),e}function EV(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Tb(n,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,n))}var TV=Xt,tit=Math.min,eit=Math.max,nit=Math.floor,B5t=Math.ceil,iit=Bl,V5t=Math.PI,z5t=function(){function n(e,t,i){this.type="parallel",this._axesMap=Wi(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=e.parallelAxisIndex;TV(e.dimensions,function(a,s){var l=o[s],c=t.getComponent("parallelAxis",l),u=this._axesMap.set(a,new F5t(a,QA(c),[0,0],c.get("type"),l));u.onBand="category"===u.type&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return a>=i&&a<=i+t.axisLength&&s>=r&&s<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();TV(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),wb(a.scale,a.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Lc(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var g,e=this._model,t=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=t[r[a]],l=[0,s],c=this.dimensions.length,u=gI(e.get("axisExpandWidth"),l),d=gI(e.get("axisExpandCount")||0,[0,c]),h=e.get("axisExpandable")&&c>3&&c>d&&d>1&&u>0&&s>0,p=e.get("axisExpandWindow");p?(g=gI(p[1]-p[0],l),p[1]=p[0]+g):(g=gI(u*(d-1),l),(p=[u*(e.get("axisExpandCenter")||nit(c/2))-g/2])[1]=p[0]+g);var b=(s-g)/(c-d);b<3&&(b=0);var w=[nit(iit(p[0]/u,1))+1,B5t(iit(p[1]/u,1))-1];return{layout:o,pixelDimIndex:a,layoutBase:t[i[a]],layoutLength:s,axisBase:t[i[1-a]],axisLength:t[r[1-a]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:b,axisExpandWindow:p,axisCount:c,winInnerIndices:w,axisExpandWindow0Pos:b/u*p[0]}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),TV(i,function(a,s){var l=(r.axisExpandable?G5t:U5t)(s,r),c={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},d=[c[o].x+e.x,c[o].y+e.y],h={horizontal:V5t/2,vertical:0}[o],p=[1,0,0,1,0,0];Ov(p,p,h),Lf(p,p,d),this._axesLayout[a]={position:d,rotation:h,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){null==i&&(i=0),null==r&&(r=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];Xt(a,function(b){s.push(e.mapDimension(b)),l.push(o.get(b).model)});for(var c=this.hasAxisBrushed(),u=i;u<r;u++){var d=void 0;if(c){d="active";for(var h=e.getValues(s,u),p=0,g=a.length;p<g;p++)if("inactive"===l[p].getActiveState(h[p])){d="inactive";break}}else d="normal";t(d,u)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return cf([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return fr(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var l,s=e[i]-t.layoutBase-t.axisExpandWindow0Pos,c="slide",u=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];if(u)h&&u&&s<o*d[0]?(c="jump",l=s-o*d[2]):h&&u&&s>o*(1-d[0])?(c="jump",l=s-o*(1-d[2])):(l=s-o*d[1])>=0&&(l=s-o*(1-d[1]))<=0&&(l=0),(l*=t.axisExpandWidth/u)?z_(l,r,a,"all"):c="none";else{var p=r[1]-r[0];(r=[eit(0,a[1]*s/p-p/2)])[1]=tit(a[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:c}},n}();function gI(n,e){return tit(eit(n,e[0]),e[1])}function U5t(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function G5t(n,e){var s,u,i=e.axisExpandWidth,o=e.axisCollapseWidth,a=e.winInnerIndices,l=o,c=!1;return n<a[0]?(s=n*o,u=o):n<=a[1]?(s=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],l=i,c=!0):(s=e.layoutLength-(e.axisCount-1-n)*o,u=o),{position:s,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}const H5t=z5t;var W5t={create:function j5t(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new H5t(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",vc).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const Z5t=W5t;var rit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return mn(e,n),e.prototype.getAreaSelectStyle=function(){return Yv([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=fr(t);if(i)for(var r=i.length-1;r>=0;r--)Sh(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(ca);gc(rit,bC);const oit=rit;var U_=!0,zC=Math.min,Db=Math.max,Y5t=Math.pow,X5t=1e4,$5t=6,q5t=6,K5t={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Q5t={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},sit={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},J5t=0,t4t=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new br,i._uid="brushController_"+J5t++,Xt(s4t,function(r,o){this._handlers[o]=yi(r,this)},i),i}return mn(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function i3t(n,e,t){L3(n)[e]=t}(i,"globalPan",this._uid),Xt(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=$r(fr(sit),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function r3t(n,e,t){var i=L3(n);i[e]===t&&(i[e]=null)})(t,"globalPan",this._uid),Xt(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};Xt(t,function(r){i[r.panelId]=fr(r)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=On(t,function(h){return $r(fr(sit),h,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new om(r,t,function c(h,p){return l(h.__brushOption,p)},l).add(u).update(u).remove(function d(h){r[h]!==s&&a.group.remove(r[h])}).execute(),this;function l(h,p){return(null!=h.id?h.id:i+p)+"-"+h.brushType}function u(h,p){var g=t[h];if(null!=p&&r[p]===s)o[h]=r[p];else{var y=o[h]=null!=p?(r[p].__brushOption=g,r[p]):cit(a,lit(a,g));DV(a,y)}}},e.prototype.unmount=function(){return this.enableBrush(!1),PV(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(yh);function lit(n,e){var t=vI[e.brushType].createCover(n,e);return t.__brushOption=e,dit(t,e),n.group.add(t),t}function cit(n,e){var t=AV(e);return t.endCreating&&(t.endCreating(n,e),dit(e,e.__brushOption)),e}function uit(n,e){var t=e.__brushOption;AV(e).updateCoverShape(n,e,t.range,t)}function dit(n,e){var t=e.z;null==t&&(t=X5t),n.traverse(function(i){i.z=t,i.z2=t})}function DV(n,e){AV(e).updateCommon(n,e),uit(n,e)}function AV(n){return vI[n.__brushOption.brushType]}function IV(n,e,t){var i=n._panels;if(!i)return U_;var r,o=n._transform;return Xt(i,function(a){a.isTargetByCursor(e,t,o)&&(r=a)}),r}function hit(n,e){var t=n._panels;if(!t)return U_;var i=e.__brushOption.panelId;return null!=i?t[i]:U_}function PV(n){var e=n._covers,t=e.length;return Xt(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function G_(n,e){var t=On(n._covers,function(i){var r=i.__brushOption,o=fr(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function fit(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function pit(n,e,t,i){var r=new br;return r.add(new Qo({name:"main",style:RV(t),silent:!0,draggable:!0,cursor:"move",drift:Nr(vit,n,e,r,["n","s","w","e"]),ondragend:Nr(G_,e,{isEnd:!0})})),Xt(i,function(o){r.add(new Qo({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Nr(vit,n,e,r,o),ondragend:Nr(G_,e,{isEnd:!0})}))}),r}function mit(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=Db(r,q5t),a=t[0][0],s=t[1][0],l=a-r/2,c=s-r/2,u=t[0][1],d=t[1][1],h=u-o+r/2,p=d-o+r/2,g=u-a,y=d-s,b=g+r,w=y+r;um(n,e,"main",a,s,g,y),i.transformable&&(um(n,e,"w",l,c,o,w),um(n,e,"e",h,c,o,w),um(n,e,"n",l,c,b,o),um(n,e,"s",l,p,b,o),um(n,e,"nw",l,c,o,o),um(n,e,"ne",h,c,o,o),um(n,e,"sw",l,p,o,o),um(n,e,"se",h,p,o,o))}function kV(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(RV(t)),r.attr({silent:!i,cursor:i?"move":"default"}),Xt([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=e.childOfName(o.join("")),s=1===o.length?LV(n,o[0]):function i4t(n,e){var t=[LV(n,e[0]),LV(n,e[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?Q5t[s]+"-resize":null})})}function um(n,e,t,i,r,o,a){var s=e.childOfName(t);s&&s.setShape(function o4t(n){var e=zC(n[0][0],n[1][0]),t=zC(n[0][1],n[1][1]);return{x:e,y:t,width:Db(n[0][0],n[1][0])-e,height:Db(n[0][1],n[1][1])-t}}(OV(n,e,[[i,r],[i+o,r+a]])))}function RV(n){return nr({strokeNoScale:!0},n.brushStyle)}function git(n,e,t,i){var r=[zC(n,t),zC(e,i)],o=[Db(n,t),Db(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function LV(n,e){var r=dA({w:"left",e:"right",n:"top",s:"bottom"}[e],function n4t(n){return v_(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}function vit(n,e,t,i,r,o){var a=t.__brushOption,s=n.toRectRange(a.range),l=_it(e,r,o);Xt(i,function(c){var u=K5t[c];s[u[0]][u[1]]+=l[u[0]]}),a.range=n.fromRectRange(git(s[0][0],s[1][0],s[0][1],s[1][1])),DV(e,t),G_(e,{isEnd:!1})}function r4t(n,e,t,i){var r=e.__brushOption.range,o=_it(n,t,i);Xt(r,function(a){a[0]+=o[0],a[1]+=o[1]}),DV(n,e),G_(n,{isEnd:!1})}function _it(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function OV(n,e,t){var i=hit(n,e);return i&&i!==U_?i.clipPath(t,n._transform):fr(t)}function NV(n){var e=n.event;e.preventDefault&&e.preventDefault()}function FV(n,e,t){return n.childOfName("main").contain(e,t)}function yit(n,e,t,i){var s,r=n._creatingCover,o=n._creatingPanel,a=n._brushOption;if(n._track.push(t.slice()),function e4t(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],r=t[0]-i[0],o=t[1]-i[1];return Y5t(r*r+o*o,.5)>$5t}(n)||r){if(o&&!r){"single"===a.brushMode&&PV(n);var l=fr(a);l.brushType=bit(l.brushType,o),l.panelId=o===U_?null:o.panelId,r=n._creatingCover=lit(n,l),n._covers.push(r)}if(r){var c=vI[bit(n._brushType,o)];r.__brushOption.range=c.getCreatingRange(OV(n,r,n._track)),i&&(cit(n,r),c.updateCommon(n,r)),uit(n,r),s={isEnd:i}}}else i&&"single"===a.brushMode&&a.removeOnClick&&IV(n,e,t)&&PV(n)&&(s={isEnd:i,removeOnClick:!0});return s}function bit(n,e){return"auto"===n?e.defaultBrushType:n}var s4t={mousedown:function(n){if(this._dragging)xit(this,n);else if(!n.target||!n.target.draggable){NV(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=IV(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function a4t(n,e,t){if(n._brushType&&!function l4t(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}(n,e.offsetX,e.offsetY)){var i=n._zr,r=n._covers,o=IV(n,e,t);if(!n._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===U_||s.panelId===o.panelId)&&vI[s.brushType].contain(r[a],t[0],t[1]))return}o&&i.setCursorStyle("crosshair")}}(this,n,i),this._dragging){NV(n);var r=yit(this,n,i,!1);r&&G_(this,r)}},mouseup:function(n){xit(this,n)}};function xit(n,e){if(n._dragging){NV(e);var r=n.group.transformCoordToLocal(e.offsetX,e.offsetY),o=yit(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&G_(n,o)}}var vI={lineX:wit(0),lineY:wit(1),rect:{createCover:function(n,e){function t(i){return i}return pit({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=fit(n);return git(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){mit(n,e,t,i)},updateCommon:kV,contain:FV},polygon:{createCover:function(n,e){var t=new br;return t.add(new Ed({name:"main",style:RV(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Md({name:"main",draggable:!0,drift:Nr(r4t,n,e),ondragend:Nr(G_,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:OV(n,e,t)})},updateCommon:kV,contain:FV}};function wit(n){return{createCover:function(e,t){return pit({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=fit(e);return[zC(t[0][n],t[1][n]),Db(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var o,a=hit(e,t);if(a!==U_&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),mit(e,t,l,r)},updateCommon:kV,contain:FV}}const BV=t4t;function Cit(n){return n=VV(n),function(e){return RK(e,n)}}function Sit(n,e){return n=VV(n),function(t){var i=e??t,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function Mit(n,e,t){var i=VV(n);return function(r,o){return i.contain(o[0],o[1])&&!nI(r,e,t)}}function VV(n){return Kr.create(n)}var c4t=["axisLine","axisTickLabel","axisName"],u4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new BV(i.getZr())).on("brush",yi(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(!function d4t(n,e,t){return t&&"axisAreaSelect"===t.type&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}(t,i,o)){this.axisModel=t,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new br,this.group.add(this._axisGroup),t.get("show")){var s=function f4t(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}(t,i),l=s.coordinateSystem,c=t.getAreaSelectStyle(),u=c.width,p=Dn({strokeContainThreshold:u},l.getAxisLayout(t.axis.dim)),g=new lm(t,p);Xt(c4t,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,c,t,s,u,r),X1(a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,o,a,s){var l=r.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,.1*Math.abs(c)),d=Kr.create({x:l[0],y:-a/2,width:c,height:a});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Cit(d),isTargetByCursor:Mit(d,s,o),getLinearBrushOtherExtent:Sit(d,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function h4t(n){var e=n.axis;return On(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(r))},e.prototype._onBrush=function(t){var r=this.axisModel,o=r.axis,a=On(t.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Il);const p4t=u4t;var m4t={type:"axisAreaSelect",event:"axisAreaSelected"},v4t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Eit(n){n.registerComponentView(R5t),n.registerComponentModel(O5t),n.registerCoordinateSystem("parallel",Z5t),n.registerPreprocessor(T5t),n.registerComponentModel(oit),n.registerComponentView(p4t),xb(n,"parallel",oit,v4t),function g4t(n){n.registerAction(m4t,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}(n)}var y4t=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},b4t=function(n){function e(t){return n.call(this,t)||this}return mn(e,n),e.prototype.getDefaultShape=function(){return new y4t},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){em(this)},e.prototype.downplay=function(){nm(this)},e}(wo),x4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=this,a=t.getGraph(),s=this.group,l=t.layoutInfo,c=l.width,u=l.height,d=t.getData(),h=t.getData("edge"),p=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(g){var y=new b4t,b=kr(y);b.dataIndex=g.dataIndex,b.seriesIndex=t.seriesIndex,b.dataType="edge";var ne,de,Te,be,Ve,Fe,Ke,In,w=g.getModel(),M=w.getModel("lineStyle"),E=M.get("curveness"),k=g.node1.getLayout(),j=g.node1.getModel(),H=j.get("localX"),rt=j.get("localY"),yt=g.node2.getLayout(),st=g.node2.getModel(),Lt=st.get("localX"),kt=st.get("localY"),te=g.getLayout();switch(y.shape.extent=Math.max(1,te.dy),y.shape.orient=p,"vertical"===p?(Ve=ne=(null!=H?H*c:k.x)+te.sy,Fe=(de=(null!=rt?rt*u:k.y)+k.dy)*(1-E)+(be=null!=kt?kt*u:yt.y)*E,Ke=Te=(null!=Lt?Lt*c:yt.x)+te.ty,In=de*E+be*(1-E)):(Ve=(ne=(null!=H?H*c:k.x)+k.dx)*(1-E)+(Te=null!=Lt?Lt*c:yt.x)*E,Fe=de=(null!=rt?rt*u:k.y)+te.sy,Ke=ne*E+Te*(1-E),In=be=(null!=kt?kt*u:yt.y)+te.ty),y.setShape({x1:ne,y1:de,x2:Te,y2:be,cpx1:Ve,cpy1:Fe,cpx2:Ke,cpy2:In}),y.useStyle(M.getItemStyle()),y.style.fill){case"source":y.style.fill=g.node1.getVisual("color"),y.style.decal=g.node1.getVisual("style").decal;break;case"target":y.style.fill=g.node2.getVisual("color"),y.style.decal=g.node2.getVisual("style").decal;break;case"gradient":var Nn=g.node1.getVisual("color"),qn=g.node2.getVisual("color");ci(Nn)&&ci(qn)&&(y.style.fill=new $f(0,0,+("horizontal"===p),+("vertical"===p),[{color:Nn,offset:0},{color:qn,offset:1}]))}_u(y,zc(w,"edgeLabel"),{labelFetcher:t,labelDataIndex:g.dataIndex,defaultText:""+w.get("value")}),y.setTextConfig({position:"inside"});var Kn=w.getModel("emphasis");vu(y,w,"lineStyle",function(Ui){return Ui.getItemStyle()}),s.add(y),h.setItemGraphicEl(g.dataIndex,y);var Gn=Kn.get("focus");Al(y,"adjacency"===Gn?g.getAdjacentDataIndices():Gn,Kn.get("blurScope"),Kn.get("disabled")),kr(y).dataType="edge"}),a.eachNode(function(g){var y=g.getLayout(),b=g.getModel(),w=b.get("localX"),M=b.get("localY"),E=b.getModel("emphasis"),k=new Qo({shape:{x:null!=w?w*c:y.x,y:null!=M?M*u:y.y,width:y.dx,height:y.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});_u(k,zc(b),{labelFetcher:t,labelDataIndex:g.dataIndex,defaultText:g.id}),k.disableLabelAnimation=!0,k.setStyle("fill",g.getVisual("color")),k.setStyle("decal",g.getVisual("style").decal),vu(k,b),s.add(k),d.setItemGraphicEl(g.dataIndex,k),kr(k).dataType="node";var j=E.get("focus");Al(k,"adjacency"===j?g.getAdjacentDataIndices():j,E.get("blurScope"),E.get("disabled"))}),d.eachItemGraphicEl(function(g,y){d.getItemModel(y).get("draggable")&&(g.drift=function(w,M){o._focusAdjacencyDisabled=!0,this.shape.x+=w,this.shape.y+=M,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:d.getRawIndex(y),localX:this.shape.x/c,localY:this.shape.y/u})},g.ondragend=function(){o._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(function w4t(n,e,t){var i=new Qo({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return cl(i,{shape:{width:n.width+20}},e,t),i}(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Zs);const C4t=x4t;var S4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new Ws(a[l],this,i));if(o&&r)return qnt(o,r,this,!0,function u(d,h){d.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,b=y.getData().getItemLayout(g);if(b){var M=y.levelModels[b.depth];M&&(p.parentModel=M)}return p}),h.wrapMethod("getItemModel",function(p,g){var y=p.parentModel,w=y.getGraph().getEdgeByIndex(g).node1.getLayout();if(w){var E=y.levelModels[w.depth];E&&(p.parentModel=E)}return p})}).data},e.prototype.setNodePosition=function(t,i){var o=(this.option.data||this.option.nodes)[t];o.localX=i[0],o.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(p){return isNaN(p)||null==p}if("edge"===r){var a=this.getDataParams(t,r),s=a.data,l=a.value;return Uc("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var d=this.getGraph().getNodeByIndex(t).getLayout().value,h=this.getDataParams(t,r).data.name;return Uc("nameValue",{name:null!=h?h+"":null,value:d,noValue:o(d)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(null==r.value&&"node"===i){var a=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=a}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(pl);const M4t=S4t;function E4t(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),o=function T4t(n,e){return Lc(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=o;var a=o.width,s=o.height,l=t.getGraph(),c=l.nodes,u=l.edges;!function A4t(n){Xt(n,function(e){var t=Sg(e.outEdges,_I),i=Sg(e.inEdges,_I),r=e.getValue()||0,o=Math.max(t,i,r);e.setLayout({value:o},!0)})}(c),function D4t(n,e,t,i,r,o,a,s,l){(function I4t(n,e,t,i,r,o,a){for(var s=[],l=[],c=[],u=[],d=0,h=0;h<e.length;h++)s[h]=1;for(h=0;h<n.length;h++)l[h]=n[h].inEdges.length,0===l[h]&&c.push(n[h]);for(var p=-1;c.length;){for(var g=0;g<c.length;g++){var y=c[g],b=y.hostGraph.data.getRawDataItem(y.dataIndex),w=null!=b.depth&&b.depth>=0;w&&b.depth>p&&(p=b.depth),y.setLayout({depth:w?b.depth:d},!0),y.setLayout("vertical"===o?{dy:t}:{dx:t},!0);for(var M=0;M<y.outEdges.length;M++){var E=y.outEdges[M];s[e.indexOf(E)]=0;var j=E.node2;0==--l[n.indexOf(j)]&&u.indexOf(j)<0&&u.push(j)}}++d,c=u,u=[]}for(h=0;h<s.length;h++)if(1===s[h])throw new Error("Sankey is a DAG, the original data has cycle!");var rt=p>d-1?p:d-1;a&&"left"!==a&&function P4t(n,e,t,i){if("right"===e){for(var r=[],o=n,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];r.indexOf(u.node1)<0&&r.push(u.node1)}}o=r,r=[],++a}Xt(n,function(d){Tit(d)||d.setLayout({depth:Math.max(0,i-d.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function k4t(n,e){Xt(n,function(t){!Tit(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}(n,i)}(n,a,0,rt),function R4t(n,e,t){Xt(n,function(i){var r=i.getLayout().depth*e;i.setLayout("vertical"===t?{y:r}:{x:r},!0)})}(n,"vertical"===o?(r-t)/rt:(i-t)/rt,o)})(n,e,t,r,o,s,l),function L4t(n,e,t,i,r,o,a){var s=function O4t(n,e){var t=[],i="vertical"===e?"y":"x",r=QN(n,function(o){return o.getLayout()[i]});return r.keys.sort(function(o,a){return o-a}),Xt(r.keys,function(o){t.push(r.buckets.get(o))}),t}(n,a);(function N4t(n,e,t,i,r,o){var a=1/0;Xt(n,function(s){var l=s.length,c=0;Xt(s,function(d){c+=d.getLayout().value});var u="vertical"===o?(i-(l-1)*r)/c:(t-(l-1)*r)/c;u<a&&(a=u)}),Xt(n,function(s){Xt(s,function(l,c){var u=l.getLayout().value*a;"vertical"===o?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),Xt(e,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})})(s,e,t,i,r,a),zV(s,r,t,i,a);for(var l=1;o>0;o--)F4t(s,l*=.99,a),zV(s,r,t,i,a),G4t(s,l,a),zV(s,r,t,i,a)}(n,e,o,r,i,a,s),function H4t(n,e){var t="vertical"===e?"x":"y";Xt(n,function(i){i.outEdges.sort(function(r,o){return r.node2.getLayout()[t]-o.node2.getLayout()[t]}),i.inEdges.sort(function(r,o){return r.node1.getLayout()[t]-o.node1.getLayout()[t]})}),Xt(n,function(i){var r=0,o=0;Xt(i.outEdges,function(a){a.setLayout({sy:r},!0),r+=a.getLayout().dy}),Xt(i.inEdges,function(a){a.setLayout({ty:o},!0),o+=a.getLayout().dy})})}(n,s)}(c,u,i,r,a,s,0!==ps(c,function(y){return 0===y.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function Tit(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=e.depth&&e.depth>=0}function zV(n,e,t,i,r){var o="vertical"===r?"x":"y";Xt(n,function(a){a.sort(function(y,b){return y.getLayout()[o]-b.getLayout()[o]});for(var s,l,c,u=0,d=a.length,h="vertical"===r?"dx":"dy",p=0;p<d;p++)(c=u-(l=a[p]).getLayout()[o])>0&&(s=l.getLayout()[o]+c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[o]+l.getLayout()[h]+e;if((c=u-e-("vertical"===r?i:t))>0)for(s=l.getLayout()[o]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0),u=s,p=d-2;p>=0;--p)(c=(l=a[p]).getLayout()[o]+l.getLayout()[h]+e-u)>0&&(s=l.getLayout()[o]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[o]})}function F4t(n,e,t){Xt(n.slice().reverse(),function(i){Xt(i,function(r){if(r.outEdges.length){var o=Sg(r.outEdges,B4t,t)/Sg(r.outEdges,_I);if(isNaN(o)){var a=r.outEdges.length;o=a?Sg(r.outEdges,V4t,t)/a:0}if("vertical"===t){var s=r.getLayout().x+(o-Cg(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Cg(r,t))*e;r.setLayout({y:l},!0)}}})})}function B4t(n,e){return Cg(n.node2,e)*n.getValue()}function V4t(n,e){return Cg(n.node2,e)}function z4t(n,e){return Cg(n.node1,e)*n.getValue()}function U4t(n,e){return Cg(n.node1,e)}function Cg(n,e){return"vertical"===e?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function _I(n){return n.getValue()}function Sg(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var a=+e(n[o],t);isNaN(a)||(i+=a)}return i}function G4t(n,e,t){Xt(n,function(i){Xt(i,function(r){if(r.inEdges.length){var o=Sg(r.inEdges,z4t,t)/Sg(r.inEdges,_I);if(isNaN(o)){var a=r.inEdges.length;o=a?Sg(r.inEdges,U4t,t)/a:0}if("vertical"===t){var s=r.getLayout().x+(o-Cg(r,t))*e;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Cg(r,t))*e;r.setLayout({y:l},!0)}}})})}function j4t(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var o=1/0,a=-1/0;Xt(i,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),Xt(i,function(s){var c=new bu({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);null!=u?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",c),s.setVisual("style",{fill:c}))})}r.length&&Xt(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var Dit=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,l,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",i=r.getOrdinalMeta(),l=!0):"category"===s?(e.layout="vertical",i=o.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal";var c=["x","y"],u="horizontal"===e.layout?0:1,d=this._baseAxisDim=c[u],h=c[1-u],p=[r,o],g=p[u].get("type"),y=p[1-u].get("type"),b=e.data;if(b&&l){var w=[];Xt(b,function(k,j){var H;Rn(k)?(H=k.slice(),k.unshift(j)):Rn(k.value)?((H=Dn({},k)).value=H.value.slice(),k.value.unshift(j)):H=k,w.push(H)}),e.data=w}var M=this.defaultValueDimensions,E=[{name:d,type:LA(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:LA(y),dimsDef:M.slice()}];return bb(this,{coordDimensions:E,dimensionsCount:M.length+1,encodeDefaulter:Nr(eq,E,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),Ait=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return mn(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(pl);gc(Ait,Dit,!0);const Z4t=Ait;var Y4t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===t.get("layout")?1:0;o.diff(s).add(function(c){if(o.hasValue(c)){var d=Iit(o.getItemLayout(c),o,c,l,!0);o.setItemGraphicEl(c,d),a.add(d)}}).update(function(c,u){var d=s.getItemGraphicEl(u);if(o.hasValue(c)){var h=o.getItemLayout(c);d?(rf(d),Pit(h,d,o,c)):d=Iit(h,o,c,l),a.add(d),o.setItemGraphicEl(c,d)}else a.remove(d)}).remove(function(c){var u=s.getItemGraphicEl(c);u&&a.remove(u)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(Zs),X4t=function n(){},$4t=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new X4t},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(wo);function Iit(n,e,t,i,r){var o=n.ends,a=new $4t({shape:{points:r?q4t(o,i,n):o}});return Pit(n,a,e,t,r),a}function Pit(n,e,t,i,r){(0,tt[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},t.hostModel,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(i),l=s.getModel("emphasis");vu(e,s),Al(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function q4t(n,e,t){return On(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}const K4t=Y4t;var UC=Xt;function Q4t(n){var e=function J4t(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),o=uo(t,r);o<0&&(t[o=t.length]=r,e[o]={axis:r,seriesModels:[]}),e[o].seriesModels.push(i)}),e}(n);UC(e,function(t){var i=t.seriesModels;i.length&&(function tUt(n){var s,e=n.axis,t=n.seriesModels,i=t.length,r=n.boxWidthList=[],o=n.boxOffsetList=[],a=[];if("category"===e.type)s=e.getBandWidth();else{var l=0;UC(t,function(g){l=Math.max(l,g.getData().count())});var c=e.getExtent();s=Math.abs(c[1]-c[0])/l}UC(t,function(g){var y=g.get("boxWidth");Rn(y)||(y=[y,y]),a.push([ni(y[0],s)||0,ni(y[1],s)||0])});var u=.8*s-2,d=u/i*.3,h=(u-d*(i-1))/i,p=h/2-u/2;UC(t,function(g,y){o.push(p),p+=d+h,r.push(Math.min(Math.max(h,a[y][0]),a[y][1]))})}(t),UC(i,function(r,o){!function eUt(n,e,t){var i=n.coordinateSystem,r=n.getData(),o=t/2,a="horizontal"===n.get("layout")?0:1,s=1-a,l=["x","y"],c=r.mapDimension(l[a]),u=r.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var d=0;d<r.count();d++){var h=r.get(c,d),p=E(h,u[2],d),g=E(h,u[0],d),y=E(h,u[1],d),b=E(h,u[3],d),w=E(h,u[4],d),M=[];k(M,y,!1),k(M,b,!0),M.push(g,y,w,b),j(M,g),j(M,w),j(M,p),r.setItemLayout(d,{initBaseline:p[s],ends:M})}function E(H,rt,yt){var kt,st=r.get(rt,yt),Lt=[];return Lt[a]=H,Lt[s]=st,isNaN(H)||isNaN(st)?kt=[NaN,NaN]:(kt=i.dataToPoint(Lt))[a]+=e,kt}function k(H,rt,yt){var st=rt.slice(),Lt=rt.slice();st[a]+=o,Lt[a]-=o,yt?H.push(st,Lt):H.push(Lt,st)}function j(H,rt){var yt=rt.slice(),st=rt.slice();yt[a]-=o,st[a]+=o,H.push(yt,st)}}(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}var iUt={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==ku&&es("");var r=function nUt(n,e){for(var t=[],i=[],r=(e=e||{}).boundIQR,o="none"===r||0===r,a=0;a<n.length;a++){var s=Sh(n[a].slice()),l=$N(s,.25),c=$N(s,.5),u=$N(s,.75),d=s[0],h=s[s.length-1],p=(r??1.5)*(u-l),g=o?d:Math.max(d,l-p),y=o?h:Math.min(h,u+p),b=e.itemNameFormatter,w=Ki(b)?b({value:a}):ci(b)?b.replace("{value}",a+""):a+"";t.push([w,g,l,c,u,y]);for(var M=0;M<s.length;M++){var E=s[M];(E<g||E>y)&&i.push([w,E])}}return{boxData:t,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},oUt=["color","borderColor"],aUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){pg(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,c=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(u){if(i.hasValue(u)){var d=i.getItemLayout(u);if(s&&kit(c,d))return;var h=UV(d,0,!0);cl(h,{shape:{points:d.ends}},t,u),GV(h,i,u,a),o.add(h),i.setItemGraphicEl(u,h)}}).update(function(u,d){var h=r.getItemGraphicEl(d);if(i.hasValue(u)){var p=i.getItemLayout(u);s&&kit(c,p)?o.remove(h):(h?(fa(h,{shape:{points:p.ends}},t,u),rf(h)):h=UV(p),GV(h,i,u,a),o.add(h),i.setItemGraphicEl(u,h))}else o.remove(h)}).remove(function(u){var d=r.getItemGraphicEl(u);d&&o.remove(d)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),Rit(t,this.group);var i=t.get("clip",!0)?BA(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var a,r=i.getData(),o=r.getLayout("isSimpleBox");null!=(a=t.next());){var l=UV(r.getItemLayout(a));GV(l,r,a,o),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){Rit(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Zs),sUt=function n(){},lUt=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new sUt},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(wo);function UV(n,e,t){var i=n.ends;return new lUt({shape:{points:t?cUt(i,n):i},z2:100})}function kit(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function GV(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,vu(n,r)}function cUt(n,e){return On(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var uUt=function n(){},HV=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return mn(e,n),e.prototype.getDefaultShape=function(){return new uUt},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];t.moveTo(a,r[o++]),t.lineTo(a,r[o++])}else o+=3},e}(wo);function Rit(n,e,t,i){var r=n.getData(),o=r.getLayout("largePoints"),a=new HV({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new HV({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new HV({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),jV(1,a,n),jV(-1,s,n),jV(0,l,n),i&&(a.incremental=!0,s.incremental=!0),t&&t.push(a,s)}function jV(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);0===n&&(r=t.get(["itemStyle","borderColorDoji"]));var o=t.getModel("itemStyle").getItemStyle(oUt);e.useStyle(o),e.style.fill=null,e.style.stroke=r}const dUt=aUt;var Lit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return mn(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(pl);gc(Lit,Dit,!0);const hUt=Lit;function fUt(n){!n||!Rn(n.series)||Xt(n.series,function(e){ar(e)&&"k"===e.type&&(e.type="candlestick")})}var pUt=["itemStyle","borderColor"],mUt=["itemStyle","borderColor0"],gUt=["itemStyle","borderColorDoji"],vUt=["itemStyle","color"],_Ut=["itemStyle","color0"],yUt={seriesType:"candlestick",plan:ob(),performRawSeries:!0,reset:function(n,e){function t(o,a){return a.get(o>0?vUt:_Ut)}function i(o,a){return a.get(0===o?gUt:o>0?pUt:mUt)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),c=a.getItemLayout(s).sign,u=l.getItemStyle();u.fill=t(c,l),u.stroke=i(c,l)||u.fill,Dn(a.ensureUniqueItemVisual(s,"style"),u)}}}}};const bUt=yUt;var xUt={seriesType:"candlestick",plan:ob(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function wUt(n,e){var i,t=n.getBaseAxis(),r="category"===t.type?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),o=ni(qr(n.get("barMaxWidth"),r),r),a=ni(qr(n.get("barMinWidth"),1),r),s=n.get("barWidth");return null!=s?ni(s,r):Math.max(Math.min(r/2,o),a)}(n,t),r=0,o=1,a=["x","y"],s=t.getDimensionIndex(t.mapDimension(a[r])),l=On(t.mapDimensionsAll(a[o]),t.getDimensionIndex,t),c=l[0],u=l[1],d=l[2],h=l[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||l.length<4))return{progress:n.pipelineContext.large?function g(y,b){for(var E,H,w=tp(4*y.count),M=0,k=[],j=[],rt=b.getStore(),yt=!!n.get(["itemStyle","borderColorDoji"]);null!=(H=y.next());){var st=rt.get(s,H),Lt=rt.get(c,H),kt=rt.get(u,H),te=rt.get(d,H),ne=rt.get(h,H);isNaN(st)||isNaN(te)||isNaN(ne)?(w[M++]=NaN,M+=3):(w[M++]=Oit(rt,H,Lt,kt,u,yt),k[r]=st,k[o]=te,E=e.dataToPoint(k,null,j),w[M++]=E?E[0]:NaN,w[M++]=E?E[1]:NaN,k[o]=ne,E=e.dataToPoint(k,null,j),w[M++]=E?E[1]:NaN)}b.setLayout("largePoints",w)}:function p(y,b){for(var w,M=b.getStore();null!=(w=y.next());){var E=M.get(s,w),k=M.get(c,w),j=M.get(u,w),H=M.get(d,w),rt=M.get(h,w),yt=Math.min(k,j),st=Math.max(k,j),Lt=Ve(yt,E),kt=Ve(st,E),te=Ve(H,E),ne=Ve(rt,E),de=[];Fe(de,kt,0),Fe(de,Lt,1),de.push(In(ne),In(kt),In(te),In(Lt));var be=!!b.getItemModel(w).get(["itemStyle","borderColorDoji"]);b.setItemLayout(w,{sign:Oit(M,w,k,j,u,be),initBaseline:k>j?kt[o]:Lt[o],ends:de,brushRect:(Nn=H,qn=rt,Kn=E,Gn=void 0,Ui=void 0,Gn=Ve(Nn,Kn),Ui=Ve(qn,Kn),Gn[r]-=i/2,Ui[r]-=i/2,{x:Gn[0],y:Gn[1],width:o?i:Ui[0]-Gn[0],height:o?Ui[1]-Gn[1]:i})})}var Nn,qn,Kn,Gn,Ui;function Ve(Nn,qn){var Kn=[];return Kn[r]=qn,Kn[o]=Nn,isNaN(qn)||isNaN(Nn)?[NaN,NaN]:e.dataToPoint(Kn)}function Fe(Nn,qn,Kn){var Gn=qn.slice(),Ui=qn.slice();Gn[r]=uA(Gn[r]+i/2,1,!1),Ui[r]=uA(Ui[r]-i/2,1,!0),Kn?Nn.push(Gn,Ui):Nn.push(Ui,Gn)}function In(Nn){return Nn[r]=uA(Nn[r],1),Nn}}}}};function Oit(n,e,t,i,r,o){return t>i?-1:t<i?1:o?0:e>0?n.get(r,e-1)<=i?1:-1:1}const CUt=xUt;function Nit(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?t:null,fill:"fill"===e.brushType?t:null}})})}var MUt=function(n){function e(t,i){var r=n.call(this)||this,o=new mC(t,i),a=new br;return r.add(o),r.add(a),r.updateData(t,i),r}return mn(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=yc(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-s/o*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),a.add(l)}Nit(a,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(i[s]!==t[s])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Nit(r,t)},e.prototype.highlight=function(){em(this)},e.prototype.downplay=function(){nm(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var a=this.childAt(1),s=t.getItemModel(i),l=t.getItemVisual(i,"symbol"),c=eC(t.getItemVisual(i,"symbolSize")),u=t.getItemVisual(i,"style"),d=u&&u.fill,h=s.getModel("emphasis");a.setScale(c),a.traverse(function(b){b.setStyle("fill",d)});var p=hb(t.getItemVisual(i,"symbolOffset"),c);p&&(a.x=p[0],a.y=p[1]);var g=t.getItemVisual(i,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var y={};y.showEffectOn=o.get("showEffectOn"),y.rippleScale=s.get(["rippleEffect","scale"]),y.brushType=s.get(["rippleEffect","brushType"]),y.period=1e3*s.get(["rippleEffect","period"]),y.effectOffset=i/t.count(),y.z=o.getShallow("z")||0,y.zlevel=o.getShallow("zlevel")||0,y.symbolType=l,y.color=d,y.rippleEffectColor=s.get(["rippleEffect","color"]),y.rippleNumber=s.get(["rippleEffect","number"]),"render"===y.showEffectOn?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){"emphasis"===b?"render"!==y.showEffectOn&&r.startEffectAnimation(y):"normal"===b&&"render"!==y.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=y,Al(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(br);const EUt=MUt;var TUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(){this._symbolDraw=new gC(EUt)},e.prototype.render=function(t,i,r){var o=t.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var a=vC("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=function JDt(n){var e=[1,0,0,1,0,0];return uN(e,n),e}(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Zs);const DUt=TUt;var AUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return mn(e,n),e.prototype.getInitialData=function(t,i){return am(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(pl);const IUt=AUt;var kUt=function(n){function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return mn(e,n),e.prototype.createLine=function(t,i,r){return new gV(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var o=t.getItemModel(i).getModel("effect"),a=o.get("symbolSize"),s=o.get("symbol");Rn(a)||(a=[a,a]);var l=t.getItemVisual(i,"style"),c=o.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==s&&(this.remove(u),(u=yc(s,-.5,-.5,1,1,c)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(o.getItemStyle(["color"])),u.scaleX=a[0],u.scaleY=a[1],u.setColor(c),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(t,o,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var a=t.getItemLayout(r),s=1e3*i.get("period"),l=i.get("loop"),c=i.get("roundTrip"),u=i.get("constantSpeed"),d=Jc(i.get("delay"),function(p){return p/t.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),u>0&&(s=this._getLineLength(o)/u*1e3),s!==this._period||l!==this._loop||c!==this._roundTrip){o.stopAnimation();var h=void 0;h=Ki(d)?d(r):d,o.__t>0&&(h=-s*o.__t),this._animateSymbol(o,s,h,l,c)}this._period=s,this._loop=l,this._roundTrip=c}},e.prototype._animateSymbol=function(t,i,r,o,a){if(i>0){t.__t=0;var s=this,l=t.animate("",o).when(a?2*i:i,{__t:a?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});o||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Km(t.__p1,t.__cp1)+Km(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,a=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),c=tu,u=vN;s[0]=c(i[0],o[0],r[0],a),s[1]=c(i[1],o[1],r[1],a);var d=t.__t<1?u(i[0],o[0],r[0],a):u(r[0],o[0],i[0],1-a),h=t.__t<1?u(i[1],o[1],r[1],a):u(r[1],o[1],i[1],1-a);t.rotation=-Math.atan2(h,d)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Km(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.scaleY=1===t.__lastT?2*Km(i,s):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(br);const Fit=kUt;var RUt=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return mn(e,n),e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),a=new Ed({shape:{points:o}});this.add(a),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel;fa(this.childAt(0),{shape:{points:t.getItemLayout(i)}},o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),a=t.getItemModel(i),s=r&&r.emphasisLineStyle,l=r&&r.focus,c=r&&r.blurScope,u=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var d=a.getModel("emphasis");s=d.getModel("lineStyle").getLineStyle(),u=d.get("disabled"),l=d.get("focus"),c=d.get("blurScope")}o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,Al(this,l,c,u)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(br);const Bit=RUt;var LUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return mn(e,n),e.prototype.createLine=function(t,i,r){return new Bit(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=Km(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,o=this._offsets,a=r.length;if(o){var l,s=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(s+1,a-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,a-2)}else{for(l=s;l<a&&!(o[l]>i);l++);l=Math.min(l-1,a-2)}var u=(i-o[l])/(o[l+1]-o[l]),d=r[l],h=r[l+1];t.x=d[0]*(1-u)+u*h[0],t.y=d[1]*(1-u)+u*h[1],t.rotation=-Math.atan2(t.__t<1?h[1]-d[1]:d[1]-h[1],t.__t<1?h[0]-d[0]:d[0]-h[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(Fit);const OUt=LUt;var NUt=function n(){this.polyline=!1,this.curveness=0,this.segs=[]},FUt=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return mn(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new NUt},e.prototype.buildPath=function(t,i){var a,r=i.segs,o=i.curveness;if(i.polyline)for(a=this._off;a<r.length;){var s=r[a++];if(s>0){t.moveTo(r[a++],r[a++]);for(var l=1;l<s;l++)t.lineTo(r[a++],r[a++])}}else for(a=this._off;a<r.length;){var c=r[a++],u=r[a++],d=r[a++],h=r[a++];t.moveTo(c,u),o>0?t.quadraticCurveTo((c+d)/2-(u-h)*o,(u+h)/2-(d-c)*o,d,h):t.lineTo(d,h)}this.incremental&&(this._off=a,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,c=0;c<o.length;){var u=o[c++];if(u>0)for(var d=o[c++],h=o[c++],p=1;p<u;p++)if(sg(d,h,g=o[c++],y=o[c++],s,t,i))return l;l++}else for(l=0,c=0;c<o.length;){d=o[c++],h=o[c++];var g=o[c++],y=o[c++];if(a>0){if(OX(d,h,(d+g)/2-(h-y)*a,(h+y)/2-(g-d)*a,g,y,s,t,i))return l}else if(sg(d,h,g,y,s,t,i))return l;l++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape.segs,o=1/0,a=1/0,s=-1/0,l=-1/0,c=0;c<r.length;){var u=r[c++],d=r[c++];o=Math.min(u,o),s=Math.max(u,s),a=Math.min(d,a),l=Math.max(d,l)}t=this._rect=new Kr(o,a,s,l)}return t},e}(wo),BUt=function(){function n(){this.group=new br}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new FUt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=kr(e);a.seriesIndex=r.seriesIndex,e.on("mousemove",function(s){a.dataIndex=null;var l=e.hoverDataIdx;l>0&&(a.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const VUt=BUt;var zUt={seriesType:"lines",plan:ob(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(t){for(var c=0,u=r.start;u<r.end;u++)c+=n.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var d=0,h=[];for(u=r.start;u<r.end;u++){var p=n.getLineCoords(u,a);t&&(s[d++]=p);for(var g=0;g<p;g++)h=e.dataToPoint(a[g],!1,h),s[d++]=h[0],s[d++]=h[1]}o.setLayout("linesPoints",s)}else for(u=r.start;u<r.end;u++){var y=o.getItemModel(u),b=(p=n.getLineCoords(u,a),[]);if(t)for(var w=0;w<p;w++)b.push(e.dataToPoint(a[w]));else{b[0]=e.dataToPoint(a[0]),b[1]=e.dataToPoint(a[1]);var M=y.get(["lineStyle","curveness"]);+M&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*M,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*M])}o.setItemLayout(u,b)}}}}}};const Vit=zUt;var UUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._updateLineDraw(o,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),c=r.getZr(),u="svg"===c.painter.getType();u||c.painter.getLayer(s).clear(!0),null!=this._lastZlevel&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(u||c.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var d=t.get("clip",!0)&&BA(t.coordinateSystem,!1,t);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateLineDraw(o,t).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=Vit.reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),l=i.pipelineContext.large;return(!r||o!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new VUt:new _V(a?o?OUt:Bit:o?Fit:gV),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();"svg"!==i.painter.getType()&&null!=this._lastZlevel&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(Zs);const GUt=UUt;var HUt=typeof Uint32Array>"u"?Array:Uint32Array,jUt=typeof Float64Array>"u"?Array:Float64Array;function zit(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=On(e,function(t){var r={coords:[t[0].coord,t[1].coord]};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),X2([r,t[0],t[1]])}))}var WUt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return mn(e,n),e.prototype.init=function(t){t.data=t.data||[],zit(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(zit(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=HT(this._flatCoords,i.flatCoords),this._flatCoordsOffset=HT(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(t);for(a=0;a<s.length;a++)i[a]=i[a]||[],i[a][0]=s[a][0],i[a][1]=s[a][1];return s.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),sa(t[0])){for(var r=t.length,o=new HUt(r),a=new jUt(r),s=0,l=0,c=0,u=0;u<r;){c++;var d=t[u++];o[l++]=s+i,o[l++]=d;for(var h=0;h<d;h++){var p=t[u++],g=t[u++];a[s++]=p,a[s++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var o=new od(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],function(a,s,l,c){if(a instanceof Array)return NaN;o.hasItemOption=!0;var u=a.value;return null!=u?u instanceof Array?u[c]:u:void 0}),o},e.prototype.formatTooltip=function(t,i,r){var a=this.getData().getItemModel(t),s=a.get("name");if(s)return s;var l=a.get("fromName"),c=a.get("toName"),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),Uc("nameValue",{name:u.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(pl);const ZUt=WUt;function yI(n){return n instanceof Array||(n=[n,n]),n}var YUt={seriesType:"lines",reset:function(n){var e=yI(n.get("symbol")),t=yI(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function r(o,a){var s=o.getItemModel(a),l=yI(s.getShallow("symbol",!0)),c=yI(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),c[0]&&o.setItemVisual(a,"fromSymbolSize",c[0]),c[1]&&o.setItemVisual(a,"toSymbolSize",c[1])}:null}}};const XUt=YUt;var KUt=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Qh.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),c=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),p=e.length;d.width=t,d.height=i;for(var g=0;g<p;++g){var y=e[g],b=y[0],w=y[1],E=r(y[2]);h.globalAlpha=E,h.drawImage(s,b-u,w-u)}if(!d.width||!d.height)return d;for(var k=h.getImageData(0,0,d.width,d.height),j=k.data,H=0,rt=j.length,yt=this.minOpacity,Lt=this.maxOpacity-yt;H<rt;){E=j[H+3]/256;var kt=4*Math.floor(255*E);if(E>0){var te=a(E)?l:c;E>0&&(E=E*Lt+yt),j[H++]=te[kt],j[H++]=te[kt+1],j[H++]=te[kt+2],j[H++]=te[kt+3]*E*256}else H+=4}return h.putImageData(k,0,0),d},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Qh.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[t](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();const QUt=KUt;function Uit(n){var e=n.dimensions;return"lng"===e[0]&&"lat"===e[1]}var e8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):Uit(a)&&this._renderOnGeo(a,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var a=i.coordinateSystem;a&&(Uit(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){pg(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,a){var c,u,d,h,s=t.coordinateSystem,l=A_(s,"cartesian2d");if(l){var p=s.getAxis("x"),g=s.getAxis("y");c=p.getBandWidth()+.5,u=g.getBandWidth()+.5,d=p.scale.getExtent(),h=g.scale.getExtent()}for(var y=this.group,b=t.getData(),w=t.getModel(["emphasis","itemStyle"]).getItemStyle(),M=t.getModel(["blur","itemStyle"]).getItemStyle(),E=t.getModel(["select","itemStyle"]).getItemStyle(),k=t.get(["itemStyle","borderRadius"]),j=zc(t),H=t.getModel("emphasis"),rt=H.get("focus"),yt=H.get("blurScope"),st=H.get("disabled"),Lt=l?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],kt=r;kt<o;kt++){var te=void 0,ne=b.getItemVisual(kt,"style");if(l){var de=b.get(Lt[0],kt),Te=b.get(Lt[1],kt);if(isNaN(b.get(Lt[2],kt))||isNaN(de)||isNaN(Te)||de<d[0]||de>d[1]||Te<h[0]||Te>h[1])continue;var be=s.dataToPoint([de,Te]);te=new Qo({shape:{x:be[0]-c/2,y:be[1]-u/2,width:c,height:u},style:ne})}else{if(isNaN(b.get(Lt[1],kt)))continue;te=new Qo({z2:1,shape:s.dataToRect([b.get(Lt[0],kt)]).contentShape,style:ne})}if(b.hasItemOption){var Ve=b.getItemModel(kt),Fe=Ve.getModel("emphasis");w=Fe.getModel("itemStyle").getItemStyle(),M=Ve.getModel(["blur","itemStyle"]).getItemStyle(),E=Ve.getModel(["select","itemStyle"]).getItemStyle(),k=Ve.get(["itemStyle","borderRadius"]),rt=Fe.get("focus"),yt=Fe.get("blurScope"),st=Fe.get("disabled"),j=zc(Ve)}te.shape.r=k;var Ke=t.getRawValue(kt),In="-";Ke&&null!=Ke[2]&&(In=Ke[2]+""),_u(te,j,{labelFetcher:t,labelDataIndex:kt,defaultOpacity:ne.opacity,defaultText:In}),te.ensureState("emphasis").style=w,te.ensureState("blur").style=M,te.ensureState("select").style=E,Al(te,rt,yt,st),te.incremental=a,a&&(te.states.emphasis.hoverLayer=!0),y.add(te),b.setItemGraphicEl(kt,te),this._progressiveEls&&this._progressiveEls.push(te)}},e.prototype._renderOnGeo=function(t,i,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=i.getData(),c=this._hmLayer||this._hmLayer||new QUt;c.blurSize=i.get("blurSize"),c.pointSize=i.get("pointSize"),c.minOpacity=i.get("minOpacity"),c.maxOpacity=i.get("maxOpacity");var u=t.getViewRect().clone(),d=t.getRoamTransform();u.applyTransform(d);var h=Math.max(u.x,0),p=Math.max(u.y,0),g=Math.min(u.width+u.x,o.getWidth()),y=Math.min(u.height+u.y,o.getHeight()),b=g-h,w=y-p,M=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],E=l.mapArray(M,function(rt,yt,st){var Lt=t.dataToPoint([rt,yt]);return Lt[0]-=h,Lt[1]-=p,Lt.push(st),Lt}),k=r.getExtent(),j="visualMap.continuous"===r.type?function t8t(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}(k,r.option.range):function JUt(n,e,t){var i=n[1]-n[0],r=(e=On(e,function(a){return{interval:[(a.interval[0]-n[0])/i,(a.interval[1]-n[0])/i]}})).length,o=0;return function(a){var s;for(s=o;s<r;s++)if((l=e[s].interval)[0]<=a&&a<=l[1]){o=s;break}if(s===r)for(s=o-1;s>=0;s--){var l;if((l=e[s].interval)[0]<=a&&a<=l[1]){o=s;break}}return s>=0&&s<r&&t[s]}}(k,r.getPieceList(),r.option.selected);c.update(E,b,w,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},j);var H=new gu({style:{width:b,height:w,x:h,y:p,image:c.canvas},silent:!0});this.group.add(H)},e.type="heatmap",e}(Zs);const n8t=e8t;var i8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.getInitialData=function(t,i){return am(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=V1.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(pl);const r8t=i8t;var a8t=["itemStyle","borderWidth"],Git=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],WV=new Yf,s8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis().isHorizontal(),d=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:u,valueDim:Git[+u],categoryDim:Git[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var g=$it(a,p),y=Hit(a,p,g,h),b=qit(a,h,y);a.setItemGraphicEl(p,b),o.add(b),Jit(b,h,y)}}).update(function(p,g){var y=s.getItemGraphicEl(g);if(a.hasValue(p)){var b=$it(a,p),w=Hit(a,p,b,h),M=Qit(a,w);y&&M!==y.__pictorialShapeStr&&(o.remove(y),a.setItemGraphicEl(p,null),y=null),y?function p8t(n,e,t){fa(n.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?Wit(n,e,t,!0):Zit(n,0,t,!0),Yit(n,t,!0),Xit(n,e,t,!0)}(y,h,w):y=qit(a,h,w,!0),a.setItemGraphicEl(p,y),y.__pictorialSymbolMeta=w,o.add(y),Jit(y,h,w)}else o.remove(y)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&Kit(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=a,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(a){Kit(o,kr(a).dataIndex,t,a)}):r.removeAll()},e.type="pictorialBar",e}(Zs);function Hit(n,e,t,i){var r=n.getItemLayout(e),o=t.get("symbolRepeat"),a=t.get("symbolClip"),s=t.get("symbolPosition")||"start",c=(t.get("symbolRotate")||0)*Math.PI/180||0,u=t.get("symbolPatternSize")||2,d=t.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:d?t:null,hoverScale:d&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function l8t(n,e,t,i,r){var u,o=i.valueDim,a=n.get("symbolBoundingData"),s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),c=1-+(t[o.wh]<=0);if(Rn(a)){var d=[ZV(s,a[0])-l,ZV(s,a[1])-l];d[1]<d[0]&&d.reverse(),u=d[c]}else u=null!=a?ZV(s,a)-l:e?i.coordSysExtent[o.index][c]-l:t[o.wh];r.boundingLength=u,e&&(r.repeatCutLength=t[o.wh]),r.pxSign=u>0?1:-1})(t,o,r,i,h),function c8t(n,e,t,i,r,o,a,s,l,c){var g,u=l.valueDim,d=l.categoryDim,h=Math.abs(t[d.wh]),p=n.getItemVisual(e,"symbolSize");(g=Rn(p)?p.slice():null==p?["100%","100%"]:[p,p])[d.index]=ni(g[d.index],h),g[u.index]=ni(g[u.index],i?h:Math.abs(o)),c.symbolSize=g,(c.symbolScale=[g[0]/s,g[1]/s])[u.index]*=(l.isHorizontal?-1:1)*a}(n,e,r,o,0,h.boundingLength,h.pxSign,u,i,h),function u8t(n,e,t,i,r){var o=n.get(a8t)||0;o&&(WV.attr({scaleX:e[0],scaleY:e[1],rotation:t}),WV.updateTransform(),o/=WV.getLineScale(),o*=e[i.valueDim.index]),r.valueLineWidth=o||0}(t,h.symbolScale,c,i,h);var p=h.symbolSize,g=hb(t.get("symbolOffset"),p);return function d8t(n,e,t,i,r,o,a,s,l,c,u,d){var h=u.categoryDim,p=u.valueDim,g=d.pxSign,y=Math.max(e[p.index]+s,0),b=y;if(i){var w=Math.abs(l),M=Jc(n.get("symbolMargin"),"15%")+"",E=!1;M.lastIndexOf("!")===M.length-1&&(E=!0,M=M.slice(0,M.length-1));var k=ni(M,e[p.index]),j=Math.max(y+2*k,0),H=E?0:2*k,rt=dX(i),yt=rt?i:trt((w+H)/j);j=y+2*(k=(w-yt*y)/2/(E?yt:Math.max(yt-1,1))),H=E?0:2*k,!rt&&"fixed"!==i&&(yt=c?trt((Math.abs(c)+H)/j):0),b=yt*j-H,d.repeatTimes=yt,d.symbolMargin=k}var Lt=g*(b/2),kt=d.pathPosition=[];kt[h.index]=t[h.wh]/2,kt[p.index]="start"===a?Lt:"end"===a?l-Lt:l/2,o&&(kt[0]+=o[0],kt[1]+=o[1]);var te=d.bundlePosition=[];te[h.index]=t[h.xy],te[p.index]=t[p.xy];var ne=d.barRectShape=Dn({},t);ne[p.wh]=g*Math.max(Math.abs(t[p.wh]),Math.abs(kt[p.index]+Lt)),ne[h.wh]=t[h.wh];var de=d.clipShape={};de[h.xy]=-t[h.xy],de[h.wh]=u.ecSize[h.wh],de[p.xy]=0,de[p.wh]=t[p.wh]}(t,p,r,o,0,g,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function ZV(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function jit(n){var e=n.symbolPatternSize,t=yc(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function Wit(n,e,t,i){var r=n.__pictorialBundle,s=t.pathPosition,l=e.valueDim,c=t.repeatTimes||0,u=0,d=t.symbolSize[e.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(YV(n,function(y){y.__pictorialAnimationIndex=u,y.__pictorialRepeatTimes=c,u<c?Ab(y,null,g(u),t,i):Ab(y,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(y)}),u++});u<c;u++){var h=jit(t);h.__pictorialAnimationIndex=u,h.__pictorialRepeatTimes=c,r.add(h);var p=g(u);Ab(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,i)}function g(y){var b=s.slice(),w=t.pxSign,M=y;return("start"===t.symbolRepeatDirection?w>0:w<0)&&(M=c-1-y),b[l.index]=d*(M-c/2+.5)+s[l.index],{x:b[0],y:b[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Zit(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Ab(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=jit(t),r.add(o),Ab(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function Yit(n,e,t){var i=Dn({},e.barRectShape),r=n.__pictorialBarRect;r?Ab(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new Qo({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function Xit(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=Dn({},t.clipShape),a=e.valueDim,s=t.animationModel,l=t.dataIndex;if(r)fa(r,{shape:o},s,l);else{o[a.wh]=0,r=new Qo({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var c={};c[a.wh]=t.clipShape[a.wh],tt[i?"updateProps":"initProps"](r,{shape:c},s,l)}}}function $it(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=h8t,t.isAnimationEnabled=f8t,t}function h8t(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function f8t(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function qit(n,e,t,i){var r=new br,o=new br;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?Wit(r,e,t):Zit(r,0,t),Yit(r,t,i),Xit(r,e,t,i),r.__pictorialShapeStr=Qit(n,t),r.__pictorialSymbolMeta=t,r}function Kit(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];YV(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),Xt(o,function(a){cg(a,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function Qit(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function YV(n,e,t){Xt(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function Ab(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&tt[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function Jit(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),u=o.get("focus"),d=o.get("blurScope"),h=o.get("scale");YV(n,function(y){if(y instanceof gu){var b=y.style;y.useStyle(Dn({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},t.style))}else y.useStyle(t.style);var w=y.ensureState("emphasis");w.style=a,h&&(w.scaleX=1.1*y.scaleX,w.scaleY=1.1*y.scaleY),y.ensureState("blur").style=s,y.ensureState("select").style=l,c&&(y.cursor=c),y.z2=t.z2});var p=e.valueDim.posDesc[+(t.boundingLength>0)];_u(n.__pictorialBarRect,zc(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:yb(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),Al(n,u,d,o.get("disabled"))}function trt(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const m8t=s8t;var g8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return mn(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=ug(VA.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(VA);const v8t=g8t;var y8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return mn(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this,s=this.group,l=t.getLayerSeries(),c=o.getLayout("layoutInfo"),u=c.rect,d=c.boundaryGap;function h(b){return b.name}s.x=0,s.y=u.y+d[0];var p=new om(this._layersSeries||[],l,h,h),g=[];function y(b,w,M){var E=a._layers;if("remove"!==b){for(var H,k=[],j=[],rt=l[w].indices,yt=0;yt<rt.length;yt++){var st=o.getItemLayout(rt[yt]),Lt=st.x,kt=st.y0,te=st.y;k.push(Lt,kt),j.push(Lt,kt+te),H=o.getItemVisual(rt[yt],"style")}var ne,de=o.getItemLayout(rt[0]),be=t.getModel("label").get("margin"),Ve=t.getModel("emphasis");if("add"===b){var Fe=g[w]=new br;ne=new ZJ({shape:{points:k,stackedOnPoints:j,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Fe.add(ne),s.add(Fe),t.isAnimationEnabled()&&ne.setClipPath(function b8t(n,e,t){var i=new Qo({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return cl(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),i}(ne.getBoundingRect(),t,function(){ne.removeClipPath()}))}else ne=(Fe=E[M]).childAt(0),s.add(Fe),g[w]=Fe,fa(ne,{shape:{points:k,stackedOnPoints:j}},t),rf(ne);_u(ne,zc(t),{labelDataIndex:rt[yt-1],defaultText:o.getName(rt[yt-1]),inheritColor:H.fill},{normal:{verticalAlign:"middle"}}),ne.setTextConfig({position:null,local:!0});var Ke=ne.getTextContent();Ke&&(Ke.x=de.x-be,Ke.y=de.y0+de.y/2),ne.useStyle(H),o.setItemGraphicEl(w,ne),vu(ne,t),Al(ne,Ve.get("focus"),Ve.get("blurScope"),Ve.get("disabled"))}else s.remove(E[w])}p.add(yi(y,this,"add")).update(yi(y,this,"update")).remove(yi(y,this,"remove")).execute(),this._layersSeries=l,this._layers=g},e.type="themeRiver",e}(Zs);const x8t=y8t;var w8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new yC(yi(this.getData,this),yi(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=QN(t,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),a=[];o.buckets.each(function(h,p){a.push({name:p,dataList:h})});for(var s=a.length,l=0;l<s;++l){for(var c=a[l].name,u=0;u<a[l].dataList.length;++u)r[d=a[l].dataList[u][0]+""]=l;for(var d in r)r.hasOwnProperty(d)&&r[d]!==l&&(r[d]=l,t[i]=[d,0,c],i++)}return t},e.prototype.getInitialData=function(t,i){for(var o=this.getReferringComponents("singleAxis",vc).models[0].get("type"),a=ps(t.data,function(g){return void 0!==g[2]}),s=this.fixData(a||[]),l=[],c=this.nameMap=Wi(),u=0,d=0;d<s.length;++d)l.push(s[d][2]),c.get(s[d][2])||(c.set(s[d][2],u),u++);var h=vb(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:LA(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new od(h,this);return p.initData(s),p},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var a=t.mapDimension("single"),s=QN(r,function(c){return t.get("name",c)}),l=[];return s.buckets.each(function(c,u){c.sort(function(d,h){return t.get(a,d)-t.get(a,h)}),l.push({name:u,indices:c})}),l},e.prototype.getAxisTooltipData=function(t,i,r){Rn(t)||(t=t?[t]:[]);for(var c,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var d=Number.MAX_VALUE,h=-1,p=a[u].indices.length,g=0;g<p;++g){var y=o.get(t[0],a[u].indices[g]),b=Math.abs(y-i);b<=d&&(c=y,d=b,h=a[u].indices[g])}s.push(h)}return{dataIndices:s,nestestValue:c}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData();return Uc("nameValue",{name:o.getName(t),value:o.get(o.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(pl);const C8t=w8t;function S8t(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=t.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=ni(s[0],a.height),s[1]=ni(s[1],a.height),ert(i,t,a.height-s[0]-s[1])):(s[0]=ni(s[0],a.width),s[1]=ni(s[1],a.width),ert(i,t,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}function ert(n,e,t){if(n.count())for(var p,i=e.coordinateSystem,r=e.getLayerSeries(),o=n.mapDimension("single"),a=n.mapDimension("value"),s=On(r,function(b){return On(b.indices,function(w){var M=i.dataToPoint(n.get(o,w));return M[1]=n.get(a,w),M})}),l=function M8t(n){for(var e=n.length,t=n[0].length,i=[],r=[],o=0,a=0;a<t;++a){for(var s=0,l=0;l<e;++l)s+=n[l][a][1];s>o&&(o=s),i.push(s)}for(var c=0;c<t;++c)r[c]=(o-i[c])/2;o=0;for(var u=0;u<t;++u){var d=i[u]+r[u];d>o&&(o=d)}return{y0:r,max:o}}(s),c=l.y0,u=t/l.max,d=r.length,h=r[0].indices.length,g=0;g<h;++g){n.setItemLayout(r[0].indices[g],{layerIndex:0,x:s[0][g][0],y0:p=c[g]*u,y:s[0][g][1]*u});for(var y=1;y<d;++y)n.setItemLayout(r[y].indices[g],{layerIndex:y,x:s[y][g][0],y0:p+=s[y-1][g][1]*u,y:s[y][g][1]*u})}}var T8t=2,D8t=4,A8t=function(n){function e(t,i,r,o){var a=n.call(this)||this;a.z2=T8t,a.textConfig={inside:!0},kr(a).seriesIndex=i.seriesIndex;var s=new la({z2:D8t,silent:t.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,t,i,r,o),a}return mn(e,n),e.prototype.updateData=function(t,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;kr(s).dataIndex=i.dataIndex;var l=i.getModel(),c=l.getModel("emphasis"),u=i.getLayout(),d=Dn({},u);d.label=null;var h=i.getVisual("style");h.lineJoin="bevel";var p=i.getVisual("decal");p&&(h.decal=pb(p,a));var g=I_(l.getModel("itemStyle"),d,!0);Dn(d,g),Xt(nd,function(M){var E=s.ensureState(M),k=l.getModel([M,"itemStyle"]);E.style=k.getItemStyle();var j=I_(k,d);j&&(E.shape=j)}),t?(s.setShape(d),s.shape.r=u.r0,cl(s,{shape:{r:u.r}},r,i.dataIndex)):(fa(s,{shape:d},r),rf(s)),s.useStyle(h),this._updateLabel(r);var y=l.getShallow("cursor");y&&s.attr("cursor",y),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var b=c.get("focus");Al(this,"ancestor"===b?i.getAncestorsIndices():"descendant"===b?i.getDescendantIndices():b,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,c=Math.cos(l),u=Math.sin(l),d=this,h=d.getTextContent(),p=this.node.dataIndex,g=o.get("minAngle")/180*Math.PI,y=o.get("show")&&!(null!=g&&Math.abs(s)<g);function b(w,M){return w.get(M)??o.get(M)}h.ignore=!y,Xt(D1,function(w){var M=r.getModel("normal"===w?"label":[w,"label"]),E="normal"===w,k=E?h:h.ensureState(w),j=t.getFormattedLabel(p,w);E&&(j=j||i.node.name),k.style=js(M,{},null,"normal"!==w,!0),j&&(k.style.text=j);var H=M.get("show");null!=H&&!E&&(k.ignore=!H);var rt=b(M,"position"),yt=E?d:d.states[w],st=yt.style.fill;yt.textConfig={outsideFill:"inherit"===M.get("color")?st:null,inside:"outside"!==rt};var Lt,kt=b(M,"distance")||0,te=b(M,"align");"outside"===rt?(Lt=a.r+kt,te=l>Math.PI/2?"right":"left"):te&&"center"!==te?"left"===te?(Lt=a.r0+kt,l>Math.PI/2&&(te="right")):"right"===te&&(Lt=a.r-kt,l>Math.PI/2&&(te="left")):(Lt=s===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,te="center"),k.style.align=te,k.style.verticalAlign=b(M,"verticalAlign")||"middle",k.x=Lt*c+a.cx,k.y=Lt*u+a.cy;var ne=b(M,"rotate"),de=0;"radial"===ne?(de=Qp(-l))>Math.PI/2&&de<1.5*Math.PI&&(de+=Math.PI):"tangential"===ne?(de=Math.PI/2-l)>Math.PI/2?de-=Math.PI:de<-Math.PI/2&&(de+=Math.PI):sa(ne)&&(de=ne*Math.PI/180),k.rotation=de}),h.dirtyStyle()},e}(Sd);const nrt=A8t;var $V="sunburstRootToNode",irt="sunburstHighlight",k8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r,o){var a=this;this.seriesModel=t,this.api=r,this.ecModel=i;var s=t.getData(),l=s.tree.root,c=t.getViewRoot(),u=this.group,d=t.get("renderLabelForZeroData"),h=[];c.eachNode(function(M){h.push(M)}),function g(M,E){function k(H){return H.getId()}function j(H,rt){!function y(M,E){if(!d&&M&&!M.getValue()&&(M=null),M!==l&&E!==l)if(E&&E.piece)M?(E.piece.updateData(!1,M,t,i,r),s.setItemGraphicEl(M.dataIndex,E.piece)):function b(M){M&&M.piece&&(u.remove(M.piece),M.piece=null)}(E);else if(M){var k=new nrt(M,t,i,r);u.add(k),s.setItemGraphicEl(M.dataIndex,k)}}(null==H?null:M[H],null==rt?null:E[rt])}0===M.length&&0===E.length||new om(E,M,k,k).add(j).update(j).remove(Nr(j,null)).execute()}(h,this._oldChildren||[]),function w(M,E){E.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,M,t,i,r):(a.virtualPiece=new nrt(M,t,i,r),u.add(a.virtualPiece)),E.piece.off("click"),a.virtualPiece.on("click",function(k){a._rootToNode(E.parentNode)})):a.virtualPiece&&(u.remove(a.virtualPiece),a.virtualPiece=null)}(l,c),this._initEvents(),this._oldChildren=h},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(a){if(!r&&a.piece&&a.piece===i.target){var s=a.getModel().get("nodeClick");if("rootToNode"===s)t._rootToNode(a);else if("link"===s){var l=a.getModel(),c=l.get("link");c&&HD(c,l.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:$V,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var o=i.getData().getItemLayout(0);if(o){var a=t[0]-o.cx,s=t[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="sunburst",e}(Zs);const R8t=k8t;var L8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return mn(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};rrt(r);var o=this._levelModels=On(t.levels||[],function(l){return new Ws(l,this,i)},this),a=$3.createTree(r,this,function s(l){l.wrapMethod("getItemModel",function(c,u){var d=a.getNodeByDataIndex(u),h=o[d.depth];return h&&(c.parentModel=h),c})});return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=sI(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){mnt(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(pl);function rrt(n){var e=0;Xt(n.children,function(i){rrt(i);var r=i.value;Rn(r)&&(r=r[0]),e+=r});var t=n.value;Rn(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Rn(n.value)?n.value[0]=t:n.value=t}const O8t=L8t;var ort=Math.PI/180;function N8t(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Rn(o)||(o=[0,o]),Rn(r)||(r=[r,r]);var a=t.getWidth(),s=t.getHeight(),l=Math.min(a,s),c=ni(r[0],a),u=ni(r[1],s),d=ni(o[0],l/2),h=ni(o[1],l/2),p=-i.get("startAngle")*ort,g=i.get("minAngle")*ort,y=i.getData().tree.root,b=i.getViewRoot(),w=b.depth,M=i.get("sort");null!=M&&art(b,M);var E=0;Xt(b.children,function(be){!isNaN(be.getValue())&&E++});var k=b.getValue(),j=Math.PI/(k||E)*2,H=b.depth>0,yt=(h-d)/(b.height-(H?-1:1)||1),st=i.get("clockwise"),Lt=i.get("stillShowZeroSum"),kt=st?1:-1,te=function(be,Ve){if(be){var Fe=Ve;if(be!==y){var Ke=be.getValue(),In=0===k&&Lt?j:Ke*j;In<g&&(In=g),Fe=Ve+kt*In;var Nn=be.depth-w-(H?-1:1),qn=d+yt*Nn,Kn=d+yt*(Nn+1),Gn=i.getLevelModel(be);if(Gn){var Ui=Gn.get("r0",!0),to=Gn.get("r",!0),Gi=Gn.get("radius",!0);null!=Gi&&(Ui=Gi[0],to=Gi[1]),null!=Ui&&(qn=ni(Ui,l/2)),null!=to&&(Kn=ni(to,l/2))}be.setLayout({angle:In,startAngle:Ve,endAngle:Fe,clockwise:st,cx:c,cy:u,r0:qn,r:Kn})}if(be.children&&be.children.length){var ji=0;Xt(be.children,function(cr){ji+=te(cr,Ve+ji)})}return Fe-Ve}};if(H){var Te=2*Math.PI;y.setLayout({angle:Te,startAngle:p,endAngle:p+Te,clockwise:st,cx:c,cy:u,r0:d,r:d+yt})}te(b,p)})}function art(n,e){var t=n.children||[];n.children=function F8t(n,e){if(Ki(e)){var t=On(n,function(r,o){var a=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return a}},index:o}});return t.sort(function(r,o){return e(r.params,o.params)}),On(t,function(r){return n[r.index]})}var i="asc"===e;return n.sort(function(r,o){var a=(r.getValue()-o.getValue())*(i?1:-1);return 0===a?(r.dataIndex-o.dataIndex)*(i?-1:1):a})}(t,e),t.length&&Xt(n.children,function(i){art(i,e)})}function B8t(n){var e={};n.eachSeriesByType("sunburst",function(i){var r=i.getData(),o=r.tree;o.eachNode(function(a){var l=a.getModel().getModel("itemStyle").getItemStyle();l.fill||(l.fill=function t(i,r,o){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=r.getColorFromPalette(a.name||a.dataIndex+"",e);return i.depth>1&&ci(s)&&(s=CN(s,(i.depth-1)/(o-1)*.5)),s}(a,i,o.root.height)),Dn(r.ensureUniqueItemVisual(a.dataIndex,"style"),l)})})}var srt={color:"fill",borderColor:"stroke"},z8t={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},dm=Ko(),U8t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return am(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=dm(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(pl);const G8t=U8t;function H8t(n,e){return e=e||[0,0],On(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function W8t(n,e){return e=e||[0,0],On([0,1],function(t){var i=e[t],r=n[t]/2,o=[],a=[];return o[t]=i-r,a[t]=i+r,o[1-t]=a[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}function Y8t(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function $8t(n,e){return e=e||[0,0],On(["Radius","Angle"],function(t,i){var o=this["get"+t+"Axis"](),a=e[i],s=n[i]/2,l="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s));return"Angle"===t&&(l=l*Math.PI/180),l},this)}function lrt(n,e,t,i){return n&&(n.legacy||!1!==n.legacy&&!t&&!i&&"tspan"!==e&&("text"===e||xi(n,"text")))}function crt(n,e,t){var r,o,a,i=n;if("text"===e)a=i;else{a={},xi(i,"text")&&(a.text=i.text),xi(i,"rich")&&(a.rich=i.rich),xi(i,"textFill")&&(a.fill=i.textFill),xi(i,"textStroke")&&(a.stroke=i.textStroke),xi(i,"fontFamily")&&(a.fontFamily=i.fontFamily),xi(i,"fontSize")&&(a.fontSize=i.fontSize),xi(i,"fontStyle")&&(a.fontStyle=i.fontStyle),xi(i,"fontWeight")&&(a.fontWeight=i.fontWeight),o={type:"text",style:a,silent:!0},r={};var s=xi(i,"textPosition");t?r.position=s?i.textPosition:"inside":s&&(r.position=i.textPosition),xi(i,"textPosition")&&(r.position=i.textPosition),xi(i,"textOffset")&&(r.offset=i.textOffset),xi(i,"textRotation")&&(r.rotation=i.textRotation),xi(i,"textDistance")&&(r.distance=i.textDistance)}return urt(a,n),Xt(a.rich,function(l){urt(l,l)}),{textConfig:r,textContent:o}}function urt(n,e){e&&(e.font=e.textFont||e.font,xi(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),xi(e,"textAlign")&&(n.align=e.textAlign),xi(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),xi(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),xi(e,"textWidth")&&(n.width=e.textWidth),xi(e,"textHeight")&&(n.height=e.textHeight),xi(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),xi(e,"textPadding")&&(n.padding=e.textPadding),xi(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),xi(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),xi(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),xi(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),xi(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),xi(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),xi(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function drt(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";hrt(i,e);var a=null==i.textFill;return r?a&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,Xt(e.rich,function(s){hrt(s,s)}),i}function hrt(n,e){e&&(xi(e,"fill")&&(n.textFill=e.fill),xi(e,"stroke")&&(n.textStroke=e.fill),xi(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),xi(e,"font")&&(n.font=e.font),xi(e,"fontStyle")&&(n.fontStyle=e.fontStyle),xi(e,"fontWeight")&&(n.fontWeight=e.fontWeight),xi(e,"fontSize")&&(n.fontSize=e.fontSize),xi(e,"fontFamily")&&(n.fontFamily=e.fontFamily),xi(e,"align")&&(n.textAlign=e.align),xi(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),xi(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),xi(e,"width")&&(n.textWidth=e.width),xi(e,"height")&&(n.textHeight=e.height),xi(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),xi(e,"padding")&&(n.textPadding=e.padding),xi(e,"borderColor")&&(n.textBorderColor=e.borderColor),xi(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),xi(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),xi(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),xi(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),xi(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),xi(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),xi(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),xi(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),xi(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),xi(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var frt={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},prt=Ro(frt),bI=(Rf(Ff,function(n,e){return n[e]=1,n},{}),Ff.join(", "),["","style","shape","extra"]),Ib=Ko();function qV(n,e,t,i,r){var o=n+"Animation",a=Z0(n,i,r)||{},s=Ib(e).userDuring;return a.duration>0&&(a.during=s?yi(nGt,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=n),Dn(a,t[o]),a}function xI(n,e,t,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=t.isAnimationEnabled(),l=Ib(n),c=e.style;l.userDuring=e.during;var u={},d={};if(function rGt(n,e,t){for(var i=0;i<prt.length;i++){var r=prt[i],o=frt[r],a=e[r];a&&(t[o[0]]=a[0],t[o[1]]=a[1])}for(i=0;i<Ff.length;i++){var s=Ff[i];null!=e[s]&&(t[s]=e[s])}}(0,e,d),vrt("shape",e,d),vrt("extra",e,d),!o&&s&&(function iGt(n,e,t){for(var i=e.transition,r=H_(i)?Ff:bs(i||[]),o=0;o<r.length;o++){var a=r[o];"style"!==a&&"shape"!==a&&"extra"!==a&&(t[a]=n[a])}}(n,e,u),grt("shape",n,e,u),grt("extra",n,e,u),function oGt(n,e,t,i){if(t){var o,r=n.style;if(r){var a=t.transition,s=e.transition;if(a&&!H_(a)){var l=bs(a);!o&&(o=i.style={});for(var c=0;c<l.length;c++)o[u=l[c]]=r[u]}else if(n.getAnimationStyleProps&&(H_(s)||H_(a)||uo(s,"style")>=0)){var h=n.getAnimationStyleProps(),p=h?h.style:null;if(p){!o&&(o=i.style={});var g=Ro(t);for(c=0;c<g.length;c++){var u;p[u=g[c]]&&(o[u]=r[u])}}}}}}(n,e,c,u)),d.style=c,function Q8t(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var r=n.animators,o=0;o<r.length;o++){var a=r[o];"style"===a.targetName&&a.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}(n,d,a),function tGt(n,e){xi(e,"silent")&&(n.silent=e.silent),xi(e,"ignore")&&(n.ignore=e.ignore),n instanceof Mh&&xi(e,"invisible")&&(n.invisible=e.invisible),n instanceof wo&&xi(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}(n,e),s)if(o){var h={};Xt(bI,function(g){var y=g?e[g]:e;y&&y.enterFrom&&(g&&(h[g]=h[g]||{}),Dn(g?h[g]:h,y.enterFrom))});var p=qV("enter",n,e,t,r);p.duration>0&&n.animateFrom(h,p)}else!function J8t(n,e,t,i,r){if(r){var o=qV("update",n,e,i,t);o.duration>0&&n.animateFrom(r,o)}}(n,e,r||0,t,u);mrt(n,e),c?n.dirty():n.markRedraw()}function mrt(n,e){for(var t=Ib(n).leaveToProps,i=0;i<bI.length;i++){var r=bI[i],o=r?e[r]:e;o&&o.leaveTo&&(t||(t=Ib(n).leaveToProps={}),r&&(t[r]=t[r]||{}),Dn(r?t[r]:t,o.leaveTo))}}function wI(n,e,t,i){if(n){var r=n.parent,o=Ib(n).leaveToProps;if(o){var a=qV("update",n,e,t,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function H_(n){return"all"===n}var ep={},eGt={setTransform:function(n,e){return ep.el[n]=e,this},getTransform:function(n){return ep.el[n]},setShape:function(n,e){var t=ep.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=ep.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=ep.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=ep.el.style;if(e)return e[n]},setExtra:function(n,e){return(ep.el.extra||(ep.el.extra={}))[n]=e,this},getExtra:function(n){var e=ep.el.extra;if(e)return e[n]}};function nGt(){var n=this,e=n.el;if(e){var t=Ib(e).userDuring,i=n.userDuring;if(t!==i)return void(n.el=n.userDuring=null);ep.el=e,i(eGt)}}function grt(n,e,t,i){var r=t[n];if(r){var a,o=e[n];if(o){var s=t.transition,l=r.transition;if(l)if(!a&&(a=i[n]={}),H_(l))Dn(a,o);else for(var c=bs(l),u=0;u<c.length;u++)a[d=c[u]]=h=o[d];else if(H_(s)||uo(s,n)>=0){!a&&(a=i[n]={});var p=Ro(o);for(u=0;u<p.length;u++){var d,h;aGt(r[d=p[u]],h=o[d])&&(a[d]=h)}}}}}function vrt(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=Ro(i),a=0;a<o.length;a++){var s=o[a];r[s]=m1(i[s])}}function aGt(n,e){return Pu(n)?n!==e:null!=n&&isFinite(n)}var _rt=Ko(),sGt=["percent","easing","shape","style","extra"];function yrt(n){n.stopAnimation("keyframe"),n.attr(_rt(n))}function CI(n,e,t){if(t.isAnimationEnabled()&&e){if(Rn(e))return void Xt(e,function(s){CI(n,s,t)});var i=e.keyframes,r=e.duration;if(t&&null==r){var o=Z0("enter",t,0);r=o&&o.duration}if(i&&r){var a=_rt(n);Xt(bI,function(s){var l;s&&!n[s]||(i.sort(function(u,d){return u.percent-d.percent}),Xt(i,function(u){var d=n.animators,h=s?u[s]:u;if(h){var p=Ro(h);if(s||(p=ps(p,function(b){return uo(sGt,b)<0})),p.length){l||((l=n.animate(s,e.loop,!0)).scope="keyframe");for(var g=0;g<d.length;g++)d[g]!==l&&d[g].targetName===l.targetName&&d[g].stopTracks(p);s&&(a[s]=a[s]||{});var y=s?a[s]:a;Xt(p,function(b){y[b]=((s?n[s]:n)||{})[b]}),l.whenWithKeys(r*u.percent,h,p,u.easing)}}}),l&&l.delay(e.delay||0).duration(r).start(e.easing))})}}}var hm="emphasis",Mg="normal",KV="blur",QV="select",Eg=[Mg,hm,KV,QV],JV={normal:["itemStyle"],emphasis:[hm,"itemStyle"],blur:[KV,"itemStyle"],select:[QV,"itemStyle"]},tz={normal:["label"],emphasis:[hm,"label"],blur:[KV,"label"],select:[QV,"label"]},lGt=["x","y"],cGt="e\0\0",Nh={normal:{},emphasis:{},blur:{},select:{}},uGt={cartesian2d:function j8t(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:yi(H8t,n)}}},geo:function Z8t(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:yi(W8t,n)}}},single:function X8t(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:yi(Y8t,n)}}},polar:function q8t(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),a=t.dataToAngle(r[1]),s=n.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:yi($8t,n)}}},calendar:function K8t(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function ez(n){return n instanceof wo}function nz(n){return n instanceof Mh}var hGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._data,s=t.getData(),l=this.group,c=xrt(t,s,i,r);a||l.removeAll(),s.diff(a).add(function(d){oz(r,null,d,c(d,o),t,l,s)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&wI(h,dm(h).option,t)}).update(function(d,h){var p=a.getItemGraphicEl(h);oz(r,p,d,c(d,o),t,l,s)}).execute();var u=t.get("clip",!0)?BA(t.coordinateSystem,!1,t):null;u?l.setClipPath(u):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,a){var s=i.getData(),l=xrt(i,s,r,o),c=this._progressiveEls=[];function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var d=t.start;d<t.end;d++){var h=oz(null,null,d,l(d,a),i,this.group,s);h&&(h.traverse(u),c.push(h))}},e.prototype.eachRendered=function(t){pg(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},e.type="custom",e}(Zs);const fGt=hGt;function iz(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=Ert(i);t=cA(o,null,r,i.layout||"center"),dm(t).customPathData=o}else if("image"===e)t=new gu({}),dm(t).customImagePath=n.style.image;else if("text"===e)t=new la({});else if("group"===e)t=new br;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=_B(e);a||es(""),t=new a}return dm(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function rz(n,e,t,i,r,o,a){yrt(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=lGt);var l=i&&i.style;if(l){if("text"===e.type){var c=l;xi(c,"textFill")&&(c.fill=c.textFill),xi(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,d=ez(e)?l.decal:null;n&&d&&(d.dirty=!0,u=pb(d,n)),l.__decalPattern=u}nz(e)&&l&&(u=l.__decalPattern)&&(l.decal=u),xI(e,i,o,{dataIndex:t,isInit:a,clearStyle:!0}),CI(e,i.keyframeAnimation,o)}function brt(n,e,t,i,r){var o=e.isGroup?null:e,a=r&&r[n].cfg;if(o){var s=o.ensureState(n);if(!1===i){var l=o.getState(n);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),i_(o)}}function mGt(n,e,t){var i=t===Mg,r=i?e:SI(e,t),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(t)).z2=o||0)}function xrt(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):uGt[o.type](o));for(var c,u,s=nr({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function k(de,Te){return null==Te&&(Te=c),e.getStore().get(e.getDimensionIndex(de||0),Te)},style:function H(de,Te){null==Te&&(Te=c);var be=e.getItemVisual(Te,"style"),Ve=be&&be.fill,Fe=be&&be.opacity,Ke=M(Te,Mg).getItemStyle();null!=Ve&&(Ke.fill=Ve),null!=Fe&&(Ke.opacity=Fe);var In={inheritColor:ci(Ve)?Ve:"#000"},Nn=E(Te,Mg),qn=js(Nn,null,In,!1,!0);qn.text=Nn.getShallow("show")?qr(n.getFormattedLabel(Te,Mg),yb(e,Te)):null;var Kn=LD(Nn,In,!1);return st(de,Ke),Ke=drt(Ke,qn,Kn),de&&yt(Ke,de),Ke.legacy=!0,Ke},ordinalRawValue:function j(de,Te){null==Te&&(Te=c);var be=e.getDimensionInfo(de=de||0);if(!be){var Ve=e.getDimensionIndex(de);return Ve>=0?e.getStore().get(Ve,Te):void 0}var Fe=e.get(be.name,Te),Ke=be&&be.ordinalMeta;return Ke?Ke.categories[Fe]:Fe},styleEmphasis:function rt(de,Te){null==Te&&(Te=c);var be=M(Te,hm).getItemStyle(),Ve=E(Te,hm),Fe=js(Ve,null,null,!0,!0);Fe.text=Ve.getShallow("show")?jp(n.getFormattedLabel(Te,hm),n.getFormattedLabel(Te,Mg),yb(e,Te)):null;var Ke=LD(Ve,null,!0);return st(de,be),be=drt(be,Fe,Ke),de&&yt(be,de),be.legacy=!0,be},visual:function Lt(de,Te){if(null==Te&&(Te=c),xi(srt,de)){var be=e.getItemVisual(Te,"style");return be?be[srt[de]]:null}if(xi(z8t,de))return e.getItemVisual(Te,de)},barLayout:function kt(de){if("cartesian2d"===o.type)return function NNt(n){var e=[],t=n.axis,i="axis0";if("category"===t.type){for(var r=t.getBandWidth(),o=0;o<n.count;o++)e.push(nr({bandWidth:r,axisKey:i,stackId:d3+o},n));var a=rtt(e),s=[];for(o=0;o<n.count;o++){var l=a[i][d3+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(nr({axis:o.getBaseAxis()},de))},currentSeriesIndices:function te(){return t.getCurrentSeriesIndices()},font:function ne(de){return T$(de,t)}},a.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:gGt(n.getData())},d={},h={},p={},g={},y=0;y<Eg.length;y++){var b=Eg[y];p[b]=n.getModel(JV[b]),g[b]=n.getModel(tz[b])}function w(de){return de===c?u||(u=e.getItemModel(de)):e.getItemModel(de)}function M(de,Te){return e.hasItemOption?de===c?d[Te]||(d[Te]=w(de).getModel(JV[Te])):w(de).getModel(JV[Te]):p[Te]}function E(de,Te){return e.hasItemOption?de===c?h[Te]||(h[Te]=w(de).getModel(tz[Te])):w(de).getModel(tz[Te]):g[Te]}return function(de,Te){return c=de,u=null,d={},h={},r&&r(nr({dataIndexInside:de,dataIndex:e.getRawIndex(de),actionType:Te?Te.type:null},l),s)};function yt(de,Te){for(var be in Te)xi(Te,be)&&(de[be]=Te[be])}function st(de,Te){de&&(de.textFill&&(Te.textFill=de.textFill),de.textPosition&&(Te.textPosition=de.textPosition))}}function gGt(n){var e={};return Xt(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function oz(n,e,t,i,r,o,a){if(i){var s=az(n,e,t,i,r,o);return s&&a.setItemGraphicEl(t,s),s&&Al(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(e)}function az(n,e,t,i,r,o){var a=-1,s=e;e&&wrt(e,i,r)&&(a=uo(o.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=iz(i),s&&function dGt(n,e){e.copyTransform(n),nz(e)&&nz(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,ez(e)&&ez(n)&&e.setShape(n.shape))}(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Nh.normal.cfg=Nh.normal.conOpt=Nh.emphasis.cfg=Nh.emphasis.conOpt=Nh.blur.cfg=Nh.blur.conOpt=Nh.select.cfg=Nh.select.conOpt=null,Nh.isLegacy=!1,function _Gt(n,e,t,i,r,o){if(!n.isGroup){Crt(t,null,o),Crt(t,hm,o);var a=o.normal.conOpt;if(null!=a||null!=o.emphasis.conOpt||null!=o.select.conOpt||null!=o.blur.conOpt){var u=n.getTextContent();if(!1===a)u&&n.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},u?u.clearStates():(u=iz(a),n.setTextContent(u)),rz(null,u,e,a,null,i,r);for(var d=a&&a.style,h=0;h<Eg.length;h++){var p=Eg[h];if(p!==Mg)brt(p,u,0,sz(a,o[p].conOpt,p),null)}d?u.dirty():u.markRedraw()}}}}(c,t,i,r,l,Nh),function vGt(n,e,t,i,r){var o=t.clipPath;if(!1===o)n&&n.getClipPath()&&n.removeClipPath();else if(o){var a=n.getClipPath();a&&wrt(a,o,i)&&(a=null),a||(a=iz(o),n.setClipPath(a)),rz(null,a,e,o,null,i,r)}}(c,t,i,r,l),rz(n,c,t,i,Nh,r,l),xi(i,"info")&&(dm(c).info=i.info);for(var u=0;u<Eg.length;u++){var d=Eg[u];if(d!==Mg)brt(d,c,0,sz(i,SI(i,d),d),Nh)}return function pGt(n,e,t){if(!n.isGroup){var i=n,o=t.currentZLevel;i.z=t.currentZ,i.zlevel=o;var a=e.z2;null!=a&&(i.z2=a||0);for(var s=0;s<Eg.length;s++)mGt(i,e,Eg[s])}}(c,i,r),"group"===i.type&&function yGt(n,e,t,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,c=!1===s;if(a||l||c){if(l)return void function xGt(n){new om(n.oldChildren,n.newChildren,Srt,Srt,n).add(Mrt).update(Mrt).remove(wGt).execute()}({api:n,oldChildren:e.children()||[],newChildren:o||[],dataIndex:t,seriesModel:r,group:e});c&&e.removeAll();for(var u=0;u<a;u++){var d=o[u],h=e.childAt(u);d?(null==d.ignore&&(d.ignore=!1),az(n,h,t,d,r,e)):h.ignore=!0}for(var p=e.childCount()-1;p>=u;p--){var g=e.childAt(p);bGt(e,g,r)}}}(n,c,t,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function wrt(n,e,t){var i=dm(n),r=e.type,o=e.shape,a=e.style;return t.isUniversalTransitionEnabled()||null!=r&&r!==i.customGraphicType||"path"===r&&function CGt(n){return n&&(xi(n,"pathData")||xi(n,"d"))}(o)&&Ert(o)!==i.customPathData||"image"===r&&xi(a,"image")&&a.image!==i.customImagePath}function Crt(n,e,t){var i=e?SI(n,e):n,r=e?sz(n,i,hm):n.style,o=n.type,a=i?i.textConfig:null,s=n.textContent,l=s?e?SI(s,e):s:null;if(r&&(t.isLegacy||lrt(r,o,!!a,!!l))){t.isLegacy=!0;var c=crt(r,o,!e);!a&&c.textConfig&&(a=c.textConfig),!l&&c.textContent&&(l=c.textContent)}!e&&l&&!l.type&&(l.type="text");var d=e?t[e]:t.normal;d.cfg=a,d.conOpt=l}function SI(n,e){return e?n?n[e]:null:n}function sz(n,e,t){var i=e&&e.style;return null==i&&t===hm&&n&&(i=n.styleEmphasis),i}function bGt(n,e,t){e&&wI(e,dm(n).option,t)}function Srt(n,e){return(n&&n.name)??cGt+e}function Mrt(n,e){var t=this.context;az(t.api,null!=e?t.oldChildren[e]:null,t.dataIndex,null!=n?t.newChildren[n]:null,t.seriesModel,t.group)}function wGt(n){var e=this.context,t=e.oldChildren[n];t&&wI(t,dm(t).option,e.seriesModel)}function Ert(n){return n&&(n.pathData||n.d)}var j_=Ko(),Trt=fr,lz=yi,MGt=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,e,t,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=Nr(Drt,t,d);this.updatePointerEl(s,c,h),this.updateLabelEl(s,c,h,t)}else s=this._group=new br,this.createPointerEl(s,c,e,t),this.createLabelEl(s,c,e,t),i.getZr().add(s);Prt(s,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o="category"===r.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=P3(e).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===i},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var a=j_(e).pointerEl=new tt[o.type](Trt(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=j_(e).labelEl=new la(Trt(t.label));e.add(o),Irt(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=j_(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=j_(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),Irt(o,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=t.getModel("handle"),a=t.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(s=!0,r=this._handle=$1(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Zp(c.event)},onmousedown:lz(this._onHandleDragMove,this,0,0),drift:lz(this._onHandleDragMove,this),ondragend:lz(this._onHandleDragEnd,this)}),i.add(r)),Prt(r,t,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");Rn(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,ub(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){Drt(this._axisPointerModel,!t&&this._moveAnimation,this._handle,cz(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(cz(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(cz(r)),j_(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),K1(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function Drt(n,e,t,i){Art(j_(t).lastProp,i)||(j_(t).lastProp=i,e?fa(t,i,n):(t.stopAnimation(),t.attr(i)))}function Art(n,e){if(ar(n)&&ar(e)){var t=!0;return Xt(e,function(i,r){t=t&&Art(n[r],i)}),!!t}return n===e}function Irt(n,e){n[e.get(["label","show"])?"show":"hide"]()}function cz(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function Prt(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=t)})}const uz=MGt;function dz(n){var i,e=n.get("type"),t=n.getModel(e+"Style");return"line"===e?(i=t.getLineStyle()).fill=null:"shadow"===e&&((i=t.getAreaStyle()).stroke=null),i}function krt(n,e,t,i,r){var a=Rrt(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=Q0(s.get("padding")||0),c=s.getFont(),u=_1(a,c),d=r.position,h=u.width+l[1]+l[3],p=u.height+l[0]+l[2],g=r.align;"right"===g&&(d[0]-=h),"center"===g&&(d[0]-=h/2);var y=r.verticalAlign;"bottom"===y&&(d[1]-=p),"middle"===y&&(d[1]-=p/2),function EGt(n,e,t,i){var r=i.getWidth(),o=i.getHeight();n[0]=Math.min(n[0]+e,r)-e,n[1]=Math.min(n[1]+t,o)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(d,h,p,i);var b=s.get("backgroundColor");(!b||"auto"===b)&&(b=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:js(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function Rrt(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:S3(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Xt(i,function(l){var c=t.getSeriesByIndex(l.seriesIndex),d=c&&c.getDataParams(l.dataIndexInside);d&&s.seriesData.push(d)}),ci(a)?o=a.replace("{value}",o):Ki(a)&&(o=a(s))}return o}function hz(n,e,t){var i=[1,0,0,1,0,0];return Ov(i,i,t.rotation),Lf(i,i,t.position),cf([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function Lrt(n,e,t,i,r,o){var a=lm.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),krt(e,i,r,o,{position:hz(i.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function fz(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function Ort(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function Nrt(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var TGt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis,l=s.grid,c=o.get("type"),u=Frt(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&"none"!==c){var h=dz(o),p=DGt[c](s,d,u);p.style=h,t.graphicKey=p.type,t.pointer=p}Lrt(i,t,T3(l.model,r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=T3(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=hz(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),c=Frt(s,a).getOtherAxis(a).getGlobalExtent(),u="x"===a.dim?0:1,d=[t.x,t.y];d[u]+=i[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var h=(c[1]+c[0])/2,p=[h,h];return p[u]=d[u],{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},e}(uz);function Frt(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var DGt={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:fz([e,t[0]],[e,t[1]],Brt(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:Ort([e-i/2,t[0]],[i,t[1]-t[0]],Brt(n))}}};function Brt(n){return"x"===n.dim?0:1}const AGt=TGt;var IGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ca);const PGt=IGt;var fm=Ko(),kGt=Xt;function Vrt(n,e,t){if(!aa.node){var i=e.getZr();fm(i).records||(fm(i).records={}),function RGt(n,e){function t(i,r){n.on(i,function(o){var a=function NGt(n){var e={showTip:[],hideTip:[]},t=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}(e);kGt(fm(n).records,function(s){s&&r(s,o,a.dispatchAction)}),function LGt(n,e){var r,t=n.showTip.length,i=n.hideTip.length;t?r=n.showTip[t-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}(a.pendings,e)})}fm(n).initialized||(fm(n).initialized=!0,t("click",Nr(zrt,"click")),t("mousemove",Nr(zrt,"mousemove")),t("globalout",OGt))}(i,e),(fm(i).records[n]||(fm(i).records[n]={})).handler=t}}function OGt(n,e,t){n.handler("leave",null,t)}function zrt(n,e,t,i){e.handler(n,t,i)}function pz(n,e){if(!aa.node){var t=e.getZr();(fm(t).records||{})[n]&&(fm(t).records[n]=null)}}var FGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Vrt("axisPointer",r,function(s,l,c){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,i){pz("axisPointer",i)},e.prototype.dispose=function(t,i){pz("axisPointer",i)},e.type="axisPointer",e}(Il);const BGt=FGt;function Urt(n,e){var r,t=[],i=n.seriesIndex;if(null==i||!(r=e.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),a=Wv(o,n);if(null==a||a<0||Rn(a))return{point:[]};var s=o.getItemGraphicEl(a),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),d=l.getOtherAxis(c).dim,p="x"===d||"radius"===d?1:0,g=o.mapDimension(c.dim),y=[];y[p]=o.get(g,a),y[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),t=l.dataToPoint(y)||[]}else t=l.dataToPoint(o.getValues(On(l.dimensions,function(w){return o.mapDimension(w)}),a))||[];else if(s){var b=s.getBoundingRect().clone();b.applyTransform(s.transform),t=[b.x+b.width/2,b.y+b.height/2]}return{point:t,el:s}}var Grt=Ko();function VGt(n,e,t){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||yi(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){MI(r)&&(r=Urt({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=MI(r),c=o.axesInfo,u=s.axesInfo,d="leave"===i||MI(r),h={},p={},g={list:[],map:{}},y={showPointer:Nr(UGt,p),showTooltip:Nr(GGt,g)};Xt(s.coordSysMap,function(w,M){var E=l||w.containPoint(r);Xt(s.coordSysAxesInfo[M],function(k,j){var H=k.axis,rt=function ZGt(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(c,k);if(!d&&E&&(!c||rt)){var yt=rt&&rt.value;null==yt&&!l&&(yt=H.pointToData(r)),null!=yt&&Hrt(k,yt,y,!1,h)}})});var b={};return Xt(u,function(w,M){var E=w.linkGroup;E&&!p[M]&&Xt(E.axesInfo,function(k,j){var H=p[j];if(k!==w&&H){var rt=H.value;E.mapper&&(rt=w.axis.scale.parse(E.mapper(rt,jrt(k),jrt(w)))),b[w.key]=rt}})}),Xt(b,function(w,M){Hrt(u[M],w,y,!0,h)}),function HGt(n,e,t){var i=t.axesInfo=[];Xt(e,function(r,o){var a=r.axisPointerModel.option,s=n[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),"show"===a.status&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}(p,u,h),function jGt(n,e,t,i){if(!MI(e)&&n.list.length){var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}else i({type:"hideTip"})}(g,r,n,a),function WGt(n,e,t){var i=t.getZr(),r="axisPointerLastHighlights",o=Grt(i)[r]||{},a=Grt(i)[r]={};Xt(n,function(c,u){var d=c.axisPointerModel.option;"show"===d.status&&Xt(d.seriesDataIndices,function(h){a[h.seriesIndex+" | "+h.dataIndex]=h})});var s=[],l=[];Xt(o,function(c,u){!a[u]&&l.push(c)}),Xt(a,function(c,u){!o[u]&&s.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,t),h}}function Hrt(n,e,t,i,r){var o=n.axis;if(!o.scale.isBlank()&&o.containData(e)){if(!n.involveSeries)return void t.showPointer(n,e);var a=function zGt(n,e){var t=e.axis,i=t.dim,r=n,o=[],a=Number.MAX_VALUE,s=-1;return Xt(e.seriesModels,function(l,c){var d,h,u=l.getData().mapDimensionsAll(i);if(l.getAxisTooltipData){var p=l.getAxisTooltipData(u,n,t);h=p.dataIndices,d=p.nestestValue}else{if(!(h=l.getData().indicesOfNearest(u[0],n,"category"===t.type?.5:null)).length)return;d=l.getData().get(u[0],h[0])}if(null!=d&&isFinite(d)){var g=n-d,y=Math.abs(g);y<=a&&((y<a||g>=0&&s<0)&&(a=y,s=g,r=d,o.length=0),Xt(h,function(b){o.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:o,snapToValue:r}}(e,n),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&Dn(r,s[0]),!i&&n.snap&&o.containData(l)&&null!=l&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,a,l)}}function UGt(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function GGt(n,e,t,i){var r=t.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,c=SC(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function jrt(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function MI(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function GC(n){R_.registerAxisPointerClass("CartesianAxisPointer",AGt),n.registerComponentModel(PGt),n.registerComponentView(BGt),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Rn(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function EBt(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function TBt(n,e,t){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];Xt(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=SC(s.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var d=s.model.getModel("tooltip",i);if(Xt(s.getAxes(),Nr(y,!1,null)),s.getTooltipAxes&&i&&d.get("show")){var h="axis"===d.get("trigger"),p="cross"===d.get(["axisPointer","type"]),g=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||p)&&Xt(g.baseAxes,Nr(y,!p||"cross",h)),p&&Xt(g.otherAxes,Nr(y,"cross",!1))}}function y(b,w,M){var E=M.model.getModel("axisPointer",r),k=E.get("show");if(k&&("auto"!==k||b||k3(E))){null==w&&(w=E.get("triggerTooltip")),E=b?function DBt(n,e,t,i,r,o){var a=e.getModel("axisPointer"),l={};Xt(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(h){l[h]=fr(a.get(h))}),l.snap="category"!==n.type&&!!o,"cross"===a.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===r){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var d=l.lineStyle=a.get("crossStyle");d&&nr(c,d.textStyle)}}return n.model.getModel("axisPointer",new Ws(l,t,i))}(M,d,r,e,b,w):E;var j=E.get("snap"),H=SC(M.model),rt=w||j||"category"===M.type,yt=n.axesInfo[H]={key:H,axis:M,coordSys:s,axisPointerModel:E,triggerTooltip:w,involveSeries:rt,snap:j,useHandle:k3(E),seriesModels:[],linkGroup:null};c[H]=yt,n.seriesInvolved=n.seriesInvolved||rt;var st=function IBt(n,e){for(var t=e.model,i=e.dim,r=0;r<n.length;r++){var o=n[r]||{};if(I3(o[i+"AxisId"],t.id)||I3(o[i+"AxisIndex"],t.componentIndex)||I3(o[i+"AxisName"],t.name))return r}}(o,M);if(null!=st){var Lt=a[st]||(a[st]={axesInfo:{}});Lt.axesInfo[H]=yt,Lt.mapper=o[st].mapper,yt.linkGroup=Lt}}}})}(t,n,e),t.seriesInvolved&&function ABt(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);!i||"none"===r||!1===r||"item"===r||!1===o||!1===t.get(["axisPointer","show"],!0)||Xt(n.coordSysAxesInfo[SC(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(t),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=t.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},VGt)}var XGt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),d=s.dataToCoord(i),h=o.get("type");if(h&&"none"!==h){var p=dz(o),g=qGt[h](s,l,d,u);g.style=p,t.graphicKey=g.type,t.pointer=g}var b=function $Gt(n,e,t,i,r){var o=e.axis,a=o.dataToCoord(n),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var c,u,d,l=i.getRadiusAxis().getExtent();if("radius"===o.dim){var h=[1,0,0,1,0,0];Ov(h,h,s),Lf(h,h,[i.cx,i.cy]),c=cf([a,-r],h);var p=e.getModel("axisLabel").get("rotate")||0,g=lm.innerTextLayout(s,p*Math.PI/180,-1);u=g.textAlign,d=g.textVerticalAlign}else{var y=l[1];c=i.coordToPoint([y+r,a]);var b=i.cx,w=i.cy;u=Math.abs(c[0]-b)/y<.3?"center":c[0]>b?"left":"right",d=Math.abs(c[1]-w)/y<.3?"middle":c[1]>w?"top":"bottom"}return{position:c,align:u,verticalAlign:d}}(i,r,0,l,o.get(["label","margin"]));krt(t,r,o,a,b)},e}(uz),qGt={line:function(n,e,t,i){return"angle"===n.dim?{type:"Line",shape:fz(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:Nrt(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(r/2-t)*o)}:{type:"Sector",shape:Nrt(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}};const KGt=XGt;var QGt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(o){o.getCoordSysModel()===this&&(i=o)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(ca);const JGt=QGt;var mz=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",vc).models[0]},e.type="polarAxis",e}(ca);gc(mz,bC);var t6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="angleAxis",e}(mz),e6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="radiusAxis",e}(mz),gz=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return mn(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e}(pf);gz.prototype.dataToRadius=pf.prototype.dataToCoord,gz.prototype.radiusToData=pf.prototype.coordToData;const n6t=gz;var i6t=Ko(),vz=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return mn(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),c=Math.abs(l),u=_1(null==s?"":s+"",i.getFont(),"center","top"),h=Math.max(u.height,7)/c;isNaN(h)&&(h=1/0);var p=Math.max(0,Math.floor(h)),g=i6t(t.model),y=g.lastAutoInterval,b=g.lastTickCount;return null!=y&&null!=b&&Math.abs(y-p)<=1&&Math.abs(b-a)<=1&&y>p?p=y:(g.lastTickCount=a,g.lastAutoInterval=p),p},e}(pf);vz.prototype.dataToAngle=pf.prototype.dataToCoord,vz.prototype.angleToData=pf.prototype.coordToData;const r6t=vz;var Wrt=["radius","angle"],o6t=function(){function n(e){this.dimensions=Wrt,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new n6t,this._angleAxis=new r6t,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+i*i);t/=l,i/=l;for(var c=Math.atan2(-i,t)/Math.PI*180,u=c<a?1:-1;c<a||c>s;)c+=360*u;return[l,c]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var r=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:e.inverse,contain:function(a,s){var l=a-this.cx,c=s-this.cy,u=l*l+c*c-1e-4,d=this.r,h=this.r0;return u<=d*d&&u>=h*h}}},n.prototype.convertToPixel=function(e,t,i){return Zrt(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return Zrt(t)===this?this.pointToData(i):null},n}();function Zrt(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const a6t=o6t;function l6t(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();Xt(JA(l,"radius"),function(c){r.scale.unionExtentFromData(l,c)}),Xt(JA(l,"angle"),function(c){i.scale.unionExtentFromData(l,c)})}}),wb(i.scale,i.model),wb(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function Yrt(n,e){if(n.type=e.get("type"),n.scale=QA(e),n.onBand=e.get("boundaryGap")&&"category"===n.type,n.inverse=e.get("inverse"),function c6t(n){return"angleAxis"===n.mainType}(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var u6t={dimensions:Wrt,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new a6t(r+"");o.update=l6t;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");Yrt(a,l),Yrt(s,c),function s6t(n,e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight();n.cx=ni(i[0],r),n.cy=ni(i[1],o);var a=n.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:Rn(l)||(l=[0,l]);var c=[ni(l[0],s),ni(l[1],s)];a.inverse?a.setExtent(c[1],c[0]):a.setExtent(c[0],c[1])}(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",vc).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const d6t=u6t;var h6t=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function EI(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function TI(n){return n.getRadiusAxis().inverse?0:1}function Xrt(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var f6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return mn(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),c=On(r.getViewLabels(),function(u){u=fr(u);var d=r.scale,h="ordinal"===d.type?d.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=r.dataToCoord(h),u});Xrt(c),Xrt(s),Xt(h6t,function(u){t.get([u,"show"])&&(!r.scale.isBlank()||"axisLine"===u)&&p6t[u](this.group,t,o,s,l,a,c)},this)}},e.type="angleAxis",e}(R_),p6t={axisLine:function(n,e,t,i,r,o){var c,a=e.getModel(["axisLine","lineStyle"]),s=TI(t),l=s?0:1;(c=0===o[l]?new Yf({shape:{cx:t.cx,cy:t.cy,r:o[s]},style:a.getLineStyle(),z2:1,silent:!0}):new nA({shape:{cx:t.cx,cy:t.cy,r:o[s],r0:o[l]},style:a.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(c)},axisTick:function(n,e,t,i,r,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[TI(t)],c=On(i,function(u){return new eu({shape:EI(t,[l,l+s],u.coord)})});n.add(Ph(c,{style:nr(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),c=o[TI(t)],u=[],d=0;d<r.length;d++)for(var h=0;h<r[d].length;h++)u.push(new eu({shape:EI(t,[c,c+l],r[d][h].coord)}));n.add(Ph(u,{style:nr(s.getModel("lineStyle").getLineStyle(),nr(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),c=l.get("margin"),u=e.get("triggerEvent");Xt(a,function(d,h){var p=l,g=d.tickValue,y=o[TI(t)],b=t.coordToPoint([y+c,d.coord]),w=t.cx,M=t.cy,E=Math.abs(b[0]-w)/y<.3?"center":b[0]>w?"left":"right",k=Math.abs(b[1]-M)/y<.3?"middle":b[1]>M?"top":"bottom";if(s&&s[g]){var j=s[g];ar(j)&&j.textStyle&&(p=new Ws(j.textStyle,l,l.ecModel))}var H=new la({silent:lm.isLabelSilent(e),style:js(p,{x:b[0],y:b[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:E,verticalAlign:k})});if(n.add(H),u){var rt=lm.makeAxisEventDataBase(e);rt.targetType="axisLabel",rt.value=d.rawLabel,kr(H).eventData=rt}},this)},splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<i.length;d++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new eu({shape:EI(t,o,i[d].coord)}))}for(d=0;d<u.length;d++)n.add(Ph(u[d],{style:nr({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],c=0;c<r.length;c++)for(var u=0;u<r[c].length;u++)l.push(new eu({shape:EI(t,o,r[c][u].coord)}));n.add(Ph(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=Math.PI/180,h=-i[0].coord*d,p=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),y=e.get("clockwise"),b=1,w=i.length;b<=w;b++){var M=b===w?i[0].coord:i[b].coord,E=c++%l.length;u[E]=u[E]||[],u[E].push(new Sd({shape:{cx:t.cx,cy:t.cy,r0:p,r:g,startAngle:h,endAngle:-M*d,clockwise:y},silent:!0})),h=-M*d}for(b=0;b<u.length;b++)n.add(Ph(u[b],{style:nr({fill:l[b%l.length]},s.getAreaStyle()),silent:!0}))}}};const m6t=f6t;var g6t=["axisLine","axisTickLabel","axisName"],v6t=["splitLine","splitArea","minorSplitLine"],_6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return mn(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,o=this._axisGroup=new br;this.group.add(o);var a=t.axis,s=a.polar,l=s.getAngleAxis(),c=a.getTicksCoords(),u=a.getMinorTicksCoords(),d=l.getExtent()[0],h=a.getExtent(),p=function b6t(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(s,t,d),g=new lm(t,p);Xt(g6t,g.add,g),o.add(g.getGroup()),X1(r,o,t),Xt(v6t,function(y){t.get([y,"show"])&&!a.scale.isBlank()&&y6t[y](this.group,t,s,d,h,c,u)},this)}},e.type="radiusAxis",e}(R_),y6t={splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<o.length;d++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new Yf({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[d].coord,0)}}))}for(d=0;d<u.length;d++)n.add(Ph(u[d],{style:nr({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,a){if(a.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),c=[],u=0;u<a.length;u++)for(var d=0;d<a[u].length;d++)c.push(new Yf({shape:{cx:t.cx,cy:t.cy,r:a[u][d].coord}}));n.add(Ph(c,{style:nr({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],d=o[0].coord,h=1;h<o.length;h++){var p=c++%l.length;u[p]=u[p]||[],u[p].push(new Sd({shape:{cx:t.cx,cy:t.cy,r0:d,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=o[h].coord}for(h=0;h<u.length;h++)n.add(Ph(u[h],{style:nr({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};const x6t=_6t;function $rt(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function qrt(n,e){return e.dim+n.model.componentIndex}const S6t=function w6t(n,e,t){var i={},r=function C6t(n){var e={};Xt(n,function(i,r){var o=i.getData(),a=i.coordinateSystem,s=a.getBaseAxis(),l=qrt(a,s),c=s.getExtent(),u="category"===s.type?s.getBandWidth():Math.abs(c[1]-c[0])/o.count(),d=e[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;e[l]=d;var p=$rt(i);h[p]||d.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var g=ni(i.get("barWidth"),u),y=ni(i.get("barMaxWidth"),u),b=i.get("barGap"),w=i.get("barCategoryGap");g&&!h[p].width&&(g=Math.min(d.remainedWidth,g),h[p].width=g,d.remainedWidth-=g),y&&(h[p].maxWidth=y),null!=b&&(d.gap=b),null!=w&&(d.categoryGap=w)});var t={};return Xt(e,function(i,r){t[r]={};var o=i.stacks,s=ni(i.categoryGap,i.bandWidth),l=ni(i.gap,1),c=i.remainedWidth,u=i.autoWidthCount,d=(c-s)/(u+(u-1)*l);d=Math.max(d,0),Xt(o,function(y,b){var w=y.maxWidth;w&&w<d&&(w=Math.min(w,c),y.width&&(w=Math.min(w,y.width)),c-=w,y.width=w,u--)}),d=(c-s)/(u+(u-1)*l),d=Math.max(d,0);var p,h=0;Xt(o,function(y,b){y.width||(y.width=d),p=y,h+=y.width*(1+l)}),p&&(h-=p.width*l);var g=-h/2;Xt(o,function(y,b){t[r][b]=t[r][b]||{offset:g,width:y.width},g+=y.width*(1+l)})}),t}(ps(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));e.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),c=qrt(s,l),u=$rt(o),d=r[c][u],h=d.offset,p=d.width,g=s.getOtherAxis(l),y=o.coordinateSystem.cx,b=o.coordinateSystem.cy,w=o.get("barMinHeight")||0,M=o.get("barMinAngle")||0;i[u]=i[u]||[];for(var E=a.mapDimension(g.dim),k=a.mapDimension(l.dim),j=vg(a,E),H="radius"!==l.dim||!o.get("roundCap",!0),rt=g.dataToCoord(0),yt=0,st=a.count();yt<st;yt++){var Lt=a.get(E,yt),kt=a.get(k,yt),te=Lt>=0?"p":"n",ne=rt;j&&(i[u][kt]||(i[u][kt]={p:rt,n:rt}),ne=i[u][kt][te]);var de=void 0,Te=void 0,be=void 0,Ve=void 0;if("radius"===g.dim){var Fe=g.dataToCoord(Lt)-rt,Ke=l.dataToCoord(kt);Math.abs(Fe)<w&&(Fe=(Fe<0?-1:1)*w),de=ne,Te=ne+Fe,Ve=(be=Ke-h)-p,j&&(i[u][kt][te]=Te)}else{var In=g.dataToCoord(Lt,H)-rt,Nn=l.dataToCoord(kt);Math.abs(In)<M&&(In=(In<0?-1:1)*M),Te=(de=Nn+h)+p,be=ne,Ve=ne+In,j&&(i[u][kt][te]=Ve)}a.setItemLayout(yt,{cx:y,cy:b,r0:de,r:Te,startAngle:-be*Math.PI/180,endAngle:-Ve*Math.PI/180,clockwise:be>=Ve})}}})};var M6t={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},E6t={splitNumber:5},T6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="polar",e}(Il);function _z(n,e){e=e||{};var i=n.axis,r={},o=i.position,a=i.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?c.vertical[o]:l[0],"horizontal"===a?c.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Jc(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var A6t=["axisLine","axisTickLabel","axisName"],I6t=["splitArea","splitLine"],P6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return mn(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new br;var l=_z(t),c=new lm(t,l);Xt(A6t,c.add,c),a.add(this._axisGroup),a.add(c.getGroup()),Xt(I6t,function(u){t.get([u,"show"])&&k6t[u](this,this.group,this._axisGroup,t)},this),X1(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){uet(this)},e.type="singleAxis",e}(R_),k6t={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),c=i.coordinateSystem.getRect(),u=r.isHorizontal(),d=[],h=0,p=r.getTicksCoords({tickModel:o}),g=[],y=[],b=0;b<p.length;++b){var w=r.toGlobalCoord(p[b].coord);u?(g[0]=w,g[1]=c.y,y[0]=w,y[1]=c.y+c.height):(g[0]=c.x,g[1]=w,y[0]=c.x+c.width,y[1]=w);var M=new eu({shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},silent:!0});lb(M.shape,l);var E=h++%s.length;d[E]=d[E]||[],d[E].push(M)}var k=a.getLineStyle(["color"]);for(b=0;b<d.length;++b)e.add(Ph(d[b],{style:nr({stroke:s[b%s.length]},k),silent:!0}))}},splitArea:function(n,e,t,i){cet(n,t,i,i)}};const R6t=P6t;var Krt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(ca);gc(Krt,bC.prototype);const yz=Krt;var L6t=function(n){function e(t,i,r,o,a){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return mn(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(pf);const O6t=L6t;var Qrt=["single"],N6t=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=Qrt,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=new O6t(this.dimension,QA(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();Xt(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),wb(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=Lc({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return r-a+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return Jrt(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return Jrt(t)===this?this.pointToData(i):null},n}();function Jrt(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const F6t=N6t;var V6t={create:function B6t(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new F6t(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",vc).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:Qrt};const z6t=V6t;var tot=["x","y"],U6t=["width","height"],G6t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var s=r.axis,l=s.coordinateSystem,c=bz(l,1-DI(s)),u=l.dataToPoint(i)[0],d=o.get("type");if(d&&"none"!==d){var h=dz(o),p=H6t[d](s,u,c);p.style=h,t.graphicKey=p.type,t.pointer=p}Lrt(i,t,_z(r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=_z(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=hz(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,s=a.coordinateSystem,l=DI(a),c=bz(s,l),u=[t.x,t.y];u[l]+=i[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var d=bz(s,1-l),h=(d[1]+d[0])/2,p=[h,h];return p[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e}(uz),H6t={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:fz([e,t[0]],[e,t[1]],DI(n))}},shadow:function(n,e,t){var i=n.getBandWidth();return{type:"Rect",shape:Ort([e-i/2,t[0]],[i,t[1]-t[0]],DI(n))}}};function DI(n){return n.isHorizontal()?0:1}function bz(n,e){var t=n.getRect();return[t[tot[e]],t[tot[e]]+t[U6t[e]]]}const j6t=G6t;var W6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="single",e}(Il),Y6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i,r){var o=J0(t);n.prototype.init.apply(this,arguments),eot(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),eot(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(ca);function eot(n,e){var i,t=n.cellSize;1===(i=Rn(t)?t:n.cellSize=[t,t]).length&&(i[1]=i[0]);var r=On([0,1],function(o){return function ckt(n,e){return null!=n[c_[e][0]]||null!=n[c_[e][1]]&&null!=n[c_[e][2]]}(e,o)&&(i[o]="auto"),null!=i[o]&&"auto"!==i[o]});dg(n,e,{type:"box",ignoreSize:r})}const X6t=Y6t;var $6t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var a=t.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),c=i.getLocaleModel();this._renderDayRect(t,s,o),this._renderLines(t,s,l,o),this._renderYearText(t,s,l,o),this._renderMonthText(t,c,l,o),this._renderWeekText(t,c,s,l,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),c=i.start.time;c<=i.end.time;c=o.getNextNDay(c,1).time){var u=o.dataToRect([c],!1).tl,d=new Qo({shape:{x:u[0],y:u[1],width:s,height:l},cursor:"default",style:a});r.add(d)}},e.prototype._renderLines=function(t,i,r,o){var a=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=i.start,h=0;d.time<=i.end.time;h++){g(d.formatedDate),0===h&&(d=s.getDateInfo(i.start.y+"-"+i.start.m));var p=d.date;p.setMonth(p.getMonth()+1),d=s.getDateInfo(p)}function g(y){a._firstDayOfMonth.push(s.getDateInfo(y)),a._firstDayPoints.push(s.dataToRect([y],!1).tl);var b=a._getLinePointsOfOneWeek(t,y,r);a._tlpoints.push(b[0]),a._blpoints.push(b[b.length-1]),c&&a._drawSplitline(b,l,o)}g(s.getNextNDay(i.end.time,1).formatedDate),c&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,u,r),l,o),c&&this._drawSplitline(a._getEdgesPoints(a._blpoints,u,r),l,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new Ed({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,a=o.getDateInfo(i),s=[],l=0;l<7;l++){var c=o.getNextNDay(a.time,l),u=o.dataToRect([c.time],!1);s[2*c.day]=u.tl,s[2*c.day+1]=u["horizontal"===r?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,i){return ci(t)&&t?function akt(n,e,t){return Xt(e,function(i,r){n=n.replace("{"+r+"}",t?bd(i):i)}),n}(t,i):Ki(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,r,o,a){var s=i[0],l=i[1],c=["center","bottom"];"bottom"===o?(l+=a,c=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,c=["center","top"]):l-=a;var u=0;return("left"===o||"right"===o)&&(u=Math.PI/2),{rotation:u,x:s,y:l,style:{align:c[0],verticalAlign:c[1]}}},e.prototype._renderYearText=function(t,i,r,o){var a=t.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,d=(c[0][1]+c[1][1])/2,h="horizontal"===r?0:1,p={top:[u,c[h][1]],bottom:[u,c[1-h][1]],left:[c[1-h][0],d],right:[c[h][0],d]},g=i.start.y;+i.end.y>+i.start.y&&(g=g+"-"+i.end.y);var y=a.get("formatter"),w=this._formatterLabel(y,{start:i.start.y,end:i.end.y,nameMap:g}),M=new la({z2:30,style:js(a,{text:w})});M.attr(this._yearTextPositionControl(M,p[l],r,l,s)),o.add(M)}},e.prototype._monthTextPositionControl=function(t,i,r,o,a){var s="left",l="top",c=t[0],u=t[1];return"horizontal"===r?(u+=a,i&&(s="center"),"start"===o&&(l="bottom")):(c+=a,i&&(l="middle"),"start"===o&&(s="right")),{x:c,y:u,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,i,r,o){var a=t.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),c=a.get("position"),u=a.get("align"),d=[this._tlpoints,this._blpoints];(!s||ci(s))&&(s&&(i=RF(s)||i),s=i.get(["time","monthAbbr"])||[]);var h="start"===c?0:1,p="horizontal"===r?0:1;l="start"===c?-l:l;for(var g="center"===u,y=0;y<d[h].length-1;y++){var b=d[h][y].slice(),w=this._firstDayOfMonth[y];g&&(b[p]=(this._firstDayPoints[y][p]+d[0][y+1][p])/2);var E=a.get("formatter"),k=s[+w.m-1],j={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:k},H=this._formatterLabel(E,j),rt=new la({z2:30,style:Dn(js(a,{text:H}),this._monthTextPositionControl(b,g,r,c,l))});o.add(rt)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,a){var s="center",l="middle",c=t[0],u=t[1],d="start"===r;return"horizontal"===i?(c=c+o+(d?1:-1)*a[0]/2,s=d?"right":"left"):(u=u+o+(d?1:-1)*a[1]/2,l=d?"bottom":"top"),{x:c,y:u,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,i,r,o,a){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,c=s.get("position"),u=s.get("nameMap"),d=s.get("margin"),h=l.getFirstDayOfWeek();u&&!ci(u)||(u&&(i=RF(u)||i),u=i.get(["time","dayOfWeekShort"])||On(i.get(["time","dayOfWeekAbbr"]),function(j){return j[0]}));var g=l.getNextNDay(r.end.time,7-r.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];d=ni(d,Math.min(y[1],y[0])),"start"===c&&(g=l.getNextNDay(r.start.time,-(7+r.fweek)).time,d=-d);for(var b=0;b<7;b++){var E,w=l.getNextNDay(g,b),M=l.dataToRect([w.time],!1).center;E=Math.abs((b+h)%7);var k=new la({z2:30,style:Dn(js(s,{text:u[E]}),this._weekTextPositionControl(M,o,c,d,y))});a.add(k)}}},e.type="calendar",e}(Il);const q6t=$6t;var xz=864e5,K6t=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=Vf(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),a=o<10?"0"+o:""+o,s=e.getDay();return{y:t+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+a,date:e}},n.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];Xt([0,1],function(d){u(o,d)&&(a[r[d]]=o[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=Lc(a,l);function u(d,h){return null!=d[h]&&"auto"!==d[h]}Xt([0,1],function(d){u(o,d)||(o[d]=c[r[d]]/s[d])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){Rn(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+xz))return[NaN,NaN];var a=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=not(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=not(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(Rn(e)&&1===e.length&&(e=e[0]),Rn(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var i,t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];t[0].time>t[1].time&&(i=!0,t.reverse());var r=Math.floor(t[1].time/xz)-Math.floor(t[0].time/xz)+1,o=new Date(t[0].time),a=o.getDate(),s=t[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var c=o.getTime()-t[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-t[1].time)*c>0;)r-=c,o.setDate(l-c);var u=Math.floor((r+t[0].day+6)/7),d=i?1-u:u-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:u,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function not(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}const Q6t=K6t;function iot(n,e){var t;return Xt(e,function(i){null!=n[i]&&"auto"!==n[i]&&(t=!0)}),t}var rot=["transition","enterFrom","leaveTo"],nHt=rot.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function AI(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?rot:nHt,r=0;r<i.length;r++){var o=i[r];null==n[o]&&null!=e[o]&&(n[o]=e[o])}}var rHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return mn(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,a=r.elements=i?[]:r.elements,s=[];this._flatten(o,s,null);var l=yX(a,s,"normalMerge"),c=this._elOptionsToUpdate=[];Xt(l,function(u,d){var h=u.newOption;h&&(c.push(h),function tHt(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}(u,h),function eHt(n,e,t){var i=Dn({},t),r=n[e],o=t.$action||"merge";"merge"===o?r?($r(r,i,!0),dg(r,i,{ignoreSize:!0}),q$(t,r),AI(t,r),AI(t,r,"shape"),AI(t,r,"style"),AI(t,r,"extra"),t.clipPath=r.clipPath):n[e]=i:"replace"===o?n[e]=i:"remove"===o&&r&&(n[e]=null)}(a,d,h),function iHt(n,e){if(n&&(n.hv=e.hv=[iot(e,["left","right"]),iot(e,["top","bottom"])],"group"===n.type)){var t=n,i=e;null==t.width&&(t.width=i.width=0),null==t.height&&(t.height=i.height=0)}}(a[d],h))},this),r.elements=ps(a,function(u){return u&&delete u.$action,null!=u})},e.prototype._flatten=function(t,i,r){Xt(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(ca),oot={path:null,compoundPath:null,group:br,image:gu,text:la},Fh=Ko(),oHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(){this._elMap=Wi()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=t.get("z"),s=t.get("zlevel");Xt(i,function(l){var c=Rc(l.id,null),u=null!=c?r.get(c):null,d=Rc(l.parentId,null),h=null!=d?r.get(d):o,p=l.type,g=l.style;"text"===p&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var y=l.textContent,b=l.textConfig;if(g&&lrt(g,p,!!b,!!y)){var w=crt(g,p,!0);!b&&w.textConfig&&(b=l.textConfig=w.textConfig),!y&&w.textContent&&(y=w.textContent)}var M=function aHt(n){return n=Dn({},n),Xt(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat($$),function(e){delete n[e]}),n}(l),E=l.$action||"merge",k="merge"===E,j="replace"===E;if(k){var rt=u;(H=!u)?rt=aot(c,h,l.type,r):(rt&&(Fh(rt).isNew=!1),yrt(rt)),rt&&(xI(rt,M,t,{isInit:H}),sot(rt,l,a,s))}else if(j){II(u,l,r,t);var yt=aot(c,h,l.type,r);yt&&(xI(yt,M,t,{isInit:!0}),sot(yt,l,a,s))}else"remove"===E&&(mrt(u,l),II(u,l,r,t));var st=r.get(c);if(st&&y)if(k){var Lt=st.getTextContent();Lt?Lt.attr(y):st.setTextContent(new la(y))}else j&&st.setTextContent(new la(y));if(st){var kt=l.clipPath;if(kt){var te=kt.type,ne=void 0,H=!1;if(k){var de=st.getClipPath();ne=(H=!de||Fh(de).type!==te)?wz(te):de}else j&&(H=!0,ne=wz(te));st.setClipPath(ne),xI(ne,kt,t,{isInit:H}),CI(ne,kt.keyframeAnimation,t)}var Te=Fh(st);st.setTextConfig(b),Te.option=l,function sHt(n,e,t){var i=kr(n).eventData;!n.silent&&!n.ignore&&!i&&(i=kr(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}(st,t,l),cb({el:st,componentModel:t,itemName:st.name,itemTooltipOption:l.tooltip}),CI(st,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,a=this._elMap,s=i.getWidth(),l=i.getHeight(),c=["x","y"],u=0;u<r.length;u++)if((p=null!=(h=Rc((d=r[u]).id,null))?a.get(h):null)&&p.isGroup){var y=(g=p.parent)===o,b=Fh(p),w=Fh(g);b.width=ni(b.option.width,y?s:w.width)||0,b.height=ni(b.option.height,y?l:w.height)||0}for(u=r.length-1;u>=0;u--){var d,h,p;if(p=null!=(h=Rc((d=r[u]).id,null))?a.get(h):null){w=Fh(g=p.parent);var g,E={},k=WD(p,d,g===o?{width:s,height:l}:{width:w.width,height:w.height},null,{hv:d.hv,boundingMode:d.bounding},E);if(!Fh(p).isNew&&k){for(var j=d.transition,H={},rt=0;rt<c.length;rt++){var yt=c[rt],st=E[yt];j&&(H_(j)||uo(j,yt)>=0)?H[yt]=st:p[yt]=st}fa(p,H,t,0)}else p.attr(E)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){II(r,Fh(r).option,i,t._lastGraphicModel)}),this._elMap=Wi()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Il);function wz(n){var t=new(xi(oot,n)?oot[n]:_B(n))({});return Fh(t).type=n,t}function aot(n,e,t,i){var r=wz(t);return e.add(r),i.set(n,r),Fh(r).id=n,Fh(r).isNew=!0,r}function II(n,e,t,i){n&&n.parent&&("group"===n.type&&n.traverse(function(o){II(o,e,t,i)}),wI(n,e,i),t.removeKey(Fh(n).id))}function sot(n,e,t,i){n.isGroup||Xt([["cursor",Mh.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var o=r[0];xi(e,o)?n[o]=qr(e[o],r[1]):null==n[o]&&(n[o]=r[1])}),Xt(Ro(e),function(r){if(0===r.indexOf("on")){var o=e[r];n[r]=Ki(o)?o:null}}),xi(e,"draggable")&&(n.draggable=e.draggable),null!=e.name&&(n.name=e.name),null!=e.id&&(n.id=e.id)}var lot=["x","y","radius","angle","single"],cHt=["cartesian2d","polar","singleAxis"];function Tg(n){return n+"Axis"}function cot(n){var e=n.ecModel,t={infoList:[],infoMap:Wi()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(Tg(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=t.infoMap.get(s);l||(t.infoList.push(l={model:a,axisModels:[]}),t.infoMap.set(s,l)),l.axisModels.push(o)}}}),t}var Cz=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),hHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return mn(e,n),e.prototype.init=function(t,i,r){var o=uot(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=uot(t);$r(this.option,t,!0),$r(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;Xt([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=Wi();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return Xt(lot,function(r){var o=this.getReferringComponents(Tg(r),wIt);if(o.specified){i=!0;var a=new Cz;Xt(o.models,function(s){a.add(s.componentIndex)}),t.set(r,a)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";l(r.findComponents({mainType:a+"Axis"}),a)}function l(c,u){var d=c[0];if(d){var h=new Cz;if(h.add(d.componentIndex),t.set(u,h),o=!1,"x"===u||"y"===u){var p=d.getReferringComponents("grid",vc).models[0];p&&Xt(c,function(g){d.componentIndex!==g.componentIndex&&p===g.getReferringComponents("grid",vc).models[0]&&h.add(g.componentIndex)})}}}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single"),o&&Xt(lot,function(c){if(o){var u=r.findComponents({mainType:Tg(c),filter:function(h){return"category"===h.get("type",!0)}});if(u[0]){var d=new Cz;d.add(u[0].componentIndex),t.set(c,d),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");Xt([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){null==t&&(t=this.ecModel.getComponent(Tg(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){Xt(r.indexList,function(a){t.call(i,o,a)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(Tg(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;Xt([["start","startValue"],["end","endValue"]],function(o){(null!=t[o[0]]||null!=t[o[1]])&&(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;Xt(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(a,s.indexList[l]);if(c.hostedBy(this))return c;i||(i=c)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(ca);function uot(n){var e={};return Xt(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const HC=hHt;var fHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="dataZoom.select",e}(HC);const pHt=fHt;var mHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(Il);const Sz=mHt;var gHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="dataZoom.select",e}(Sz);const vHt=gHt;var Pb=Xt,dot=Sh,_Ht=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function uHt(n){var e=n.get("coordinateSystem");return uo(cHt,e)>=0}(t)){var i=Tg(this._dimName),r=t.getReferringComponents(i,vc).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return fr(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var c,t=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Pb(["start","end"],function(h,p){var g=e[h],y=e[h+"Value"];"percent"===o[p]?(null==g&&(g=a[p]),y=r.parse(ls(g,a,t))):(c=!0,g=ls(y=null==y?t[p]:r.parse(y),t,a)),l[p]=null==y||isNaN(y)?t[p]:y,s[p]=null==g||isNaN(g)?a[p]:g}),dot(l),dot(s);var u=this._minMaxSpan;function d(h,p,g,y,b){var w=b?"Span":"ValueSpan";z_(0,h,g,"all",u["min"+w],u["max"+w]);for(var M=0;M<2;M++)p[M]=ls(h[M],g,y,!0),b&&(p[M]=r.parse(p[M]))}return c?d(l,s,t,a,!1):d(s,l,a,t,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function yHt(n,e,t){var i=[1/0,-1/0];Pb(t,function(a){!function eBt(n,e,t){e&&Xt(JA(e,t),function(i){var r=e.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}(i,a.getData(),e)});var r=n.getAxisModel(),o=ztt(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&Pb(r,function(l){var c=l.getData(),u=c.mapDimensionsAll(i);if(u.length){if("weakFilter"===o){var d=c.getStore(),h=On(u,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var g,y,b,w=0;w<u.length;w++){var M=d.get(h[w],p),E=!isNaN(M),k=M<a[0],j=M>a[1];if(E&&!k&&!j)return!0;E&&(b=!0),k&&(g=!0),j&&(y=!0)}return b&&g&&y})}else Pb(u,function(p){if("empty"===o)l.setData(c=c.map(p,function(y){return function s(l){return l>=a[0]&&l<=a[1]}(y)?y:NaN}));else{var g={};g[p]=a,c.selectRange(g)}});Pb(u,function(p){c.setApproximateExtent(a,p)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Pb(["min","max"],function(r){var o=t.get(r+"Span"),a=t.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=ls(i[0]+a,i,[0,100],!0):null!=o&&(a=ls(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=oX(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==t[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}();const bHt=_Ht;var xHt={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(Tg(a),s);r(a,s,l,o)})})}e(function(r,o,a,s){a.__dzAxisProxy=null});var t=[];e(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new bHt(r,o,s,n),t.push(a.__dzAxisProxy))});var i=Wi();return Xt(t,function(r){Xt(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}};const wHt=xHt;var hot=!1;function Mz(n){hot||(hot=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,wHt),function CHt(n){n.registerAction("dataZoom",function(e,t){Xt(function dHt(n,e){var o,t=Wi(),i=[],r=Wi();n.eachComponent({mainType:"dataZoom",query:e},function(u){r.get(u.uid)||s(u)});do{o=!1,n.eachComponent("dataZoom",a)}while(o);function a(u){!r.get(u.uid)&&function l(u){var d=!1;return u.eachTargetAxis(function(h,p){var g=t.get(h);g&&g[p]&&(d=!0)}),d}(u)&&(s(u),o=!0)}function s(u){r.set(u.uid,!0),i.push(u),function c(u){u.eachTargetAxis(function(d,h){(t.get(d)||t.set(d,[]))[h]=!0})}(u)}return i}(t,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function SHt(n){n.registerComponentModel(pHt),n.registerComponentView(vHt),Mz(n)}var Bh=function n(){},fot={};function kb(n,e){fot[n]=e}function pot(n){return fot[n]}var MHt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Xt(this.option.feature,function(i,r){var o=pot(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),$r(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(ca);const EHt=MHt;function mot(n,e){var t=Q0(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new Qo({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var DHt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;if(a.removeAll(),t.get("show")){var s=+t.get("itemSize"),l="vertical"===t.get("orient"),c=t.get("feature")||{},u=this._features||(this._features={}),d=[];Xt(c,function(g,y){d.push(y)}),new om(this._featureNames||[],d).add(h).update(h).remove(Nr(h,null)).execute(),this._featureNames=d,function THt(n,e,t){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:t.getWidth(),height:t.getHeight()},a=Lc(i,o,r);u_(e.get("orient"),n,e.get("itemGap"),a.width,a.height),WD(n,i,o,r)}(a,t,r),a.add(mot(a.getBoundingRect(),t)),l||a.eachChild(function(g){var y=g.__title,b=g.ensureState("emphasis"),w=b.textConfig||(b.textConfig={}),M=g.getTextContent(),E=M&&M.ensureState("emphasis");if(E&&!Ki(E)&&y){var k=E.style||(E.style={}),j=_1(y,la.makeFont(k)),H=g.x+a.x,yt=!1;g.y+a.y+s+j.height>r.getHeight()&&(w.position="top",yt=!0);var st=yt?-5-j.height:s+10;H+j.width/2>r.getWidth()?(w.position=["100%",st],k.align="right"):H-j.width/2<0&&(w.position=[0,st],k.align="left")}})}function h(g,y){var k,b=d[g],w=d[y],M=c[b],E=new Ws(M,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===b&&(M.title=o.newTitle),b&&!w){if(function AHt(n){return 0===n.indexOf("my")}(b))k={onclick:E.option.onclick,featureName:b};else{var j=pot(b);if(!j)return;k=new j}u[b]=k}else if(!(k=u[w]))return;k.uid=$0("toolbox-feature"),k.model=E,k.ecModel=i,k.api=r;var H=k instanceof Bh;b||!w?!E.get("show")||H&&k.unusable?H&&k.remove&&k.remove(i,r):(function p(g,y,b){var j,H,w=g.getModel("iconStyle"),M=g.getModel(["emphasis","iconStyle"]),E=y instanceof Bh&&y.getIcons?y.getIcons():g.get("icon"),k=g.get("title")||{};ci(E)?(j={})[b]=E:j=E,ci(k)?(H={})[b]=k:H=k;var rt=g.iconPaths={};Xt(j,function(yt,st){var Lt=$1(yt,{},{x:-s/2,y:-s/2,width:s,height:s});Lt.setStyle(w.getItemStyle()),Lt.ensureState("emphasis").style=M.getItemStyle();var te=new la({style:{text:H[st],align:M.get("textAlign"),borderRadius:M.get("textBorderRadius"),padding:M.get("textPadding"),fill:null},ignore:!0});Lt.setTextContent(te),cb({el:Lt,componentModel:t,itemName:st,formatterParamsExtra:{title:H[st]}}),Lt.__title=H[st],Lt.on("mouseover",function(){var ne=M.getItemStyle(),de=l?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";te.setStyle({fill:M.get("textFill")||ne.fill||ne.stroke||"#000",backgroundColor:M.get("textBackgroundColor")}),Lt.setTextConfig({position:M.get("textPosition")||de}),te.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==g.get(["iconStatus",st])&&r.leaveEmphasis(this),te.hide()}),("emphasis"===g.get(["iconStatus",st])?em:nm)(Lt),a.add(Lt),Lt.on("click",yi(y.onclick,y,i,r,st)),rt[st]=Lt})}(E,k,b),E.setIconStatus=function(rt,yt){var st=this.option,Lt=this.iconPaths;st.iconStatus=st.iconStatus||{},st.iconStatus[rt]=yt,Lt[rt]&&("emphasis"===yt?em:nm)(Lt[rt])},k instanceof Bh&&k.render&&k.render(E,i,r,o)):H&&k.dispose&&k.dispose(i,r)}},e.prototype.updateView=function(t,i,r,o){Xt(this._features,function(a){a instanceof Bh&&a.updateView&&a.updateView(a.model,i,r,o)})},e.prototype.remove=function(t,i){Xt(this._features,function(r){r instanceof Bh&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){Xt(this._features,function(r){r instanceof Bh&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(Il);const IHt=DHt;var PHt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=aa.browser;if(Ki(MouseEvent)&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=o+"."+s,u.target="_blank",u.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||a){var h=l.split(","),p=h[0].indexOf("base64")>-1,g=a?decodeURIComponent(h[1]):h[1];p&&(g=window.atob(g));var y=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=g.length,w=new Uint8Array(b);b--;)w[b]=g.charCodeAt(b);var M=new Blob([w]);window.navigator.msSaveOrOpenBlob(M,y)}else{var E=document.createElement("iframe");document.body.appendChild(E);var k=E.contentWindow,j=k.document;j.open("image/svg+xml","replace"),j.write(g),j.close(),k.focus(),j.execCommand("SaveAs",!0,y),document.body.removeChild(E)}}else{var H=r.get("lang"),rt='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',yt=window.open();yt.document.write(rt),yt.document.title=o}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(Bh);const kHt=PHt;var got="__ec_magicType_stack__",RHt=[["line","bar"],["stack"]],LHt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return Xt(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(vot[r]){var s={series:[]};Xt(RHt,function(d){uo(d,r)>=0&&Xt(d,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(d){var g=vot[r](d.subType,d.id,d,o);g&&(nr(g,d.option),s.series.push(g));var y=d.coordinateSystem;if(y&&"cartesian2d"===y.type&&("line"===r||"bar"===r)){var b=y.getAxesByScale("ordinal")[0];if(b){var M=b.dim+"Axis",k=d.getReferringComponents(M,vc).models[0].componentIndex;s[M]=s[M]||[];for(var j=0;j<=k;j++)s[M][k]=s[M][k]||{};s[M][k].boundaryGap="bar"===r}}});var c,u=r;"stack"===r&&(c=$r({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},e}(Bh),vot={line:function(n,e,t,i){if("bar"===n)return $r({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if("line"===n)return $r({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===got;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),$r({id:e,stack:r?"":got},i.get(["option","stack"])||{},!0)}};qf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const OHt=LHt;var PI=new Array(60).join("-"),Rb="\t";function FHt(n){var e=[];return Xt(n,function(t,i){var r=t.categoryAxis,a=t.valueAxis.dim,s=[" "].concat(On(t.series,function(p){return p.name})),l=[r.model.getCategories()];Xt(t.series,function(p){var g=p.getRawData();l.push(p.getRawData().mapArray(g.mapDimension(a),function(y){return y}))});for(var c=[s.join(Rb)],u=0;u<l[0].length;u++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][u]);c.push(d.join(Rb))}e.push(c.join("\n"))}),e.join("\n\n"+PI+"\n\n")}function BHt(n){return On(n,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var o=arguments.length,s=t.getName(arguments[o-1]),l=0;l<o-1;l++)r[l]=arguments[l];i.push((s?s+Rb:"")+r.join(Rb))}),i.join("\n")}).join("\n\n"+PI+"\n\n")}function kI(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Ez=new RegExp("["+Rb+"]+","g");var jHt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var d=o.get("optionToContent"),h=o.get("contentToOption"),p=function VHt(n){var e=function NHt(n){var e={},t=[],i=[];return n.eachRawSeries(function(r){var o=r.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)t.push(r);else{var a=o.getBaseAxis();if("category"===a.type){var s=a.dim+"_"+a.index;e[s]||(e[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),e[s].series.push(r)}else t.push(r)}}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}(n);return{value:ps([FHt(e.seriesGroupByCategoryAxis),BHt(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+PI+"\n\n"),meta:e.meta}}(t);if(Ki(d)){var g=d(i.getOption());ci(g)?c.innerHTML=g:t1(g)&&c.appendChild(g)}else{u.readOnly=o.get("readOnly");var y=u.style;y.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",y.color=o.get("textColor"),y.borderColor=o.get("textareaBorderColor"),y.backgroundColor=o.get("textareaColor"),u.value=p.value,c.appendChild(u)}var b=p.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var M="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),k=document.createElement("div");M+=";background-color:"+o.get("buttonColor"),M+=";color:"+o.get("buttonTextColor");var j=this;function H(){r.removeChild(a),j._dom=null}lN(E,"click",H),lN(k,"click",function(){if(null==h&&null!=d||null!=h&&null==d)H();else{var rt;try{rt=Ki(h)?h(c,i.getOption()):function HHt(n,e){var t=n.split(new RegExp("\n*"+PI+"\n*","g")),i={series:[]};return Xt(t,function(r,o){if(function zHt(n){if(n.slice(0,n.indexOf("\n")).indexOf(Rb)>=0)return!0}(r)){var a=function UHt(n){for(var e=n.split(/\n+/g),i=[],r=On(kI(e.shift()).split(Ez),function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var a=kI(e[o]).split(Ez);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}(r),s=e[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function GHt(n){for(var e=n.split(/\n+/g),t=kI(e.shift()),i=[],r=0;r<e.length;r++){var o=kI(e[r]);if(o){var a=o.split(Ez),s="",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:t,data:i}}(r),i.series.push(a)}),i}(u.value,b)}catch(yt){throw H(),new Error("Data view format error "+yt)}rt&&i.dispatchAction({type:"changeDataView",newOption:rt}),H()}}),E.innerHTML=l[1],k.innerHTML=l[2],k.style.cssText=E.style.cssText=M,!o.get("readOnly")&&w.appendChild(k),w.appendChild(E),a.appendChild(s),a.appendChild(c),a.appendChild(w),c.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Bh);function WHt(n,e){return On(n,function(t,i){var r=e&&e[i];if(ar(r)&&!Rn(r)){ar(t)&&!Rn(t)||(t={value:t});var a=null!=r.name&&null==t.name;return t=nr(t,r),a&&delete t.name,t}return t})}qf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];Xt(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var o=r.get("data");t.push({name:i.name,data:WHt(i.data,o)})}else t.push(Dn({type:"scatter"},i))}),e.mergeOption(nr({series:t},n.newOption))});const ZHt=jHt;var _ot=Xt,yot=Ko();function Tz(n){var e=yot(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var KHt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.onclick=function(t,i){(function $Ht(n){yot(n).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(Bh);qf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const QHt=KHt;var JHt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],tjt=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=bot(t,e);Xt(ejt,function(a,s){(!i||!i.include||uo(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=Az[i.brushType](0,o,r);i.__rangeOffset={offset:Sot[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){Xt(e,function(r){var o=this.findTargetInfo(r,t);o&&!0!==o&&Xt(o.coordSyses,function(a){var s=Az[r.brushType](1,a,r.range,!0);i(r,s.values,a,t)})},this)},n.prototype.setInputRanges=function(e,t){Xt(e,function(i){var r=this.findTargetInfo(i,t);if(i.range=i.range||[],r&&!0!==r){i.panelId=r.panelId;var o=Az[i.brushType](0,r.coordSys,i.coordRange),a=i.__rangeOffset;i.range=a?Sot[i.brushType](o.values,a.offset,function njt(n,e){var t=Eot(n),i=Eot(e),r=[t[0]/i[0],t[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(o.xyMinMax,a.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(e,t){return On(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Cit(r),isTargetByCursor:Mit(r,e,i.coordSysModel),getLinearBrushOtherExtent:Sit(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return!0===r||r&&uo(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=bot(t,e),o=0;o<i.length;o++){var a=i[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<xot.length;l++)if(xot[l](r,a))return a}return!0},n}();function Dz(n){return n[0]>n[1]&&n.reverse(),n}function bot(n,e){return w1(n,e,{includeMainTypes:JHt})}var ejt={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Wi(),a={},s={};!t&&!i&&!r||(Xt(t,function(l){var c=l.axis.grid.model;o.set(c.id,c),a[c.id]=!0}),Xt(i,function(l){var c=l.axis.grid.model;o.set(c.id,c),s[c.id]=!0}),Xt(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=[];Xt(l.coordinateSystem.getCartesians(),function(d,h){(uo(t,d.getAxis("x").model)>=0||uo(i,d.getAxis("y").model)>=0)&&u.push(d)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:wot.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){Xt(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:wot.geo})})}},xot=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],wot={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(v_(n)),e}},Az={lineX:Nr(Cot,0),lineY:Nr(Cot,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),a=[Dz([r[0],o[0]]),Dz([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:On(t,function(a){var s=n?e.pointToData(a,i):e.dataToPoint(a,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function Cot(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=Dz(On([0,1],function(s){return e?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var Sot={lineX:Nr(Mot,0),lineY:Nr(Mot,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return On(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function Mot(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function Eot(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const Iz=tjt;var Pz=Xt,ijt=function vIt(n){return vX+n}("toolbox-dataZoom_"),rjt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new BV(r.getZr()),this._brushController.on("brush",yi(this._onBrush,this)).mount()),function sjt(n,e,t,i,r){var o=t._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive),t._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var s=new Iz(kz(n),e,{include:["grid"]}).makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(!(!o||!s.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(t,i,this,o,r),function ajt(n,e){n.setIconStatus("back",function qHt(n){return Tz(n).length}(e)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,r){ojt[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new Iz(kz(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(c,u,d){if("cartesian2d"===d.type){var h=c.brushType;"rect"===h?(s("x",d,u[0]),s("y",d,u[1])):s({lineX:"x",lineY:"y"}[h],d,u)}}),function YHt(n,e){var t=Tz(n);_ot(e,function(i,r){for(var o=t.length-1;o>=0&&!t[o][r];o--);if(o<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}(o,r),this._dispatchZoomAction(r)}function s(c,u,d){var h=u.getAxis(c),p=h.model,g=function l(c,u,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(p){p.getAxisModel(c,u.componentIndex)&&(h=p)}),h}(c,p,o),y=g.findRepresentativeAxisProxy(p).getMinMaxSpan();(null!=y.minValueSpan||null!=y.maxValueSpan)&&(d=z_(0,d.slice(),h.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:d[0],endValue:d[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];Pz(t,function(r,o){i.push(fr(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Bh),ojt={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function XHt(n){var e=Tz(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return _ot(t,function(r,o){for(var a=e.length-1;a>=0;a--)if(r=e[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function kz(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}!function mkt(n,e){Ju(null==HF.get(n)&&e),HF.set(n,e)}("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var i=e.getModel(t),r=[],a=w1(n,kz(i));return Pz(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),Pz(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),r}function s(l,c,u){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:ijt+c+d};h[u]=d,r.push(h)}});const ljt=rjt;var ujt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ca);const djt=ujt;function Tot(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function Dot(n){if(aa.domSupported)for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}var Aot=Dot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Iot(n,e){if(!n)return e;e=Z$(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var pjt=Iot(Dot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Rz=Iot(Aot,"transform"),mjt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(aa.transform3dSupported?"will-change:transform;":"");function Pot(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!aa.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=aa.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+Rz+":"+a+";":[["top",0],["left",0],[Aot,a]]}function kot(n,e,t,i,r){var o=e&&e.painter;if(t){var a=o&&o.getViewportRoot();a&&function GDt(n,e,t,i,r){rN(iN,e,i,r,!0)&&rN(n,t,iN[0],iN[1])}(n,a,document.body,i,r)}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var xjt=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,aa.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),a=this._appendToBody=i&&i.appendToBody;kot(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(r):e.appendChild(r),this._container=e;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=o.handler;bh(o.painter.getViewportRoot(),l,!0),c.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){var t=this._container,i=function fjt(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==i&&(r.position="relative");var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=mjt+function bjt(n,e,t){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=eK(n,"html");return i.push("box-shadow:"+l+"px "+c+"px "+a+"px "+s),e&&r&&i.push(function _jt(n,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+t,r="opacity"+i+",visibility"+i;return e||(i=" "+n+"s "+t,r+=aa.transformSupported?","+Rz+i:",left"+i+",top"+i),pjt+":"+r}(r,t)),o&&i.push("background-color:"+o),Xt(["width","color","radius"],function(p){var g="border-"+p,y=Z$(g),b=n.get(y);null!=b&&i.push(g+":"+b+("color"===p?"":"px"))}),i.push(function yjt(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(3*t/2)+"px");var r=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,a=n.get("textShadowOffsetX")||0,s=n.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),Xt(["decoration","align"],function(l){var c=n.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}(u)),null!=d&&i.push("padding:"+Q0(d).join("px ")+"px"),i.join(";")+";"}(e,!this._firstShow,this._longHide)+Pot(o[0],o[1],!0)+"border-color:"+l_(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var a=this.el;if(null!=e){var s="";if(ci(o)&&"item"===i.get("trigger")&&!Tot(i)&&(s=function vjt(n,e,t){if(!ci(t)||"inside"===t)return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");e=l_(e);var c,o=function gjt(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(t),a=Math.max(1.5*Math.round(r),6),s="",l=Rz+":";uo(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c="left"===o?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c="top"===o?225:45)+"deg)");var u=c*Math.PI/180,d=a+r,h=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),g=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",(s+=";"+o+":-"+Math.round(100*((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-d)/2))/100+"px")+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"].join("")+'"></div>'}(i,r,o)),ci(e))a.innerHTML=e+s;else if(e){a.innerHTML="",Rn(e)||(e=[e]);for(var l=0;l<e.length;l++)t1(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}}else a.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(kot(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]){var r=this.el.style;Xt(Pot(i[0],i[1]),function(a){r[a[0]]=a[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",aa.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(yi(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const wjt=xjt;var Cjt=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Lot(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){var a=this;ar(e)&&es(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new la({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:eK(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),Xt(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=i.get(c)}),Xt(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=Rot(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;Lot(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,a=Dg(o.borderWidth||0),s=Rot(o);i.x=e+a+s.left,i.y=t+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(yi(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Dg(n){return Math.max(0,n)}function Rot(n){var e=Dg(n.shadowBlur||0),t=Dg(n.shadowOffsetX||0),i=Dg(n.shadowOffsetY||0);return{left:Dg(e-t),right:Dg(e+t),top:Dg(e-i),bottom:Dg(e+i)}}function Lot(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const Sjt=Cjt;var Mjt=new Qo({shape:{x:-1,y:-1,width:2,height:2}}),Ejt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i){if(!aa.node&&i.getDom()){var r=t.getComponent("tooltip"),o=this._renderMode=function SIt(n){return"auto"===n?aa.domSupported?"html":"richText":n||"html"}(r.get("renderMode"));this._tooltipContent="richText"===o?new Sjt(i):new wjt(i.getDom(),i,{appendToBody:r.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!aa.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?ub(this,"_updatePosition",50,"fixRate"):K1(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");Vrt("itemTooltip",this._api,yi(function(r,o,a){"none"!==i&&(i.indexOf(r)>=0?this._tryShow(o,a):"leave"===r&&this._hide(a))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(t,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(o.from!==this.uid&&!aa.node&&r.getDom()){var a=Oot(o,r);this._ticket="";var s=o.dataByCoordSys,l=function Ijt(n,e,t){var i=KN(n).queryOptionMap,r=i.keys()[0];if(r&&"series"!==r){var l,a=C1(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(a&&(t.getViewOfComponentModel(a).group.traverse(function(c){var u=kr(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l))return{componentMainType:r,componentIndex:a.componentIndex,el:l}}}(o,i,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var u=Mjt;u.x=o.x,u.y=o.y,u.update(),kr(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,i,r,o))return;var d=Urt(o,i),h=d.point[0],p=d.point[1];null!=h&&null!=p&&this._tryShow({offsetX:h,offsetY:p,target:d.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(t,i,r,o){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(Oot(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var c=i.getSeriesByIndex(a);if(c&&"axis"===jC([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(r){var s,l;this._lastDataByCoordSys=null,__(r,function(c){return null!=kr(c).dataIndex?(s=c,!0):null!=kr(c).tooltipConfig?(l=c,!0):void 0},!0),s?this._showSeriesItemTooltip(t,s,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=yi(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=jC([i.tooltipOption],o),l=this._renderMode,c=[],u=Uc("section",{blocks:[],noHeader:!0}),d=[],h=new sB;Xt(t,function(M){Xt(M.dataByAxis,function(E){var k=r.getComponent(E.axisDim+"Axis",E.axisIndex),j=E.value;if(k&&null!=j){var H=Rrt(j,k.axis,r,E.seriesDataIndices,E.valueLabelOpt),rt=Uc("section",{header:H,noHeader:!Jh(H),sortBlocks:!0,blocks:[]});u.blocks.push(rt),Xt(E.seriesDataIndices,function(yt){var st=r.getSeriesByIndex(yt.seriesIndex),Lt=yt.dataIndexInside,kt=st.getDataParams(Lt);if(!(kt.dataIndex<0)){kt.axisDim=E.axisDim,kt.axisIndex=E.axisIndex,kt.axisType=E.axisType,kt.axisId=E.axisId,kt.axisValue=S3(k.axis,{value:j}),kt.axisValueLabel=H,kt.marker=h.makeTooltipMarker("item",l_(kt.color),l);var te=Lq(st.formatTooltip(Lt,!0,null)),ne=te.frag;if(ne){var de=jC([st],o).get("valueFormatter");rt.blocks.push(de?Dn({valueFormatter:de},ne):ne)}te.text&&d.push(te.text),c.push(kt)}})}})}),u.blocks.reverse(),d.reverse();var p=i.position,g=s.get("order"),y=Qq(u,h,l,g,r.get("useUTC"),s.get("textStyle"));y&&d.unshift(y);var w=d.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,p,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,w,c,Math.random()+"",a[0],a[1],p,null,h)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,a=kr(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,d=a.dataType,h=c.getData(d),p=this._renderMode,g=t.positionDefault,y=jC([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),b=y.get("trigger");if(null==b||"item"===b){var w=c.getDataParams(u,d),M=new sB;w.marker=M.makeTooltipMarker("item",l_(w.color),p);var E=Lq(c.formatTooltip(u,!1,d)),k=y.get("order"),j=y.get("valueFormatter"),H=E.frag,rt=H?Qq(j?Dn({valueFormatter:j},H):H,M,p,k,o.get("useUTC"),y.get("textStyle")):E.text,yt="item_"+c.name+"_"+u;this._showOrMove(y,function(){this._showTooltipContent(y,rt,w,yt,t.offsetX,t.offsetY,t.position,t.target,M)}),r({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=kr(i),s=o.tooltipConfig.option||{};ci(s)&&(s={content:s,formatter:s});var c=[s],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&c.push(u),c.push({formatter:s.content});var d=t.positionDefault,h=jC(c,this._tooltipModel,d?{position:d}:null),p=h.get("content"),g=Math.random()+"",y=new sB;this._showOrMove(h,function(){var b=fr(h.get("formatterParams")||{});this._showTooltipContent(h,p,b,g,t.offsetX,t.offsetY,t.position,i,y)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,a,s,l,c,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var p=i,y=this._getNearestPoint([a,s],r,t.get("trigger"),t.get("borderColor")).color;if(h)if(ci(h)){var b=t.ecModel.get("useUTC"),w=Rn(r)?r[0]:r;p=h,w&&w.axisType&&w.axisType.indexOf("time")>=0&&(p=BD(w.axisValue,p,b)),p=X$(p,r,!0)}else if(Ki(h)){var E=yi(function(k,j){k===this._ticket&&(d.setContent(j,u,t,y,l),this._updatePosition(t,l,a,s,d,r,c))},this);this._ticket=o,p=h(r,o,E)}else p=h;d.setContent(p,u,t,y,l),d.show(t,y),this._updatePosition(t,l,a,s,d,r,c)}},e.prototype._getNearestPoint=function(t,i,r,o){return"axis"===r||Rn(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:Rn(i)?void 0:{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();i=i||t.get("position");var d=a.getSize(),h=t.get("align"),p=t.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),Ki(i)&&(i=i([r,o],s,a.el,g,{viewSize:[c,u],contentSize:d.slice()})),Rn(i))r=ni(i[0],c),o=ni(i[1],u);else if(ar(i)){var y=i;y.width=d[0],y.height=d[1];var b=Lc(y,{width:c,height:u});r=b.x,o=b.y,h=null,p=null}else if(ci(i)&&l){var w=function Ajt(n,e,t,i){var r=t[0],o=t[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=e.width,u=e.height;switch(n){case"inside":s=e.x+c/2-r/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-r/2,l=e.y+u+a;break;case"left":s=e.x-r-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}(i,g,d,t.get("borderWidth"));r=w[0],o=w[1]}else w=function Tjt(n,e,t,i,r,o,a){var s=t.getSize(),l=s[0],c=s[1];return null!=o&&(n+l+o+2>i?n-=l+o:n+=o),null!=a&&(e+c+a>r?e-=c+a:e+=a),[n,e]}(r,o,a,c,u,h?null:20,p?null:20),r=w[0],o=w[1];h&&(r-=Not(h)?d[0]/2:"right"===h?d[0]:0),p&&(o-=Not(p)?d[1]/2:"bottom"===p?d[1]:0),Tot(t)&&(w=function Djt(n,e,t,i,r){var o=t.getSize(),a=o[0],s=o[1];return n=Math.min(n+a,i)-a,e=Math.min(e+s,r)-s,[n=Math.max(n,0),e=Math.max(e,0)]}(r,o,a,c,u),r=w[0],o=w[1]),a.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===t.length;return a&&Xt(r,function(s,l){var c=s.dataByAxis||[],d=(t[l]||{}).dataByAxis||[];(a=a&&c.length===d.length)&&Xt(c,function(h,p){var g=d[p]||{},y=h.seriesDataIndices||[],b=g.seriesDataIndices||[];(a=a&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&y.length===b.length)&&Xt(y,function(w,M){var E=b[M];a=a&&w.seriesIndex===E.seriesIndex&&w.dataIndex===E.dataIndex}),o&&Xt(h.seriesDataIndices,function(w){var M=w.seriesIndex,E=i[M],k=o[M];E&&k&&k.data!==E.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){aa.node||!i.getDom()||(K1(this,"_updatePosition"),this._tooltipContent.dispose(),pz("itemTooltip",i))},e.type="tooltip",e}(Il);function jC(n,e,t){var r,i=e.ecModel;t?(r=new Ws(t,i,i),r=new Ws(e.option,r,i)):r=e;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof Ws&&(a=a.get("tooltip",!0)),ci(a)&&(a={formatter:a}),a&&(r=new Ws(a,r,i)))}return r}function Oot(n,e){return n.dispatchAction||yi(e.dispatchAction,e)}function Not(n){return"center"===n||"middle"===n}const Pjt=Ejt;var Rjt=["rect","polygon","keep","clear"];function Ljt(n,e){var t=bs(n?n.brush:[]);if(t.length){var i=[];Xt(t,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(i=i.concat(c))});var r=n&&n.toolbox;Rn(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function Ojt(n){var e={};Xt(n,function(t){e[t]=1}),n.length=0,Xt(e,function(t,i){n.push(i)})}(s),e&&!s.length&&s.push.apply(s,Rjt)}}var Fot=Xt;function Bot(n){if(n)for(var e in n)if(n.hasOwnProperty(e))return!0}function Lz(n,e,t){var i={};return Fot(e,function(o){var a=i[o]=function r(){var o=function(){};return o.prototype.__hidden=o.prototype,new o}();Fot(n[o],function(s,l){if(bu.isValidType(l)){var c={type:l,visual:s};t&&t(c,o),a[l]=new bu(c),"opacity"===l&&((c=fr(c)).type="colorAlpha",a.__hidden.__alphaForOpacity=new bu(c))}})}),i}function Vot(n,e,t){var i;Xt(t,function(r){e.hasOwnProperty(r)&&Bot(e[r])&&(i=!0)}),i&&Xt(t,function(r){e.hasOwnProperty(r)&&Bot(e[r])?n[r]=fr(e[r]):delete n[r]})}var zot={lineX:Uot(0),lineY:Uot(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&L_(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,s=n.height,l=i[0];return!!(L_(i,r,o)||L_(i,r+a,o)||L_(i,r,o+s)||L_(i,r+a,o+s)||Kr.create(n).contain(l[0],l[1])||q1(r,o,r+a,o,i)||q1(r,o,r,o+s,i)||q1(r+a,o,r+a,o+s,i)||q1(r,o+s,r+a,o+s,i))||void 0}}};function Uot(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i)return WC(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[n]],i[e[n]]+i[t[n]]];return s[1]<s[0]&&s.reverse(),WC(s[0],a)||WC(s[1],a)||WC(a[0],s)||WC(a[1],s)}}}}function WC(n,e){return e[0]<=n&&n<=e[1]}var Got=["inBrush","outOfBrush"],Oz="__ecBrushSelect",Nz="__ecInBrushSelectEvent";function Hot(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new Iz(e.option,n)).setInputRanges(e.areas,n)})}function Vjt(n,e,t){var r,o,i=[];n.eachComponent({mainType:"brush"},function(a){t&&"takeGlobalCursor"===t.type&&a.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),Hot(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:fr(a.areas),selected:[]};i.push(l);var c=a.option,u=c.brushLink,d=[],h=[],p=[],g=!1;s||(r=c.throttleType,o=c.throttleDelay);var y=On(a.areas,function(j){var H=Hjt[j.brushType],rt=nr({boundingRect:H?H(j):void 0},j);return rt.selectors=function Bjt(n){var e=n.brushType,t={point:function(i){return zot[e].point(i,t,n)},rect:function(i){return zot[e].rect(i,t,n)}};return t}(rt),rt}),b=Lz(a.option,Got,function(j){j.mappingMethod="fixed"});function w(j){return"all"===u||!!d[j]}function M(j){return!!j.length}Rn(u)&&Xt(u,function(j){d[j]=1}),n.eachSeries(function(j,H){var rt=p[H]=[];"parallel"===j.subType?function E(j,H){var rt=j.coordinateSystem;g=g||rt.hasAxisBrushed(),w(H)&&rt.eachActiveState(j.getData(),function(yt,st){"active"===yt&&(h[st]=1)})}(j,H):function k(j,H,rt){if(j.brushSelector&&!function Gjt(n,e){var t=n.option.seriesIndex;return null!=t&&"all"!==t&&(Rn(t)?uo(t,e)<0:e!==t)}(a,H)&&(Xt(y,function(st){a.brushTargetManager.controlSeries(st,j,n)&&rt.push(st),g=g||M(rt)}),w(H)&&M(rt))){var yt=j.getData();yt.each(function(st){jot(j,rt,yt,st)&&(h[st]=1)})}}(j,H,rt)}),n.eachSeries(function(j,H){var rt={seriesId:j.id,seriesIndex:H,seriesName:j.name,dataIndex:[]};l.selected.push(rt);var yt=p[H],st=j.getData(),Lt=w(H)?function(kt){return h[kt]?(rt.dataIndex.push(st.getRawIndex(kt)),"inBrush"):"outOfBrush"}:function(kt){return jot(j,yt,st,kt)?(rt.dataIndex.push(st.getRawIndex(kt)),"inBrush"):"outOfBrush"};(w(H)?g:M(yt))&&function Njt(n,e,t,i,r,o){var s,a={};function l(d){return CB(t,s,d)}function c(d,h){tQ(t,s,d,h)}function u(d,h){var p=t.getRawDataItem(s=null==o?d:h);if(!p||!1!==p.visualMap)for(var g=i.call(r,d),y=e[g],b=a[g],w=0,M=b.length;w<M;w++){var E=b[w];y[E]&&y[E].applyVisual(d,l,c)}}Xt(n,function(d){var h=bu.prepareVisualTypes(e[d]);a[d]=h}),null==o?t.each(u):t.each([o],u)}(Got,b,st,Lt)})}),function zjt(n,e,t,i,r){if(r){var o=n.getZr();o[Nz]||(o[Oz]||(o[Oz]=Ujt),ub(o,Oz,t,e)(n,i))}}(e,r,o,i,t)}function Ujt(n,e){if(!n.isDisposed()){var t=n.getZr();t[Nz]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[Nz]=!1}}function jot(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(n.brushSelector(i,t,a.selectors,a))return!0}}var Hjt={rect:function(n){return Wot(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){var o=t[i];o[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&Wot(e)}};function Wot(n){return new Kr(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var jjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new BV(i.getZr())).on("brush",yi(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){Hot(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:fr(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:fr(r),$from:i})},e.type="brush",e}(Il);const Wjt=jjt;var Yjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return mn(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Vot(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=On(t,function(i){return Zot(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=Zot(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(ca);function Zot(n,e){return $r({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Ws(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}const Xjt=Yjt;var $jt=["rect","polygon","lineX","lineY","keep","clear"],qjt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return mn(e,n),e.prototype.render=function(t,i,r){var o,a,s;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,Xt(t.get("type",!0),function(l){t.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return Xt(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},e.getDefaultOption=function(t){return{show:!0,type:$jt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(Bh);const Kjt=qjt;var Jjt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return mn(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ca),tWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var o=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=qr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new la({style:js(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),h=t.get("subtext"),p=new la({style:js(s,{text:h,fill:s.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),y=t.get("sublink"),b=t.get("triggerEvent",!0);u.silent=!g&&!b,p.silent=!y&&!b,g&&u.on("click",function(){HD(g,"_"+t.get("target"))}),y&&p.on("click",function(){HD(y,"_"+t.get("subtarget"))}),kr(u).eventData=kr(p).eventData=b?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(u),h&&o.add(p);var w=o.getBoundingRect(),M=t.getBoxLayoutParams();M.width=w.width,M.height=w.height;var E=Lc(M,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?E.x+=E.width:"center"===l&&(E.x+=E.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?E.y+=E.height:"middle"===c&&(E.y+=E.height/2),c=c||"top"),o.x=E.x,o.y=E.y,o.markRedraw();var k={align:l,verticalAlign:c};u.setStyle(k),p.setStyle(k),w=o.getBoundingRect();var j=E.margin,H=t.getItemStyle(["color","opacity"]);H.fill=t.get("backgroundColor");var rt=new Qo({shape:{x:w.x-j[3],y:w.y-j[0],width:w.width+j[1]+j[3],height:w.height+j[0]+j[2],r:t.get("borderRadius")},style:H,subPixelOptimize:!0,silent:!0});o.add(rt)}},e.type="title",e}(Il),nWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return mn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var a,t=this.option,i=t.data||[],r=t.axisType,o=this._names=[];"category"===r?(a=[],Xt(i,function(c,u){var h,d=Rc(G0(c),"");ar(c)?(h=fr(c)).value=u:h=u,a.push(h),o.push(d)})):a=i,(this._data=new od([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[r]||"number"}],this)).initData(a,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(ca);const Yot=nWt;var Xot=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="timeline.slider",e.defaultOption=ug(Yot.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Yot);gc(Xot,tB.prototype);const iWt=Xot;var rWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="timeline",e}(Il);const oWt=rWt;var aWt=function(n){function e(t,i,r,o){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a}return mn(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(pf);const sWt=aWt;var Fz=Math.PI,$ot=Ko(),lWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(c){return Uc("nameValue",{noName:!0,value:l.scale.getLabel({value:c})})},Xt(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](o,a,l,t)},this),this._renderAxisLabel(o,s,l,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var s,r=t.get(["label","position"]),o=t.get("orient"),a=function uWt(n,e){return Lc(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}(t,i),l={horizontal:"center",vertical:(s=null==r||"auto"===r?"horizontal"===o?a.y+a.height/2<i.getHeight()/2?"-":"+":a.x+a.width/2<i.getWidth()/2?"+":"-":ci(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][r]:r)>=0||"+"===s?"left":"right"},c={horizontal:s>=0||"+"===s?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:Fz/2},d="vertical"===o?a.height:a.width,h=t.getModel("controlStyle"),p=h.get("show",!0),g=p?h.get("itemSize"):0,y=p?h.get("itemGap"):0,b=g+y,w=t.get(["label","rotate"])||0;w=w*Fz/180;var M,E,k,j=h.get("position",!0),H=p&&h.get("showPlayBtn",!0),rt=p&&h.get("showPrevBtn",!0),yt=p&&h.get("showNextBtn",!0),st=0,Lt=d;"left"===j||"bottom"===j?(H&&(M=[0,0],st+=b),rt&&(E=[st,0],st+=b),yt&&(k=[Lt-g,0],Lt-=b)):(H&&(M=[Lt-g,0],Lt-=b),rt&&(E=[0,0],st+=b),yt&&(k=[Lt-g,0],Lt-=b));var kt=[st,Lt];return t.get("inverse")&&kt.reverse(),{viewRect:a,mainLength:d,orient:o,rotation:u[o],labelRotation:w,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[o],playPosition:M,prevBtnPosition:E,nextBtnPosition:k,axisExtent:kt,controlSize:g,controlGap:y}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var s=[1,0,0,1,0,0],l=a.x,c=a.y+a.height;Lf(s,s,[-l,-c]),Ov(s,s,-Fz/2),Lf(s,s,[l,c]),(a=a.clone()).applyTransform(s)}var u=M(a),d=M(r.getBoundingRect()),h=M(o.getBoundingRect()),p=[r.x,r.y],g=[o.x,o.y];g[0]=p[0]=u[0][0];var b,y=t.labelPosOpt;function w(k){k.originX=u[0][0]-k.x,k.originY=u[1][0]-k.y}function M(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function E(k,j,H,rt,yt){k[rt]+=H[rt][yt]-j[rt][yt]}null==y||ci(y)?(E(p,d,u,1,b="+"===y?0:1),E(g,h,u,1,1-b)):(E(p,d,u,1,b=y>=0?0:1),g[1]=p[1]+y),r.setPosition(p),o.setPosition(g),r.rotation=o.rotation=t.rotation,w(r),w(o)},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),a=function cWt(n,e){if(e=e||n.get("type"))switch(e){case"category":return new w3({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Ftt({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new xg}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(c){return{value:c}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new sWt("value",a,t.axisExtent,o);return l.model=i,l},e.prototype._createGroup=function(t){var i=this[t]=new br;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new eu({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:Dn({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var l=this._progressLine=new eu({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:nr({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},e.prototype._renderAxisTick=function(t,i,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],Xt(l,function(c){var u=r.dataToCoord(c.value),d=s.getItemModel(c.value),h=d.getModel("itemStyle"),p=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["progress","itemStyle"]),y={x:u,y:0,onclick:yi(a._changeTimeline,a,c.value)},b=qot(d,h,i,y);b.ensureState("emphasis").style=p.getItemStyle(),b.ensureState("progress").style=g.getItemStyle(),r_(b);var w=kr(b);d.get("tooltip")?(w.dataIndex=c.value,w.dataModel=o):w.dataIndex=w.dataModel=null,a._tickSymbols.push(b)})},e.prototype._renderAxisLabel=function(t,i,r,o){var a=this;if(r.getLabelModel().get("show")){var l=o.getData(),c=r.getViewLabels();this._tickLabels=[],Xt(c,function(u){var d=u.tickValue,h=l.getItemModel(d),p=h.getModel("label"),g=h.getModel(["emphasis","label"]),y=h.getModel(["progress","label"]),b=r.dataToCoord(u.tickValue),w=new la({x:b,y:0,rotation:t.labelRotation-t.rotation,onclick:yi(a._changeTimeline,a,d),silent:!1,style:js(p,{text:u.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});w.ensureState("emphasis").style=js(g),w.ensureState("progress").style=js(y),i.add(w),r_(w),$ot(w).dataIndex=d,a._tickLabels.push(w)})}},e.prototype._renderControl=function(t,i,r,o){var a=t.controlSize,s=t.rotation,l=o.getModel("controlStyle").getItemStyle(),c=o.getModel(["emphasis","controlStyle"]).getItemStyle(),u=o.getPlayState(),d=o.get("inverse",!0);function h(p,g,y,b){if(p){var w=nf(qr(o.get(["controlStyle",g+"BtnSize"]),a),a),E=function dWt(n,e,t,i){var r=i.style,o=$1(n.get(["controlStyle",e]),i||{},new Kr(t[0],t[1],t[2],t[3]));return r&&o.setStyle(r),o}(o,g+"Icon",[0,-w/2,w,w],{x:p[0],y:p[1],originX:a/2,originY:0,rotation:b?-s:0,rectHover:!0,style:l,onclick:y});E.ensureState("emphasis").style=c,i.add(E),r_(E)}}h(t.nextBtnPosition,"next",yi(this._changeTimeline,this,d?"-":"+")),h(t.prevBtnPosition,"prev",yi(this._changeTimeline,this,d?"+":"-")),h(t.playPosition,u?"stop":"play",yi(this._handlePlayClick,this,!u),!0)},e.prototype._renderCurrentPointer=function(t,i,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),c=this;this._currentPointer=qot(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(d){d.draggable=!0,d.drift=yi(c._handlePointerDrag,c),d.ondragend=yi(c._handlePointerDragend,c),Kot(d,c._progressLine,s,r,o,!0)},onUpdate:function(d){Kot(d,c._progressLine,s,r,o)}})},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],a=Sh(this._axis.getExtent().slice());r>a[1]&&(r=a[1]),r<a[0]&&(r=a[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var l=this._findNearestTick(r),c=this.model;(i||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return cf(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var o,i=this.model.getData(),r=1/0,a=this._axis;return i.each(["value"],function(s,l){var c=a.dataToCoord(s),u=Math.abs(c-t);u<r&&(r=u,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",$ot(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(oWt);function qot(n,e,t,i,r,o){var a=e.get("color");r?(r.setColor(a),t.add(r),o&&o.onUpdate(r)):((r=yc(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r));var l=e.getItemStyle(["color"]);r.setStyle(l),i=$r({rectHover:!0,z2:100},i,!0);var c=eC(n.get("symbolSize"));i.scaleX=c[0]/2,i.scaleY=c[1]/2;var u=hb(n.get("symbolOffset"),c);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var d=n.get("symbolRotate");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function Kot(n,e,t,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",t));if(o||!a.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}const hWt=lWt;function pWt(n){var e=n&&n.timeline;Rn(e)||(e=e?[e]:[]),Xt(e,function(t){t&&function mWt(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),Qot(n),W_(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});W_(i,"position")||(i.position=n.controlPosition),"none"===i.position&&!W_(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}Xt(n.data||[],function(r){ar(r)&&!Rn(r)&&(!W_(r,"value")&&W_(r,"name")&&(r.value=r.name),Qot(r))})}(t)})}function Qot(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};Xt(i,function(a,s){!o[s]&&!W_(r,s)&&(r[s]=a)}),t.label&&!W_(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function W_(n,e){return n.hasOwnProperty(e)}function Bz(n,e){if(!n)return!1;for(var t=Rn(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function RI(n){jv(n,"label",["show"])}var LI=Ko(),Jot=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return mn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(aa.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var a=this.mainType;r||i.eachSeries(function(s){var l=s.get(this.mainType,!0),c=LI(s)[a];l&&l.data?(c?c._mergeOption(l,i,!0):(o&&RI(l),Xt(l.data,function(u){u instanceof Array?(RI(u[0]),RI(u[1])):RI(u)}),Dn(c=this.createMarkerModelFromSeries(l,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),LI(s)[a]=c):LI(s)[a]=null},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t),s=o.getName(t);return Uc("section",{header:this.name,blocks:[Uc("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return LI(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(ca);gc(Jot,tB.prototype);const Ag=Jot;var vWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Ag);const _Wt=vWt;function Vz(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function OI(n,e,t,i,r,o){var a=[],l=vg(e,i)?e.getCalculationInfo("stackResultDimension"):i,c=Uz(e,l,n),u=e.indicesOfNearest(l,c)[0];a[r]=e.get(t,u),a[o]=e.get(l,u);var d=e.get(i,u),h=Bf(e.get(i,u));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,d]}var zz={min:Nr(OI,"min"),max:Nr(OI,"max"),average:Nr(OI,"average"),median:Nr(OI,"median")};function ZC(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!function yWt(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(e)&&!Rn(e.coord)&&Rn(r)){var o=tat(e,t,i,n);if((e=fr(e)).type&&zz[e.type]&&o.baseAxis&&o.valueAxis){var a=uo(r,o.baseAxis.dim),s=uo(r,o.valueAxis.dim),l=zz[e.type](t,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&Rn(r))for(var c=e.coord,u=0;u<2;u++)zz[c[u]]&&(c[u]=Uz(t,t.mapDimension(r[u]),c[u]));else e.coord=[];return e}}function tat(n,e,t,i){var r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(function bWt(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function YC(n,e){return!(n&&n.containData&&e.coord&&!Vz(e))||n.containData(e.coord)}function eat(n,e){return n?function(t,i,r,o){return hg(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,i,r,o){return hg(t.value,e[o])}}function Uz(n,e,t){if("average"===t){var i=0,r=0;return n.each(e,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===t?n.getMedian(e):n.getDataExtent(e)["max"===t?1:0]}var Gz=Ko(),wWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.init=function(){this.markerGroupMap=Wi()},e.prototype.render=function(t,i,r){var o=this,a=this.markerGroupMap;a.each(function(s){Gz(s).keep=!1}),i.eachSeries(function(s){var l=Ag.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,i,r)}),a.each(function(s){!Gz(s).keep&&o.group.remove(s.group)})},e.prototype.markKeep=function(t){Gz(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;Xt(t,function(o){var a=Ag.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(l){l&&(i?h$(l):xF(l))})})},e.type="marker",e}(Il);const Hz=wWt;function nat(n,e,t){var i=e.coordinateSystem;n.each(function(r){var a,o=n.getItemModel(r),s=ni(o.get("x"),t.getWidth()),l=ni(o.get("y"),t.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var c=n.get(i.dimensions[0],r),u=n.get(i.dimensions[1],r);a=i.dataToPoint([c,u])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),n.setItemLayout(r,a)})}var CWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Ag.getMarkerModelFromSeries(o,"markPoint");a&&(nat(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new gC),d=function SWt(n,e,t){var i;i=n?On(n&&n.dimensions,function(s){return Dn(Dn({},e.getData().getDimensionInfo(e.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new od(i,t),o=On(t.get("data"),Nr(ZC,e));n&&(o=ps(o,Nr(YC,n)));var a=eat(!!n,i);return r.initData(o,null,a),r}(a,t,i);i.setData(d),nat(i.getData(),t,o),d.each(function(h){var p=d.getItemModel(h),g=p.getShallow("symbol"),y=p.getShallow("symbolSize"),b=p.getShallow("symbolRotate"),w=p.getShallow("symbolOffset"),M=p.getShallow("symbolKeepAspect");if(Ki(g)||Ki(y)||Ki(b)||Ki(w)){var E=i.getRawValue(h),k=i.getDataParams(h);Ki(g)&&(g=g(E,k)),Ki(y)&&(y=y(E,k)),Ki(b)&&(b=b(E,k)),Ki(w)&&(w=w(E,k))}var j=p.getModel("itemStyle").getItemStyle(),H=tC(l,"color");j.fill||(j.fill=H),d.setItemVisual(h,{symbol:g,symbolSize:y,symbolRotate:b,symbolOffset:w,symbolKeepAspect:M,style:j})}),u.updateData(d),this.group.add(u.group),d.eachItemGraphicEl(function(h){h.traverse(function(p){kr(p).dataModel=i})}),this.markKeep(u),u.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(Hz);const MWt=CWt;var TWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Ag);const DWt=TWt;var NI=Ko(),AWt=function(n,e,t,i){var o,r=n.getData();if(Rn(i))o=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=Jc(i.yAxis,i.xAxis);else{var c=tat(i,r,e,n);s=c.valueAxis,l=Uz(r,BJ(r,c.valueDataDim),a)}var d="x"===s.dim?0:1,h=1-d,p=fr(i),g={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,g.coord[h]=1/0;var y=t.get("precision");y>=0&&sa(l)&&(l=+l.toFixed(Math.min(y,20))),p.coord[d]=g.coord[d]=l,o=[p,g,{type:a,valueIndex:i.valueIndex,value:l}]}else o=[]}var b=[ZC(n,o[0]),ZC(n,o[1]),Dn({},o[2])];return b[2].type=b[2].type||null,$r(b[2],b[0]),$r(b[2],b[1]),b};function FI(n){return!isNaN(n)&&!isFinite(n)}function iat(n,e,t,i){var r=1-n,o=i.dimensions[n];return FI(e[r])&&FI(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function IWt(n,e){if("cartesian2d"===n.type){var t=e[0].coord,i=e[1].coord;if(t&&i&&(iat(1,t,i,n)||iat(0,t,i,n)))return!0}return YC(n,e[0])&&YC(n,e[1])}function jz(n,e,t,i,r){var s,o=i.coordinateSystem,a=n.getItemModel(e),l=ni(a.get("x"),r.getWidth()),c=ni(a.get("y"),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)s=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var d=n.get((u=o.dimensions)[0],e),h=n.get(u[1],e);s=o.dataToPoint([d,h])}if(A_(o,"cartesian2d")){var u,p=o.getAxis("x"),g=o.getAxis("y");FI(n.get((u=o.dimensions)[0],e))?s[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):FI(n.get(u[1],e))&&(s[1]=g.toGlobalCoord(g.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];n.setItemLayout(e,s)}var PWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Ag.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=NI(a).from,c=NI(a).to;l.each(function(u){jz(l,u,!0,o,r),jz(c,u,!1,o,r)}),s.each(function(u){s.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new _V);this.group.add(u.group);var d=function kWt(n,e,t){var i;i=n?On(n&&n.dimensions,function(c){return Dn(Dn({},e.getData().getDimensionInfo(e.getData().mapDimension(c))||{}),{name:c,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new od(i,t),o=new od(i,t),a=new od([],t),s=On(t.get("data"),Nr(AWt,e,n,t));n&&(s=ps(s,Nr(IWt,n)));var l=eat(!!n,i);return r.initData(On(s,function(c){return c[0]}),null,l),o.initData(On(s,function(c){return c[1]}),null,l),a.initData(On(s,function(c){return c[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(a,t,i),h=d.from,p=d.to,g=d.line;NI(i).from=h,NI(i).to=p,i.setData(g);var y=i.get("symbol"),b=i.get("symbolSize"),w=i.get("symbolRotate"),M=i.get("symbolOffset");function E(k,j,H){var rt=k.getItemModel(j);jz(k,j,H,t,o);var yt=rt.getModel("itemStyle").getItemStyle();null==yt.fill&&(yt.fill=tC(l,"color")),k.setItemVisual(j,{symbolKeepAspect:rt.get("symbolKeepAspect"),symbolOffset:qr(rt.get("symbolOffset",!0),M[H?0:1]),symbolRotate:qr(rt.get("symbolRotate",!0),w[H?0:1]),symbolSize:qr(rt.get("symbolSize"),b[H?0:1]),symbol:qr(rt.get("symbol",!0),y[H?0:1]),style:yt})}Rn(y)||(y=[y,y]),Rn(b)||(b=[b,b]),Rn(w)||(w=[w,w]),Rn(M)||(M=[M,M]),d.from.each(function(k){E(h,k,!0),E(p,k,!1)}),g.each(function(k){var j=g.getItemModel(k).getModel("lineStyle").getLineStyle();g.setItemLayout(k,[h.getItemLayout(k),p.getItemLayout(k)]),null==j.stroke&&(j.stroke=h.getItemVisual(k,"style").fill),g.setItemVisual(k,{fromSymbolKeepAspect:h.getItemVisual(k,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(k,"symbolOffset"),fromSymbolRotate:h.getItemVisual(k,"symbolRotate"),fromSymbolSize:h.getItemVisual(k,"symbolSize"),fromSymbol:h.getItemVisual(k,"symbol"),toSymbolKeepAspect:p.getItemVisual(k,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(k,"symbolOffset"),toSymbolRotate:p.getItemVisual(k,"symbolRotate"),toSymbolSize:p.getItemVisual(k,"symbolSize"),toSymbol:p.getItemVisual(k,"symbol"),style:j})}),u.updateData(g),d.line.eachItemGraphicEl(function(k){kr(k).dataModel=i,k.traverse(function(j){kr(j).dataModel=i})}),this.markKeep(u),u.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(Hz);const RWt=PWt;var OWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Ag);const NWt=OWt;var BI=Ko(),FWt=function(n,e,t,i){var r=i[0],o=i[1];if(r&&o){var a=ZC(n,r),s=ZC(n,o),l=a.coord,c=s.coord;l[0]=Jc(l[0],-1/0),l[1]=Jc(l[1],-1/0),c[0]=Jc(c[0],1/0),c[1]=Jc(c[1],1/0);var u=X2([{},a,s]);return u.coord=[a.coord,s.coord],u.x0=a.x,u.y0=a.y,u.x1=s.x,u.y1=s.y,u}};function VI(n){return!isNaN(n)&&!isFinite(n)}function rat(n,e,t,i){var r=1-n;return VI(e[r])&&VI(t[r])}function BWt(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return A_(n,"cartesian2d")?!(!t||!i||!rat(1,t,i)&&!rat(0,t,i))||function xWt(n,e,t){return!(n&&n.containZone&&e.coord&&t.coord&&!Vz(e)&&!Vz(t))||n.containZone(e.coord,t.coord)}(n,r,o):YC(n,r)||YC(n,o)}function oat(n,e,t,i,r){var s,o=i.coordinateSystem,a=n.getItemModel(e),l=ni(a.get(t[0]),r.getWidth()),c=ni(a.get(t[1]),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition){var u=n.getValues(["x0","y0"],e),d=n.getValues(["x1","y1"],e),h=o.clampData(u),p=o.clampData(d),g=[];g[0]="x0"===t[0]?h[0]>p[0]?d[0]:u[0]:h[0]>p[0]?u[0]:d[0],g[1]="y0"===t[1]?h[1]>p[1]?d[1]:u[1]:h[1]>p[1]?u[1]:d[1],s=i.getMarkerPosition(g,t,!0)}else{var w=[y=n.get(t[0],e),b=n.get(t[1],e)];o.clampData&&o.clampData(w,w),s=o.dataToPoint(w,!0)}if(A_(o,"cartesian2d")){var M=o.getAxis("x"),E=o.getAxis("y"),y=n.get(t[0],e),b=n.get(t[1],e);VI(y)?s[0]=M.toGlobalCoord(M.getExtent()["x0"===t[0]?0:1]):VI(b)&&(s[1]=E.toGlobalCoord(E.getExtent()["y0"===t[1]?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];return s}var aat=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],VWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Ag.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var c=On(aat,function(d){return oat(s,l,d,o,r)});s.setItemLayout(l,c),s.getItemGraphicEl(l).setShape("points",c)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,{group:new br});this.group.add(u.group),this.markKeep(u);var d=function zWt(n,e,t){var i,r;if(n){var a=On(n&&n.dimensions,function(c){var u=e.getData();return Dn(Dn({},u.getDimensionInfo(u.mapDimension(c))||{}),{name:c,ordinalMeta:null})});r=On(["x0","y0","x1","y1"],function(c,u){return{name:c,type:a[u%2].type}}),i=new od(r,t)}else i=new od(r=[{name:"value",type:"float"}],t);var s=On(t.get("data"),Nr(FWt,e,n,t));n&&(s=ps(s,Nr(BWt,n)));var l=n?function(c,u,d,h){return hg(c.coord[Math.floor(h/2)][h%2],r[h])}:function(c,u,d,h){return hg(c.value,r[h])};return i.initData(s,null,l),i.hasItemOption=!0,i}(a,t,i);i.setData(d),d.each(function(h){var p=On(aat,function(yt){return oat(d,h,yt,t,o)}),g=a.getAxis("x").scale,y=a.getAxis("y").scale,b=g.getExtent(),w=y.getExtent(),M=[g.parse(d.get("x0",h)),g.parse(d.get("x1",h))],E=[y.parse(d.get("y0",h)),y.parse(d.get("y1",h))];Sh(M),Sh(E),d.setItemLayout(h,{points:p,allClipped:!!(b[0]>M[1]||b[1]<M[0]||w[0]>E[1]||w[1]<E[0])});var H=d.getItemModel(h).getModel("itemStyle").getItemStyle(),rt=tC(l,"color");H.fill||(H.fill=rt,ci(H.fill)&&(H.fill=oD(H.fill,.4))),H.stroke||(H.stroke=rt),d.setItemVisual(h,"style",H)}),d.diff(BI(u).data).add(function(h){var p=d.getItemLayout(h);if(!p.allClipped){var g=new Md({shape:{points:p.points}});d.setItemGraphicEl(h,g),u.group.add(g)}}).update(function(h,p){var g=BI(u).data.getItemGraphicEl(p),y=d.getItemLayout(h);y.allClipped?g&&u.group.remove(g):(g?fa(g,{shape:{points:y.points}},i,h):g=new Md({shape:{points:y.points}}),d.setItemGraphicEl(h,g),u.group.add(g))}).remove(function(h){var p=BI(u).data.getItemGraphicEl(h);u.group.remove(p)}).execute(),d.eachItemGraphicEl(function(h,p){var g=d.getItemModel(p),y=d.getItemVisual(p,"style");h.useStyle(d.getItemVisual(p,"style")),_u(h,zc(g),{labelFetcher:i,labelDataIndex:p,defaultText:d.getName(p)||"",inheritColor:ci(y.fill)?oD(y.fill,1):"#000"}),vu(h,g),Al(h,null,null,g.get(["emphasis","disabled"])),kr(h).dataModel=i}),BI(u).data=d,u.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(Hz);const UWt=VWt;var jWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return mn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),Rn(i)&&Xt(i,function(o,a){ci(o)&&(o={type:o}),i[a]=$r(o,function(n,e){return"all"===e?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(l){var u;if(r.push(l.name),l.legendVisualProvider){var h=l.legendVisualProvider.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?i=i.concat(h):u=!0}else u=!0;u&&qN(l)&&i.push(l.name)}),this._availableNames=r;var o=this.get("data")||i,a=Wi(),s=On(o,function(l){return(ci(l)||sa(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new Ws(l,this,this.ecModel))},this);this._data=ps(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&Xt(this._data,function(a){i[a.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var i=this.option.selected;Xt(this._data,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var i=this.option.selected;Xt(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&uo(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ca);const Wz=jWt;var Lb=Nr,Zz=Xt,zI=br,WWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return mn(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new zI),this.group.add(this._selectorGroup=new zI),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),s=t.get("orient");(!a||"auto"===a)&&(a="right"===t.get("left")&&"vertical"===s?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(a,t,i,r,l,s,c);var u=t.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},h=t.get("padding"),p=Lc(u,d,h),g=this.layoutInner(t,a,p,o,l,c),y=Lc(nr({width:g.width,height:g.height},u),d,h);this.group.x=y.x-g.x,this.group.y=y.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=mot(g,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,a,s,l){var c=this.getContentGroup(),u=Wi(),d=i.get("selectedMode"),h=[];r.eachRawSeries(function(p){!p.get("legendHoverLink")&&h.push(p.id)}),Zz(i.getData(),function(p,g){var y=p.get("name");if(!this.newlineDisabled&&(""===y||"\n"===y)){var b=new zI;return b.newline=!0,void c.add(b)}var w=r.getSeriesByName(y)[0];if(!u.get(y))if(w){var M=w.getData(),E=M.getVisual("legendLineStyle")||{},k=M.getVisual("legendIcon"),j=M.getVisual("style");this._createItem(w,y,g,p,i,t,E,j,k,d,o).on("click",Lb(sat,y,null,o,h)).on("mouseover",Lb(Yz,w.name,null,o,h)).on("mouseout",Lb(Xz,w.name,null,o,h)),u.set(y,!0)}else r.eachRawSeries(function(rt){if(!u.get(y)&&rt.legendVisualProvider){var yt=rt.legendVisualProvider;if(!yt.containName(y))return;var st=yt.indexOfName(y),Lt=yt.getItemVisual(st,"style"),kt=yt.getItemVisual(st,"legendIcon"),te=xd(Lt.fill);te&&0===te[3]&&(te[3]=.2,Lt=Dn(Dn({},Lt),{fill:Nf(te,"rgba")})),this._createItem(rt,y,g,p,i,t,{},Lt,kt,d,o).on("click",Lb(sat,null,y,o,h)).on("mouseover",Lb(Yz,null,y,o,h)).on("mouseout",Lb(Xz,null,y,o,h)),u.set(y,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},e.prototype._createSelector=function(t,i,r,o,a){var s=this.getSelectorGroup();Zz(t,function(c){var u=c.type,d=new la({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(d),_u(d,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),r_(d)})},e.prototype._createItem=function(t,i,r,o,a,s,l,c,u,d,h){var p=t.visualDrawType,g=a.get("itemWidth"),y=a.get("itemHeight"),b=a.isSelected(i),w=o.get("symbolRotate"),M=o.get("symbolKeepAspect"),E=o.get("icon"),k=function ZWt(n,e,t,i,r,o,a){function s(b,w){"auto"===b.lineWidth&&(b.lineWidth=w.lineWidth>0?2:0),Zz(b,function(M,E){"inherit"===b[E]&&(b[E]=w[E])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=0===n.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");c.decal=d&&"inherit"!==d?pb(d,a):i.decal,"inherit"===c.fill&&(c.fill=i[r]),"inherit"===c.stroke&&(c.stroke=i[u]),"inherit"===c.opacity&&(c.opacity=("fill"===r?i:t).opacity),s(c,i);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(s(p,t),"auto"===c.fill&&(c.fill=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),!o){var g=e.get("inactiveBorderWidth");c.lineWidth="auto"===g?i.lineWidth>0&&c[u]?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}(u=E||u||"roundRect",o,l,c,p,b,h),j=new zI,H=o.getModel("textStyle");if(!Ki(t.getLegendIcon)||E&&"inherit"!==E){var rt="inherit"===E&&t.getData().getVisual("symbol")?"inherit"===w?t.getData().getVisual("symbolRotate"):w:0;j.add(function YWt(n){var e=n.icon||"roundRect",t=yc(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:g,itemHeight:y,icon:u,iconRotate:rt,itemStyle:k.itemStyle,lineStyle:k.lineStyle,symbolKeepAspect:M}))}else j.add(t.getLegendIcon({itemWidth:g,itemHeight:y,icon:u,iconRotate:w,itemStyle:k.itemStyle,lineStyle:k.lineStyle,symbolKeepAspect:M}));var yt="left"===s?g+5:-5,st=s,Lt=a.get("formatter"),kt=i;ci(Lt)&&Lt?kt=Lt.replace("{name}",i??""):Ki(Lt)&&(kt=Lt(i));var te=o.get("inactiveColor");j.add(new la({style:js(H,{text:kt,x:yt,y:y/2,fill:b?H.getTextColor():te,align:st,verticalAlign:"middle"})}));var ne=new Qo({shape:j.getBoundingRect(),invisible:!0}),de=o.getModel("tooltip");return de.get("show")&&cb({el:ne,componentModel:a,itemName:i,itemTooltipOption:de.option}),j.add(ne),j.eachChild(function(Te){Te.silent=!0}),ne.silent=!d,this.getContentGroup().add(j),r_(j),j.__legendDataIndex=r,j},e.prototype.layoutInner=function(t,i,r,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();u_(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){u_("horizontal",c,t.get("selectorItemGap",!0));var h=c.getBoundingRect(),p=[-h.x,-h.y],g=t.get("selectorButtonGap",!0),y=t.getOrient().index,b=0===y?"width":"height",w=0===y?"height":"width",M=0===y?"y":"x";"end"===s?p[y]+=u[b]+g:d[y]+=h[b]+g,p[1-y]+=u[w]/2-h[w]/2,c.x=p[0],c.y=p[1],l.x=d[0],l.y=d[1];var E={x:0,y:0};return E[b]=u[b]+g+h[b],E[w]=Math.max(u[w],h[w]),E[M]=Math.min(0,h[M]+p[1-y]),E}return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Il);function sat(n,e,t,i){Xz(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),Yz(n,e,t,i)}function lat(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function Yz(n,e,t,i){lat(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function Xz(n,e,t,i){lat(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}const cat=WWt;function XWt(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function XC(n,e,t){var o,i={},r="toggleSelected"===n;return t.eachComponent("legend",function(a){r&&null!=o?a[o?"select":"unSelect"](e.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](e.name),o=a.isSelected(e.name)),Xt(a.getData(),function(l){var c=l.get("name");if("\n"!==c&&""!==c){var u=a.isSelected(c);i[c]=i.hasOwnProperty(c)?i[c]&&u:u}})}),"allSelect"===n||"inverseSelect"===n?{selected:i}:{name:e.name,selected:i}}function uat(n){n.registerComponentModel(Wz),n.registerComponentView(cat),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,XWt),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function $Wt(n){n.registerAction("legendToggleSelect","legendselectchanged",Nr(XC,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Nr(XC,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Nr(XC,"inverseSelect")),n.registerAction("legendSelect","legendselected",Nr(XC,"select")),n.registerAction("legendUnSelect","legendunselected",Nr(XC,"unSelect"))}(n)}var qWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=J0(t);n.prototype.init.call(this,t,i,r),dat(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),dat(this,this.option,t)},e.type="legend.scroll",e.defaultOption=ug(Wz.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Wz);function dat(n,e,t){var r=[1,1];r[n.getOrient().index]=0,dg(e,t,{type:"box",ignoreSize:!!r})}const KWt=qWt;var hat=br,$z=["width","height"],qz=["x","y"],QWt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return mn(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new hat),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new hat)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,a,s,l){var c=this;n.prototype.renderInner.call(this,t,i,r,o,a,s,l);var u=this._controllerGroup,d=i.get("pageIconSize",!0),h=Rn(d)?d:[d,d];g("pagePrev",0);var p=i.getModel("pageTextStyle");function g(y,b){var w=y+"DataIndex",M=$1(i.get("pageIcons",!0)[i.getOrient().name][b],{onclick:yi(c._pageGo,c,w,i,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});M.name=y,u.add(M)}u.add(new la({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},e.prototype.layoutInner=function(t,i,r,o,a,s){var l=this.getSelectorGroup(),c=t.getOrient().index,u=$z[c],d=qz[c],h=$z[1-c],p=qz[1-c];a&&u_("horizontal",l,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),y=l.getBoundingRect(),b=[-y.x,-y.y],w=fr(r);a&&(w[u]=r[u]-y[u]-g);var M=this._layoutContentAndController(t,o,w,c,u,h,p,d);if(a){if("end"===s)b[c]+=M[u]+g;else{var E=y[u]+g;b[c]-=E,M[d]-=E}M[u]+=y[u]+g,b[1-c]+=M[p]+M[h]/2-y[h]/2,M[h]=Math.max(M[h],y[h]),M[p]=Math.min(M[p],y[p]+b[1-c]),l.x=b[0],l.y=b[1],l.markRedraw()}return M},e.prototype._layoutContentAndController=function(t,i,r,o,a,s,l,c){var u=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;u_(t.get("orient"),u,t.get("itemGap"),o?r.width:null,o?null:r.height),u_("horizontal",h,t.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),g=h.getBoundingRect(),y=this._showController=p[a]>r[a],b=[-p.x,-p.y];i||(b[o]=u[c]);var w=[0,0],M=[-g.x,-g.y],E=qr(t.get("pageButtonGap",!0),t.get("itemGap",!0));y&&("end"===t.get("pageButtonPosition",!0)?M[o]+=r[a]-g[a]:w[o]+=g[a]+E),M[1-o]+=p[s]/2-g[s]/2,u.setPosition(b),d.setPosition(w),h.setPosition(M);var j={x:0,y:0};if(j[a]=y?r[a]:p[a],j[s]=Math.max(p[s],g[s]),j[l]=Math.min(0,g[l]+M[1-o]),d.__rectSize=r[a],y){var H={x:0,y:0};H[a]=Math.max(r[a]-g[a]-E,0),H[s]=j[s],d.setClipPath(new Qo({shape:H})),d.__rectSize=H[a]}else h.eachChild(function(yt){yt.attr({invisible:!0,silent:!0})});var rt=this._getPageInfo(t);return null!=rt.pageIndex&&fa(u,{x:rt.contentPosition[0],y:rt.contentPosition[1]},y?t:null),this._updatePageInfoView(t,rt),j},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;Xt(["pagePrev","pageNext"],function(u){var h=null!=i[u+"DataIndex"],p=r.childOfName(u);p&&(p.setStyle("fill",t.get(h?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=h?"pointer":"default")});var o=r.childOfName("pageText"),a=t.get("pageFormatter"),s=i.pageIndex,l=null!=s?s+1:0,c=i.pageCount;o&&a&&o.setStyle("text",ci(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):a({current:l,total:c}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=t.getOrient().index,s=$z[a],l=qz[a],c=this._findTargetItemIndex(i),u=r.children(),d=u[c],h=u.length,p=h?1:0,g={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var y=k(d);g.contentPosition[a]=-y.s;for(var b=c+1,w=y,M=y,E=null;b<=h;++b)(!(E=k(u[b]))&&M.e>w.s+o||E&&!j(E,w.s))&&(w=M.i>w.i?M:E)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=w.i),++g.pageCount),M=E;for(b=c-1,w=y,M=y,E=null;b>=-1;--b)(!(E=k(u[b]))||!j(M,E.s))&&w.i<M.i&&(M=w,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=w.i),++g.pageCount,++g.pageIndex),w=E;return g;function k(H){if(H){var rt=H.getBoundingRect(),yt=rt[l]+H[l];return{s:yt,e:yt+rt[s],i:H.__legendDataIndex}}}function j(H,rt){return H.e>=rt&&H.s<=rt+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(a,s){var l=a.__legendDataIndex;null==o&&null!=l&&(o=s),l===t&&(i=s)}),i??o):0;var i,o},e.type="legend.scroll",e}(cat);const JWt=QWt;function eZt(n){ho(uat),n.registerComponentModel(KWt),n.registerComponentView(JWt),function tZt(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(i)})})}(n)}var iZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="dataZoom.inside",e.defaultOption=ug(HC.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(HC);const rZt=iZt;var Kz=Ko();function fat(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function lZt(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function cZt(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}var hZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return mn(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function oZt(n,e,t){Kz(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}(r,t,{pan:yi(Qz.pan,this),zoom:yi(Qz.zoom,this),scrollMove:yi(Qz.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function aZt(n,e){for(var t=Kz(n).coordSysRecordMap,i=t.keys(),r=0;r<i.length;r++){var a=t.get(i[r]),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||fat(t,a))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Sz),Qz={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=Jz[e](null,[i.originX,i.originY],a,t,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-l)*c+l,o[1]=(o[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(z_(0,o,[0,100],0,u.minSpan,u.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}},pan:pat(function(n,e,t,i,r,o){var a=Jz[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:pat(function(n,e,t,i,r,o){return Jz[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t).signal*(n[1]-n[0])*o.scrollDelta})};function pat(n){return function(e,t,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s&&(z_(n(a,s,e,t,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]))return a}}var Jz={grid:function(n,e,t,i,r){var o=t.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=e[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,e,t,i,r){var o=t.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),"radiusAxis"===t.mainType?(a.pixel=e[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,e,t,i,r){var o=t.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};const fZt=hZt;function mat(n){Mz(n),n.registerComponentModel(rZt),n.registerComponentView(fZt),function dZt(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=Kz(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=Wi());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){Xt(cot(o).infoList,function(s){var l=s.model.uid,c=r.get(l)||r.set(l,function sZt(n,e){var t={model:e,containsPoint:Nr(cZt,e),dispatchAction:Nr(lZt,n),dataZoomInfoMap:null,controller:null},i=t.controller=new EC(n.getZr());return Xt(["pan","zoom","scrollMove"],function(r){i.on(r,function(o){var a=[];t.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],c=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,o);!s.model.get("disabled",!0)&&c&&a.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),a.length&&t.dispatchAction(a)})}),t}(t,s.model));(c.dataZoomInfoMap||(c.dataZoomInfoMap=Wi())).set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),r.each(function(o){var s,a=o.controller,l=o.dataZoomInfoMap;if(l){var c=l.keys()[0];null!=c&&(s=l.get(c))}if(s){var u=function uZt(n){var e,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(o){var a=o.model,s=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");i[t+s]>i[t+e]&&(e=s),r=r&&a.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(l);a.enable(u.controlType,u.opt),a.setPointerChecker(o.containsPoint),ub(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else fat(r,o)})})}(n)}var pZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=ug(HC.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(HC);const mZt=pZt;var $C=Qo,qC="horizontal",_Zt=5,yZt=["line","bar","candlestick","scatter"],bZt={easing:"cubicOut",duration:100,delay:0},xZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return mn(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=yi(this._onBrush,this),this._onBrushEnd=yi(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),ub(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!o||"dataZoom"!==o.type||o.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){K1(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new br;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,o=t.get("brushSelect")?7:0,a=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},l=this._orient===qC?{right:s.width-a.x-a.width,top:s.height-30-7-o,width:a.width,height:30}:{right:7,top:a.y,width:30,height:a.height},c=J0(t.option);Xt(["right","top","width","height"],function(d){"ph"===c[d]&&(c[d]=l[d])});var u=Lc(c,s);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],"vertical"===this._orient&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==qC||a?r===qC&&a?{scaleY:l?1:-1,scaleX:-1}:"vertical"!==r||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var c=t.getBoundingRect([s]);t.x=i.x-c.x,t.y=i.y-c.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new $C({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new $C({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:yi(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=this._shadowSize||[],o=t.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():t.otherDim;if(null!=l){var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var d=a.getDataExtent(l),h=.3*(d[1]-d[0]);d=[d[0]-h,d[1]+h];var k,p=[0,i[1]],y=[[i[0],0],[0,0]],b=[],w=i[0]/(a.count()-1),M=0,E=Math.round(a.count()/i[0]);a.each([l],function(st,Lt){if(E>0&&Lt%E)M+=w;else{var kt=null==st||isNaN(st)||""===st,te=kt?0:ls(st,d,p,!0);kt&&!k&&Lt?(y.push([y[y.length-1][0],0]),b.push([b[b.length-1][0],0])):!kt&&k&&(y.push([M,0]),b.push([M,0])),y.push([M,te]),b.push([M,te]),M+=w,k=kt}}),c=this._shadowPolygonPts=y,u=this._shadowPolylinePts=b}this._shadowData=a,this._shadowDim=l,this._shadowSize=[i[0],i[1]];for(var Lt,kt,te,ne,j=this.dataZoomModel,rt=0;rt<3;rt++){var yt=(Lt=void 0,kt=void 0,void 0,void 0,Lt=j.getModel(1===rt?"selectedDataBackground":"dataBackground"),kt=new br,te=new Md({shape:{points:c},segmentIgnoreThreshold:1,style:Lt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ne=new Ed({shape:{points:u},segmentIgnoreThreshold:1,style:Lt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),kt.add(te),kt.add(ne),kt);this._displayables.sliderGroup.add(yt),this._displayables.dataShadowSegs.push(yt)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return t.eachTargetAxis(function(a,s){Xt(t.getAxisProxy(a,s).getTargetSeriesModels(),function(c){if(!(r||!0!==i&&uo(yZt,c.get("type"))<0)){var h,u=o.getComponent(Tg(a),s).axis,d=function wZt(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(a),p=c.coordinateSystem;null!=d&&p.getOtherAxis&&(h=p.getOtherAxis(u).inverse),d=c.getData().mapDimension(d),r={thisAxis:u,series:c,thisDim:a,otherDim:d,otherAxisInverse:h}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,d=l.get("brushSelect"),h=i.filler=new $C({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(h),a.add(new $C({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Xt([0,1],function(E){var k=l.get("handleIcon");!gA[k]&&k.indexOf("path://")<0&&k.indexOf("image://")<0&&(k="path://"+k);var j=yc(k,-1,0,2,2,null,!0);j.attr({cursor:_at(this._orient),draggable:!0,drift:yi(this._onDragMove,this,E),ondragend:yi(this._onDragEnd,this),onmouseover:yi(this._showDataInfo,this,!0),onmouseout:yi(this._showDataInfo,this,!1),z2:5});var H=j.getBoundingRect(),rt=l.get("handleSize");this._handleHeight=ni(rt,this._size[1]),this._handleWidth=H.width/H.height*this._handleHeight,j.setStyle(l.getModel("handleStyle").getItemStyle()),j.style.strokeNoScale=!0,j.rectHover=!0,j.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),r_(j);var yt=l.get("handleColor");null!=yt&&(j.style.fill=yt),a.add(r[E]=j);var st=l.getModel("textStyle");t.add(o[E]=new la({silent:!0,invisible:!0,style:js(st,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:st.getTextColor(),font:st.getFont()}),z2:10}))},this);var p=h;if(d){var g=ni(l.get("moveHandleSize"),s[1]),y=i.moveHandle=new Qo({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),b=.8*g,w=i.moveHandleIcon=yc(l.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);w.silent=!0,w.y=s[1]+g/2-.5,y.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(s[1]/2,Math.max(g,10));(p=i.moveZone=new Qo({invisible:!0,shape:{y:s[1]-M,height:g+M}})).on("mouseover",function(){c.enterEmphasis(y)}).on("mouseout",function(){c.leaveEmphasis(y)}),a.add(y),a.add(w),a.add(p)}p.attr({draggable:!0,cursor:_at(this._orient),drift:yi(this._onDragMove,this,"all"),ondragstart:yi(this._showDataInfo,this,!0),ondragend:yi(this._onDragEnd,this),onmouseover:yi(this._showDataInfo,this,!0),onmouseout:yi(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[ls(t[0],[0,100],i,!0),ls(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];z_(i,o,a,r.get("zoomLock")?"all":t,null!=s.minSpan?ls(s.minSpan,l,a,!0):null,null!=s.maxSpan?ls(s.maxSpan,l,a,!0):null);var c=this._range,u=this._range=Sh([ls(o[0],a,l,!0),ls(o[1],a,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=Sh(r.slice()),a=this._size;Xt([0,1],function(p){var y=this._handleHeight;i.handles[p].attr({scaleX:y/2,scaleY:y/2,x:r[p]+(p?-1:1),y:a[1]/2-y/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,c=[0,o[0],o[1],a[0]],u=0;u<l.length;u++){var d=l[u],h=d.getClipPath();h||(h=new Qo,d.setClipPath(h)),h.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:a[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,d=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],c),this._formatLabel(d[1],c)]}}var h=Sh(this._handleEnds.slice());function p(g){var y=v_(r.handles[g].parent,this.group),b=dA(0===g?"right":"left",y),w=this._handleWidth/2+_Zt,M=cf([h[g]+(0===g?-w:w),this._size[1]/2],y);o[g].setStyle({x:M[0],y:M[1],verticalAlign:a===qC?"middle":b,align:a===qC?b:"center",text:s[g]})}p.call(this,0),p.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");(null==a||"auto"===a)&&(a=i.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return Ki(o)?o(t,s):ci(o)?o.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(t=this._dragging||t)),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,Zp(o.event);var s=cf([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){this._brushStart=new Wr(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=Sh([ls(r.x,a,s,!0),ls(r.x+r.width,a,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Zp(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new $C({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(t,i),u=l.transformCoordToLocal(s.x,s.y),d=this._size;c[0]=Math.max(Math.min(d[0],c[0]),0),a.setShape({x:u[0],y:0,width:c[0]-u[0],height:d[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?bZt:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=cot(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),a=this.api.getHeight();t={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return t},e.type="dataZoom.slider",e}(Sz);function _at(n){return"vertical"===n?"ns-resize":"ew-resize"}const CZt=xZt;function yat(n){n.registerComponentModel(mZt),n.registerComponentView(CZt),Mz(n)}var MZt={get:function(n,e,t){var i=fr((EZt[n]||{})[e]);return t&&Rn(i)?i[i.length-1]:i}},EZt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const bat=MZt;var xat=bu.mapVisual,TZt=bu.eachVisual,DZt=Rn,wat=Xt,AZt=Sh,IZt=ls,PZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return mn(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){!i&&Vot(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=yi(t,this),this.controllerVisuals=Lz(this.option.controller,i,t),this.targetVisuals=Lz(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=bs(t),i},e.prototype.eachTargetSeries=function(t,i){Xt(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var c,o=this.option,a=o.precision,s=this.dataBound,l=o.formatter;r=r||["<",">"],Rn(t)&&(t=t.slice(),c=!0);var u=i?t:c?[d(t[0]),d(t[1])]:d(t);return ci(l)?l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u):Ki(l)?c?l(t[0],t[1]):l(t):c?t[0]===s[0]?r[0]+" "+u[1]:t[1]===s[1]?r[1]+" "+u[0]:u[0]+" - "+u[1]:u;function d(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,i=AZt([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var s=t.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});$r(o,r),$r(a,r);var s=this.isCategory();function l(d){DZt(i.color)&&!d.inRange&&(d.inRange={color:i.color.slice().reverse()}),d.inRange=d.inRange||{color:t.get("gradientColor")}}l.call(this,o),l.call(this,a),function c(d,h,p){var g=d[h],y=d[p];g&&!y&&(y=d[p]={},wat(g,function(b,w){if(bu.isValidType(w)){var M=bat.get(w,"inactive",s);null!=M&&(y[w]=M,"color"===w&&!y.hasOwnProperty("opacity")&&!y.hasOwnProperty("colorAlpha")&&(y.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function u(d){var h=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,p=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),b=this.getItemSymbol()||"roundRect";wat(this.stateList,function(w){var M=this.itemSize,E=d[w];E||(E=d[w]={color:s?g:[g]}),null==E.symbol&&(E.symbol=h&&fr(h)||(s?b:[b])),null==E.symbolSize&&(E.symbolSize=p&&fr(p)||(s?M[0]:[M[0],M[0]])),E.symbol=xat(E.symbol,function(H){return"none"===H?b:H});var k=E.symbolSize;if(null!=k){var j=-1/0;TZt(k,function(H){H>j&&(j=H)}),E.symbolSize=xat(k,function(H){return IZt(H,[0,j],[0,M[0]],!0)})}},this)}.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ca);const UI=PZt;var Cat=[20,140],kZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=Cat[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Cat[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):Rn(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Xt(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Sh((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){t[0]<=s&&s<=t[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=Sat(0,0,this.getExtent()),r=Sat(0,0,this.option.range.slice()),o=[];function a(p,g){o.push({value:p,color:t(p,g)})}for(var s=0,l=0,c=r.length,u=i.length;l<u&&(!r.length||i[l]<=r[0]);l++)i[l]<r[s]&&a(i[l],"outOfRange");for(var d=1;s<c;s++,d=0)d&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(d=1;l<u;l++)(!r.length||r[r.length-1]<i[l])&&(d&&(o.length&&a(o[o.length-1].value,"outOfRange"),d=0),a(i[l],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=ug(UI.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(UI);function Sat(n,e,t){if(t[0]===t[1])return t.slice();for(var r=(t[1]-t[0])/200,o=t[0],a=[],s=0;s<=200&&o<t[1];s++)a.push(o),o+=r;return a.push(t[1]),a}const RZt=kZt;var LZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return mn(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,r,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=Q0(i.get("padding")||0),o=t.getBoundingRect();t.add(new Qo({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===i){var l=a.get("contentColor");s.color=l}function c(p){return s[p]}function u(p,g){s[p]=g}var d=a.controllerVisuals[o||a.getValueState(t)];return Xt(bu.prepareVisualTypes(d),function(p){var g=d[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",g=d.__alphaForOpacity),bu.dependsOn(p,i)&&g&&g.applyVisual(t,c,u)}),s[i]},e.prototype.positionGroup=function(t){var r=this.api;WD(t,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(Il);const Mat=LZt;var Eat=[["left","right","width"],["top","bottom","height"]];function Tat(n,e,t){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=Eat[a],l=[0,null,10],c={},u=0;u<3;u++)c[Eat[1-a][u]]=l[u],c[s[u]]=2===u?t[0]:i[s[u]];var d=[["x","width",3],["y","height",0]][a],h=Lc(c,o,i.padding);return s[(h.margin[d[2]]||0)+h[d[0]]+.5*h[d[1]]<.5*o[d[1]]?0:1]}function GI(n,e){return Xt(n||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var np=ls,OZt=Xt,Dat=Math.min,e5=Math.max,BZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return mn(e,n),e.prototype.doRender=function(t,i,r,o){this._api=r,(!o||"selectDataRange"!==o.type||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],c),d=this._applyTransform(0===r?"bottom":"top",c),h=this._orient;this.group.add(new la({style:js(this.visualMapModel.textStyleModel,{x:u[0],y:u[1],verticalAlign:"horizontal"===h?"middle":d,align:"horizontal"===h?d:"center",text:o})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,s=this._useHandle,l=Tat(i,this.api,o),c=r.mainGroup=this._createBarGroup(l),u=new br;c.add(u),u.add(r.outOfRange=Aat()),u.add(r.inRange=Aat(null,s?Pat(this._orient):null,yi(this._dragHandle,this,"all",!1),yi(this._dragHandle,this,"all",!0))),u.setClipPath(new Qo({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var d=i.textStyleModel.getTextRect("\u56fd"),h=e5(d.width,d.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,c,0,o,h,a),this._createHandle(i,c,1,o,h,a)),this._createIndicator(i,c,o,h,a),t.add(c)},e.prototype._createHandle=function(t,i,r,o,a,s){var l=yi(this._dragHandle,this,r,!1),c=yi(this._dragHandle,this,r,!0),u=nf(t.get("handleSize"),o[0]),d=yc(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),h=Pat(this._orient);d.attr({cursor:h,draggable:!0,drift:l,ondragend:c,onmousemove:function(w){Zp(w.event)}}),d.x=o[0]/2,d.useStyle(t.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),o_(d,!0),i.add(d);var g=new la({cursor:h,draggable:!0,drift:l,onmousemove:function(w){Zp(w.event)},ondragend:c,style:js(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var y=[u,0],b=this._shapes;b.handleThumbs[r]=d,b.handleLabelPoints[r]=y,b.handleLabels[r]=g},e.prototype._createIndicator=function(t,i,r,o,a){var s=nf(t.get("indicatorSize"),r[0]),l=yc(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof gu){var u=l.style;l.useStyle(Dn({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);i.add(l);var h=new la({silent:!0,invisible:!0,style:js(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(h);var p=[("horizontal"===a?o/2:6)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():Iat(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[np(i[0],r,o,!0),np(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];z_(i=i||0,o,a,t,0);var s=r.getExtent();this._dataInterval=[np(o[0],a,s,!0),np(o[1],a,s,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],s=t?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),c=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,a),l=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],c=this._createBarPoints(r,l);return{barColor:new $f(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var o=[],a=(t[1]-t[0])/100;o.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var s=1;s<100;s++){var l=t[0]+a*s;if(l>t[1])break;o.push({color:this.getControllerVisual(l,"color",i),offset:s/100})}return o.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),o},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new br("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,c=o.getExtent();OZt([0,1],function(u){var d=a[u];d.setStyle("fill",i.handlesColor[u]),d.y=t[u];var h=np(t[u],[0,l[1]],c,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var g=cf(r.handleLabelPoints[u],v_(d,this.group));s[u].setStyle({x:g[0],y:g[1],text:o.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,c=[0,l[1]],u=this._shapes,d=u.indicator;if(d){d.attr("invisible",!1);var p=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),g=this.getControllerVisual(t,"symbolSize"),y=np(t,s,c,!0),b=l[0]-g/2,w={x:d.x,y:d.y};d.y=y,d.x=b;var M=cf(u.indicatorLabelPoint,v_(d,this.group)),E=u.indicatorLabel;E.attr("invisible",!1);var k=this._applyTransform("left",u.mainGroup),H="horizontal"===this._orient;E.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:H?k:"middle",align:H?"center":k});var rt={x:b,y,style:{fill:p}},yt={style:{x:M[0],y:M[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var st={duration:100,easing:"cubicInOut",additive:!0};d.x=w.x,d.y=w.y,d.animateTo(rt,st),E.animateTo(yt,st)}else d.attr(rt),E.attr(yt);this._firstShowIndicator=!1;var Lt=this._shapes.handleLabels;if(Lt)for(var kt=0;kt<Lt.length;kt++)this._api.enterBlur(Lt[kt])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=Dat(e5(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();t=Dat(e5(a[0],t),a[1]);var l=function VZt(n,e,t){var i=6,r=n.get("hoverLinkDataSize");return r&&(i=np(r,e,t,!0)/2),i}(r,s,a),c=[t-l,t+l],u=np(t,a,s,!0),d=[np(c[0],a,s,!0),np(c[1],a,s,!0)];c[0]<a[0]&&(d[0]=-1/0),c[1]>a[1]&&(d[1]=1/0),i&&(d[0]===-1/0?this._showIndicator(u,d[1],"< ",l):d[1]===1/0?this._showIndicator(u,d[0],"> ",l):this._showIndicator(u,u,"\u2248 ",l));var h=this._hoverLinkDataIndices,p=[];(i||Iat(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(d));var g=function bIt(n,e){var t={},i={};return r(n||[],t),r(e||[],i,t),[o(t),o(i)];function r(a,s,l){for(var c=0,u=a.length;c<u;c++){var d=Rc(a[c].seriesId,null);if(null==d)return;for(var h=bs(a[c].dataIndex),p=l&&l[d],g=0,y=h.length;g<y;g++){var b=h[g];p&&p[b]?p[b]=null:(s[d]||(s[d]={}))[b]=1}}}function o(a,s){var l=[];for(var c in a)if(a.hasOwnProperty(c)&&null!=a[c])if(s)l.push(+c);else{var u=o(a[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}(h,p);this._dispatchHighDown("downplay",GI(g[0],r)),this._dispatchHighDown("highlight",GI(g[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(__(t.target,function(l){var c=kr(l);if(null!=c.dataIndex)return i=c,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(i.dataType),s=a.getStore().get(o.getDataDimensionIndex(a),i.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",GI(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var a=v_(i,o?null:this.group);return Rn(t)?cf(t,a,r):dA(t,a,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Mat);function Aat(n,e,t,i){return new Md({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){Zp(r.event)},ondragend:i})}function Iat(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function Pat(n){return"vertical"===n?"ns-resize":"ew-resize"}const zZt=BZt;var UZt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},GZt=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},HZt=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r=n.pipelineContext;!i.isTargetSeries(n)||r&&r.large||t.push(function Fjt(n,e,t,i){var r={};return Xt(n,function(o){var a=bu.prepareVisualTypes(e[o]);r[o]=a}),{progress:function(a,s){var l;function c(j){return CB(s,d,j)}function u(j,H){tQ(s,d,j,H)}null!=i&&(l=s.getDimensionIndex(i));for(var d,h=s.getStore();null!=(d=a.next());){var p=s.getRawDataItem(d);if(!p||!1!==p.visualMap)for(var g=null!=i?h.get(l,d):d,y=t(g),b=e[y],w=r[y],M=0,E=w.length;M<E;M++){var k=w[M];b[k]&&b[k].applyVisual(g,c,u)}}}}}(i.stateList,i.targetVisuals,yi(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(yi(jZt,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(t);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function jZt(n,e,t,i){for(var r=e.targetVisuals[i],o=bu.prepareVisualTypes(r),a={color:tC(n.getData(),"color")},s=0,l=o.length;s<l;s++){var c=o[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(t,d,h)}return a.color;function d(p){return a[p]}function h(p,g){a[p]=g}}var kat=Xt;function WZt(n){var e=n&&n.visualMap;Rn(e)||(e=e?[e]:[]),kat(e,function(t){if(t){Ob(t,"splitList")&&!Ob(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&Rn(i)&&kat(i,function(r){ar(r)&&(Ob(r,"start")&&!Ob(r,"min")&&(r.min=r.start),Ob(r,"end")&&!Ob(r,"max")&&(r.max=r.end))})}})}function Ob(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var Rat=!1;function Lat(n){Rat||(Rat=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(UZt,GZt),Xt(HZt,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(WZt))}function Oat(n){n.registerComponentModel(RZt),n.registerComponentView(zZt),Lat(n)}var ZZt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return mn(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],YZt[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=fr(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=On(this._pieceList,function(l){return l=fr(l),"inRange"!==s&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=bu.listVisualTypes(),o=this.isCategory();function a(s,l,c){return s&&s[l]&&s[l].hasOwnProperty(c)}Xt(t.pieces,function(s){Xt(r,function(l){s.hasOwnProperty(l)&&(i[l]=1)})}),Xt(i,function(s,l){var c=!1;Xt(this.stateList,function(u){c=c||a(t,u,l)||a(t.target,u,l)},this),!c&&Xt(this.stateList,function(u){(t[u]||(t[u]={}))[l]=bat.get(l,"inRange"===u?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,a=(i?r:t).selected||{};if(r.selected=a,Xt(o,function(l,c){var u=this.getSelectedMapKey(l);a.hasOwnProperty(u)||(a[u]=!0)},this),"single"===r.selectedMode){var s=!1;Xt(o,function(l,c){var u=this.getSelectedMapKey(l);a[u]&&(s?a[u]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=fr(t)},e.prototype.getValueState=function(t){var i=bu.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,c){bu.findPieceIndex(l,r)===t&&a.push(c)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],o=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var c=-1/0;return Xt(s,function(u){var d=u.interval;d&&(d[0]>c&&a([c,d[0]],"outOfRange"),a(d.slice()),c=d[1])},this),{stops:i,outerColors:r}}function a(u,d){var h=o.getRepresentValue({interval:u});d||(d=o.getValueState(h));var p=t(h,d);u[0]===-1/0?r[0]=p:u[1]===1/0?r[1]=p:i.push({value:u[0],color:p},{value:u[1],color:p})}},e.type="visualMap.piecewise",e.defaultOption=ug(UI.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(UI),YZt={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++)n.push({interval:[s,a===r-1?i[1]:s+o],close:[1,1]});e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),uX(n),Xt(n,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(n){var e=this.option;Xt(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),Nat(e,n)},pieces:function(n){var e=this.option;Xt(e.pieces,function(t,i){ar(t)||(t={value:t});var r={text:"",index:i};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],p=0;p<3&&null==a[d];p++)a[d]=t[h[p]],s[d]=l[p],u[d]=2===p;null==a[d]&&(a[d]=c[d])}u[0]&&a[1]===1/0&&(s[0]=0),u[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=bu.retrieveVisuals(t),n.push(r)},this),Nat(e,n),uX(n),Xt(n,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function Nat(n,e){var t=n.inverse;("vertical"===n.orient?!t:t)&&e.reverse()}const XZt=ZZt;var $Zt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return mn(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),c=i.itemSize,u=this._getViewData(),d=u.endsText,h=Jc(i.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],c,h,l),Xt(u.viewPieceList,function(p){var g=p.piece,y=new br;y.onclick=yi(this._onItemClick,this,g),this._enableHoverLink(y,p.indexInModelPieceList);var b=i.getRepresentValue(g);if(this._createItemSymbol(y,b,[0,0,c[0],c[1]]),h){var w=this.visualMapModel.getValueState(b);y.add(new la({style:{x:"right"===l?-r:c[0]+r,y:c[1]/2,text:g.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===w?.5:1}}))}t.add(y)},this),d&&this._renderEndsText(t,d[1],c,h,l),u_(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:GI(s.findTargetDataIndices(i),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return Tat(t,this.api,t.itemSize);var r=i.align;return(!r||"auto"===r)&&(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,a){if(i){var s=new br;s.add(new la({style:js(this.visualMapModel.textStyleModel,{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=On(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=t.get("text"),o=t.get("orient"),a=t.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(yc(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=fr(r.selected),s=i.getSelectedMapKey(t);"single"===o||!0===o?(a[s]=!0,Xt(a,function(l,c){a[c]=c===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e}(Mat);const qZt=$Zt;function Fat(n){n.registerComponentModel(XZt),n.registerComponentView(qZt),Lat(n)}var QZt={label:{enabled:!0},decal:{show:!1}},Bat=Ko(),JZt={};function t9t(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=fr(QZt);$r(i.label,n.getLocaleModel().get("aria"),!1),$r(t.option,i,!1),function r(){if(t.getModel("decal").get("show")){var d=Wi();n.eachSeries(function(h){if(!h.isColorBySeries()){var p=d.get(h.type);p||d.set(h.type,p={}),Bat(h).scope=p}}),n.eachRawSeries(function(h){if(!n.isSeriesFiltered(h))if(Ki(h.enableAriaDecal))h.enableAriaDecal();else{var p=h.getData();if(h.isColorBySeries()){var M=WF(h.ecModel,h.name,JZt,n.getSeriesCount()),E=p.getVisual("decal");p.setVisual("decal",k(E,M))}else{var g=h.getRawData(),y={},b=Bat(h).scope;p.each(function(j){var H=p.getRawIndex(j);y[H]=j});var w=g.count();g.each(function(j){var H=y[j],rt=g.getName(j)||j+"",yt=WF(h.ecModel,rt,b,w),st=p.getItemVisual(H,"decal");p.setItemVisual(H,"decal",k(st,yt))})}}function k(j,H){var rt=j?Dn(Dn({},H),j):H;return rt.dirty=!0,rt}})}}(),function o(){var c=n.getLocaleModel().get("aria"),u=t.getModel("label");if(u.option=nr(u.option,c),u.get("enabled")){var d=e.getZr().dom;if(u.get("description"))return void d.setAttribute("aria-label",u.get("description"));var b,h=n.getSeriesCount(),p=u.get(["data","maxCount"])||10,g=u.get(["series","maxCount"])||10,y=Math.min(h,g);if(!(h<1)){var w=function s(){var c=n.get("title");return c&&c.length&&(c=c[0]),c&&c.text}();b=w?a(u.get(["general","withTitle"]),{title:w}):u.get(["general","withoutTitle"]);var E=[];b+=a(u.get(h>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:h}),n.eachSeries(function(yt,st){if(st<y){var Lt=void 0,te=yt.get("name")?"withName":"withoutName";Lt=a(Lt=u.get(h>1?["series","multiple",te]:["series","single",te]),{seriesId:yt.seriesIndex,seriesName:yt.get("name"),seriesType:l(yt.subType)});var ne=yt.getData();ne.count()>p?Lt+=a(u.get(["data","partialData"]),{displayCnt:p}):Lt+=u.get(["data","allData"]);for(var Te=u.get(["data","separator","middle"]),be=u.get(["data","separator","end"]),Ve=[],Fe=0;Fe<ne.count();Fe++)if(Fe<p){var Ke=ne.getName(Fe),In=ne.getValues(Fe),Nn=u.get(["data",Ke?"withName":"withoutName"]);Ve.push(a(Nn,{name:Ke,value:In.join(Te)}))}Lt+=Ve.join(Te)+be,E.push(Lt)}});var j=u.getModel(["series","multiple","separator"]),H=j.get("middle"),rt=j.get("end");b+=E.join(H)+rt,d.setAttribute("aria-label",b)}}}()}function a(c,u){if(!ci(c))return c;var d=c;return Xt(u,function(h,p){d=d.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),h)}),d}function l(c){return n.getLocaleModel().get(["series","typeNames"])[c]||"\u81ea\u5b9a\u4e49\u56fe"}}function e9t(n){if(n&&n.aria){var e=n.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},Xt(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var Vat={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},i9t=function(){function n(e){var t=this._condVal=ci(e)?new RegExp(e):function ADt(n){return"[object RegExp]"===P0.call(n)}(e)?e:null;null==t&&es("")}return n.prototype.evaluate=function(e){var t=typeof e;return ci(t)?this._condVal.test(e):!!sa(t)&&this._condVal.test(e+"")},n}(),r9t=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),o9t=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),a9t=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),s9t=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),l9t=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,i=(0,this.getValue)(this.valueGetterParam),r=e?this.valueParser(i):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?r:i))return!1;return!0},n}();function n5(n,e){if(!0===n||!1===n){var t=new r9t;return t.value=n,t}return Uat(n)||es(""),n.and?zat("and",n,e):n.or?zat("or",n,e):n.not?function c9t(n,e){var t=n.not;Uat(t)||es("");var r=new s9t;return r.child=n5(t,e),r.child||es(""),r}(n,e):function u9t(n,e){for(var i=e.prepareGetValue(n),r=[],o=Ro(n),a=n.parser,s=a?Fq(a):null,l=0;l<o.length;l++){var c=o[l];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var u=xi(Vat,c)?Vat[c]:c,d=n[c],h=s?s(d):d,p=iRt(u,h)||"reg"===u&&new i9t(h);p||es(""),r.push(p)}}r.length||es("");var g=new l9t;return g.valueGetterParam=i,g.valueParser=s,g.getValue=e.getValue,g.subCondList=r,g}(n,e)}function zat(n,e,t){var i=e[n];Rn(i)||es(""),i.length||es("");var o="and"===n?new o9t:new a9t;return o.children=On(i,function(a){return n5(a,t)}),o.children.length||es(""),o}function Uat(n){return ar(n)&&!Pu(n)}var d9t=function(){function n(e,t){this._cond=n5(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),f9t={type:"echarts:filter",transform:function(n){for(var t,e=n.upstream,i=function h9t(n,e){return new d9t(n,e)}(n.config,{valueGetterAttrMap:Wi({dimension:!0}),prepareGetValue:function(s){var c=s.dimension;xi(s,"dimension")||es("");var u=e.getDimensionInfo(c);return u||es(""),{dimIdx:u.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),r=[],o=0,a=e.count();o<a;o++)t=e.getRawDataItem(o),i.evaluate()&&r.push(t);return{data:r}}},p9t={type:"echarts:sort",transform:function(n){var e=n.upstream,i="",r=bs(n.config);r.length||es(i);var o=[];Xt(r,function(u){var d=u.dimension,h=u.order,p=u.parser,g=u.incomparable;null==d&&es(i),"asc"!==h&&"desc"!==h&&es(i),g&&"min"!==g&&"max"!==g&&es(""),"asc"!==h&&"desc"!==h&&es("");var w=e.getDimensionInfo(d);w||es(i);var M=p?Fq(p):null;p&&!M&&es(i),o.push({dimIdx:w.index,parser:M,comparator:new Vq(h,g)})});var a=e.sourceFormat;a!==ku&&a!==Ah&&es(i);for(var s=[],l=0,c=e.count();l<c;l++)s.push(e.getRawDataItem(l));return s.sort(function(u,d){for(var h=0;h<o.length;h++){var p=o[h],g=e.retrieveValueFromItem(u,p.dimIdx),y=e.retrieveValueFromItem(d,p.dimIdx);p.parser&&(g=p.parser(g),y=p.parser(y));var b=p.comparator.evaluate(g,y);if(0!==b)return b}return 0}),{data:s}}},g9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return mn(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new Wq(this),Zq(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),Zq(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Zf},e}(ca),v9t=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return mn(e,n),e.type="dataset",e}(Il),ip=jf.CMD;function Nb(n,e){return Math.abs(n-e)<1e-5}function r5(n){var r,ne,de,Te,be,Ve,Fe,Ke,In,Nn,qn,Kn,Gn,Ui,ji,cr,Sr,Mi,e=n.data,t=n.len(),i=[],o=0,a=0,s=0,l=0;function c(ne,de){r&&r.length>2&&i.push(r),r=[ne,de]}function u(ne,de,Te,be){Nb(ne,Te)&&Nb(de,be)||r.push(ne,de,Te,be,Te,be)}for(var h,p,g,y,b=0;b<t;){var w=e[b++],M=1===b;switch(M&&(s=o=e[b],l=a=e[b+1],(w===ip.L||w===ip.C||w===ip.Q)&&(r=[s,l])),w){case ip.M:o=s=e[b++],a=l=e[b++],c(s,l);break;case ip.L:u(o,a,h=e[b++],p=e[b++]),o=h,a=p;break;case ip.C:r.push(e[b++],e[b++],e[b++],e[b++],o=e[b++],a=e[b++]);break;case ip.Q:h=e[b++],p=e[b++],g=e[b++],y=e[b++],r.push(o+2/3*(h-o),a+2/3*(p-a),g+2/3*(h-g),y+2/3*(p-y),g,y),o=g,a=y;break;case ip.A:var E=e[b++],k=e[b++],j=e[b++],H=e[b++],rt=e[b++],yt=e[b++]+rt;b+=1;var st=!e[b++];h=Math.cos(rt)*j+E,p=Math.sin(rt)*H+k,M?c(s=h,l=p):u(o,a,h,p),o=Math.cos(yt)*j+E,a=Math.sin(yt)*H+k;for(var Lt=(st?-1:1)*Math.PI/2,kt=rt;st?kt>yt:kt<yt;kt+=Lt){ne=kt,de=st?Math.max(kt+Lt,yt):Math.min(kt+Lt,yt),Te=E,be=k,Ve=j,Fe=H,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ke=Math.abs(de-ne),In=4*Math.tan(Ke/4)/3,Nn=de<ne?-1:1,qn=Math.cos(ne),Kn=Math.sin(ne),Gn=Math.cos(de),Ui=Math.sin(de),r.push(qn*Ve+Te-(Sr=Ve*In*Nn)*Kn,Kn*Fe+be+(Mi=Fe*In*Nn)*qn,(ji=Gn*Ve+Te)+Sr*Ui,(cr=Ui*Fe+be)-Mi*Gn,ji,cr)}break;case ip.R:s=o=e[b++],l=a=e[b++],h=s+e[b++],p=l+e[b++],c(h,l),u(h,l,h,p),u(h,p,s,p),u(s,p,s,l),u(s,l,h,l);break;case ip.Z:r&&u(o,a,s,l),o=s,a=l}}return r&&r.length>2&&i.push(r),i}function o5(n,e,t,i,r,o,a,s,l,c){if(Nb(n,t)&&Nb(e,i)&&Nb(r,a)&&Nb(o,s))l.push(a,s);else{var u=2/c,d=u*u,h=a-n,p=s-e,g=Math.sqrt(h*h+p*p);h/=g,p/=g;var y=t-n,b=i-e,w=r-a,M=o-s,E=y*y+b*b,k=w*w+M*M;if(E<d&&k<d)l.push(a,s);else{var j=h*y+p*b,H=-h*w-p*M;if(E-j*j<d&&j>=0&&k-H*H<d&&H>=0)l.push(a,s);else{var st=[],Lt=[];ng(n,t,r,a,.5,st),ng(e,i,o,s,.5,Lt),o5(st[0],Lt[0],st[1],Lt[1],st[2],Lt[2],st[3],Lt[3],l,c),o5(st[4],Lt[4],st[5],Lt[5],st[6],Lt[6],st[7],Lt[7],l,c)}}}}function Gat(n,e,t){var o=Math.abs(n[e]/n[1-e]),a=Math.ceil(Math.sqrt(o*t)),s=Math.floor(t/a);0===s&&(s=1,a=t);for(var l=[],c=0;c<a;c++)l.push(s);var d=t-a*s;if(d>0)for(c=0;c<d;c++)l[c%a]+=1;return l}function Hat(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,s=Math.abs(n.endAngle-o),l=s*r,c=r-i,u=l>Math.abs(c),d=Gat([l,c],u?0:1,e),h=(u?s:c)/d.length,p=0;p<d.length;p++)for(var g=(u?c:s)/d[p],y=0;y<d[p];y++){var b={};u?(b.startAngle=o+h*p,b.endAngle=o+h*(p+1),b.r0=i+g*y,b.r=i+g*(y+1)):(b.startAngle=o+g*y,b.endAngle=o+g*(y+1),b.r0=i+h*p,b.r=i+h*(p+1)),b.clockwise=n.clockwise,b.cx=n.cx,b.cy=n.cy,t.push(b)}}function jat(n,e,t,i){return n*i-t*e}function x9t(n,e,t,i,r,o,a,s){var l=t-n,c=i-e,u=a-r,d=s-o,h=jat(u,d,l,c);if(Math.abs(h)<1e-6)return null;var y=jat(n-r,e-o,u,d)/h;return y<0||y>1?null:new Wr(y*l+n,y*c+e)}function w9t(n,e,t){var i=new Wr;Wr.sub(i,t,e),i.normalize();var r=new Wr;return Wr.sub(r,n,e),r.dot(i)}function Fb(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function Wat(n){var e=n.points,t=[],i=[];ED(e,t,i);var r=new Kr(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,a=r.height,s=r.x,l=r.y,c=new Wr,u=new Wr;return o>a?(c.x=u.x=s+o/2,c.y=l,u.y=l+a):(c.y=u.y=l+a/2,c.x=s,u.x=s+o),function C9t(n,e,t){for(var i=n.length,r=[],o=0;o<i;o++){var a=n[o],s=n[(o+1)%i],l=x9t(a[0],a[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&r.push({projPt:w9t(l,e,t),pt:l,idx:o})}if(r.length<2)return[{points:n},{points:n}];r.sort(function(b,w){return b.projPt-w.projPt});var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var d=c;c=u,u=d}var h=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],g=[h],y=[p];for(o=c.idx+1;o<=u.idx;o++)Fb(g,n[o].slice());for(Fb(g,p),Fb(g,h),o=u.idx+1;o<=c.idx+i;o++)Fb(y,n[o%i].slice());return Fb(y,h),Fb(y,p),[{points:g},{points:y}]}(e,c,u)}function HI(n,e,t,i){if(1===t)i.push(e);else{var r=Math.floor(t/2),o=n(e);HI(n,o[0],r,i),HI(n,o[1],t-r,i)}return i}function M9t(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function D9t(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],a=t<i?n:e,s=Math.min(t,i),l=Math.abs(i-t)/6,u=Math.ceil(l/((s-2)/6))+1,d=[a[0],a[1]],h=l,p=2;p<s;){var g=a[p-2],y=a[p-1],b=a[p++],w=a[p++],M=a[p++],E=a[p++],k=a[p++],j=a[p++];if(h<=0)d.push(b,w,M,E,k,j);else{for(var H=Math.min(h,u-1)+1,rt=1;rt<=H;rt++){var yt=rt/H;ng(g,b,M,k,yt,r),ng(y,w,E,j,yt,o),d.push(r[1],o[1],r[2],o[2],g=r[3],y=o[3]),b=r[5],w=o[5],M=r[6],E=o[6]}h-=H-1}}return a===n?[d,e]:[n,d]}function Zat(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function Yat(n){for(var e=0,t=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var s=n[a],l=n[a+1],c=n[o],u=n[o+1],d=s*u-c*l;e+=d,t+=(s+c)*d,i+=(l+u)*d}return 0===e?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function I9t(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,a=0,s=n.length,l=s-2,c=0;c<r;c++){for(var u=6*c,d=0,h=0;h<s;h+=2){var p=0===h?u:(u+h-2)%l+2,M=e[h]-i[0]-(n[p]-t[0]),E=e[h+1]-i[1]-(n[p+1]-t[1]);d+=M*M+E*E}d<o&&(o=d,a=c)}return a}function P9t(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function jI(n){return n.__isCombineMorphing}var Xat="__mOriginal_";function WI(n,e,t){var i=Xat+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,a=t.after,s=t.before;n[e]=function(){var c,l=arguments;return s&&s.apply(this,l),c=o?o.apply(this,l):r.apply(this,l),a&&a.apply(this,l),c}}function KC(n,e){var t=Xat+e;n[t]&&(n[e]=n[t],n[t]=null)}function $at(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function qat(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function A9t(n,e){for(var t,i,r,o=[],a=[],s=0;s<Math.max(n.length,e.length);s++){var l=n[s],c=e[s],u=void 0,d=void 0;l?c?(i=u=(t=D9t(l,c))[0],r=d=t[1]):(d=Zat(r||l,l),u=l):(u=Zat(i||c,c),d=c),o.push(u),a.push(d)}return[o,a]}(r5(t),r5(i)),o=r[0],a=r[1],s=n.getComputedTransform(),l=e.getComputedTransform();s&&$at(o,s),l&&$at(a,l),WI(e,"updateTransform",{replace:function c(){this.transform=null}}),e.transform=null;var u=function k9t(n,e,t,i){for(var o,r=[],a=0;a<n.length;a++){var s=n[a],l=e[a],c=Yat(s),u=Yat(l);null==o&&(o=c[2]<0!=u[2]<0);var d=[],h=[],p=0,g=1/0,y=[],b=s.length;o&&(s=P9t(s));for(var w=6*I9t(s,l,c,u),M=b-2,E=0;E<M;E+=2){var k=(w+E)%M+2;d[E+2]=s[k]-c[0],d[E+3]=s[k+1]-c[1]}if(d[0]=s[w]-c[0],d[1]=s[w+1]-c[1],t>0)for(var j=i/t,H=-i/2;H<=i/2;H+=j){var rt=Math.sin(H),yt=Math.cos(H),st=0;for(E=0;E<s.length;E+=2){var Lt=d[E],kt=d[E+1],te=l[E]-u[0],ne=l[E+1]-u[1],de=te*yt-ne*rt,Te=te*rt+ne*yt;y[E]=de,y[E+1]=Te;var be=de-Lt,Ve=Te-kt;st+=be*be+Ve*Ve}if(st<g){g=st,p=H;for(var Fe=0;Fe<y.length;Fe++)h[Fe]=y[Fe]}}else for(var Ke=0;Ke<b;Ke+=2)h[Ke]=l[Ke]-u[0],h[Ke+1]=l[Ke+1]-u[1];r.push({from:d,to:h,fromCp:c,toCp:u,rotation:-p})}return r}(o,a,10,Math.PI),d=[];WI(e,"buildPath",{replace:function(h){for(var p=e.__morphT,g=1-p,y=[],b=0;b<u.length;b++){var w=u[b],M=w.from,E=w.to,k=w.rotation*p,j=w.fromCp,H=w.toCp,rt=Math.sin(k),yt=Math.cos(k);XT(y,j,H,p);for(var st=0;st<M.length;st+=2){var de=M[st]*g+(te=E[st])*p,Te=M[st+1]*g+(ne=E[st+1])*p;d[st]=de*yt-Te*rt+y[0],d[st+1]=de*rt+Te*yt+y[1]}var be=d[0],Ve=d[1];for(h.moveTo(be,Ve),st=2;st<M.length;){var te=d[st++],ne=d[st++],Fe=d[st++],Ke=d[st++],In=d[st++],Nn=d[st++];be===te&&Ve===ne&&Fe===In&&Ke===Nn?h.lineTo(In,Nn):h.bezierCurveTo(te,ne,Fe,Ke,In,Nn),be=In,Ve=Nn}}}})}function a5(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return qat(n,e),e.__morphT=0,e.animateTo({__morphT:1},nr({during:function(a){e.dirtyShape(),r&&r(a)},done:function(){(function o(){KC(e,"buildPath"),KC(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()})(),i&&i()}},t)),e}function R9t(n,e,t,i,r,o){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var l,s=0,c=32768;c>0;c/=2){var u=0,d=0;(n&c)>0&&(u=1),(e&c)>0&&(d=1),s+=c*c*(3*u^d),0===d&&(1===u&&(n=c-1-n,e=c-1-e),l=n,n=e,e=l)}return s}function ZI(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=On(n,function(s){var l=s.getBoundingRect(),c=s.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),d=l.y+l.height/2+(c?c[5]:0);return e=Math.min(u,e),t=Math.min(d,t),i=Math.max(u,i),r=Math.max(d,r),[u,d]});return On(o,function(s,l){return{cp:s,z:R9t(s[0],s[1],e,t,i,r),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Kat(n){return function T9t(n,e){var r,t=[],i=n.shape;switch(n.type){case"rect":(function b9t(n,e,t){for(var i=n.width,r=n.height,o=i>r,a=Gat([i,r],o?0:1,e),s=o?"width":"height",l=o?"height":"width",c=o?"x":"y",u=o?"y":"x",d=n[s]/a.length,h=0;h<a.length;h++)for(var p=n[l]/a[h],g=0;g<a[h];g++){var y={};y[c]=h*d,y[u]=g*p,y[s]=d,y[l]=p,y.x+=n.x,y.y+=n.y,t.push(y)}})(i,e,t),r=Qo;break;case"sector":Hat(i,e,t),r=Sd;break;case"circle":Hat({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,t),r=Sd;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=On(function y9t(n,e){var t=r5(n),i=[];e=e||1;for(var r=0;r<t.length;r++){var o=t[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var c=2;c<o.length;){var u=o[c++],d=o[c++],h=o[c++],p=o[c++],g=o[c++],y=o[c++];o5(s,l,u,d,h,p,g,y,a,e),s=g,l=y}i.push(a)}return i}(n.getUpdatedPathProxy(),a),function(w){return function E9t(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}(w)}),l=s.length;if(0===l)HI(Wat,{points:s[0]},e,t);else if(l===e)for(var c=0;c<l;c++)t.push({points:s[c]});else{var u=0,d=On(s,function(w){var M=[],E=[];ED(w,M,E);var k=(E[1]-M[1])*(E[0]-M[0]);return u+=k,{poly:w,area:k}});d.sort(function(w,M){return M.area-w.area});var h=e;for(c=0;c<l;c++){var p=d[c];if(h<=0)break;var g=c===l-1?h:Math.ceil(p.area/u*e);g<0||(HI(Wat,{points:p.poly},g,t),h-=g)}}r=Md}if(!r)return function S9t(n,e){for(var t=[],i=0;i<e;i++)t.push(hB(n));return t}(n,e);var y=[];for(c=0;c<t.length;c++){var b=new r;b.setShape(t[c]),M9t(n,b),y.push(b)}return y}(n.path,n.count)}function Qat(n){return Rn(n[0])}function Jat(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)t[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var l=t[s].many;if(l.length<=1){if(!s)return t;s=0}o=l.length;var c=Math.ceil(o/2);t[r].many=l.slice(c,o),t[s].many=l.slice(0,c),s++}return t}var N9t={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=hB(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function l5(n,e,t,i,r,o){if(n.length&&e.length){var a=Z0("update",i,r);if(a&&a.duration>0){var c,u,s=i.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a);Qat(n)&&(c=n,u=e),Qat(e)&&(c=e,u=n);for(var h=c?c===n:n.length>e.length,p=c?Jat(u,c):Jat(h?e:n,[h?n:e]),g=0,y=0;y<p.length;y++)g+=p[y].many.length;var b=0;for(y=0;y<p.length;y++)d(p[y],h,b,g),b+=p[y].many.length}}function d(w,M,E,k,j){var H=w.many,rt=w.one;if(1!==H.length||j)for(var kt=nr({dividePath:N9t[t],individualDelay:s&&function(Ve,Fe,Ke,In){return s(Ve+E,k)}},l),te=M?function L9t(n,e,t){var i=[];!function r(j){for(var H=0;H<j.length;H++){var rt=j[H];jI(rt)?r(rt.childrenRef()):rt instanceof wo&&i.push(rt)}}(n);var o=i.length;if(!o)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(t.dividePath||Kat)({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=ZI(i),s=ZI(s);for(var l=t.done,c=t.during,u=t.individualDelay,d=new $p,h=0;h<o;h++){var p=i[h],g=s[h];g.parent=e,g.copyTransform(d),u||qat(p,g)}function y(j){for(var H=0;H<s.length;H++)s[H].addSelfToZr(j)}function b(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,KC(e,"addSelfToZr"),KC(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},WI(e,"addSelfToZr",{after:function(j){y(j)}}),WI(e,"removeSelfFromZr",{after:function(j){for(var H=0;H<s.length;H++)s[H].removeSelfFromZr(j)}});var w=s.length;if(u){var M=w,E=function(){0==--M&&(b(),l&&l())};for(h=0;h<w;h++){var k=u?nr({delay:(t.delay||0)+u(h,w,i[h],s[h]),done:E},t):t;a5(i[h],s[h],k)}}else e.__morphT=0,e.animateTo({__morphT:1},nr({during:function(j){for(var H=0;H<w;H++){var rt=s[H];rt.__morphT=e.__morphT,rt.dirtyShape()}c&&c(j)},done:function(){b();for(var j=0;j<n.length;j++)KC(n[j],"updateTransform");l&&l()}},t));return e.__zr&&y(e.__zr),{fromIndividuals:i,toIndividuals:s,count:w}}(H,rt,kt):function O9t(n,e,t){var i=e.length,r=[],o=t.dividePath||Kat;if(jI(n)){!function a(p){for(var g=0;g<p.length;g++){var y=p[g];jI(y)?a(y.childrenRef()):y instanceof wo&&r.push(y)}}(n.childrenRef());var s=r.length;if(s<i)for(var l=0,c=s;c<i;c++)r.push(hB(r[l++%s]));r.length=i}else{r=o({path:n,count:i});var u=n.getComputedTransform();for(c=0;c<r.length;c++)r[c].setLocalTransform(u);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=ZI(r),e=ZI(e);var d=t.individualDelay;for(c=0;c<i;c++){var h=d?nr({delay:(t.delay||0)+d(c,i,r[c],e[c])},t):t;a5(r[c],e[c],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(rt,H,kt),ne=te.fromIndividuals,de=te.toIndividuals,Te=ne.length,be=0;be<Te;be++)Lt=s?nr({delay:s(be,Te)},l):l,o(ne[be],de[be],M?H[be]:w.one,M?w.one:H[be],Lt);else{var Lt,yt=M?H[0]:rt,st=M?rt:H[0];jI(yt)?d({many:[yt],one:st},!0,E,k,!0):(a5(yt,st,Lt=s?nr({delay:s(E,k)},l):l),o(yt,st,yt,st,Lt))}}}function Z_(n){if(!n)return[];if(Rn(n)){for(var e=[],t=0;t<n.length;t++)e.push(Z_(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof wo&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var tst=1e4,F9t=Ko();function est(n){var e=[];return Xt(n,function(t){var i=t.data;if(!(i.count()>tst))for(var r=i.getIndices(),o=function B9t(n){for(var e=n.dimensions,t=0;t<e.length;t++){var i=n.getDimensionInfo(e[t]);if(i&&0===i.otherDims.itemGroupId)return e[t]}}(i),a=0;a<r.length;a++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||o,divide:t.divide,dataIndex:a})}),e}function c5(n,e,t){n.traverse(function(i){i instanceof wo&&cl(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function u5(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function Bb(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function nst(n,e,t){var i=est(n),r=est(e);function o(w,M,E,k,j){(E||w)&&M.animateFrom({style:E&&E!==w?Dn(Dn({},E.style),w.style):w.style},j)}function a(w){for(var M=0;M<w.length;M++)if(w[M].dim)return w[M].dim}var s=a(i),l=a(r),c=!1;function u(w,M){return function(E){var k=E.data,j=E.dataIndex;if(M)return k.getId(j);var H=E.dataGroupId,rt=w?s||l:l||s,yt=rt&&k.getDimensionInfo(rt),st=yt&&yt.ordinalMeta;if(yt){var Lt=k.get(yt.name,j);return st&&st.categories[Lt]||Lt+""}var kt=k.getRawDataItem(j);return kt&&kt.groupId?kt.groupId+"":H||k.getId(j)}}var d=function z9t(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var r=n[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),h={};if(!d)for(var p=0;p<r.length;p++){var g=r[p],y=g.data.getItemGraphicEl(g.dataIndex);y&&(h[y.id]=!0)}function b(w,M){var E=i[M],k=r[w],j=k.data.hostModel,H=E.data.getItemGraphicEl(E.dataIndex),rt=k.data.getItemGraphicEl(k.dataIndex);H!==rt?H&&h[H.id]||rt&&(Bb(rt),H?(Bb(H),u5(H),c=!0,l5(Z_(H),Z_(rt),k.divide,j,w,o)):c5(rt,j,w)):rt&&function V9t(n,e,t){var i=Z0("update",t,e);i&&n.traverse(function(r){if(r instanceof Mh){var o=function VPt(n){return b$(n).oldStyle}(r);o&&r.animateFrom({style:o},i)}})}(rt,k.dataIndex,j)}new om(i,r,u(!0,d),u(!1,d),null,"multiple").update(b).updateManyToOne(function(w,M){var E=r[w],k=E.data,j=k.hostModel,H=k.getItemGraphicEl(E.dataIndex),rt=ps(On(M,function(yt){return i[yt].data.getItemGraphicEl(i[yt].dataIndex)}),function(yt){return yt&&yt!==H&&!h[yt.id]});H&&(Bb(H),rt.length?(Xt(rt,function(yt){Bb(yt),u5(yt)}),c=!0,l5(Z_(rt),Z_(H),E.divide,j,w,o)):c5(H,j,E.dataIndex))}).updateOneToMany(function(w,M){var E=i[M],k=E.data.getItemGraphicEl(E.dataIndex);if(!k||!h[k.id]){var j=ps(On(w,function(rt){return r[rt].data.getItemGraphicEl(r[rt].dataIndex)}),function(rt){return rt&&rt!==k}),H=r[w[0]].data.hostModel;j.length&&(Xt(j,function(rt){return Bb(rt)}),k?(Bb(k),u5(k),c=!0,l5(Z_(k),Z_(j),E.divide,H,w[0],o)):Xt(j,function(rt){return c5(rt,H,w[0])}))}}).updateManyToMany(function(w,M){new om(M,w,function(E){return i[E].data.getId(i[E].dataIndex)},function(E){return r[E].data.getId(r[E].dataIndex)}).update(function(E,k){b(w[E],M[k])}).execute()}).execute(),c&&Xt(e,function(w){var E=w.data.hostModel,k=E&&t.getViewOfSeriesModel(E),j=Z0("update",E,0);k&&E.isAnimationEnabled()&&j&&j.duration>0&&k.group.traverse(function(H){H instanceof wo&&!H.animators.length&&H.animateFrom({style:{opacity:0}},j)})})}function ist(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function rst(n){return Rn(n)?n.sort().join(","):n}function Ig(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function ost(n,e){for(var t=0;t<n.length;t++)if(null!=e.seriesIndex&&e.seriesIndex===n[t].seriesIndex||null!=e.seriesId&&e.seriesId===n[t].id)return t}ho([function o2t(n){n.registerPainter("canvas",r2t)}]),ho([function V2t(n){n.registerPainter("svg",B2t)}]),ho([function ONt(n){n.registerChartView(kNt),n.registerSeriesModel(hNt),n.registerLayout(vC("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,ett("line"))},function iFt(n){n.registerChartView(nFt),n.registerSeriesModel(UNt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Nr(ott,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,att("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,ett("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){t.eachComponent({mainType:e.componentType||"series",query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function gFt(n){n.registerChartView(uFt),n.registerSeriesModel(pFt),eQ("pie",n.registerAction),n.registerLayout(Nr(rFt,"pie")),n.registerProcessor(_C("pie")),n.registerProcessor(function mFt(n){return{seriesType:n,reset:function(e,t){var i=e.getData();i.filterSelf(function(r){var o=i.mapDimension("value"),a=i.get(o,r);return!(sa(a)&&!isNaN(a)&&a<0)})}}}("pie"))},function VBt(n){ho(pet),n.registerSeriesModel(_Ft),n.registerChartView(SFt),n.registerLayout(vC("scatter"))},function n3t(n){ho(e3t),n.registerChartView(HBt),n.registerSeriesModel(WBt),n.registerLayout(zBt),n.registerProcessor(_C("radar")),n.registerPreprocessor(UBt)},function nVt(n){ho(rnt),n.registerChartView(z3t),n.registerSeriesModel(G3t),n.registerLayout(W3t),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,j3t),eQ("map",n.registerAction)},function LVt(n){n.registerChartView(gVt),n.registerSeriesModel(DVt),n.registerLayout(IVt),n.registerVisual(kVt),function RVt(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var r=e.dataIndex,a=i.getData().tree.getNodeByDataIndex(r);a.isExpand=!a.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var a=j3(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})}(n)},function bzt(n){n.registerSeriesModel(BVt),n.registerChartView(QVt),n.registerVisual(rzt),n.registerLayout(hzt),function OVt(n){for(var e=0;e<pnt.length;e++)n.registerAction({type:pnt[e],update:"updateView"},Kl);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},function r(o,a){var l=IC(t,["treemapZoomToNode","treemapRootToNode"],o);if(l){var c=o.getViewRoot();c&&(t.direction=q3(c,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function Xzt(n){n.registerChartView(Gzt),n.registerSeriesModel(Zzt),n.registerProcessor(xzt),n.registerVisual(wzt),n.registerVisual(Czt),n.registerLayout(Dzt),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,Izt),n.registerLayout(kzt),n.registerCoordinateSystem("graphView",{dimensions:DC.dimensions,create:Lzt}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Kl),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Kl),n.registerAction(Yzt,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var a=j3(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})},function i5t(n){n.registerChartView(t5t),n.registerSeriesModel(n5t)},function p5t(n){n.registerChartView(s5t),n.registerSeriesModel(c5t),n.registerLayout(f5t),n.registerProcessor(_C("funnel"))},function _4t(n){ho(Eit),n.registerChartView(y5t),n.registerSeriesModel(C5t),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,E5t)},function W4t(n){n.registerChartView(C4t),n.registerSeriesModel(M4t),n.registerLayout(E4t),n.registerVisual(j4t),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function rUt(n){n.registerSeriesModel(Z4t),n.registerChartView(K4t),n.registerLayout(Q4t),n.registerTransform(iUt)},function SUt(n){n.registerChartView(dUt),n.registerSeriesModel(hUt),n.registerPreprocessor(fUt),n.registerVisual(bUt),n.registerLayout(CUt)},function PUt(n){n.registerChartView(DUt),n.registerSeriesModel(IUt),n.registerLayout(vC("effectScatter"))},function $Ut(n){n.registerChartView(GUt),n.registerSeriesModel(ZUt),n.registerLayout(Vit),n.registerVisual(XUt)},function o8t(n){n.registerChartView(n8t),n.registerSeriesModel(r8t)},function _8t(n){n.registerChartView(m8t),n.registerSeriesModel(v8t),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Nr(ott,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,att("pictorialBar"))},function E8t(n){n.registerChartView(x8t),n.registerSeriesModel(C8t),n.registerLayout(S8t),n.registerProcessor(_C("themeRiver"))},function V8t(n){n.registerChartView(R8t),n.registerSeriesModel(O8t),n.registerLayout(Nr(N8t,"sunburst")),n.registerProcessor(Nr(_C,"sunburst")),n.registerVisual(B8t),function P8t(n){n.registerAction({type:$V,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function i(r,o){var a=IC(e,[$V],r);if(a){var s=r.getViewRoot();s&&(e.direction=q3(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),n.registerAction({type:irt,update:"none"},function(e,t,i){e=Dn({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function r(o){var a=IC(e,[irt],o);a&&(e.dataIndex=a.node.dataIndex)}),i.dispatchAction(Dn(e,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,i){e=Dn({},e),i.dispatchAction(Dn(e,{type:"downplay"}))})}(n)},function SGt(n){n.registerChartView(fGt),n.registerSeriesModel(G8t)}]),ho(function YGt(n){ho(pet),ho(GC)}),ho(function D6t(n){ho(GC),R_.registerAxisPointerClass("PolarAxisPointer",KGt),n.registerCoordinateSystem("polar",d6t),n.registerComponentModel(JGt),n.registerComponentView(T6t),xb(n,"angle",t6t,M6t),xb(n,"radius",e6t,E6t),n.registerComponentView(m6t),n.registerComponentView(x6t),n.registerLayout(Nr(S6t,"bar"))}),ho(rnt),ho(function Z6t(n){ho(GC),R_.registerAxisPointerClass("SingleAxisPointer",j6t),n.registerComponentView(W6t),n.registerComponentView(R6t),n.registerComponentModel(yz),xb(n,"single",yz,yz.defaultOption),n.registerCoordinateSystem("single",z6t)}),ho(Eit),ho(function J6t(n){n.registerComponentModel(X6t),n.registerComponentView(q6t),n.registerCoordinateSystem("calendar",Q6t)}),ho(function lHt(n){n.registerComponentModel(rHt),n.registerComponentView(oHt),n.registerPreprocessor(function(e){var t=e.graphic;Rn(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),ho(function cjt(n){n.registerComponentModel(EHt),n.registerComponentView(IHt),kb("saveAsImage",kHt),kb("magicType",OHt),kb("dataView",ZHt),kb("dataZoom",ljt),kb("restore",QHt),ho(SHt)}),ho(function kjt(n){ho(GC),n.registerComponentModel(djt),n.registerComponentView(Pjt),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Kl),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Kl)}),ho(GC),ho(function Qjt(n){n.registerComponentView(Wjt),n.registerComponentModel(Xjt),n.registerPreprocessor(Ljt),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Vjt),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Kl),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Kl),kb("brush",Kjt)}),ho(function eWt(n){n.registerComponentModel(Jjt),n.registerComponentView(tWt)}),ho(function gWt(n){n.registerComponentModel(iWt),n.registerComponentView(hWt),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function fWt(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),nr({currentIndex:r.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})}(n),n.registerPreprocessor(pWt)}),ho(function EWt(n){n.registerComponentModel(_Wt),n.registerComponentView(MWt),n.registerPreprocessor(function(e){Bz(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),ho(function LWt(n){n.registerComponentModel(DWt),n.registerComponentView(RWt),n.registerPreprocessor(function(e){Bz(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),ho(function GWt(n){n.registerComponentModel(NWt),n.registerComponentView(UWt),n.registerPreprocessor(function(e){Bz(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),ho(function nZt(n){ho(uat),ho(eZt)}),ho(function SZt(n){ho(mat),ho(yat)}),ho(mat),ho(yat),ho(function KZt(n){ho(Oat),ho(Fat)}),ho(Oat),ho(Fat),ho(function n9t(n){n.registerPreprocessor(e9t),n.registerVisual(n.PRIORITY.VISUAL.ARIA,t9t)}),ho(function m9t(n){n.registerTransform(f9t),n.registerTransform(p9t)}),ho(function _9t(n){n.registerComponentModel(g9t),n.registerComponentView(v9t)}),ho(function H9t(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){Xt(bs(i.seriesTransition),function(r){Xt(bs(r.to),function(o){for(var a=i.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s][KD]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=F9t(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)Xt(bs(o),function(p){!function G9t(n,e,t,i){var r=[],o=[];Xt(bs(n.from),function(a){var s=ost(e.oldSeries,a);s>=0&&r.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Ig(e.oldData[s]),dim:a.dimension})}),Xt(bs(n.to),function(a){var s=ost(t.updatedSeries,a);if(s>=0){var l=t.updatedSeries[s].getData();o.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:Ig(l),dim:a.dimension})}}),r.length>0&&o.length>0&&nst(r,o,i)}(p,r,i,t)});else{var a=function U9t(n,e){var t=Wi(),i=Wi(),r=Wi();return Xt(n.oldSeries,function(a,s){var l=n.oldDataGroupIds[s],c=n.oldData[s],u=ist(a),d=rst(u);i.set(d,{dataGroupId:l,data:c}),Rn(u)&&Xt(u,function(h){r.set(h,{key:d,dataGroupId:l,data:c})})}),Xt(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),l=a.getData(),c=ist(a),u=rst(c),d=i.get(u);if(d)t.set(u,{oldSeries:[{dataGroupId:d.dataGroupId,divide:Ig(d.data),data:d.data}],newSeries:[{dataGroupId:s,divide:Ig(l),data:l}]});else if(Rn(c)){var h=[];Xt(c,function(y){var b=i.get(y);b.data&&h.push({dataGroupId:b.dataGroupId,divide:Ig(b.data),data:b.data})}),h.length&&t.set(u,{oldSeries:h,newSeries:[{dataGroupId:s,data:l,divide:Ig(l)}]})}else{var p=r.get(c);if(p){var g=t.get(p.key);g||(g={oldSeries:[{dataGroupId:p.dataGroupId,data:p.data,divide:Ig(p.data)}],newSeries:[]},t.set(p.key,g)),g.newSeries.push({dataGroupId:s,data:l,divide:Ig(l)})}}}}),t}(r,i);Xt(a.keys(),function(p){var g=a.get(p);nst(g.oldSeries,g.newSeries,t)})}Xt(i.updatedSeries,function(p){p[KD]&&(p[KD]=!1)})}for(var s=e.getSeries(),l=r.oldSeries=[],c=r.oldDataGroupIds=[],u=r.oldData=[],d=0;d<s.length;d++){var h=s[d].getData();h.count()<tst&&(l.push(s[d]),c.push(s[d].get("dataGroupId")),u.push(h))}})}),ho(eJ);const Z9t=new class W9t extends lT{}(class j9t extends sT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),QC={};function $9t(n,e){if(QC[n]=(QC[n]||0)+1,"function"==typeof e)return h5(n,(...i)=>({...e(...i),type:n}));switch(e?e._as:"empty"){case"empty":return h5(n,()=>({type:n}));case"props":return h5(n,i=>({...i,type:n}));default:throw new Error("Unexpected config.")}}function h5(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}function ast(n){const{source:e,events:t}=n;return Object.keys(t).reduce((i,r)=>({...i,[q9t(r)]:$9t(K9t(e,r),t[r])}),{})}function q9t(n){return n.trim().toLowerCase().split(" ").map((e,t)=>0===t?e:function f5(n){return n.charAt(0).toUpperCase()+n.substring(1)}(e)).join("")}function K9t(n,e){return`[${n}] ${e}`}const sst="@ngrx/store/init";let Y_=(()=>{class n extends fc{constructor(){super({type:sst})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const Q9t=[Y_],p5=new hn("@ngrx/store Internal Root Guard"),lst=new hn("@ngrx/store Internal Initial State"),m5=new hn("@ngrx/store Initial State"),cst=new hn("@ngrx/store Reducer Factory"),ust=new hn("@ngrx/store Internal Reducer Factory Provider"),dst=new hn("@ngrx/store Initial Reducers"),g5=new hn("@ngrx/store Internal Initial Reducers"),hst=new hn("@ngrx/store Store Features"),fst=new hn("@ngrx/store Internal Store Reducers"),v5=new hn("@ngrx/store Internal Feature Reducers"),pst=new hn("@ngrx/store Internal Feature Configs"),_5=new hn("@ngrx/store Internal Store Features"),mst=new hn("@ngrx/store Internal Feature Reducers Token"),y5=new hn("@ngrx/store Feature Reducers"),gst=new hn("@ngrx/store User Provided Meta Reducers"),YI=new hn("@ngrx/store Meta Reducers"),vst=new hn("@ngrx/store Internal Resolved Meta Reducers"),_st=new hn("@ngrx/store User Runtime Checks Config"),yst=new hn("@ngrx/store Internal User Runtime Checks Config"),JC=new hn("@ngrx/store Internal Runtime Checks"),tS=new hn("@ngrx/store Check if Action types are unique");function x5(n,e={}){const t=Object.keys(n),i={};for(let o=0;o<t.length;o++){const a=t[o];"function"==typeof n[a]&&(i[a]=n[a])}const r=Object.keys(i);return function(a,s){a=void 0===a?e:a;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],p=a[d],g=(0,i[d])(p,s);c[d]=g,l=l||g!==p}return l?c:a}}function xst(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((r,o)=>o(r),t(e))}}function wst(n,e){return Array.isArray(e)&&e.length>0&&(n=xst.apply(null,[...e,n])),(t,i)=>{const r=n(t);return(o,a)=>r(o=void 0===o?i:o,a)}}new hn("@ngrx/store Root Store Provider"),new hn("@ngrx/store Feature State Provider");class XI extends _t{}class Cst extends Y_{}let eS=(()=>{class n extends fc{constructor(t,i,r,o){super(o(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=o}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const i=t.reduce((r,{reducers:o,reducerFactory:a,metaReducers:s,initialState:l,key:c})=>{const u="function"==typeof o?function t7t(n){const e=Array.isArray(n)&&n.length>0?xst(...n):t=>t;return(t,i)=>(t=e(t),(r,o)=>t(r=void 0===r?i:r,o))}(s)(o,l):wst(a,s)(o,l);return r[c]=u,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers={...this.reducers,...t},this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=function J9t(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,i)=>Object.assign(t,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(nn(Cst),nn(m5),nn(dst),nn(cst))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const n7t=[eS,{provide:XI,useExisting:eS},{provide:Cst,useExisting:Y_}];let $I=(()=>{class n extends qt{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const i7t=[$I];class Sst extends _t{}let Mst=(()=>{class n extends fc{constructor(t,i,r,o){super(o);const s=t.pipe(jo(Z9t)).pipe(function Y9t(...n){const e=bo(n);return Le((t,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),s=!1;for(let l=0;l<r;l++)Ri(n[l]).subscribe(re(i,c=>{o[l]=c,!s&&!a[l]&&(a[l]=!0,(s=a.every(Et))&&(a=null))},U));t.subscribe(re(i,l=>{if(s){const c=[l,...o];i.next(e?e(...c):c)}}))})}(i)),c=s.pipe(OE(r7t,{state:o}));this.stateSubscription=c.subscribe(({state:u,action:d})=>{this.next(u),r.next(d)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=sst,n.\u0275fac=function(t){return new(t||n)(nn(Y_),nn(XI),nn($I),nn(m5))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();function r7t(n={state:void 0},[e,t]){const{state:i}=n;return{state:t(i,e),action:e}}const o7t=[Mst,{provide:Sst,useExisting:Mst}];let Pg=(()=>{class n extends _t{constructor(t,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=t}select(t,...i){return s7t.call(null,t,...i)(this)}lift(t){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(nn(Sst),nn(Y_),nn(eS))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const a7t=[Pg];function s7t(n,e,...t){return function(r){let o;if("string"==typeof n){const a=[e,...t].filter(Boolean);o=r.pipe(function X9t(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return le(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}(n,...a))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);o=r.pipe(le(a=>n(a,e)))}return o.pipe(Nw())}}const w5="https://ngrx.io/guide/store/configuration/runtime-checks";function Est(n){return void 0===n}function Tst(n){return null===n}function Dst(n){return Array.isArray(n)}function Ast(n){return"object"==typeof n&&null!==n}function C5(n){return"function"==typeof n}function S5(n,e){return n===e}function M5(n,e=S5,t=S5){let o,i=null,r=null;return{memoized:function c(){if(void 0!==o)return o.result;if(!i)return r=n.apply(null,arguments),i=arguments,r;if(!function m7t(n,e,t){for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!0;return!1}(arguments,i,e))return r;const u=n.apply(null,arguments);return i=arguments,t(r,u)?r:(r=u,u)},reset:function a(){i=null,r=null},setResult:function s(u){o={result:u}},clearResult:function l(){o=void 0}}}function X_(...n){return function v7t(n,e={stateFn:g7t}){return function(...t){let i=t;if(Array.isArray(i[0])){const[u,...d]=i;i=[...u,...d]}else 1===i.length&&function _7t(n){return!!n&&"object"==typeof n&&Object.values(n).every(e=>"function"==typeof e)}(i[0])&&(i=function y7t(n){const e=Object.values(n),t=Object.keys(n);return[...e,(...r)=>t.reduce((o,a,s)=>({...o,[a]:r[s]}),{})]}(i[0]));const r=i.slice(0,i.length-1),o=i[i.length-1],a=r.filter(u=>u.release&&"function"==typeof u.release),s=n(function(...u){return o.apply(null,u)}),l=M5(function(u,d){return e.stateFn.apply(null,[u,r,d,s])});return Object.assign(l.memoized,{release:function c(){l.reset(),s.reset(),a.forEach(u=>u.release())},projector:s.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(M5)(...n)}function g7t(n,e,t,i){if(void 0===t){const o=e.map(a=>a(n));return i.memoized.apply(null,o)}const r=e.map(o=>o(n,t));return i.memoized.apply(null,[...r,t])}function w7t(n){return n instanceof hn?Vn(n):n}function C7t(n,e){return e.map((t,i)=>{if(n[i]instanceof hn){const r=Vn(n[i]);return{key:t.key,reducerFactory:r.reducerFactory?r.reducerFactory:x5,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return t})}function S7t(n){return n.map(e=>e instanceof hn?Vn(e):e)}function E5(n){return"function"==typeof n?n():n}function M7t(n,e){return n.concat(e)}function E7t(){if(Vn(Pg,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function T5(n){Object.freeze(n);const e=C5(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function f7t(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const i=n[t];(Ast(i)||C5(i))&&!Object.isFrozen(i)&&T5(i)}}),n}function D5(n,e=[]){return(Est(n)||Tst(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const o=n[r];return function h7t(n){return C5(n)&&n.hasOwnProperty("\u0275cmp")}(o)?i:!(Est(o)||Tst(o)||function u7t(n){return"number"==typeof n}(o)||function c7t(n){return"boolean"==typeof n}(o)||function l7t(n){return"string"==typeof n}(o)||Dst(o))&&(function Ist(n){if(!function d7t(n){return Ast(n)&&!Dst(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(o)?D5(o,[...e,r]):{path:[...e,r],value:o})},!1)}function Rst(n,e){if(!1===n)return;const t=n.path.join("."),i=new Error(`Detected unserializable ${e} at "${t}". ${w5}#strict${e}serializability`);throw i.value=n.value,i.unserializablePath=t,i}function I7t(n){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function P7t({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function D7t(n,e){return function(t,i){e.action(i)&&Rst(D5(i),"action");const r=n(t,i);return e.state()&&Rst(D5(r),"state"),r}}(t,{action:i=>n&&!A5(i),state:()=>e}):t}function k7t({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function T7t(n,e){return function(t,i){const r=e.action(i)?T5(i):i,o=n(t,r);return e.state()?T5(o):o}}(t,{action:i=>n&&!A5(i),state:()=>e}):t}function A5(n){return n.type.startsWith("@ngrx")}function R7t({strictActionWithinNgZone:n}){return e=>n?function A7t(n,e){return function(t,i){if(e.action(i)&&!gr.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${w5}#strictactionwithinngzone`);return n(t,i)}}(e,{action:t=>n&&!A5(t)}):e}function L7t(n){return[{provide:yst,useValue:n},{provide:_st,useFactory:O7t,deps:[yst]},{provide:JC,deps:[_st],useFactory:I7t},{provide:YI,multi:!0,deps:[JC],useFactory:k7t},{provide:YI,multi:!0,deps:[JC],useFactory:P7t},{provide:YI,multi:!0,deps:[JC],useFactory:R7t}]}function Lst(){return[{provide:tS,multi:!0,deps:[JC],useFactory:N7t}]}function O7t(n){return n}function N7t(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(QC).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${w5}#strictactiontypeuniqueness`)}function Ost(n={},e={}){return[{provide:p5,useFactory:E7t},{provide:lst,useValue:e.initialState},{provide:m5,useFactory:E5,deps:[lst]},{provide:g5,useValue:n},{provide:fst,useExisting:n instanceof hn?n:g5},{provide:dst,deps:[g5,[new Mc(fst)]],useFactory:w7t},{provide:gst,useValue:e.metaReducers?e.metaReducers:[]},{provide:vst,deps:[YI,gst],useFactory:M7t},{provide:ust,useValue:e.reducerFactory?e.reducerFactory:x5},{provide:cst,deps:[ust,vst],useFactory:wst},Q9t,n7t,i7t,o7t,a7t,L7t(e.runtimeChecks),Lst()]}function Nst(n,e,t={}){return[{provide:pst,multi:!0,useValue:n instanceof Object?{}:t},{provide:hst,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:t instanceof hn||!t.reducerFactory?x5:t.reducerFactory,metaReducers:t instanceof hn||!t.metaReducers?[]:t.metaReducers,initialState:t instanceof hn||!t.initialState?void 0:t.initialState}},{provide:_5,deps:[pst,hst],useFactory:C7t},{provide:v5,multi:!0,useValue:n instanceof Object?n.reducer:e},{provide:mst,multi:!0,useExisting:e instanceof hn?e:v5},{provide:y5,multi:!0,deps:[v5,[new Mc(mst)]],useFactory:S7t},Lst()]}let Fst=(()=>{class n{constructor(t,i,r,o,a,s){}}return n.\u0275fac=function(t){return new(t||n)(nn(Y_),nn(XI),nn($I),nn(Pg),nn(p5,8),nn(tS,8))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),U7t=(()=>{class n{constructor(t,i,r,o,a){this.features=t,this.featureReducers=i,this.reducerManager=r;const s=t.map((l,c)=>{const d=i.shift()[c];return{...l,reducers:d,initialState:E5(l.initialState)}});r.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(nn(_5),nn(y5),nn(eS),nn(Fst),nn(tS,8))},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),G7t=(()=>{class n{static forRoot(t,i){return{ngModule:Fst,providers:[...Ost(t,i)]}}static forFeature(t,i,r={}){return{ngModule:U7t,providers:[...Nst(t,i,r)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();function Bst(...n){return{reducer:n.pop(),types:n.map(i=>i.type)}}function Vb(n){switch(n&&n.type||null){case"FeatureCollection":return n.features=n.features.reduce(function(e,t){return e.concat(Vb(t))},[]),n;case"Feature":return n.geometry?Vb(n.geometry).map(function(e){var t={type:"Feature",properties:JSON.parse(JSON.stringify(n.properties)),geometry:e};return void 0!==n.id&&(t.id=n.id),t}):[n];case"MultiPoint":return n.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return n.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return n.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return n.geometries.map(Vb).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[n]}}function pm(n,e,t){void 0===t&&(t={});var i={type:"Feature"};return(0===t.id||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function qI(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!KI(n[0])||!KI(n[1]))throw new Error("coordinates must contain numbers");return pm({type:"Point",coordinates:n},e,t)}function $_(n,e,t){void 0===t&&(t={});for(var i=0,r=n;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return pm({type:"Polygon",coordinates:n},e,t)}function KI(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function zb(n,e,t){if(null!==n)for(var i,r,o,a,s,l,c,h,u=0,d=0,p=n.type,g="FeatureCollection"===p,y="Feature"===p,b=g?n.features.length:1,w=0;w<b;w++){s=(h=!!(c=g?n.features[w].geometry:y?n.geometry:n)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var M=0;M<s;M++){var E=0,k=0;if(null!==(a=h?c.geometries[M]:c)){l=a.coordinates;var j=a.type;switch(u=!t||"Polygon"!==j&&"MultiPolygon"!==j?0:1,j){case null:break;case"Point":if(!1===e(l,d,w,E,k))return!1;d++,E++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],d,w,E,k))return!1;d++,"MultiPoint"===j&&E++}"LineString"===j&&E++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-u;r++){if(!1===e(l[i][r],d,w,E,k))return!1;d++}"MultiLineString"===j&&E++,"Polygon"===j&&k++}"Polygon"===j&&E++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(k=0,r=0;r<l[i].length;r++){for(o=0;o<l[i][r].length-u;o++){if(!1===e(l[i][r][o],d,w,E,k))return!1;d++}k++}E++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===zb(a.geometries[i],e,t))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jst(n,e){var t,i,r,o,a,s,l,c,u,d,h=0,p="FeatureCollection"===n.type,g="Feature"===n.type,y=p?n.features.length:1;for(t=0;t<y;t++){for(c=p?n.features[t].properties:g?n.properties:{},u=p?n.features[t].bbox:g?n.bbox:void 0,d=p?n.features[t].id:g?n.id:void 0,a=(l=!!(s=p?n.features[t].geometry:g?n.geometry:n)&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=l?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,u,d))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],h,c,u,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,u,d))return!1;h++}}function k5(n){var e=[1/0,1/0,-1/0,-1/0];return zb(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}k5.default=k5;const J7t=k5;function R5(n){return"Feature"===n.type?n.geometry:n}function nS(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=function tYt(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(n),r=R5(e),o=r.type,a=e.bbox,s=r.coordinates;if(a&&!1===function hYt(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}(i,a))return!1;"Polygon"===o&&(s=[s]);for(var l=!1,c=0;c<s.length&&!l;c++)if(Xst(i,s[c][0],t.ignoreBoundary)){for(var u=!1,d=1;d<s[c].length&&!u;)Xst(i,s[c][d],!t.ignoreBoundary)&&(u=!0),d++;u||(l=!0)}return l}function Xst(n,e,t){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],l=e[o][0],c=e[o][1];if(n[1]*(a-l)+s*(l-n[0])+c*(n[0]-a)==0&&(a-n[0])*(l-n[0])<=0&&(s-n[1])*(c-n[1])<=0)return!t;s>n[1]!=c>n[1]&&n[0]<(l-a)*(n[1]-s)/(c-s)+a&&(i=!i)}return i}Y(5943),Y(1335);var qst=new ArrayBuffer(16);new Float64Array(qst),new Uint32Array(qst),Y(3544),function(){function n(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var i=this.points[t],r=this.points[t+1];this.centers.push({x:(i.x+r.x)/2,y:(i.y+r.y)/2,z:(i.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,a=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,s=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+s)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(e){var t=[],i=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)+(o.z-i.z)*(o.z-i.z))>e&&(t.push(r),i=o)}return t},n.prototype.vector=function(e){var t=this.pos(e+10),i=this.pos(e-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}},n.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var i=t/this.duration;if(i>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*i);return function DYt(n,e,t,i,r){var o=function AYt(n){var e=n*n;return[e*n,3*e*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:r.x*o[0]+i.x*o[1]+t.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+t.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+t.z*o[2]+e.z*o[3]}}((this.length-1)*i-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}();var FYt=Y(5469),BYt=Y.n(FYt);Y(5406);var alt=6378137;function slt(n){return function q7t(n,e,t){var i=t;return jst(n,function(r,o,a,s,l){i=0===o&&void 0===t?r:e(i,r,o,a,s,l)}),i}(n,function(e,t){return e+function XYt(n){var t,e=0;switch(n.type){case"Polygon":return llt(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=llt(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}function llt(n){var e=0;if(n&&n.length>0){e+=Math.abs(clt(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(clt(n[t]))}return e}function clt(n){var e,t,r,o,a,s,l=0,c=n.length;if(c>2){for(s=0;s<c;s++)s===c-2?(r=c-2,o=c-1,a=0):s===c-1?(r=c-1,o=0,a=1):(r=s,o=s+1,a=s+2),e=n[r],t=n[o],l+=(z5(n[a][0])-z5(e[0]))*Math.sin(z5(t[1]));l=l*alt*alt/2}return l}function z5(n){return n*Math.PI/180}var plt=Math.PI/180,mlt=180/Math.PI,oS=function(n,e){this.lon=n,this.lat=e,this.x=plt*n,this.y=plt*e};oS.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},oS.prototype.antipode=function(){return new oS(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var glt=function(){this.coords=[],this.length=0};glt.prototype.move_to=function(n){this.length++,this.coords.push(n)};var U5=function(n){this.properties=n||{},this.geometries=[]};U5.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],e=0;e<this.geometries.length;e++)n.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},U5.prototype.wkt=function(){for(var n="",e="LINESTRING(",t=function(o){e+=o[0]+" "+o[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(t),n+=e.substring(0,e.length-1)+")"}return n};var G5=function(n,e,t){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new oS(n.x,n.y),this.end=new oS(e.x,e.y),this.properties=t||{};var i=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+e)};G5.prototype.interpolate=function(n){var e=Math.sin((1-n)*this.g)/Math.sin(this.g),t=Math.sin(n*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+t*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+t*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+t*Math.sin(this.end.y),a=mlt*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[mlt*Math.atan2(r,i),a]},G5.prototype.Arc=function(n,e){var t=[];if(!n||n<=2)t.push([this.start.lon,this.start.lat]),t.push([this.end.lon,this.end.lat]);else for(var i=1/(n-1),r=0;r<n;++r){var a=this.interpolate(i*r);t.push(a)}for(var s=!1,l=0,c=e&&e.offset?e.offset:10,u=180-c,d=-180+c,h=360-c,p=1;p<t.length;++p){var g=t[p-1][0],y=t[p][0],b=Math.abs(y-g);b>h&&(y>u&&g<d||g>u&&y<d)?s=!0:b>l&&(l=b)}var w=[];if(s&&l<c){var M=[];w.push(M);for(var E=0;E<t.length;++E){var k=parseFloat(t[E][0]);if(E>0&&Math.abs(k-t[E-1][0])>h){var j=parseFloat(t[E-1][0]),H=parseFloat(t[E-1][1]),rt=parseFloat(t[E][0]),yt=parseFloat(t[E][1]);if(j>-180&&j<d&&180===rt&&E+1<t.length&&t[E-1][0]>-180&&t[E-1][0]<d){M.push([-180,t[E][1]]),E++,M.push([t[E][0],t[E][1]]);continue}if(j>u&&j<180&&-180===rt&&E+1<t.length&&t[E-1][0]>u&&t[E-1][0]<180){M.push([180,t[E][1]]),E++,M.push([t[E][0],t[E][1]]);continue}if(j<d&&rt>u){var st=j;j=rt,rt=st;var Lt=H;H=yt,yt=Lt}if(j>u&&rt<d&&(rt+=360),j<=180&&rt>=180&&j<rt){var kt=(180-j)/(rt-j),te=kt*yt+(1-kt)*H;M.push([t[E-1][0]>u?180:-180,te]),(M=[]).push([t[E-1][0]>u?-180:180,te]),w.push(M)}else w.push(M=[]);M.push([k,t[E][1]])}else M.push([t[E][0],t[E][1]])}}else{var ne=[];w.push(ne);for(var de=0;de<t.length;++de)ne.push([t[de][0],t[de][1]])}for(var Te=new U5(this.properties),be=0;be<w.length;++be){var Ve=new glt;Te.geometries.push(Ve);for(var Fe=w[be],Ke=0;Ke<Fe.length;++Ke)Ve.move_to(Fe[Ke])}return Te},Y(6952);var pa=[],ma=[],ga=[],va=[],_a=[],ya=[],ba=[],xa=[],wa=[],Ca=[],Sa=[],Ma=[],Ea=[],Ta=[],Da=[],Aa=[],Ia=[],Pa=[],ka=[],Ra=[],La=[],Oa=[],Na=[],Fa=[];ba[85]=Ca[85]=-1,xa[85]=Sa[85]=0,wa[85]=Ma[85]=1,ka[85]=Oa[85]=1,Ra[85]=Na[85]=0,La[85]=Fa[85]=1,pa[85]=va[85]=0,ma[85]=_a[85]=-1,ga[85]=Da[85]=0,Aa[85]=Ea[85]=0,Ia[85]=Ta[85]=1,ya[85]=Pa[85]=1,Oa[1]=Oa[169]=0,Na[1]=Na[169]=-1,Fa[1]=Fa[169]=0,Ea[1]=Ea[169]=-1,Ta[1]=Ta[169]=0,Da[1]=Da[169]=0,Ca[4]=Ca[166]=0,Sa[4]=Sa[166]=-1,Ma[4]=Ma[166]=1,Aa[4]=Aa[166]=1,Ia[4]=Ia[166]=0,Pa[4]=Pa[166]=0,ba[16]=ba[154]=0,xa[16]=xa[154]=1,wa[16]=wa[154]=1,va[16]=va[154]=1,_a[16]=_a[154]=0,ya[16]=ya[154]=1,ka[64]=ka[106]=0,Ra[64]=Ra[106]=1,La[64]=La[106]=0,pa[64]=pa[106]=-1,ma[64]=ma[106]=0,ga[64]=ga[106]=1,ka[2]=ka[168]=0,Ra[2]=Ra[168]=-1,La[2]=La[168]=1,Oa[2]=Oa[168]=0,Na[2]=Na[168]=-1,Fa[2]=Fa[168]=0,Ea[2]=Ea[168]=-1,Ta[2]=Ta[168]=0,Da[2]=Da[168]=0,Aa[2]=Aa[168]=-1,Ia[2]=Ia[168]=0,Pa[2]=Pa[168]=1,ba[8]=ba[162]=0,xa[8]=xa[162]=-1,wa[8]=wa[162]=0,Ca[8]=Ca[162]=0,Sa[8]=Sa[162]=-1,Ma[8]=Ma[162]=1,Ea[8]=Ea[162]=1,Ta[8]=Ta[162]=0,Da[8]=Da[162]=1,Aa[8]=Aa[162]=1,Ia[8]=Ia[162]=0,Pa[8]=Pa[162]=0,ba[32]=ba[138]=0,xa[32]=xa[138]=1,wa[32]=wa[138]=1,Ca[32]=Ca[138]=0,Sa[32]=Sa[138]=1,Ma[32]=Ma[138]=0,pa[32]=pa[138]=1,ma[32]=ma[138]=0,ga[32]=ga[138]=0,va[32]=va[138]=1,_a[32]=_a[138]=0,ya[32]=ya[138]=1,Oa[128]=Oa[42]=0,Na[128]=Na[42]=1,Fa[128]=Fa[42]=1,ka[128]=ka[42]=0,Ra[128]=Ra[42]=1,La[128]=La[42]=0,pa[128]=pa[42]=-1,ma[128]=ma[42]=0,ga[128]=ga[42]=1,va[128]=va[42]=-1,_a[128]=_a[42]=0,ya[128]=ya[42]=0,Ca[5]=Ca[165]=-1,Sa[5]=Sa[165]=0,Ma[5]=Ma[165]=0,Oa[5]=Oa[165]=1,Na[5]=Na[165]=0,Fa[5]=Fa[165]=0,Aa[20]=Aa[150]=0,Ia[20]=Ia[150]=1,Pa[20]=Pa[150]=1,va[20]=va[150]=0,_a[20]=_a[150]=-1,ya[20]=ya[150]=1,ba[80]=ba[90]=-1,xa[80]=xa[90]=0,wa[80]=wa[90]=1,ka[80]=ka[90]=1,Ra[80]=Ra[90]=0,La[80]=La[90]=1,Ea[65]=Ea[105]=0,Ta[65]=Ta[105]=1,Da[65]=Da[105]=0,pa[65]=pa[105]=0,ma[65]=ma[105]=-1,ga[65]=ga[105]=0,ba[160]=ba[10]=-1,xa[160]=xa[10]=0,wa[160]=wa[10]=1,Ca[160]=Ca[10]=-1,Sa[160]=Sa[10]=0,Ma[160]=Ma[10]=0,Oa[160]=Oa[10]=1,Na[160]=Na[10]=0,Fa[160]=Fa[10]=0,ka[160]=ka[10]=1,Ra[160]=Ra[10]=0,La[160]=La[10]=1,Aa[130]=Aa[40]=0,Ia[130]=Ia[40]=1,Pa[130]=Pa[40]=1,Ea[130]=Ea[40]=0,Ta[130]=Ta[40]=1,Da[130]=Da[40]=0,pa[130]=pa[40]=0,ma[130]=ma[40]=-1,ga[130]=ga[40]=0,va[130]=va[40]=0,_a[130]=_a[40]=-1,ya[130]=ya[40]=1,Ca[37]=Ca[133]=0,Sa[37]=Sa[133]=1,Ma[37]=Ma[133]=1,Oa[37]=Oa[133]=0,Na[37]=Na[133]=1,Fa[37]=Fa[133]=0,pa[37]=pa[133]=-1,ma[37]=ma[133]=0,ga[37]=ga[133]=0,va[37]=va[133]=1,_a[37]=_a[133]=0,ya[37]=ya[133]=0,Aa[148]=Aa[22]=-1,Ia[148]=Ia[22]=0,Pa[148]=Pa[22]=0,Oa[148]=Oa[22]=0,Na[148]=Na[22]=-1,Fa[148]=Fa[22]=1,ka[148]=ka[22]=0,Ra[148]=Ra[22]=1,La[148]=La[22]=1,va[148]=va[22]=-1,_a[148]=_a[22]=0,ya[148]=ya[22]=1,ba[82]=ba[88]=0,xa[82]=xa[88]=-1,wa[82]=wa[88]=1,Aa[82]=Aa[88]=1,Ia[82]=Ia[88]=0,Pa[82]=Pa[88]=1,Ea[82]=Ea[88]=-1,Ta[82]=Ta[88]=0,Da[82]=Da[88]=1,ka[82]=ka[88]=0,Ra[82]=Ra[88]=-1,La[82]=La[88]=0,ba[73]=ba[97]=0,xa[73]=xa[97]=1,wa[73]=wa[97]=0,Ca[73]=Ca[97]=0,Sa[73]=Sa[97]=-1,Ma[73]=Ma[97]=0,Ea[73]=Ea[97]=1,Ta[73]=Ta[97]=0,Da[73]=Da[97]=0,pa[73]=pa[97]=1,ma[73]=ma[97]=0,ga[73]=ga[97]=1,ba[145]=ba[25]=0,xa[145]=xa[25]=-1,wa[145]=wa[25]=0,Ea[145]=Ea[25]=1,Ta[145]=Ta[25]=0,Da[145]=Da[25]=1,Oa[145]=Oa[25]=0,Na[145]=Na[25]=1,Fa[145]=Fa[25]=1,va[145]=va[25]=-1,_a[145]=_a[25]=0,ya[145]=ya[25]=0,Ca[70]=Ca[100]=0,Sa[70]=Sa[100]=1,Ma[70]=Ma[100]=0,Aa[70]=Aa[100]=-1,Ia[70]=Ia[100]=0,Pa[70]=Pa[100]=1,ka[70]=ka[100]=0,Ra[70]=Ra[100]=-1,La[70]=La[100]=1,pa[70]=pa[100]=1,ma[70]=ma[100]=0,ga[70]=ga[100]=0,Ca[101]=Ca[69]=0,Sa[101]=Sa[69]=1,Ma[101]=Ma[69]=0,pa[101]=pa[69]=1,ma[101]=ma[69]=0,ga[101]=ga[69]=0,Oa[149]=Oa[21]=0,Na[149]=Na[21]=1,Fa[149]=Fa[21]=1,va[149]=va[21]=-1,_a[149]=_a[21]=0,ya[149]=ya[21]=0,Aa[86]=Aa[84]=-1,Ia[86]=Ia[84]=0,Pa[86]=Pa[84]=1,ka[86]=ka[84]=0,Ra[86]=Ra[84]=-1,La[86]=La[84]=1,ba[89]=ba[81]=0,xa[89]=xa[81]=-1,wa[89]=wa[81]=0,Ea[89]=Ea[81]=1,Ta[89]=Ta[81]=0,Da[89]=Da[81]=1,ba[96]=ba[74]=0,xa[96]=xa[74]=1,wa[96]=wa[74]=0,Ca[96]=Ca[74]=-1,Sa[96]=Sa[74]=0,Ma[96]=Ma[74]=1,ka[96]=ka[74]=1,Ra[96]=Ra[74]=0,La[96]=La[74]=0,pa[96]=pa[74]=1,ma[96]=ma[74]=0,ga[96]=ga[74]=1,ba[24]=ba[146]=0,xa[24]=xa[146]=-1,wa[24]=wa[146]=1,Aa[24]=Aa[146]=1,Ia[24]=Ia[146]=0,Pa[24]=Pa[146]=1,Ea[24]=Ea[146]=0,Ta[24]=Ta[146]=1,Da[24]=Da[146]=1,va[24]=va[146]=0,_a[24]=_a[146]=-1,ya[24]=ya[146]=0,Ca[6]=Ca[164]=-1,Sa[6]=Sa[164]=0,Ma[6]=Ma[164]=1,Aa[6]=Aa[164]=-1,Ia[6]=Ia[164]=0,Pa[6]=Pa[164]=0,Oa[6]=Oa[164]=0,Na[6]=Na[164]=-1,Fa[6]=Fa[164]=1,ka[6]=ka[164]=1,Ra[6]=Ra[164]=0,La[6]=La[164]=0,Ea[129]=Ea[41]=0,Ta[129]=Ta[41]=1,Da[129]=Da[41]=1,Oa[129]=Oa[41]=0,Na[129]=Na[41]=1,Fa[129]=Fa[41]=0,pa[129]=pa[41]=-1,ma[129]=ma[41]=0,ga[129]=ga[41]=0,va[129]=va[41]=0,_a[129]=_a[41]=-1,ya[129]=ya[41]=0,Aa[66]=Aa[104]=0,Ia[66]=Ia[104]=1,Pa[66]=Pa[104]=0,Ea[66]=Ea[104]=-1,Ta[66]=Ta[104]=0,Da[66]=Da[104]=1,ka[66]=ka[104]=0,Ra[66]=Ra[104]=-1,La[66]=La[104]=0,pa[66]=pa[104]=0,ma[66]=ma[104]=-1,ga[66]=ga[104]=1,ba[144]=ba[26]=-1,xa[144]=xa[26]=0,wa[144]=wa[26]=0,Oa[144]=Oa[26]=1,Na[144]=Na[26]=0,Fa[144]=Fa[26]=1,ka[144]=ka[26]=0,Ra[144]=Ra[26]=1,La[144]=La[26]=1,va[144]=va[26]=-1,_a[144]=_a[26]=0,ya[144]=ya[26]=1,Ca[36]=Ca[134]=0,Sa[36]=Sa[134]=1,Ma[36]=Ma[134]=1,Aa[36]=Aa[134]=0,Ia[36]=Ia[134]=1,Pa[36]=Pa[134]=0,pa[36]=pa[134]=0,ma[36]=ma[134]=-1,ga[36]=ga[134]=1,va[36]=va[134]=1,_a[36]=_a[134]=0,ya[36]=ya[134]=0,ba[9]=ba[161]=-1,xa[9]=xa[161]=0,wa[9]=wa[161]=0,Ca[9]=Ca[161]=0,Sa[9]=Sa[161]=-1,Ma[9]=Ma[161]=0,Ea[9]=Ea[161]=1,Ta[9]=Ta[161]=0,Da[9]=Da[161]=0,Oa[9]=Oa[161]=1,Na[9]=Na[161]=0,Fa[9]=Fa[161]=1,ba[136]=0,xa[136]=1,wa[136]=1,Ca[136]=0,Sa[136]=1,Ma[136]=0,Aa[136]=-1,Ia[136]=0,Pa[136]=1,Ea[136]=-1,Ta[136]=0,Da[136]=0,Oa[136]=0,Na[136]=-1,Fa[136]=0,ka[136]=0,Ra[136]=-1,La[136]=1,pa[136]=1,ma[136]=0,ga[136]=0,va[136]=1,_a[136]=0,ya[136]=1,ba[34]=0,xa[34]=-1,wa[34]=0,Ca[34]=0,Sa[34]=-1,Ma[34]=1,Aa[34]=1,Ia[34]=0,Pa[34]=0,Ea[34]=1,Ta[34]=0,Da[34]=1,Oa[34]=0,Na[34]=1,Fa[34]=1,ka[34]=0,Ra[34]=1,La[34]=0,pa[34]=-1,ma[34]=0,ga[34]=1,va[34]=-1,_a[34]=0,ya[34]=0,ba[35]=0,xa[35]=1,wa[35]=1,Ca[35]=0,Sa[35]=-1,Ma[35]=1,Aa[35]=1,Ia[35]=0,Pa[35]=0,Ea[35]=-1,Ta[35]=0,Da[35]=0,Oa[35]=0,Na[35]=-1,Fa[35]=0,ka[35]=0,Ra[35]=1,La[35]=0,pa[35]=-1,ma[35]=0,ga[35]=1,va[35]=1,_a[35]=0,ya[35]=1,ba[153]=0,xa[153]=1,wa[153]=1,Ea[153]=-1,Ta[153]=0,Da[153]=0,Oa[153]=0,Na[153]=-1,Fa[153]=0,va[153]=1,_a[153]=0,ya[153]=1,Ca[102]=0,Sa[102]=-1,Ma[102]=1,Aa[102]=1,Ia[102]=0,Pa[102]=0,ka[102]=0,Ra[102]=1,La[102]=0,pa[102]=-1,ma[102]=0,ga[102]=1,ba[155]=0,xa[155]=-1,wa[155]=0,Ea[155]=1,Ta[155]=0,Da[155]=1,Oa[155]=0,Na[155]=1,Fa[155]=1,va[155]=-1,_a[155]=0,ya[155]=0,Ca[103]=0,Sa[103]=1,Ma[103]=0,Aa[103]=-1,Ia[103]=0,Pa[103]=1,ka[103]=0,Ra[103]=-1,La[103]=1,pa[103]=1,ma[103]=0,ga[103]=0,ba[152]=0,xa[152]=1,wa[152]=1,Aa[152]=-1,Ia[152]=0,Pa[152]=1,Ea[152]=-1,Ta[152]=0,Da[152]=0,Oa[152]=0,Na[152]=-1,Fa[152]=0,ka[152]=0,Ra[152]=-1,La[152]=1,va[152]=1,_a[152]=0,ya[152]=1,ba[156]=0,xa[156]=-1,wa[156]=1,Aa[156]=1,Ia[156]=0,Pa[156]=1,Ea[156]=-1,Ta[156]=0,Da[156]=0,Oa[156]=0,Na[156]=-1,Fa[156]=0,ka[156]=0,Ra[156]=1,La[156]=1,va[156]=-1,_a[156]=0,ya[156]=1,ba[137]=0,xa[137]=1,wa[137]=1,Ca[137]=0,Sa[137]=1,Ma[137]=0,Ea[137]=-1,Ta[137]=0,Da[137]=0,Oa[137]=0,Na[137]=-1,Fa[137]=0,pa[137]=1,ma[137]=0,ga[137]=0,va[137]=1,_a[137]=0,ya[137]=1,ba[139]=0,xa[139]=1,wa[139]=1,Ca[139]=0,Sa[139]=-1,Ma[139]=0,Ea[139]=1,Ta[139]=0,Da[139]=0,Oa[139]=0,Na[139]=1,Fa[139]=0,pa[139]=-1,ma[139]=0,ga[139]=0,va[139]=1,_a[139]=0,ya[139]=1,ba[98]=0,xa[98]=-1,wa[98]=0,Ca[98]=0,Sa[98]=-1,Ma[98]=1,Aa[98]=1,Ia[98]=0,Pa[98]=0,Ea[98]=1,Ta[98]=0,Da[98]=1,ka[98]=0,Ra[98]=1,La[98]=0,pa[98]=-1,ma[98]=0,ga[98]=1,ba[99]=0,xa[99]=1,wa[99]=0,Ca[99]=0,Sa[99]=-1,Ma[99]=1,Aa[99]=1,Ia[99]=0,Pa[99]=0,Ea[99]=-1,Ta[99]=0,Da[99]=1,ka[99]=0,Ra[99]=-1,La[99]=0,pa[99]=1,ma[99]=0,ga[99]=1,Ca[38]=0,Sa[38]=-1,Ma[38]=1,Aa[38]=1,Ia[38]=0,Pa[38]=0,Oa[38]=0,Na[38]=1,Fa[38]=1,ka[38]=0,Ra[38]=1,La[38]=0,pa[38]=-1,ma[38]=0,ga[38]=1,va[38]=-1,_a[38]=0,ya[38]=0,Ca[39]=0,Sa[39]=1,Ma[39]=1,Aa[39]=-1,Ia[39]=0,Pa[39]=0,Oa[39]=0,Na[39]=-1,Fa[39]=1,ka[39]=0,Ra[39]=1,La[39]=0,pa[39]=-1,ma[39]=0,ga[39]=1,va[39]=1,_a[39]=0,ya[39]=0;var Z5=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Y5=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},X5=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},$5=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},q5=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},K5=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},Q5=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},J5=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},$i=[],Zi=[],Rr=[],xr=[],Qr=[],Zr=[],Ba=[],ja=[];xr[1]=Qr[1]=18,xr[169]=Qr[169]=18,Rr[4]=Zi[4]=12,Rr[166]=Zi[166]=12,$i[16]=ja[16]=4,$i[154]=ja[154]=4,Zr[64]=Ba[64]=22,Zr[106]=Ba[106]=22,Rr[2]=Zr[2]=17,xr[2]=Qr[2]=18,Rr[168]=Zr[168]=17,xr[168]=Qr[168]=18,$i[8]=xr[8]=9,Zi[8]=Rr[8]=12,$i[162]=xr[162]=9,Zi[162]=Rr[162]=12,$i[32]=ja[32]=4,Zi[32]=Ba[32]=1,$i[138]=ja[138]=4,Zi[138]=Ba[138]=1,Qr[128]=ja[128]=21,Zr[128]=Ba[128]=22,Qr[42]=ja[42]=21,Zr[42]=Ba[42]=22,Zi[5]=Qr[5]=14,Zi[165]=Qr[165]=14,Rr[20]=ja[20]=6,Rr[150]=ja[150]=6,$i[80]=Zr[80]=11,$i[90]=Zr[90]=11,xr[65]=Ba[65]=3,xr[105]=Ba[105]=3,$i[160]=Zr[160]=11,Zi[160]=Qr[160]=14,$i[10]=Zr[10]=11,Zi[10]=Qr[10]=14,Rr[130]=ja[130]=6,xr[130]=Ba[130]=3,Rr[40]=ja[40]=6,xr[40]=Ba[40]=3,Zi[101]=Ba[101]=1,Zi[69]=Ba[69]=1,Qr[149]=ja[149]=21,Qr[21]=ja[21]=21,Rr[86]=Zr[86]=17,Rr[84]=Zr[84]=17,$i[89]=xr[89]=9,$i[81]=xr[81]=9,$i[96]=Ba[96]=0,Zi[96]=Zr[96]=15,$i[74]=Ba[74]=0,Zi[74]=Zr[74]=15,$i[24]=Rr[24]=8,xr[24]=ja[24]=7,$i[146]=Rr[146]=8,xr[146]=ja[146]=7,Zi[6]=Zr[6]=15,Rr[6]=Qr[6]=16,Zi[164]=Zr[164]=15,Rr[164]=Qr[164]=16,xr[129]=ja[129]=7,Qr[129]=Ba[129]=20,xr[41]=ja[41]=7,Qr[41]=Ba[41]=20,Rr[66]=Ba[66]=2,xr[66]=Zr[66]=19,Rr[104]=Ba[104]=2,xr[104]=Zr[104]=19,$i[144]=Qr[144]=10,Zr[144]=ja[144]=23,$i[26]=Qr[26]=10,Zr[26]=ja[26]=23,Zi[36]=ja[36]=5,Rr[36]=Ba[36]=2,Zi[134]=ja[134]=5,Rr[134]=Ba[134]=2,$i[9]=Qr[9]=10,Zi[9]=xr[9]=13,$i[161]=Qr[161]=10,Zi[161]=xr[161]=13,Zi[37]=ja[37]=5,Qr[37]=Ba[37]=20,Zi[133]=ja[133]=5,Qr[133]=Ba[133]=20,Rr[148]=Qr[148]=16,Zr[148]=ja[148]=23,Rr[22]=Qr[22]=16,Zr[22]=ja[22]=23,$i[82]=Rr[82]=8,xr[82]=Zr[82]=19,$i[88]=Rr[88]=8,xr[88]=Zr[88]=19,$i[73]=Ba[73]=0,Zi[73]=xr[73]=13,$i[97]=Ba[97]=0,Zi[97]=xr[97]=13,$i[145]=xr[145]=9,Qr[145]=ja[145]=21,$i[25]=xr[25]=9,Qr[25]=ja[25]=21,Zi[70]=Ba[70]=1,Rr[70]=Zr[70]=17,Zi[100]=Ba[100]=1,Rr[100]=Zr[100]=17,$i[34]=xr[34]=9,Zi[34]=Rr[34]=12,Qr[34]=ja[34]=21,Zr[34]=Ba[34]=22,$i[136]=ja[136]=4,Zi[136]=Ba[136]=1,Rr[136]=Zr[136]=17,xr[136]=Qr[136]=18,$i[35]=ja[35]=4,Zi[35]=Rr[35]=12,xr[35]=Qr[35]=18,Zr[35]=Ba[35]=22,$i[153]=ja[153]=4,xr[153]=Qr[153]=18,Zi[102]=Rr[102]=12,Zr[102]=Ba[102]=22,$i[155]=xr[155]=9,Qr[155]=ja[155]=23,Zi[103]=Ba[103]=1,Rr[103]=Zr[103]=17,$i[152]=ja[152]=4,Rr[152]=Zr[152]=17,xr[152]=Qr[152]=18,$i[156]=Rr[156]=8,xr[156]=Qr[156]=18,Zr[156]=ja[156]=23,$i[137]=ja[137]=4,Zi[137]=Ba[137]=1,xr[137]=Qr[137]=18,$i[139]=ja[139]=4,Zi[139]=xr[139]=13,Qr[139]=Ba[139]=20,$i[98]=xr[98]=9,Zi[98]=Rr[98]=12,Zr[98]=Ba[98]=22,$i[99]=Ba[99]=0,Zi[99]=Rr[99]=12,xr[99]=Zr[99]=19,Zi[38]=Rr[38]=12,Qr[38]=ja[38]=21,Zr[38]=Ba[38]=22,Zi[39]=ja[39]=5,Rr[39]=Qr[39]=16,Zr[39]=Ba[39]=22;var Ei=[];function n4(n,e,t){return function y$t(n){return(n>0)-(n<0)||+n}((e[0]-n[0])*(t[1]-e[1])-(t[0]-e[0])*(e[1]-n[1]))}function klt(n,e){return e.geometry.coordinates[0].every(function(t){return nS(qI(t),n)})}Ei[1]=Ei[169]=Z5,Ei[4]=Ei[166]=Y5,Ei[16]=Ei[154]=X5,Ei[64]=Ei[106]=$5,Ei[168]=Ei[2]=q5,Ei[162]=Ei[8]=K5,Ei[138]=Ei[32]=Q5,Ei[42]=Ei[128]=J5,Ei[5]=Ei[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},Ei[20]=Ei[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},Ei[80]=Ei[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},Ei[65]=Ei[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ei[160]=Ei[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},Ei[130]=Ei[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},Ei[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ei[101]=Ei[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},Ei[149]=Ei[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},Ei[86]=Ei[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},Ei[89]=Ei[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},Ei[96]=Ei[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},Ei[24]=Ei[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},Ei[6]=Ei[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},Ei[129]=Ei[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},Ei[66]=Ei[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ei[144]=Ei[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ei[36]=Ei[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},Ei[9]=Ei[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},Ei[37]=Ei[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ei[148]=Ei[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ei[82]=Ei[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},Ei[73]=Ei[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},Ei[145]=Ei[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ei[70]=Ei[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ei[34]=function(n){return[J5(n),K5(n)]},Ei[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Ei[136]=function(n){return[Q5(n),q5(n)]},Ei[153]=function(n){return[X5(n),Z5(n)]},Ei[102]=function(n){return[Y5(n),$5(n)]},Ei[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},Ei[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ei[152]=function(n){return[X5(n),q5(n)]},Ei[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},Ei[137]=function(n){return[Q5(n),Z5(n)]},Ei[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},Ei[98]=function(n){return[K5(n),$5(n)]},Ei[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},Ei[38]=function(n){return[Y5(n),J5(n)]},Ei[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};var w$t=function(){function n(e){this.id=n.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(e){return e.join(",")},n.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==e.from.id})},n.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==e.to.id})},n.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,i){var r=t.to,o=i.to;if(r.coordinates[0]-e.coordinates[0]>=0&&o.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&o.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&o.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||o.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-o.coordinates[1]:o.coordinates[1]-r.coordinates[1];var a=n4(e.coordinates,r.coordinates,o.coordinates);return a<0?1:a>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},n.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},n}();const Rlt=w$t;var C$t=function(){function n(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function I5(n,e,t){if(void 0===t&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return pm({type:"LineString",coordinates:n},e,t)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(e){return n4(e.from.coordinates,e.to.coordinates,this.to.coordinates)},n}();const S$t=C$t;var M$t=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},n.prototype.get=function(e){return this.edges[e]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(e){this.edges.forEach(e)},n.prototype.map=function(e){return this.edges.map(e)},n.prototype.some=function(e){return this.edges.some(e)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var e=this,t=this.edges.reduce(function(a,s,l){return s.from.coordinates[1]>e.edges[a].from.coordinates[1]&&(a=l),a},0),i=(0===t?this.length:t)-1,r=(t+1)%this.length,o=n4(this.edges[i].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[i].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},n.prototype.toMultiPoint=function(){return function Ust(n,e,t){return void 0===t&&(t={}),pm({type:"MultiPoint",coordinates:n},e,t)}(this.edges.map(function(e){return e.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(t){return t.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=$_([e])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function kYt(n){return function PYt(n,e){void 0===e&&(e={});var t=Number(n[0]),i=Number(n[1]),r=Number(n[2]),o=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[t,i];return $_([[a,[r,i],[r,o],[t,o],a]],e.properties,{bbox:n,id:e.id})}(J7t(n))}(this.toPolygon())},n.findEdgeRingContaining=function(e,t){var r,o,i=e.getEnvelope();return t.forEach(function(a){var s=a.getEnvelope();if(o&&(r=o.getEnvelope()),!function b$t(n,e){var t=n.geometry.coordinates[0].map(function(a){return a[0]}),i=n.geometry.coordinates[0].map(function(a){return a[1]}),r=e.geometry.coordinates[0].map(function(a){return a[0]}),o=e.geometry.coordinates[0].map(function(a){return a[1]});return Math.max.apply(null,t)===Math.max.apply(null,r)&&Math.max.apply(null,i)===Math.max.apply(null,o)&&Math.min.apply(null,t)===Math.min.apply(null,r)&&Math.min.apply(null,i)===Math.min.apply(null,o)}(s,i)&&klt(s,i)){for(var l=e.map(function(g){return g.from.coordinates}),c=void 0,u=function(g){a.some(function(y){return function x$t(n,e){return n[0]===e[0]&&n[1]===e[1]}(g,y.from.coordinates)})||(c=g)},d=0,h=l;d<h.length;d++)u(h[d]);c&&a.inside(qI(c))&&(!o||klt(r,s))&&(o=a)}}),o},n.prototype.inside=function(e){return nS(e,this.toPolygon())},n}();const E$t=M$t;function Glt(n){for(var e=n,t=[];e.parent;)t.unshift(e),e=e.parent;return t}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(e){!function T$t(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var t=new n;return function QI(n,e){jst(n,function(t,i,r,o,a){var l,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(pm(t,r,{bbox:o,id:a}),i,0)&&void 0}switch(s){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon"}for(var c=0;c<t.coordinates.length;c++)if(!1===e(pm({type:l,coordinates:t.coordinates[c]},r),i,c))return!1})}(e,function(i){(function nYt(n,e,t){if(!n)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.geometry.type)})(i,"LineString","Graph::fromGeoJson"),function Y7t(n,e,t,i){var r=t;zb(n,function(o,a,s,l,c){r=0===a&&void 0===t?o:e(r,o,a,s,l,c)},i)}(i,function(r,o){if(r){var a=t.getNode(r),s=t.getNode(o);t.addEdge(a,s)}return o})}),t},n.prototype.getNode=function(e){var t=Rlt.buildId(e),i=this.nodes[t];return i||(i=this.nodes[t]=new Rlt(e)),i},n.prototype.addEdge=function(e,t){var i=new S$t(e,t),r=i.getSymetric();this.edges.push(i),this.edges.push(r)},n.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map(function(t){return e.nodes[t]}).forEach(function(t){return e._removeIfDangle(t)})},n.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var i=e.getOuterEdges().map(function(r){return r.to});this.removeNode(e),i.forEach(function(r){return t._removeIfDangle(r)})}},n.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))})},n.prototype._computeNextCWEdges=function(e){var t=this;typeof e>"u"?Object.keys(this.nodes).forEach(function(i){return t._computeNextCWEdges(t.nodes[i])}):e.getOuterEdges().forEach(function(i,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=i})},n.prototype._computeNextCCWEdges=function(e,t){for(var r,o,i=e.getOuterEdges(),a=i.length-1;a>=0;--a){var s=i[a],l=s.symetric,c=void 0,u=void 0;s.label===t&&(c=s),l.label===t&&(u=l),c&&u&&(u&&(o=u),c&&(o&&(o.next=c,o=void 0),r||(r=c)))}o&&(o.next=r)},n.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach(function(i){if(!(i.label>=0)){e.push(i);var r=i;do{r.label=t,r=r.next}while(!i.isEqual(r));t++}}),e},n.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(i){i.label=void 0}),this._findLabeledEdgeRings().forEach(function(i){e._findIntersectionNodes(i).forEach(function(r){e._computeNextCCWEdges(r,i.label)})});var t=[];return this.edges.forEach(function(i){i.ring||t.push(e._findEdgeRing(i))}),t},n.prototype._findIntersectionNodes=function(e){var t=[],i=e,r=function(){var o=0;i.from.getOuterEdges().forEach(function(a){a.label===e.label&&++o}),o>1&&t.push(i.from),i=i.next};do{r()}while(!e.isEqual(i));return t},n.prototype._findEdgeRing=function(e){var t=e,i=new E$t;do{i.push(t),t.ring=i,t=t.next}while(!e.isEqual(t));return i},n.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach(function(i){return t.removeEdge(i)}),e.innerEdges.forEach(function(i){return t.removeEdge(i)}),delete this.nodes[e.id]},n.prototype.removeEdge=function(e){this.edges=this.edges.filter(function(t){return!t.isEqual(e)}),e.deleteEdge()}}(),Y(5013),Y(7470),Y(9475);var oP={search:function(n,e,t,i){n.cleanDirty();var r=(i=i||{}).heuristic||oP.heuristics.manhattan,o=i.closest||!1,a=function H$t(){return new Hlt(function(n){return n.f})}(),s=e;for(e.h=r(e,t),a.push(e);a.size()>0;){var l=a.pop();if(l===t)return Glt(l);l.closed=!0;for(var c=n.neighbors(l),u=0,d=c.length;u<d;++u){var h=c[u];if(!h.closed&&!h.isWall()){var p=l.g+h.getCost(l),g=h.visited;(!g||p<h.g)&&(h.visited=!0,h.parent=l,h.h=h.h||r(h,t),h.g=p,h.f=h.g+h.h,n.markDirty(h),o&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),g?a.rescoreElement(h):a.push(h))}}}return o?Glt(s):[]},heuristics:{manhattan:function(n,e){return Math.abs(e.x-n.x)+Math.abs(e.y-n.y)},diagonal:function(n,e){var i=Math.sqrt(2),r=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y);return 1*(r+o)+(i-2)*Math.min(r,o)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function Gb(n,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var t=0;t<n.length;t++){this.grid[t]=[];for(var i=0,r=n[t];i<r.length;i++){var o=new aP(t,i,r[i]);this.grid[t][i]=o,this.nodes.push(o)}}this.init()}function aP(n,e,t){this.x=n,this.y=e,this.weight=t}function Hlt(n){this.content=[],this.scoreFunction=n}function o4(){this._=null}function sP(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function sS(n,e){var t=e,i=e.R,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.R=i.L,t.R&&(t.R.U=t),i.L=t}function lS(n,e){var t=e,i=e.L,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.L=i.R,t.L&&(t.L.U=t),i.R=t}function jlt(n){for(;n.L;)n=n.L;return n}Gb.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)oP.cleanNode(this.nodes[n])},Gb.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)oP.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},Gb.prototype.markDirty=function(n){this.dirtyNodes.push(n)},Gb.prototype.neighbors=function(n){var e=[],t=n.x,i=n.y,r=this.grid;return r[t-1]&&r[t-1][i]&&e.push(r[t-1][i]),r[t+1]&&r[t+1][i]&&e.push(r[t+1][i]),r[t]&&r[t][i-1]&&e.push(r[t][i-1]),r[t]&&r[t][i+1]&&e.push(r[t][i+1]),this.diagonal&&(r[t-1]&&r[t-1][i-1]&&e.push(r[t-1][i-1]),r[t+1]&&r[t+1][i-1]&&e.push(r[t+1][i-1]),r[t-1]&&r[t-1][i+1]&&e.push(r[t-1][i+1]),r[t+1]&&r[t+1][i+1]&&e.push(r[t+1][i+1])),e},Gb.prototype.toString=function(){for(var t,i,r,o,n=[],e=this.grid,a=0,s=e.length;a<s;a++){for(t=[],r=0,o=(i=e[a]).length;r<o;r++)t.push(i[r].weight);n.push(t.join(" "))}return n.join("\n")},aP.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},aP.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},aP.prototype.isWall=function(){return 0===this.weight},Hlt.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),n},remove:function(n){var e=this.content.indexOf(n),t=this.content.pop();e!==this.content.length-1&&(this.content[e]=t,this.scoreFunction(t)<this.scoreFunction(n)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var e=this.content[n];n>0;){var t=(n+1>>1)-1,i=this.content[t];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[t]=e,this.content[n]=i,n=t}},bubbleUp:function(n){for(var e=this.content.length,t=this.content[n],i=this.scoreFunction(t);;){var s,r=n+1<<1,o=r-1,a=null;if(o<e&&(s=this.scoreFunction(this.content[o]))<i&&(a=o),r<e&&this.scoreFunction(this.content[r])<(null===a?i:s)&&(a=r),null===a)break;this.content[n]=this.content[a],this.content[a]=t,n=a}}},o4.prototype={constructor:o4,insert:function(n,e){var t,i,r;if(n){if(e.P=n,e.N=n.N,n.N&&(n.N.P=e),n.N=e,n.R){for(n=n.R;n.L;)n=n.L;n.L=e}else n.R=e;t=n}else this._?(n=jlt(this._),e.P=null,e.N=n,n.P=n.L=e,t=n):(e.P=e.N=null,this._=e,t=null);for(e.L=e.R=null,e.U=t,e.C=!0,n=e;t&&t.C;)t===(i=t.U).L?(r=i.R)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.R&&(sS(this,t),t=(n=t).U),t.C=!1,i.C=!0,lS(this,i)):(r=i.L)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.L&&(lS(this,t),t=(n=t).U),t.C=!1,i.C=!0,sS(this,i)),t=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,o,a,e=n.U,i=n.L,r=n.R;if(o=i?r?jlt(r):i:r,e?e.L===n?e.L=o:e.R=o:this._=o,i&&r?(a=o.C,o.C=n.C,o.L=i,i.U=o,o!==r?(e=o.U,o.U=n.U,e.L=n=o.R,o.R=r,r.U=o):(o.U=e,e=o,n=o.R)):(a=n.C,n=o),n&&(n.U=e),!a){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===e.L){if((t=e.R).C&&(t.C=!1,e.C=!0,sS(this,e),t=e.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,lS(this,t),t=e.R),t.C=e.C,e.C=t.R.C=!1,sS(this,e),n=this._;break}}else if((t=e.L).C&&(t.C=!1,e.C=!0,lS(this,e),t=e.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,sS(this,t),t=e.L),t.C=e.C,e.C=t.L.C=!1,lS(this,e),n=this._;break}t.C=!0,n=e,e=e.U}while(!n.C);n&&(n.C=!1)}}};const Wlt=o4;function cS(n,e,t,i){var r=[null,null],o=Nu.push(r)-1;return r.left=n,r.right=e,t&&lP(r,n,e,t),i&&lP(r,e,n,i),Kd[n.index].halfedges.push(o),Kd[e.index].halfedges.push(o),r}function uS(n,e,t){var i=[e,t];return i.left=n,i}function lP(n,e,t,i){n[0]||n[1]?n.left===t?n[1]=i:n[0]=i:(n[0]=i,n.left=e,n.right=t)}function W$t(n,e,t,i,r){var y,o=n[0],a=n[1],s=o[0],l=o[1],d=0,h=1,p=a[0]-s,g=a[1]-l;if(y=e-s,p||!(y>0)){if(y/=p,p<0){if(y<d)return;y<h&&(h=y)}else if(p>0){if(y>h)return;y>d&&(d=y)}if(y=i-s,p||!(y<0)){if(y/=p,p<0){if(y>h)return;y>d&&(d=y)}else if(p>0){if(y<d)return;y<h&&(h=y)}if(y=t-l,g||!(y>0)){if(y/=g,g<0){if(y<d)return;y<h&&(h=y)}else if(g>0){if(y>h)return;y>d&&(d=y)}if(y=r-l,g||!(y<0)){if(y/=g,g<0){if(y>h)return;y>d&&(d=y)}else if(g>0){if(y<d)return;y<h&&(h=y)}return!(d>0)&&!(h<1)||(d>0&&(n[0]=[s+d*p,l+d*g]),h<1&&(n[1]=[s+h*p,l+h*g])),!0}}}}}function Z$t(n,e,t,i,r){var o=n[1];if(o)return!0;var y,b,a=n[0],s=n.left,l=n.right,c=s[0],u=s[1],d=l[0],h=l[1],p=(c+d)/2;if(h===u){if(p<e||p>=i)return;if(c>d){if(a){if(a[1]>=r)return}else a=[p,t];o=[p,r]}else{if(a){if(a[1]<t)return}else a=[p,r];o=[p,t]}}else if(b=(u+h)/2-(y=(c-d)/(h-u))*p,y<-1||y>1)if(c>d){if(a){if(a[1]>=r)return}else a=[(t-b)/y,t];o=[(r-b)/y,r]}else{if(a){if(a[1]<t)return}else a=[(r-b)/y,r];o=[(t-b)/y,t]}else if(u<h){if(a){if(a[0]>=i)return}else a=[e,y*e+b];o=[i,y*i+b]}else{if(a){if(a[0]<e)return}else a=[i,y*i+b];o=[e,y*e+b]}return n[0]=a,n[1]=o,!0}function $$t(n,e){var t=n.site,i=e.left,r=e.right;return t===r&&(r=i,i=t),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(t===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Zlt(n,e){return e[+(e.left!==n.site)]}function q$t(n,e){return e[+(e.left===n.site)]}var a4,Ylt=[];function J$t(){sP(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hb(n){var e=n.P,t=n.N;if(e&&t){var i=e.site,r=n.site,o=t.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,c=i[1]-s,u=o[0]-a,d=o[1]-s,h=2*(l*d-c*u);if(!(h>=-rqt)){var p=l*l+c*c,g=u*u+d*d,y=(d*p-c*g)/h,b=(l*g-u*p)/h,w=Ylt.pop()||new J$t;w.arc=n,w.site=r,w.x=y+a,w.y=(w.cy=b+s)+Math.sqrt(y*y+b*b),n.circle=w;for(var M=null,E=dS._;E;)if(w.y<E.y||w.y===E.y&&w.x<=E.x){if(!E.L){M=E.P;break}E=E.L}else{if(!E.R){M=E;break}E=E.R}dS.insert(M,w),M||(a4=w)}}}}function jb(n){var e=n.circle;e&&(e.P||(a4=e.N),dS.remove(e),Ylt.push(e),sP(e),n.circle=null)}var Xlt=[];function tqt(){sP(this),this.edge=this.site=this.circle=null}function $lt(n){var e=Xlt.pop()||new tqt;return e.site=n,e}function s4(n){jb(n),Wb.remove(n),Xlt.push(n),sP(n)}function eqt(n){var e=n.circle,t=e.x,i=e.cy,r=[t,i],o=n.P,a=n.N,s=[n];s4(n);for(var l=o;l.circle&&Math.abs(t-l.circle.x)<Pl&&Math.abs(i-l.circle.cy)<Pl;)o=l.P,s.unshift(l),s4(l),l=o;s.unshift(l),jb(l);for(var c=a;c.circle&&Math.abs(t-c.circle.x)<Pl&&Math.abs(i-c.circle.cy)<Pl;)a=c.N,s.push(c),s4(c),c=a;s.push(c),jb(c);var d,u=s.length;for(d=1;d<u;++d)lP((c=s[d]).edge,(l=s[d-1]).site,c.site,r);(c=s[u-1]).edge=cS((l=s[0]).site,c.site,null,r),Hb(l),Hb(c)}function nqt(n){for(var i,r,o,a,e=n[0],t=n[1],s=Wb._;s;)if((o=qlt(s,t)-e)>Pl)s=s.L;else{if(!((a=e-iqt(s,t))>Pl)){o>-Pl?(i=s.P,r=s):a>-Pl?(i=s,r=s.N):i=r=s;break}if(!s.R){i=s;break}s=s.R}!function X$t(n){Kd[n.index]={site:n,halfedges:[]}}(n);var l=$lt(n);if(Wb.insert(i,l),i||r){if(i===r)return jb(i),r=$lt(i.site),Wb.insert(l,r),l.edge=r.edge=cS(i.site,l.site),Hb(i),void Hb(r);if(!r)return void(l.edge=cS(i.site,l.site));jb(i),jb(r);var c=i.site,u=c[0],d=c[1],h=n[0]-u,p=n[1]-d,g=r.site,y=g[0]-u,b=g[1]-d,w=2*(h*b-p*y),M=h*h+p*p,E=y*y+b*b,k=[(b*M-p*E)/w+u,(h*E-y*M)/w+d];lP(r.edge,c,g,k),l.edge=cS(c,n,null,k),r.edge=cS(n,g,null,k),Hb(i),Hb(r)}}function qlt(n,e){var t=n.site,i=t[0],r=t[1],o=r-e;if(!o)return i;var a=n.P;if(!a)return-1/0;var s=(t=a.site)[0],l=t[1],c=l-e;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function iqt(n,e){var t=n.N;if(t)return qlt(t,e);var i=n.site;return i[1]===e?i[0]:1/0}var Wb,Kd,dS,Nu,Pl=1e-6,rqt=1e-12;function oqt(n,e,t){return(n[0]-t[0])*(e[1]-n[1])-(n[0]-e[0])*(t[1]-n[1])}function aqt(n,e){return e[1]-n[1]||e[0]-n[0]}function Klt(n,e){var i,r,o,t=n.sort(aqt).pop();for(Nu=[],Kd=new Array(n.length),Wb=new Wlt,dS=new Wlt;;)if(o=a4,t&&(!o||t[1]<o.y||t[1]===o.y&&t[0]<o.x))(t[0]!==i||t[1]!==r)&&(nqt(t),i=t[0],r=t[1]),t=n.pop();else{if(!o)break;eqt(o.arc)}if(function K$t(){for(var t,i,r,o,n=0,e=Kd.length;n<e;++n)if((t=Kd[n])&&(o=(i=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(r=0;r<o;++r)a[r]=r,s[r]=$$t(t,Nu[i[r]]);for(a.sort(function(l,c){return s[c]-s[l]}),r=0;r<o;++r)s[r]=i[a[r]];for(r=0;r<o;++r)i[r]=s[r]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];(function Y$t(n,e,t,i){for(var o,r=Nu.length;r--;)Z$t(o=Nu[r],n,e,t,i)&&W$t(o,n,e,t,i)&&(Math.abs(o[0][0]-o[1][0])>Pl||Math.abs(o[0][1]-o[1][1])>Pl)||delete Nu[r]})(a,s,l,c),function Q$t(n,e,t,i){var o,a,s,l,c,u,d,h,p,g,y,b,r=Kd.length,w=!0;for(o=0;o<r;++o)if(a=Kd[o]){for(s=a.site,l=(c=a.halfedges).length;l--;)Nu[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)y=(g=q$t(a,Nu[c[l]]))[0],b=g[1],h=(d=Zlt(a,Nu[c[++l%u]]))[0],p=d[1],(Math.abs(y-h)>Pl||Math.abs(b-p)>Pl)&&(c.splice(l,0,Nu.push(uS(s,g,Math.abs(y-n)<Pl&&i-b>Pl?[n,Math.abs(h-n)<Pl?p:i]:Math.abs(b-i)<Pl&&t-y>Pl?[Math.abs(p-i)<Pl?h:t,i]:Math.abs(y-t)<Pl&&b-e>Pl?[t,Math.abs(h-t)<Pl?p:e]:Math.abs(b-e)<Pl&&y-n>Pl?[Math.abs(p-e)<Pl?h:n,e]:null))-1),++u);u&&(w=!1)}if(w){var M,E,k,j=1/0;for(o=0,w=null;o<r;++o)(a=Kd[o])&&(k=(M=(s=a.site)[0]-n)*M+(E=s[1]-e)*E)<j&&(j=k,w=a);if(w){var H=[n,e],rt=[n,i],yt=[t,i],st=[t,e];w.halfedges.push(Nu.push(uS(s=w.site,H,rt))-1,Nu.push(uS(s,rt,yt))-1,Nu.push(uS(s,yt,st))-1,Nu.push(uS(s,st,H))-1)}}for(o=0;o<r;++o)(a=Kd[o])&&(a.halfedges.length||delete Kd[o])}(a,s,l,c)}this.edges=Nu,this.cells=Kd,Wb=dS=Nu=Kd=null}function nct(n){var e={type:"Feature"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"properties":case"geometry":return;default:e[t]=n[t]}}),e.properties=ict(n.properties),e.geometry=l4(n.geometry),e}function ict(n){var e={};return n&&Object.keys(n).forEach(function(t){var i=n[t];e[t]="object"==typeof i?null===i?null:Array.isArray(i)?i.map(function(r){return r}):ict(i):i}),e}function l4(n){var e={type:n.type};return n.bbox&&(e.bbox=n.bbox),"GeometryCollection"===n.type?(e.geometries=n.geometries.map(function(t){return l4(t)}),e):(e.coordinates=rct(n.coordinates),e)}function rct(n){var e=n;return"object"!=typeof e[0]?e.slice():e.map(function(t){return rct(t)})}Klt.prototype={constructor:Klt,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(i){return Zlt(e,n[i])});return t.data=e.site.data,t})},triangles:function(){var n=[],e=this.edges;return this.cells.forEach(function(t,i){if(s=(o=t.halfedges).length)for(var o,s,l,r=t.site,a=-1,c=e[o[s-1]],u=c.left===r?c.right:c.left;++a<s;)l=u,u=(c=e[o[a]]).left===r?c.right:c.left,l&&u&&i<l.index&&i<u.index&&oqt(r,l,u)<0&&n.push([r.data,l.data,u.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,e,t){for(var r,s,i=this,o=i._found||0,a=i.cells.length;!(s=i.cells[o]);)if(++o>=a)return null;var l=n-s.site[0],c=e-s.site[1],u=l*l+c*c;do{s=i.cells[r=o],o=null,s.halfedges.forEach(function(d){var h=i.edges[d],p=h.left;if(p!==s.site&&p||(p=h.right)){var g=n-p[0],y=e-p[1],b=g*g+y*y;b<u&&(u=b,o=p.index)}})}while(null!==o);return i._found=r,null==t||u<=t*t?s.site:null}};const pqt=function hqt(n){if(!n)throw new Error("geojson is required");switch(n.type){case"Feature":return nct(n);case"FeatureCollection":return function fqt(n){var e={type:"FeatureCollection"};return Object.keys(n).forEach(function(t){switch(t){case"type":case"features":return;default:e[t]=n[t]}}),e.features=n.features.map(function(t){return nct(t)}),e}(n);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return l4(n);default:throw new Error("unknown GeoJSON type")}};function act(n){var e=Math.PI/180,t=6378137,i=20037508.342789244,r=Math.abs(n[0])<=180?n[0]:n[0]-360*function gqt(n){return n<0?-1:n>0?1:0}(n[0]),o=[t*r*e,t*Math.log(Math.tan(.25*Math.PI+.5*n[1]*e))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function sct(n){var e=180/Math.PI,t=6378137;return[n[0]*e/t,(.5*Math.PI-2*Math.atan(Math.exp(-n[1]/t)))*e]}var Sqt=Y(9855);function kg(){return new cP}function cP(){this.reset()}Y(770),cP.prototype={constructor:cP,reset:function(){this.s=this.t=0},add:function(n){dct(uP,n,this.t),dct(this,uP.s,this.s),this.s?this.t+=uP.t:this.s=uP.t},valueOf:function(){return this.s}};var uP=new cP;function dct(n,e,t){var i=n.s=e+t,r=i-e;n.t=e-(i-r)+(t-r)}var Vl=Math.PI,Id=Vl/2,Zb=2*Vl,yl=Vl/180,hS=(Math,Math.atan),Yb=Math.atan2,ms=Math.cos,Wa=(Math,Math,Math,Math,Math,Math.sin),mm=(Math,Math.sqrt);Math;function Xb(n){return n>1?Id:n<-1?-Id:Math.asin(n)}function w4(n,e){return[n>Vl?n-Zb:n<-Vl?n+Zb:n,e]}function Bct(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}kg(),kg(),kg(),w4.invert=w4,function Hqt(n){1===n.length&&(n=function jqt(n){return function(e,t){return Bct(n(e),t)}}(n))}(Bct),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);kg();function U4(){}function dut(n){return function(e,t){var i=ms(e),r=ms(t),o=n(i*r);return[o*r*Wa(e),o*Wa(t)]}}function wS(n){return function(e,t){var i=mm(e*e+t*t),r=n(i),o=Wa(r),a=ms(r);return[Yb(e*o,i*a),Xb(i&&t*o/i)]}}kg(),kg(),kg(),kg(),function sut(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}(4.5),U4.prototype={constructor:U4,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ms(30*yl),function lut(n){return function(e){var t=new U4;for(var i in n)t[i]=n[i];return t.stream=e,t}}({point:function(n,e){this.stream.point(n*yl,e*yl)}});var hut=dut(function(n){return mm(2/(1+n))});hut.invert=wS(function(n){return 2*Xb(n/2)});var fut=dut(function(n){return(n=function Mqt(n){return n>1?0:n<-1?Vl:Math.acos(n)}(n))&&n/Wa(n)});function H4(n,e){return[n,e]}fut.invert=wS(function(n){return n}),H4.invert=H4,wS(hS),wS(Xb),wS(function(n){return 2*hS(n)});const LKt=function RKt(n,e,t){void 0===t&&(t={});var i=R5(n),r=R5(e),o=Sqt.union(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?$_(o[0],t.properties):function Gst(n,e,t){return void 0===t&&(t={}),pm({type:"MultiPolygon",coordinates:n},e,t)}(o,t.properties)};let Cut=(()=>{class n{constructor(t){this.httpClient=t,this._db=new Map,this.fetchData=i=>this.httpClient.get(`/testMeppleProfile/assets/geojson/${i}.geojson`),this._DeepCopy=i=>Vb(JSON.parse(JSON.stringify(i))),this.isDataLoaded=!1,this.GetDataSource=()=>this.loadData().pipe(le(i=>new Map(i))),this.Get=(i,r=!1)=>new Promise((o,a)=>{this.loadData().pipe(Is(1)).subscribe(s=>{o(this._db.get(i+(r?"_F":"")))})}),this.loadData().pipe(Is(1)).subscribe()}setDataInDic(t,i){this._db.set(t,i),this._db.set(t+"_F",this._DeepCopy(i))}loadData(){return this.isDataLoaded?rr(this._db):N2([this.fetchData(Ps.Adresses),this.fetchData(Ps.Buildings),this.fetchData(Ps.Neighborhoods),this.fetchData(Ps.OwnershipData),this.fetchData(Ps.NetloadImport),this.fetchData(Ps.TygronSectionGeometry)]).pipe(Is(1),le(c=>c.map(u=>function mqt(n,e){return void 0===e&&(e={}),function oct(n,e,t){void 0===t&&(t={});var i=(t=t||{}).mutate;if(!n)throw new Error("geojson is required");return Array.isArray(n)&&KI(n[0])?n="mercator"===e?act(n):sct(n):(!0!==i&&(n=pqt(n)),zb(n,function(r){var o="mercator"===e?act(r):sct(r);r[0]=o[0],r[1]=o[1]})),n}(n,"wgs84",e)}(u,{mutate:!1}))),vl(([c,u,d,h,p,g])=>{this.setDataInDic(Ps.Adresses,c),this.setDataInDic(Ps.Buildings,u);try{d.features.forEach(y=>y.properties.area=Math.round(slt(y.geometry)/1e3)),d.features=d.features.sort((y,b)=>b.properties.area-y.properties.area)}catch(y){console.log(y)}this.setDataInDic(Ps.Neighborhoods,d),this.setDataInDic(Ps.OwnershipData,h),this.setDataInDic(Ps.NetloadImport,p),this.setDataInDic(Ps.TygronSectionGeometry,g),this.isDataLoaded=!0}),le(c=>this._db))}}return n.\u0275fac=function(t){return new(t||n)(nn(Kw))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ps=(()=>(function(n){n.Adresses="Adresses",n.Buildings="Buildings",n.Neighborhoods="Neighborhoods",n.NetloadImport="netload_import",n.OwnershipData="Ownership_data",n.TygronSectionGeometry="tygron_section_geometry"}(Ps||(Ps={})),Ps))(),Co=Y(8407),j4=Symbol.for("immer-nothing"),CS=Symbol.for("immer-draftable"),gs=Symbol.for("immer-state");function iu(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ty=Object.getPrototypeOf;function Lg(n){return!!n&&!!n[gs]}function lp(n){return!!n&&(Sut(n)||Array.isArray(n)||!!n[CS]||!!n.constructor?.[CS]||MS(n)||ES(n))}var VKt=Object.prototype.constructor.toString();function Sut(n){if(!n||"object"!=typeof n)return!1;const e=ty(n);if(null===e)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===VKt}function ey(n,e){0===ny(n)?Object.entries(n).forEach(([t,i])=>{e(t,i,n)}):n.forEach((t,i)=>e(i,t,n))}function ny(n){const e=n[gs];return e?e.type_:Array.isArray(n)?1:MS(n)?2:ES(n)?3:0}function SS(n,e){return 2===ny(n)?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Mut(n,e,t){const i=ny(n);2===i?n.set(e,t):3===i?n.add(t):n[e]=t}function MS(n){return n instanceof Map}function ES(n){return n instanceof Set}function ru(n){return n.copy_||n.base_}function Z4(n,e){if(MS(n))return new Map(n);if(ES(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&Sut(n))return ty(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[gs];let i=Reflect.ownKeys(t);for(let r=0;r<i.length;r++){const o=i[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(ty(n),t)}function Y4(n,e=!1){return NP(n)||Lg(n)||!lp(n)||(ny(n)>1&&(n.set=n.add=n.clear=n.delete=UKt),Object.freeze(n),e&&ey(n,(t,i)=>Y4(i,!0))),n}function UKt(){iu(2)}function NP(n){return Object.isFrozen(n)}var TS,X4={};function iy(n){const e=X4[n];return e||iu(0),e}function FP(){return TS}function Tut(n,e){e&&(iy("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function $4(n){q4(n),n.drafts_.forEach(HKt),n.drafts_=null}function q4(n){n===TS&&(TS=n.parent_)}function Dut(n){return TS=function GKt(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(TS,n)}function HKt(n){const e=n[gs];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function Aut(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return void 0!==n&&n!==t?(t[gs].modified_&&($4(e),iu(4)),lp(n)&&(n=BP(e,n),e.parent_||VP(e,n)),e.patches_&&iy("Patches").generateReplacementPatches_(t[gs].base_,n,e.patches_,e.inversePatches_)):n=BP(e,t,[]),$4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==j4?n:void 0}function BP(n,e,t){if(NP(e))return e;const i=e[gs];if(!i)return ey(e,(r,o)=>Iut(n,i,e,r,o,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return VP(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let o=r,a=!1;3===i.type_&&(o=new Set(r),r.clear(),a=!0),ey(o,(s,l)=>Iut(n,i,r,s,l,t,a)),VP(n,r,!1),t&&n.patches_&&iy("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function Iut(n,e,t,i,r,o,a){if(Lg(r)){const l=BP(n,r,o&&e&&3!==e.type_&&!SS(e.assigned_,i)?o.concat(i):void 0);if(Mut(t,i,l),!Lg(l))return;n.canAutoFreeze_=!1}else a&&t.add(r);if(lp(r)&&!NP(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;BP(n,r),(!e||!e.scope_.parent_)&&VP(n,r)}}function VP(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Y4(e,t)}var K4={get(n,e){if(e===gs)return n;const t=ru(n);if(!SS(t,e))return function WKt(n,e,t){const i=Put(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}(n,t,e);const i=t[e];return n.finalized_||!lp(i)?i:i===Q4(n.base_,e)?(J4(n),n.copy_[e]=AS(i,n)):i},has:(n,e)=>e in ru(n),ownKeys:n=>Reflect.ownKeys(ru(n)),set(n,e,t){const i=Put(ru(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=Q4(ru(n),e),o=r?.[gs];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(function zKt(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e}(t,r)&&(void 0!==t||SS(n.base_,e)))return!0;J4(n),_m(n)}return n.copy_[e]===t&&(void 0!==t||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty:(n,e)=>(void 0!==Q4(n.base_,e)||e in n.base_?(n.assigned_[e]=!1,J4(n),_m(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0),getOwnPropertyDescriptor(n,e){const t=ru(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:1!==n.type_||"length"!==e,enumerable:i.enumerable,value:t[e]}},defineProperty(){iu(11)},getPrototypeOf:n=>ty(n.base_),setPrototypeOf(){iu(12)}},DS={};function Q4(n,e){const t=n[gs];return(t?ru(t):n)[e]}function Put(n,e){if(!(e in n))return;let t=ty(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=ty(t)}}function _m(n){n.modified_||(n.modified_=!0,n.parent_&&_m(n.parent_))}function J4(n){n.copy_||(n.copy_=Z4(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function AS(n,e){const t=MS(n)?iy("MapSet").proxyMap_(n,e):ES(n)?iy("MapSet").proxySet_(n,e):function jKt(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:FP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=K4;t&&(r=[i],o=DS);const{revoke:a,proxy:s}=Proxy.revocable(r,o);return i.draft_=s,i.revoke_=a,s}(n,e);return(e?e.scope_:FP()).drafts_.push(t),t}function kut(n){if(!lp(n)||NP(n))return n;const e=n[gs];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Z4(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Z4(n,!0);return ey(t,(i,r)=>{Mut(t,i,kut(r))}),e&&(e.finalized_=!1),t}ey(K4,(n,e)=>{DS[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),DS.deleteProperty=function(n,e){return DS.set.call(this,n,e,void 0)},DS.set=function(n,e,t){return K4.set.call(this,n[0],e,t,n[0])};var th=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if("function"==typeof e&&"function"!=typeof t){const o=t;t=e;const a=this;return function(l=o,...c){return a.produce(l,u=>t.call(this,u,...c))}}let r;if("function"!=typeof t&&iu(6),void 0!==i&&"function"!=typeof i&&iu(7),lp(e)){const o=Dut(this),a=AS(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?$4(o):q4(o)}return Tut(o,i),Aut(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===j4&&(r=void 0),this.autoFreeze_&&Y4(r,!0),i){const o=[],a=[];iy("Patches").generateReplacementPatches_(e,r,o,a),i(o,a)}return r}iu(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let i,r;return[this.produce(e,t,(a,s)=>{i=a,r=s}),i,r]},"boolean"==typeof n?.autoFreeze&&this.setAutoFreeze(n.autoFreeze),"boolean"==typeof n?.useStrictShallowCopy&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){lp(n)||iu(8),Lg(n)&&(n=function YKt(n){return Lg(n)||iu(10),kut(n)}(n));const e=Dut(this),t=AS(n,void 0);return t[gs].isManual_=!0,q4(e),t}finishDraft(n,e){const t=n&&n[gs];(!t||!t.isManual_)&&iu(9);const{scope_:i}=t;return Tut(i,e),Aut(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(0===r.path.length&&"replace"===r.op){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=iy("Patches").applyPatches_;return Lg(n)?i(n,e):this.produce(n,r=>i(r,e))}},XKt=th.produce;function tU(n=0,e=255){return Math.max(0,Math.min(255,Math.round(Math.random()*(e-n)+n)))}function Rut(n=0,e=255){return[tU(n,e),tU(n,e),tU(n,e)]}th.produceWithPatches.bind(th),th.setAutoFreeze.bind(th),th.setUseStrictShallowCopy.bind(th),th.applyPatches.bind(th),th.createDraft.bind(th),th.finishDraft.bind(th);const Lut={features:[],type:"FeatureCollection"};function Out(n,e){switch(n.type){case"Point":return nS(n.coordinates,e,{ignoreBoundary:!1});case"Polygon":return n.coordinates.every(t=>t.every(i=>nS(i,e,{ignoreBoundary:!1})));default:return!1}}const Nut=function kst(n){return X_(e=>{const t=e[n];return function p7t(){}(),t},e=>e)}("appMapSate"),KKt=X_(Nut,n=>n.datasource),Fut=X_(Nut,n=>n.settings),QKt=(X_(Fut,n=>n.map),X_(Fut,n=>n.boundaries)),ry=(n,e=!0)=>X_(KKt,QKt,(t,i)=>{if(0==e)return t.get(n)??Lut;let r=function $Kt(n,e){return XKt(n,i=>{i.features=n.features.filter(r=>-1!==["MultiPolygon","Polygon","Point"].indexOf(r.geometry.type)&&function qKt(n,e){switch(n.type){case"Point":case"Polygon":return Out(n,e);case"MultiPolygon":return Vb(n).every(t=>Out(t,e));default:return console.warn(),!1}}(r.geometry,e))})}(t.get(n)??Lut,i);return console.log("selectBoundaries : ",i,n,"filterd: ",r.features.length),r}),But=ry(Ps.Adresses),Vut=ry(Ps.Buildings),zut=ry(Ps.Neighborhoods),JKt=ry(Ps.Neighborhoods,!1),Uut=ry(Ps.NetloadImport),Gut=ry(Ps.TygronSectionGeometry),tQt=(ry(Ps.OwnershipData),["map"]);let Hut=(()=>{class n{constructor(t){this.store=t,this.Adresses$=this.store.select(But).pipe(ko(i=>!!i),Qu(100)),this.Buildings$=this.store.select(Vut).pipe(ko(i=>!!i),Qu(150)),this.Neighborhoods$=this.store.select(zut).pipe(vl(i=>console.log("Neighborhoods length",i?.features.length)),Qu(180),ko(i=>!!i)),this.NetloadImport$=this.store.select(Uut).pipe(ko(i=>!!i),Qu(95)),this.TygronSectionGeometry$=this.store.select(Gut).pipe(ko(i=>!!i),Qu(235))}ngOnInit(){this.Adresses$.subscribe(t=>{})}ngAfterViewInit(){this.prepareCharts()}prepareCharts(){var t=BQ(this.map.nativeElement);console.log("myChart",t),t.setOption({title:{text:"ECharts Getting Started Example"},tooltip:{},xAxis:{data:["shirt","cardigan","chiffon","pants","heels","socks"]},yAxis:{},series:[{name:"sales",type:"bar",data:[5,20,36,10,10,20]}]})}}return n.\u0275fac=function(t){return new(t||n)(ie(Pg))},n.\u0275cmp=Ci({type:n,selectors:[["app-chart"]],viewQuery:function(t,i){if(1&t&&rs(tQt,5),2&t){let r;Ni(r=Fi())&&(i.map=r.first)}},decls:2,vars:0,consts:[[1,"chart"],["map",""]],template:function(t,i){1&t&&Xr(0,"div",0,1)},styles:[".chart[_ngcontent-%COMP%]{width:500px;height:500px;display:inline-block}"]}),n})();const eQt=["map"];let jut=(()=>{class n{constructor(t){this.httpClient=t}ngOnInit(){}ngAfterViewInit(){this.preparechart2()}preparechart2(){var t;t={color:["#80FFA5","#00DDFF","#37A2FF","#FF0087","#FFBF00"],title:{text:"Gradient Stacked Area Chart"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Line 1","Line 2","Line 3","Line 4","Line 5"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Line 1",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new $f(0,0,0,1,[{offset:0,color:"rgb(128, 255, 165)"},{offset:1,color:"rgb(1, 191, 236)"}])},emphasis:{focus:"series"},data:[140,232,101,264,90,340,250]},{name:"Line 2",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new $f(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},data:[120,282,111,234,220,340,310]},{name:"Line 3",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new $f(0,0,0,1,[{offset:0,color:"rgb(55, 162, 255)"},{offset:1,color:"rgb(116, 21, 219)"}])},emphasis:{focus:"series"},data:[320,132,201,334,190,130,220]},{name:"Line 4",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,areaStyle:{opacity:.8,color:new $f(0,0,0,1,[{offset:0,color:"rgb(255, 0, 135)"},{offset:1,color:"rgb(135, 0, 157)"}])},emphasis:{focus:"series"},data:[220,402,231,134,190,230,120]},{name:"Line 5",type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!1,label:{show:!0,position:"top"},areaStyle:{opacity:.8,color:new $f(0,0,0,1,[{offset:0,color:"rgb(255, 191, 0)"},{offset:1,color:"rgb(224, 62, 76)"}])},emphasis:{focus:"series"},data:[220,302,181,234,210,290,150]}]},BQ(this.map.nativeElement).setOption(t)}}return n.\u0275fac=function(t){return new(t||n)(ie(Kw))},n.\u0275cmp=Ci({type:n,selectors:[["app-chart2"]],viewQuery:function(t,i){if(1&t&&rs(eQt,5),2&t){let r;Ni(r=Fi())&&(i.map=r.first)}},decls:2,vars:0,consts:[[1,"chart"],["map",""]],template:function(t,i){1&t&&Xr(0,"div",0,1)},styles:[".chart[_ngcontent-%COMP%]{width:500px;height:500px;display:inline-block}"]}),n})();function nQt(n,e){1&n&&Xr(0,"app-chart2")}function iQt(n,e){1&n&&Xr(0,"app-chart")}function rQt(n,e){if(1&n&&(Ln(0,"mat-grid-tile",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title"),Eo(4),Ln(5,"button",6)(6,"mat-icon"),Eo(7,"more_vert"),Zn()(),Ln(8,"mat-menu",7,8)(10,"button",9),Eo(11,"Expand"),Zn(),Ln(12,"button",9),Eo(13,"Remove"),Zn()()()(),Ln(14,"mat-card-content",10)(15,"div"),Eo(16,"Card Content Here"),Zn(),_o(17,nQt,1,0,"app-chart2",11),_o(18,iQt,1,0,"app-chart",11),Zn()()()),2&n){const t=e.$implicit,i=Au(9);Pi("colspan",t.cols)("rowspan",t.rows),Si(4),hh(" ",t.title," "),Si(1),Pi("matMenuTriggerFor",i),Si(12),Pi("ngIf","Card 1"==t.title),Si(1),Pi("ngIf","1"!==t.title)}}let oQt=(()=>{class n{trackElement(t,i){return i?i.title:null}constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe([b0.XSmall,b0.Small,b0.Medium]).pipe(vl(i=>{i.matches&&console.log(b0,"breakpointObserver",i.breakpoints,i)}),le(({matches:i})=>i),Nw(),le(i=>i?[{title:"Card 1",cols:2,rows:2},{title:"Card 2",cols:2,rows:2}]:[{title:"Card 1",cols:1,rows:2},{title:"Card 2",cols:1,rows:2},{title:"Card 3",cols:1,rows:2}]))}}return n.\u0275fac=function(t){return new(t||n)(ie(hT))},n.\u0275cmp=Ci({type:n,selectors:[["app-dash"]],decls:6,vars:4,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf","ngForTrackBy"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"],[4,"ngIf"]],template:function(t,i){1&t&&(Ln(0,"div",0)(1,"h1",1),Eo(2,"Dashboard"),Zn(),Ln(3,"mat-grid-list",2),_o(4,rQt,19,6,"mat-grid-tile",3),PL(5,"async"),Zn()()),2&t&&(Si(4),Pi("ngForOf",kL(5,2,i.cards))("ngForTrackBy",i.trackElement))},dependencies:[ME,Df,C2,eTt,AT,oTt,pTt,m7,_7,b7,x7,y7,FT,Hut,jut,IW],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),n})();var cp=Y(5861),aQt=Y(6962),Io=Y(1180),Wut=Y(2757);function sQt({data:n,getIndex:e,dataRange:t,replace:i}){const{startRow:r=0,endRow:o=1/0}=t,a=n.length;let s=a,l=a;for(let h=0;h<a;h++){const p=e(n[h]);if(s>h&&p>=r&&(s=h),p>=o){l=h;break}}let c=s;const d=l-s!==i.length?n.slice(l):void 0;for(let h=0;h<i.length;h++)n[c++]=i[h];if(d){for(let h=0;h<d.length;h++)n[c++]=d[h];n.length=c}return{startRow:s,endRow:s+i.length}}var IS=Y(5670),PS=Y(6392),kS=Y(9813),Og=Y(9531),up=Y(967),Jb=Y(525),RS=Y(3184),fQt=Y(8100),pQt=Y(1507),mQt=Y(5702),gQt=Y(4095),vQt=Y(278),Zut=Y(9088);const Yut=()=>{},bQt={10241:9987,10240:9729,10242:33071,10243:33071};function xQt(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function wQt(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function LS(n){return n&&(n.id||n.url)}function Xut(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[LS(r)]={...r,x:o,y:t}}}class EQt{constructor(e,{onUpdate:t=Yut,onError:i=Yut}){(0,Io.Z)(this,"gl",void 0),(0,Io.Z)(this,"onUpdate",void 0),(0,Io.Z)(this,"onError",void 0),(0,Io.Z)(this,"_loadOptions",null),(0,Io.Z)(this,"_texture",null),(0,Io.Z)(this,"_externalTexture",null),(0,Io.Z)(this,"_mapping",{}),(0,Io.Z)(this,"_pendingCount",0),(0,Io.Z)(this,"_autoPacking",!1),(0,Io.Z)(this,"_xOffset",0),(0,Io.Z)(this,"_yOffset",0),(0,Io.Z)(this,"_rowHeight",0),(0,Io.Z)(this,"_buffer",4),(0,Io.Z)(this,"_canvasWidth",1024),(0,Io.Z)(this,"_canvasHeight",0),(0,Io.Z)(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?LS(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r}){var o;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(o=this._texture)||void 0===o||o.delete(),this._texture=null,this._externalTexture=i)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function MQt(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=(0,Zut.jB)(n);for(const a of r){o.index++;const s=e(a,o),l=LS(s);if(!s)throw new Error("Icon is missing.");if(!s.url)throw new Error("Icon url is missing.");!i[l]&&(!t[l]||s.url!==t[l].url)&&(i[l]={...s,source:a,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:a,rowHeight:s,canvasHeight:l}=function SQt({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:a}){let s=[];for(let l=0;l<n.length;l++){const c=n[l];if(!t[LS(c)]){const{height:d,width:h}=c;i+h+e>a&&(Xut(t,s,r),i=0,r=o+r+e,o=0,s=[]),s.push({icon:c,xOffset:i}),i=i+h+e,o=Math.max(o,d)}}return s.length>0&&Xut(t,s,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:a,canvasHeight:xQt(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=s,this._mapping=r,this._xOffset=o,this._yOffset=a,this._canvasHeight=l,this._texture||(this._texture=new mQt.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:bQt})),this._texture.height!==this._canvasHeight&&(this._texture=function CQt(n,e,t){const i=n.width,r=n.height,o=(0,fQt.h)(n,{width:e,height:t});return(0,pQt.Lv)(n,o,{targetY:0,width:i,height:r}),n.delete(),o}(this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,(0,vQt.z)(i.url,gQt.S,this._loadOptions).then(r=>{const o=LS(i),{x:a,y:s,width:l,height:c}=this._mapping[o],u=wQt(t,r,l,c);this._texture.setSubImageData({data:u,x:a,y:s,width:l,height:c}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const $ut=[0,0,0,255],TQt={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:$ut},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class zP extends IS.Z{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[PS.Z,kS.Z]})}initializeState(){this.state={iconManager:new EQt(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:$ut},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:a,iconMapping:s,data:l,getIcon:c}=t,{iconManager:u}=this.state,d=a||this.internalState.isAsyncPropLoading("iconAtlas");if(u.setProps({loadOptions:t.loadOptions,autoPacking:!d,iconAtlas:a,iconMapping:d?s:null}),d?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(l,c),r.extensionsChanged){var h;const{gl:p}=this.context;null===(h=this.state.model)||void 0===h||h.delete(),this.state.model=this._getModel(p),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:a,alphaCutoff:s}=this.props,{iconManager:l}=this.state,c=l.getTexture();c&&this.state.model.setUniforms(e).setUniforms({iconsTexture:c,iconsTextureDim:[c.width,c.height],sizeUnits:Og.iI[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:a,alphaCutoff:s}).draw()}_getModel(e){return new Jb.Z(e,{...this.getShaders(),id:this.props.id,geometry:new RS.Z({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):up.Z.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}(0,Io.Z)(zP,"defaultProps",TQt),(0,Io.Z)(zP,"layerName","IconLayer");const qut=[0,0,0,255],IQt={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:n=>n.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:qut},getLineColor:{type:"accessor",value:qut},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class eU extends IS.Z{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[PS.Z,kS.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){if(super.updateState(e),e.changeFlags.extensionsChanged){var t;const{gl:i}=this.context;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(i),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{radiusUnits:t,radiusScale:i,radiusMinPixels:r,radiusMaxPixels:o,stroked:a,filled:s,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}=this.props;this.state.model.setUniforms(e).setUniforms({stroked:a?1:0,filled:s,billboard:l,antialiasing:c,radiusUnits:Og.iI[t],radiusScale:i,radiusMinPixels:r,radiusMaxPixels:o,lineWidthUnits:Og.iI[u],lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:p}).draw()}_getModel(e){return new Jb.Z(e,{...this.getShaders(),id:this.props.id,geometry:new RS.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}(0,Io.Z)(eU,"defaultProps",IQt),(0,Io.Z)(eU,"layerName","ScatterplotLayer");const Qut=[];class nU extends zP{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&up.Z.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:Boolean(t),outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):Qut}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):Qut}}(0,Io.Z)(nU,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,Io.Z)(nU,"layerName","MultiIconLayer");var RQt=Y(1803),LQt=Y.n(RQt);const OQt=32,NQt=[];function FQt(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function Jut(n,e,t,i){let r=0;for(let a=e;a<t;a++){var o;r+=(null===(o=i[n[a]])||void 0===o?void 0:o.width)||0}return r}function tdt(n,e,t,i,r,o){let a=e,s=0;for(let l=e;l<t;l++){const c=Jut(n,l,l+1,r);s+c>i&&(a<l&&o.push(l),a=l,s=0),s+=c}return s}function zQt(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const a=[];return"break-all"===e?tdt(n,r,o,t,i,a):function VQt(n,e,t,i,r,o){let a=e,s=e,l=e,c=0;for(let u=e;u<t;u++)if((" "===n[u]||" "===n[u+1]||u+1===t)&&(l=u+1),l>s){let d=Jut(n,s,l,r);c+d>i&&(a<s&&(o.push(s),a=s,c=0),d>i&&(d=tdt(n,s,l,i,r,o),a=o[o.length-1])),s=l,c+=d}}(n,r,o,t,i,a),a}function UQt(n,e,t,i,r,o){let a=0,s=0;for(let l=e;l<t;l++){const c=n[l],u=i[c];u?(s||(s=u.height),r[l]=a+u.width/2,a+=u.width):(up.Z.warn("Missing character: ".concat(c," (").concat(c.codePointAt(0),")"))(),r[l]=a,a+=OQt)}o[0]=a,o[1]=s}function edt(n,e,t,i,r){const o=Array.from(n),a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,d=[0,0],h=[0,0];let p=0,g=0,y=0;for(let b=0;b<=a;b++){const w=o[b];if(("\n"===w||b===a)&&(y=b),y>g){const M=u?zQt(o,t,i,r,g,y):NQt;for(let E=0;E<=M.length;E++){const k=0===E?g:M[E-1],j=E<M.length?M[E]:y;UQt(o,k,j,r,s,h);for(let H=k;H<j;H++)l[H]=p+h[1]/2,c[H]=h[0];p+=h[1]*e,d[0]=Math.max(d[0],h[0])}g=y}"\n"===w&&(s[g]=0,l[g]=0,c[g]=0,g++)}return d[1]=p,{x:s,y:l,rowWidth:c,size:d}}class ndt{constructor(e=5){(0,Io.Z)(this,"limit",void 0),(0,Io.Z)(this,"_cache",{}),(0,Io.Z)(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const OS={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function HQt(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let UP=new ndt(3);function ZQt(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function adt(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class XQt{constructor(){(0,Io.Z)(this,"props",{...OS}),(0,Io.Z)(this,"_key",void 0),(0,Io.Z)(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function WQt(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=UP.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=UP.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,UP.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:a,buffer:s,sdf:l,radius:c,cutoff:u}=this.props;let d=i&&i.data;d||(d=document.createElement("canvas"),d.width=1024);const h=d.getContext("2d");adt(h,r,a,o);const{mapping:p,canvasHeight:g,xOffset:y,yOffset:b}=function BQt({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:a=0,yOffset:s=0}){let l=0,c=a;for(const d of n)if(!o[d]){const h=e(d);c+h+2*i>r&&(c=0,l++),o[d]={x:c+i,y:s+l*(t+2*i)+i,width:h,height:t},c+=h+2*i}const u=t+2*i;return{mapping:o,xOffset:c,yOffset:s+l*u,canvasHeight:FQt(s+(l+1)*u)}}({getFontWidth:w=>h.measureText(w).width,fontHeight:1.2*a,buffer:s,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(d.height!==g){const w=h.getImageData(0,0,d.width,d.height);d.height=g,h.putImageData(w,0,0)}if(adt(h,r,a,o),l){const w=new(LQt())(a,s,c,u,r,o),M=h.getImageData(0,0,w.size,w.size);for(const E of t)ZQt(w.draw(E),M),h.putImageData(M,p[E].x-s,p[E].y+s)}else for(const w of t)h.fillText(w,p[w].x,p[w].y+.9*a);return{xOffset:y,yOffset:b,mapping:p,data:d,width:d.width,height:d.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:a,cutoff:s}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(a," ").concat(s):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const KQt={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class iU extends IS.Z{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[PS.Z,kS.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:a,getLineWidth:s}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:Boolean(s),padding:l,sizeUnits:Og.iI[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:a}).draw()}_getModel(e){return new Jb.Z(e,{...this.getShaders(),id:this.props.id,geometry:new RS.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}(0,Io.Z)(iU,"defaultProps",KQt),(0,Io.Z)(iU,"layerName","TextBackgroundLayer");const sdt={start:1,middle:0,end:-1},ldt={top:1,center:0,bottom:-1},rU=[0,0,0,255],JQt={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:rU},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:OS.characterSet},fontFamily:OS.fontFamily,fontWeight:OS.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:rU},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:rU},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class oU extends Wut.Z{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0),(0,Io.Z)(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:a,maxWidth:s,lineHeight:l,getTextAnchor:c,getAlignmentBaseline:u}=this.props,d=o(t,i)||"",{size:[h,p]}=edt(d,l,a,s,r);return[(sdt["function"==typeof c?c(t,i):c]-1)*h/2,(ldt["function"==typeof u?u(t,i):u]-1)*p/2,h,p]}),(0,Io.Z)(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:a,maxWidth:s,lineHeight:l,getTextAnchor:c,getAlignmentBaseline:u}=this.props,d=o(t,i)||"",{x:h,y:p,rowWidth:g,size:[y,b]}=edt(d,l,a,s,r),w=sdt["function"==typeof c?c(t,i):c],M=ldt["function"==typeof u?u(t,i):u],E=h.length,k=new Array(2*E);let j=0;for(let H=0;H<E;H++)k[j++]=(w-1)*y/2+(1-w)*(y-g[H])/2+h[H],k[j++]=(M-1)*b/2+p[H];return k})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new XQt}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,a={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(a),!0;for(const s in a)if(a[s]!==r.props[s])return r.setProps(a),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let s,{getText:o}=this.props,a=t.startIndices;const l="auto"===i&&new Set;if(r&&a){const{texts:c,characterCount:u}=function GQt({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const a=n.BYTES_PER_ELEMENT,s=t?t/a:1,l=i?i/a:0,c=r[e]||Math.ceil((n.length-l)/s),u=o&&new Set,d=new Array(e);let h=n;if(s>1||l>0){h=new(0,n.constructor)(c);for(let g=0;g<c;g++)h[g]=n[g*s+l]}for(let p=0;p<e;p++){const b=h.subarray(r[p],r[p+1]||c);d[p]=String.fromCodePoint.apply(null,b),u&&b.forEach(u.add,u)}if(u)for(const p of u)o.add(String.fromCodePoint(p));return{texts:d,characterCount:c}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:a,characterSet:l});s=u,o=(d,{index:h})=>c[h]}else{const{iterable:c,objectInfo:u}=(0,Zut.jB)(t);a=[0],s=0;for(const d of c){u.index++;const h=Array.from(o(d,u)||"");l&&h.forEach(l.add,l),s+=h.length,a.push(s)}}this.setState({getText:o,startIndices:a,numInstances:s,characterSet:l||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:a},styleVersion:s}=this.state,{data:l,_dataDiff:c,getPosition:u,getColor:d,getSize:h,getAngle:p,getPixelOffset:g,getBackgroundColor:y,getBorderColor:b,getBorderWidth:w,backgroundPadding:M,background:E,billboard:k,fontSettings:j,outlineWidth:H,outlineColor:rt,sizeScale:yt,sizeUnits:st,sizeMinPixels:Lt,sizeMaxPixels:kt,transitions:te,updateTriggers:ne}=this.props,de=this.getSubLayerClass("characters",nU),Te=this.getSubLayerClass("background",iU);return[E&&new Te({getFillColor:y,getLineColor:b,getLineWidth:w,padding:M,getPosition:u,getSize:h,getAngle:p,getPixelOffset:g,billboard:k,sizeScale:yt/this.state.fontAtlasManager.props.fontSize,sizeUnits:st,sizeMinPixels:Lt,sizeMaxPixels:kt,transitions:te&&{getPosition:te.getPosition,getAngle:te.getAngle,getSize:te.getSize,getFillColor:te.getBackgroundColor,getLineColor:te.getBorderColor,getLineWidth:te.getBorderWidth,getPixelOffset:te.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:ne.getPosition,getAngle:ne.getAngle,getSize:ne.getSize,getFillColor:ne.getBackgroundColor,getLineColor:ne.getBorderColor,getLineWidth:ne.getBorderWidth,getPixelOffset:ne.getPixelOffset,getBoundingRect:{getText:ne.getText,getTextAnchor:ne.getTextAnchor,getAlignmentBaseline:ne.getAlignmentBaseline,styleVersion:s}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:c,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new de({sdf:j.sdf,smoothing:Number.isFinite(j.smoothing)?j.smoothing:OS.smoothing,outlineWidth:H,outlineColor:rt,iconAtlas:o,iconMapping:a,getPosition:u,getColor:d,getSize:h,getAngle:p,getPixelOffset:g,billboard:k,sizeScale:yt*r,sizeUnits:st,sizeMinPixels:Lt*r,sizeMaxPixels:kt*r,transitions:te&&{getPosition:te.getPosition,getAngle:te.getAngle,getColor:te.getColor,getSize:te.getSize,getPixelOffset:te.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:ne.getText,getPosition:ne.getPosition,getAngle:ne.getAngle,getColor:ne.getColor,getSize:ne.getSize,getPixelOffset:ne.getPixelOffset,getIconOffsets:{getText:ne.getText,getTextAnchor:ne.getTextAnchor,getAlignmentBaseline:ne.getAlignmentBaseline,styleVersion:s}}}),{data:l,_dataDiff:c,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function YQt(n){up.Z.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),UP=new ndt(n)}(e)}}(0,Io.Z)(oU,"defaultProps",JQt),(0,Io.Z)(oU,"layerName","TextLayer");var cdt=Y(5535);function ddt(n,e,t={}){return function tJt(n,e={}){return Math.sign(function eJt(n,e={}){const{start:t=0,end:i=n.length}=e,r=e.size||2;let o=0;for(let a=t,s=i-r;a<i;a+=r)o+=(n[a]-n[s])*(n[a+1]+n[s+1]),s=a;return o/2}(n,e))}(n,t)!==e&&(function nJt(n,e){const{start:t=0,end:i=n.length,size:r=2}=e,o=(i-t)/r,a=Math.floor(o/2);for(let s=0;s<a;++s){const l=t+s*r,c=t+(o-1-s)*r;for(let u=0;u<r;++u){const d=n[l+u];n[l+u]=n[c+u],n[c+u]=d}}}(n,t),!0)}function ex(n,e,t,i,r=[]){let o,a;if(8&t)o=(i[3]-n[1])/(e[1]-n[1]),a=3;else if(4&t)o=(i[1]-n[1])/(e[1]-n[1]),a=1;else if(2&t)o=(i[2]-n[0])/(e[0]-n[0]),a=2;else{if(!(1&t))return null;o=(i[0]-n[0])/(e[0]-n[0]),a=0}for(let s=0;s<n.length;s++)r[s]=(1&a)===s?i[a]:o*(e[s]-n[s])+n[s];return r}function dp(n,e){let t=0;return n[0]<e[0]?t|=1:n[0]>e[2]&&(t|=2),n[1]<e[1]?t|=4:n[1]>e[3]&&(t|=8),t}function gf(n,e){const t=e.length,i=n.length;if(i>0){let r=!0;for(let o=0;o<t;o++)if(n[i-t+o]!==e[o]){r=!1;break}if(r)return!1}for(let r=0;r<t;r++)n[i+r]=e[r];return!0}function lU(n,e){const t=e.length;for(let i=0;i<t;i++)n[i]=e[i]}function VS(n,e,t,i,r=[]){const o=i+e*t;for(let a=0;a<t;a++)r[a]=n[o+a];return r}function gdt(n,e){const{size:t=2,broken:i=!1,gridResolution:r=10,gridOffset:o=[0,0],startIndex:a=0,endIndex:s=n.length}=e||{},l=(s-a)/t;let c=[];const u=[c],d=VS(n,0,t,a);let h,p;const g=bdt(d,r,o,[]),y=[];gf(c,d);for(let b=1;b<l;b++){for(h=VS(n,b,t,a,h),p=dp(h,g);p;){ex(d,h,p,g,y);const w=dp(y,g);w&&(ex(d,y,w,g,y),p=w),gf(c,y),lU(d,y),xJt(g,r,p),i&&c.length>t&&(c=[],u.push(c),gf(c,d)),p=dp(h,g)}gf(c,h),lU(d,h)}return i?u:u[0]}const vdt=0,bJt=1;function WP(n,e){for(let t=0;t<e.length;t++)n.push(e[t]);return n}function _dt(n,e=null,t){if(!n.length)return[];const{size:i=2,gridResolution:r=10,gridOffset:o=[0,0],edgeTypes:a=!1}=t||{},s=[],l=[{pos:n,types:a?new Array(n.length/i).fill(bJt):null,holes:e||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:d,types:h,holes:p}=l.shift();wJt(d,i,p[0]||d.length,c),u=bdt(c[0],r,o,u);const g=dp(c[1],u);if(g){let y=ydt(d,h,i,0,p[0]||d.length,u,g);const b={pos:y[0].pos,types:y[0].types,holes:[]},w={pos:y[1].pos,types:y[1].types,holes:[]};l.push(b,w);for(let M=0;M<p.length;M++)y=ydt(d,h,i,p[M],p[M+1]||d.length,u,g),y[0]&&(b.holes.push(b.pos.length),b.pos=WP(b.pos,y[0].pos),a&&(b.types=WP(b.types,y[0].types))),y[1]&&(w.holes.push(w.pos.length),w.pos=WP(w.pos,y[1].pos),a&&(w.types=WP(w.types,y[1].types)))}else{const y={positions:d};a&&(y.edgeTypes=h),p.length&&(y.holeIndices=p),s.push(y)}}return s}function ydt(n,e,t,i,r,o,a){const s=(r-i)/t,l=[],c=[],u=[],d=[],h=[];let p,g,y;const b=VS(n,s-1,t,i);let w=Math.sign(8&a?b[1]-o[3]:b[0]-o[2]),M=e&&e[s-1],E=0,k=0;for(let j=0;j<s;j++)p=VS(n,j,t,i,p),g=Math.sign(8&a?p[1]-o[3]:p[0]-o[2]),y=e&&e[i/t+j],g&&w&&w!==g&&(ex(b,p,a,o,h),gf(l,h)&&u.push(M),gf(c,h)&&d.push(M)),g<=0?(gf(l,p)&&u.push(y),E-=g):u.length&&(u[u.length-1]=vdt),g>=0?(gf(c,p)&&d.push(y),k+=g):d.length&&(d[d.length-1]=vdt),lU(b,p),w=g,M=y;return[E?{pos:l,types:e&&u}:null,k?{pos:c,types:e&&d}:null]}function bdt(n,e,t,i){const r=Math.floor((n[0]-t[0])/e)*e+t[0],o=Math.floor((n[1]-t[1])/e)*e+t[1];return i[0]=r,i[1]=o,i[2]=r+e,i[3]=o+e,i}function xJt(n,e,t){8&t?(n[1]+=e,n[3]+=e):4&t?(n[1]-=e,n[3]-=e):2&t?(n[0]+=e,n[2]+=e):1&t&&(n[0]-=e,n[2]-=e)}function wJt(n,e,t,i){let r=1/0,o=-1/0,a=1/0,s=-1/0;for(let l=0;l<t;l+=e){const c=n[l],u=n[l+1];r=c<r?c:r,o=c>o?c:o,a=u<a?u:a,s=u>s?u:s}return i[0][0]=r,i[0][1]=a,i[1][0]=o,i[1][1]=s,i}const CJt=85.051129;function EJt(n,e,t,i){let r=-1,o=-1;for(let a=t+1;a<i;a+=e){const s=Math.abs(n[a]);s>r&&(r=s,o=a-1)}return o}function TJt(n,e,t,i,r=CJt){const o=n[t],a=n[i-e];if(Math.abs(o-a)>180){const s=VS(n,0,e,t);s[0]+=360*Math.round((a-o)/360),gf(n,s),s[1]=Math.sign(s[1])*r,gf(n,s),s[0]=o,gf(n,s)}}function xdt(n,e,t,i){let o,r=n[0];for(let a=t;a<i;a+=e){o=n[a];const s=o-r;(s>180||s<-180)&&(o-=360*Math.round(s/360)),n[a]=r=o}}function wdt(n,e){let t;const i=n.length/e;for(let o=0;o<i&&(t=n[o*e],(t+180)%360==0);o++);const r=360*-Math.round(t/360);if(0!==r)for(let o=0;o<i;o++)n[o*e]+=r}class PJt extends cdt.Z{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?function DJt(n,e,t,i){let r;if(Array.isArray(n[0])){r=new Array(n.length*e);for(let a=0;a<n.length;a++)for(let s=0;s<e;s++)r[a*e+s]=n[a][s]||0}else r=n;return t?gdt(r,{size:e,gridResolution:t}):i?function SJt(n,e){const{size:t=2,startIndex:i=0,endIndex:r=n.length,normalize:o=!0}=e||{},a=n.slice(i,r);xdt(a,t,0,r-i);const s=gdt(a,{size:t,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of s)wdt(l,t);return s}(r,{size:e}):r}(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(Cdt(e)){let i=0;for(const r of e)i+=this.getGeometrySize(r);return i}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&Cdt(e))for(const i of e){const r=this.getGeometrySize(i);t.geometrySize=r,this.updateGeometryAttributes(i,t),t.vertexStart+=r}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const i=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),{vertexStart:o,geometrySize:a}=t;i.fill(0,o,o+a),r?(i[o]=4,i[o+a-2]=4):(i[o]+=1,i[o+a-2]+=2),i[o+a-1]=4}_updatePositions(e,t){const{positions:i}=this.attributes;if(!i||!e)return;const{vertexStart:r,geometrySize:o}=t,a=new Array(3);for(let s=r,l=0;l<o;s++,l++)this.getPointOnPath(e,l,a),i[3*s]=a[0],i[3*s+1]=a[1],i[3*s+2]=a[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t,i=[]){const{positionSize:r}=this;t*r>=e.length&&(t+=1-e.length/r);const o=t*r;return i[0]=e[o],i[1]=e[o+1],i[2]=3===r&&e[o+2]||0,i}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,i=e.length-t;return e[0]===e[i]&&e[1]===e[i+1]&&(2===t||e[2]===e[i+2])}}function Cdt(n){return Array.isArray(n[0])}const Sdt=[0,0,0,255],LJt={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:n=>n.path},getColor:{type:"accessor",value:Sdt},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},uU={enter:(n,e)=>e.length?e.subarray(e.length-n.length):n};class dU extends IS.Z{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[PS.Z,kS.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:uU,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:uU,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:uU,defaultValue:Sdt},instancePickingColors:{size:3,type:5121,accessor:(i,{index:r,target:o})=>this.encodePickingColor(i&&i.__source?i.__source.index:r,o)}}),this.setState({pathTesselator:new PJt({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:i}=e,r=this.getAttributeManager();if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath)){const{pathTesselator:s}=this.state,l=t.data.attributes||{};s.updateGeometry({data:t.data,geometryBuffer:l.getPath,buffers:l,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:i.dataChanged}),this.setState({numInstances:s.instanceCount,startIndices:s.vertexStarts}),i.dataChanged||r.invalidateAll()}if(i.extensionsChanged){var a;const{gl:s}=this.context;null===(a=this.state.model)||void 0===a||a.delete(),this.state.model=this._getModel(s),r.invalidateAll()}}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find(o=>o.__source.index===i)),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let i=0;i<t.length;i++)t[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:t,capRounded:i,billboard:r,miterLimit:o,widthUnits:a,widthScale:s,widthMinPixels:l,widthMaxPixels:c}=this.props;this.state.model.setUniforms(e).setUniforms({jointType:Number(t),capType:Number(i),billboard:r,widthUnits:Og.iI[a],widthScale:s,miterLimit:o,widthMinPixels:l,widthMaxPixels:c}).draw()}_getModel(e){return new Jb.Z(e,{...this.getShaders(),id:this.props.id,geometry:new RS.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}(0,Io.Z)(dU,"defaultProps",LJt),(0,Io.Z)(dU,"layerName","PathLayer");var OJt=Y(8203),NJt=Y(2378),FJt=Y(7552);const ZP=1,Mdt=-1,Fg={isClosed:!0};function zS(n){return"positions"in n?n.positions:n}function YP(n){return"holeIndices"in n?n.holeIndices:null}function Edt(n,e,t,i,r){let o=e;const a=t.length;for(let s=0;s<a;s++)for(let l=0;l<i;l++)n[o++]=t[s][l]||0;if(!function UJt(n){const e=n[0],t=n[n.length-1];return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}(t))for(let s=0;s<i;s++)n[o++]=t[0][s]||0;return Fg.start=e,Fg.end=o,Fg.size=i,ddt(n,r,Fg),o}function Tdt(n,e,t,i,r=0,o,a){const s=(o=o||t.length)-r;if(s<=0)return e;let l=e;for(let c=0;c<s;c++)n[l++]=t[r+c];if(!function GJt(n,e,t,i){for(let r=0;r<e;r++)if(n[t+r]!==n[i-e+r])return!1;return!0}(t,i,r,o))for(let c=0;c<i;c++)n[l++]=t[r+c];return Fg.start=e,Fg.end=l,Fg.size=i,ddt(n,a,Fg),l}class WJt extends cdt.Z{constructor(e){const{fp64:t,IndexType:i=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:t?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:i,size:1}}})}get(e){const{attributes:t}=this;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}updateGeometry(e){super.updateGeometry(e);const t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const t=function HJt(n,e){!function BJt(n){if(n=n&&n.positions||n,!Array.isArray(n)&&!ArrayBuffer.isView(n))throw new Error("invalid polygon")}(n);const t=[],i=[];if("positions"in n){const{positions:r,holeIndices:o}=n;if(o){let a=0;for(let s=0;s<=o.length;s++)a=Tdt(t,a,r,e,o[s-1],o[s],0===s?ZP:Mdt),i.push(a);return i.pop(),{positions:t,holeIndices:i}}n=r}if(!function VJt(n){return Array.isArray(n[0])}(n))return Tdt(t,0,n,e,0,t.length,ZP),t;if(!function zJt(n){return n.length>=1&&n[0].length>=2&&Number.isFinite(n[0][0])}(n)){let r=0;for(const[o,a]of n.entries())r=Edt(t,r,a,e,0===o?ZP:Mdt),i.push(r);return i.pop(),{positions:t,holeIndices:i}}return Edt(t,0,n,e,ZP),t}(e,this.positionSize);return this.opts.resolution?_dt(zS(t),YP(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function MJt(n,e=null,t){const{size:i=2,normalize:r=!0,edgeTypes:o=!1}=t||{};e=e||[];const a=[],s=[];let l=0,c=0;for(let d=0;d<=e.length;d++){const h=e[d]||n.length,p=c,g=EJt(n,i,l,h);for(let y=g;y<h;y++)a[c++]=n[y];for(let y=l;y<g;y++)a[c++]=n[y];xdt(a,i,p,c),TJt(a,i,p,c,t?.maxLatitude),l=h,s[d]=c}s.pop();const u=_dt(a,s,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(r)for(const d of u)wdt(d.positions,i);return u}(zS(t),YP(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}getGeometrySize(e){if(Ddt(e)){let t=0;for(const i of e)t+=this.getGeometrySize(i);return t}return zS(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,t){if(e&&Ddt(e))for(const i of e){const r=this.getGeometrySize(i);t.geometrySize=r,this.updateGeometryAttributes(i,t),t.vertexStart+=r,t.indexStart=this.indexStarts[t.geometryIndex+1]}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}_updateIndices(e,{geometryIndex:t,vertexStart:i,indexStart:r}){const{attributes:o,indexStarts:a,typedArrayManager:s}=this;let l=o.indices;if(!l||!e)return;let c=r;const u=function jJt(n,e,t){let i=YP(n);i&&(i=i.map(o=>o/e));let r=zS(n);if(t){const o=r.length;r=r.slice();const a=[];for(let s=0;s<o;s+=e){a[0]=r[s],a[1]=r[s+1];const l=t(a);r[s]=l[0],r[s+1]=l[1]}}return BYt()(r,i,e)}(e,this.positionSize,this.opts.preproject);l=s.allocate(l,r+u.length,{copy:!0});for(let d=0;d<u.length;d++)l[c++]=u[d]+i;a[t+1]=r+u.length,o.indices=l}_updatePositions(e,{vertexStart:t,geometrySize:i}){const{attributes:{positions:r},positionSize:o}=this;if(!r||!e)return;const a=zS(e);for(let s=t,l=0;l<i;s++,l++){const u=a[l*o+1],d=o>2?a[l*o+2]:0;r[3*s]=a[l*o],r[3*s+1]=u,r[3*s+2]=d}}_updateVertexValid(e,{vertexStart:t,geometrySize:i}){const{positionSize:r}=this,o=this.attributes.vertexValid,a=e&&YP(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,t):o.fill(1,t,t+i),a)for(let s=0;s<a.length;s++)o[t+a[s]/r-1]=0;o[t+i-1]=0}}function Ddt(n){return Array.isArray(n)&&n.length>0&&!Number.isFinite(n[0])}const Adt="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",ZJt="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(Adt,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),YJt="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(Adt,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),XP=[0,0,0,255],$Jt={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:n=>n.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:XP},getLineColor:{type:"accessor",value:XP},material:!0},$P={enter:(n,e)=>e.length?e.subarray(e.length-n.length):n};class hU extends IS.Z{constructor(...e){super(...e),(0,Io.Z)(this,"state",void 0)}getShaders(e){return super.getShaders({vs:"top"===e?ZJt:YJt,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[PS.Z,OJt.N,kS.Z]})}get wrapLongitude(){return!1}initializeState(){const{gl:e,viewport:t}=this.context;let{coordinateSystem:i}=this.props;t.isGeospatial&&i===Og.Df.DEFAULT&&(i=Og.Df.LNGLAT),this.setState({numInstances:0,polygonTesselator:new WJt({preproject:i===Og.Df.LNGLAT&&t.projectFlat.bind(t),fp64:this.use64bitPositions(),IndexType:!e||(0,NJt.ag)(e,FJt.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const r=this.getAttributeManager(),o=!0;r.remove(["instancePickingColors"]),r.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:o},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:$P,accessor:"getPolygon",update:this.calculatePositions,noAlloc:o,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:o},elevations:{size:1,transition:$P,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:$P,accessor:"getFillColor",defaultValue:XP,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:$P,accessor:"getLineColor",defaultValue:XP,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(a,{index:s,target:l})=>this.encodePickingColor(a&&a.__source?a.__source.index:s,l),shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find(o=>o.__source.index===i)),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let i=0;i<t.length;i++)t[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw({uniforms:e}){const{extruded:t,filled:i,wireframe:r,elevationScale:o}=this.props,{topModel:a,sideModel:s,polygonTesselator:l}=this.state,c={...e,extruded:Boolean(t),elevationScale:o};s&&(s.setInstanceCount(l.instanceCount-1),s.setUniforms(c),r&&(s.setDrawMode(3),s.setUniforms({isWireframe:!0}).draw()),i&&(s.setDrawMode(6),s.setUniforms({isWireframe:!1}).draw())),a&&(a.setVertexCount(l.vertexCount),a.setUniforms(c).draw())}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager();var s;(r.extensionsChanged||t.filled!==i.filled||t.extruded!==i.extruded)&&(null===(s=this.state.models)||void 0===s||s.forEach(l=>l.delete()),this.setState(this._getModels(this.context.gl)),o.invalidateAll())}updateGeometry({props:e,changeFlags:i}){if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPolygon)){const{polygonTesselator:o}=this.state,a=e.data.attributes||{};o.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:a.getPolygon,buffers:a,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:i.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),i.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(e){const{id:t,filled:i,extruded:r}=this.props;let o,a;if(i){const s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,o=new Jb.Z(e,{...s,id:"".concat(t,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return r&&(a=new Jb.Z(e,{...this.getShaders("side"),id:"".concat(t,"-side"),geometry:new RS.Z({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),a.userData.excludeAttributes={indices:!0}),{models:[a,o].filter(Boolean),topModel:o,sideModel:a}}calculateIndices(e){const{polygonTesselator:t}=this.state;e.startIndices=t.indexStarts,e.value=t.get("indices")}calculatePositions(e){const{polygonTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}(0,Io.Z)(hU,"defaultProps",$Jt),(0,Io.Z)(hU,"layerName","SolidPolygonLayer");const qP={circle:{type:eU,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:zP,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:oU,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},KP={type:dU,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},fU={type:hU,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function US({type:n,props:e}){const t={};for(const i in e)t[i]=n.defaultProps[e[i]];return t}function pU(n,e){const{transitions:t,updateTriggers:i}=n.props,r={updateTriggers:{},transitions:t&&{getPosition:t.geometry}};for(const o in e){const a=e[o];let s=n.props[o];o.startsWith("get")&&(s=n.getSubLayerAccessor(s),r.updateTriggers[a]=i[o],t&&(r.transitions[a]=t[o])),r[a]=s}return r}function Idt(n,e,t={}){const i={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:r=0,endRow:o=n.length}=t;for(let a=r;a<o;a++){const s=n[a];up.Z.assert(s&&s.geometry,"GeoJSON does not have geometry");const{geometry:l}=s;if("GeometryCollection"===l.type){up.Z.assert(Array.isArray(l.geometries),"GeoJSON does not have geometries array");const{geometries:c}=l;for(let u=0;u<c.length;u++)Pdt(c[u],i,e,s,a)}else Pdt(l,i,e,s,a)}return i}function Pdt(n,e,t,i,r){const{type:o,coordinates:a}=n,{pointFeatures:s,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=e;if(function QJt(n,e){let t=KJt[n];for(up.Z.assert(t,"Unknown GeoJSON type ".concat(n));e&&--t>0;)e=e[0];return e&&Number.isFinite(e[0])}(o,a))switch(o){case"Point":s.push(t({geometry:n},i,r));break;case"MultiPoint":a.forEach(d=>{s.push(t({geometry:{type:"Point",coordinates:d}},i,r))});break;case"LineString":l.push(t({geometry:n},i,r));break;case"MultiLineString":a.forEach(d=>{l.push(t({geometry:{type:"LineString",coordinates:d}},i,r))});break;case"Polygon":c.push(t({geometry:n},i,r)),a.forEach(d=>{u.push(t({geometry:{type:"LineString",coordinates:d}},i,r))});break;case"MultiPolygon":a.forEach(d=>{c.push(t({geometry:{type:"Polygon",coordinates:d}},i,r)),d.forEach(h=>{u.push(t({geometry:{type:"LineString",coordinates:h}},i,r))})})}else up.Z.warn("".concat(o," coordinates are malformed"))()}const KJt={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function QP(n){return n.geometry.coordinates}const ete=["points","linestrings","polygons"],nte={...US(qP.circle),...US(qP.icon),...US(qP.text),...US(KP),...US(fU),stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:n=>n.properties.icon},getText:{type:"accessor",value:n=>n.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class mU extends Wut.Z{initializeState(){this.state={layerProps:{},features:{}}}updateState({props:e,changeFlags:t}){if(!t.dataChanged)return;const{data:i}=this.props,r=i&&"points"in i&&"polygons"in i&&"lines"in i;this.setState({binary:r}),r?this._updateStateBinary({props:e,changeFlags:t}):this._updateStateJSON({props:e,changeFlags:t})}_updateStateBinary({props:e}){const i=function tte(n,e){const t={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:i,lines:r,polygons:o}=n,a=function uQt(n,e){const t={points:null,lines:null,polygons:null};for(const i in t){const r=n[i].globalFeatureIds.value;t[i]=new Uint8ClampedArray(3*r.length);const o=[];for(let a=0;a<r.length;a++)e(r[a],o),t[i][3*a+0]=o[0],t[i][3*a+1]=o[1],t[i][3*a+2]=o[2]}return t}(n,e);return t.points.data={length:i.positions.value.length/i.positions.size,attributes:{...i.attributes,getPosition:i.positions,instancePickingColors:{size:3,value:a.points}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},t.lines.data={length:r.pathIndices.value.length-1,startIndices:r.pathIndices.value,attributes:{...r.attributes,getPath:r.positions,instancePickingColors:{size:3,value:a.lines}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},t.lines._pathType="open",t.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},t.polygons._normalize=!1,o.triangles&&(t.polygons.data.attributes.indices=o.triangles.value),t.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},t.polygonsOutline._pathType="open",t}(e.data,this.encodePickingColor);this.setState({layerProps:i})}_updateStateJSON({props:e,changeFlags:t}){const i=function qJt(n){if(Array.isArray(n))return n;switch(up.Z.assert(n.type,"GeoJSON does not have type"),n.type){case"Feature":return[n];case"FeatureCollection":return up.Z.assert(Array.isArray(n.features),"GeoJSON does not have features array"),n.features;default:return[{geometry:n}]}}(e.data),r=this.getSubLayerRow.bind(this);let o={};const a={};if(Array.isArray(t.dataChanged)){const l=this.state.features;for(const c in l)o[c]=l[c].slice(),a[c]=[];for(const c of t.dataChanged){const u=Idt(i,r,c);for(const d in l)a[d].push(sQt({data:o[d],getIndex:h=>h.__source.index,dataRange:c,replace:u[d]}))}}else o=Idt(i,r);const s=function JJt(n,e){const t={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:i,lineFeatures:r,polygonFeatures:o,polygonOutlineFeatures:a}=n;return t.points.data=i,t.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),t.points.getPosition=QP,t.lines.data=r,t.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),t.lines.getPath=QP,t.polygons.data=o,t.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),t.polygons.getPolygon=QP,t.polygonsOutline.data=a,t.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),t.polygonsOutline.getPath=QP,t}(o,a);this.setState({features:o,featuresDiff:a,layerProps:s})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i,sourceLayer:r}=t;return t.featureType=ete.find(o=>r.id.startsWith("".concat(this.id,"-").concat(o,"-"))),i>=0&&r.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(t.index=this.props.data.points.globalFeatureIds.value[i]),t}_updateAutoHighlight(e){const t="".concat(this.id,"-points-"),i="points"===e.featureType;for(const r of this.getSubLayers())r.id.startsWith(t)===i&&r.updateAutoHighlight(e)}_renderPolygonLayer(){const{extruded:e,wireframe:t}=this.props,{layerProps:i}=this.state,r="polygons-fill",o=this.shouldRenderSubLayer(r,i.polygons.data)&&this.getSubLayerClass(r,fU.type);if(o){const a=pU(this,fU.props),s=e&&t;return s||delete a.getLineColor,a.updateTriggers.lineColors=s,new o(a,this.getSubLayerProps({id:r,updateTriggers:a.updateTriggers}),i.polygons)}return null}_renderLineLayers(){const{extruded:e,stroked:t}=this.props,{layerProps:i}=this.state,r="polygons-stroke",o="linestrings",a=!e&&t&&this.shouldRenderSubLayer(r,i.polygonsOutline.data)&&this.getSubLayerClass(r,KP.type),s=this.shouldRenderSubLayer(o,i.lines.data)&&this.getSubLayerClass(o,KP.type);if(a||s){const l=pU(this,KP.props);return[a&&new a(l,this.getSubLayerProps({id:r,updateTriggers:l.updateTriggers}),i.polygonsOutline),s&&new s(l,this.getSubLayerProps({id:o,updateTriggers:l.updateTriggers}),i.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:t,binary:i}=this.state;let{highlightedObjectIndex:r}=this.props;!i&&Number.isFinite(r)&&(r=t.points.data.findIndex(s=>s.__source.index===r));const o=new Set(e.split("+")),a=[];for(const s of o){const l="points-".concat(s),c=qP[s],u=c&&this.shouldRenderSubLayer(l,t.points.data)&&this.getSubLayerClass(l,c.type);if(u){const d=pU(this,c.props);let h=t.points;if("text"===s&&i){const{instancePickingColors:p,...g}=h.data.attributes;h={...h,data:{...h.data,attributes:g}}}a.push(new u(d,this.getSubLayerProps({id:l,updateTriggers:d.updateTriggers,highlightedObjectIndex:r}),h))}}return a}renderLayers(){const{extruded:e}=this.props,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}getSubLayerAccessor(e){const{binary:t}=this.state;return t&&"function"==typeof e?(i,r)=>{const{data:o,index:a}=r,s=function lQt(n,e){if(!n)return null;const t="startIndices"in n?n.startIndices[e]:e;return-1!==t?function cQt(n,e,t){const i={properties:{...n.properties[e]}};for(const r in n.numericProps)i.properties[r]=n.numericProps[r].value[t];return i}(n,n.featureIds.value[t],t):null}(o,a);return e(s,r)}:super.getSubLayerAccessor(e)}}(0,Io.Z)(mU,"layerName","GeoJsonLayer"),(0,Io.Z)(mU,"defaultProps",nte);var ite=Y(3074);const rte=["https://tile.openstreetmap.org/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-lite,$fff[difference],$fff[@23],$fff[hsl-saturation@20])/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-background,$fff[difference],$fff[@23],$fff[hsl-saturation@20],toner-lines[destination-in])/{z}/{x}/{y}.png","http://{s}.sm.mapstack.stamen.com/(toner-lite,$fff[hsl-saturation@20],mapbox-water[destination-out])[overlay]/{z}/{x}/{y}.png","https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg","https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"],gU=[[[0,50],[10,50],[10,60],[0,60],[0,50]]];class ote extends qt{constructor(e=1/0,t=1/0,i=u2){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;t||(i.push(e),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!e.closed;a+=i?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=t.now();let s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}}function Rdt(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,sr({connector:()=>new ote(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class ate{}class GS{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new qt,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let vU=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ste=0;const _U=new hn("CdkAccordion");let lte=(()=>{class n{constructor(){this._stateChanges=new qt,this._openCloseAllActions=new qt,this.id="cdk-accordion-"+ste++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=or(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Di([{provide:_U,useExisting:n}]),Yo]}),n})(),cte=0,ute=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=or(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=or(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=O.EMPTY,this.closed=new _r,this.opened=new _r,this.destroyed=new _r,this.expandedChange=new _r,this.id="cdk-accordion-child-"+cte++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(ie(_U,12),ie(As),ie(vU))},n.\u0275dir=Cn({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Di([{provide:_U,useValue:void 0}])]}),n})(),dte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();const hte=["body"];function fte(n,e){}const pte=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],mte=["mat-expansion-panel-header","*","mat-action-row"];function gte(n,e){1&n&&Xr(0,"span",2),2&n&&Pi("@indicatorRotate",Ds()._getExpandedState())}const vte=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],_te=["mat-panel-title","mat-panel-description","*"],yU=new hn("MAT_ACCORDION"),Ndt="225ms cubic-bezier(0.4,0.0,0.2,1)",Fdt={indicatorRotate:Fl("indicatorRotate",[oa("collapsed, void",er({transform:"rotate(0deg)"})),oa("expanded",er({transform:"rotate(180deg)"})),Ha("expanded <=> collapsed, void => collapsed",Qa(Ndt))]),bodyExpansion:Fl("bodyExpansion",[oa("collapsed, void",er({height:"0px",visibility:"hidden"})),oa("expanded",er({height:"*",visibility:"visible"})),Ha("expanded <=> collapsed, void => collapsed",Qa(Ndt))])},Bdt=new hn("MAT_EXPANSION_PANEL");let yte=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(ie(uc),ie(Bdt,8))},n.\u0275dir=Cn({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),bte=0;const Vdt=new hn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let zdt=(()=>{class n extends ute{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=or(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,a,s,l){super(t,i,r),this._viewContainerRef=o,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new _r,this.afterCollapse=new _r,this._inputChanges=new qt,this._headerId="mat-expansion-panel-header-"+bte++,this._bodyAnimationDone=new qt,this.accordion=t,this._document=a,this._bodyAnimationDone.pipe(Nw((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(fu(null),ko(()=>this.expanded&&!this._portal),Is(1)).subscribe(()=>{this._portal=new Ww(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(ie(yU,12),ie(As),ie(vU),ie(ql),ie(oo),ie(Dc,8),ie(Vdt,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,yte,5),2&t){let o;Ni(o=Fi())&&(i._lazyContent=o.first)}},viewQuery:function(t,i){if(1&t&&rs(hte,5),2&t){let r;Ni(r=Fi())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&ro("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Di([{provide:yU,useValue:void 0},{provide:Bdt,useExisting:n}]),Qn,Yo],ngContentSelectors:mte,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(qa(pte),qi(0),Ln(1,"div",0,1),Pr("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),Ln(3,"div",2),qi(4,1),_o(5,fte,0,0,"ng-template",3),Zn(),qi(6,2),Zn()),2&t&&(Si(1),Pi("@bodyExpansion",i._getExpandedState())("id",i.id),Cr("aria-labelledby",i._headerId),Si(4),Pi("cdkPortalOutlet",i._portal))},dependencies:[ST],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Fdt.bodyExpansion]},changeDetection:0}),n})();class xte{}const wte=Ym(xte);let Udt=(()=>{class n extends wte{constructor(t,i,r,o,a,s,l){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=s,this._parentChangeSubscription=O.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(ko(u=>!(!u.hideToggle&&!u.togglePosition))):Fn;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Yi(t.opened,t.closed,c,t._inputChanges.pipe(ko(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ko(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:vd(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(ie(zdt,1),ie(Oi),ie(jd),ie(As),ie(Vdt,8),ie(Dc,8),cu("tabindex"))},n.\u0275cmp=Ci({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&Pr("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&t&&(Cr("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),md("height",i._getHeaderHeight()),ro("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Qn],ngContentSelectors:_te,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(qa(vte),Ln(0,"span",0),qi(1),qi(2,1),qi(3,2),Zn(),_o(4,gte,1,1,"span",1)),2&t&&(ro("mat-content-hide-toggle",!i._showToggle()),Si(4),Pi("ngIf",i._showToggle()))},dependencies:[Df],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Fdt.indicatorRotate]},changeDetection:0}),n})(),Cte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),Ste=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Gdt=(()=>{class n extends lte{constructor(){super(...arguments),this._ownHeaders=new kp,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=or(t)}ngAfterContentInit(){this._headers.changes.pipe(fu(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new vT(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,Udt,5),2&t){let o;Ni(o=Fi())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&ro("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Di([{provide:yU,useExisting:n}]),Qn]}),n})(),Hdt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Nl,yr,dte,zp]}),n})(),jdt=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ie(Tp),ie(Oi))},n.\u0275dir=Cn({type:n}),n})(),oy=(()=>{class n extends jdt{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,features:[Qn]}),n})();const Oc=new hn("NgValueAccessor"),Ete={provide:Oc,useExisting:Ze(()=>bU),multi:!0},Dte=new hn("CompositionEventMode");let bU=(()=>{class n extends jdt{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tte(){const n=Lp()?Lp().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ie(Tp),ie(Oi),ie(Dte,8))},n.\u0275dir=Cn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Pr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Di([Ete]),Qn]}),n})();const Ate=!1,Wc=new hn("NgValidators"),Vg=new hn("NgAsyncValidators");function nht(n){return null!=n}function iht(n){const e=ew(n)?ki(n):n;if(Ate&&!pL(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new En(-1101,t)}return e}function rht(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oht(n,e){return e.map(t=>t(n))}function aht(n){return n.map(e=>function Pte(n){return!n.validate}(e)?e:t=>e.validate(t))}function xU(n){return null!=n?function sht(n){if(!n)return null;const e=n.filter(nht);return 0==e.length?null:function(t){return rht(oht(t,e))}}(aht(n)):null}function wU(n){return null!=n?function lht(n){if(!n)return null;const e=n.filter(nht);return 0==e.length?null:function(t){return N2(oht(t,e).map(iht)).pipe(le(rht))}}(aht(n)):null}function cht(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CU(n){return n?Array.isArray(n)?n:[n]:[]}function ek(n,e){return Array.isArray(n)?n.includes(e):n===e}function hht(n,e){const t=CU(e);return CU(n).forEach(r=>{ek(t,r)||t.push(r)}),t}function fht(n,e){return CU(e).filter(t=>!ek(n,t))}class pht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xU(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ud extends pht{get formDirective(){return null}get path(){return null}}class ym extends pht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mht{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ght=(()=>{class n extends mht{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ie(ym,2))},n.\u0275dir=Cn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&ro("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Qn]}),n})();const jS="VALID",ik="INVALID",nx="PENDING",WS="DISABLED";function rk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bht{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jS}get invalid(){return this.status===ik}get pending(){return this.status==nx}get disabled(){return this.status===WS}get enabled(){return this.status!==WS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hht(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hht(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fht(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fht(e,this._rawAsyncValidators))}hasValidator(e){return ek(this._rawValidators,e)}hasAsyncValidator(e){return ek(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nx,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=WS,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jS,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jS||this.status===nx)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?WS:jS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nx,this._hasOwnPendingAsyncValidator=!0;const t=iht(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _r,this.statusChanges=new _r}_calculateStatus(){return this._allControlsDisabled()?WS:this.errors?ik:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nx)?nx:this._anyControlsHaveStatus(ik)?ik:jS}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rk(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Vte(n){return Array.isArray(n)?xU(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zte(n){return Array.isArray(n)?wU(n):n||null}(this._rawAsyncValidators)}}const ix=new hn("CallSetDisabledState",{providedIn:"root",factory:()=>ok}),ok="always";function ZS(n,e,t=ok){(function IU(n,e){const t=function uht(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(cht(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function dht(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(cht(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lk(e._rawValidators,r),lk(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Hte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xht(n,e)})}(n,e),function Wte(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xht(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Gte(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lk(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xht(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sht(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mht(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Eht=class extends bht{constructor(e=null,t,i){super(function TU(n){return(rk(n)?n.validators:n)||null}(t),function DU(n,e){return(rk(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rk(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Mht(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sht(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sht(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Mht(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Jte={provide:ym,useExisting:Ze(()=>LU)},Aht=(()=>Promise.resolve())();let LU=(()=>{class n extends ym{constructor(t,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new Eht,this._registered=!1,this.update=new _r,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function RU(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===bU?t=o:function Xte(n){return Object.getPrototypeOf(n.constructor)===oy}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kU(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ZS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Aht.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&a0(i);Aht.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ak(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(ie(ud,9),ie(Wc,10),ie(Vg,10),ie(Oc,10),ie(As,8),ie(ix,8))},n.\u0275dir=Cn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Di([Jte]),Qn,Yo]}),n})(),Pht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),See=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Pht]}),n})(),Eee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ix,useValue:t.callSetDisabledState??ok}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[See]}),n})();const Tee=["input"],Dee=["label"],Aee=["*"],Iee=new hn("mat-checkbox-default-options",{providedIn:"root",factory:Xht});function Xht(){return{color:"accent",clickAction:"check-indeterminate"}}const Pee={provide:Oc,useExisting:Ze(()=>zU),multi:!0};class kee{}let Ree=0;const $ht=Xht(),Lee=Ym(Mv(Ev(S0(class{constructor(n){this._elementRef=n}}))));let Oee=(()=>{class n extends Lee{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=or(t)}constructor(t,i,r,o,a,s,l){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=s,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new _r,this.indeterminateChange=new _r,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||$ht,this.color=this.defaultColor=this._options.color||$ht.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${t}${++Ree}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=or(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=or(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=or(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){Lm()},n.\u0275dir=Cn({type:n,viewQuery:function(t,i){if(1&t&&(rs(Tee,5),rs(Dee,5),rs(Wd,5)),2&t){let r;Ni(r=Fi())&&(i._inputElement=r.first),Ni(r=Fi())&&(i._labelElement=r.first),Ni(r=Fi())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[Qn]}),n})(),zU=(()=>{class n extends Oee{constructor(t,i,r,o,a,s){super("mat-mdc-checkbox-",t,i,r,o,a,s),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new kee;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(As),ie(gr),cu("tabindex"),ie(Dc,8),ie(Iee,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&(fh("id",i.id),Cr("tabindex",null)("aria-label",null)("aria-labelledby",null),ro("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Di([Pee]),Qn],ngContentSelectors:Aee,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(t,i){if(1&t&&(qa(),Ln(0,"div",0),Pr("click",function(o){return i._preventBubblingFromLabel(o)}),Ln(1,"div",1,2)(3,"div",3),Pr("click",function(){return i._onTouchTargetClick()}),Zn(),Ln(4,"input",4,5),Pr("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(o){return i._onInteractionEvent(o)}),Zn(),Xr(6,"div",6),Ln(7,"div",7),Od(),Ln(8,"svg",8),Xr(9,"path",9),Zn(),Nd(),Xr(10,"div",10),Zn(),Xr(11,"div",11),Zn(),Ln(12,"label",12,13),qi(14),Zn()()),2&t){const r=Au(2);ro("mdc-form-field--align-end","before"==i.labelPosition),Si(4),ro("mdc-checkbox--selected",i.checked),Pi("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),Cr("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),Si(7),Pi("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),Si(1),Pi("for",i.inputId)}},dependencies:[Wd],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),qht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,_h,qht,yr,qht]}),n})();const pk=["*"],Bee=["content"];function Vee(n,e){if(1&n){const t=Pp();Ln(0,"div",2),Pr("click",function(){return Js(t),hl(Ds()._onBackdropClicked())}),Zn()}2&n&&ro("mat-drawer-shown",Ds()._isShowingBackdrop())}function zee(n,e){1&n&&(Ln(0,"mat-drawer-content"),qi(1,2),Zn())}const Uee=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Gee=["mat-drawer","mat-drawer-content","*"];function Hee(n,e){if(1&n){const t=Pp();Ln(0,"div",2),Pr("click",function(){return Js(t),hl(Ds()._onBackdropClicked())}),Zn()}2&n&&ro("mat-drawer-shown",Ds()._isShowingBackdrop())}function jee(n,e){1&n&&(Ln(0,"mat-sidenav-content"),qi(1,2),Zn())}const Wee=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Zee=["mat-sidenav","mat-sidenav-content","*"],Kht={transformDrawer:Fl("transform",[oa("open, open-instant",er({transform:"none",visibility:"visible"})),oa("void",er({"box-shadow":"none",visibility:"hidden"})),Ha("void => open-instant",Qa("0ms")),Ha("void <=> open, open-instant => void",Qa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Xee=new hn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function $ee(){return!1}}),UU=new hn("MAT_DRAWER_CONTAINER");let XS=(()=>{class n extends Tv{constructor(t,i,r,o,a){super(r,o,a),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(ie(As),ie(Ze(()=>HU)),ie(Oi),ie(D0),ie(gr))},n.\u0275cmp=Ci({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&md("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Di([{provide:Tv,useExisting:n}]),Qn],ngContentSelectors:pk,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},encapsulation:2,changeDetection:0}),n})(),GU=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=or(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=or(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(or(t))}constructor(t,i,r,o,a,s,l,c){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=s,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new qt,this._animationEnd=new qt,this._animationState="void",this.openedChange=new _r(!0),this._openedStream=this.openedChange.pipe(ko(u=>u),le(()=>{})),this.openedStart=this._animationStarted.pipe(ko(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),NE(void 0)),this._closedStream=this.openedChange.pipe(ko(u=>!u),le(()=>{})),this.closedStart=this._animationStarted.pipe(ko(u=>u.fromState!==u.toState&&"void"===u.toState),NE(void 0)),this._destroyed=new qt,this.onPositionChanged=new _r,this._modeChanged=new qt,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Xm(this._elementRef.nativeElement,"keydown").pipe(ko(u=>27===u.keyCode&&!this.disableClose&&!vd(u)),Ga(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(Nw((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Is(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(_T),ie(jd),ie(pc),ie(gr),ie(Uw),ie(oo,8),ie(UU,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&rs(Bee,5),2&t){let r;Ni(r=Fi())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&mL("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&t&&(Cr("align",null),xL("@transform",i._animationState),ro("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pk,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(qa(),Ln(0,"div",0,1),qi(2),Zn())},dependencies:[Tv],encapsulation:2,data:{animation:[Kht.transformDrawer]},changeDetection:0}),n})(),HU=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=or(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:or(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,a,s=!1,l){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new kp,this.backdropClick=new _r,this._destroyed=new qt,this._doCheckSubject=new qt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new qt,t&&t.change.pipe(Ga(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Ga(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(fu(this._allDrawers),Ga(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(fu(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Qu(10),Ga(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ko(i=>i.fromState!==i.toState),Ga(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ga(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ga(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Is(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ga(Yi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(ie(_d,8),ie(Oi),ie(gr),ie(As),ie(A0),ie(Xee),ie(Dc,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,XS,5),Uo(r,GU,5)),2&t){let o;Ni(o=Fi())&&(i._content=o.first),Ni(o=Fi())&&(i._allDrawers=o)}},viewQuery:function(t,i){if(1&t&&rs(XS,5),2&t){let r;Ni(r=Fi())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&ro("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Di([{provide:UU,useExisting:n}])],ngContentSelectors:Gee,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(qa(Uee),_o(0,Vee,1,2,"div",0),qi(1),qi(2,1),_o(3,zee,2,0,"mat-drawer-content",1)),2&t&&(Pi("ngIf",i.hasBackdrop),Si(3),Pi("ngIf",!i._content))},dependencies:[Df,XS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),jU=(()=>{class n extends XS{constructor(t,i,r,o,a){super(t,i,r,o,a)}}return n.\u0275fac=function(t){return new(t||n)(ie(As),ie(Ze(()=>Jht)),ie(Oi),ie(D0),ie(gr))},n.\u0275cmp=Ci({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&md("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Di([{provide:Tv,useExisting:n}]),Qn],ngContentSelectors:pk,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},encapsulation:2,changeDetection:0}),n})(),Qht=(()=>{class n extends GU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=or(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=_l(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=_l(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275cmp=Ci({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(Cr("align",null),md("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),ro("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Qn],ngContentSelectors:pk,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(qa(),Ln(0,"div",0,1),qi(2),Zn())},dependencies:[Tv],encapsulation:2,data:{animation:[Kht.transformDrawer]},changeDetection:0}),n})(),Jht=(()=>{class n extends HU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275cmp=Ci({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,jU,5),Uo(r,Qht,5)),2&t){let o;Ni(o=Fi())&&(i._content=o.first),Ni(o=Fi())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&ro("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Di([{provide:UU,useExisting:n}]),Qn],ngContentSelectors:Zee,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(qa(Wee),_o(0,Hee,1,2,"div",0),qi(1),qi(2,1),_o(3,jee,2,0,"mat-sidenav-content",1)),2&t&&(Pi("ngIf",i.hasBackdrop),Si(3),Pi("ngIf",!i._content))},dependencies:[Df,jU],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),tft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Nl,yr,Gp,Gp,yr]}),n})();class qee{constructor(){this.expansionModel=new GS(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}class Kee extends qee{constructor(e,t,i){super(),this.getLevel=e,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const i=[];for(let r=this.dataNodes.indexOf(e)+1;r<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[r]);r++)i.push(this.dataNodes[r]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const mk=new hn("CDK_TREE_NODE_OUTLET_NODE");let $S=(()=>{class n{constructor(t,i){this.viewContainer=t,this._node=i}}return n.\u0275fac=function(t){return new(t||n)(ie(ql),ie(mk,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeOutlet",""]]}),n})();class Qee{constructor(e){this.$implicit=e}}let gk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(ie(uc))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),n})(),bm=(()=>{class n{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,i){this._differs=t,this._changeDetectorRef=i,this._onDestroy=new qt,this._levels=new Map,this.viewChange=new fc({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(i=>!i.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;!function JP(n){return n&&"function"==typeof n.connect&&!(n instanceof LO)}(this._dataSource)?function WU(n){return!!n&&(n instanceof _t||J(n.lift)&&J(n.subscribe))}(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=rr(this._dataSource)):t=this._dataSource.connect(this),t&&(this._dataSubscription=t.pipe(Ga(this._onDestroy)).subscribe(i=>this.renderNodeChanges(i)))}renderNodeChanges(t,i=this._dataDiffer,r=this._nodeOutlet.viewContainer,o){const a=i.diff(t);a&&(a.forEachOperation((s,l,c)=>{if(null==s.previousIndex)this.insertNode(t[c],c,r,o);else if(null==c)r.remove(l),this._levels.delete(s.item);else{const u=r.get(l);r.move(u,c)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(o=>o.when&&o.when(i,t))||this._defaultNodeDef}insertNode(t,i,r,o){const a=this._getNodeDef(t,i),s=new Qee(t);s.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof o<"u"&&this._levels.has(o)?this._levels.get(o)+1:0,this._levels.set(t,s.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,s,i),hp.mostRecentTreeNode&&(hp.mostRecentTreeNode.data=t)}}return n.\u0275fac=function(t){return new(t||n)(ie(ph),ie(As))},n.\u0275cmp=Ci({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,gk,5),2&t){let o;Ni(o=Fi())&&(i._nodeDefs=o)}},viewQuery:function(t,i){if(1&t&&rs($S,7),2&t){let r;Ni(r=Fi())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){1&t&&$u(0,0)},dependencies:[$S],encapsulation:2}),n})(),hp=(()=>{class n{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,i){this._elementRef=t,this._tree=i,this._destroyed=new qt,this._dataChanges=new qt,n.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function Jee(n){let e=n.parentElement;for(;e&&!tne(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?_l(e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return n.mostRecentTreeNode=null,n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(bm))},n.\u0275dir=Cn({type:n,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(t,i){2&t&&Cr("aria-expanded",i.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),n})();function tne(n){const e=n.classList;return!(!e?.contains("cdk-nested-tree-node")&&!e?.contains("cdk-tree"))}const ene=/([A-Za-z%]+)$/;let YU=(()=>{class n{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,i,r,o){this._treeNode=t,this._tree=i,this._element=r,this._dir=o,this._destroyed=new qt,this.indentUnits="px",this._indent=40,this._setPadding(),o&&o.change.pipe(Ga(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,i=null==this._level?t:this._level;return"number"==typeof i?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const i=this._paddingIndent();if(i!==this._currentPadding||t){const r=this._element.nativeElement,o=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",a="paddingLeft"===o?"paddingRight":"paddingLeft";r.style[o]=i||"",r.style[a]="",this._currentPadding=i}}_setLevelInput(t){this._level=_l(t,null),this._setPadding()}_setIndentInput(t){let i=t,r="px";if("string"==typeof t){const o=t.split(ene);i=o[0],r=o[1]||r}this.indentUnits=r,this._indent=_l(i),this._setPadding()}}return n.\u0275fac=function(t){return new(t||n)(ie(hp),ie(bm),ie(Oi),ie(_d,8))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),n})(),XU=(()=>{class n{get recursive(){return this._recursive}set recursive(t){this._recursive=or(t)}constructor(t,i){this._tree=t,this._treeNode=i,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(ie(bm),ie(hp))},n.\u0275dir=Cn({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,i){1&t&&Pr("click",function(o){return i._toggle(o)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),n})(),nne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})();const ine=Ym(S0(hp));let eft=(()=>{class n extends ine{constructor(t,i,r){super(t,i),this.tabIndex=Number(r)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(bm),cu("tabindex"))},n.\u0275dir=Cn({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[Di([{provide:hp,useExisting:n}]),Qn]}),n})(),nft=(()=>{class n extends gk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Di([{provide:gk,useExisting:n}]),Qn]}),n})(),ift=(()=>{class n extends YU{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[Di([{provide:YU,useExisting:n}]),Qn]}),n})(),$U=(()=>{class n{constructor(t,i){this.viewContainer=t,this._node=i}}return n.\u0275fac=function(t){return new(t||n)(ie(ql),ie(mk,8))},n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[Di([{provide:$S,useExisting:n}])]}),n})(),rft=(()=>{class n extends bm{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275cmp=Ci({type:n,selectors:[["mat-tree"]],viewQuery:function(t,i){if(1&t&&rs($U,7),2&t){let r;Ni(r=Fi())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Di([{provide:bm,useExisting:n}]),Qn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){1&t&&$u(0,0)},dependencies:[$U],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),n})(),oft=(()=>{class n extends XU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Di([{provide:XU,useExisting:n}]),Qn]}),n})(),aft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[nne,yr,yr]}),n})();class one{constructor(e,t,i,r){this.transformFunction=e,this.getLevel=t,this.isExpandable=i,this.getChildren=r}_flattenNode(e,t,i,r){const o=this.transformFunction(e,t);if(i.push(o),this.isExpandable(o)){const a=this.getChildren(e);a&&(Array.isArray(a)?this._flattenChildren(a,t,i,r):a.pipe(Is(1)).subscribe(s=>{this._flattenChildren(s,t,i,r)}))}return i}_flattenChildren(e,t,i,r){e.forEach((o,a)=>{let s=r.slice();s.push(a!=e.length-1),this._flattenNode(o,t+1,i,s)})}flattenNodes(e){let t=[];return e.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(e,t){let i=[],r=[];return r[0]=!0,e.forEach(o=>{let a=!0;for(let s=0;s<=this.getLevel(o);s++)a=a&&r[s];a&&i.push(o),this.isExpandable(o)&&(r[this.getLevel(o)+1]=t.isExpanded(o))}),i}}class ane extends ate{get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(e,t,i){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new fc([]),this._expandedData=new fc([]),this._data=new fc([]),i&&(this.data=i)}connect(e){return Yi(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(le(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}const sft=ast({source:"Map API",events:{"Retrieved Geojson Data":{_as:"props",_p:void 0}}}),lft=ast({source:"Map Setting Actions",events:{"set Filter MultiPolygon":{_as:"props",_p:void 0}}});function sne(n,e){if(1&n){const t=Pp();Ln(0,"mat-tree-node",4),Xr(1,"button",5),Ln(2,"mat-checkbox",6),Pr("change",function(){const o=Js(t).$implicit;return hl(Ds().todoLeafItemSelectionToggle(o))}),Eo(3),Zn()()}if(2&n){const t=e.$implicit,i=Ds();Si(2),Pi("checked",i.checklistSelection.isSelected(t)),Si(1),Ky(t.item)}}function lne(n,e){if(1&n){const t=Pp();Ln(0,"mat-tree-node",7)(1,"button",8)(2,"mat-icon",9),Eo(3),Zn()(),Ln(4,"mat-checkbox",10),Pr("change",function(){const o=Js(t).$implicit;return hl(Ds().todoItemSelectionToggle(o))}),Eo(5),Zn()()}if(2&n){const t=e.$implicit,i=Ds();Si(1),Cr("aria-label","Toggle "+t.item),Si(2),hh(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),Si(1),Pi("checked",i.descendantsAllSelected(t))("indeterminate",i.descendantsPartiallySelected(t)),Si(1),Ky(t.item)}}class cft{constructor(){this.ZoneId=-1}}class cne{}class une{get data(){return this.dataChange.value}constructor(e){this.dataChange=new fc([]);let t=new cft;t.item="ROOT",t.feature=$_(gU),console.log(t.feature),t.children=this.buildTree(e,0,t.ZoneId),this.dataChange.next([t]),console.log("rootNoderootNoderootNoderootNode",t)}buildTree(e,t,i){return e.map(o=>{let a=new cft;return a.ZoneId=o.properties.ID,a.item=o.properties.NAME+"( "+o.properties.area+" )",a.feature=o,a})}}let dne=(()=>{class n{ngOnInit(){this.Neighborhoods$.subscribe(t=>{t?.features&&(this._database=new une(t.features)),this.dataSource.data=this._database.data}),this.checklistSelection.changed.pipe(Qu(1e3)).subscribe(t=>{console.log(this.checklistSelection.selected);let i=this.checklistSelection.selected.map(a=>a.feature).sort((a,s)=>s.properties.area-a.properties.area);console.log("polygons0.slice(0,10)",i.slice(0,10).map(a=>a.properties.area).join("|"));let r=i.map(a=>a.geometry),o=0==r.length?$_(gU).geometry:r[0];r.length>=2&&(o=r.slice(0,100).reduce((a,s)=>LKt(a,s)?.geometry)),console.log(" union : ",o,slt(o)),r.length>=100&&console.warn("number of polygons more than 100.... others  was ignored"),this.store.dispatch(lft.setFilterMultipolygon({multipolygon:o}))})}constructor(t){this.store=t,this.Neighborhoods$=this.store.select(JKt).pipe(ko(i=>!!i)),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new GS(!0),this.getLevel=i=>i.level,this.isExpandable=i=>i.expandable,this.getChildren=i=>i.children,this.hasChild=(i,r)=>r.expandable,this.hasNoContent=(i,r)=>""===r.item,this.transformer=(i,r)=>{const o=this.nestedNodeMap.get(i),a=o&&o.item===i.item?o:new cne;return a.item=i.item,a.level=r,a.expandable=!!i.children?.length,a.feature=i.feature,a.ZoneId=i.ZoneId,this.flatNodeMap.set(a,i),this.nestedNodeMap.set(i,a),a},this.treeFlattener=new one(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new Kee(this.getLevel,this.isExpandable),this.dataSource=new ane(this.treeControl,this.treeFlattener)}descendantsAllSelected(t){const i=this.treeControl.getDescendants(t);return i.length>0&&i.every(o=>this.checklistSelection.isSelected(o))}descendantsPartiallySelected(t){return this.treeControl.getDescendants(t).some(o=>this.checklistSelection.isSelected(o))&&!this.descendantsAllSelected(t)}todoItemSelectionToggle(t){this.checklistSelection.toggle(t);const i=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?this.checklistSelection.select(...i):this.checklistSelection.deselect(...i),i.forEach(r=>this.checklistSelection.isSelected(r)),this.checkAllParentsSelection(t)}todoLeafItemSelectionToggle(t){this.checklistSelection.toggle(t),this.checkAllParentsSelection(t)}checkAllParentsSelection(t){let i=this.getParentNode(t);for(;i;)this.checkRootNodeSelection(i),i=this.getParentNode(i)}checkRootNodeSelection(t){const i=this.checklistSelection.isSelected(t),r=this.treeControl.getDescendants(t),o=r.length>0&&r.every(a=>this.checklistSelection.isSelected(a));i&&!o?this.checklistSelection.deselect(t):!i&&o&&this.checklistSelection.select(t)}getParentNode(t){const i=this.getLevel(t);if(i<1)return null;for(let o=this.treeControl.dataNodes.indexOf(t)-1;o>=0;o--){const a=this.treeControl.dataNodes[o];if(this.getLevel(a)<i)return a}return null}}return n.\u0275fac=function(t){return new(t||n)(ie(Pg))},n.\u0275cmp=Ci({type:n,selectors:[["app-region-tree"]],decls:4,vars:3,consts:[[1,"divTree"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"]],template:function(t,i){1&t&&(Ln(0,"div",0)(1,"mat-tree",1),_o(2,sne,4,2,"mat-tree-node",2),_o(3,lne,6,5,"mat-tree-node",3),Zn()()),2&t&&(Si(1),Pi("dataSource",i.dataSource)("treeControl",i.treeControl),Si(2),Pi("matTreeNodeDefWhen",i.hasChild))},dependencies:[zU,C2,FT,nft,ift,oft,rft,eft],styles:[".divTree[_ngcontent-%COMP%]{max-height:500px;overflow-y:scroll;overflow-x:hidden;max-width:300px;min-width:500px}"]}),n})();const hne=["map"];function fne(n,e){if(1&n){const t=Pp();Ln(0,"li")(1,"mat-checkbox",15),Pr("ngModelChange",function(r){return hl(Js(t).$implicit.completed=r)})("ngModelChange",function(){return Js(t),hl(Ds().updateAllComplete())}),Eo(2),Zn()()}if(2&n){const t=e.$implicit;Si(1),Pi("ngModel",t.completed)("color",t.color),Si(1),hh(" ",t.name," ")}}let pne=(()=>{class n{updateAllComplete(){this.allComplete=null!=this.task.subtasks&&this.task.subtasks.every(t=>t.completed)}someComplete(){return null!=this.task.subtasks&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}setAll(t){this.allComplete=t,null!=this.task.subtasks&&this.task.subtasks.forEach(i=>i.completed=t)}SetMapState(t=this.state){this.map.setView(t.Center,t.Zoom)}GetMapState(){this.state={Center:this.map.getCenter(),Zoom:this.map.getZoom()}}constructor(t,i){this.store=t,this.breakpointObserver=i,this.isHandset$=this.breakpointObserver.observe(b0.Handset).pipe(Rdt()),this.task={name:"Indeterminate",completed:!1,color:"primary",subtasks:[{name:"Primary",completed:!1,color:"primary"},{name:"Accent",completed:!1,color:"accent"},{name:"Warn",completed:!1,color:"warn"}]},this.allComplete=!1,this.Adresses$=this.store.select(But).pipe(ko(r=>!!r),Qu(100)),this.Buildings$=this.store.select(Vut).pipe(ko(r=>!!r),Qu(150)),this.Neighborhoods$=this.store.select(zut).pipe(vl(r=>console.log("Neighborhoods length",r?.features.length)),Qu(180),ko(r=>!!r)),this.NetloadImport$=this.store.select(Uut).pipe(ko(r=>!!r),Qu(95)),this.TygronSectionGeometry$=this.store.select(Gut).pipe(ko(r=>!!r),Qu(235)),this.componentActive=!0,this.startLatLng={lat:52.68340048498056,lng:6.190634965896607},this.initMap=()=>{console.log("CRS.EPSG3857, ",Co.CRS.EPSG3857);let r=Co.latLng(this.startLatLng);this.map=Co.map(this.mapElemRef.nativeElement,{renderer:Co.canvas(),maxZoom:25,minZoom:5}).setView(r,18),this.map.on("click",function o(s){console.log("click ",s.latlng,s)}),this.map.on("zoomend",s=>{console.log("zoom ",s.sourceTarget?._zoom,s)}),Co.tileLayer(rte[0],{maxZoom:25,attribution:"link?"}).addTo(this.map)},this.initLayerAddreses=r=>{r&&this.DrawCluster_INHABITANTS(r)},this.LayersNeighborhood=[],this.initLayerNeighborhood=r=>{if(!r)return;this.LayersNeighborhood.length>0&&this.LayersNeighborhood.forEach(u=>{this.map.removeLayer(u)}),this.LayersNeighborhood=[];let o=new mU({id:"layer_"+Ps.Neighborhoods,data:r,stroked:!0,filled:!0,lineWidthMinPixels:2,opacity:.05,getLineColor:u=>Rut(),getFillColor:u=>{let h=u.properties.area/5700*255;return Rut(50+h/10,h)}});const c=new ite.LeafletLayer({views:[new aQt.Z({repeat:!0})],layers:[o]});this.map.addLayer(c),this.LayersNeighborhood.push(c)},this.LayersFloor=[],this.LayersCluster=[],this.LayerEnergy=[]}ngOnDestroy(){this.componentActive=!1,console.log("*********ngOnDestroy******")}ngAfterViewInit(){this.isHandset$.subscribe(t=>console.log("this.isHandset$.subsc",t)),this.initMap(),this.Neighborhoods$.subscribe(t=>{this.initLayerNeighborhood(t),console.log(t)}),this.Adresses$.subscribe(t=>this.initLayerAddreses(t))}ngOnInit(){console.log("ngOninit")}toggleClicked(t){setTimeout(()=>{this.map.invalidateSize()},250)}DrawCluster_FLOOR_SPACE_M2(t){this.LayersFloor.length>0&&this.LayersFloor.forEach(a=>{this.map.removeLayer(a)}),this.LayersFloor=[];let r=new Co.MarkerClusterGroup;r=Co.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(a){for(var s=a.getAllChildMarkers(),l=0,c=0,u=0;u<s.length;u++)s[u].feature?.properties.FLOOR_SPACE_M2?l+=s[u].feature?.properties.FLOOR_SPACE_M2??0:c++;let d=s.length,h=s.length-c;return h>0?d=Math.round(s.length*(l/h)):console.log("number of FLOOR_SPACE_M2 of all point were undefined , ",d),Co.divIcon({html:`\n          <div class="leaflet-marker-icon marker-cluster ${" FLOOR_SPACE_M2 marker-cluster-"+(d>100?"large":d<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n          tabindex="0"  z-index: 247; opacity: 1;">\n          <div><span title='sum of estimated FLOOR_SPACE_M2:${d}'>${d}</span></div></div>`,className:"mycluster_FLOOR_SPACE_M2",iconSize:Co.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}),function(){var a=(0,cp.Z)(function*(s){s.features.forEach(l=>{let c=new Co.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new Co.DivIcon({html:`<div class='FLOOR_SPACE_M2_Marker'>${(l.properties.FLOOR_SPACE_M2??0).toFixed(0)}<div/>`})},d=new Co.Marker(c,u);d.feature=l,r.addLayer(d)})});return function(l){return a.apply(this,arguments)}}()(t),this.map.addLayer(r),this.LayersFloor.push(r)}DrawCluster_INHABITANTS(t){this.LayersCluster.length>0&&this.LayersCluster.forEach(a=>{this.map.removeLayer(a)}),this.LayersCluster=[];let r=new Co.MarkerClusterGroup;r=Co.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(a){for(var s=a.getAllChildMarkers(),l=0,c=0,u=0;u<s.length;u++)s[u].feature?.properties.INHABITANTS?l+=s[u].feature?.properties.INHABITANTS??0:c++;let d=s.length,h=s.length-c;return h>0?d=Math.round(s.length*(l/h)):console.log("number of inhabitants of all point were undefined , ",d),Co.divIcon({html:`\n          <div class="leaflet-marker-icon marker-cluster ${" INHABITANTS marker-cluster-"+(d>100?"large":d<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n          tabindex="0"  z-index: 247; opacity: 1;">\n          <div><span title='Estimated population:${d}'>${d}</span></div></div>`,className:"mycluster_INHABITANTS",iconSize:Co.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}),function(){var a=(0,cp.Z)(function*(s){s.features.forEach(l=>{let c=new Co.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new Co.DivIcon({html:`<div class="INHABITANTS_Marker">${(l.properties.INHABITANTS??0).toFixed(2)}<div/>`})},d=new Co.Marker(c,u);d.feature=l,r.addLayer(d)})});return function(l){return a.apply(this,arguments)}}()(t),this.map.addLayer(r),this.LayersCluster.push(r)}DrawEnergyLabels(t){this.LayerEnergy.length>0&&this.LayerEnergy.forEach(i=>{this.map.removeLayer(i)}),this.LayerEnergy=[]}}return n.\u0275fac=function(t){return new(t||n)(ie(Pg),ie(hT))},n.\u0275cmp=Ci({type:n,selectors:[["app-leafdeck2"]],viewQuery:function(t,i){if(1&t&&(rs(hne,5,Oi),rs(Gdt,5)),2&t){let r;Ni(r=Fi())&&(i.mapElemRef=r.first),Ni(r=Fi())&&(i.accordion=r.first)}},decls:62,vars:7,consts:[[1,"example-container",3,"hasBackdrop"],["mode","push","opened","true","position","start"],["drawer",""],["expanded","true"],["multi","",1,"example-headers-align"],[1,"example-section"],[1,"example-margin"],[1,"example-margin",3,"disabled"],[1,"example-list-section"],[1,"example-margin",3,"checked","color","indeterminate","change"],[4,"ngFor","ngForOf"],[2,"border","3px solid red","min-width","500px","min-height","100px","background-color","black"],[1,"map"],["map",""],["mat-raised-button","",3,"click"],[3,"ngModel","color","ngModelChange"]],template:function(t,i){if(1&t){const r=Pp();Ln(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"mat-expansion-panel",3)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),Eo(6," regions "),Zn(),Ln(7,"mat-panel-description"),Eo(8," regions "),Ln(9,"mat-icon"),Eo(10,"account_circle"),Zn()()(),Xr(11,"app-region-tree"),Zn(),Ln(12,"mat-accordion",4)(13,"mat-expansion-panel",3)(14,"mat-expansion-panel-header")(15,"mat-panel-title"),Eo(16," settings "),Zn(),Ln(17,"mat-panel-description"),Eo(18," settings description "),Ln(19,"mat-icon"),Eo(20,"account_circle"),Zn()()(),Ln(21,"div")(22,"section",5)(23,"mat-checkbox",6),Eo(24,"Show Population"),Zn(),Ln(25,"mat-checkbox",7),Eo(26,"Disabled"),Zn()(),Ln(27,"section",5)(28,"span",8)(29,"mat-checkbox",9),Pr("change",function(a){return i.setAll(a.checked)}),Eo(30),Zn()(),Ln(31,"span",8)(32,"ul"),_o(33,fne,3,3,"li",10),Zn()()()()(),Ln(34,"mat-expansion-panel")(35,"mat-expansion-panel-header")(36,"mat-panel-title"),Eo(37," chart population "),Zn(),Ln(38,"mat-panel-description"),Eo(39," Type your name and age "),Ln(40,"mat-icon"),Eo(41,"account_circle"),Zn()()(),Xr(42,"app-chart"),Zn(),Ln(43,"mat-expansion-panel")(44,"mat-expansion-panel-header")(45,"mat-panel-title"),Eo(46," density "),Zn(),Ln(47,"mat-panel-description"),Eo(48," Inform the date you wish to travel "),Ln(49,"mat-icon"),Eo(50,"date_range"),Zn()()(),Xr(51,"app-chart2"),Zn()(),Xr(52,"div",11),Zn(),Ln(53,"mat-drawer-content"),Xr(54,"div",12,13),Ln(56,"button",14),Pr("click",function(){Js(r);const a=Au(2);return hl(i.toggleClicked(a.toggle()))}),Eo(57,"Toggle drawer"),Zn(),Ln(58,"button",14),Pr("click",function(){return i.GetMapState()}),Eo(59," Print State"),Zn(),Ln(60,"button",14),Pr("click",function(){return i.SetMapState()}),Eo(61,"Set State"),Zn()()()}2&t&&(Pi("hasBackdrop",!1),Si(25),Pi("disabled",!0),Si(4),Pi("checked",i.allComplete)("color",i.task.color)("indeterminate",i.someComplete()),Si(1),hh(" ",i.task.name," "),Si(3),Pi("ngForOf",i.task.subtasks))},dependencies:[ME,zU,QMt,GU,HU,XS,Gdt,zdt,Udt,Ste,Cte,FT,ght,LU,Hut,jut,dne],styles:[".map[_ngcontent-%COMP%]{min-height:500px;height:calc(100vh - 150px);margin:1px 2px}mat-drawer-content[_ngcontent-%COMP%]{padding:12px}[_nghost-%COMP%]     .tooltipIconWrapper{display:inline-block;align-items:center;justify-content:center;flex-direction:column;width:25px;height:25px;background-size:100% 100%;text-shadow:0px 0px 10px #FF0000}[_nghost-%COMP%]     .leaflet-tile{transform:translateZ(0);transform-origin:50% 50%}[_nghost-%COMP%]     .marker-cluster-small{background-color:#97fa3ae9}[_nghost-%COMP%]     .marker-cluster-small div{background-color:#6ecc3933}[_nghost-%COMP%]     .marker-cluster-medium{background-color:#f6f040e8}[_nghost-%COMP%]     .marker-cluster-medium div{background-color:#f0c20c33}[_nghost-%COMP%]     .marker-cluster-large{background-color:#f87a44ed}[_nghost-%COMP%]     .marker-cluster-large div{background-color:#f1801733}[_nghost-%COMP%]     .FLOOR_SPACE_M2{border:3px solid rgba(146,42,16,.714);margin:10px}[_nghost-%COMP%]     .INHABITANTS{border:3px dashed rgba(0,139,125,.841);margin:-10px}[_nghost-%COMP%]     .INHABITANTS_Marker{border:3px dashed rgba(0,139,125,.841);width:auto;height:auto;font-size:medium;display:inline-block;margin:-10px;border-radius:25%}[_nghost-%COMP%]     .FLOOR_SPACE_M2_Marker{margin:10px;border:3px solid rgba(146,42,16,.714);width:auto;height:auto;font-size:medium;display:inline-block;border-radius:10%}[_nghost-%COMP%]     .leaflet-div-icon{background:rgba(255,255,255,0);border:none}[_nghost-%COMP%]     .marker-cluster{background-clip:padding-box;border-radius:20px}[_nghost-%COMP%]     .marker-cluster div{min-width:30px;max-width:100px;min-height:30px;max-height:100px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}[_nghost-%COMP%]     .marker-cluster span{line-height:30px}"]}),n})();var mne=Y(3316),gne=Y.n(mne),vne=Y(9529);const _ne=["map"],yne=[{path:"dashboard",component:oQt},{path:"MainMap",component:(()=>{class n{constructor(t){this.geoJsonService=t,this.mc=[52.7,6.2],this.mc1=[52.7,6.2],this.getRandomLatLng=i=>{var r=i.getBounds(),o=r.getSouthWest(),a=r.getNorthEast(),s=a.lng-o.lng;return new Co.LatLng(o.lat+(a.lat-o.lat)*Math.random(),o.lng+s*Math.random())},this.markersList=[],this._glify=gne().longitudeFirst(),this.title="GeoAppTest",this.rndP=(i=30)=>[52.7+(Math.random()-.5)/i,6.2+(Math.random()-.5)/i]}ngOnInit(){}ngAfterViewInit(){this.InitMap()}DrawCluster_FLOOR_SPACE_M2(){var t=this;let r=new Co.MarkerClusterGroup;r=Co.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(s){for(var l=s.getAllChildMarkers(),c=0,u=0,d=0;d<l.length;d++)l[d].feature?.properties.FLOOR_SPACE_M2?c+=l[d].feature?.properties.FLOOR_SPACE_M2??0:u++;let h=l.length,p=l.length-u;if(p>0){let y=c/p;h=Math.round(l.length*y),console.log(c,h,l.length,p,u,y)}else console.log("number of FLOOR_SPACE_M2 of all point were undefined , ",h);return Co.divIcon({html:`\n            <div class="leaflet-marker-icon marker-cluster ${" FLOOR_SPACE_M2 marker-cluster-"+(h>100?"large":h<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n            tabindex="0"  z-index: 247; opacity: 1;">\n            <div><span title='sum of estimated FLOOR_SPACE_M2:${h}'>${h}</span></div></div>`,className:"mycluster_FLOOR_SPACE_M2",iconSize:Co.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0});let o=this.markersList;(function(){var s=(0,cp.Z)(function*(){(yield t.geoJsonService.Get(Ps.Adresses)).features.forEach(l=>{let c=new Co.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new Co.DivIcon({html:`<div class='FLOOR_SPACE_M2_Marker'>${(l.properties.FLOOR_SPACE_M2??0).toFixed(0)}<div/>`})},d=new Co.Marker(c,u);d.feature=l,o.push(d),r.addLayer(d)})});return function(){return s.apply(this,arguments)}})()(),this.map.addLayer(r)}DrawCluster_INHABITANTS(){var t=this;let r=new Co.MarkerClusterGroup;r=Co.markerClusterGroup({maxClusterRadius:100,iconCreateFunction:function(s){for(var l=s.getAllChildMarkers(),c=0,u=0,d=0;d<l.length;d++)l[d].feature?.properties.INHABITANTS?c+=l[d].feature?.properties.INHABITANTS??0:u++;let h=l.length,p=l.length-u;if(p>0){let y=c/p;h=Math.round(l.length*y),console.log(c,h,l.length,p,u,y)}else console.log("number of inhabitants of all point were undefined , ",h);return Co.divIcon({html:`\n          <div class="leaflet-marker-icon marker-cluster ${" INHABITANTS marker-cluster-"+(h>100?"large":h<10?"small":"medium")} leaflet-zoom-animated leaflet-interactive" \n          tabindex="0"  z-index: 247; opacity: 1;">\n          <div><span title='Estimated population:${h}'>${h}</span></div></div>`,className:"mycluster_INHABITANTS",iconSize:Co.point(40,40)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0});let o=this.markersList;(function(){var s=(0,cp.Z)(function*(){(yield t.geoJsonService.Get(Ps.Adresses)).features.forEach(l=>{let c=new Co.LatLng(l.geometry.coordinates[1],l.geometry.coordinates[0]),u={icon:new Co.DivIcon({html:`<div class="INHABITANTS_Marker">${(l.properties.INHABITANTS??0).toFixed(2)}<div/>`})},d=new Co.Marker(c,u);d.feature=l,o.push(d),r.addLayer(d)})});return function(){return s.apply(this,arguments)}})()(),this.map.addLayer(r)}btnGeojsonFlatten(){let t=Vb(this.geoJsonService.Get(Ps.Neighborhoods));console.log(t)}btnGliflyPolyClicked(){var t=this;return(0,cp.Z)(function*(){console.log(t.geoJsonService.Get(Ps.Buildings,!0)),t._glify.shapes({map:t.map,click:(r,o)=>{console.log("click on Shape, FUNCTION:",o.properties.FUNCTION,o,r),console.warn("----",o.properties.NAME),Co.geoJSON(o).addTo(t.map),Co.popup().setLatLng(r.latlng).setContent(` <b> NAME:</b> ${o.properties.NAME}\n            , OWNER: ${o.properties.OWNER} \n           , FUNCTION: ${o.properties.FUNCTION}\n           , ID: ${o.properties.ID}\n           , BAG_ID: ${o.properties.BAG_ID}`).openOn(t.map),console.log("clicked on Shape",o,r)},hover:(r,o)=>{console.log(o.properties.PERMITTER),console.log("hovered on Shape",o,r)},data:yield t.geoJsonService.Get(Ps.Buildings,!0),border:!0,color:(r,o)=>{let a=r/1e4;return a>1&&console.log(a),{r:a,g:1-a,b:a,a:.5}}})})()}btnPointsClicked(){var t=this;return(0,cp.Z)(function*(){let i=yield t.geoJsonService.Get(Ps.Adresses);t._glify.points({map:t.map,size:r=>(console.log(r),20),color:(r,o)=>({r:(o.properties.ENERGY_LABEL??0)/15,g:1-(o.properties.ENERGY_LABEL??0)/25,b:1-(o.properties.ENERGY_LABEL??0)/25}),data:i,hover:(r,o)=>{console.log("hovered on Point",o.geometry.coordinates,r)},click:(r,o)=>{Co.popup().setLatLng([r.latlng.lat,r.latlng.lng]).setContent("You clicked on111:"+o.properties.NAME+" ENERGY_LABEL:"+o.properties.ENERGY_LABEL).openOn(t.map),console.log(`You clicked the point at longitude:${r.latlng.lng}, latitude:${r.latlng.lat}`),console.log("clicked on Point",o,r)}})})()}InitMap(){var t=this;return(0,cp.Z)(function*(){glob.push(Co),glob.push(t._glify),t.map=Co.map(t.mapElem.nativeElement,{renderer:Co.canvas()}).setView([52.683745,6.184144],17),glob.push(t.map),glob.push(vne),Co.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:25,attribution:"link?"}).addTo(t.map)})()}btnTestClicked(){var t=this;return(0,cp.Z)(function*(){console.log((yield t.geoJsonService.Get(Ps.TygronSectionGeometry))?.features);let i=t.map;var r=Co.circle(t.rndP(),{color:"red",fillColor:"#f03",fillOpacity:.5,radius:50}).addTo(i),o=Co.polygon([t.rndP(),t.rndP(),t.rndP()]).addTo(i);Co.marker(t.rndP()).addTo(i).bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup(),r.bindPopup("I am a circle."),o.bindPopup("I am a polygon."),Co.popup().setLatLng(t.rndP()).setContent("I am a standalone popup.").openOn(i);var l=Co.popup();i.on("click",function c(u){l.setLatLng(u.latlng).setContent("You clicked the map at "+u.latlng.toString()).openOn(i)}),i.on("zoomend",u=>{console.log("zoom ",u.sourceTarget?._zoom,u)}),console.log("btnTestClicked")})()}btnTestBuildingClicked(){var t=this;return(0,cp.Z)(function*(){let i=yield t.geoJsonService.Get(Ps.Neighborhoods);console.log(i?.features.length),Co.geoJSON(i).addTo(t.map)})()}}return n.\u0275fac=function(t){return new(t||n)(ie(Cut))},n.\u0275cmp=Ci({type:n,selectors:[["app-mainmap"]],viewQuery:function(t,i){if(1&t&&rs(_ne,5,Oi),2&t){let r;Ni(r=Fi())&&(i.mapElem=r.first)}},decls:18,vars:0,consts:[[1,"map"],["map",""],[3,"click"]],template:function(t,i){1&t&&(Ln(0,"p"),Eo(1,"mainmap works!"),Zn(),Xr(2,"div",0,1),Ln(4,"button",2),Pr("click",function(){return i.btnTestClicked()}),Eo(5,"test"),Zn(),Ln(6,"button",2),Pr("click",function(){return i.DrawCluster_FLOOR_SPACE_M2()}),Eo(7,"DrawCluster_FLOOR_SPACE_M2"),Zn(),Ln(8,"button",2),Pr("click",function(){return i.DrawCluster_INHABITANTS()}),Eo(9,"DrawCluster_INHABITANTS "),Zn(),Ln(10,"button",2),Pr("click",function(){return i.btnTestBuildingClicked()}),Eo(11,"Building"),Zn(),Ln(12,"button",2),Pr("click",function(){return i.btnPointsClicked()}),Eo(13," Add Points"),Zn(),Ln(14,"button",2),Pr("click",function(){return i.btnGliflyPolyClicked()}),Eo(15,"polygons"),Zn(),Ln(16,"button",2),Pr("click",function(){return i.btnGeojsonFlatten()}),Eo(17,"geojsonFlatten"),Zn())},styles:[".map[_ngcontent-%COMP%]{height:780px;border:1px solid red;perspective:1000px}[_nghost-%COMP%]     .tooltipIconWrapper{display:inline-block;align-items:center;justify-content:center;flex-direction:column;width:25px;height:25px;background-size:100% 100%;text-shadow:0px 0px 10px #FF0000}[_nghost-%COMP%]     .leaflet-tile{transform:translateZ(0);transform-origin:50% 50%}[_nghost-%COMP%]     .marker-cluster-small{background-color:#b5e28c3a}[_nghost-%COMP%]     .marker-cluster-small div{background-color:#6ecc3933}[_nghost-%COMP%]     .marker-cluster-medium{background-color:#f15757e8}[_nghost-%COMP%]     .marker-cluster-medium div{background-color:#f0c20c33}[_nghost-%COMP%]     .marker-cluster-large{background-color:#fd9c7333}[_nghost-%COMP%]     .marker-cluster-large div{background-color:#f1801733}[_nghost-%COMP%]     .FLOOR_SPACE_M2{border:3px solid rgba(146,42,16,.714);margin:10px}[_nghost-%COMP%]     .INHABITANTS{border:3px dashed rgba(0,139,125,.841);margin:-10px}[_nghost-%COMP%]     .INHABITANTS_Marker{border:3px dashed rgba(0,139,125,.841);width:auto;height:auto;font-size:medium;display:inline-block;margin:-10px;border-radius:25%}[_nghost-%COMP%]     .FLOOR_SPACE_M2_Marker{margin:10px;border:3px solid rgba(146,42,16,.714);width:auto;height:auto;font-size:medium;display:inline-block;border-radius:10%}[_nghost-%COMP%]     .leaflet-div-icon{background:rgba(255,255,255,0);border:none}[_nghost-%COMP%]     .marker-cluster{background-clip:padding-box;border-radius:20px}[_nghost-%COMP%]     .marker-cluster div{min-width:30px;max-width:100px;min-height:30px;max-height:100px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}[_nghost-%COMP%]     .marker-cluster span{line-height:30px}"]}),n})()},{path:"",component:pne}];let bne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[v9.forRoot(yne),v9]}),n})();const xne=["determinateSpinner"];function wne(n,e){if(1&n&&(Od(),Ln(0,"svg",11),Xr(1,"circle",12),Zn()),2&n){const t=Ds();Cr("viewBox",t._viewBox()),Si(1),md("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Cr("r",t._circleRadius())}}const Cne=Mv(class{constructor(n){this._elementRef=n}},"primary"),Sne=new hn("mat-progress-spinner-default-options",{providedIn:"root",factory:function Mne(){return{diameter:uft}}}),uft=100;let Tne=(()=>{class n extends Cne{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=uft,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,_l(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=_l(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=_l(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(Dc,8),ie(Sne))},n.\u0275cmp=Ci({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&rs(xne,5),2&t){let r;Ni(r=Fi())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,i){2&t&&(Cr("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),md("width",i.diameter,"px")("height",i.diameter,"px"),ro("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Qn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(_o(0,wne,2,8,"ng-template",null,0,e0),Ln(2,"div",1,2),Od(),Ln(4,"svg",3),Xr(5,"circle",4),Zn()(),Nd(),Ln(6,"div",5)(7,"div",6)(8,"div",7),$u(9,8),Zn(),Ln(10,"div",9),$u(11,8),Zn(),Ln(12,"div",10),$u(13,8),Zn()()()),2&t){const r=Au(1);Si(4),Cr("viewBox",i._viewBox()),Si(1),md("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),Cr("r",i._circleRadius()),Si(4),Pi("ngTemplateOutlet",r),Si(2),Pi("ngTemplateOutlet",r),Si(2),Pi("ngTemplateOutlet",r)}},dependencies:[_O],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),dft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Nl,yr]}),n})(),Dne=(()=>{class n{constructor(t){this.overlay=t,this.spinnerTopRef=this.cdkSpinnerCreate(),this.spin$=new qt,this.spin$.asObservable().pipe(le(i=>i?1:-1),OE((i,r)=>i+r>=0?i+r:0,0)).subscribe(i=>{1===i?this.showSpinner():0==i&&this.spinnerTopRef.hasAttached()&&this.stopSpinner()})}cdkSpinnerCreate(){return this.overlay.create({hasBackdrop:!0,backdropClass:"dark-backdrop",positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()})}showSpinner(){console.log("attach");let t=this.spinnerTopRef.attach(new CT(Tne));t.setInput("mode","indeterminate"),t.setInput("color","warn")}stopSpinner(){console.log("dispose"),this.spinnerTopRef.detach()}}return n.\u0275fac=function(t){return new(t||n)(nn(yd))},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ane=["*",[["mat-toolbar-row"]]],Ine=["*","mat-toolbar-row"],Pne=Mv(class{constructor(n){this._elementRef=n}});let kne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Rne=(()=>{class n extends Pne{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(pc),ie(oo))},n.\u0275cmp=Ci({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Uo(r,kne,5),2&t){let o;Ni(o=Fi())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&ro("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Qn],ngContentSelectors:Ine,decls:2,vars:0,template:function(t,i){1&t&&(qa(Ane),qi(0),qi(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),hft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,yr]}),n})(),Lne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,yr]}),n})();const fft=["*"],mft=["unscopedContent"],One=["text"],Nne=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Fne=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],gft=new hn("ListOption");let vft=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi))},n.\u0275dir=Cn({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),_ft=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi))},n.\u0275dir=Cn({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),eie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),yft=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(ie(gft,8))},n.\u0275dir=Cn({type:n,hostVars:4,hostBindings:function(t,i){2&t&&ro("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),nie=(()=>{class n extends yft{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Qn]}),n})(),iie=(()=>{class n extends yft{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275dir=Cn({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Qn]}),n})();const rie=new hn("MAT_LIST_CONFIG");let rx=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=Vn(rie,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=or(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=or(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Cn({type:n,hostVars:1,hostBindings:function(t,i){2&t&&Cr("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),qU=(()=>{class n{set lines(t){this._explicitLines=_l(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=or(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=or(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,a,s){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new O,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===s,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new M0(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Yi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(gr),ie(rx,8),ie(pc),ie(E0,8),ie(Dc,8))},n.\u0275dir=Cn({type:n,contentQueries:function(t,i,r){if(1&t&&(Uo(r,nie,4),Uo(r,iie,4)),2&t){let o;Ni(o=Fi())&&(i._avatars=o),Ni(o=Fi())&&(i._icons=o)}},hostVars:4,hostBindings:function(t,i){2&t&&(Cr("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),ro("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),oie=(()=>{class n extends qU{get activated(){return this._activated}set activated(t){this._activated=or(t)}constructor(t,i,r,o,a,s){super(t,i,r,o,a,s),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(gr),ie(rx,8),ie(pc),ie(E0,8),ie(Dc,8))},n.\u0275cmp=Ci({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(Uo(r,_ft,5),Uo(r,vft,5),Uo(r,eie,5)),2&t){let o;Ni(o=Fi())&&(i._lines=o),Ni(o=Fi())&&(i._titles=o),Ni(o=Fi())&&(i._meta=o)}},viewQuery:function(t,i){if(1&t&&(rs(mft,5),rs(One,5)),2&t){let r;Ni(r=Fi())&&(i._unscopedContent=r.first),Ni(r=Fi())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(Cr("aria-current",i._getAriaCurrent()),ro("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Qn],ngContentSelectors:Fne,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(qa(Nne),qi(0),Ln(1,"span",0),qi(2,1),qi(3,2),Ln(4,"span",1,2),Pr("cdkObserveContent",function(){return i._updateItemLines(!0)}),qi(6,3),Zn()(),qi(7,4),qi(8,5),Xr(9,"div",3))},dependencies:[E9],encapsulation:2,changeDetection:0}),n})(),sie=(()=>{class n extends rx{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Vr(n)))(i||n)}}(),n.\u0275cmp=Ci({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Di([{provide:rx,useExisting:n}]),Qn],ngContentSelectors:fft,decls:1,vars:0,template:function(t,i){1&t&&(qa(),qi(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),xft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[gT,Nl,yr,_h,H9,Lne]}),n})();function die(n,e){if(1&n&&(Ln(0,"a",8),Eo(1),PL(2,"titlecase"),Zn()),2&n){const t=e.$implicit;Pi("routerLink","/"+t.path),Si(1),hh(" ",kL(2,2,t.text)," ")}}let hie=(()=>{class n{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe(b0.Handset).pipe(le(i=>i.matches),Rdt()),this.menuItems=[{text:"deck map",path:""},{text:"dashboard",path:"dashboard"},{text:"MainMap",path:"MainMap"}]}}return n.\u0275fac=function(t){return new(t||n)(ie(hT))},n.\u0275cmp=Ci({type:n,selectors:[["app-nav"]],decls:16,vars:3,consts:[[1,"sidenav-container"],["fixedInViewport","","mode","over",1,"sidenav",3,"opened"],["drawer",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["sidenavContent",""],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item","",3,"routerLink"]],template:function(t,i){if(1&t){const r=Pp();Ln(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar"),Eo(4,"TAUW Profile"),Zn(),Ln(5,"mat-nav-list"),_o(6,die,3,4,"a",3),Zn()(),Ln(7,"mat-sidenav-content",null,4)(9,"mat-toolbar",5)(10,"button",6),Pr("click",function(){return Js(r),hl(Au(2).toggle())}),Ln(11,"mat-icon",7),Eo(12,"menu"),Zn()(),Ln(13,"span"),Eo(14,"GeoApp TAUW TEAM"),Zn()(),Xr(15,"router-outlet"),Zn()()}2&t&&(Si(1),Pi("opened",!1),Cr("role","dialog"),Si(5),Pi("ngForOf",i.menuItems))},dependencies:[ME,qO,rT,C2,Qht,Jht,jU,Rne,sie,oie,FT,PW],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})(),fie=(()=>{class n{constructor(t,i,r){this.geoJsonService=t,this.store=i,this.ui=r}ngOnInit(){var t=this;return(0,cp.Z)(function*(){glob.push(nS),t.ui.spin$.next(!0),t.geoJsonService.GetDataSource().subscribe(i=>{t.ui.spin$.next(!1),console.log("data recieved .. dispaching"),t.store.dispatch(sft.retrievedGeojsonData({datasource:i})),console.log("  .. dispaching done")})})()}}return n.\u0275fac=function(t){return new(t||n)(ie(Cut),ie(Pg),ie(Dne))},n.\u0275cmp=Ci({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&Xr(0,"app-nav")},dependencies:[hie]}),n})();function wft(n){return new En(3e3,!1)}function Xie(){return typeof window<"u"&&typeof window.document<"u"}function KU(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zg(n){switch(n.length){case 0:return new Zw;case 1:return n[0];default:return new K9(n)}}function Cft(n,e,t,i,r=new Map,o=new Map){const a=[],s=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,p=h&&c||new Map;u.forEach((g,y)=>{let b=y,w=g;if("offset"!==y)switch(b=e.normalizePropertyName(b,a),w){case I2:w=r.get(y);break;case Up:w=o.get(y);break;default:w=e.normalizeStyleValue(y,b,w,a)}p.set(b,w)}),h||s.push(p),c=p,l=d}),a.length)throw function Nie(n){return new En(3502,!1)}();return s}function QU(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&JU(t,"start",n)));break;case"done":n.onDone(()=>i(t&&JU(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&JU(t,"destroy",n)))}}function JU(n,e,t){const o=t8(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(o._data=a),o}function t8(n,e,t,i,r="",o=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function eh(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Sft(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let e8=(n,e)=>!1,Mft=(n,e,t)=>[],Eft=null;function n8(n){const e=n.parentNode||n.host;return e===Eft?null:e}(KU()||typeof Element<"u")&&(Xie()?(Eft=(()=>document.documentElement)(),e8=(n,e)=>{for(;e;){if(e===n)return!0;e=n8(e)}return!1}):e8=(n,e)=>n.contains(e),Mft=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let sy=null,Tft=!1;const Dft=e8,Aft=Mft;let Ift=(()=>{class n{validateStyleProperty(t){return function qie(n){sy||(sy=function Kie(){return typeof document<"u"?document.body:null}()||{},Tft=!!sy.style&&"WebkitAppearance"in sy.style);let e=!0;return sy.style&&!function $ie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in sy.style,!e&&Tft&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sy.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Dft(t,i)}getParentElement(t){return n8(t)}query(t,i,r){return Aft(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,a,s=[],l){return new Zw(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),r8=(()=>{class n{}return n.NOOP=new Ift,n})();const Qie=1e3,o8="ng-enter",vk="ng-leave",_k="ng-trigger",yk=".ng-trigger",kft="ng-animating",a8=".ng-animating";function xm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:s8(parseFloat(e[1]),e[2])}function s8(n,e){return"s"===e?n*Qie:n}function bk(n,e,t){return n.hasOwnProperty("duration")?n:function tre(n,e,t){let r,o=0,a="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push(wft()),{duration:0,delay:0,easing:""};r=s8(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=s8(parseFloat(l),s[4]));const c=s[5];c&&(a=c)}else r=n;if(!t){let s=!1,l=e.length;r<0&&(e.push(function pie(){return new En(3100,!1)}()),s=!0),o<0&&(e.push(function mie(){return new En(3101,!1)}()),s=!0),s&&e.splice(l,0,wft())}return{duration:r,delay:o,easing:a}}(n,e,t)}function qS(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Rft(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ug(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Oft(n,e,t){return t?e+":"+t+";":""}function Nft(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Oft(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Oft(0,rre(t),n.style[t]));n.setAttribute("style",e)}function fp(n,e,t){n.style&&(e.forEach((i,r)=>{const o=c8(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),KU()&&Nft(n))}function ly(n,e){n.style&&(e.forEach((t,i)=>{const r=c8(i);n.style[r]=""}),KU()&&Nft(n))}function KS(n){return Array.isArray(n)?1==n.length?n[0]:$9(n):n}const l8=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fft(n){let e=[];if("string"==typeof n){let t;for(;t=l8.exec(n);)e.push(t[1]);l8.lastIndex=0}return e}function QS(n,e,t){const i=n.toString(),r=i.replace(l8,(o,a)=>{let s=e[a];return null==s&&(t.push(function vie(n){return new En(3003,!1)}()),s=""),s.toString()});return r==i?n:r}function xk(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ire=/-+([a-z0-9])/g;function c8(n){return n.replace(ire,(...e)=>e[1].toUpperCase())}function rre(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nh(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function _ie(n){return new En(3004,!1)}()}}function Bft(n,e){return window.getComputedStyle(n)[e]}const Sk="*";function ure(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dre(n,e,t){if(":"==n[0]){const l=function hre(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function kie(n){return new En(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Pie(n){return new En(3015,!1)}()),e;const r=i[1],o=i[2],a=i[3];e.push(Vft(r,a));"<"==o[0]&&!(r==Sk&&a==Sk)&&e.push(Vft(a,r))}(i,t,e)):t.push(n),t}const Mk=new Set(["true","1"]),Ek=new Set(["false","0"]);function Vft(n,e){const t=Mk.has(n)||Ek.has(n),i=Mk.has(e)||Ek.has(e);return(r,o)=>{let a=n==Sk||n==r,s=e==Sk||e==o;return!a&&t&&"boolean"==typeof r&&(a=r?Mk.has(n):Ek.has(n)),!s&&i&&"boolean"==typeof o&&(s=o?Mk.has(e):Ek.has(e)),a&&s}}const fre=new RegExp("s*:selfs*,?","g");function u8(n,e,t,i){return new pre(n).build(e,t,i)}class pre{constructor(e){this._driver=e}build(e,t,i){const r=new vre(t);return this._resetContextStyleTimingState(r),nh(this,KS(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function bie(){return new En(3006,!1)}()),e.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,t);i+=l.queryCount,r+=l.depCount,a.push(l)}else t.errors.push(function xie(){return new En(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Fft(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&(xk(o.values()),t.errors.push(function wie(n,e){return new En(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=nh(this,KS(e.animation),t);return{type:1,matchers:ure(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:cy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>nh(this,i,t)),options:cy(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(a=>{t.currentTime=i;const s=nh(this,a,t);return r=Math.max(r,t.currentTime),s});return t.currentTime=r,{type:3,steps:o,options:cy(e.options)}}visitAnimate(e,t){const i=function yre(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return d8(bk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=d8(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=bk(t,e);return d8(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:er({});if(5==o.type)r=this.visitKeyframes(o,t);else{let a=e.styles,s=!1;if(!a){s=!0;const c={};i.easing&&(c.easing=i.easing),a=er(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,t);l.isEmptyStep=s,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let s of r)"string"==typeof s?s===Up?i.push(s):t.errors.push(new En(3002,!1)):i.push(Rft(s));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let l of s.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function Sie(n,e,t,i,r){return new En(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function nre(n,e,t){const i=e.params||{},r=Fft(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function gie(n){return new En(3001,!1)}())})}(s,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Mie(){return new En(3011,!1)}()),i;let o=0;const a=[];let s=!1,l=!1,c=0;const u=e.steps.map(w=>{const M=this._makeStyleAst(w,t);let E=null!=M.offset?M.offset:function _re(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),k=0;return null!=E&&(o++,k=M.offset=E),l=l||k<0||k>1,s=s||k<c,c=k,a.push(k),M});l&&t.errors.push(function Eie(){return new En(3012,!1)}()),s&&t.errors.push(function Tie(){return new En(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function Die(){return new En(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,g=t.currentTime,y=t.currentAnimateTimings,b=y.duration;return u.forEach((w,M)=>{const E=h>0?M==p?1:h*M:a[M],k=E*b;t.currentTime=g+y.delay+k,y.duration=k,this._validateStyleAst(w,t),w.offset=E,i.styles.push(w)}),i}visitReference(e,t){return{type:8,animation:nh(this,KS(e.animation),t),options:cy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cy(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,a]=function mre(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fre,"")),n=n.replace(/@\*/g,yk).replace(/@\w+/g,t=>yk+"-"+t.slice(1)).replace(/:animating/g,a8),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,eh(t.collectedStyles,t.currentQuerySelector,new Map);const s=nh(this,KS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:cy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Aie(){return new En(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:bk(e.timings,t.errors,!0);return{type:12,animation:nh(this,KS(e.animation),t),timings:i,options:null}}}class vre{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cy(n){return n?(n=qS(n)).params&&(n.params=function gre(n){return n?qS(n):null}(n.params)):n={},n}function d8(n,e,t){return{duration:n,delay:e,easing:t}}function h8(n,e,t,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}class Tk{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wre=new RegExp(":enter","g"),Sre=new RegExp(":leave","g");function f8(n,e,t,i,r,o=new Map,a=new Map,s,l,c=[]){return(new Mre).buildKeyframes(n,e,t,i,r,o,a,s,l,c)}class Mre{buildKeyframes(e,t,i,r,o,a,s,l,c,u=[]){c=c||new Tk;const d=new p8(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?xm(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),nh(this,i,d);const p=d.timelines.filter(g=>g.containsAnimation());if(p.length&&s.size){let g;for(let y=p.length-1;y>=0;y--){const b=p[y];if(b.element===t){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([s],null,d.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[h8(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const a="number"==typeof o?o:xm(QS(o,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const a=null!=i.duration?xm(i.duration):null,s=null!=i.delay?xm(i.delay):null;return 0!==a&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),nh(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dk);const a=xm(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>nh(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?xm(e.options.delay):0;e.steps.forEach(a=>{const s=t.createSubContext(e.options);o&&s.delayNextStep(o),nh(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return bk(t.params?QS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?xm(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Dk);let a=i;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),nh(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,a=Math.abs(o.duration),s=a*(t.currentQueryTotal-1);let l=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;nh(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Dk={};class p8{constructor(e,t,i,r,o,a,s,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ak(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=xm(i.duration)),null!=i.delay&&(r.delay=xm(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!t||!a.hasOwnProperty(s))&&(a[s]=QS(o[s],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new p8(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Dk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Ere(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,a){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(wre,"."+this._enterClassName)).replace(Sre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&0==s.length&&a.push(function Iie(n){return new En(3014,!1)}()),s}}class Ak{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ak(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Up),this._currentKeyframe.set(t,Up);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},a=function Tre(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Up)}else Ug(r,t)}),t}(e,this._globalTimelineStyles);for(let[s,l]of a){const c=QS(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Up),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,l)=>{const c=Ug(s,new Map,this._backFill);c.forEach((u,d)=>{u===I2?e.add(d):u===Up&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?xk(e.values()):[],a=t.size?xk(t.values()):[];if(i){const s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return h8(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class Ere extends Ak{constructor(e,t,i,r,o,a,s=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],a=i+t,s=t/a,l=Ug(e[0]);l.set("offset",0),o.push(l);const c=Ug(e[0]);c.set("offset",Gft(s)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ug(e[d]);const p=h.get("offset");h.set("offset",Gft((t+p*i)/a)),o.push(h)}i=a,t=0,r="",e=o}return h8(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Gft(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class m8{}const Dre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Are extends m8{normalizePropertyName(e,t){return c8(e)}normalizeStyleValue(e,t,i,r){let o="";const a=i.toString().trim();if(Dre.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function yie(n,e){return new En(3005,!1)}())}return a+o}}function Hft(n,e,t,i,r,o,a,s,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const g8={};class jft{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Ire(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,a,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||g8,g=this.buildStyles(i,s&&s.params||g8,d),y=l&&l.params||g8,b=this.buildStyles(r,y,d),w=new Set,M=new Map,E=new Map,k="void"===r,j={params:Pre(y,h),delay:this.ast.options?.delay},H=u?[]:f8(e,t,this.ast.animation,o,a,g,b,j,c,d);let rt=0;if(H.forEach(st=>{rt=Math.max(st.duration+st.delay,rt)}),d.length)return Hft(t,this._triggerName,i,r,k,g,b,[],[],M,E,rt,d);H.forEach(st=>{const Lt=st.element,kt=eh(M,Lt,new Set);st.preStyleProps.forEach(ne=>kt.add(ne));const te=eh(E,Lt,new Set);st.postStyleProps.forEach(ne=>te.add(ne)),Lt!==t&&w.add(Lt)});const yt=xk(w.values());return Hft(t,this._triggerName,i,r,k,g,b,H,yt,M,E,rt)}}function Pre(n,e){const t=qS(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class kre{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=qS(this.defaultParams);return Object.keys(e).forEach(o=>{const a=e[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=QS(a,r,t));const l=this.normalizer.normalizePropertyName(s,t);a=this.normalizer.normalizeStyleValue(s,l,a,t),i.set(s,a)})}),i}}class Lre{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new kre(r.style,r.options&&r.options.params||{},i))}),Wft(this.states,"true","1"),Wft(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new jft(e,r,this.states))}),this.fallbackTransition=function Ore(n,e,t){return new jft(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Wft(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Nre=new Tk;class Fre{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=u8(this._driver,t,i,r);if(i.length)throw function Fie(n){return new En(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Cft(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let a;const s=new Map;if(o?(a=f8(this._driver,t,o,o8,vk,new Map,new Map,i,Nre,r),a.forEach(u=>{const d=eh(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Bie(){return new En(3300,!1)}()),a=[]),r.length)throw function Vie(n){return new En(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Up))})});const c=zg(a.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function zie(n){return new En(3301,!1)}();return t}listen(e,t,i,r){const o=t8(t,"","","");return QU(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Zft="ng-animate-queued",v8="ng-animate-disabled",Gre=[],Yft={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uh="__ng_removed";class _8{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Yre(n){return n??null}(i?e.value:e),i){const o=qS(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const JS="void",y8=new _8(JS);class jre{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gh(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Uie(n,e){return new En(3302,!1)}();if(null==i||0==i.length)throw function Gie(n){return new En(3303,!1)}();if(!function Xre(n){return"start"==n||"done"==n}(i))throw function Hie(n,e){return new En(3400,!1)}();const o=eh(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};o.push(a);const s=eh(this._engine.statesByElement,e,new Map);return s.has(t)||(Gh(e,_k),Gh(e,_k+"-"+t),s.set(t,y8)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jie(n){return new En(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),a=new b8(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(Gh(e,_k),Gh(e,_k+"-"+t),this._engine.statesByElement.set(e,s=new Map));let l=s.get(t);const c=new _8(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=y8),c.value!==JS&&l.value===c.value){if(!function Kre(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const y=[],b=o.matchStyles(l.value,l.params,y),w=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{ly(e,b),fp(e,w)})}return}const h=eh(this._engine.playersByElement,e,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!r)return;p=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:g}),g||(Gh(e,Zft),a.onStart(()=>{ox(e,Zft)})),a.onDone(()=>{let y=this.players.indexOf(a);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(e);if(b){let w=b.indexOf(a);w>=0&&b.splice(w,1)}}),this.players.push(a),h.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,yk,!0);i.forEach(r=>{if(r[Uh])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),a=new Map;if(o){const s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,JS,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&zg(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const l=this._triggers.get(a).fallbackTransition,c=i.get(a)||y8,u=new _8(JS),d=new b8(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Uh];(!o||o===Yft)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Gh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){const l=t8(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,QU(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Wre{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new jre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(t);for(;s;){const l=r.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Ik(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ik(t))return;const o=t[Uh];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gh(e,v8)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ox(e,v8))}removeNode(e,t,i,r){if(Ik(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Uh]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Ik(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yk,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,a8,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Uh];if(t&&t.setForRemoval){if(e[Uh]=Yft,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(v8)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gh(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?zg(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Wie(n){return new En(3402,!1)}()}_flushAnimations(e,t){const i=new Tk,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(be=>{u.add(be);const Ve=this.driver.query(be,".ng-animate-queued",!0);for(let Fe=0;Fe<Ve.length;Fe++)u.add(Ve[Fe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=qft(h,this.collectedEnterElements),g=new Map;let y=0;p.forEach((be,Ve)=>{const Fe=o8+y++;g.set(Ve,Fe),be.forEach(Ke=>Gh(Ke,Fe))});const b=[],w=new Set,M=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const Ve=this.collectedLeaveElements[be],Fe=Ve[Uh];Fe&&Fe.setForRemoval&&(b.push(Ve),w.add(Ve),Fe.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(Ke=>w.add(Ke)):M.add(Ve))}const E=new Map,k=qft(h,Array.from(w));k.forEach((be,Ve)=>{const Fe=vk+y++;E.set(Ve,Fe),be.forEach(Ke=>Gh(Ke,Fe))}),e.push(()=>{p.forEach((be,Ve)=>{const Fe=g.get(Ve);be.forEach(Ke=>ox(Ke,Fe))}),k.forEach((be,Ve)=>{const Fe=E.get(Ve);be.forEach(Ke=>ox(Ke,Fe))}),b.forEach(be=>{this.processLeaveNode(be)})});const j=[],H=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(t).forEach(Fe=>{const Ke=Fe.player,In=Fe.element;if(j.push(Ke),this.collectedEnterElements.length){const Gi=In[Uh];if(Gi&&Gi.setForMove){if(Gi.previousTriggersValues&&Gi.previousTriggersValues.has(Fe.triggerName)){const ji=Gi.previousTriggersValues.get(Fe.triggerName),cr=this.statesByElement.get(Fe.element);if(cr&&cr.has(Fe.triggerName)){const Sr=cr.get(Fe.triggerName);Sr.value=ji,cr.set(Fe.triggerName,Sr)}}return void Ke.destroy()}}const Nn=!d||!this.driver.containsElement(d,In),qn=E.get(In),Kn=g.get(In),Gn=this._buildInstruction(Fe,i,Kn,qn,Nn);if(Gn.errors&&Gn.errors.length)return void H.push(Gn);if(Nn)return Ke.onStart(()=>ly(In,Gn.fromStyles)),Ke.onDestroy(()=>fp(In,Gn.toStyles)),void r.push(Ke);if(Fe.isFallbackTransition)return Ke.onStart(()=>ly(In,Gn.fromStyles)),Ke.onDestroy(()=>fp(In,Gn.toStyles)),void r.push(Ke);const Ui=[];Gn.timelines.forEach(Gi=>{Gi.stretchStartingKeyframe=!0,this.disabledNodes.has(Gi.element)||Ui.push(Gi)}),Gn.timelines=Ui,i.append(In,Gn.timelines),a.push({instruction:Gn,player:Ke,element:In}),Gn.queriedElements.forEach(Gi=>eh(s,Gi,[]).push(Ke)),Gn.preStyleProps.forEach((Gi,ji)=>{if(Gi.size){let cr=l.get(ji);cr||l.set(ji,cr=new Set),Gi.forEach((Sr,Mi)=>cr.add(Mi))}}),Gn.postStyleProps.forEach((Gi,ji)=>{let cr=c.get(ji);cr||c.set(ji,cr=new Set),Gi.forEach((Sr,Mi)=>cr.add(Mi))})});if(H.length){const be=[];H.forEach(Ve=>{be.push(function Zie(n,e){return new En(3505,!1)}())}),j.forEach(Ve=>Ve.destroy()),this.reportError(be)}const rt=new Map,yt=new Map;a.forEach(be=>{const Ve=be.element;i.has(Ve)&&(yt.set(Ve,Ve),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,rt))}),r.forEach(be=>{const Ve=be.element;this._getPreviousPlayers(Ve,!1,be.namespaceId,be.triggerName,null).forEach(Ke=>{eh(rt,Ve,[]).push(Ke),Ke.destroy()})});const st=b.filter(be=>Qft(be,l,c)),Lt=new Map;$ft(Lt,this.driver,M,c,Up).forEach(be=>{Qft(be,l,c)&&st.push(be)});const te=new Map;p.forEach((be,Ve)=>{$ft(te,this.driver,new Set(be),l,I2)}),st.forEach(be=>{const Ve=Lt.get(be),Fe=te.get(be);Lt.set(be,new Map([...Array.from(Ve?.entries()??[]),...Array.from(Fe?.entries()??[])]))});const ne=[],de=[],Te={};a.forEach(be=>{const{element:Ve,player:Fe,instruction:Ke}=be;if(i.has(Ve)){if(u.has(Ve))return Fe.onDestroy(()=>fp(Ve,Ke.toStyles)),Fe.disabled=!0,Fe.overrideTotalTime(Ke.totalTime),void r.push(Fe);let In=Te;if(yt.size>1){let qn=Ve;const Kn=[];for(;qn=qn.parentNode;){const Gn=yt.get(qn);if(Gn){In=Gn;break}Kn.push(qn)}Kn.forEach(Gn=>yt.set(Gn,In))}const Nn=this._buildAnimation(Fe.namespaceId,Ke,rt,o,te,Lt);if(Fe.setRealPlayer(Nn),In===Te)ne.push(Fe);else{const qn=this.playersByElement.get(In);qn&&qn.length&&(Fe.parentPlayer=zg(qn)),r.push(Fe)}}else ly(Ve,Ke.fromStyles),Fe.onDestroy(()=>fp(Ve,Ke.toStyles)),de.push(Fe),u.has(Ve)&&r.push(Fe)}),de.forEach(be=>{const Ve=o.get(be.element);if(Ve&&Ve.length){const Fe=zg(Ve);be.setRealPlayer(Fe)}}),r.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<b.length;be++){const Ve=b[be],Fe=Ve[Uh];if(ox(Ve,vk),Fe&&Fe.hasAnimation)continue;let Ke=[];if(s.size){let Nn=s.get(Ve);Nn&&Nn.length&&Ke.push(...Nn);let qn=this.driver.query(Ve,a8,!0);for(let Kn=0;Kn<qn.length;Kn++){let Gn=s.get(qn[Kn]);Gn&&Gn.length&&Ke.push(...Gn)}}const In=Ke.filter(Nn=>!Nn.destroyed);In.length?$re(this,Ve,In):this.processLeaveNode(Ve)}return b.length=0,ne.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const Ve=this.players.indexOf(be);this.players.splice(Ve,1)}),be.play()}),ne}elementContainsData(e,t){let i=!1;const r=t[Uh];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let a=[];if(t){const s=this.playersByQueriedElement.get(e);s&&(a=s)}else{const s=this.playersByElement.get(e);if(s){const l=!o||o==JS;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(e,t,i){const o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=eh(i,c,[]);this._getPreviousPlayers(c,u,a,s,t.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),d.push(p)})}ly(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,a){const s=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(g=>{const y=g.element;u.add(y);const b=y[Uh];if(b&&b.removedBeforeQueried)return new Zw(g.duration,g.delay);const w=y!==l,M=function qre(n){const e=[];return Kft(n,e),e}((i.get(y)||Gre).map(rt=>rt.getRealPlayer())).filter(rt=>!!rt.element&&rt.element===y),E=o.get(y),k=a.get(y),j=Cft(0,this._normalizer,0,g.keyframes,E,k),H=this._buildPlayer(g,j,M);if(g.subTimeline&&r&&d.add(y),w){const rt=new b8(e,s,y);rt.setRealPlayer(H),c.push(rt)}return H});c.forEach(g=>{eh(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function Zre(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Gh(g,kft));const p=zg(h);return p.onDestroy(()=>{u.forEach(g=>ox(g,kft)),fp(l,t.toStyles)}),d.forEach(g=>{eh(r,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Zw(e.duration,e.delay)}}class b8{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Zw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>QU(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){eh(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ik(n){return n&&1===n.nodeType}function Xft(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $ft(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Xft(l)));const a=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Uh]=Hre,a.push(c))}),n.set(c,u)});let s=0;return t.forEach(l=>Xft(l,o[s++])),a}function qft(n,e){const t=new Map;if(n.forEach(s=>t.set(s,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function a(s){if(!s)return i;let l=o.get(s);if(l)return l;const c=s.parentNode;return l=t.has(c)?c:r.has(c)?i:a(c),o.set(s,l),l}return e.forEach(s=>{const l=a(s);l!==i&&t.get(l).push(s)}),t}function Gh(n,e){n.classList?.add(e)}function ox(n,e){n.classList?.remove(e)}function $re(n,e,t){zg(t).onDone(()=>n.processLeaveNode(e))}function Kft(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof K9?Kft(i.players,e):e.push(i)}}function Qft(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Pk{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Wre(e,t,i),this._timelineEngine=new Fre(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const a=e+"-"+r;let s=this._triggerCache[a];if(!s){const l=[],c=[],u=u8(this._driver,o,l,c);if(l.length)throw function Oie(n,e){return new En(3404,!1)}();s=function Rre(n,e,t){return new Lre(n,e,t)}(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,a]=Sft(i);this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[a,s]=Sft(i);return this._timelineEngine.listen(a,t,s,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Jre=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fp(this._element,this._initialStyles),this._endStyles&&(fp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ly(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ly(this._element,this._endStyles),this._endStyles=null),fp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x8(n){let e=null;return n.forEach((t,i)=>{(function toe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Jft{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Bft(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class eoe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Dft(e,t)}getParentElement(e){return n8(e)}query(e,t,i){return Aft(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,a=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=a.filter(p=>p instanceof Jft);(function ore(n,e){return 0===n||0===e})(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((g,y)=>c.set(y,g))});let d=function ere(n){return n.length?n[0]instanceof Map?n:n.map(e=>Rft(e)):[]}(t).map(p=>Ug(p));d=function are(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(s=>a.set(s,Bft(n,s)))}}return e}(e,d,c);const h=function Qre(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=x8(e[0]),e.length>1&&(i=x8(e[e.length-1]))):e instanceof Map&&(t=x8(e)),t||i?new Jre(n,t,i):null}(e,d);return new Jft(e,d,l,h)}}let noe=(()=>{class n extends X9{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:vs.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?$9(t):t;return tpt(this._renderer,null,i,"register",[r]),new ioe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(nn(qx),nn(oo))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();class ioe extends uEt{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new roe(this._id,e,t||{},this._renderer)}}class roe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tpt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tpt(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const ept="@.disabled";let ooe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const s=a?.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new npt("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const a=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(a,s,t,u.name,u)};return i.data.animation.forEach(l),new aoe(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(nn(qx),nn(Pk),nn(gr))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();class npt{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==ept?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class aoe extends npt{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ept?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function soe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function loe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(e,t,i)}}let coe=(()=>{class n extends Pk{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(nn(oo),nn(r8),nn(m8),nn(o0))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();const ipt=[{provide:X9,useClass:noe},{provide:m8,useFactory:function uoe(){return new Are}},{provide:Pk,useClass:coe},{provide:qx,useFactory:function doe(n,e,t){return new ooe(n,e,t)},deps:[kE,Pk,gr]}],w8=[{provide:r8,useFactory:()=>new eoe},{provide:Dc,useValue:"BrowserAnimations"},...ipt],rpt=[{provide:r8,useClass:Ift},{provide:Dc,useValue:"NoopAnimations"},...ipt];let C8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?rpt:w8}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:w8,imports:[iZ]}),n})();const hoe=function H7t(n,...e){const t=new Map;for(const i of e)for(const r of i.types){const o=t.get(r);t.set(r,o?(s,l)=>i.reducer(o(s,l),l):i.reducer)}return function(i=n,r){const o=t.get(r.type);return o?o(i,r):i}}({datasource:new Map,settings:{map:{Center:{lat:52.68340048498056,lng:6.190634965896607},Zoom:15},boundaries:{type:"Polygon",coordinates:gU}}},Bst(sft.retrievedGeojsonData,(n,{datasource:e})=>({...n,datasource:e})),Bst(lft.setFilterMultipolygon,(n,{multipolygon:e})=>({...n,settings:{...n.settings,boundaries:e}})));let foe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,Nl,gT,yr]}),n})(),opt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,tM,tM,foe,yr]}),n})();const Eoe={provide:new hn("mat-autocomplete-scroll-strategy"),deps:[yd],useFactory:function Moe(n){return()=>n.scrollStrategies.reposition()}};let spt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Eoe],imports:[kf,bT,yr,Nl,Gp,bT,yr]}),n})(),Poe=(()=>{class n{constructor(){this.changes=new qt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uoe={provide:new hn("mat-datepicker-scroll-strategy"),deps:[yd],useFactory:function zoe(n){return()=>n.scrollStrategies.reposition()}};let T8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Poe,Uoe],imports:[Nl,jw,kf,Gw,zp,yr,Gp]}),n})(),mpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,Nl,_h,yr]}),n})();const cae={provide:new hn("mat-select-scroll-strategy"),deps:[yd],useFactory:function lae(n){return()=>n.scrollStrategies.reposition()}};let D8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[cae],imports:[Nl,kf,bT,yr,Gp,tM,bT,yr]}),n})(),_pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,Nl,_h]}),n})(),bpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({}),n})(),xpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[bpt,yr,_h,Nl,bpt,yr]}),n})(),wpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Gw,yr,yr]}),n})(),Dae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[C0]}),n})(),A8=(()=>{class n{constructor(){this.changes=new qt,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vae={provide:A8,deps:[[new Yl,new pd,A8]],useFactory:function Bae(n){return n||new A8}};let Ept=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Vae,w2],imports:[yr,Nl,zp,Dae,G2,_h,yr]}),n})(),Dpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[Nl,yr,zp,_h,gT,Gw,yr]}),n})(),Rpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,_h,yr]}),n})();const Ok=new hn("mat-chips-default-options");let Upt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[w2,{provide:Ok,useValue:{separatorKeyCodes:[13]}}],imports:[yr,Nl,_h,yr]}),n})(),Gpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr]}),n})();function Tse(n,e){}class Bk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Hpt=(()=>{class n extends D2{constructor(t,i,r,o,a,s,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=dT(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=dT();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dT())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(_T),ie(oo,8),ie(Bk),ie(Uw),ie(gr),ie(Xw),ie(jd))},n.\u0275cmp=Ci({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&rs(ST,7),2&t){let r;Ni(r=Fi())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&Cr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Qn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&_o(0,Tse,0,0,"ng-template",0)},dependencies:[ST],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class N8{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new qt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!vd(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const jpt=new hn("DialogScrollStrategy"),Dse=new hn("DialogData"),Ase=new hn("DefaultDialogConfig"),Pse={provide:jpt,deps:[yd],useFactory:function Ise(n){return()=>n.scrollStrategies.block()}};let kse=0,Wpt=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,a,s){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new qt,this._afterOpenedAtThisLevel=new qt,this._ariaHiddenElements=new Map,this.afterAllClosed=bw(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fu(void 0))),this._scrollStrategy=s}open(t,i){(i={...this._defaultOptions||new Bk,...i}).id=i.id||"cdk-dialog-"+kse++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new N8(a,i),l=this._attachContainer(a,s,i);return s.containerInstance=l,this._attachDialogContent(t,s,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){F8(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){F8(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),F8(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new TT({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:Bk,useValue:r},{provide:N8,useValue:i},{provide:Xw,useValue:t}];let s;r.container?"function"==typeof r.container?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=Hpt;const l=new CT(s,r.viewContainerRef,hu.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof uc){const a=this._createInjector(o,i,r,void 0);let s={$implicit:o.data,dialogRef:i};o.templateContext&&(s={...s,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Ww(t,null,s,a))}else{const a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new CT(t,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=s.instance}}_createInjector(t,i,r,o){const a=t.injector||t.viewContainerRef?.injector,s=[{provide:Dse,useValue:t.data},{provide:N8,useValue:i}];return t.providers&&("function"==typeof t.providers?s.push(...t.providers(i,t,r)):s.push(...t.providers)),t.direction&&(!a||!a.get(_d,null,{optional:!0}))&&s.push({provide:_d,useValue:{value:t.direction,change:rr()}}),hu.create({parent:a||o,providers:s})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(nn(yd),nn(hu),nn(Ase,8),nn(n,12),nn(DT),nn(jpt))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})();function F8(n,e){let t=n.length;for(;t--;)e(n[t])}let Rse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Wpt,Pse],imports:[kf,zp,Gw,zp]}),n})();function Lse(n,e){}class Vk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const B8="mdc-dialog--open",Zpt="mdc-dialog--opening",Ypt="mdc-dialog--closing";let Fse=(()=>{class n extends Hpt{constructor(t,i,r,o,a,s,l,c){super(t,i,r,o,a,s,l,c),this._animationStateChanged=new _r}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(_T),ie(oo,8),ie(Vk),ie(Uw),ie(gr),ie(Xw),ie(jd))},n.\u0275cmp=Ci({type:n,selectors:[["ng-component"]],features:[Qn],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const Xpt="--mat-dialog-transition-duration";function $pt(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?_l(n.substring(0,n.length-2)):n.endsWith("s")?1e3*_l(n.substring(0,n.length-1)):"0"===n?0:null}let Bse=(()=>{class n extends Fse{constructor(t,i,r,o,a,s,l,c,u){super(t,i,r,o,a,s,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?$pt(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?$pt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Xpt,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Zpt),this._hostElement.classList.add(B8),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(B8),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(B8),this._animationsEnabled?(this._hostElement.style.setProperty(Xpt,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Ypt),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Zpt),this._hostElement.classList.remove(Ypt)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(ie(Oi),ie(_T),ie(oo,8),ie(Vk),ie(Uw),ie(gr),ie(Xw),ie(Dc,8),ie(jd))},n.\u0275cmp=Ci({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(fh("id",i._config.id),Cr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ro("_mat-animation-noopable",!i._animationsEnabled))},features:[Qn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(Ln(0,"div",0)(1,"div",1),_o(2,Lse,0,0,"ng-template",2),Zn()())},dependencies:[ST],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Vse{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new qt,this._beforeClosed=new qt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(ko(r=>"opened"===r.state),Is(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ko(r=>"closed"===r.state),Is(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Yi(this.backdropClick(),this.keydownEvents().pipe(ko(r=>27===r.keyCode&&!this.disableClose&&!vd(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function zse(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ko(t=>"closing"===t.state),Is(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Use=new hn("MatMdcDialogData"),Gse=new hn("mat-mdc-dialog-default-options"),qpt=new hn("mat-mdc-dialog-scroll-strategy"),jse={provide:qpt,deps:[yd],useFactory:function Hse(n){return()=>n.scrollStrategies.block()}};let Wse=0,Zse=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,a,s,l,c,u,d){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new qt,this._afterOpenedAtThisLevel=new qt,this._idPrefix="mat-dialog-",this.dialogConfigClass=Vk,this.afterAllClosed=bw(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fu(void 0))),this._scrollStrategy=s,this._dialog=i.get(Wpt)}open(t,i){let r;(i={...this._defaultOptions||new Vk,...i}).id=i.id||`${this._idPrefix}${Wse++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Bk,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Lm()},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),Yse=(()=>{class n extends Zse{constructor(t,i,r,o,a,s,l,c){super(t,i,o,s,l,a,Vse,Bse,Use,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(nn(yd),nn(hu),nn(fw,8),nn(Gse,8),nn(qpt),nn(n,12),nn(DT),nn(Dc,8))},n.\u0275prov=zn({token:n,factory:n.\u0275fac}),n})(),Kpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Yse,jse],imports:[Rse,kf,zp,yr,yr]}),n})();const Kse={provide:new hn("mat-tooltip-scroll-strategy"),deps:[yd],useFactory:function qse(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let V8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Kse],imports:[Gw,Nl,kf,yr,yr,Gp]}),n})(),Jpt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[kf,zp,Nl,jw,yr,yr]}),n})(),mle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[k2]}),n})(),umt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({imports:[yr,mle,yr]}),n})(),q8=(()=>{class n{constructor(){this.changes=new qt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lle={provide:q8,deps:[[new Yl,new pd,q8]],useFactory:function Rle(n){return n||new q8}};let dmt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Lle],imports:[Nl,yr]}),n})(),K8=(()=>{class n{constructor(){this.changes=new qt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=t*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=zn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vle={provide:K8,deps:[[new Yl,new pd,K8]],useFactory:function Ble(n){return n||new K8}};let hmt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[Vle],imports:[Nl,jw,D8,V8]}),n})(),zle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n}),n.\u0275inj=Jn({providers:[T8],imports:[Nl,C8,fk,fk,jw,opt,spt,T8,tM,mpt,D8,_pt,xpt,h7,tft,wpt,hft,xft,v7,w7,Ept,Dpt,Hdt,Rpt,Upt,G2,dft,Gpt,Kpt,V8,Jpt,umt,dmt,hmt,OMt,aft,kf,C8,fk,fk,jw,opt,spt,T8,tM,mpt,D8,_pt,xpt,h7,tft,wpt,hft,xft,v7,w7,Ept,Dpt,Hdt,Rpt,Upt,G2,dft,Gpt,Kpt,V8,Jpt,umt,dmt,hmt,aft,kf]}),n})(),Ule=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ai({type:n,bootstrap:[fie]}),n.\u0275inj=Jn({imports:[iZ,JTt,bne,C8,FSt,zle,Eee,G7t.forRoot({appMapSate:hoe})]}),n})();jwt().bootstrapModule(Ule).catch(n=>console.error(n))},8325:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>G});var tt=Y(25),J=Y(8261);const F=globalThis;function G(O){if(!O&&!(0,tt.Z)())return"Node";if((0,J.Z)(O))return"Electron";const at=O||(typeof navigator<"u"?navigator:{}).userAgent||"";if(at.indexOf("Edge")>-1)return"Edge";const ct=-1!==at.indexOf("MSIE "),ot=-1!==at.indexOf("Trident/");return ct||ot?"IE":F.chrome?"Chrome":F.safari?"Safari":F.mozInnerScreenX?"Firefox":"Unknown"}},25:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>J});var tt=Y(8261);function J(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||(0,tt.Z)()}},8261:(Xe,se,Y)=>{"use strict";function tt(J){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const F="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,Z=J||F;return!!(Z&&Z.indexOf("Electron")>=0)}Y.d(se,{Z:()=>tt})},787:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Et});var tt=Y(1180),J=Y(25);const F=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";(0,J.Z)();class O{constructor(qt,pe){let Ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,tt.Z)(this,"storage",void 0),(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"config",void 0),this.storage=function G(Wt){try{const qt=window[Wt],pe="__storage_test__";return qt.setItem(pe,pe),qt.removeItem(pe),qt}catch{return null}}(Ne),this.id=qt,this.config=pe,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(qt){if(Object.assign(this.config,qt),this.storage){const pe=JSON.stringify(this.config);this.storage.setItem(this.id,pe)}}_loadConfiguration(){let qt={};if(this.storage){const pe=this.storage.getItem(this.id);qt=pe?JSON.parse(pe):{}}return Object.assign(this.config,qt),this}}function N(Wt,qt,pe){let Ne=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const Le=Wt.src.replace(/\(/g,"%28").replace(/\)/g,"%29");Wt.width>Ne&&(pe=Math.min(pe,Ne/Wt.width));const re=Wt.width*pe,Me=Wt.height*pe,le=["font-size:1px;","padding:".concat(Math.floor(Me/2),"px ").concat(Math.floor(re/2),"px;"),"line-height:".concat(Me,"px;"),"background:url(".concat(Le,");"),"background-size:".concat(re,"px ").concat(Me,"px;"),"color:transparent;"].join("");return["".concat(qt," %c+"),le]}let U;var Wt;function bt(Wt){return"string"==typeof Wt?U[Wt.toUpperCase()]||U.WHITE:Wt}function W(Wt,qt){if(!Wt)throw new Error(qt||"Assertion failed")}(Wt=U||(U={}))[Wt.BLACK=30]="BLACK",Wt[Wt.RED=31]="RED",Wt[Wt.GREEN=32]="GREEN",Wt[Wt.YELLOW=33]="YELLOW",Wt[Wt.BLUE=34]="BLUE",Wt[Wt.MAGENTA=35]="MAGENTA",Wt[Wt.CYAN=36]="CYAN",Wt[Wt.WHITE=37]="WHITE",Wt[Wt.BRIGHT_BLACK=90]="BRIGHT_BLACK",Wt[Wt.BRIGHT_RED=91]="BRIGHT_RED",Wt[Wt.BRIGHT_GREEN=92]="BRIGHT_GREEN",Wt[Wt.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",Wt[Wt.BRIGHT_BLUE=94]="BRIGHT_BLUE",Wt[Wt.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",Wt[Wt.BRIGHT_CYAN=96]="BRIGHT_CYAN",Wt[Wt.BRIGHT_WHITE=97]="BRIGHT_WHITE";const it={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},mt=(globalThis,it.window||it.self||it.global),wt=it.process||{};function Pt(){let Wt;var qt,pe;if(J.Z&&"performance"in mt)Wt=null==mt||null===(qt=mt.performance)||void 0===qt||null===(pe=qt.now)||void 0===pe?void 0:pe.call(qt);else if("hrtime"in wt){var Ne;const Le=null==wt||null===(Ne=wt.hrtime)||void 0===Ne?void 0:Ne.call(wt);Wt=1e3*Le[0]+Le[1]/1e6}else Wt=Date.now();return Wt}console;const Tt={debug:J.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},It={enabled:!0,level:0};function ut(){}const ae={},ce={once:!0};class Et{constructor(){let{id:qt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"VERSION",F),(0,tt.Z)(this,"_startTs",Pt()),(0,tt.Z)(this,"_deltaTs",Pt()),(0,tt.Z)(this,"_storage",void 0),(0,tt.Z)(this,"userData",{}),(0,tt.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=qt,this.userData={},this._storage=new O("__probe-".concat(this.id,"__"),It),this.timeStamp("".concat(this.id," started")),function et(Wt){let qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const pe=Object.getPrototypeOf(Wt),Ne=Object.getOwnPropertyNames(pe);for(const Le of Ne)"function"==typeof Wt[Le]&&(qt.find(re=>Le===re)||(Wt[Le]=Wt[Le].bind(Wt)))}(this),Object.seal(this)}set level(qt){this.setLevel(qt)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Pt()-this._startTs).toPrecision(10))}getDelta(){return Number((Pt()-this._deltaTs).toPrecision(10))}set priority(qt){this.level=qt}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(qt){return this._storage.setConfiguration({level:qt}),this}get(qt){return this._storage.config[qt]}set(qt,pe){this._storage.setConfiguration({[qt]:pe})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(qt,pe){W(qt,pe)}warn(qt){return this._getLogFunction(0,qt,Tt.warn,arguments,ce)}error(qt){return this._getLogFunction(0,qt,Tt.error,arguments)}deprecated(qt,pe){return this.warn("`".concat(qt,"` is deprecated and will be removed in a later version. Use `").concat(pe,"` instead"))}removed(qt,pe){return this.error("`".concat(qt,"` has been removed. Use `").concat(pe,"` instead"))}probe(qt,pe){return this._getLogFunction(qt,pe,Tt.log,arguments,{time:!0,once:!0})}log(qt,pe){return this._getLogFunction(qt,pe,Tt.debug,arguments)}info(qt,pe){return this._getLogFunction(qt,pe,console.info,arguments)}once(qt,pe){for(var Ne=arguments.length,Le=new Array(Ne>2?Ne-2:0),re=2;re<Ne;re++)Le[re-2]=arguments[re];return this._getLogFunction(qt,pe,Tt.debug||Tt.info,arguments,ce)}table(qt,pe,Ne){return pe?this._getLogFunction(qt,pe,console.table||ut,Ne&&[Ne],{tag:Ee(pe)}):ut}image(qt){let{logLevel:pe,priority:Ne,image:Le,message:re="",scale:Me=1}=qt;return this._shouldLog(pe||Ne)?J.Z?function Ft(Wt){let{image:qt,message:pe="",scale:Ne=1}=Wt;if("string"==typeof qt){const re=new Image;return re.onload=()=>{const Me=N(re,pe,Ne);console.log(...Me)},re.src=qt,ut}const Le=qt.nodeName||"";if("img"===Le.toLowerCase())return console.log(...N(qt,pe,Ne)),ut;if("canvas"===Le.toLowerCase()){const re=new Image;return re.onload=()=>console.log(...N(re,pe,Ne)),re.src=qt.toDataURL(),ut}return ut}({image:Le,message:re,scale:Me}):function Zt(Wt){let{message:pe="",scale:Ne=1}=Wt;return console.warn("removed"),ut}({image:Le,message:re,scale:Me}):ut}time(qt,pe){return this._getLogFunction(qt,pe,console.time?console.time:console.info)}timeEnd(qt,pe){return this._getLogFunction(qt,pe,console.timeEnd?console.timeEnd:console.info)}timeStamp(qt,pe){return this._getLogFunction(qt,pe,console.timeStamp||ut)}group(qt,pe){let Ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const Le=dt({logLevel:qt,message:pe,opts:Ne}),{collapsed:re}=Ne;return Le.method=(re?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Le)}groupCollapsed(qt,pe){return this.group(qt,pe,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(qt){return this._getLogFunction(qt,"",console.groupEnd||ut)}withGroup(qt,pe,Ne){this.group(qt,pe)();try{Ne()}finally{this.groupEnd(qt)()}}trace(){console.trace&&console.trace()}_shouldLog(qt){return this.isEnabled()&&this.getLevel()>=vt(qt)}_getLogFunction(qt,pe,Ne,Le,re){if(this._shouldLog(qt)){re=dt({logLevel:qt,message:pe,args:Le,opts:re}),W(Ne=Ne||re.method),re.total=this.getTotal(),re.delta=this.getDelta(),this._deltaTs=Pt();const Me=re.tag||re.message;if(re.once){if(ae[Me])return ut;ae[Me]=Pt()}return pe=function _t(Wt,qt,pe){if("string"==typeof qt){const Ne=pe.time?function at(Wt){const pe=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-Wt.length,0);return"".concat(" ".repeat(pe)).concat(Wt)}(function Q(Wt){let qt;return qt=Wt<10?"".concat(Wt.toFixed(2),"ms"):Wt<100?"".concat(Wt.toFixed(1),"ms"):Wt<1e3?"".concat(Wt.toFixed(0),"ms"):"".concat((Wt/1e3).toFixed(2),"s"),qt}(pe.total)):"";qt=function X(Wt,qt,pe){return!J.Z&&"string"==typeof Wt&&(qt&&(qt=bt(qt),Wt="\x1b[".concat(qt,"m").concat(Wt,"\x1b[39m")),pe&&(qt=bt(pe),Wt="\x1b[".concat(pe+10,"m").concat(Wt,"\x1b[49m"))),Wt}(qt=pe.time?"".concat(Wt,": ").concat(Ne,"  ").concat(qt):"".concat(Wt,": ").concat(qt),pe.color,pe.background)}return qt}(this.id,re.message,re),Ne.bind(console,pe,...re.args)}return ut}}function vt(Wt){if(!Wt)return 0;let qt;switch(typeof Wt){case"number":qt=Wt;break;case"object":qt=Wt.logLevel||Wt.priority||0;break;default:return 0}return W(Number.isFinite(qt)&&qt>=0),qt}function dt(Wt){const{logLevel:qt,message:pe}=Wt;Wt.logLevel=vt(qt);const Ne=Wt.args?Array.from(Wt.args):[];for(;Ne.length&&Ne.shift()!==pe;);switch(typeof qt){case"string":case"function":void 0!==pe&&Ne.unshift(pe),Wt.message=qt;break;case"object":Object.assign(Wt,qt)}"function"==typeof Wt.message&&(Wt.message=Wt.message());const Le=typeof Wt.message;return W("string"===Le||"object"===Le),Object.assign(Wt,{args:Ne},Wt.opts)}function Ee(Wt){for(const qt in Wt)for(const pe in Wt[qt])return pe||"untitled";return"empty"}(0,tt.Z)(Et,"VERSION",F)},5651:(Xe,se,Y)=>{"use strict";Y.d(se,{Z:()=>Z});var tt=Y(1180);function J(){let G;if(typeof window<"u"&&window.performance)G=window.performance.now();else if(typeof process<"u"&&process.hrtime){const O=process.hrtime();G=1e3*O[0]+O[1]/1e6}else G=Date.now();return G}class F{constructor(O,Q){(0,tt.Z)(this,"name",void 0),(0,tt.Z)(this,"type",void 0),(0,tt.Z)(this,"sampleSize",1),(0,tt.Z)(this,"time",void 0),(0,tt.Z)(this,"count",void 0),(0,tt.Z)(this,"samples",void 0),(0,tt.Z)(this,"lastTiming",void 0),(0,tt.Z)(this,"lastSampleTime",void 0),(0,tt.Z)(this,"lastSampleCount",void 0),(0,tt.Z)(this,"_count",0),(0,tt.Z)(this,"_time",0),(0,tt.Z)(this,"_samples",0),(0,tt.Z)(this,"_startTime",0),(0,tt.Z)(this,"_timerPending",!1),this.name=O,this.type=Q,this.reset()}setSampleSize(O){return this.sampleSize=O,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(O){return this._count+=O,this._samples++,this._checkSampling(),this}subtractCount(O){return this._count-=O,this._samples++,this._checkSampling(),this}addTime(O){return this._time+=O,this.lastTiming=O,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=J(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(J()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Z{constructor(O){(0,tt.Z)(this,"id",void 0),(0,tt.Z)(this,"stats",{}),this.id=O.id,this.stats={},this._initializeStats(O.stats),Object.seal(this)}get(O){return this._getOrCreate({name:O,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const O in this.stats)this.stats[O].reset();return this}forEach(O){for(const Q in this.stats)O(this.stats[Q])}getTable(){const O={};return this.forEach(Q=>{O[Q.name]={time:Q.time||0,count:Q.count||0,average:Q.getAverageTime()||0,hz:Q.getHz()||0}}),O}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Q=>this._getOrCreate(Q))}_getOrCreate(O){if(!O||!O.name)return null;const{name:Q,type:at}=O;return this.stats[Q]||(this.stats[Q]=O instanceof F?O:new F(Q,at)),this.stats[Q]}}},1503:(Xe,se,Y)=>{"use strict";var J=Y(3269);function F(Z){var G=[1/0,1/0,-1/0,-1/0];return J.coordEach(Z,function(O){G[0]>O[0]&&(G[0]=O[0]),G[1]>O[1]&&(G[1]=O[1]),G[2]<O[0]&&(G[2]=O[0]),G[3]<O[1]&&(G[3]=O[1])}),G}F.default=F,se.Z=F},8275:(Xe,se)=>{"use strict";function Y(Tt,It,ut){void 0===ut&&(ut={});var ae={type:"Feature"};return(0===ut.id||ut.id)&&(ae.id=ut.id),ut.bbox&&(ae.bbox=ut.bbox),ae.properties=It||{},ae.geometry=Tt,ae}function J(Tt,It,ut){if(void 0===ut&&(ut={}),!Tt)throw new Error("coordinates is required");if(!Array.isArray(Tt))throw new Error("coordinates must be an Array");if(Tt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ct(Tt[0])||!Ct(Tt[1]))throw new Error("coordinates must contain numbers");return Y({type:"Point",coordinates:Tt},It,ut)}function Z(Tt,It,ut){void 0===ut&&(ut={});for(var ae=0,ce=Tt;ae<ce.length;ae++){var Et=ce[ae];if(Et.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var vt=0;vt<Et[Et.length-1].length;vt++)if(Et[Et.length-1][vt]!==Et[0][vt])throw new Error("First and last Position are not equivalent.")}return Y({type:"Polygon",coordinates:Tt},It,ut)}function O(Tt,It,ut){if(void 0===ut&&(ut={}),Tt.length<2)throw new Error("coordinates must be an array of two or more positions");return Y({type:"LineString",coordinates:Tt},It,ut)}function at(Tt,It){void 0===It&&(It={});var ut={type:"FeatureCollection"};return It.id&&(ut.id=It.id),It.bbox&&(ut.bbox=It.bbox),ut.features=Tt,ut}function ct(Tt,It,ut){return void 0===ut&&(ut={}),Y({type:"MultiLineString",coordinates:Tt},It,ut)}function ot(Tt,It,ut){return void 0===ut&&(ut={}),Y({type:"MultiPoint",coordinates:Tt},It,ut)}function $(Tt,It,ut){return void 0===ut&&(ut={}),Y({type:"MultiPolygon",coordinates:Tt},It,ut)}function bt(Tt,It){void 0===It&&(It="kilometers");var ut=se.factors[It];if(!ut)throw new Error(It+" units is invalid");return Tt*ut}function X(Tt,It){void 0===It&&(It="kilometers");var ut=se.factors[It];if(!ut)throw new Error(It+" units is invalid");return Tt/ut}function it(Tt){return Tt%(2*Math.PI)*180/Math.PI}function Ct(Tt){return!isNaN(Tt)&&null!==Tt&&!Array.isArray(Tt)}Object.defineProperty(se,"__esModule",{value:!0}),se.earthRadius=6371008.8,se.factors={centimeters:100*se.earthRadius,centimetres:100*se.earthRadius,degrees:se.earthRadius/111325,feet:3.28084*se.earthRadius,inches:39.37*se.earthRadius,kilometers:se.earthRadius/1e3,kilometres:se.earthRadius/1e3,meters:se.earthRadius,metres:se.earthRadius,miles:se.earthRadius/1609.344,millimeters:1e3*se.earthRadius,millimetres:1e3*se.earthRadius,nauticalmiles:se.earthRadius/1852,radians:1,yards:1.0936*se.earthRadius},se.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/se.earthRadius,yards:1.0936133},se.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},se.feature=Y,se.geometry=function tt(Tt,It,ut){switch(void 0===ut&&(ut={}),Tt){case"Point":return J(It).geometry;case"LineString":return O(It).geometry;case"Polygon":return Z(It).geometry;case"MultiPoint":return ot(It).geometry;case"MultiLineString":return ct(It).geometry;case"MultiPolygon":return $(It).geometry;default:throw new Error(Tt+" is invalid")}},se.point=J,se.points=function F(Tt,It,ut){return void 0===ut&&(ut={}),at(Tt.map(function(ae){return J(ae,It)}),ut)},se.polygon=Z,se.polygons=function G(Tt,It,ut){return void 0===ut&&(ut={}),at(Tt.map(function(ae){return Z(ae,It)}),ut)},se.lineString=O,se.lineStrings=function Q(Tt,It,ut){return void 0===ut&&(ut={}),at(Tt.map(function(ae){return O(ae,It)}),ut)},se.featureCollection=at,se.multiLineString=ct,se.multiPoint=ot,se.multiPolygon=$,se.geometryCollection=function N(Tt,It,ut){return void 0===ut&&(ut={}),Y({type:"GeometryCollection",geometries:Tt},It,ut)},se.round=function U(Tt,It){if(void 0===It&&(It=0),It&&!(It>=0))throw new Error("precision must be a positive number");var ut=Math.pow(10,It||0);return Math.round(Tt*ut)/ut},se.radiansToLength=bt,se.lengthToRadians=X,se.lengthToDegrees=function et(Tt,It){return it(X(Tt,It))},se.bearingToAzimuth=function W(Tt){var It=Tt%360;return It<0&&(It+=360),It},se.radiansToDegrees=it,se.degreesToRadians=function V(Tt){return Tt%360*Math.PI/180},se.convertLength=function lt(Tt,It,ut){if(void 0===It&&(It="kilometers"),void 0===ut&&(ut="kilometers"),!(Tt>=0))throw new Error("length must be a positive number");return bt(X(Tt,It),ut)},se.convertArea=function mt(Tt,It,ut){if(void 0===It&&(It="meters"),void 0===ut&&(ut="kilometers"),!(Tt>=0))throw new Error("area must be a positive number");var ae=se.areaFactors[It];if(!ae)throw new Error("invalid original units");var ce=se.areaFactors[ut];if(!ce)throw new Error("invalid final units");return Tt/ae*ce},se.isNumber=Ct,se.isObject=function wt(Tt){return!!Tt&&Tt.constructor===Object},se.validateBBox=function q(Tt){if(!Tt)throw new Error("bbox is required");if(!Array.isArray(Tt))throw new Error("bbox must be an Array");if(4!==Tt.length&&6!==Tt.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Tt.forEach(function(It){if(!Ct(It))throw new Error("bbox must only contain numbers")})},se.validateId=function Pt(Tt){if(!Tt)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Tt))throw new Error("id must be a number or a string")}},3269:(Xe,se,Y)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});var tt=Y(8275);function J(V,lt,mt){if(null!==V)for(var Ct,wt,q,Pt,Tt,It,ut,Et,ae=0,ce=0,vt=V.type,dt="FeatureCollection"===vt,_t="Feature"===vt,Zt=dt?V.features.length:1,Ft=0;Ft<Zt;Ft++){Tt=(Et=!!(ut=dt?V.features[Ft].geometry:_t?V.geometry:V)&&"GeometryCollection"===ut.type)?ut.geometries.length:1;for(var Ee=0;Ee<Tt;Ee++){var Wt=0,qt=0;if(null!==(Pt=Et?ut.geometries[Ee]:ut)){It=Pt.coordinates;var pe=Pt.type;switch(ae=!mt||"Polygon"!==pe&&"MultiPolygon"!==pe?0:1,pe){case null:break;case"Point":if(!1===lt(It,ce,Ft,Wt,qt))return!1;ce++,Wt++;break;case"LineString":case"MultiPoint":for(Ct=0;Ct<It.length;Ct++){if(!1===lt(It[Ct],ce,Ft,Wt,qt))return!1;ce++,"MultiPoint"===pe&&Wt++}"LineString"===pe&&Wt++;break;case"Polygon":case"MultiLineString":for(Ct=0;Ct<It.length;Ct++){for(wt=0;wt<It[Ct].length-ae;wt++){if(!1===lt(It[Ct][wt],ce,Ft,Wt,qt))return!1;ce++}"MultiLineString"===pe&&Wt++,"Polygon"===pe&&qt++}"Polygon"===pe&&Wt++;break;case"MultiPolygon":for(Ct=0;Ct<It.length;Ct++){for(qt=0,wt=0;wt<It[Ct].length;wt++){for(q=0;q<It[Ct][wt].length-ae;q++){if(!1===lt(It[Ct][wt][q],ce,Ft,Wt,qt))return!1;ce++}qt++}Wt++}break;case"GeometryCollection":for(Ct=0;Ct<Pt.geometries.length;Ct++)if(!1===J(Pt.geometries[Ct],lt,mt))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Z(V,lt){var mt;switch(V.type){case"FeatureCollection":for(mt=0;mt<V.features.length&&!1!==lt(V.features[mt].properties,mt);mt++);break;case"Feature":lt(V.properties,0)}}function O(V,lt){if("Feature"===V.type)lt(V,0);else if("FeatureCollection"===V.type)for(var mt=0;mt<V.features.length&&!1!==lt(V.features[mt],mt);mt++);}function ct(V,lt){var mt,Ct,wt,q,Pt,Tt,It,ut,ae,ce,Et=0,vt="FeatureCollection"===V.type,dt="Feature"===V.type,_t=vt?V.features.length:1;for(mt=0;mt<_t;mt++){for(ut=vt?V.features[mt].properties:dt?V.properties:{},ae=vt?V.features[mt].bbox:dt?V.bbox:void 0,ce=vt?V.features[mt].id:dt?V.id:void 0,Pt=(It=!!(Tt=vt?V.features[mt].geometry:dt?V.geometry:V)&&"GeometryCollection"===Tt.type)?Tt.geometries.length:1,wt=0;wt<Pt;wt++)if(null!==(q=It?Tt.geometries[wt]:Tt))switch(q.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===lt(q,Et,ut,ae,ce))return!1;break;case"GeometryCollection":for(Ct=0;Ct<q.geometries.length;Ct++)if(!1===lt(q.geometries[Ct],Et,ut,ae,ce))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===lt(null,Et,ut,ae,ce))return!1;Et++}}function $(V,lt){ct(V,function(mt,Ct,wt,q,Pt){var It,Tt=null===mt?null:mt.type;switch(Tt){case null:case"Point":case"LineString":case"Polygon":return!1!==lt(tt.feature(mt,wt,{bbox:q,id:Pt}),Ct,0)&&void 0}switch(Tt){case"MultiPoint":It="Point";break;case"MultiLineString":It="LineString";break;case"MultiPolygon":It="Polygon"}for(var ut=0;ut<mt.coordinates.length;ut++)if(!1===lt(tt.feature({type:It,coordinates:mt.coordinates[ut]},wt),Ct,ut))return!1})}function U(V,lt){$(V,function(mt,Ct,wt){var q=0;if(mt.geometry){var Pt=mt.geometry.type;if("Point"!==Pt&&"MultiPoint"!==Pt){var Tt,It=0,ut=0,ae=0;if(!1===J(mt,function(ce,Et,vt,dt,_t){if(void 0===Tt||Ct>It||dt>ut||_t>ae)return Tt=ce,It=Ct,ut=dt,ae=_t,void(q=0);var Zt=tt.lineString([Tt,ce],mt.properties);if(!1===lt(Zt,Ct,wt,_t,q))return!1;q++,Tt=ce}))return!1}}})}function X(V,lt){if(!V)throw new Error("geojson is required");$(V,function(mt,Ct,wt){if(null!==mt.geometry){var Pt=mt.geometry.coordinates;switch(mt.geometry.type){case"LineString":if(!1===lt(mt,Ct,wt,0,0))return!1;break;case"Polygon":for(var Tt=0;Tt<Pt.length;Tt++)if(!1===lt(tt.lineString(Pt[Tt],mt.properties),Ct,wt,Tt))return!1}}})}se.coordAll=function at(V){var lt=[];return J(V,function(mt){lt.push(mt)}),lt},se.coordEach=J,se.coordReduce=function F(V,lt,mt,Ct){var wt=mt;return J(V,function(q,Pt,Tt,It,ut){wt=0===Pt&&void 0===mt?q:lt(wt,q,Pt,Tt,It,ut)},Ct),wt},se.featureEach=O,se.featureReduce=function Q(V,lt,mt){var Ct=mt;return O(V,function(wt,q){Ct=0===q&&void 0===mt?wt:lt(Ct,wt,q)}),Ct},se.findPoint=function it(V,lt){if(!tt.isObject(lt=lt||{}))throw new Error("options is invalid");var Tt,mt=lt.featureIndex||0,Ct=lt.multiFeatureIndex||0,wt=lt.geometryIndex||0,q=lt.coordIndex||0,Pt=lt.properties;switch(V.type){case"FeatureCollection":mt<0&&(mt=V.features.length+mt),Pt=Pt||V.features[mt].properties,Tt=V.features[mt].geometry;break;case"Feature":Pt=Pt||V.properties,Tt=V.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Tt=V;break;default:throw new Error("geojson is invalid")}if(null===Tt)return null;var It=Tt.coordinates;switch(Tt.type){case"Point":return tt.point(It,Pt,lt);case"MultiPoint":return Ct<0&&(Ct=It.length+Ct),tt.point(It[Ct],Pt,lt);case"LineString":return q<0&&(q=It.length+q),tt.point(It[q],Pt,lt);case"Polygon":return wt<0&&(wt=It.length+wt),q<0&&(q=It[wt].length+q),tt.point(It[wt][q],Pt,lt);case"MultiLineString":return Ct<0&&(Ct=It.length+Ct),q<0&&(q=It[Ct].length+q),tt.point(It[Ct][q],Pt,lt);case"MultiPolygon":return Ct<0&&(Ct=It.length+Ct),wt<0&&(wt=It[Ct].length+wt),q<0&&(q=It[Ct][wt].length-q),tt.point(It[Ct][wt][q],Pt,lt)}throw new Error("geojson is invalid")},se.findSegment=function W(V,lt){if(!tt.isObject(lt=lt||{}))throw new Error("options is invalid");var Tt,mt=lt.featureIndex||0,Ct=lt.multiFeatureIndex||0,wt=lt.geometryIndex||0,q=lt.segmentIndex||0,Pt=lt.properties;switch(V.type){case"FeatureCollection":mt<0&&(mt=V.features.length+mt),Pt=Pt||V.features[mt].properties,Tt=V.features[mt].geometry;break;case"Feature":Pt=Pt||V.properties,Tt=V.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Tt=V;break;default:throw new Error("geojson is invalid")}if(null===Tt)return null;var It=Tt.coordinates;switch(Tt.type){case"Point":case"MultiPoint":return null;case"LineString":return q<0&&(q=It.length+q-1),tt.lineString([It[q],It[q+1]],Pt,lt);case"Polygon":return wt<0&&(wt=It.length+wt),q<0&&(q=It[wt].length+q-1),tt.lineString([It[wt][q],It[wt][q+1]],Pt,lt);case"MultiLineString":return Ct<0&&(Ct=It.length+Ct),q<0&&(q=It[Ct].length+q-1),tt.lineString([It[Ct][q],It[Ct][q+1]],Pt,lt);case"MultiPolygon":return Ct<0&&(Ct=It.length+Ct),wt<0&&(wt=It[Ct].length+wt),q<0&&(q=It[Ct][wt].length-q-1),tt.lineString([It[Ct][wt][q],It[Ct][wt][q+1]],Pt,lt)}throw new Error("geojson is invalid")},se.flattenEach=$,se.flattenReduce=function N(V,lt,mt){var Ct=mt;return $(V,function(wt,q,Pt){Ct=0===q&&0===Pt&&void 0===mt?wt:lt(Ct,wt,q,Pt)}),Ct},se.geomEach=ct,se.geomReduce=function ot(V,lt,mt){var Ct=mt;return ct(V,function(wt,q,Pt,Tt,It){Ct=0===q&&void 0===mt?wt:lt(Ct,wt,q,Pt,Tt,It)}),Ct},se.lineEach=X,se.lineReduce=function et(V,lt,mt){var Ct=mt;return X(V,function(wt,q,Pt,Tt){Ct=0===q&&void 0===mt?wt:lt(Ct,wt,q,Pt,Tt)}),Ct},se.propEach=Z,se.propReduce=function G(V,lt,mt){var Ct=mt;return Z(V,function(wt,q){Ct=0===q&&void 0===mt?wt:lt(Ct,wt,q)}),Ct},se.segmentEach=U,se.segmentReduce=function bt(V,lt,mt){var Ct=mt,wt=!1;return U(V,function(q,Pt,Tt,It,ut){Ct=!1===wt&&void 0===mt?q:lt(Ct,q,Pt,Tt,It,ut),wt=!0}),Ct}},5834:(Xe,se,Y)=>{"use strict";var tt=Y(5203),J=Y(5685),F=J(tt("String.prototype.indexOf"));Xe.exports=function(G,O){var Q=tt(G,!!O);return"function"==typeof Q&&F(G,".prototype.")>-1?J(Q):Q}},5685:(Xe,se,Y)=>{"use strict";var tt=Y(4444),J=Y(5203),F=J("%Function.prototype.apply%"),Z=J("%Function.prototype.call%"),G=J("%Reflect.apply%",!0)||tt.call(Z,F),O=J("%Object.getOwnPropertyDescriptor%",!0),Q=J("%Object.defineProperty%",!0),at=J("%Math.max%");if(Q)try{Q({},"a",{value:1})}catch{Q=null}Xe.exports=function($){var N=G(tt,Z,arguments);return O&&Q&&O(N,"length").configurable&&Q(N,"length",{value:1+at(0,$.length-(arguments.length-1))}),N};var ct=function(){return G(tt,F,arguments)};Q?Q(Xe.exports,"apply",{value:ct}):Xe.exports.apply=ct},1335:(Xe,se,Y)=>{"use strict";var tt=Y(3156),J=Y(7253),F=Y(3870),Z=Y(7563).orient2d;function G(mt,Ct,wt){Ct=Math.max(0,void 0===Ct?2:Ct),wt=wt||0;var q=function bt(mt){for(var Ct=mt[0],wt=mt[0],q=mt[0],Pt=mt[0],Tt=0;Tt<mt.length;Tt++){var It=mt[Tt];It[0]<Ct[0]&&(Ct=It),It[0]>q[0]&&(q=It),It[1]<wt[1]&&(wt=It),It[1]>Pt[1]&&(Pt=It)}var ut=[Ct,wt,q,Pt],ae=ut.slice();for(Tt=0;Tt<mt.length;Tt++)F(mt[Tt],ut)||ae.push(mt[Tt]);return function lt(mt){mt.sort(V);for(var Ct=[],wt=0;wt<mt.length;wt++){for(;Ct.length>=2&&$(Ct[Ct.length-2],Ct[Ct.length-1],mt[wt])<=0;)Ct.pop();Ct.push(mt[wt])}for(var q=[],Pt=mt.length-1;Pt>=0;Pt--){for(;q.length>=2&&$(q[q.length-2],q[q.length-1],mt[Pt])<=0;)q.pop();q.push(mt[Pt])}return q.pop(),Ct.pop(),Ct.concat(q)}(ae)}(mt),Pt=new tt(16);Pt.toBBox=function(qt){return{minX:qt[0],minY:qt[1],maxX:qt[0],maxY:qt[1]}},Pt.compareMinX=function(qt,pe){return qt[0]-pe[0]},Pt.compareMinY=function(qt,pe){return qt[1]-pe[1]},Pt.load(mt);for(var ut,Tt=[],It=0;It<q.length;It++){var ae=q[It];Pt.remove(ae),ut=X(ae,ut),Tt.push(ut)}var ce=new tt(16);for(It=0;It<Tt.length;It++)ce.insert(U(Tt[It]));for(var Et=Ct*Ct,vt=wt*wt;Tt.length;){var dt=Tt.shift(),_t=dt.p,Zt=dt.next.p,Ft=et(_t,Zt);if(!(Ft<vt)){var Ee=Ft/Et;(ae=O(Pt,dt.prev.p,_t,Zt,dt.next.next.p,Ee,ce))&&Math.min(et(ae,_t),et(ae,Zt))<=Ee&&(Tt.push(dt),Tt.push(X(ae,dt)),Pt.remove(ae),ce.remove(dt),ce.insert(U(dt)),ce.insert(U(dt.next)))}}dt=ut;var Wt=[];do{Wt.push(dt.p),dt=dt.next}while(dt!==ut);return Wt.push(dt.p),Wt}function O(mt,Ct,wt,q,Pt,Tt,It){for(var ut=new J([],Q),ae=mt.data;ae;){for(var ce=0;ce<ae.children.length;ce++){var Et=ae.children[ce],vt=ae.leaf?W(Et,wt,q):at(wt,q,Et);vt>Tt||ut.push({node:Et,dist:vt})}for(;ut.length&&!ut.peek().node.children;){var dt=ut.pop(),_t=dt.node,Zt=W(_t,Ct,wt),Ft=W(_t,q,Pt);if(dt.dist<Zt&&dt.dist<Ft&&ot(wt,_t,It)&&ot(q,_t,It))return _t}(ae=ut.pop())&&(ae=ae.node)}return null}function Q(mt,Ct){return mt.dist-Ct.dist}function at(mt,Ct,wt){if(ct(mt,wt)||ct(Ct,wt))return 0;var q=it(mt[0],mt[1],Ct[0],Ct[1],wt.minX,wt.minY,wt.maxX,wt.minY);if(0===q)return 0;var Pt=it(mt[0],mt[1],Ct[0],Ct[1],wt.minX,wt.minY,wt.minX,wt.maxY);if(0===Pt)return 0;var Tt=it(mt[0],mt[1],Ct[0],Ct[1],wt.maxX,wt.minY,wt.maxX,wt.maxY);if(0===Tt)return 0;var It=it(mt[0],mt[1],Ct[0],Ct[1],wt.minX,wt.maxY,wt.maxX,wt.maxY);return 0===It?0:Math.min(q,Pt,Tt,It)}function ct(mt,Ct){return mt[0]>=Ct.minX&&mt[0]<=Ct.maxX&&mt[1]>=Ct.minY&&mt[1]<=Ct.maxY}function ot(mt,Ct,wt){for(var q=Math.min(mt[0],Ct[0]),Pt=Math.min(mt[1],Ct[1]),Tt=Math.max(mt[0],Ct[0]),It=Math.max(mt[1],Ct[1]),ut=wt.search({minX:q,minY:Pt,maxX:Tt,maxY:It}),ae=0;ae<ut.length;ae++)if(N(ut[ae].p,ut[ae].next.p,mt,Ct))return!1;return!0}function $(mt,Ct,wt){return Z(mt[0],mt[1],Ct[0],Ct[1],wt[0],wt[1])}function N(mt,Ct,wt,q){return mt!==q&&Ct!==wt&&$(mt,Ct,wt)>0!=$(mt,Ct,q)>0&&$(wt,q,mt)>0!=$(wt,q,Ct)>0}function U(mt){var Ct=mt.p,wt=mt.next.p;return mt.minX=Math.min(Ct[0],wt[0]),mt.minY=Math.min(Ct[1],wt[1]),mt.maxX=Math.max(Ct[0],wt[0]),mt.maxY=Math.max(Ct[1],wt[1]),mt}function X(mt,Ct){var wt={p:mt,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return Ct?(wt.next=Ct.next,wt.prev=Ct,Ct.next.prev=wt,Ct.next=wt):(wt.prev=wt,wt.next=wt),wt}function et(mt,Ct){var wt=mt[0]-Ct[0],q=mt[1]-Ct[1];return wt*wt+q*q}function W(mt,Ct,wt){var q=Ct[0],Pt=Ct[1],Tt=wt[0]-q,It=wt[1]-Pt;if(0!==Tt||0!==It){var ut=((mt[0]-q)*Tt+(mt[1]-Pt)*It)/(Tt*Tt+It*It);ut>1?(q=wt[0],Pt=wt[1]):ut>0&&(q+=Tt*ut,Pt+=It*ut)}return(Tt=mt[0]-q)*Tt+(It=mt[1]-Pt)*It}function it(mt,Ct,wt,q,Pt,Tt,It,ut){var Ne,Le,re,Me,ae=wt-mt,ce=q-Ct,Et=It-Pt,vt=ut-Tt,dt=mt-Pt,_t=Ct-Tt,Zt=ae*ae+ce*ce,Ft=ae*Et+ce*vt,Ee=Et*Et+vt*vt,Wt=ae*dt+ce*_t,qt=Et*dt+vt*_t,pe=Zt*Ee-Ft*Ft,le=pe,Dt=pe;0===pe?(Le=0,le=1,Me=qt,Dt=Ee):(Me=Zt*qt-Ft*Wt,(Le=Ft*qt-Ee*Wt)<0?(Le=0,Me=qt,Dt=Ee):Le>le&&(Le=le,Me=qt+Ft,Dt=Ee)),Me<0?(Me=0,-Wt<0?Le=0:-Wt>Zt?Le=le:(Le=-Wt,le=Zt)):Me>Dt&&(Me=Dt,-Wt+Ft<0?Le=0:-Wt+Ft>Zt?Le=le:(Le=-Wt+Ft,le=Zt));var At=(1-(re=0===Me?0:Me/Dt))*Pt+re*It-((1-(Ne=0===Le?0:Le/le))*mt+Ne*wt),St=(1-re)*Tt+re*ut-((1-Ne)*Ct+Ne*q);return At*At+St*St}function V(mt,Ct){return mt[0]===Ct[0]?mt[1]-Ct[1]:mt[0]-Ct[0]}J.default&&(J=J.default),Xe.exports=G,Xe.exports.default=G},3156:function(Xe){Xe.exports=function(){"use strict";function se(X,et,W,it,V){!function lt(mt,Ct,wt,q,Pt){for(;q>wt;){if(q-wt>600){var Tt=q-wt+1,It=Ct-wt+1,ut=Math.log(Tt),ae=.5*Math.exp(2*ut/3),ce=.5*Math.sqrt(ut*ae*(Tt-ae)/Tt)*(It-Tt/2<0?-1:1);lt(mt,Ct,Math.max(wt,Math.floor(Ct-It*ae/Tt+ce)),Math.min(q,Math.floor(Ct+(Tt-It)*ae/Tt+ce)),Pt)}var dt=mt[Ct],_t=wt,Zt=q;for(Y(mt,wt,Ct),Pt(mt[q],dt)>0&&Y(mt,wt,q);_t<Zt;){for(Y(mt,_t,Zt),_t++,Zt--;Pt(mt[_t],dt)<0;)_t++;for(;Pt(mt[Zt],dt)>0;)Zt--}0===Pt(mt[wt],dt)?Y(mt,wt,Zt):Y(mt,++Zt,q),Zt<=Ct&&(wt=Zt+1),Ct<=Zt&&(q=Zt-1)}}(X,et,W||0,it||X.length-1,V||tt)}function Y(X,et,W){var it=X[et];X[et]=X[W],X[W]=it}function tt(X,et){return X<et?-1:X>et?1:0}var J=function(X){void 0===X&&(X=9),this._maxEntries=Math.max(4,X),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(X,et,W){if(!W)return et.indexOf(X);for(var it=0;it<et.length;it++)if(W(X,et[it]))return it;return-1}function Z(X,et){G(X,0,X.children.length,et,X)}function G(X,et,W,it,V){V||(V=U(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var lt=et;lt<W;lt++){var mt=X.children[lt];O(V,X.leaf?it(mt):mt)}return V}function O(X,et){return X.minX=Math.min(X.minX,et.minX),X.minY=Math.min(X.minY,et.minY),X.maxX=Math.max(X.maxX,et.maxX),X.maxY=Math.max(X.maxY,et.maxY),X}function Q(X,et){return X.minX-et.minX}function at(X,et){return X.minY-et.minY}function ct(X){return(X.maxX-X.minX)*(X.maxY-X.minY)}function ot(X){return X.maxX-X.minX+(X.maxY-X.minY)}function $(X,et){return X.minX<=et.minX&&X.minY<=et.minY&&et.maxX<=X.maxX&&et.maxY<=X.maxY}function N(X,et){return et.minX<=X.maxX&&et.minY<=X.maxY&&et.maxX>=X.minX&&et.maxY>=X.minY}function U(X){return{children:X,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function bt(X,et,W,it,V){for(var lt=[et,W];lt.length;)if(!((W=lt.pop())-(et=lt.pop())<=it)){var mt=et+Math.ceil((W-et)/it/2)*it;se(X,mt,et,W,V),lt.push(et,mt,mt,W)}}return J.prototype.all=function(){return this._all(this.data,[])},J.prototype.search=function(X){var et=this.data,W=[];if(!N(X,et))return W;for(var it=this.toBBox,V=[];et;){for(var lt=0;lt<et.children.length;lt++){var mt=et.children[lt],Ct=et.leaf?it(mt):mt;N(X,Ct)&&(et.leaf?W.push(mt):$(X,Ct)?this._all(mt,W):V.push(mt))}et=V.pop()}return W},J.prototype.collides=function(X){var et=this.data;if(!N(X,et))return!1;for(var W=[];et;){for(var it=0;it<et.children.length;it++){var V=et.children[it],lt=et.leaf?this.toBBox(V):V;if(N(X,lt)){if(et.leaf||$(X,lt))return!0;W.push(V)}}et=W.pop()}return!1},J.prototype.load=function(X){if(!X||!X.length)return this;if(X.length<this._minEntries){for(var et=0;et<X.length;et++)this.insert(X[et]);return this}var W=this._build(X.slice(),0,X.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var it=this.data;this.data=W,W=it}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},J.prototype.insert=function(X){return X&&this._insert(X,this.data.height-1),this},J.prototype.clear=function(){return this.data=U([]),this},J.prototype.remove=function(X,et){if(!X)return this;for(var W,it,V,lt=this.data,mt=this.toBBox(X),Ct=[],wt=[];lt||Ct.length;){if(lt||(lt=Ct.pop(),it=Ct[Ct.length-1],W=wt.pop(),V=!0),lt.leaf){var q=F(X,lt.children,et);if(-1!==q)return lt.children.splice(q,1),Ct.push(lt),this._condense(Ct),this}V||lt.leaf||!$(lt,mt)?it?(W++,lt=it.children[W],V=!1):lt=null:(Ct.push(lt),wt.push(W),W=0,it=lt,lt=lt.children[0])}return this},J.prototype.toBBox=function(X){return X},J.prototype.compareMinX=function(X,et){return X.minX-et.minX},J.prototype.compareMinY=function(X,et){return X.minY-et.minY},J.prototype.toJSON=function(){return this.data},J.prototype.fromJSON=function(X){return this.data=X,this},J.prototype._all=function(X,et){for(var W=[];X;)X.leaf?et.push.apply(et,X.children):W.push.apply(W,X.children),X=W.pop();return et},J.prototype._build=function(X,et,W,it){var V,lt=W-et+1,mt=this._maxEntries;if(lt<=mt)return Z(V=U(X.slice(et,W+1)),this.toBBox),V;it||(it=Math.ceil(Math.log(lt)/Math.log(mt)),mt=Math.ceil(lt/Math.pow(mt,it-1))),(V=U([])).leaf=!1,V.height=it;var Ct=Math.ceil(lt/mt),wt=Ct*Math.ceil(Math.sqrt(mt));bt(X,et,W,wt,this.compareMinX);for(var q=et;q<=W;q+=wt){var Pt=Math.min(q+wt-1,W);bt(X,q,Pt,Ct,this.compareMinY);for(var Tt=q;Tt<=Pt;Tt+=Ct){var It=Math.min(Tt+Ct-1,Pt);V.children.push(this._build(X,Tt,It,it-1))}}return Z(V,this.toBBox),V},J.prototype._chooseSubtree=function(X,et,W,it){for(;it.push(et),!et.leaf&&it.length-1!==W;){for(var V=1/0,lt=1/0,mt=void 0,Ct=0;Ct<et.children.length;Ct++){var wt=et.children[Ct],q=ct(wt),Pt=(Tt=X,It=wt,(Math.max(It.maxX,Tt.maxX)-Math.min(It.minX,Tt.minX))*(Math.max(It.maxY,Tt.maxY)-Math.min(It.minY,Tt.minY))-q);Pt<lt?(lt=Pt,V=q<V?q:V,mt=wt):Pt===lt&&q<V&&(V=q,mt=wt)}et=mt||et.children[0]}var Tt,It;return et},J.prototype._insert=function(X,et,W){var it=W?X:this.toBBox(X),V=[],lt=this._chooseSubtree(it,this.data,et,V);for(lt.children.push(X),O(lt,it);et>=0&&V[et].children.length>this._maxEntries;)this._split(V,et),et--;this._adjustParentBBoxes(it,V,et)},J.prototype._split=function(X,et){var W=X[et],it=W.children.length,V=this._minEntries;this._chooseSplitAxis(W,V,it);var lt=this._chooseSplitIndex(W,V,it),mt=U(W.children.splice(lt,W.children.length-lt));mt.height=W.height,mt.leaf=W.leaf,Z(W,this.toBBox),Z(mt,this.toBBox),et?X[et-1].children.push(mt):this._splitRoot(W,mt)},J.prototype._splitRoot=function(X,et){this.data=U([X,et]),this.data.height=X.height+1,this.data.leaf=!1,Z(this.data,this.toBBox)},J.prototype._chooseSplitIndex=function(X,et,W){for(var it,V,lt,mt,Ct,wt,q,Pt=1/0,Tt=1/0,It=et;It<=W-et;It++){var ut=G(X,0,It,this.toBBox),ae=G(X,It,W,this.toBBox),ce=(V=ut,lt=ae,void 0,void 0,void 0,void 0,mt=Math.max(V.minX,lt.minX),Ct=Math.max(V.minY,lt.minY),wt=Math.min(V.maxX,lt.maxX),q=Math.min(V.maxY,lt.maxY),Math.max(0,wt-mt)*Math.max(0,q-Ct)),Et=ct(ut)+ct(ae);ce<Pt?(Pt=ce,it=It,Tt=Et<Tt?Et:Tt):ce===Pt&&Et<Tt&&(Tt=Et,it=It)}return it||W-et},J.prototype._chooseSplitAxis=function(X,et,W){var it=X.leaf?this.compareMinX:Q,V=X.leaf?this.compareMinY:at;this._allDistMargin(X,et,W,it)<this._allDistMargin(X,et,W,V)&&X.children.sort(it)},J.prototype._allDistMargin=function(X,et,W,it){X.children.sort(it);for(var V=this.toBBox,lt=G(X,0,et,V),mt=G(X,W-et,W,V),Ct=ot(lt)+ot(mt),wt=et;wt<W-et;wt++){var q=X.children[wt];O(lt,X.leaf?V(q):q),Ct+=ot(lt)}for(var Pt=W-et-1;Pt>=et;Pt--){var Tt=X.children[Pt];O(mt,X.leaf?V(Tt):Tt),Ct+=ot(mt)}return Ct},J.prototype._adjustParentBBoxes=function(X,et,W){for(var it=W;it>=0;it--)O(et[it],X)},J.prototype._condense=function(X){for(var et=X.length-1,W=void 0;et>=0;et--)0===X[et].children.length?et>0?(W=X[et-1].children).splice(W.indexOf(X[et]),1):this.clear():Z(X[et],this.toBBox)},J}()},3074:function(Xe,se,Y){!function(tt,J,F){"use strict";var G=function Z(it){if(it&&it.__esModule)return it;var V=Object.create(null);return it&&Object.keys(it).forEach(function(lt){if("default"!==lt){var mt=Object.getOwnPropertyDescriptor(it,lt);Object.defineProperty(V,lt,mt.get?mt:{enumerable:!0,get:function(){return it[lt]}})}}),V.default=it,Object.freeze(V)}(J);function O(it,V){for(var lt=0;lt<V.length;lt++){var mt=V[lt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function Q(it){if(void 0===it)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}function at(it,V){return(at=Object.setPrototypeOf||function(lt,mt){return lt.__proto__=mt,lt})(it,V)}function ct(it){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(it)}function $(it){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(it)}function N(it,V,lt){return V in it?Object.defineProperty(it,V,{value:lt,enumerable:!0,configurable:!0,writable:!0}):it[V]=lt,it}function U(it,V){var lt=Object.keys(it);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(it);V&&(mt=mt.filter(function(Ct){return Object.getOwnPropertyDescriptor(it,Ct).enumerable})),lt.push.apply(lt,mt)}return lt}function bt(it){for(var V=1;V<arguments.length;V++){var lt=null!=arguments[V]?arguments[V]:{};V%2?U(Object(lt),!0).forEach(function(mt){N(it,mt,lt[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(lt)):U(Object(lt)).forEach(function(mt){Object.defineProperty(it,mt,Object.getOwnPropertyDescriptor(lt,mt))})}return it}function X(it){return{longitude:it.getCenter().lng,latitude:it.getCenter().lat,zoom:it.getZoom()-1,pitch:0,bearing:0}}function et(it){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var lt,mt=$(it);if(V){var Ct=$(this).constructor;lt=Reflect.construct(mt,arguments,Ct)}else lt=mt.apply(this,arguments);return function ot(it,V){return!V||"object"!==ct(V)&&"function"!=typeof V?Q(it):V}(this,lt)}}var W=function(it){!function(q,Pt){if("function"!=typeof Pt&&null!==Pt)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Pt&&at(q,Pt)}(wt,it);var V,lt,Ct=et(wt);function wt(q){var Pt;return function(Tt,It){if(!(Tt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,wt),N(Q(Pt=Ct.call(this)),"_container",void 0),N(Q(Pt),"_deck",void 0),N(Q(Pt),"_animate",void 0),Pt.props=q,Pt}return V=wt,(lt=[{key:"onAdd",value:function(){return this._container=G.DomUtil.create("div"),this._container.className="leaflet-layer",this._zoomAnimated&&G.DomUtil.addClass(this._container,"leaflet-zoom-animated"),this.getPane().appendChild(this._container),this._deck=function(q,Pt,Tt,It){if(!Tt){var ut=X(q);Tt=new F.Deck(bt(bt({},It),{},{parent:Pt,controller:!1,style:{zIndex:"auto"},viewState:ut}))}return Tt}(this._map,this._container,this._deck,this.props),this._update(),this}},{key:"onRemove",value:function(q){return G.DomUtil.remove(this._container),this._container=void 0,this._deck.finalize(),this._deck=void 0,this}},{key:"getEvents",value:function(){var q={viewreset:this._reset,movestart:this._onMoveStart,moveend:this._onMoveEnd,zoomstart:this._onZoomStart,zoom:this._onZoom,zoomend:this._onZoomEnd};return this._zoomAnimated&&(q.zoomanim=this._onAnimZoom),q}},{key:"setProps",value:function(q){Object.assign(this.props,q),this._deck&&this._deck.setProps(q)}},{key:"pickObject",value:function(q){return this._deck&&this._deck.pickObject(q)}},{key:"pickMultipleObjects",value:function(q){return this._deck&&this._deck.pickMultipleObjects(q)}},{key:"pickObjects",value:function(q){return this._deck&&this._deck.pickObjects(q)}},{key:"_update",value:function(){if(!this._map._animatingZoom){var q=this._map.getSize();this._container.style.width="".concat(q.x,"px"),this._container.style.height="".concat(q.y,"px");var Pt,It,ut=this._map._getMapPanePos().multiplyBy(-1);G.DomUtil.setPosition(this._container,ut),Pt=this._deck,It=X(this._map),Pt.setProps({viewState:It}),Pt.redraw(!1)}}},{key:"_pauseAnimation",value:function(){this._deck.props._animate&&(this._animate=this._deck.props._animate,this._deck.setProps({_animate:!1}))}},{key:"_unpauseAnimation",value:function(){this._animate&&(this._deck.setProps({_animate:this._animate}),this._animate=void 0)}},{key:"_reset",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom()),this._update()}},{key:"_onMoveStart",value:function(){this._pauseAnimation()}},{key:"_onMoveEnd",value:function(){this._update(),this._unpauseAnimation()}},{key:"_onZoomStart",value:function(){this._pauseAnimation()}},{key:"_onAnimZoom",value:function(q){this._updateTransform(q.center,q.zoom)}},{key:"_onZoom",value:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())}},{key:"_onZoomEnd",value:function(){this._unpauseAnimation()}},{key:"_updateTransform",value:function(q,Pt){var Tt=this._map.getZoomScale(Pt,this._map.getZoom()),It=G.DomUtil.getPosition(this._container),ut=this._map.getSize().multiplyBy(.5),ae=this._map.project(this._map.getCenter(),Pt),ce=this._map.project(q,Pt).subtract(ae),Et=ut.multiplyBy(-Tt).add(It).add(ut).subtract(ce);G.Browser.any3d?G.DomUtil.setTransform(this._container,Et,Tt):G.DomUtil.setPosition(this._container,Et)}}])&&O(V.prototype,lt),wt}(G.Layer);tt.LeafletLayer=W,Object.defineProperty(tt,"__esModule",{value:!0})}(se,Y(8407),Y(7034))},6952:(Xe,se,Y)=>{var tt=Y(1356),J=Y(3407),F=Y(2e3),Z=Y(2342),G=Y(9235),O=Y(2374),Q=Date.prototype.getTime;function ct(N){return null==N}function ot(N){return!(!N||"object"!=typeof N||"number"!=typeof N.length||"function"!=typeof N.copy||"function"!=typeof N.slice||N.length>0&&"number"!=typeof N[0])}Xe.exports=function at(N,U,bt){var X=bt||{};return!!(X.strict?F(N,U):N===U)||(!N||!U||"object"!=typeof N&&"object"!=typeof U?X.strict?F(N,U):N==U:function $(N,U,bt){var X,et;if(typeof N!=typeof U||ct(N)||ct(U)||N.prototype!==U.prototype||J(N)!==J(U))return!1;var W=Z(N),it=Z(U);if(W!==it)return!1;if(W||it)return N.source===U.source&&G(N)===G(U);if(O(N)&&O(U))return Q.call(N)===Q.call(U);var V=ot(N),lt=ot(U);if(V!==lt)return!1;if(V||lt){if(N.length!==U.length)return!1;for(X=0;X<N.length;X++)if(N[X]!==U[X])return!1;return!0}if(typeof N!=typeof U)return!1;try{var mt=tt(N),Ct=tt(U)}catch{return!1}if(mt.length!==Ct.length)return!1;for(mt.sort(),Ct.sort(),X=mt.length-1;X>=0;X--)if(mt[X]!=Ct[X])return!1;for(X=mt.length-1;X>=0;X--)if(!at(N[et=mt[X]],U[et],bt))return!1;return!0}(N,U,X))}},2358:(Xe,se,Y)=>{"use strict";var tt=Y(1356),J="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),F=Object.prototype.toString,Z=Array.prototype.concat,G=Object.defineProperty,Q=Y(7027)(),at=G&&Q,ct=function($,N,U,bt){if(N in $)if(!0===bt){if($[N]===U)return}else if(!function($){return"function"==typeof $&&"[object Function]"===F.call($)}(bt)||!bt())return;at?G($,N,{configurable:!0,enumerable:!1,value:U,writable:!0}):$[N]=U},ot=function($,N){var U=arguments.length>2?arguments[2]:{},bt=tt(N);J&&(bt=Z.call(bt,Object.getOwnPropertySymbols(N)));for(var X=0;X<bt.length;X+=1)ct($,bt[X],N[bt[X]],U[bt[X]])};ot.supportsDescriptors=!!at,Xe.exports=ot},1817:Xe=>{function se(Y,tt,J,F){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(Y,tt,J,F)}se.prototype.run=function(Y,tt,J,F){this._init(Y,tt,J,F);for(var Z=0;Z<this._datasetLength;Z++)if(1!==this._visited[Z]){this._visited[Z]=1;var G=this._regionQuery(Z);if(G.length<this.minPts)this.noise.push(Z);else{var O=this.clusters.length;this.clusters.push([]),this._addToCluster(Z,O),this._expandCluster(O,G)}}return this.clusters},se.prototype._init=function(Y,tt,J,F){if(Y){if(!(Y instanceof Array))throw Error("Dataset must be of type array, "+typeof Y+" given");this.dataset=Y,this.clusters=[],this.noise=[],this._datasetLength=Y.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}tt&&(this.epsilon=tt),J&&(this.minPts=J),F&&(this.distance=F)},se.prototype._expandCluster=function(Y,tt){for(var J=0;J<tt.length;J++){var F=tt[J];if(1!==this._visited[F]){this._visited[F]=1;var Z=this._regionQuery(F);Z.length>=this.minPts&&(tt=this._mergeArrays(tt,Z))}1!==this._assigned[F]&&this._addToCluster(F,Y)}},se.prototype._addToCluster=function(Y,tt){this.clusters[tt].push(Y),this._assigned[Y]=1},se.prototype._regionQuery=function(Y){for(var tt=[],J=0;J<this._datasetLength;J++)this.distance(this.dataset[Y],this.dataset[J])<this.epsilon&&tt.push(J);return tt},se.prototype._mergeArrays=function(Y,tt){for(var J=tt.length,F=0;F<J;F++){var Z=tt[F];Y.indexOf(Z)<0&&Y.push(Z)}return Y},se.prototype._euclideanDistance=function(Y,tt){for(var J=0,F=Math.min(Y.length,tt.length);F--;)J+=(Y[F]-tt[F])*(Y[F]-tt[F]);return Math.sqrt(J)},Xe.exports&&(Xe.exports=se)},4273:Xe=>{function se(Y,tt,J){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(Y,tt,J)}se.prototype.init=function(Y,tt,J){this.assignments=[],this.centroids=[],typeof Y<"u"&&(this.dataset=Y),typeof tt<"u"&&(this.k=tt),typeof J<"u"&&(this.distance=J)},se.prototype.run=function(Y,tt){this.init(Y,tt);for(var J=this.dataset.length,F=0;F<this.k;F++)this.centroids[F]=this.randomCentroid();for(var Z=!0;Z;){Z=this.assign();for(var G=0;G<this.k;G++){for(var O=new Array(ot),Q=0,at=0;at<ot;at++)O[at]=0;for(var ct=0;ct<J;ct++){var ot=this.dataset[ct].length;if(G===this.assignments[ct]){for(at=0;at<ot;at++)O[at]+=this.dataset[ct][at];Q++}}if(Q>0){for(at=0;at<ot;at++)O[at]/=Q;this.centroids[G]=O}else this.centroids[G]=this.randomCentroid(),Z=!0}}return this.getClusters()},se.prototype.randomCentroid=function(){var tt,J,Y=this.dataset.length-1;do{J=Math.round(Math.random()*Y),tt=this.dataset[J]}while(this.centroids.indexOf(tt)>=0);return tt},se.prototype.assign=function(){for(var J,Y=!1,tt=this.dataset.length,F=0;F<tt;F++)(J=this.argmin(this.dataset[F],this.centroids,this.distance))!=this.assignments[F]&&(this.assignments[F]=J,Y=!0);return Y},se.prototype.getClusters=function(){for(var tt,Y=new Array(this.k),J=0;J<this.assignments.length;J++)typeof Y[tt=this.assignments[J]]>"u"&&(Y[tt]=[]),Y[tt].push(J);return Y},se.prototype.argmin=function(Y,tt,J){for(var O,F=Number.MAX_VALUE,Z=0,G=tt.length,Q=0;Q<G;Q++)(O=J(Y,tt[Q]))<F&&(F=O,Z=Q);return Z},se.prototype.distance=function(Y,tt){for(var J=0,F=Math.min(Y.length,tt.length);F--;){var Z=Y[F]-tt[F];J+=Z*Z}return Math.sqrt(J)},Xe.exports&&(Xe.exports=se)},8680:(Xe,se,Y)=>{if(Xe.exports)var tt=Y(8759);function J(F,Z,G,O){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(F,Z,G,O)}J.prototype.run=function(F,Z,G,O){this._init(F,Z,G,O);for(var Q=0,at=this.dataset.length;Q<at;Q++)if(1!==this._processed[Q]){this._processed[Q]=1,this.clusters.push([Q]);var ct=this.clusters.length-1;this._orderedList.push(Q);var ot=new tt(null,null,"asc"),$=this._regionQuery(Q);void 0!==this._distanceToCore(Q)&&(this._updateQueue(Q,$,ot),this._expandCluster(ct,ot))}return this.clusters},J.prototype.getReachabilityPlot=function(){for(var F=[],Z=0,G=this._orderedList.length;Z<G;Z++){var O=this._orderedList[Z];F.push([O,this._reachability[O]])}return F},J.prototype._init=function(F,Z,G,O){if(F){if(!(F instanceof Array))throw Error("Dataset must be of type array, "+typeof F+" given");this.dataset=F,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}Z&&(this.epsilon=Z),G&&(this.minPts=G),O&&(this.distance=O)},J.prototype._updateQueue=function(F,Z,G){var O=this;this._coreDistance=this._distanceToCore(F),Z.forEach(function(Q){if(void 0===O._processed[Q]){var at=O.distance(O.dataset[F],O.dataset[Q]),ct=Math.max(O._coreDistance,at);void 0===O._reachability[Q]?(O._reachability[Q]=ct,G.insert(Q,ct)):ct<O._reachability[Q]&&(O._reachability[Q]=ct,G.remove(Q),G.insert(Q,ct))}})},J.prototype._expandCluster=function(F,Z){for(var G=Z.getElements(),O=0,Q=G.length;O<Q;O++){var at=G[O];if(void 0===this._processed[at]){var ct=this._regionQuery(at);this._processed[at]=1,this.clusters[F].push(at),this._orderedList.push(at),void 0!==this._distanceToCore(at)&&(this._updateQueue(at,ct,Z),this._expandCluster(F,Z))}}},J.prototype._distanceToCore=function(F){for(var Z=this.epsilon,G=0;G<Z;G++)if(this._regionQuery(F,G).length>=this.minPts)return G},J.prototype._regionQuery=function(F,Z){Z=Z||this.epsilon;for(var G=[],O=0,Q=this.dataset.length;O<Q;O++)this.distance(this.dataset[F],this.dataset[O])<Z&&G.push(O);return G},J.prototype._euclideanDistance=function(F,Z){for(var G=0,O=Math.min(F.length,Z.length);O--;)G+=(F[O]-Z[O])*(F[O]-Z[O]);return Math.sqrt(G)},Xe.exports&&(Xe.exports=J)},8759:Xe=>{function se(Y,tt,J){this._queue=[],this._priorities=[],this._sorting="desc",this._init(Y,tt,J)}se.prototype.insert=function(Y,tt){for(var J=this._queue.length,F=J;F--;){var Z=this._priorities[F];"desc"===this._sorting?tt>Z&&(J=F):tt<Z&&(J=F)}this._insertAt(Y,tt,J)},se.prototype.remove=function(Y){for(var tt=this._queue.length;tt--;)if(Y===this._queue[tt]){this._queue.splice(tt,1),this._priorities.splice(tt,1);break}},se.prototype.forEach=function(Y){this._queue.forEach(Y)},se.prototype.getElements=function(){return this._queue},se.prototype.getElementPriority=function(Y){return this._priorities[Y]},se.prototype.getPriorities=function(){return this._priorities},se.prototype.getElementsWithPriorities=function(){for(var Y=[],tt=0,J=this._queue.length;tt<J;tt++)Y.push([this._queue[tt],this._priorities[tt]]);return Y},se.prototype._init=function(Y,tt,J){if(Y&&tt){if(this._queue=[],this._priorities=[],Y.length!==tt.length)throw new Error("Arrays must have the same length");for(var F=0;F<Y.length;F++)this.insert(Y[F],tt[F])}J&&(this._sorting=J)},se.prototype._insertAt=function(Y,tt,J){this._queue.length===J?(this._queue.push(Y),this._priorities.push(tt)):(this._queue.splice(J,0,Y),this._priorities.splice(J,0,tt))},Xe.exports&&(Xe.exports=se)},7470:(Xe,se,Y)=>{Xe.exports&&(Xe.exports={DBSCAN:Y(1817),KMEANS:Y(4273),OPTICS:Y(8680),PriorityQueue:Y(8759)})},5469:Xe=>{"use strict";function se(Et,vt,dt){dt=dt||2;var Wt,qt,pe,Ne,Le,re,Me,_t=vt&&vt.length,Zt=_t?vt[0]*dt:Et.length,Ft=Y(Et,0,Zt,dt,!0),Ee=[];if(!Ft||Ft.next===Ft.prev)return Ee;if(_t&&(Ft=function Q(Et,vt,dt,_t){var Ft,Ee,pe,Zt=[];for(Ft=0,Ee=vt.length;Ft<Ee;Ft++)(pe=Y(Et,vt[Ft]*_t,Ft<Ee-1?vt[Ft+1]*_t:Et.length,_t,!1))===pe.next&&(pe.steiner=!0),Zt.push(X(pe));for(Zt.sort(at),Ft=0;Ft<Zt.length;Ft++)dt=ct(Zt[Ft],dt);return dt}(Et,vt,Ft,dt)),Et.length>80*dt){Wt=pe=Et[0],qt=Ne=Et[1];for(var le=dt;le<Zt;le+=dt)(Le=Et[le])<Wt&&(Wt=Le),(re=Et[le+1])<qt&&(qt=re),Le>pe&&(pe=Le),re>Ne&&(Ne=re);Me=0!==(Me=Math.max(pe-Wt,Ne-qt))?32767/Me:0}return J(Ft,Ee,dt,Wt,qt,Me,0),Ee}function Y(Et,vt,dt,_t,Zt){var Ft,Ee;if(Zt===ce(Et,vt,dt,_t)>0)for(Ft=vt;Ft<dt;Ft+=_t)Ee=It(Ft,Et[Ft],Et[Ft+1],Ee);else for(Ft=dt-_t;Ft>=vt;Ft-=_t)Ee=It(Ft,Et[Ft],Et[Ft+1],Ee);return Ee&&V(Ee,Ee.next)&&(ut(Ee),Ee=Ee.next),Ee}function tt(Et,vt){if(!Et)return Et;vt||(vt=Et);var _t,dt=Et;do{if(_t=!1,dt.steiner||!V(dt,dt.next)&&0!==it(dt.prev,dt,dt.next))dt=dt.next;else{if(ut(dt),(dt=vt=dt.prev)===dt.next)break;_t=!0}}while(_t||dt!==vt);return vt}function J(Et,vt,dt,_t,Zt,Ft,Ee){if(Et){!Ee&&Ft&&function N(Et,vt,dt,_t){var Zt=Et;do{0===Zt.z&&(Zt.z=bt(Zt.x,Zt.y,vt,dt,_t)),Zt.prevZ=Zt.prev,Zt.nextZ=Zt.next,Zt=Zt.next}while(Zt!==Et);Zt.prevZ.nextZ=null,Zt.prevZ=null,function U(Et){var vt,dt,_t,Zt,Ft,Ee,Wt,qt,pe=1;do{for(dt=Et,Et=null,Ft=null,Ee=0;dt;){for(Ee++,_t=dt,Wt=0,vt=0;vt<pe&&(Wt++,_t=_t.nextZ);vt++);for(qt=pe;Wt>0||qt>0&&_t;)0!==Wt&&(0===qt||!_t||dt.z<=_t.z)?(Zt=dt,dt=dt.nextZ,Wt--):(Zt=_t,_t=_t.nextZ,qt--),Ft?Ft.nextZ=Zt:Et=Zt,Zt.prevZ=Ft,Ft=Zt;dt=_t}Ft.nextZ=null,pe*=2}while(Ee>1)}(Zt)}(Et,_t,Zt,Ft);for(var qt,pe,Wt=Et;Et.prev!==Et.next;)if(qt=Et.prev,pe=Et.next,Ft?Z(Et,_t,Zt,Ft):F(Et))vt.push(qt.i/dt|0),vt.push(Et.i/dt|0),vt.push(pe.i/dt|0),ut(Et),Et=pe.next,Wt=pe.next;else if((Et=pe)===Wt){Ee?1===Ee?J(Et=G(tt(Et),vt,dt),vt,dt,_t,Zt,Ft,2):2===Ee&&O(Et,vt,dt,_t,Zt,Ft):J(tt(Et),vt,dt,_t,Zt,Ft,1);break}}}function F(Et){var vt=Et.prev,dt=Et,_t=Et.next;if(it(vt,dt,_t)>=0)return!1;for(var Zt=vt.x,Ft=dt.x,Ee=_t.x,Wt=vt.y,qt=dt.y,pe=_t.y,Ne=Zt<Ft?Zt<Ee?Zt:Ee:Ft<Ee?Ft:Ee,Le=Wt<qt?Wt<pe?Wt:pe:qt<pe?qt:pe,re=Zt>Ft?Zt>Ee?Zt:Ee:Ft>Ee?Ft:Ee,Me=Wt>qt?Wt>pe?Wt:pe:qt>pe?qt:pe,le=_t.next;le!==vt;){if(le.x>=Ne&&le.x<=re&&le.y>=Le&&le.y<=Me&&et(Zt,Wt,Ft,qt,Ee,pe,le.x,le.y)&&it(le.prev,le,le.next)>=0)return!1;le=le.next}return!0}function Z(Et,vt,dt,_t){var Zt=Et.prev,Ft=Et,Ee=Et.next;if(it(Zt,Ft,Ee)>=0)return!1;for(var Wt=Zt.x,qt=Ft.x,pe=Ee.x,Ne=Zt.y,Le=Ft.y,re=Ee.y,Me=Wt<qt?Wt<pe?Wt:pe:qt<pe?qt:pe,le=Ne<Le?Ne<re?Ne:re:Le<re?Le:re,Dt=Wt>qt?Wt>pe?Wt:pe:qt>pe?qt:pe,Ht=Ne>Le?Ne>re?Ne:re:Le>re?Le:re,jt=bt(Me,le,vt,dt,_t),Ut=bt(Dt,Ht,vt,dt,_t),gt=Et.prevZ,At=Et.nextZ;gt&&gt.z>=jt&&At&&At.z<=Ut;){if(gt.x>=Me&&gt.x<=Dt&&gt.y>=le&&gt.y<=Ht&&gt!==Zt&&gt!==Ee&&et(Wt,Ne,qt,Le,pe,re,gt.x,gt.y)&&it(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,At.x>=Me&&At.x<=Dt&&At.y>=le&&At.y<=Ht&&At!==Zt&&At!==Ee&&et(Wt,Ne,qt,Le,pe,re,At.x,At.y)&&it(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;gt&&gt.z>=jt;){if(gt.x>=Me&&gt.x<=Dt&&gt.y>=le&&gt.y<=Ht&&gt!==Zt&&gt!==Ee&&et(Wt,Ne,qt,Le,pe,re,gt.x,gt.y)&&it(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;At&&At.z<=Ut;){if(At.x>=Me&&At.x<=Dt&&At.y>=le&&At.y<=Ht&&At!==Zt&&At!==Ee&&et(Wt,Ne,qt,Le,pe,re,At.x,At.y)&&it(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function G(Et,vt,dt){var _t=Et;do{var Zt=_t.prev,Ft=_t.next.next;!V(Zt,Ft)&&lt(Zt,_t,_t.next,Ft)&&q(Zt,Ft)&&q(Ft,Zt)&&(vt.push(Zt.i/dt|0),vt.push(_t.i/dt|0),vt.push(Ft.i/dt|0),ut(_t),ut(_t.next),_t=Et=Ft),_t=_t.next}while(_t!==Et);return tt(_t)}function O(Et,vt,dt,_t,Zt,Ft){var Ee=Et;do{for(var Wt=Ee.next.next;Wt!==Ee.prev;){if(Ee.i!==Wt.i&&W(Ee,Wt)){var qt=Tt(Ee,Wt);return Ee=tt(Ee,Ee.next),qt=tt(qt,qt.next),J(Ee,vt,dt,_t,Zt,Ft,0),void J(qt,vt,dt,_t,Zt,Ft,0)}Wt=Wt.next}Ee=Ee.next}while(Ee!==Et)}function at(Et,vt){return Et.x-vt.x}function ct(Et,vt){var dt=function ot(Et,vt){var Ee,dt=vt,_t=Et.x,Zt=Et.y,Ft=-1/0;do{if(Zt<=dt.y&&Zt>=dt.next.y&&dt.next.y!==dt.y){var Wt=dt.x+(Zt-dt.y)*(dt.next.x-dt.x)/(dt.next.y-dt.y);if(Wt<=_t&&Wt>Ft&&(Ft=Wt,Ee=dt.x<dt.next.x?dt:dt.next,Wt===_t))return Ee}dt=dt.next}while(dt!==vt);if(!Ee)return null;var re,qt=Ee,pe=Ee.x,Ne=Ee.y,Le=1/0;dt=Ee;do{_t>=dt.x&&dt.x>=pe&&_t!==dt.x&&et(Zt<Ne?_t:Ft,Zt,pe,Ne,Zt<Ne?Ft:_t,Zt,dt.x,dt.y)&&(re=Math.abs(Zt-dt.y)/(_t-dt.x),q(dt,Et)&&(re<Le||re===Le&&(dt.x>Ee.x||dt.x===Ee.x&&$(Ee,dt)))&&(Ee=dt,Le=re)),dt=dt.next}while(dt!==qt);return Ee}(Et,vt);if(!dt)return vt;var _t=Tt(dt,Et);return tt(_t,_t.next),tt(dt,dt.next)}function $(Et,vt){return it(Et.prev,Et,vt.prev)<0&&it(vt.next,Et,Et.next)<0}function bt(Et,vt,dt,_t,Zt){return(Et=1431655765&((Et=858993459&((Et=252645135&((Et=16711935&((Et=(Et-dt)*Zt|0)|Et<<8))|Et<<4))|Et<<2))|Et<<1))|(vt=1431655765&((vt=858993459&((vt=252645135&((vt=16711935&((vt=(vt-_t)*Zt|0)|vt<<8))|vt<<4))|vt<<2))|vt<<1))<<1}function X(Et){var vt=Et,dt=Et;do{(vt.x<dt.x||vt.x===dt.x&&vt.y<dt.y)&&(dt=vt),vt=vt.next}while(vt!==Et);return dt}function et(Et,vt,dt,_t,Zt,Ft,Ee,Wt){return(Zt-Ee)*(vt-Wt)>=(Et-Ee)*(Ft-Wt)&&(Et-Ee)*(_t-Wt)>=(dt-Ee)*(vt-Wt)&&(dt-Ee)*(Ft-Wt)>=(Zt-Ee)*(_t-Wt)}function W(Et,vt){return Et.next.i!==vt.i&&Et.prev.i!==vt.i&&!function wt(Et,vt){var dt=Et;do{if(dt.i!==Et.i&&dt.next.i!==Et.i&&dt.i!==vt.i&&dt.next.i!==vt.i&&lt(dt,dt.next,Et,vt))return!0;dt=dt.next}while(dt!==Et);return!1}(Et,vt)&&(q(Et,vt)&&q(vt,Et)&&function Pt(Et,vt){var dt=Et,_t=!1,Zt=(Et.x+vt.x)/2,Ft=(Et.y+vt.y)/2;do{dt.y>Ft!=dt.next.y>Ft&&dt.next.y!==dt.y&&Zt<(dt.next.x-dt.x)*(Ft-dt.y)/(dt.next.y-dt.y)+dt.x&&(_t=!_t),dt=dt.next}while(dt!==Et);return _t}(Et,vt)&&(it(Et.prev,Et,vt.prev)||it(Et,vt.prev,vt))||V(Et,vt)&&it(Et.prev,Et,Et.next)>0&&it(vt.prev,vt,vt.next)>0)}function it(Et,vt,dt){return(vt.y-Et.y)*(dt.x-vt.x)-(vt.x-Et.x)*(dt.y-vt.y)}function V(Et,vt){return Et.x===vt.x&&Et.y===vt.y}function lt(Et,vt,dt,_t){var Zt=Ct(it(Et,vt,dt)),Ft=Ct(it(Et,vt,_t)),Ee=Ct(it(dt,_t,Et)),Wt=Ct(it(dt,_t,vt));return!!(Zt!==Ft&&Ee!==Wt||0===Zt&&mt(Et,dt,vt)||0===Ft&&mt(Et,_t,vt)||0===Ee&&mt(dt,Et,_t)||0===Wt&&mt(dt,vt,_t))}function mt(Et,vt,dt){return vt.x<=Math.max(Et.x,dt.x)&&vt.x>=Math.min(Et.x,dt.x)&&vt.y<=Math.max(Et.y,dt.y)&&vt.y>=Math.min(Et.y,dt.y)}function Ct(Et){return Et>0?1:Et<0?-1:0}function q(Et,vt){return it(Et.prev,Et,Et.next)<0?it(Et,vt,Et.next)>=0&&it(Et,Et.prev,vt)>=0:it(Et,vt,Et.prev)<0||it(Et,Et.next,vt)<0}function Tt(Et,vt){var dt=new ae(Et.i,Et.x,Et.y),_t=new ae(vt.i,vt.x,vt.y),Zt=Et.next,Ft=vt.prev;return Et.next=vt,vt.prev=Et,dt.next=Zt,Zt.prev=dt,_t.next=dt,dt.prev=_t,Ft.next=_t,_t.prev=Ft,_t}function It(Et,vt,dt,_t){var Zt=new ae(Et,vt,dt);return _t?(Zt.next=_t.next,Zt.prev=_t,_t.next.prev=Zt,_t.next=Zt):(Zt.prev=Zt,Zt.next=Zt),Zt}function ut(Et){Et.next.prev=Et.prev,Et.prev.next=Et.next,Et.prevZ&&(Et.prevZ.nextZ=Et.nextZ),Et.nextZ&&(Et.nextZ.prevZ=Et.prevZ)}function ae(Et,vt,dt){this.i=Et,this.x=vt,this.y=dt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ce(Et,vt,dt,_t){for(var Zt=0,Ft=vt,Ee=dt-_t;Ft<dt;Ft+=_t)Zt+=(Et[Ee]-Et[Ft])*(Et[Ft+1]+Et[Ee+1]),Ee=Ft;return Zt}Xe.exports=se,Xe.exports.default=se,se.deviation=function(Et,vt,dt,_t){var Zt=vt&&vt.length,Ee=Math.abs(ce(Et,0,Zt?vt[0]*dt:Et.length,dt));if(Zt)for(var Wt=0,qt=vt.length;Wt<qt;Wt++)Ee-=Math.abs(ce(Et,vt[Wt]*dt,Wt<qt-1?vt[Wt+1]*dt:Et.length,dt));var Le=0;for(Wt=0;Wt<_t.length;Wt+=3){var re=_t[Wt]*dt,Me=_t[Wt+1]*dt,le=_t[Wt+2]*dt;Le+=Math.abs((Et[re]-Et[le])*(Et[Me+1]-Et[re+1])-(Et[re]-Et[Me])*(Et[le+1]-Et[re+1]))}return 0===Ee&&0===Le?0:Math.abs((Le-Ee)/Ee)},se.flatten=function(Et){for(var vt=Et[0][0].length,dt={vertices:[],holes:[],dimensions:vt},_t=0,Zt=0;Zt<Et.length;Zt++){for(var Ft=0;Ft<Et[Zt].length;Ft++)for(var Ee=0;Ee<vt;Ee++)dt.vertices.push(Et[Zt][Ft][Ee]);Zt>0&&dt.holes.push(_t+=Et[Zt-1].length)}return dt}},3457:Xe=>{"use strict";var se="Function.prototype.bind called on incompatible ",Y=Array.prototype.slice,tt=Object.prototype.toString,J="[object Function]";Xe.exports=function(Z){var G=this;if("function"!=typeof G||tt.call(G)!==J)throw new TypeError(se+G);for(var Q,O=Y.call(arguments,1),ct=Math.max(0,G.length-O.length),ot=[],$=0;$<ct;$++)ot.push("$"+$);if(Q=Function("binder","return function ("+ot.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Q){var U=G.apply(this,O.concat(Y.call(arguments)));return Object(U)===U?U:this}return G.apply(Z,O.concat(Y.call(arguments)))}),G.prototype){var N=function(){};N.prototype=G.prototype,Q.prototype=new N,N.prototype=null}return Q}},4444:(Xe,se,Y)=>{"use strict";var tt=Y(3457);Xe.exports=Function.prototype.bind||tt},9582:Xe=>{"use strict";var se=function(){return"string"==typeof function(){}.name},Y=Object.getOwnPropertyDescriptor;if(Y)try{Y([],"length")}catch{Y=null}se.functionsHaveConfigurableNames=function(){if(!se()||!Y)return!1;var F=Y(function(){},"name");return!!F&&!!F.configurable};var tt=Function.prototype.bind;se.boundFunctionsHaveNames=function(){return se()&&"function"==typeof tt&&""!==function(){}.bind().name},Xe.exports=se},5013:(Xe,se,Y)=>{var tt=Y(6952),J=function(O){this.precision=O&&O.precision?O.precision:17,this.direction=!(!O||!O.direction)&&O.direction,this.pseudoNode=!(!O||!O.pseudoNode)&&O.pseudoNode,this.objectComparator=O&&O.objectComparator?O.objectComparator:G};function F(O){return O.coordinates.map(function(Q){return{type:O.type.replace("Multi",""),coordinates:Q}})}function Z(O,Q){return O.hasOwnProperty("coordinates")?O.coordinates.length===Q.coordinates.length:O.length===Q.length}function G(O,Q){return tt(O,Q,{strict:!0})}J.prototype.compare=function(O,Q){if(O.type!==Q.type||!Z(O,Q))return!1;switch(O.type){case"Point":return this.compareCoord(O.coordinates,Q.coordinates);case"LineString":return this.compareLine(O.coordinates,Q.coordinates,0,!1);case"Polygon":return this.comparePolygon(O,Q);case"Feature":return this.compareFeature(O,Q);default:if(0===O.type.indexOf("Multi")){var at=this,ct=F(O),ot=F(Q);return ct.every(function($){return this.some(function(N){return at.compare($,N)})},ot)}}return!1},J.prototype.compareCoord=function(O,Q){if(O.length!==Q.length)return!1;for(var at=0;at<O.length;at++)if(O[at].toFixed(this.precision)!==Q[at].toFixed(this.precision))return!1;return!0},J.prototype.compareLine=function(O,Q,at,ct){if(!Z(O,Q))return!1;var ot=this.pseudoNode?O:this.removePseudo(O),$=this.pseudoNode?Q:this.removePseudo(Q);if(!ct||this.compareCoord(ot[0],$[0])||($=this.fixStartIndex($,ot))){var N=this.compareCoord(ot[at],$[at]);return this.direction||N?this.comparePath(ot,$):!!this.compareCoord(ot[at],$[$.length-(1+at)])&&this.comparePath(ot.slice().reverse(),$)}},J.prototype.fixStartIndex=function(O,Q){for(var at,ct=-1,ot=0;ot<O.length;ot++)if(this.compareCoord(O[ot],Q[0])){ct=ot;break}return ct>=0&&(at=[].concat(O.slice(ct,O.length),O.slice(1,ct+1))),at},J.prototype.comparePath=function(O,Q){var at=this;return O.every(function(ct,ot){return at.compareCoord(ct,this[ot])},Q)},J.prototype.comparePolygon=function(O,Q){if(this.compareLine(O.coordinates[0],Q.coordinates[0],1,!0)){var at=O.coordinates.slice(1,O.coordinates.length),ct=Q.coordinates.slice(1,Q.coordinates.length),ot=this;return at.every(function($){return this.some(function(N){return ot.compareLine($,N,1,!0)})},ct)}return!1},J.prototype.compareFeature=function(O,Q){return!(O.id!==Q.id||!this.objectComparator(O.properties,Q.properties)||!this.compareBBox(O,Q))&&this.compare(O.geometry,Q.geometry)},J.prototype.compareBBox=function(O,Q){return!!(!O.bbox&&!Q.bbox||O.bbox&&Q.bbox&&this.compareCoord(O.bbox,Q.bbox))},J.prototype.removePseudo=function(O){return O},Xe.exports=J},5406:(Xe,se,Y)=>{var tt=Y(7192),J=Y(8275),F=Y(3269),Z=Y(1503).Z,G=F.featureEach,at=J.featureCollection;function ct(ot){var $=new tt(ot);return $.insert=function(N){if("Feature"!==N.type)throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:Z(N),tt.prototype.insert.call(this,N)},$.load=function(N){var U=[];return Array.isArray(N)?N.forEach(function(bt){if("Feature"!==bt.type)throw new Error("invalid features");bt.bbox=bt.bbox?bt.bbox:Z(bt),U.push(bt)}):G(N,function(bt){if("Feature"!==bt.type)throw new Error("invalid features");bt.bbox=bt.bbox?bt.bbox:Z(bt),U.push(bt)}),tt.prototype.load.call(this,U)},$.remove=function(N,U){if("Feature"!==N.type)throw new Error("invalid feature");return N.bbox=N.bbox?N.bbox:Z(N),tt.prototype.remove.call(this,N,U)},$.clear=function(){return tt.prototype.clear.call(this)},$.search=function(N){var U=tt.prototype.search.call(this,this.toBBox(N));return at(U)},$.collides=function(N){return tt.prototype.collides.call(this,this.toBBox(N))},$.all=function(){var N=tt.prototype.all.call(this);return at(N)},$.toJSON=function(){return tt.prototype.toJSON.call(this)},$.fromJSON=function(N){return tt.prototype.fromJSON.call(this,N)},$.toBBox=function(N){var U;if(N.bbox)U=N.bbox;else if(Array.isArray(N)&&4===N.length)U=N;else if(Array.isArray(N)&&6===N.length)U=[N[0],N[1],N[3],N[4]];else if("Feature"===N.type)U=Z(N);else{if("FeatureCollection"!==N.type)throw new Error("invalid geojson");U=Z(N)}return{minX:U[0],minY:U[1],maxX:U[2],maxY:U[3]}},$}Xe.exports=ct,Xe.exports.default=ct},7192:function(Xe){Xe.exports=function(){"use strict";function se(X,et,W,it,V){!function lt(mt,Ct,wt,q,Pt){for(;q>wt;){if(q-wt>600){var Tt=q-wt+1,It=Ct-wt+1,ut=Math.log(Tt),ae=.5*Math.exp(2*ut/3),ce=.5*Math.sqrt(ut*ae*(Tt-ae)/Tt)*(It-Tt/2<0?-1:1);lt(mt,Ct,Math.max(wt,Math.floor(Ct-It*ae/Tt+ce)),Math.min(q,Math.floor(Ct+(Tt-It)*ae/Tt+ce)),Pt)}var dt=mt[Ct],_t=wt,Zt=q;for(Y(mt,wt,Ct),Pt(mt[q],dt)>0&&Y(mt,wt,q);_t<Zt;){for(Y(mt,_t,Zt),_t++,Zt--;Pt(mt[_t],dt)<0;)_t++;for(;Pt(mt[Zt],dt)>0;)Zt--}0===Pt(mt[wt],dt)?Y(mt,wt,Zt):Y(mt,++Zt,q),Zt<=Ct&&(wt=Zt+1),Ct<=Zt&&(q=Zt-1)}}(X,et,W||0,it||X.length-1,V||tt)}function Y(X,et,W){var it=X[et];X[et]=X[W],X[W]=it}function tt(X,et){return X<et?-1:X>et?1:0}var J=function(X){void 0===X&&(X=9),this._maxEntries=Math.max(4,X),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function F(X,et,W){if(!W)return et.indexOf(X);for(var it=0;it<et.length;it++)if(W(X,et[it]))return it;return-1}function Z(X,et){G(X,0,X.children.length,et,X)}function G(X,et,W,it,V){V||(V=U(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var lt=et;lt<W;lt++){var mt=X.children[lt];O(V,X.leaf?it(mt):mt)}return V}function O(X,et){return X.minX=Math.min(X.minX,et.minX),X.minY=Math.min(X.minY,et.minY),X.maxX=Math.max(X.maxX,et.maxX),X.maxY=Math.max(X.maxY,et.maxY),X}function Q(X,et){return X.minX-et.minX}function at(X,et){return X.minY-et.minY}function ct(X){return(X.maxX-X.minX)*(X.maxY-X.minY)}function ot(X){return X.maxX-X.minX+(X.maxY-X.minY)}function $(X,et){return X.minX<=et.minX&&X.minY<=et.minY&&et.maxX<=X.maxX&&et.maxY<=X.maxY}function N(X,et){return et.minX<=X.maxX&&et.minY<=X.maxY&&et.maxX>=X.minX&&et.maxY>=X.minY}function U(X){return{children:X,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function bt(X,et,W,it,V){for(var lt=[et,W];lt.length;)if(!((W=lt.pop())-(et=lt.pop())<=it)){var mt=et+Math.ceil((W-et)/it/2)*it;se(X,mt,et,W,V),lt.push(et,mt,mt,W)}}return J.prototype.all=function(){return this._all(this.data,[])},J.prototype.search=function(X){var et=this.data,W=[];if(!N(X,et))return W;for(var it=this.toBBox,V=[];et;){for(var lt=0;lt<et.children.length;lt++){var mt=et.children[lt],Ct=et.leaf?it(mt):mt;N(X,Ct)&&(et.leaf?W.push(mt):$(X,Ct)?this._all(mt,W):V.push(mt))}et=V.pop()}return W},J.prototype.collides=function(X){var et=this.data;if(!N(X,et))return!1;for(var W=[];et;){for(var it=0;it<et.children.length;it++){var V=et.children[it],lt=et.leaf?this.toBBox(V):V;if(N(X,lt)){if(et.leaf||$(X,lt))return!0;W.push(V)}}et=W.pop()}return!1},J.prototype.load=function(X){if(!X||!X.length)return this;if(X.length<this._minEntries){for(var et=0;et<X.length;et++)this.insert(X[et]);return this}var W=this._build(X.slice(),0,X.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var it=this.data;this.data=W,W=it}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},J.prototype.insert=function(X){return X&&this._insert(X,this.data.height-1),this},J.prototype.clear=function(){return this.data=U([]),this},J.prototype.remove=function(X,et){if(!X)return this;for(var W,it,V,lt=this.data,mt=this.toBBox(X),Ct=[],wt=[];lt||Ct.length;){if(lt||(lt=Ct.pop(),it=Ct[Ct.length-1],W=wt.pop(),V=!0),lt.leaf){var q=F(X,lt.children,et);if(-1!==q)return lt.children.splice(q,1),Ct.push(lt),this._condense(Ct),this}V||lt.leaf||!$(lt,mt)?it?(W++,lt=it.children[W],V=!1):lt=null:(Ct.push(lt),wt.push(W),W=0,it=lt,lt=lt.children[0])}return this},J.prototype.toBBox=function(X){return X},J.prototype.compareMinX=function(X,et){return X.minX-et.minX},J.prototype.compareMinY=function(X,et){return X.minY-et.minY},J.prototype.toJSON=function(){return this.data},J.prototype.fromJSON=function(X){return this.data=X,this},J.prototype._all=function(X,et){for(var W=[];X;)X.leaf?et.push.apply(et,X.children):W.push.apply(W,X.children),X=W.pop();return et},J.prototype._build=function(X,et,W,it){var V,lt=W-et+1,mt=this._maxEntries;if(lt<=mt)return Z(V=U(X.slice(et,W+1)),this.toBBox),V;it||(it=Math.ceil(Math.log(lt)/Math.log(mt)),mt=Math.ceil(lt/Math.pow(mt,it-1))),(V=U([])).leaf=!1,V.height=it;var Ct=Math.ceil(lt/mt),wt=Ct*Math.ceil(Math.sqrt(mt));bt(X,et,W,wt,this.compareMinX);for(var q=et;q<=W;q+=wt){var Pt=Math.min(q+wt-1,W);bt(X,q,Pt,Ct,this.compareMinY);for(var Tt=q;Tt<=Pt;Tt+=Ct){var It=Math.min(Tt+Ct-1,Pt);V.children.push(this._build(X,Tt,It,it-1))}}return Z(V,this.toBBox),V},J.prototype._chooseSubtree=function(X,et,W,it){for(;it.push(et),!et.leaf&&it.length-1!==W;){for(var V=1/0,lt=1/0,mt=void 0,Ct=0;Ct<et.children.length;Ct++){var wt=et.children[Ct],q=ct(wt),Pt=(Tt=X,It=wt,(Math.max(It.maxX,Tt.maxX)-Math.min(It.minX,Tt.minX))*(Math.max(It.maxY,Tt.maxY)-Math.min(It.minY,Tt.minY))-q);Pt<lt?(lt=Pt,V=q<V?q:V,mt=wt):Pt===lt&&q<V&&(V=q,mt=wt)}et=mt||et.children[0]}var Tt,It;return et},J.prototype._insert=function(X,et,W){var it=W?X:this.toBBox(X),V=[],lt=this._chooseSubtree(it,this.data,et,V);for(lt.children.push(X),O(lt,it);et>=0&&V[et].children.length>this._maxEntries;)this._split(V,et),et--;this._adjustParentBBoxes(it,V,et)},J.prototype._split=function(X,et){var W=X[et],it=W.children.length,V=this._minEntries;this._chooseSplitAxis(W,V,it);var lt=this._chooseSplitIndex(W,V,it),mt=U(W.children.splice(lt,W.children.length-lt));mt.height=W.height,mt.leaf=W.leaf,Z(W,this.toBBox),Z(mt,this.toBBox),et?X[et-1].children.push(mt):this._splitRoot(W,mt)},J.prototype._splitRoot=function(X,et){this.data=U([X,et]),this.data.height=X.height+1,this.data.leaf=!1,Z(this.data,this.toBBox)},J.prototype._chooseSplitIndex=function(X,et,W){for(var it,V,lt,mt,Ct,wt,q,Pt=1/0,Tt=1/0,It=et;It<=W-et;It++){var ut=G(X,0,It,this.toBBox),ae=G(X,It,W,this.toBBox),ce=(V=ut,lt=ae,void 0,void 0,void 0,void 0,mt=Math.max(V.minX,lt.minX),Ct=Math.max(V.minY,lt.minY),wt=Math.min(V.maxX,lt.maxX),q=Math.min(V.maxY,lt.maxY),Math.max(0,wt-mt)*Math.max(0,q-Ct)),Et=ct(ut)+ct(ae);ce<Pt?(Pt=ce,it=It,Tt=Et<Tt?Et:Tt):ce===Pt&&Et<Tt&&(Tt=Et,it=It)}return it||W-et},J.prototype._chooseSplitAxis=function(X,et,W){var it=X.leaf?this.compareMinX:Q,V=X.leaf?this.compareMinY:at;this._allDistMargin(X,et,W,it)<this._allDistMargin(X,et,W,V)&&X.children.sort(it)},J.prototype._allDistMargin=function(X,et,W,it){X.children.sort(it);for(var V=this.toBBox,lt=G(X,0,et,V),mt=G(X,W-et,W,V),Ct=ot(lt)+ot(mt),wt=et;wt<W-et;wt++){var q=X.children[wt];O(lt,X.leaf?V(q):q),Ct+=ot(lt)}for(var Pt=W-et-1;Pt>=et;Pt--){var Tt=X.children[Pt];O(mt,X.leaf?V(Tt):Tt),Ct+=ot(mt)}return Ct},J.prototype._adjustParentBBoxes=function(X,et,W){for(var it=W;it>=0;it--)O(et[it],X)},J.prototype._condense=function(X){for(var et=X.length-1,W=void 0;et>=0;et--)0===X[et].children.length?et>0?(W=X[et-1].children).splice(W.indexOf(X[et]),1):this.clear():Z(X[et],this.toBBox)},J}()},5203:(Xe,se,Y)=>{"use strict";var tt,J=SyntaxError,F=Function,Z=TypeError,G=function(ut){try{return F('"use strict"; return ('+ut+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var Q=function(){throw new Z},at=O?function(){try{return Q}catch{try{return O(arguments,"callee").get}catch{return Q}}}():Q,ct=Y(2969)(),ot=Object.getPrototypeOf||function(ut){return ut.__proto__},$={},N=typeof Uint8Array>"u"?tt:ot(Uint8Array),U={"%AggregateError%":typeof AggregateError>"u"?tt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?tt:ArrayBuffer,"%ArrayIteratorPrototype%":ct?ot([][Symbol.iterator]()):tt,"%AsyncFromSyncIteratorPrototype%":tt,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?tt:Atomics,"%BigInt%":typeof BigInt>"u"?tt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?tt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?tt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?tt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?tt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?tt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?tt:FinalizationRegistry,"%Function%":F,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?tt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?tt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?tt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ct?ot(ot([][Symbol.iterator]())):tt,"%JSON%":"object"==typeof JSON?JSON:tt,"%Map%":typeof Map>"u"?tt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ct?tt:ot((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?tt:Promise,"%Proxy%":typeof Proxy>"u"?tt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?tt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?tt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ct?tt:ot((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?tt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ct?ot(""[Symbol.iterator]()):tt,"%Symbol%":ct?Symbol:tt,"%SyntaxError%":J,"%ThrowTypeError%":at,"%TypedArray%":N,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?tt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?tt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?tt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?tt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?tt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?tt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?tt:WeakSet};try{null.error}catch(ut){var bt=ot(ot(ut));U["%Error.prototype%"]=bt}var X=function ut(ae){var ce;if("%AsyncFunction%"===ae)ce=G("async function () {}");else if("%GeneratorFunction%"===ae)ce=G("function* () {}");else if("%AsyncGeneratorFunction%"===ae)ce=G("async function* () {}");else if("%AsyncGenerator%"===ae){var Et=ut("%AsyncGeneratorFunction%");Et&&(ce=Et.prototype)}else if("%AsyncIteratorPrototype%"===ae){var vt=ut("%AsyncGenerator%");vt&&(ce=ot(vt.prototype))}return U[ae]=ce,ce},et={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=Y(4444),it=Y(3164),V=W.call(Function.call,Array.prototype.concat),lt=W.call(Function.apply,Array.prototype.splice),mt=W.call(Function.call,String.prototype.replace),Ct=W.call(Function.call,String.prototype.slice),wt=W.call(Function.call,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pt=/\\(\\)?/g,Tt=function(ae){var ce=Ct(ae,0,1),Et=Ct(ae,-1);if("%"===ce&&"%"!==Et)throw new J("invalid intrinsic syntax, expected closing `%`");if("%"===Et&&"%"!==ce)throw new J("invalid intrinsic syntax, expected opening `%`");var vt=[];return mt(ae,q,function(dt,_t,Zt,Ft){vt[vt.length]=Zt?mt(Ft,Pt,"$1"):_t||dt}),vt},It=function(ae,ce){var vt,Et=ae;if(it(et,Et)&&(Et="%"+(vt=et[Et])[0]+"%"),it(U,Et)){var dt=U[Et];if(dt===$&&(dt=X(Et)),typeof dt>"u"&&!ce)throw new Z("intrinsic "+ae+" exists, but is not available. Please file an issue!");return{alias:vt,name:Et,value:dt}}throw new J("intrinsic "+ae+" does not exist!")};Xe.exports=function(ae,ce){if("string"!=typeof ae||0===ae.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ce)throw new Z('"allowMissing" argument must be a boolean');if(null===wt(/^%?[^%]*%?$/,ae))throw new J("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Et=Tt(ae),vt=Et.length>0?Et[0]:"",dt=It("%"+vt+"%",ce),_t=dt.name,Zt=dt.value,Ft=!1,Ee=dt.alias;Ee&&(vt=Ee[0],lt(Et,V([0,1],Ee)));for(var Wt=1,qt=!0;Wt<Et.length;Wt+=1){var pe=Et[Wt],Ne=Ct(pe,0,1),Le=Ct(pe,-1);if(('"'===Ne||"'"===Ne||"`"===Ne||'"'===Le||"'"===Le||"`"===Le)&&Ne!==Le)throw new J("property names with quotes must have matching quotes");if(("constructor"===pe||!qt)&&(Ft=!0),it(U,_t="%"+(vt+="."+pe)+"%"))Zt=U[_t];else if(null!=Zt){if(!(pe in Zt)){if(!ce)throw new Z("base intrinsic for "+ae+" exists, but the property is not available.");return}if(O&&Wt+1>=Et.length){var re=O(Zt,pe);Zt=(qt=!!re)&&"get"in re&&!("originalValue"in re.get)?re.get:Zt[pe]}else qt=it(Zt,pe),Zt=Zt[pe];qt&&!Ft&&(U[_t]=Zt)}}return Zt}},5278:(Xe,se,Y)=>{"use strict";Y.d(se,{Ib:()=>tt,WT:()=>J});var tt=1e-6,J=typeof Float32Array<"u"?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var at=0,ct=arguments.length;ct--;)at+=arguments[ct]*arguments[ct];return Math.sqrt(at)})},711:(Xe,se,Y)=>{"use strict";Y.d(se,{G3:()=>Zt,GH:()=>$,Iu:()=>U,Jp:()=>N,M5:()=>qt,U1:()=>X,U_:()=>ct,bA:()=>bt,en:()=>vt,jI:()=>it,lM:()=>et,oy:()=>dt,p4:()=>at,uD:()=>W,zB:()=>Ne});var tt=Y(5278);function at(S,P){if(S===P){var z=P[1],ft=P[2],Mt=P[3],Ot=P[6],me=P[7],ye=P[11];S[1]=P[4],S[2]=P[8],S[3]=P[12],S[4]=z,S[6]=P[9],S[7]=P[13],S[8]=ft,S[9]=Ot,S[11]=P[14],S[12]=Mt,S[13]=me,S[14]=ye}else S[0]=P[0],S[1]=P[4],S[2]=P[8],S[3]=P[12],S[4]=P[1],S[5]=P[5],S[6]=P[9],S[7]=P[13],S[8]=P[2],S[9]=P[6],S[10]=P[10],S[11]=P[14],S[12]=P[3],S[13]=P[7],S[14]=P[11],S[15]=P[15];return S}function ct(S,P){var z=P[0],ft=P[1],Mt=P[2],Ot=P[3],me=P[4],ye=P[5],xe=P[6],ze=P[7],Qe=P[8],Ue=P[9],sn=P[10],un=P[11],ln=P[12],xn=P[13],cn=P[14],Pe=P[15],Qt=z*ye-ft*me,_e=z*xe-Mt*me,Oe=z*ze-Ot*me,We=ft*xe-Mt*ye,rn=ft*ze-Ot*ye,_n=Mt*ze-Ot*xe,en=Qe*xn-Ue*ln,yn=Qe*cn-sn*ln,Bt=Qe*Pe-un*ln,Jt=Ue*cn-sn*xn,Ae=Ue*Pe-un*xn,je=sn*Pe-un*cn,Je=Qt*je-_e*Ae+Oe*Jt+We*Bt-rn*yn+_n*en;return Je?(S[0]=(ye*je-xe*Ae+ze*Jt)*(Je=1/Je),S[1]=(Mt*Ae-ft*je-Ot*Jt)*Je,S[2]=(xn*_n-cn*rn+Pe*We)*Je,S[3]=(sn*rn-Ue*_n-un*We)*Je,S[4]=(xe*Bt-me*je-ze*yn)*Je,S[5]=(z*je-Mt*Bt+Ot*yn)*Je,S[6]=(cn*Oe-ln*_n-Pe*_e)*Je,S[7]=(Qe*_n-sn*Oe+un*_e)*Je,S[8]=(me*Ae-ye*Bt+ze*en)*Je,S[9]=(ft*Bt-z*Ae-Ot*en)*Je,S[10]=(ln*rn-xn*Oe+Pe*Qt)*Je,S[11]=(Ue*Oe-Qe*rn-un*Qt)*Je,S[12]=(ye*yn-me*Jt-xe*en)*Je,S[13]=(z*Jt-ft*yn+Mt*en)*Je,S[14]=(xn*_e-ln*We-cn*Qt)*Je,S[15]=(Qe*We-Ue*_e+sn*Qt)*Je,S):null}function $(S){var P=S[0],z=S[1],ft=S[2],Mt=S[3],Ot=S[4],me=S[5],ye=S[6],xe=S[7],ze=S[8],Qe=S[9],Ue=S[10],sn=S[11],un=S[12],ln=S[13],xn=S[14],cn=S[15];return(P*me-z*Ot)*(Ue*cn-sn*xn)-(P*ye-ft*Ot)*(Qe*cn-sn*ln)+(P*xe-Mt*Ot)*(Qe*xn-Ue*ln)+(z*ye-ft*me)*(ze*cn-sn*un)-(z*xe-Mt*me)*(ze*xn-Ue*un)+(ft*xe-Mt*ye)*(ze*ln-Qe*un)}function N(S,P,z){var ft=P[0],Mt=P[1],Ot=P[2],me=P[3],ye=P[4],xe=P[5],ze=P[6],Qe=P[7],Ue=P[8],sn=P[9],un=P[10],ln=P[11],xn=P[12],cn=P[13],Pe=P[14],Qt=P[15],_e=z[0],Oe=z[1],We=z[2],rn=z[3];return S[0]=_e*ft+Oe*ye+We*Ue+rn*xn,S[1]=_e*Mt+Oe*xe+We*sn+rn*cn,S[2]=_e*Ot+Oe*ze+We*un+rn*Pe,S[3]=_e*me+Oe*Qe+We*ln+rn*Qt,S[4]=(_e=z[4])*ft+(Oe=z[5])*ye+(We=z[6])*Ue+(rn=z[7])*xn,S[5]=_e*Mt+Oe*xe+We*sn+rn*cn,S[6]=_e*Ot+Oe*ze+We*un+rn*Pe,S[7]=_e*me+Oe*Qe+We*ln+rn*Qt,S[8]=(_e=z[8])*ft+(Oe=z[9])*ye+(We=z[10])*Ue+(rn=z[11])*xn,S[9]=_e*Mt+Oe*xe+We*sn+rn*cn,S[10]=_e*Ot+Oe*ze+We*un+rn*Pe,S[11]=_e*me+Oe*Qe+We*ln+rn*Qt,S[12]=(_e=z[12])*ft+(Oe=z[13])*ye+(We=z[14])*Ue+(rn=z[15])*xn,S[13]=_e*Mt+Oe*xe+We*sn+rn*cn,S[14]=_e*Ot+Oe*ze+We*un+rn*Pe,S[15]=_e*me+Oe*Qe+We*ln+rn*Qt,S}function U(S,P,z){var me,ye,xe,ze,Qe,Ue,sn,un,ln,xn,cn,Pe,ft=z[0],Mt=z[1],Ot=z[2];return P===S?(S[12]=P[0]*ft+P[4]*Mt+P[8]*Ot+P[12],S[13]=P[1]*ft+P[5]*Mt+P[9]*Ot+P[13],S[14]=P[2]*ft+P[6]*Mt+P[10]*Ot+P[14],S[15]=P[3]*ft+P[7]*Mt+P[11]*Ot+P[15]):(ye=P[1],xe=P[2],ze=P[3],Qe=P[4],Ue=P[5],sn=P[6],un=P[7],ln=P[8],xn=P[9],cn=P[10],Pe=P[11],S[0]=me=P[0],S[1]=ye,S[2]=xe,S[3]=ze,S[4]=Qe,S[5]=Ue,S[6]=sn,S[7]=un,S[8]=ln,S[9]=xn,S[10]=cn,S[11]=Pe,S[12]=me*ft+Qe*Mt+ln*Ot+P[12],S[13]=ye*ft+Ue*Mt+xn*Ot+P[13],S[14]=xe*ft+sn*Mt+cn*Ot+P[14],S[15]=ze*ft+un*Mt+Pe*Ot+P[15]),S}function bt(S,P,z){var ft=z[0],Mt=z[1],Ot=z[2];return S[0]=P[0]*ft,S[1]=P[1]*ft,S[2]=P[2]*ft,S[3]=P[3]*ft,S[4]=P[4]*Mt,S[5]=P[5]*Mt,S[6]=P[6]*Mt,S[7]=P[7]*Mt,S[8]=P[8]*Ot,S[9]=P[9]*Ot,S[10]=P[10]*Ot,S[11]=P[11]*Ot,S[12]=P[12],S[13]=P[13],S[14]=P[14],S[15]=P[15],S}function X(S,P,z,ft){var xe,ze,Qe,Ue,sn,un,ln,xn,cn,Pe,Qt,_e,Oe,We,rn,_n,en,yn,Bt,Jt,Ae,je,Je,An,Mt=ft[0],Ot=ft[1],me=ft[2],ye=Math.hypot(Mt,Ot,me);return ye<tt.Ib?null:(Mt*=ye=1/ye,Ot*=ye,me*=ye,xe=Math.sin(z),ze=Math.cos(z),sn=P[1],un=P[2],ln=P[3],cn=P[5],Pe=P[6],Qt=P[7],Oe=P[9],We=P[10],rn=P[11],Bt=Mt*Ot*(Qe=1-ze)-me*xe,Jt=Ot*Ot*Qe+ze,Ae=me*Ot*Qe+Mt*xe,je=Mt*me*Qe+Ot*xe,Je=Ot*me*Qe-Mt*xe,An=me*me*Qe+ze,S[0]=(Ue=P[0])*(_n=Mt*Mt*Qe+ze)+(xn=P[4])*(en=Ot*Mt*Qe+me*xe)+(_e=P[8])*(yn=me*Mt*Qe-Ot*xe),S[1]=sn*_n+cn*en+Oe*yn,S[2]=un*_n+Pe*en+We*yn,S[3]=ln*_n+Qt*en+rn*yn,S[4]=Ue*Bt+xn*Jt+_e*Ae,S[5]=sn*Bt+cn*Jt+Oe*Ae,S[6]=un*Bt+Pe*Jt+We*Ae,S[7]=ln*Bt+Qt*Jt+rn*Ae,S[8]=Ue*je+xn*Je+_e*An,S[9]=sn*je+cn*Je+Oe*An,S[10]=un*je+Pe*Je+We*An,S[11]=ln*je+Qt*Je+rn*An,P!==S&&(S[12]=P[12],S[13]=P[13],S[14]=P[14],S[15]=P[15]),S)}function et(S,P,z){var ft=Math.sin(z),Mt=Math.cos(z),Ot=P[4],me=P[5],ye=P[6],xe=P[7],ze=P[8],Qe=P[9],Ue=P[10],sn=P[11];return P!==S&&(S[0]=P[0],S[1]=P[1],S[2]=P[2],S[3]=P[3],S[12]=P[12],S[13]=P[13],S[14]=P[14],S[15]=P[15]),S[4]=Ot*Mt+ze*ft,S[5]=me*Mt+Qe*ft,S[6]=ye*Mt+Ue*ft,S[7]=xe*Mt+sn*ft,S[8]=ze*Mt-Ot*ft,S[9]=Qe*Mt-me*ft,S[10]=Ue*Mt-ye*ft,S[11]=sn*Mt-xe*ft,S}function W(S,P,z){var ft=Math.sin(z),Mt=Math.cos(z),Ot=P[0],me=P[1],ye=P[2],xe=P[3],ze=P[8],Qe=P[9],Ue=P[10],sn=P[11];return P!==S&&(S[4]=P[4],S[5]=P[5],S[6]=P[6],S[7]=P[7],S[12]=P[12],S[13]=P[13],S[14]=P[14],S[15]=P[15]),S[0]=Ot*Mt-ze*ft,S[1]=me*Mt-Qe*ft,S[2]=ye*Mt-Ue*ft,S[3]=xe*Mt-sn*ft,S[8]=Ot*ft+ze*Mt,S[9]=me*ft+Qe*Mt,S[10]=ye*ft+Ue*Mt,S[11]=xe*ft+sn*Mt,S}function it(S,P,z){var ft=Math.sin(z),Mt=Math.cos(z),Ot=P[0],me=P[1],ye=P[2],xe=P[3],ze=P[4],Qe=P[5],Ue=P[6],sn=P[7];return P!==S&&(S[8]=P[8],S[9]=P[9],S[10]=P[10],S[11]=P[11],S[12]=P[12],S[13]=P[13],S[14]=P[14],S[15]=P[15]),S[0]=Ot*Mt+ze*ft,S[1]=me*Mt+Qe*ft,S[2]=ye*Mt+Ue*ft,S[3]=xe*Mt+sn*ft,S[4]=ze*Mt-Ot*ft,S[5]=Qe*Mt-me*ft,S[6]=Ue*Mt-ye*ft,S[7]=sn*Mt-xe*ft,S}function vt(S,P){var z=P[0],ft=P[1],Mt=P[2],Ot=P[3],me=z+z,ye=ft+ft,xe=Mt+Mt,ze=z*me,Qe=ft*me,Ue=ft*ye,sn=Mt*me,un=Mt*ye,ln=Mt*xe,xn=Ot*me,cn=Ot*ye,Pe=Ot*xe;return S[0]=1-Ue-ln,S[1]=Qe+Pe,S[2]=sn-cn,S[3]=0,S[4]=Qe-Pe,S[5]=1-ze-ln,S[6]=un+xn,S[7]=0,S[8]=sn+cn,S[9]=un-xn,S[10]=1-ze-Ue,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function dt(S,P,z,ft,Mt,Ot,me){var ye=1/(z-P),xe=1/(Mt-ft),ze=1/(Ot-me);return S[0]=2*Ot*ye,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=2*Ot*xe,S[6]=0,S[7]=0,S[8]=(z+P)*ye,S[9]=(Mt+ft)*xe,S[10]=(me+Ot)*ze,S[11]=-1,S[12]=0,S[13]=0,S[14]=me*Ot*2*ze,S[15]=0,S}var Zt=function _t(S,P,z,ft,Mt){var me,Ot=1/Math.tan(P/2);return S[0]=Ot/z,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=Ot,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=-1,S[12]=0,S[13]=0,S[15]=0,null!=Mt&&Mt!==1/0?(S[10]=(Mt+ft)*(me=1/(ft-Mt)),S[14]=2*Mt*ft*me):(S[10]=-1,S[14]=-2*ft),S},qt=function Wt(S,P,z,ft,Mt,Ot,me){var ye=1/(P-z),xe=1/(ft-Mt),ze=1/(Ot-me);return S[0]=-2*ye,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*xe,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=2*ze,S[11]=0,S[12]=(P+z)*ye,S[13]=(Mt+ft)*xe,S[14]=(me+Ot)*ze,S[15]=1,S};function Ne(S,P,z,ft){var Mt,Ot,me,ye,xe,ze,Qe,Ue,sn,un,ln=P[0],xn=P[1],cn=P[2],Pe=ft[0],Qt=ft[1],_e=ft[2],Oe=z[0],We=z[1],rn=z[2];return Math.abs(ln-Oe)<tt.Ib&&Math.abs(xn-We)<tt.Ib&&Math.abs(cn-rn)<tt.Ib?function Q(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}(S):(Qe=ln-Oe,Ue=xn-We,sn=cn-rn,Mt=Qt*(sn*=un=1/Math.hypot(Qe,Ue,sn))-_e*(Ue*=un),Ot=_e*(Qe*=un)-Pe*sn,me=Pe*Ue-Qt*Qe,(un=Math.hypot(Mt,Ot,me))?(Mt*=un=1/un,Ot*=un,me*=un):(Mt=0,Ot=0,me=0),ye=Ue*me-sn*Ot,xe=sn*Mt-Qe*me,ze=Qe*Ot-Ue*Mt,(un=Math.hypot(ye,xe,ze))?(ye*=un=1/un,xe*=un,ze*=un):(ye=0,xe=0,ze=0),S[0]=Mt,S[1]=ye,S[2]=Qe,S[3]=0,S[4]=Ot,S[5]=xe,S[6]=Ue,S[7]=0,S[8]=me,S[9]=ze,S[10]=sn,S[11]=0,S[12]=-(Mt*ln+Ot*xn+me*cn),S[13]=-(ye*ln+xe*xn+ze*cn),S[14]=-(Qe*ln+Ue*xn+sn*cn),S[15]=1,S)}},8235:(Xe,se,Y)=>{"use strict";Y.d(se,{IH:()=>Q,bA:()=>et,fF:()=>vt,kE:()=>lt,lu:()=>pe,t7:()=>It,tk:()=>Ct});var tt=Y(5278);function Q(Ht,jt,Ut){return Ht[0]=jt[0]+Ut[0],Ht[1]=jt[1]+Ut[1],Ht}function et(Ht,jt,Ut){return Ht[0]=jt[0]*Ut,Ht[1]=jt[1]*Ut,Ht}function lt(Ht){return Math.hypot(Ht[0],Ht[1])}function Ct(Ht,jt){return Ht[0]=-jt[0],Ht[1]=-jt[1],Ht}function It(Ht,jt,Ut,gt){var At=jt[0],St=jt[1];return Ht[0]=At+gt*(Ut[0]-At),Ht[1]=St+gt*(Ut[1]-St),Ht}function vt(Ht,jt,Ut){var gt=jt[0],At=jt[1];return Ht[0]=Ut[0]*gt+Ut[4]*At+Ut[12],Ht[1]=Ut[1]*gt+Ut[5]*At+Ut[13],Ht}var pe=function at(Ht,jt,Ut){return Ht[0]=jt[0]-Ut[0],Ht[1]=jt[1]-Ut[1],Ht};(function J(){var Ht=new tt.WT(2);tt.WT!=Float32Array&&(Ht[0]=0,Ht[1]=0)})()},3454:(Xe,se,Y)=>{"use strict";Y.d(se,{EU:()=>Ee,VC:()=>dt,Zh:()=>Ht,fF:()=>Et,jI:()=>Ft,kC:()=>Tt,kE:()=>Z,kK:()=>vt,lM:()=>_t,lu:()=>Le,t7:()=>It,tk:()=>Ct,uD:()=>Zt,x9:()=>jt});var tt=Y(5278);function Z(gt){return Math.hypot(gt[0],gt[1],gt[2])}function Ct(gt,At){return gt[0]=-At[0],gt[1]=-At[1],gt[2]=-At[2],gt}function Tt(gt,At,St){var S=At[0],P=At[1],z=At[2],ft=St[0],Mt=St[1],Ot=St[2];return gt[0]=P*Ot-z*Mt,gt[1]=z*ft-S*Ot,gt[2]=S*Mt-P*ft,gt}function It(gt,At,St,S){var P=At[0],z=At[1],ft=At[2];return gt[0]=P+S*(St[0]-P),gt[1]=z+S*(St[1]-z),gt[2]=ft+S*(St[2]-ft),gt}function Et(gt,At,St){var S=At[0],P=At[1],z=At[2],ft=St[3]*S+St[7]*P+St[11]*z+St[15];return gt[0]=(St[0]*S+St[4]*P+St[8]*z+St[12])/(ft=ft||1),gt[1]=(St[1]*S+St[5]*P+St[9]*z+St[13])/ft,gt[2]=(St[2]*S+St[6]*P+St[10]*z+St[14])/ft,gt}function vt(gt,At,St){var S=At[0],P=At[1],z=At[2];return gt[0]=S*St[0]+P*St[3]+z*St[6],gt[1]=S*St[1]+P*St[4]+z*St[7],gt[2]=S*St[2]+P*St[5]+z*St[8],gt}function dt(gt,At,St){var S=St[0],P=St[1],z=St[2],Mt=At[0],Ot=At[1],me=At[2],ye=P*me-z*Ot,xe=z*Mt-S*me,ze=S*Ot-P*Mt,Qe=P*ze-z*xe,Ue=z*ye-S*ze,sn=S*xe-P*ye,un=2*St[3];return xe*=un,ze*=un,Ue*=2,sn*=2,gt[0]=Mt+(ye*=un)+(Qe*=2),gt[1]=Ot+xe+Ue,gt[2]=me+ze+sn,gt}function _t(gt,At,St,S){var P=[],z=[];return P[0]=At[0]-St[0],P[1]=At[1]-St[1],P[2]=At[2]-St[2],z[0]=P[0],z[1]=P[1]*Math.cos(S)-P[2]*Math.sin(S),z[2]=P[1]*Math.sin(S)+P[2]*Math.cos(S),gt[0]=z[0]+St[0],gt[1]=z[1]+St[1],gt[2]=z[2]+St[2],gt}function Zt(gt,At,St,S){var P=[],z=[];return P[0]=At[0]-St[0],P[1]=At[1]-St[1],P[2]=At[2]-St[2],z[0]=P[2]*Math.sin(S)+P[0]*Math.cos(S),z[1]=P[1],z[2]=P[2]*Math.cos(S)-P[0]*Math.sin(S),gt[0]=z[0]+St[0],gt[1]=z[1]+St[1],gt[2]=z[2]+St[2],gt}function Ft(gt,At,St,S){var P=[],z=[];return P[0]=At[0]-St[0],P[1]=At[1]-St[1],P[2]=At[2]-St[2],z[0]=P[0]*Math.cos(S)-P[1]*Math.sin(S),z[1]=P[0]*Math.sin(S)+P[1]*Math.cos(S),z[2]=P[2],gt[0]=z[0]+St[0],gt[1]=z[1]+St[1],gt[2]=z[2]+St[2],gt}function Ee(gt,At){var St=gt[0],S=gt[1],P=gt[2],z=At[0],ft=At[1],Mt=At[2],ye=Math.sqrt(St*St+S*S+P*P)*Math.sqrt(z*z+ft*ft+Mt*Mt),xe=ye&&function Pt(gt,At){return gt[0]*At[0]+gt[1]*At[1]+gt[2]*At[2]}(gt,At)/ye;return Math.acos(Math.min(Math.max(xe,-1),1))}var Le=function ct(gt,At,St){return gt[0]=At[0]-St[0],gt[1]=At[1]-St[1],gt[2]=At[2]-St[2],gt},Ht=Z,jt=function mt(gt){var At=gt[0],St=gt[1],S=gt[2];return At*At+St*St+S*S};(function J(){var gt=new tt.WT(3);tt.WT!=Float32Array&&(gt[0]=0,gt[1]=0,gt[2]=0)})()},9538:(Xe,se,Y)=>{"use strict";Y.d(se,{bA:()=>et,fF:()=>ae});var tt=Y(5278);function et(re,Me,le){return re[0]=Me[0]*le,re[1]=Me[1]*le,re[2]=Me[2]*le,re[3]=Me[3]*le,re}function ae(re,Me,le){var Dt=Me[0],Ht=Me[1],jt=Me[2],Ut=Me[3];return re[0]=le[0]*Dt+le[4]*Ht+le[8]*jt+le[12]*Ut,re[1]=le[1]*Dt+le[5]*Ht+le[9]*jt+le[13]*Ut,re[2]=le[2]*Dt+le[6]*Ht+le[10]*jt+le[14]*Ut,re[3]=le[3]*Dt+le[7]*Ht+le[11]*jt+le[15]*Ut,re}(function J(){var re=new tt.WT(4);tt.WT!=Float32Array&&(re[0]=0,re[1]=0,re[2]=0,re[3]=0)})()},5386:(Xe,se,Y)=>{var tt;!function(J,F,Z,G){"use strict";var et,O=["","webkit","Moz","MS","ms","o"],Q=F.createElement("div"),at="function",ct=Math.round,ot=Math.abs,$=Date.now;function N(Gt,Se,Ge){return setTimeout(lt(Gt,Ge),Se)}function U(Gt,Se,Ge){return!!Array.isArray(Gt)&&(bt(Gt,Ge[Se],Ge),!0)}function bt(Gt,Se,Ge){var gn;if(Gt)if(Gt.forEach)Gt.forEach(Se,Ge);else if(Gt.length!==G)for(gn=0;gn<Gt.length;)Se.call(Ge,Gt[gn],gn,Gt),gn++;else for(gn in Gt)Gt.hasOwnProperty(gn)&&Se.call(Ge,Gt[gn],gn,Gt)}function X(Gt,Se,Ge){var gn="DEPRECATED METHOD: "+Se+"\n"+Ge+" AT \n";return function(){var Xn=new Error("get-stack-trace"),ei=Xn&&Xn.stack?Xn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ui=J.console&&(J.console.warn||J.console.log);return ui&&ui.call(J.console,gn,ei),Gt.apply(this,arguments)}}et="function"!=typeof Object.assign?function(Se){if(Se===G||null===Se)throw new TypeError("Cannot convert undefined or null to object");for(var Ge=Object(Se),gn=1;gn<arguments.length;gn++){var Xn=arguments[gn];if(Xn!==G&&null!==Xn)for(var ei in Xn)Xn.hasOwnProperty(ei)&&(Ge[ei]=Xn[ei])}return Ge}:Object.assign;var W=X(function(Se,Ge,gn){for(var Xn=Object.keys(Ge),ei=0;ei<Xn.length;)(!gn||gn&&Se[Xn[ei]]===G)&&(Se[Xn[ei]]=Ge[Xn[ei]]),ei++;return Se},"extend","Use `assign`."),it=X(function(Se,Ge){return W(Se,Ge,!0)},"merge","Use `assign`.");function V(Gt,Se,Ge){var Xn,gn=Se.prototype;(Xn=Gt.prototype=Object.create(gn)).constructor=Gt,Xn._super=gn,Ge&&et(Xn,Ge)}function lt(Gt,Se){return function(){return Gt.apply(Se,arguments)}}function mt(Gt,Se){return typeof Gt==at?Gt.apply(Se&&Se[0]||G,Se):Gt}function Ct(Gt,Se){return Gt===G?Se:Gt}function wt(Gt,Se,Ge){bt(It(Se),function(gn){Gt.addEventListener(gn,Ge,!1)})}function q(Gt,Se,Ge){bt(It(Se),function(gn){Gt.removeEventListener(gn,Ge,!1)})}function Pt(Gt,Se){for(;Gt;){if(Gt==Se)return!0;Gt=Gt.parentNode}return!1}function Tt(Gt,Se){return Gt.indexOf(Se)>-1}function It(Gt){return Gt.trim().split(/\s+/g)}function ut(Gt,Se,Ge){if(Gt.indexOf&&!Ge)return Gt.indexOf(Se);for(var gn=0;gn<Gt.length;){if(Ge&&Gt[gn][Ge]==Se||!Ge&&Gt[gn]===Se)return gn;gn++}return-1}function ae(Gt){return Array.prototype.slice.call(Gt,0)}function ce(Gt,Se,Ge){for(var gn=[],Xn=[],ei=0;ei<Gt.length;){var ui=Se?Gt[ei][Se]:Gt[ei];ut(Xn,ui)<0&&gn.push(Gt[ei]),Xn[ei]=ui,ei++}return Ge&&(gn=Se?gn.sort(function(Mr,Fr){return Mr[Se]>Fr[Se]}):gn.sort()),gn}function Et(Gt,Se){for(var Ge,gn,Xn=Se[0].toUpperCase()+Se.slice(1),ei=0;ei<O.length;){if((gn=(Ge=O[ei])?Ge+Xn:Se)in Gt)return gn;ei++}return G}var vt=1;function _t(Gt){var Se=Gt.ownerDocument||Gt;return Se.defaultView||Se.parentWindow||J}var Ft="ontouchstart"in J,Ee=Et(J,"PointerEvent")!==G,Wt=Ft&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),qt="touch",Ne="mouse",re=25,Me=1,le=2,Dt=4,Ht=8,jt=1,Ut=2,gt=4,At=8,St=16,S=Ut|gt,P=At|St,z=S|P,ft=["x","y"],Mt=["clientX","clientY"];function Ot(Gt,Se){var Ge=this;this.manager=Gt,this.callback=Se,this.element=Gt.element,this.target=Gt.options.inputTarget,this.domHandler=function(gn){mt(Gt.options.enable,[Gt])&&Ge.handler(gn)},this.init()}function ye(Gt,Se,Ge){var gn=Ge.pointers.length,Xn=Ge.changedPointers.length,ei=Se&Me&&gn-Xn==0,ui=Se&(Dt|Ht)&&gn-Xn==0;Ge.isFirst=!!ei,Ge.isFinal=!!ui,ei&&(Gt.session={}),Ge.eventType=Se,function xe(Gt,Se){var Ge=Gt.session,gn=Se.pointers,Xn=gn.length;Ge.firstInput||(Ge.firstInput=Ue(Se)),Xn>1&&!Ge.firstMultiple?Ge.firstMultiple=Ue(Se):1===Xn&&(Ge.firstMultiple=!1);var ei=Ge.firstInput,ui=Ge.firstMultiple,oi=ui?ui.center:ei.center,Mr=Se.center=sn(gn);Se.timeStamp=$(),Se.deltaTime=Se.timeStamp-ei.timeStamp,Se.angle=cn(oi,Mr),Se.distance=xn(oi,Mr),function ze(Gt,Se){var Ge=Se.center,gn=Gt.offsetDelta||{},Xn=Gt.prevDelta||{},ei=Gt.prevInput||{};(Se.eventType===Me||ei.eventType===Dt)&&(Xn=Gt.prevDelta={x:ei.deltaX||0,y:ei.deltaY||0},gn=Gt.offsetDelta={x:Ge.x,y:Ge.y}),Se.deltaX=Xn.x+(Ge.x-gn.x),Se.deltaY=Xn.y+(Ge.y-gn.y)}(Ge,Se),Se.offsetDirection=ln(Se.deltaX,Se.deltaY);var Fr=un(Se.deltaTime,Se.deltaX,Se.deltaY);Se.overallVelocityX=Fr.x,Se.overallVelocityY=Fr.y,Se.overallVelocity=ot(Fr.x)>ot(Fr.y)?Fr.x:Fr.y,Se.scale=ui?function Qt(Gt,Se){return xn(Se[0],Se[1],Mt)/xn(Gt[0],Gt[1],Mt)}(ui.pointers,gn):1,Se.rotation=ui?function Pe(Gt,Se){return cn(Se[1],Se[0],Mt)+cn(Gt[1],Gt[0],Mt)}(ui.pointers,gn):0,Se.maxPointers=Ge.prevInput?Se.pointers.length>Ge.prevInput.maxPointers?Se.pointers.length:Ge.prevInput.maxPointers:Se.pointers.length,function Qe(Gt,Se){var Xn,ei,ui,oi,Ge=Gt.lastInterval||Se,gn=Se.timeStamp-Ge.timeStamp;if(Se.eventType!=Ht&&(gn>re||Ge.velocity===G)){var Mr=Se.deltaX-Ge.deltaX,Fr=Se.deltaY-Ge.deltaY,ws=un(gn,Mr,Fr);ei=ws.x,ui=ws.y,Xn=ot(ws.x)>ot(ws.y)?ws.x:ws.y,oi=ln(Mr,Fr),Gt.lastInterval=Se}else Xn=Ge.velocity,ei=Ge.velocityX,ui=Ge.velocityY,oi=Ge.direction;Se.velocity=Xn,Se.velocityX=ei,Se.velocityY=ui,Se.direction=oi}(Ge,Se);var ws=Gt.element;Pt(Se.srcEvent.target,ws)&&(ws=Se.srcEvent.target),Se.target=ws}(Gt,Ge),Gt.emit("hammer.input",Ge),Gt.recognize(Ge),Gt.session.prevInput=Ge}function Ue(Gt){for(var Se=[],Ge=0;Ge<Gt.pointers.length;)Se[Ge]={clientX:ct(Gt.pointers[Ge].clientX),clientY:ct(Gt.pointers[Ge].clientY)},Ge++;return{timeStamp:$(),pointers:Se,center:sn(Se),deltaX:Gt.deltaX,deltaY:Gt.deltaY}}function sn(Gt){var Se=Gt.length;if(1===Se)return{x:ct(Gt[0].clientX),y:ct(Gt[0].clientY)};for(var Ge=0,gn=0,Xn=0;Xn<Se;)Ge+=Gt[Xn].clientX,gn+=Gt[Xn].clientY,Xn++;return{x:ct(Ge/Se),y:ct(gn/Se)}}function un(Gt,Se,Ge){return{x:Se/Gt||0,y:Ge/Gt||0}}function ln(Gt,Se){return Gt===Se?jt:ot(Gt)>=ot(Se)?Gt<0?Ut:gt:Se<0?At:St}function xn(Gt,Se,Ge){Ge||(Ge=ft);var gn=Se[Ge[0]]-Gt[Ge[0]],Xn=Se[Ge[1]]-Gt[Ge[1]];return Math.sqrt(gn*gn+Xn*Xn)}function cn(Gt,Se,Ge){return Ge||(Ge=ft),180*Math.atan2(Se[Ge[1]]-Gt[Ge[1]],Se[Ge[0]]-Gt[Ge[0]])/Math.PI}Ot.prototype={handler:function(){},init:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler),this.evTarget&&wt(this.target,this.evTarget,this.domHandler),this.evWin&&wt(_t(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(_t(this.element),this.evWin,this.domHandler)}};var _e={mousedown:Me,mousemove:le,mouseup:Dt},Oe="mousedown",We="mousemove mouseup";function rn(){this.evEl=Oe,this.evWin=We,this.pressed=!1,Ot.apply(this,arguments)}V(rn,Ot,{handler:function(Se){var Ge=_e[Se.type];Ge&Me&&0===Se.button&&(this.pressed=!0),Ge&le&&1!==Se.which&&(Ge=Dt),this.pressed&&(Ge&Dt&&(this.pressed=!1),this.callback(this.manager,Ge,{pointers:[Se],changedPointers:[Se],pointerType:Ne,srcEvent:Se}))}});var _n={pointerdown:Me,pointermove:le,pointerup:Dt,pointercancel:Ht,pointerout:Ht},en={2:qt,3:"pen",4:Ne,5:"kinect"},yn="pointerdown",Bt="pointermove pointerup pointercancel";function Jt(){this.evEl=yn,this.evWin=Bt,Ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}J.MSPointerEvent&&!J.PointerEvent&&(yn="MSPointerDown",Bt="MSPointerMove MSPointerUp MSPointerCancel"),V(Jt,Ot,{handler:function(Se){var Ge=this.store,gn=!1,Xn=Se.type.toLowerCase().replace("ms",""),ei=_n[Xn],ui=en[Se.pointerType]||Se.pointerType,oi=ui==qt,Mr=ut(Ge,Se.pointerId,"pointerId");ei&Me&&(0===Se.button||oi)?Mr<0&&(Ge.push(Se),Mr=Ge.length-1):ei&(Dt|Ht)&&(gn=!0),!(Mr<0)&&(Ge[Mr]=Se,this.callback(this.manager,ei,{pointers:Ge,changedPointers:[Se],pointerType:ui,srcEvent:Se}),gn&&Ge.splice(Mr,1))}});var Ae={touchstart:Me,touchmove:le,touchend:Dt,touchcancel:Ht},je="touchstart",Je="touchstart touchmove touchend touchcancel";function An(){this.evTarget=je,this.evWin=Je,this.started=!1,Ot.apply(this,arguments)}function vi(Gt,Se){var Ge=ae(Gt.touches),gn=ae(Gt.changedTouches);return Se&(Dt|Ht)&&(Ge=ce(Ge.concat(gn),"identifier",!0)),[Ge,gn]}V(An,Ot,{handler:function(Se){var Ge=Ae[Se.type];if(Ge===Me&&(this.started=!0),this.started){var gn=vi.call(this,Se,Ge);Ge&(Dt|Ht)&&gn[0].length-gn[1].length==0&&(this.started=!1),this.callback(this.manager,Ge,{pointers:gn[0],changedPointers:gn[1],pointerType:qt,srcEvent:Se})}}});var ur={touchstart:Me,touchmove:le,touchend:Dt,touchcancel:Ht},Ri="touchstart touchmove touchend touchcancel";function Ji(){this.evTarget=Ri,this.targetIds={},Ot.apply(this,arguments)}function Lo(Gt,Se){var Ge=ae(Gt.touches),gn=this.targetIds;if(Se&(Me|le)&&1===Ge.length)return gn[Ge[0].identifier]=!0,[Ge,Ge];var Xn,ei,ui=ae(Gt.changedTouches),oi=[],Mr=this.target;if(ei=Ge.filter(function(Fr){return Pt(Fr.target,Mr)}),Se===Me)for(Xn=0;Xn<ei.length;)gn[ei[Xn].identifier]=!0,Xn++;for(Xn=0;Xn<ui.length;)gn[ui[Xn].identifier]&&oi.push(ui[Xn]),Se&(Dt|Ht)&&delete gn[ui[Xn].identifier],Xn++;return oi.length?[ce(ei.concat(oi),"identifier",!0),oi]:void 0}V(Ji,Ot,{handler:function(Se){var Ge=ur[Se.type],gn=Lo.call(this,Se,Ge);gn&&this.callback(this.manager,Ge,{pointers:gn[0],changedPointers:gn[1],pointerType:qt,srcEvent:Se})}});var Za=2500,Xo=25;function Bi(){Ot.apply(this,arguments);var Gt=lt(this.handler,this);this.touch=new Ji(this.manager,Gt),this.mouse=new rn(this.manager,Gt),this.primaryTouch=null,this.lastTouches=[]}function ua(Gt,Se){Gt&Me?(this.primaryTouch=Se.changedPointers[0].identifier,zt.call(this,Se)):Gt&(Dt|Ht)&&zt.call(this,Se)}function zt(Gt){var Se=Gt.changedPointers[0];if(Se.identifier===this.primaryTouch){var Ge={x:Se.clientX,y:Se.clientY};this.lastTouches.push(Ge);var gn=this.lastTouches;setTimeout(function(){var ei=gn.indexOf(Ge);ei>-1&&gn.splice(ei,1)},Za)}}function Yt(Gt){for(var Se=Gt.srcEvent.clientX,Ge=Gt.srcEvent.clientY,gn=0;gn<this.lastTouches.length;gn++){var Xn=this.lastTouches[gn],ei=Math.abs(Se-Xn.x),ui=Math.abs(Ge-Xn.y);if(ei<=Xo&&ui<=Xo)return!0}return!1}V(Bi,Ot,{handler:function(Se,Ge,gn){var ei=gn.pointerType==Ne;if(!(ei&&gn.sourceCapabilities&&gn.sourceCapabilities.firesTouchEvents)){if(gn.pointerType==qt)ua.call(this,Ge,gn);else if(ei&&Yt.call(this,gn))return;this.callback(Se,Ge,gn)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Be=Et(Q.style,"touchAction"),qe=Be!==G,an="compute",ri="manipulation",Ai="none",Vi="pan-x",Ti="pan-y",bo=function jo(){if(!qe)return!1;var Gt={},Se=J.CSS&&J.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ge){Gt[Ge]=!Se||J.CSS.supports("touch-action",Ge)}),Gt}();function fo(Gt,Se){this.manager=Gt,this.set(Se)}fo.prototype={set:function(Gt){Gt==an&&(Gt=this.compute()),qe&&this.manager.element.style&&bo[Gt]&&(this.manager.element.style[Be]=Gt),this.actions=Gt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Gt=[];return bt(this.manager.recognizers,function(Se){mt(Se.options.enable,[Se])&&(Gt=Gt.concat(Se.getTouchAction()))}),function Va(Gt){if(Tt(Gt,Ai))return Ai;var Se=Tt(Gt,Vi),Ge=Tt(Gt,Ti);return Se&&Ge?Ai:Se||Ge?Se?Vi:Ti:Tt(Gt,ri)?ri:"auto"}(Gt.join(" "))},preventDefaults:function(Gt){var Se=Gt.srcEvent,Ge=Gt.offsetDirection;if(!this.manager.session.prevented){var gn=this.actions,Xn=Tt(gn,Ai)&&!bo[Ai],ei=Tt(gn,Ti)&&!bo[Ti],ui=Tt(gn,Vi)&&!bo[Vi];if(Xn&&1===Gt.pointers.length&&Gt.distance<2&&Gt.deltaTime<250)return;return ui&&ei||!(Xn||ei&&Ge&S||ui&&Ge&P)?void 0:this.preventSrc(Se)}Se.preventDefault()},preventSrc:function(Gt){this.manager.session.prevented=!0,Gt.preventDefault()}};var Xs=1,zi=2,cs=4,Qi=8,po=Qi,nl=16;function as(Gt){this.options=et({},this.defaults,Gt||{}),this.id=function dt(){return vt++}(),this.manager=null,this.options.enable=Ct(this.options.enable,!0),this.state=Xs,this.simultaneous={},this.requireFail=[]}function ki(Gt){return Gt&nl?"cancel":Gt&Qi?"end":Gt&cs?"move":Gt&zi?"start":""}function Yi(Gt){return Gt==St?"down":Gt==At?"up":Gt==Ut?"left":Gt==gt?"right":""}function sr(Gt,Se){var Ge=Se.manager;return Ge?Ge.get(Gt):Gt}function us(){as.apply(this,arguments)}function so(){us.apply(this,arguments),this.pX=null,this.pY=null}function oe(){us.apply(this,arguments)}function we(){as.apply(this,arguments),this._timer=null,this._input=null}function Re(){us.apply(this,arguments)}function tn(){us.apply(this,arguments)}function Ze(){as.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function wn(Gt,Se){return(Se=Se||{}).recognizers=Ct(Se.recognizers,wn.defaults.preset),new Er(Gt,Se)}function Er(Gt,Se){this.options=et({},wn.defaults,Se||{}),this.options.inputTarget=this.options.inputTarget||Gt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Gt,this.input=function me(Gt){return new(Gt.options.inputClass||(Ee?Jt:Wt?Ji:Ft?Bi:rn))(Gt,ye)}(this),this.touchAction=new fo(this,this.options.touchAction),xo(this,!0),bt(this.options.recognizers,function(Ge){var gn=this.add(new Ge[0](Ge[1]));Ge[2]&&gn.recognizeWith(Ge[2]),Ge[3]&&gn.requireFailure(Ge[3])},this)}function xo(Gt,Se){var gn,Ge=Gt.element;Ge.style&&(bt(Gt.options.cssProps,function(Xn,ei){gn=Et(Ge.style,ei),Se?(Gt.oldCssProps[gn]=Ge.style[gn],Ge.style[gn]=Xn):Ge.style[gn]=Gt.oldCssProps[gn]||""}),Se||(Gt.oldCssProps={}))}as.prototype={defaults:{},set:function(Gt){return et(this.options,Gt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Gt){if(U(Gt,"recognizeWith",this))return this;var Se=this.simultaneous;return Se[(Gt=sr(Gt,this)).id]||(Se[Gt.id]=Gt,Gt.recognizeWith(this)),this},dropRecognizeWith:function(Gt){return U(Gt,"dropRecognizeWith",this)||(Gt=sr(Gt,this),delete this.simultaneous[Gt.id]),this},requireFailure:function(Gt){if(U(Gt,"requireFailure",this))return this;var Se=this.requireFail;return-1===ut(Se,Gt=sr(Gt,this))&&(Se.push(Gt),Gt.requireFailure(this)),this},dropRequireFailure:function(Gt){if(U(Gt,"dropRequireFailure",this))return this;Gt=sr(Gt,this);var Se=ut(this.requireFail,Gt);return Se>-1&&this.requireFail.splice(Se,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Gt){return!!this.simultaneous[Gt.id]},emit:function(Gt){var Se=this,Ge=this.state;function gn(Xn){Se.manager.emit(Xn,Gt)}Ge<Qi&&gn(Se.options.event+ki(Ge)),gn(Se.options.event),Gt.additionalEvent&&gn(Gt.additionalEvent),Ge>=Qi&&gn(Se.options.event+ki(Ge))},tryEmit:function(Gt){if(this.canEmit())return this.emit(Gt);this.state=32},canEmit:function(){for(var Gt=0;Gt<this.requireFail.length;){if(!(this.requireFail[Gt].state&(32|Xs)))return!1;Gt++}return!0},recognize:function(Gt){var Se=et({},Gt);if(!mt(this.options.enable,[this,Se]))return this.reset(),void(this.state=32);this.state&(po|nl|32)&&(this.state=Xs),this.state=this.process(Se),this.state&(zi|cs|Qi|nl)&&this.tryEmit(Se)},process:function(Gt){},getTouchAction:function(){},reset:function(){}},V(us,as,{defaults:{pointers:1},attrTest:function(Gt){var Se=this.options.pointers;return 0===Se||Gt.pointers.length===Se},process:function(Gt){var Se=this.state,Ge=Gt.eventType,gn=Se&(zi|cs),Xn=this.attrTest(Gt);return gn&&(Ge&Ht||!Xn)?Se|nl:gn||Xn?Ge&Dt?Se|Qi:Se&zi?Se|cs:zi:32}}),V(so,us,{defaults:{event:"pan",threshold:10,pointers:1,direction:z},getTouchAction:function(){var Gt=this.options.direction,Se=[];return Gt&S&&Se.push(Ti),Gt&P&&Se.push(Vi),Se},directionTest:function(Gt){var Se=this.options,Ge=!0,gn=Gt.distance,Xn=Gt.direction,ei=Gt.deltaX,ui=Gt.deltaY;return Xn&Se.direction||(Se.direction&S?(Xn=0===ei?jt:ei<0?Ut:gt,Ge=ei!=this.pX,gn=Math.abs(Gt.deltaX)):(Xn=0===ui?jt:ui<0?At:St,Ge=ui!=this.pY,gn=Math.abs(Gt.deltaY))),Gt.direction=Xn,Ge&&gn>Se.threshold&&Xn&Se.direction},attrTest:function(Gt){return us.prototype.attrTest.call(this,Gt)&&(this.state&zi||!(this.state&zi)&&this.directionTest(Gt))},emit:function(Gt){this.pX=Gt.deltaX,this.pY=Gt.deltaY;var Se=Yi(Gt.direction);Se&&(Gt.additionalEvent=this.options.event+Se),this._super.emit.call(this,Gt)}}),V(oe,us,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ai]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.scale-1)>this.options.threshold||this.state&zi)},emit:function(Gt){1!==Gt.scale&&(Gt.additionalEvent=this.options.event+(Gt.scale<1?"in":"out")),this._super.emit.call(this,Gt)}}),V(we,as,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Gt){var Se=this.options,Ge=Gt.pointers.length===Se.pointers,gn=Gt.distance<Se.threshold,Xn=Gt.deltaTime>Se.time;if(this._input=Gt,!gn||!Ge||Gt.eventType&(Dt|Ht)&&!Xn)this.reset();else if(Gt.eventType&Me)this.reset(),this._timer=N(function(){this.state=po,this.tryEmit()},Se.time,this);else if(Gt.eventType&Dt)return po;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Gt){this.state===po&&(Gt&&Gt.eventType&Dt?this.manager.emit(this.options.event+"up",Gt):(this._input.timeStamp=$(),this.manager.emit(this.options.event,this._input)))}}),V(Re,us,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ai]},attrTest:function(Gt){return this._super.attrTest.call(this,Gt)&&(Math.abs(Gt.rotation)>this.options.threshold||this.state&zi)}}),V(tn,us,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:S|P,pointers:1},getTouchAction:function(){return so.prototype.getTouchAction.call(this)},attrTest:function(Gt){var Ge,Se=this.options.direction;return Se&(S|P)?Ge=Gt.overallVelocity:Se&S?Ge=Gt.overallVelocityX:Se&P&&(Ge=Gt.overallVelocityY),this._super.attrTest.call(this,Gt)&&Se&Gt.offsetDirection&&Gt.distance>this.options.threshold&&Gt.maxPointers==this.options.pointers&&ot(Ge)>this.options.velocity&&Gt.eventType&Dt},emit:function(Gt){var Se=Yi(Gt.offsetDirection);Se&&this.manager.emit(this.options.event+Se,Gt),this.manager.emit(this.options.event,Gt)}}),V(Ze,as,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ri]},process:function(Gt){var Se=this.options,Ge=Gt.pointers.length===Se.pointers,gn=Gt.distance<Se.threshold,Xn=Gt.deltaTime<Se.time;if(this.reset(),Gt.eventType&Me&&0===this.count)return this.failTimeout();if(gn&&Xn&&Ge){if(Gt.eventType!=Dt)return this.failTimeout();var ei=!this.pTime||Gt.timeStamp-this.pTime<Se.interval,ui=!this.pCenter||xn(this.pCenter,Gt.center)<Se.posThreshold;if(this.pTime=Gt.timeStamp,this.pCenter=Gt.center,ui&&ei?this.count+=1:this.count=1,this._input=Gt,0==this.count%Se.taps)return this.hasRequireFailures()?(this._timer=N(function(){this.state=po,this.tryEmit()},Se.interval,this),zi):po}return 32},failTimeout:function(){return this._timer=N(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==po&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),wn.VERSION="2.0.7",wn.defaults={domEvents:!1,touchAction:an,enable:!0,inputTarget:null,inputClass:null,preset:[[Re,{enable:!1}],[oe,{enable:!1},["rotate"]],[tn,{direction:S}],[so,{direction:S},["swipe"]],[Ze],[Ze,{event:"doubletap",taps:2},["tap"]],[we]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Er.prototype={set:function(Gt){return et(this.options,Gt),Gt.touchAction&&this.touchAction.update(),Gt.inputTarget&&(this.input.destroy(),this.input.target=Gt.inputTarget,this.input.init()),this},stop:function(Gt){this.session.stopped=Gt?2:1},recognize:function(Gt){var Se=this.session;if(!Se.stopped){this.touchAction.preventDefaults(Gt);var Ge,gn=this.recognizers,Xn=Se.curRecognizer;(!Xn||Xn&&Xn.state&po)&&(Xn=Se.curRecognizer=null);for(var ei=0;ei<gn.length;)Ge=gn[ei],2===Se.stopped||Xn&&Ge!=Xn&&!Ge.canRecognizeWith(Xn)?Ge.reset():Ge.recognize(Gt),!Xn&&Ge.state&(zi|cs|Qi)&&(Xn=Se.curRecognizer=Ge),ei++}},get:function(Gt){if(Gt instanceof as)return Gt;for(var Se=this.recognizers,Ge=0;Ge<Se.length;Ge++)if(Se[Ge].options.event==Gt)return Se[Ge];return null},add:function(Gt){if(U(Gt,"add",this))return this;var Se=this.get(Gt.options.event);return Se&&this.remove(Se),this.recognizers.push(Gt),Gt.manager=this,this.touchAction.update(),Gt},remove:function(Gt){if(U(Gt,"remove",this))return this;if(Gt=this.get(Gt)){var Se=this.recognizers,Ge=ut(Se,Gt);-1!==Ge&&(Se.splice(Ge,1),this.touchAction.update())}return this},on:function(Gt,Se){if(Gt!==G&&Se!==G){var Ge=this.handlers;return bt(It(Gt),function(gn){Ge[gn]=Ge[gn]||[],Ge[gn].push(Se)}),this}},off:function(Gt,Se){if(Gt!==G){var Ge=this.handlers;return bt(It(Gt),function(gn){Se?Ge[gn]&&Ge[gn].splice(ut(Ge[gn],Se),1):delete Ge[gn]}),this}},emit:function(Gt,Se){this.options.domEvents&&function En(Gt,Se){var Ge=F.createEvent("Event");Ge.initEvent(Gt,!0,!0),Ge.gesture=Se,Se.target.dispatchEvent(Ge)}(Gt,Se);var Ge=this.handlers[Gt]&&this.handlers[Gt].slice();if(Ge&&Ge.length){Se.type=Gt,Se.preventDefault=function(){Se.srcEvent.preventDefault()};for(var gn=0;gn<Ge.length;)Ge[gn](Se),gn++}},destroy:function(){this.element&&xo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},et(wn,{INPUT_START:Me,INPUT_MOVE:le,INPUT_END:Dt,INPUT_CANCEL:Ht,STATE_POSSIBLE:Xs,STATE_BEGAN:zi,STATE_CHANGED:cs,STATE_ENDED:Qi,STATE_RECOGNIZED:po,STATE_CANCELLED:nl,STATE_FAILED:32,DIRECTION_NONE:jt,DIRECTION_LEFT:Ut,DIRECTION_RIGHT:gt,DIRECTION_UP:At,DIRECTION_DOWN:St,DIRECTION_HORIZONTAL:S,DIRECTION_VERTICAL:P,DIRECTION_ALL:z,Manager:Er,Input:Ot,TouchAction:fo,TouchInput:Ji,MouseInput:rn,PointerEventInput:Jt,TouchMouseInput:Bi,SingleTouchInput:An,Recognizer:as,AttrRecognizer:us,Tap:Ze,Pan:so,Swipe:tn,Pinch:oe,Rotate:Re,Press:we,on:wt,off:q,each:bt,merge:it,extend:W,assign:et,inherit:V,bindFn:lt,prefixed:Et}),(typeof J<"u"?J:typeof self<"u"?self:{}).Hammer=wn,(tt=function(){return wn}.call(se,Y,se,Xe))!==G&&(Xe.exports=tt)}(window,document)},7027:(Xe,se,Y)=>{"use strict";var J=Y(5203)("%Object.defineProperty%",!0),F=function(){if(J)try{return J({},"a",{value:1}),!0}catch{return!1}return!1};F.hasArrayLengthDefineBug=function(){if(!F())return null;try{return 1!==J([],"length",{value:1}).length}catch{return!0}},Xe.exports=F},2969:(Xe,se,Y)=>{"use strict";var tt=typeof Symbol<"u"&&Symbol,J=Y(1983);Xe.exports=function(){return"function"==typeof tt&&"function"==typeof Symbol&&"symbol"==typeof tt("foo")&&"symbol"==typeof Symbol("bar")&&J()}},1983:Xe=>{"use strict";Xe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var Y={},tt=Symbol("test"),J=Object(tt);if("string"==typeof tt||"[object Symbol]"!==Object.prototype.toString.call(tt)||"[object Symbol]"!==Object.prototype.toString.call(J))return!1;for(tt in Y[tt]=42,Y)return!1;if("function"==typeof Object.keys&&0!==Object.keys(Y).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(Y).length)return!1;var Z=Object.getOwnPropertySymbols(Y);if(1!==Z.length||Z[0]!==tt||!Object.prototype.propertyIsEnumerable.call(Y,tt))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(Y,tt);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},6259:(Xe,se,Y)=>{"use strict";var tt=Y(1983);Xe.exports=function(){return tt()&&!!Symbol.toStringTag}},3164:(Xe,se,Y)=>{"use strict";var tt=Y(4444);Xe.exports=tt.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Xe,se,Y)=>{"use strict";var tt=Y(6259)(),F=Y(5834)("Object.prototype.toString"),Z=function(at){return!(tt&&at&&"object"==typeof at&&Symbol.toStringTag in at)&&"[object Arguments]"===F(at)},G=function(at){return!!Z(at)||null!==at&&"object"==typeof at&&"number"==typeof at.length&&at.length>=0&&"[object Array]"!==F(at)&&"[object Function]"===F(at.callee)},O=function(){return Z(arguments)}();Z.isLegacyArguments=G,Xe.exports=O?Z:G},2374:(Xe,se,Y)=>{"use strict";var tt=Date.prototype.getDay,F=Object.prototype.toString,G=Y(6259)();Xe.exports=function(Q){return"object"==typeof Q&&null!==Q&&(G?function(Q){try{return tt.call(Q),!0}catch{return!1}}(Q):"[object Date]"===F.call(Q))}},2342:(Xe,se,Y)=>{"use strict";var F,Z,G,O,tt=Y(5834),J=Y(6259)();if(J){F=tt("Object.prototype.hasOwnProperty"),Z=tt("RegExp.prototype.exec"),G={};var Q=function(){throw G};O={toString:Q,valueOf:Q},"symbol"==typeof Symbol.toPrimitive&&(O[Symbol.toPrimitive]=Q)}var at=tt("Object.prototype.toString"),ct=Object.getOwnPropertyDescriptor;Xe.exports=J?function(N){if(!N||"object"!=typeof N)return!1;var U=ct(N,"lastIndex");if(!U||!F(U,"value"))return!1;try{Z(N,O)}catch(X){return X===G}}:function(N){return!(!N||"object"!=typeof N&&"function"!=typeof N)&&"[object RegExp]"===at(N)}},3316:(Xe,se,Y)=>{var tt;window,Xe.exports=(tt=Y(8407),function(J){var F={};function Z(G){if(F[G])return F[G].exports;var O=F[G]={i:G,l:!1,exports:{}};return J[G].call(O.exports,O,O.exports,Z),O.l=!0,O.exports}return Z.m=J,Z.c=F,Z.d=function(G,O,Q){Z.o(G,O)||Object.defineProperty(G,O,{enumerable:!0,get:Q})},Z.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Z.t=function(G,O){if(1&O&&(G=Z(G)),8&O||4&O&&"object"==typeof G&&G&&G.__esModule)return G;var Q=Object.create(null);if(Z.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:G}),2&O&&"string"!=typeof G)for(var at in G)Z.d(Q,at,function(ct){return G[ct]}.bind(null,at));return Q},Z.n=function(G){var O=G&&G.__esModule?function(){return G.default}:function(){return G};return Z.d(O,"a",O),O},Z.o=function(G,O){return Object.prototype.hasOwnProperty.call(G,O)},Z.p="",Z(Z.s=10)}([function(J,F){J.exports=tt},function(J,F,Z){"use strict";function G(ut,ae,ce){ce=ce||2;var Et,vt,dt,_t,Zt,Ft,Ee,Wt=ae&&ae.length,qt=Wt?ae[0]*ce:ut.length,pe=O(ut,0,qt,ce,!0),Ne=[];if(!pe||pe.next===pe.prev)return Ne;if(Wt&&(pe=function(re,Me,le,Dt){var Ht,jt,At,St=[];for(Ht=0,jt=Me.length;Ht<jt;Ht++)(At=O(re,Me[Ht]*Dt,Ht<jt-1?Me[Ht+1]*Dt:re.length,Dt,!1))===At.next&&(At.steiner=!0),St.push(et(At));for(St.sort(U),Ht=0;Ht<St.length;Ht++)bt(St[Ht],le),le=Q(le,le.next);return le}(ut,ae,pe,ce)),ut.length>80*ce){Et=dt=ut[0],vt=_t=ut[1];for(var Le=ce;Le<qt;Le+=ce)(Zt=ut[Le])<Et&&(Et=Zt),(Ft=ut[Le+1])<vt&&(vt=Ft),Zt>dt&&(dt=Zt),Ft>_t&&(_t=Ft);Ee=0!==(Ee=Math.max(dt-Et,_t-vt))?1/Ee:0}return at(pe,Ne,ce,Et,vt,Ee),Ne}function O(ut,ae,ce,Et,vt){var dt,_t;if(vt===It(ut,ae,ce,Et)>0)for(dt=ae;dt<ce;dt+=Et)_t=q(dt,ut[dt],ut[dt+1],_t);else for(dt=ce-Et;dt>=ae;dt-=Et)_t=q(dt,ut[dt],ut[dt+1],_t);return _t&&lt(_t,_t.next)&&(Pt(_t),_t=_t.next),_t}function Q(ut,ae){if(!ut)return ut;ae||(ae=ut);var ce,Et=ut;do{if(ce=!1,Et.steiner||!lt(Et,Et.next)&&0!==V(Et.prev,Et,Et.next))Et=Et.next;else{if(Pt(Et),(Et=ae=Et.prev)===Et.next)break;ce=!0}}while(ce||Et!==ae);return ae}function at(ut,ae,ce,Et,vt,dt,_t){if(ut){!_t&&dt&&function(Wt,qt,pe,Ne){var Le=Wt;do{null===Le.z&&(Le.z=X(Le.x,Le.y,qt,pe,Ne)),Le.prevZ=Le.prev,Le.nextZ=Le.next,Le=Le.next}while(Le!==Wt);Le.prevZ.nextZ=null,Le.prevZ=null,function(re){var Me,le,Dt,Ht,jt,Ut,gt,At,St=1;do{for(le=re,re=null,jt=null,Ut=0;le;){for(Ut++,Dt=le,gt=0,Me=0;Me<St&&(gt++,Dt=Dt.nextZ);Me++);for(At=St;gt>0||At>0&&Dt;)0!==gt&&(0===At||!Dt||le.z<=Dt.z)?(Ht=le,le=le.nextZ,gt--):(Ht=Dt,Dt=Dt.nextZ,At--),jt?jt.nextZ=Ht:re=Ht,Ht.prevZ=jt,jt=Ht;le=Dt}jt.nextZ=null,St*=2}while(Ut>1)}(Le)}(ut,Et,vt,dt);for(var Zt,Ft,Ee=ut;ut.prev!==ut.next;)if(Zt=ut.prev,Ft=ut.next,dt?ot(ut,Et,vt,dt):ct(ut))ae.push(Zt.i/ce),ae.push(ut.i/ce),ae.push(Ft.i/ce),Pt(ut),ut=Ft.next,Ee=Ft.next;else if((ut=Ft)===Ee){_t?1===_t?at(ut=$(ut,ae,ce),ae,ce,Et,vt,dt,2):2===_t&&N(ut,ae,ce,Et,vt,dt):at(Q(ut),ae,ce,Et,vt,dt,1);break}}}function ct(ut){var ae=ut.prev,ce=ut,Et=ut.next;if(V(ae,ce,Et)>=0)return!1;for(var vt=ut.next.next;vt!==ut.prev;){if(W(ae.x,ae.y,ce.x,ce.y,Et.x,Et.y,vt.x,vt.y)&&V(vt.prev,vt,vt.next)>=0)return!1;vt=vt.next}return!0}function ot(ut,ae,ce,Et){var vt=ut.prev,dt=ut,_t=ut.next;if(V(vt,dt,_t)>=0)return!1;for(var Ee=vt.x>dt.x?vt.x>_t.x?vt.x:_t.x:dt.x>_t.x?dt.x:_t.x,Wt=vt.y>dt.y?vt.y>_t.y?vt.y:_t.y:dt.y>_t.y?dt.y:_t.y,qt=X(vt.x<dt.x?vt.x<_t.x?vt.x:_t.x:dt.x<_t.x?dt.x:_t.x,vt.y<dt.y?vt.y<_t.y?vt.y:_t.y:dt.y<_t.y?dt.y:_t.y,ae,ce,Et),pe=X(Ee,Wt,ae,ce,Et),Ne=ut.prevZ,Le=ut.nextZ;Ne&&Ne.z>=qt&&Le&&Le.z<=pe;){if(Ne!==ut.prev&&Ne!==ut.next&&W(vt.x,vt.y,dt.x,dt.y,_t.x,_t.y,Ne.x,Ne.y)&&V(Ne.prev,Ne,Ne.next)>=0||(Ne=Ne.prevZ,Le!==ut.prev&&Le!==ut.next&&W(vt.x,vt.y,dt.x,dt.y,_t.x,_t.y,Le.x,Le.y)&&V(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Ne&&Ne.z>=qt;){if(Ne!==ut.prev&&Ne!==ut.next&&W(vt.x,vt.y,dt.x,dt.y,_t.x,_t.y,Ne.x,Ne.y)&&V(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.prevZ}for(;Le&&Le.z<=pe;){if(Le!==ut.prev&&Le!==ut.next&&W(vt.x,vt.y,dt.x,dt.y,_t.x,_t.y,Le.x,Le.y)&&V(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function $(ut,ae,ce){var Et=ut;do{var vt=Et.prev,dt=Et.next.next;!lt(vt,dt)&&mt(vt,Et,Et.next,dt)&&Ct(vt,dt)&&Ct(dt,vt)&&(ae.push(vt.i/ce),ae.push(Et.i/ce),ae.push(dt.i/ce),Pt(Et),Pt(Et.next),Et=ut=dt),Et=Et.next}while(Et!==ut);return Et}function N(ut,ae,ce,Et,vt,dt){var _t=ut;do{for(var Zt=_t.next.next;Zt!==_t.prev;){if(_t.i!==Zt.i&&it(_t,Zt)){var Ft=wt(_t,Zt);return _t=Q(_t,_t.next),Ft=Q(Ft,Ft.next),at(_t,ae,ce,Et,vt,dt),void at(Ft,ae,ce,Et,vt,dt)}Zt=Zt.next}_t=_t.next}while(_t!==ut)}function U(ut,ae){return ut.x-ae.x}function bt(ut,ae){if(ae=function(Et,vt){var dt,_t=vt,Zt=Et.x,Ft=Et.y,Ee=-1/0;do{if(Ft<=_t.y&&Ft>=_t.next.y&&_t.next.y!==_t.y){var Wt=_t.x+(Ft-_t.y)*(_t.next.x-_t.x)/(_t.next.y-_t.y);if(Wt<=Zt&&Wt>Ee){if(Ee=Wt,Wt===Zt){if(Ft===_t.y)return _t;if(Ft===_t.next.y)return _t.next}dt=_t.x<_t.next.x?_t:_t.next}}_t=_t.next}while(_t!==vt);if(!dt)return null;if(Zt===Ee)return dt.prev;var qt,pe=dt,Ne=dt.x,Le=dt.y,re=1/0;for(_t=dt.next;_t!==pe;)Zt>=_t.x&&_t.x>=Ne&&Zt!==_t.x&&W(Ft<Le?Zt:Ee,Ft,Ne,Le,Ft<Le?Ee:Zt,Ft,_t.x,_t.y)&&((qt=Math.abs(Ft-_t.y)/(Zt-_t.x))<re||qt===re&&_t.x>dt.x)&&Ct(_t,Et)&&(dt=_t,re=qt),_t=_t.next;return dt}(ut,ae)){var ce=wt(ae,ut);Q(ce,ce.next)}}function X(ut,ae,ce,Et,vt){return(ut=1431655765&((ut=858993459&((ut=252645135&((ut=16711935&((ut=32767*(ut-ce)*vt)|ut<<8))|ut<<4))|ut<<2))|ut<<1))|(ae=1431655765&((ae=858993459&((ae=252645135&((ae=16711935&((ae=32767*(ae-Et)*vt)|ae<<8))|ae<<4))|ae<<2))|ae<<1))<<1}function et(ut){var ae=ut,ce=ut;do{(ae.x<ce.x||ae.x===ce.x&&ae.y<ce.y)&&(ce=ae),ae=ae.next}while(ae!==ut);return ce}function W(ut,ae,ce,Et,vt,dt,_t,Zt){return(vt-_t)*(ae-Zt)-(ut-_t)*(dt-Zt)>=0&&(ut-_t)*(Et-Zt)-(ce-_t)*(ae-Zt)>=0&&(ce-_t)*(dt-Zt)-(vt-_t)*(Et-Zt)>=0}function it(ut,ae){return ut.next.i!==ae.i&&ut.prev.i!==ae.i&&!function(ce,Et){var vt=ce;do{if(vt.i!==ce.i&&vt.next.i!==ce.i&&vt.i!==Et.i&&vt.next.i!==Et.i&&mt(vt,vt.next,ce,Et))return!0;vt=vt.next}while(vt!==ce);return!1}(ut,ae)&&Ct(ut,ae)&&Ct(ae,ut)&&function(ce,Et){var vt=ce,dt=!1,_t=(ce.x+Et.x)/2,Zt=(ce.y+Et.y)/2;do{vt.y>Zt!=vt.next.y>Zt&&vt.next.y!==vt.y&&_t<(vt.next.x-vt.x)*(Zt-vt.y)/(vt.next.y-vt.y)+vt.x&&(dt=!dt),vt=vt.next}while(vt!==ce);return dt}(ut,ae)}function V(ut,ae,ce){return(ae.y-ut.y)*(ce.x-ae.x)-(ae.x-ut.x)*(ce.y-ae.y)}function lt(ut,ae){return ut.x===ae.x&&ut.y===ae.y}function mt(ut,ae,ce,Et){return!!(lt(ut,ae)&&lt(ce,Et)||lt(ut,Et)&&lt(ce,ae))||V(ut,ae,ce)>0!=V(ut,ae,Et)>0&&V(ce,Et,ut)>0!=V(ce,Et,ae)>0}function Ct(ut,ae){return V(ut.prev,ut,ut.next)<0?V(ut,ae,ut.next)>=0&&V(ut,ut.prev,ae)>=0:V(ut,ae,ut.prev)<0||V(ut,ut.next,ae)<0}function wt(ut,ae){var ce=new Tt(ut.i,ut.x,ut.y),Et=new Tt(ae.i,ae.x,ae.y),vt=ut.next,dt=ae.prev;return ut.next=ae,ae.prev=ut,ce.next=vt,vt.prev=ce,Et.next=ce,ce.prev=Et,dt.next=Et,Et.prev=dt,Et}function q(ut,ae,ce,Et){var vt=new Tt(ut,ae,ce);return Et?(vt.next=Et.next,vt.prev=Et,Et.next.prev=vt,Et.next=vt):(vt.prev=vt,vt.next=vt),vt}function Pt(ut){ut.next.prev=ut.prev,ut.prev.next=ut.next,ut.prevZ&&(ut.prevZ.nextZ=ut.nextZ),ut.nextZ&&(ut.nextZ.prevZ=ut.prevZ)}function Tt(ut,ae,ce){this.i=ut,this.x=ae,this.y=ce,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function It(ut,ae,ce,Et){for(var vt=0,dt=ae,_t=ce-Et;dt<ce;dt+=Et)vt+=(ut[_t]-ut[dt])*(ut[dt+1]+ut[_t+1]),_t=dt;return vt}J.exports=G,J.exports.default=G,G.deviation=function(ut,ae,ce,Et){var vt=ae&&ae.length,_t=Math.abs(It(ut,0,vt?ae[0]*ce:ut.length,ce));if(vt)for(var Zt=0,Ft=ae.length;Zt<Ft;Zt++)_t-=Math.abs(It(ut,ae[Zt]*ce,Zt<Ft-1?ae[Zt+1]*ce:ut.length,ce));var qt=0;for(Zt=0;Zt<Et.length;Zt+=3){var pe=Et[Zt]*ce,Ne=Et[Zt+1]*ce,Le=Et[Zt+2]*ce;qt+=Math.abs((ut[pe]-ut[Le])*(ut[Ne+1]-ut[pe+1])-(ut[pe]-ut[Ne])*(ut[Le+1]-ut[pe+1]))}return 0===_t&&0===qt?0:Math.abs((qt-_t)/_t)},G.flatten=function(ut){for(var ae=ut[0][0].length,ce={vertices:[],holes:[],dimensions:ae},Et=0,vt=0;vt<ut.length;vt++){for(var dt=0;dt<ut[vt].length;dt++)for(var _t=0;_t<ae;_t++)ce.vertices.push(ut[vt][dt][_t]);vt>0&&ce.holes.push(Et+=ut[vt-1].length)}return ce}},function(J,F,Z){"use strict";var G=Z(3),O=Z(5),Q=Z(6),at=Z(7);function ct($){void 0!==$&&this.loadFeatureCollection($)}function ot($,N){if(O($,N.geometry.coordinates[0])){for(var bt=1;bt<N.geometry.coordinates.length;bt++)if(O($,N.geometry.coordinates[bt]))return!1;return!0}return!1}ct.prototype.searchForOnePolygon=function($,N){var U=this.rtree.search({minX:$,minY:N,maxX:$,maxY:N}),bt=[$,N],X=U.map(function(et,W){return this.polygons[U[W].polyId]},this);return at.find(X,function(et){return ot(bt,et)})},ct.prototype.searchForMultiplePolygons=function($,N,U){-1===U&&(U=Number.MAX_SAFE_INTEGER);var bt=[$,N],X=this.rtree.search({minX:$,minY:N,maxX:$,maxY:N}),et=X.map(function(it,V){return this.polygons[X[V].polyId]},this),W=0;return{type:"FeatureCollection",features:et=et.filter(function(it){return!(W>=U||!ot(bt,it)||(W++,0))})}},ct.prototype.search=function($,N,U){return void 0===U?this.searchForOnePolygon($,N):this.searchForMultiplePolygons($,N,U)},ct.prototype.loadFeatureCollection=function($){var N=[],U=[],bt=0;function X(et){U.push(et);var W=Q.getBoundingBox(et.geometry.coordinates[0]);W.polyId=bt++,N.push(W)}$.features.forEach(function(et){if(et.geometry&&void 0!==et.geometry.coordinates[0]&&et.geometry.coordinates[0].length>0)switch(et.geometry.type){case"Polygon":X(et);break;case"MultiPolygon":for(var W=et.geometry.coordinates,it=0;it<W.length;it++)X({type:"Feature",properties:et.properties,geometry:{type:"Polygon",coordinates:W[it]}})}}),this.rtree=(new G).load(N),this.polygons=U},J.exports=ct},function(J,F,Z){"use strict";J.exports=O,J.exports.default=O;var G=Z(4);function O(V,lt){if(!(this instanceof O))return new O(V,lt);this._maxEntries=Math.max(4,V||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),lt&&this._initFormat(lt),this.clear()}function Q(V,lt,mt){if(!mt)return lt.indexOf(V);for(var Ct=0;Ct<lt.length;Ct++)if(mt(V,lt[Ct]))return Ct;return-1}function at(V,lt){ct(V,0,V.children.length,lt,V)}function ct(V,lt,mt,Ct,wt){wt||(wt=W(null)),wt.minX=1/0,wt.minY=1/0,wt.maxX=-1/0,wt.maxY=-1/0;for(var q,Pt=lt;Pt<mt;Pt++)q=V.children[Pt],ot(wt,V.leaf?Ct(q):q);return wt}function ot(V,lt){return V.minX=Math.min(V.minX,lt.minX),V.minY=Math.min(V.minY,lt.minY),V.maxX=Math.max(V.maxX,lt.maxX),V.maxY=Math.max(V.maxY,lt.maxY),V}function $(V,lt){return V.minX-lt.minX}function N(V,lt){return V.minY-lt.minY}function U(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function bt(V){return V.maxX-V.minX+(V.maxY-V.minY)}function X(V,lt){return V.minX<=lt.minX&&V.minY<=lt.minY&&lt.maxX<=V.maxX&&lt.maxY<=V.maxY}function et(V,lt){return lt.minX<=V.maxX&&lt.minY<=V.maxY&&lt.maxX>=V.minX&&lt.maxY>=V.minY}function W(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function it(V,lt,mt,Ct,wt){for(var q,Pt=[lt,mt];Pt.length;)(mt=Pt.pop())-(lt=Pt.pop())<=Ct||(q=lt+Math.ceil((mt-lt)/Ct/2)*Ct,G(V,q,lt,mt,wt),Pt.push(lt,q,q,mt))}O.prototype={all:function(){return this._all(this.data,[])},search:function(V){var lt=this.data,mt=[],Ct=this.toBBox;if(!et(V,lt))return mt;for(var wt,q,Pt,Tt,It=[];lt;){for(wt=0,q=lt.children.length;wt<q;wt++)Pt=lt.children[wt],et(V,Tt=lt.leaf?Ct(Pt):Pt)&&(lt.leaf?mt.push(Pt):X(V,Tt)?this._all(Pt,mt):It.push(Pt));lt=It.pop()}return mt},collides:function(V){var lt=this.data,mt=this.toBBox;if(!et(V,lt))return!1;for(var Ct,wt,q,Pt,Tt=[];lt;){for(Ct=0,wt=lt.children.length;Ct<wt;Ct++)if(q=lt.children[Ct],et(V,Pt=lt.leaf?mt(q):q)){if(lt.leaf||X(V,Pt))return!0;Tt.push(q)}lt=Tt.pop()}return!1},load:function(V){if(!V||!V.length)return this;if(V.length<this._minEntries){for(var lt=0,mt=V.length;lt<mt;lt++)this.insert(V[lt]);return this}var Ct=this._build(V.slice(),0,V.length-1,0);if(this.data.children.length)if(this.data.height===Ct.height)this._splitRoot(this.data,Ct);else{if(this.data.height<Ct.height){var wt=this.data;this.data=Ct,Ct=wt}this._insert(Ct,this.data.height-Ct.height-1,!0)}else this.data=Ct;return this},insert:function(V){return V&&this._insert(V,this.data.height-1),this},clear:function(){return this.data=W([]),this},remove:function(V,lt){if(!V)return this;for(var mt,Ct,wt,q,Pt=this.data,Tt=this.toBBox(V),It=[],ut=[];Pt||It.length;){if(Pt||(Pt=It.pop(),Ct=It[It.length-1],mt=ut.pop(),q=!0),Pt.leaf&&-1!==(wt=Q(V,Pt.children,lt)))return Pt.children.splice(wt,1),It.push(Pt),this._condense(It),this;q||Pt.leaf||!X(Pt,Tt)?Ct?(mt++,Pt=Ct.children[mt],q=!1):Pt=null:(It.push(Pt),ut.push(mt),mt=0,Ct=Pt,Pt=Pt.children[0])}return this},toBBox:function(V){return V},compareMinX:$,compareMinY:N,toJSON:function(){return this.data},fromJSON:function(V){return this.data=V,this},_all:function(V,lt){for(var mt=[];V;)V.leaf?lt.push.apply(lt,V.children):mt.push.apply(mt,V.children),V=mt.pop();return lt},_build:function(V,lt,mt,Ct){var wt,q=mt-lt+1,Pt=this._maxEntries;if(q<=Pt)return at(wt=W(V.slice(lt,mt+1)),this.toBBox),wt;Ct||(Ct=Math.ceil(Math.log(q)/Math.log(Pt)),Pt=Math.ceil(q/Math.pow(Pt,Ct-1))),(wt=W([])).leaf=!1,wt.height=Ct;var Tt,It,ut,ae,ce=Math.ceil(q/Pt),Et=ce*Math.ceil(Math.sqrt(Pt));for(it(V,lt,mt,Et,this.compareMinX),Tt=lt;Tt<=mt;Tt+=Et)for(it(V,Tt,ut=Math.min(Tt+Et-1,mt),ce,this.compareMinY),It=Tt;It<=ut;It+=ce)ae=Math.min(It+ce-1,ut),wt.children.push(this._build(V,It,ae,Ct-1));return at(wt,this.toBBox),wt},_chooseSubtree:function(V,lt,mt,Ct){for(var wt,q,Pt,Tt,It,ut,ae,ce,Et,vt;Ct.push(lt),!lt.leaf&&Ct.length-1!==mt;){for(ae=ce=1/0,wt=0,q=lt.children.length;wt<q;wt++)It=U(Pt=lt.children[wt]),Et=V,vt=Pt,(ut=(Math.max(vt.maxX,Et.maxX)-Math.min(vt.minX,Et.minX))*(Math.max(vt.maxY,Et.maxY)-Math.min(vt.minY,Et.minY))-It)<ce?(ce=ut,ae=It<ae?It:ae,Tt=Pt):ut===ce&&It<ae&&(ae=It,Tt=Pt);lt=Tt||lt.children[0]}return lt},_insert:function(V,lt,mt){var wt=mt?V:(0,this.toBBox)(V),q=[],Pt=this._chooseSubtree(wt,this.data,lt,q);for(Pt.children.push(V),ot(Pt,wt);lt>=0&&q[lt].children.length>this._maxEntries;)this._split(q,lt),lt--;this._adjustParentBBoxes(wt,q,lt)},_split:function(V,lt){var mt=V[lt],Ct=mt.children.length,wt=this._minEntries;this._chooseSplitAxis(mt,wt,Ct);var q=this._chooseSplitIndex(mt,wt,Ct),Pt=W(mt.children.splice(q,mt.children.length-q));Pt.height=mt.height,Pt.leaf=mt.leaf,at(mt,this.toBBox),at(Pt,this.toBBox),lt?V[lt-1].children.push(Pt):this._splitRoot(mt,Pt)},_splitRoot:function(V,lt){this.data=W([V,lt]),this.data.height=V.height+1,this.data.leaf=!1,at(this.data,this.toBBox)},_chooseSplitIndex:function(V,lt,mt){var Ct,wt,q,Pt,Tt,It,ut,ae,ce,Et,vt,dt,_t,Zt;for(It=ut=1/0,Ct=lt;Ct<=mt-lt;Ct++)ce=wt=ct(V,0,Ct,this.toBBox),Et=q=ct(V,Ct,mt,this.toBBox),void 0,void 0,void 0,void 0,vt=Math.max(ce.minX,Et.minX),dt=Math.max(ce.minY,Et.minY),_t=Math.min(ce.maxX,Et.maxX),Zt=Math.min(ce.maxY,Et.maxY),Pt=Math.max(0,_t-vt)*Math.max(0,Zt-dt),Tt=U(wt)+U(q),Pt<It?(It=Pt,ae=Ct,ut=Tt<ut?Tt:ut):Pt===It&&Tt<ut&&(ut=Tt,ae=Ct);return ae},_chooseSplitAxis:function(V,lt,mt){var Ct=V.leaf?this.compareMinX:$,wt=V.leaf?this.compareMinY:N;this._allDistMargin(V,lt,mt,Ct)<this._allDistMargin(V,lt,mt,wt)&&V.children.sort(Ct)},_allDistMargin:function(V,lt,mt,Ct){V.children.sort(Ct);var wt,q,Pt=this.toBBox,Tt=ct(V,0,lt,Pt),It=ct(V,mt-lt,mt,Pt),ut=bt(Tt)+bt(It);for(wt=lt;wt<mt-lt;wt++)q=V.children[wt],ot(Tt,V.leaf?Pt(q):q),ut+=bt(Tt);for(wt=mt-lt-1;wt>=lt;wt--)q=V.children[wt],ot(It,V.leaf?Pt(q):q),ut+=bt(It);return ut},_adjustParentBBoxes:function(V,lt,mt){for(var Ct=mt;Ct>=0;Ct--)ot(lt[Ct],V)},_condense:function(V){for(var lt,mt=V.length-1;mt>=0;mt--)0===V[mt].children.length?mt>0?(lt=V[mt-1].children).splice(lt.indexOf(V[mt]),1):this.clear():at(V[mt],this.toBBox)},_initFormat:function(V){var lt=["return a"," - b",";"];this.compareMinX=new Function("a","b",lt.join(V[0])),this.compareMinY=new Function("a","b",lt.join(V[1])),this.toBBox=new Function("a","return {minX: a"+V[0]+", minY: a"+V[1]+", maxX: a"+V[2]+", maxY: a"+V[3]+"};")}}},function(J,F,Z){J.exports=function(){"use strict";function G(Q,at,ct){var ot=Q[at];Q[at]=Q[ct],Q[ct]=ot}function O(Q,at){return Q<at?-1:Q>at?1:0}return function(Q,at,ct,ot,$){!function N(U,bt,X,et,W){for(;et>X;){if(et-X>600){var it=et-X+1,V=bt-X+1,lt=Math.log(it),mt=.5*Math.exp(2*lt/3),Ct=.5*Math.sqrt(lt*mt*(it-mt)/it)*(V-it/2<0?-1:1);N(U,bt,Math.max(X,Math.floor(bt-V*mt/it+Ct)),Math.min(et,Math.floor(bt+(it-V)*mt/it+Ct)),W)}var Pt=U[bt],Tt=X,It=et;for(G(U,X,bt),W(U[et],Pt)>0&&G(U,X,et);Tt<It;){for(G(U,Tt,It),Tt++,It--;W(U[Tt],Pt)<0;)Tt++;for(;W(U[It],Pt)>0;)It--}0===W(U[X],Pt)?G(U,X,It):G(U,++It,et),It<=bt&&(X=It+1),bt<=It&&(et=It-1)}}(Q,at,ct||0,ot||Q.length-1,$||O)}}()},function(J,F){J.exports=function(Z,G){for(var O=Z[0],Q=Z[1],at=!1,ct=0,ot=G.length-1;ct<G.length;ot=ct++){var $=G[ct][0],N=G[ct][1],bt=G[ot][1];N>Q!=bt>Q&&O<(G[ot][0]-$)*(Q-N)/(bt-N)+$&&(at=!at)}return at}},function(J,F,Z){"use strict";J.exports={getBoundingBox:function(G){for(var O=G[0],Q={minX:O[0],minY:O[1],maxX:O[0],maxY:O[1]},at=1;at<G.length;at++){var ct=G[at],ot=ct[0];ot<Q.minX?Q.minX=ot:ot>Q.maxX&&(Q.maxX=ot);var $=ct[1];$<Q.minY?Q.minY=$:$>Q.maxY&&(Q.maxY=$)}return Q}}},function(J,F,Z){(function(G,O){var Q;(function(){var at="Expected a function",ct="__lodash_placeholder__",ot=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$="[object Arguments]",N="[object Array]",U="[object Boolean]",bt="[object Date]",X="[object Error]",et="[object Function]",W="[object GeneratorFunction]",it="[object Map]",V="[object Number]",lt="[object Object]",mt="[object RegExp]",Ct="[object Set]",wt="[object String]",q="[object Symbol]",Pt="[object WeakMap]",Tt="[object ArrayBuffer]",It="[object DataView]",ut="[object Float32Array]",ae="[object Float64Array]",ce="[object Int8Array]",Et="[object Int16Array]",vt="[object Int32Array]",dt="[object Uint8Array]",_t="[object Uint16Array]",Zt="[object Uint32Array]",Ft=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,Wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qt=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,Ne=RegExp(qt.source),Le=RegExp(pe.source),re=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,le=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ut=/[\\^$.*+?()[\]{}|]/g,gt=RegExp(Ut.source),At=/^\s+/,St=/\s/,S=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,P=/\{\n\/\* \[wrapped with (.+)\] \*/,z=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/[()=,{}\[\]\/\s]/,Ot=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ye=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,sn=/^(?:0|[1-9]\d*)$/,un=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ln=/($^)/,xn=/['\n\r\u2028\u2029\\]/g,cn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_e="["+Pe+"]",Oe="["+cn+"]",We="\\d+",_n="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+Pe+We+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yn="\\ud83c[\\udffb-\\udfff]",Bt="[^\\ud800-\\udfff]",Jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",je="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Je="(?:"+_n+"|"+en+")",An="(?:"+je+"|"+en+")",vi="(?:"+Oe+"|"+yn+")?",ur="[\\ufe0e\\ufe0f]?"+vi+"(?:\\u200d(?:"+[Bt,Jt,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+vi+")*",Ri="(?:"+["[\\u2700-\\u27bf]",Jt,Ae].join("|")+")"+ur,Ji="(?:"+[Bt+Oe+"?",Oe,Jt,Ae,"[\\ud800-\\udfff]"].join("|")+")",Lo=RegExp("['\u2019]","g"),Za=RegExp(Oe,"g"),Xo=RegExp(yn+"(?="+yn+")|"+Ji+ur,"g"),Bi=RegExp([je+"?"+_n+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[_e,je,"$"].join("|")+")",An+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[_e,je+Je,"$"].join("|")+")",je+"?"+Je+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",je+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",We,Ri].join("|"),"g"),ua=RegExp("[\\u200d\\ud800-\\udfff"+cn+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Be=-1,qe={};qe[ut]=qe[ae]=qe[ce]=qe[Et]=qe[vt]=qe[dt]=qe["[object Uint8ClampedArray]"]=qe[_t]=qe[Zt]=!0,qe[$]=qe[N]=qe[Tt]=qe[U]=qe[It]=qe[bt]=qe[X]=qe[et]=qe[it]=qe[V]=qe[lt]=qe[mt]=qe[Ct]=qe[wt]=qe[Pt]=!1;var an={};an[$]=an[N]=an[Tt]=an[It]=an[U]=an[bt]=an[ut]=an[ae]=an[ce]=an[Et]=an[vt]=an[it]=an[V]=an[lt]=an[mt]=an[Ct]=an[wt]=an[q]=an[dt]=an["[object Uint8ClampedArray]"]=an[_t]=an[Zt]=!0,an[X]=an[et]=an[Pt]=!1;var Fn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ri=parseFloat,Ai=parseInt,Vi="object"==typeof G&&G&&G.Object===Object&&G,Ti="object"==typeof self&&self&&self.Object===Object&&self,bo=Vi||Ti||Function("return this")(),fo=F&&!F.nodeType&&F,Va=fo&&"object"==typeof O&&O&&!O.nodeType&&O,jo=Va&&Va.exports===fo,Xs=jo&&Vi.process,zi=function(){try{return Va&&Va.require&&Va.require("util").types||Xs&&Xs.binding&&Xs.binding("util")}catch{}}(),cs=zi&&zi.isArrayBuffer,Qi=zi&&zi.isDate,po=zi&&zi.isMap,nl=zi&&zi.isRegExp,os=zi&&zi.isSet,as=zi&&zi.isTypedArray;function ki(fn,Tn,Bn){switch(Bn.length){case 0:return fn.call(Tn);case 1:return fn.call(Tn,Bn[0]);case 2:return fn.call(Tn,Bn[0],Bn[1]);case 3:return fn.call(Tn,Bn[0],Bn[1],Bn[2])}return fn.apply(Tn,Bn)}function Yi(fn,Tn,Bn,gi){for(var Tr=-1,Do=null==fn?0:fn.length;++Tr<Do;){var qs=fn[Tr];Tn(gi,qs,Bn(qs),fn)}return gi}function sr(fn,Tn){for(var Bn=-1,gi=null==fn?0:fn.length;++Bn<gi&&!1!==Tn(fn[Bn],Bn,fn););return fn}function us(fn,Tn){for(var Bn=null==fn?0:fn.length;Bn--&&!1!==Tn(fn[Bn],Bn,fn););return fn}function so(fn,Tn){for(var Bn=-1,gi=null==fn?0:fn.length;++Bn<gi;)if(!Tn(fn[Bn],Bn,fn))return!1;return!0}function oe(fn,Tn){for(var Bn=-1,gi=null==fn?0:fn.length,Tr=0,Do=[];++Bn<gi;){var qs=fn[Bn];Tn(qs,Bn,fn)&&(Do[Tr++]=qs)}return Do}function we(fn,Tn){return!(null==fn||!fn.length)&&il(fn,Tn,0)>-1}function Re(fn,Tn,Bn){for(var gi=-1,Tr=null==fn?0:fn.length;++gi<Tr;)if(Bn(Tn,fn[gi]))return!0;return!1}function tn(fn,Tn){for(var Bn=-1,gi=null==fn?0:fn.length,Tr=Array(gi);++Bn<gi;)Tr[Bn]=Tn(fn[Bn],Bn,fn);return Tr}function Ze(fn,Tn){for(var Bn=-1,gi=Tn.length,Tr=fn.length;++Bn<gi;)fn[Tr+Bn]=Tn[Bn];return fn}function wn(fn,Tn,Bn,gi){var Tr=-1,Do=null==fn?0:fn.length;for(gi&&Do&&(Bn=fn[++Tr]);++Tr<Do;)Bn=Tn(Bn,fn[Tr],Tr,fn);return Bn}function pr(fn,Tn,Bn,gi){var Tr=null==fn?0:fn.length;for(gi&&Tr&&(Bn=fn[--Tr]);Tr--;)Bn=Tn(Bn,fn[Tr],Tr,fn);return Bn}function _i(fn,Tn){for(var Bn=-1,gi=null==fn?0:fn.length;++Bn<gi;)if(Tn(fn[Bn],Bn,fn))return!0;return!1}var Er=gn("length");function xo(fn,Tn,Bn){var gi;return Bn(fn,function(Tr,Do,qs){if(Tn(Tr,Do,qs))return gi=Do,!1}),gi}function En(fn,Tn,Bn,gi){for(var Tr=fn.length,Do=Bn+(gi?1:-1);gi?Do--:++Do<Tr;)if(Tn(fn[Do],Do,fn))return Do;return-1}function il(fn,Tn,Bn){return Tn==Tn?function(gi,Tr,Do){for(var qs=Do-1,wi=gi.length;++qs<wi;)if(gi[qs]===Tr)return qs;return-1}(fn,Tn,Bn):En(fn,Se,Bn)}function Gt(fn,Tn,Bn,gi){for(var Tr=Bn-1,Do=fn.length;++Tr<Do;)if(gi(fn[Tr],Tn))return Tr;return-1}function Se(fn){return fn!=fn}function Ge(fn,Tn){var Bn=null==fn?0:fn.length;return Bn?ui(fn,Tn)/Bn:NaN}function gn(fn){return function(Tn){return Tn?.[fn]}}function Xn(fn){return function(Tn){return fn?.[Tn]}}function ei(fn,Tn,Bn,gi,Tr){return Tr(fn,function(Do,qs,wi){Bn=gi?(gi=!1,Do):Tn(Bn,Do,qs,wi)}),Bn}function ui(fn,Tn){for(var Bn,gi=-1,Tr=fn.length;++gi<Tr;){var Do=Tn(fn[gi]);void 0!==Do&&(Bn=void 0===Bn?Do:Bn+Do)}return Bn}function oi(fn,Tn){for(var Bn=-1,gi=Array(fn);++Bn<fn;)gi[Bn]=Tn(Bn);return gi}function Mr(fn){return fn&&fn.slice(0,Jn(fn)+1).replace(At,"")}function Fr(fn){return function(Tn){return fn(Tn)}}function ws(fn,Tn){return tn(Tn,function(Bn){return fn[Bn]})}function $s(fn,Tn){return fn.has(Tn)}function wu(fn,Tn){for(var Bn=-1,gi=fn.length;++Bn<gi&&il(Tn,fn[Bn],0)>-1;);return Bn}function Gl(fn,Tn){for(var Bn=fn.length;Bn--&&il(Tn,fn[Bn],0)>-1;);return Bn}var Bu=Xn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ks=Xn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Hl(fn){return"\\"+Fn[fn]}function ul(fn){return ua.test(fn)}function mo(fn){var Tn=-1,Bn=Array(fn.size);return fn.forEach(function(gi,Tr){Bn[++Tn]=[Tr,gi]}),Bn}function Gr(fn,Tn){return function(Bn){return fn(Tn(Bn))}}function tc(fn,Tn){for(var Bn=-1,gi=fn.length,Tr=0,Do=[];++Bn<gi;){var qs=fn[Bn];qs!==Tn&&qs!==ct||(fn[Bn]=ct,Do[Tr++]=Bn)}return Do}function Vs(fn){var Tn=-1,Bn=Array(fn.size);return fn.forEach(function(gi){Bn[++Tn]=gi}),Bn}function zn(fn){return ul(fn)?function(Tn){for(var Bn=Xo.lastIndex=0;Xo.test(Tn);)++Bn;return Bn}(fn):Er(fn)}function rl(fn){return ul(fn)?fn.match(Xo)||[]:fn.split("")}function Jn(fn){for(var Tn=fn.length;Tn--&&St.test(fn.charAt(Tn)););return Tn}var Vu=Xn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Or=function fn(Tn){var Bn,gi=(Tn=null==Tn?bo:Or.defaults(bo.Object(),Tn,Or.pick(bo,Yt))).Array,Tr=Tn.Date,Do=Tn.Error,qs=Tn.Function,wi=Tn.Math,Bo=Tn.Object,Rs=Tn.RegExp,zs=Tn.String,Jo=Tn.TypeError,zu=gi.prototype,Ii=Bo.prototype,dd=Tn["__core-js_shared__"],ec=qs.prototype.toString,Dr=Ii.hasOwnProperty,xl=0,nc=(Bn=/[^.]+$/.exec(dd&&dd.keys&&dd.keys.IE_PROTO||""))?"Symbol(src)_1."+Bn:"",Zc=Ii.toString,Rd=ec.call(Bo),vf=bo._,So=Rs("^"+ec.call(Dr).replace(Ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dl=jo?Tn.Buffer:void 0,go=Tn.Symbol,Cs=Tn.Uint8Array,nn=dl?dl.allocUnsafe:void 0,Yc=Gr(Bo.getPrototypeOf,Bo),Vn=Bo.create,xc=Ii.propertyIsEnumerable,Wo=zu.splice,ic=go?go.isConcatSpreadable:void 0,Us=go?go.iterator:void 0,wl=go?go.toStringTag:void 0,Uu=function(){try{var C=Nd(Bo,"defineProperty");return C({},"",{}),C}catch{}}(),Gs=Tn.clearTimeout!==bo.clearTimeout&&Tn.clearTimeout,Yr=Tr&&Tr.now!==bo.Date.now&&Tr.now,vs=Tn.setTimeout!==bo.setTimeout&&Tn.setTimeout,ol=wi.ceil,wr=wi.floor,ds=Bo.getOwnPropertySymbols,Ls=dl?dl.isBuffer:void 0,Xc=Tn.isFinite,Hh=zu.join,Os=Gr(Bo.keys,Bo),Vo=wi.max,ns=wi.min,Ci=Tr.now,Cl=Tn.parseInt,rc=wi.random,Sl=zu.reverse,ai=Nd(Tn,"DataView"),_s=Nd(Tn,"Map"),Gu=Nd(Tn,"Promise"),Cn=Nd(Tn,"Set"),Jr=Nd(Tn,"WeakMap"),lo=Nd(Bo,"create"),Oo=Jr&&new Jr,Ks={},ta=gp(ai),al=gp(_s),ou=gp(Gu),au=gp(Cn),Cu=gp(Jr),Rl=go?go.prototype:void 0,fi=Rl?Rl.valueOf:void 0,dr=Rl?Rl.toString:void 0;function he(C){if(Dl(C)&&!vo(C)&&!(C instanceof Ar)){if(C instanceof Po)return C;if(Dr.call(C,"__wrapped__"))return qg(C)}return new Po(C)}var Ss=function(){function C(){}return function(I){if(!gl(I))return{};if(Vn)return Vn(I);C.prototype=I;var nt=new C;return C.prototype=void 0,nt}}();function Ja(){}function Po(C,I){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!I,this.__index__=0,this.__values__=void 0}function Ar(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ya(C){var I=-1,nt=null==C?0:C.length;for(this.clear();++I<nt;){var Rt=C[I];this.set(Rt[0],Rt[1])}}function sl(C){var I=-1,nt=null==C?0:C.length;for(this.clear();++I<nt;){var Rt=C[I];this.set(Rt[0],Rt[1])}}function Ns(C){var I=-1,nt=null==C?0:C.length;for(this.clear();++I<nt;){var Rt=C[I];this.set(Rt[0],Rt[1])}}function mr(C){var I=-1,nt=null==C?0:C.length;for(this.__data__=new Ns;++I<nt;)this.add(C[I])}function ea(C){var I=this.__data__=new sl(C);this.size=I.size}function ss(C,I){var nt=vo(C),Rt=!nt&&sh(C),ee=!nt&&!Rt&&xp(C),De=!nt&&!Rt&&!ee&&Yl(C),$e=nt||Rt||ee||De,on=$e?oi(C.length,zs):[],Sn=on.length;for(var Wn in C)!I&&!Dr.call(C,Wn)||$e&&("length"==Wn||ee&&("offset"==Wn||"parent"==Wn)||De&&("buffer"==Wn||"byteLength"==Wn||"byteOffset"==Wn)||Fd(Wn,Sn))||on.push(Wn);return on}function Xa(C){var I=C.length;return I?C[$t(0,I-1)]:void 0}function oc(C,I){return $g(lu(C),Hs(I,0,C.length))}function ts(C){return $g(lu(C))}function Wl(C,I,nt){(void 0!==nt&&!Tl(C[I],nt)||void 0===nt&&!(I in C))&&Hr(C,I,nt)}function na(C,I,nt){var Rt=C[I];Dr.call(C,I)&&Tl(Rt,nt)&&(void 0!==nt||I in C)||Hr(C,I,nt)}function da(C,I){for(var nt=C.length;nt--;)if(Tl(C[nt][0],I))return nt;return-1}function Qs(C,I,nt,Rt){return Ao(C,function(ee,De,$e){I(Rt,ee,nt(ee),$e)}),Rt}function Ml(C,I){return C&&Su(I,Ec(I),C)}function Hr(C,I,nt){"__proto__"==I&&Uu?Uu(C,I,{configurable:!0,enumerable:!0,value:nt,writable:!0}):C[I]=nt}function $c(C,I){for(var nt=-1,Rt=I.length,ee=gi(Rt),De=null==C;++nt<Rt;)ee[nt]=De?void 0:Nx(C,I[nt]);return ee}function Hs(C,I,nt){return C==C&&(void 0!==nt&&(C=C<=nt?C:nt),void 0!==I&&(C=C>=I?C:I)),C}function $a(C,I,nt,Rt,ee,De){var $e,on=1&I,Sn=2&I,Wn=4&I;if(nt&&($e=ee?nt(C,Rt,ee,De):nt(C)),void 0!==$e)return $e;if(!gl(C))return C;var $n,mi,no,Yn=vo(C);if(Yn){if(no=new($n=C).constructor(mi=$n.length),mi&&"string"==typeof $n[0]&&Dr.call($n,"index")&&(no.index=$n.index,no.input=$n.input),$e=no,!on)return lu(C,$e)}else{var ii=Kc(C),ir=ii==et||ii==W;if(xp(C))return ra(C,on);if(ii==lt||ii==$||ir&&!ee){if($e=Sn||ir?{}:Zg(C),!on)return Sn?function($n,mi){return Su($n,lM($n),mi)}(C,function($n,mi){return $n&&Su(mi,uu(mi),$n)}($e,C)):function($n,mi){return Su($n,yx($n),mi)}(C,Ml($e,C))}else{if(!an[ii])return ee?C:{};$e=function($n,mi,no){var co,Ir,tr=$n.constructor;switch(mi){case Tt:return kn($n);case U:case bt:return new tr(+$n);case It:return co=$n,Ir=no?kn(co.buffer):co.buffer,new co.constructor(Ir,co.byteOffset,co.byteLength);case ut:case ae:case ce:case Et:case vt:case dt:case"[object Uint8ClampedArray]":case _t:case Zt:return Br($n,no);case it:return new tr;case V:case wt:return new tr($n);case mt:return function(co){var $o=new co.constructor(co.source,ye.exec(co));return $o.lastIndex=co.lastIndex,$o}($n);case Ct:return new tr;case q:return fi?Bo(fi.call($n)):{}}}(C,ii,on)}}De||(De=new ea);var vr=De.get(C);if(vr)return vr;De.set(C,$e),Sy(C)?C.forEach(function($n){$e.add($a($n,I,nt,$n,C,De))}):xM(C)&&C.forEach(function($n,mi){$e.set(mi,$a($n,I,nt,mi,C,De))});var Ur=Yn?void 0:(Wn?Sn?gx:jg:Sn?uu:Ec)(C);return sr(Ur||C,function($n,mi){Ur&&($n=C[mi=$n]),na($e,mi,$a($n,I,nt,mi,C,De))}),$e}function ll(C,I,nt){var Rt=nt.length;if(null==C)return!Rt;for(C=Bo(C);Rt--;){var ee=nt[Rt],$e=C[ee];if(void 0===$e&&!(ee in C)||!(0,I[ee])($e))return!1}return!0}function za(C,I,nt){if("function"!=typeof C)throw new Jo(at);return mp(function(){C.apply(void 0,nt)},I)}function ac(C,I,nt,Rt){var ee=-1,De=we,$e=!0,on=C.length,Sn=[],Wn=I.length;if(!on)return Sn;nt&&(I=tn(I,Fr(nt))),Rt?(De=Re,$e=!1):I.length>=200&&(De=$s,$e=!1,I=new mr(I));t:for(;++ee<on;){var Yn=C[ee],ii=null==nt?Yn:nt(Yn);if(Yn=Rt||0!==Yn?Yn:0,$e&&ii==ii){for(var ir=Wn;ir--;)if(I[ir]===ii)continue t;Sn.push(Yn)}else De(I,ii,Rt)||Sn.push(Yn)}return Sn}he.templateSettings={escape:re,evaluate:Me,interpolate:le,variable:"",imports:{_:he}},(he.prototype=Ja.prototype).constructor=he,(Po.prototype=Ss(Ja.prototype)).constructor=Po,(Ar.prototype=Ss(Ja.prototype)).constructor=Ar,Ya.prototype.clear=function(){this.__data__=lo?lo(null):{},this.size=0},Ya.prototype.delete=function(C){var I=this.has(C)&&delete this.__data__[C];return this.size-=I?1:0,I},Ya.prototype.get=function(C){var I=this.__data__;if(lo){var nt=I[C];return"__lodash_hash_undefined__"===nt?void 0:nt}return Dr.call(I,C)?I[C]:void 0},Ya.prototype.has=function(C){var I=this.__data__;return lo?void 0!==I[C]:Dr.call(I,C)},Ya.prototype.set=function(C,I){var nt=this.__data__;return this.size+=this.has(C)?0:1,nt[C]=lo&&void 0===I?"__lodash_hash_undefined__":I,this},sl.prototype.clear=function(){this.__data__=[],this.size=0},sl.prototype.delete=function(C){var I=this.__data__,nt=da(I,C);return!(nt<0||(nt==I.length-1?I.pop():Wo.call(I,nt,1),--this.size,0))},sl.prototype.get=function(C){var I=this.__data__,nt=da(I,C);return nt<0?void 0:I[nt][1]},sl.prototype.has=function(C){return da(this.__data__,C)>-1},sl.prototype.set=function(C,I){var nt=this.__data__,Rt=da(nt,C);return Rt<0?(++this.size,nt.push([C,I])):nt[Rt][1]=I,this},Ns.prototype.clear=function(){this.size=0,this.__data__={hash:new Ya,map:new(_s||sl),string:new Ya}},Ns.prototype.delete=function(C){var I=Od(this,C).delete(C);return this.size-=I?1:0,I},Ns.prototype.get=function(C){return Od(this,C).get(C)},Ns.prototype.has=function(C){return Od(this,C).has(C)},Ns.prototype.set=function(C,I){var nt=Od(this,C),Rt=nt.size;return nt.set(C,I),this.size+=nt.size==Rt?0:1,this},mr.prototype.add=mr.prototype.push=function(C){return this.__data__.set(C,"__lodash_hash_undefined__"),this},mr.prototype.has=function(C){return this.__data__.has(C)},ea.prototype.clear=function(){this.__data__=new sl,this.size=0},ea.prototype.delete=function(C){var I=this.__data__,nt=I.delete(C);return this.size=I.size,nt},ea.prototype.get=function(C){return this.__data__.get(C)},ea.prototype.has=function(C){return this.__data__.has(C)},ea.prototype.set=function(C,I){var nt=this.__data__;if(nt instanceof sl){var Rt=nt.__data__;if(!_s||Rt.length<199)return Rt.push([C,I]),this.size=++nt.size,this;nt=this.__data__=new Ns(Rt)}return nt.set(C,I),this.size=nt.size,this};var Ao=uy(Fs),Ms=uy(is,!0);function Ua(C,I){var nt=!0;return Ao(C,function(Rt,ee,De){return nt=!!I(Rt,ee,De)}),nt}function hs(C,I,nt){for(var Rt=-1,ee=C.length;++Rt<ee;){var De=C[Rt],$e=I(De);if(null!=$e&&(void 0===on?$e==$e&&!Mc($e):nt($e,on)))var on=$e,Sn=De}return Sn}function wc(C,I){var nt=[];return Ao(C,function(Rt,ee,De){I(Rt,ee,De)&&nt.push(Rt)}),nt}function Zo(C,I,nt,Rt,ee){var De=-1,$e=C.length;for(nt||(nt=vy),ee||(ee=[]);++De<$e;){var on=C[De];I>0&&nt(on)?I>1?Zo(on,I-1,nt,Rt,ee):Ze(ee,on):Rt||(ee[ee.length]=on)}return ee}var Cc=rM(),ia=rM(!0);function Fs(C,I){return C&&Cc(C,I,Ec)}function is(C,I){return C&&ia(C,I,Ec)}function hd(C,I){return oe(I,function(nt){return Mu(C[nt])})}function qc(C,I){for(var nt=0,Rt=(I=ti(I,C)).length;null!=C&&nt<Rt;)C=C[ju(I[nt++])];return nt&&nt==Rt?C:void 0}function Es(C,I,nt){var Rt=I(C);return vo(C)?Rt:Ze(Rt,nt(C))}function fs(C){return null==C?void 0===C?"[object Undefined]":"[object Null]":wl&&wl in Bo(C)?function(I){var nt=Dr.call(I,wl),Rt=I[wl];try{I[wl]=void 0;var ee=!0}catch{}var De=Zc.call(I);return ee&&(nt?I[wl]=Rt:delete I[wl]),De}(C):Zc.call(C)}function Ld(C,I){return C>I}function v(C,I){return null!=C&&Dr.call(C,I)}function T(C,I){return null!=C&&I in Bo(C)}function B(C,I,nt){for(var Rt=nt?Re:we,ee=C[0].length,De=C.length,$e=De,on=gi(De),Sn=1/0,Wn=[];$e--;){var Yn=C[$e];$e&&I&&(Yn=tn(Yn,Fr(I))),Sn=ns(Yn.length,Sn),on[$e]=!nt&&(I||ee>=120&&Yn.length>=120)?new mr($e&&Yn):void 0}Yn=C[0];var ii=-1,ir=on[0];t:for(;++ii<ee&&Wn.length<Sn;){var vr=Yn[ii],Ur=I?I(vr):vr;if(vr=nt||0!==vr?vr:0,!(ir?$s(ir,Ur):Rt(Wn,Ur,nt))){for($e=De;--$e;){var $n=on[$e];if(!($n?$s($n,Ur):Rt(C[$e],Ur,nt)))continue t}ir&&ir.push(Ur),Wn.push(vr)}}return Wn}function pt(C,I,nt){var Rt=null==(C=cM(C,I=ti(I,C)))?C:C[ju(Wu(I))];return null==Rt?void 0:ki(Rt,C,nt)}function Vt(C){return Dl(C)&&fs(C)==$}function ve(C,I,nt,Rt,ee){return C===I||(null==C||null==I||!Dl(C)&&!Dl(I)?C!=C&&I!=I:function(De,$e,on,Sn,Wn,Yn){var ii=vo(De),ir=vo($e),vr=ii?N:Kc(De),Ur=ir?N:Kc($e),$n=(vr=vr==$?lt:vr)==lt,mi=(Ur=Ur==$?lt:Ur)==lt,no=vr==Ur;if(no&&xp(De)){if(!xp($e))return!1;ii=!0,$n=!1}if(no&&!$n)return Yn||(Yn=new ea),ii||Yl(De)?mx(De,$e,on,Sn,Wn,Yn):function(Ir,jr,Xl,Nc,ch,cc,uh){switch(Xl){case It:if(Ir.byteLength!=jr.byteLength||Ir.byteOffset!=jr.byteOffset)return!1;Ir=Ir.buffer,jr=jr.buffer;case Tt:return!(Ir.byteLength!=jr.byteLength||!cc(new Cs(Ir),new Cs(jr)));case U:case bt:case V:return Tl(+Ir,+jr);case X:return Ir.name==jr.name&&Ir.message==jr.message;case mt:case wt:return Ir==jr+"";case it:var Wh=mo;case Ct:if(Wh||(Wh=Vs),Ir.size!=jr.size&&!(1&Nc))return!1;var av=uh.get(Ir);if(av)return av==jr;Nc|=2,uh.set(Ir,jr);var Sp=mx(Wh(Ir),Wh(jr),Nc,ch,cc,uh);return uh.delete(Ir),Sp;case q:if(fi)return fi.call(Ir)==fi.call(jr)}return!1}(De,$e,vr,on,Sn,Wn,Yn);if(!(1&on)){var tr=$n&&Dr.call(De,"__wrapped__"),io=mi&&Dr.call($e,"__wrapped__");if(tr||io){var co=tr?De.value():De,$o=io?$e.value():$e;return Yn||(Yn=new ea),Wn(co,$o,on,Sn,Yn)}}return!!no&&(Yn||(Yn=new ea),function(Ir,jr,Xl,Nc,ch,cc){var uh=1&Xl,Wh=jg(Ir),Vd=Wh.length;if(Vd!=jg(jr).length&&!uh)return!1;for(var Sp=Vd;Sp--;){var bf=Wh[Sp];if(!(uh?bf in jr:Dr.call(jr,bf)))return!1}var AR=cc.get(Ir),sv=cc.get(jr);if(AR&&sv)return AR==jr&&sv==Ir;var Py=!0;cc.set(Ir,jr),cc.set(jr,Ir);for(var ky=uh;++Sp<Vd;){var lv=Ir[bf=Wh[Sp]],cv=jr[bf];if(Nc)var Ry=uh?Nc(cv,lv,bf,jr,Ir,cc):Nc(lv,cv,bf,Ir,jr,cc);if(!(void 0===Ry?lv===cv||ch(lv,cv,Xl,Nc,cc):Ry)){Py=!1;break}ky||(ky="constructor"==bf)}if(Py&&!ky){var uv=Ir.constructor,Mp=jr.constructor;uv==Mp||!("constructor"in Ir)||!("constructor"in jr)||"function"==typeof uv&&uv instanceof uv&&"function"==typeof Mp&&Mp instanceof Mp||(Py=!1)}return cc.delete(Ir),cc.delete(jr),Py}(De,$e,on,Sn,Wn,Yn))}(C,I,nt,Rt,ve,ee))}function Ye(C,I,nt,Rt){var ee=nt.length,De=ee,$e=!Rt;if(null==C)return!De;for(C=Bo(C);ee--;){var on=nt[ee];if($e&&on[2]?on[1]!==C[on[0]]:!(on[0]in C))return!1}for(;++ee<De;){var Sn=(on=nt[ee])[0],Wn=C[Sn],Yn=on[1];if($e&&on[2]){if(void 0===Wn&&!(Sn in C))return!1}else{var ii=new ea;if(Rt)var ir=Rt(Wn,Yn,Sn,C,I,ii);if(!(void 0===ir?ve(Yn,Wn,3,Rt,ii):ir))return!1}}return!0}function vn(C){return!(!gl(C)||(I=C,nc&&nc in I))&&(Mu(C)?So:Qe).test(gp(C));var I}function bn(C){return"function"==typeof C?C:null==C?du:"object"==typeof C?vo(C)?Zl(C[0],C[1]):su(C):Iy(C)}function jn(C){if(!Xg(C))return Os(C);var I=[];for(var nt in Bo(C))Dr.call(C,nt)&&"constructor"!=nt&&I.push(nt);return I}function hr(C,I){return C<I}function No(C,I){var nt=-1,Rt=Zu(C)?gi(C.length):[];return Ao(C,function(ee,De,$e){Rt[++nt]=I(ee,De,$e)}),Rt}function su(C){var I=_x(C);return 1==I.length&&I[0][2]?_y(I[0][0],I[0][1]):function(nt){return nt===C||Ye(nt,C,I)}}function Zl(C,I){return bx(C)&&Kk(I)?_y(ju(C),I):function(nt){var Rt=Nx(nt,C);return void 0===Rt&&Rt===I?Fx(nt,C):ve(I,Rt,3)}}function ml(C,I,nt,Rt,ee){C!==I&&Cc(I,function(De,$e){if(ee||(ee=new ea),gl(De))!function(Sn,Wn,Yn,ii,ir,vr,Ur){var $n=uM(Sn,Yn),mi=uM(Wn,Yn),no=Ur.get(mi);if(no)Wl(Sn,Yn,no);else{var tr=vr?vr($n,mi,Yn+"",Sn,Wn,Ur):void 0,io=void 0===tr;if(io){var co=vo(mi),$o=!co&&xp(mi),Ir=!co&&!$o&&Yl(mi);tr=mi,co||$o||Ir?vo($n)?tr=$n:Ll($n)?tr=lu($n):$o?(io=!1,tr=ra(mi,!0)):Ir?(io=!1,tr=Br(mi,!0)):tr=[]:nv(mi)||sh(mi)?(tr=$n,sh($n)?tr=MM($n):gl($n)&&!Mu($n)||(tr=Zg(mi))):io=!1}io&&(Ur.set(mi,tr),ir(tr,mi,ii,vr,Ur),Ur.delete(mi)),Wl(Sn,Yn,tr)}}(C,I,$e,nt,ml,Rt,ee);else{var on=Rt?Rt(uM(C,$e),De,$e+"",C,I,ee):void 0;void 0===on&&(on=De),Wl(C,$e,on)}},uu)}function Yo(C,I){var nt=C.length;if(nt)return Fd(I+=I<0?nt:0,nt)?C[I]:void 0}function ke(C,I,nt){I=I.length?tn(I,function(ee){return vo(ee)?function(De){return qc(De,1===ee.length?ee[0]:ee)}:ee}):[du];var Rt=-1;return I=tn(I,Fr(Hi())),function(ee,De){var $e=ee.length;for(ee.sort(function(ee,De){return function($e,on,Sn){for(var Wn=-1,Yn=$e.criteria,ii=on.criteria,ir=Yn.length,vr=Sn.length;++Wn<ir;){var Ur=Js(Yn[Wn],ii[Wn]);if(Ur)return Wn>=vr?Ur:Ur*("desc"==Sn[Wn]?-1:1)}return $e.index-on.index}(ee,De,nt)});$e--;)ee[$e]=ee[$e].value;return ee}(No(C,function(ee,De,$e){return{criteria:tn(I,function(on){return on(ee)}),index:++Rt,value:ee}}))}function R(C,I,nt){for(var Rt=-1,ee=I.length,De={};++Rt<ee;){var $e=I[Rt],on=qc(C,$e);nt(on,$e)&&Pn(De,ti($e,C),on)}return De}function ht(C,I,nt,Rt){var ee=Rt?Gt:il,De=-1,$e=I.length,on=C;for(C===I&&(I=lu(I)),nt&&(on=tn(C,Fr(nt)));++De<$e;)for(var Sn=0,Wn=I[De],Yn=nt?nt(Wn):Wn;(Sn=ee(on,Yn,Sn,Rt))>-1;)on!==C&&Wo.call(on,Sn,1),Wo.call(C,Sn,1);return C}function Nt(C,I){for(var nt=C?I.length:0,Rt=nt-1;nt--;){var ee=I[nt];if(nt==Rt||ee!==De){var De=ee;Fd(ee)?Wo.call(C,ee,1):D(C,ee)}}return C}function $t(C,I){return C+wr(rc()*(I-C+1))}function ue(C,I){var nt="";if(!C||I<1||I>9007199254740991)return nt;do{I%2&&(nt+=C),(I=wr(I/2))&&(C+=C)}while(I);return nt}function Ce(C,I){return yy(Qk(C,I,du),C+"")}function Ie(C){return Xa(rv(C))}function dn(C,I){var nt=rv(C);return $g(nt,Hs(I,0,nt.length))}function Pn(C,I,nt,Rt){if(!gl(C))return C;for(var ee=-1,De=(I=ti(I,C)).length,$e=De-1,on=C;null!=on&&++ee<De;){var Sn=ju(I[ee]),Wn=nt;if("__proto__"===Sn||"constructor"===Sn||"prototype"===Sn)return C;if(ee!=$e){var Yn=on[Sn];void 0===(Wn=Rt?Rt(Yn,Sn,on):void 0)&&(Wn=gl(Yn)?Yn:Fd(I[ee+1])?[]:{})}na(on,Sn,Wn),on=on[Sn]}return C}var Un=Oo?function(C,I){return Oo.set(C,I),C}:du,Hn=Uu?function(C,I){return Uu(C,"toString",{configurable:!0,enumerable:!1,value:Hx(I),writable:!0})}:du;function Li(C){return $g(rv(C))}function si(C,I,nt){var Rt=-1,ee=C.length;I<0&&(I=-I>ee?0:ee+I),(nt=nt>ee?ee:nt)<0&&(nt+=ee),ee=I>nt?0:nt-I>>>0,I>>>=0;for(var De=gi(ee);++Rt<ee;)De[Rt]=C[Rt+I];return De}function di(C,I){var nt;return Ao(C,function(Rt,ee,De){return!(nt=I(Rt,ee,De))}),!!nt}function eo(C,I,nt){var Rt=0,ee=null==C?Rt:C.length;if("number"==typeof I&&I==I&&ee<=2147483647){for(;Rt<ee;){var De=Rt+ee>>>1,$e=C[De];null!==$e&&!Mc($e)&&(nt?$e<=I:$e<I)?Rt=De+1:ee=De}return ee}return zo(C,I,du,nt)}function zo(C,I,nt,Rt){var ee=0,De=null==C?0:C.length;if(0===De)return 0;for(var $e=(I=nt(I))!=I,on=null===I,Sn=Mc(I),Wn=void 0===I;ee<De;){var Yn=wr((ee+De)/2),ii=nt(C[Yn]),ir=void 0!==ii,vr=null===ii,Ur=ii==ii,$n=Mc(ii);if($e)var mi=Rt||Ur;else mi=Wn?Ur&&(Rt||ir):on?Ur&&ir&&(Rt||!vr):Sn?Ur&&ir&&!vr&&(Rt||!$n):!vr&&!$n&&(Rt?ii<=I:ii<I);mi?ee=Yn+1:De=Yn}return ns(De,4294967294)}function f(C,I){for(var nt=-1,Rt=C.length,ee=0,De=[];++nt<Rt;){var $e=C[nt],on=I?I($e):$e;if(!nt||!Tl(on,Sn)){var Sn=on;De[ee++]=0===$e?0:$e}}return De}function m(C){return"number"==typeof C?C:Mc(C)?NaN:+C}function _(C){if("string"==typeof C)return C;if(vo(C))return tn(C,_)+"";if(Mc(C))return dr?dr.call(C):"";var I=C+"";return"0"==I&&1/C==-1/0?"-0":I}function x(C,I,nt){var Rt=-1,ee=we,De=C.length,$e=!0,on=[],Sn=on;if(nt)$e=!1,ee=Re;else if(De>=200){var Wn=I?null:fx(C);if(Wn)return Vs(Wn);$e=!1,ee=$s,Sn=new mr}else Sn=I?[]:on;t:for(;++Rt<De;){var Yn=C[Rt],ii=I?I(Yn):Yn;if(Yn=nt||0!==Yn?Yn:0,$e&&ii==ii){for(var ir=Sn.length;ir--;)if(Sn[ir]===ii)continue t;I&&Sn.push(ii),on.push(Yn)}else ee(Sn,ii,nt)||(Sn!==on&&Sn.push(ii),on.push(Yn))}return on}function D(C,I){return null==(C=cM(C,I=ti(I,C)))||delete C[ju(Wu(I))]}function K(C,I,nt,Rt){return Pn(C,I,nt(qc(C,I)),Rt)}function xt(C,I,nt,Rt){for(var ee=C.length,De=Rt?ee:-1;(Rt?De--:++De<ee)&&I(C[De],De,C););return nt?si(C,Rt?0:De,Rt?De+1:ee):si(C,Rt?De+1:0,Rt?ee:De)}function Kt(C,I){var nt=C;return nt instanceof Ar&&(nt=nt.value()),wn(I,function(Rt,ee){return ee.func.apply(ee.thisArg,Ze([Rt],ee.args))},nt)}function fe(C,I,nt){var Rt=C.length;if(Rt<2)return Rt?x(C[0]):[];for(var ee=-1,De=gi(Rt);++ee<Rt;)for(var $e=C[ee],on=-1;++on<Rt;)on!=ee&&(De[ee]=ac(De[ee]||$e,C[on],I,nt));return x(Zo(De,1),I,nt)}function He(C,I,nt){for(var Rt=-1,ee=C.length,De=I.length,$e={};++Rt<ee;)nt($e,C[Rt],Rt<De?I[Rt]:void 0);return $e}function pn(C){return Ll(C)?C:[]}function Mn(C){return"function"==typeof C?C:du}function ti(C,I){return vo(C)?C:bx(C,I)?[C]:Cx(ys(C))}var li=Ce;function bi(C,I,nt){var Rt=C.length;return nt=void 0===nt?Rt:nt,!I&&nt>=Rt?C:si(C,I,nt)}var lr=Gs||function(C){return bo.clearTimeout(C)};function ra(C,I){if(I)return C.slice();var nt=C.length,Rt=nn?nn(nt):new C.constructor(nt);return C.copy(Rt),Rt}function kn(C){var I=new C.constructor(C.byteLength);return new Cs(I).set(new Cs(C)),I}function Br(C,I){var nt=I?kn(C.buffer):C.buffer;return new C.constructor(nt,C.byteOffset,C.length)}function Js(C,I){if(C!==I){var nt=void 0!==C,Rt=null===C,ee=C==C,De=Mc(C),$e=void 0!==I,on=null===I,Sn=I==I,Wn=Mc(I);if(!on&&!Wn&&!De&&C>I||De&&$e&&Sn&&!on&&!Wn||Rt&&$e&&Sn||!nt&&Sn||!ee)return 1;if(!Rt&&!De&&!Wn&&C<I||Wn&&nt&&ee&&!Rt&&!De||on&&nt&&ee||!$e&&ee||!Sn)return-1}return 0}function hl(C,I,nt,Rt){for(var ee=-1,De=C.length,$e=nt.length,on=-1,Sn=I.length,Wn=Vo(De-$e,0),Yn=gi(Sn+Wn),ii=!Rt;++on<Sn;)Yn[on]=I[on];for(;++ee<$e;)(ii||ee<De)&&(Yn[nt[ee]]=C[ee]);for(;Wn--;)Yn[on++]=C[ee++];return Yn}function El(C,I,nt,Rt){for(var ee=-1,De=C.length,$e=-1,on=nt.length,Sn=-1,Wn=I.length,Yn=Vo(De-on,0),ii=gi(Yn+Wn),ir=!Rt;++ee<Yn;)ii[ee]=C[ee];for(var vr=ee;++Sn<Wn;)ii[vr+Sn]=I[Sn];for(;++$e<on;)(ir||ee<De)&&(ii[vr+nt[$e]]=C[ee++]);return ii}function lu(C,I){var nt=-1,Rt=C.length;for(I||(I=gi(Rt));++nt<Rt;)I[nt]=C[nt];return I}function Su(C,I,nt,Rt){var ee=!nt;nt||(nt={});for(var De=-1,$e=I.length;++De<$e;){var on=I[De],Sn=Rt?Rt(nt[on],C[on],on,nt,C):void 0;void 0===Sn&&(Sn=C[on]),ee?Hr(nt,on,Sn):na(nt,on,Sn)}return nt}function Hu(C,I){return function(nt,Rt){var ee=vo(nt)?Yi:Qs,De=I?I():{};return ee(nt,C,Hi(Rt,2),De)}}function _f(C){return Ce(function(I,nt){var Rt=-1,ee=nt.length,De=ee>1?nt[ee-1]:void 0,$e=ee>2?nt[2]:void 0;for(De=C.length>3&&"function"==typeof De?(ee--,De):void 0,$e&&Qc(nt[0],nt[1],$e)&&(De=ee<3?void 0:De,ee=1),I=Bo(I);++Rt<ee;){var on=nt[Rt];on&&C(I,on,Rt,De)}return I})}function uy(C,I){return function(nt,Rt){if(null==nt)return nt;if(!Zu(nt))return C(nt,Rt);for(var ee=nt.length,De=I?ee:-1,$e=Bo(nt);(I?De--:++De<ee)&&!1!==Rt($e[De],De,$e););return nt}}function rM(C){return function(I,nt,Rt){for(var ee=-1,De=Bo(I),$e=Rt(I),on=$e.length;on--;){var Sn=$e[C?on:++ee];if(!1===nt(De[Sn],Sn,De))break}return I}}function qk(C){return function(I){var nt=ul(I=ys(I))?rl(I):void 0,Rt=nt?nt[0]:I.charAt(0),ee=nt?bi(nt,1).join(""):I.slice(1);return Rt[C]()+ee}}function pp(C){return function(I){return wn(Ux(yR(I).replace(Lo,"")),C,"")}}function sc(C){return function(){var I=arguments;switch(I.length){case 0:return new C;case 1:return new C(I[0]);case 2:return new C(I[0],I[1]);case 3:return new C(I[0],I[1],I[2]);case 4:return new C(I[0],I[1],I[2],I[3]);case 5:return new C(I[0],I[1],I[2],I[3],I[4]);case 6:return new C(I[0],I[1],I[2],I[3],I[4],I[5]);case 7:return new C(I[0],I[1],I[2],I[3],I[4],I[5],I[6])}var nt=Ss(C.prototype),Rt=C.apply(nt,I);return gl(Rt)?Rt:nt}}function ih(C){return function(I,nt,Rt){var ee=Bo(I);if(!Zu(I)){var De=Hi(nt,3);I=Ec(I),nt=function(on){return De(ee[on],on,ee)}}var $e=C(I,nt,Rt);return $e>-1?ee[De?I[$e]:$e]:void 0}}function hx(C){return ah(function(I){var nt=I.length,Rt=nt,ee=Po.prototype.thru;for(C&&I.reverse();Rt--;){var De=I[Rt];if("function"!=typeof De)throw new Jo(at);if(ee&&!$e&&"wrapper"==Sc(De))var $e=new Po([],!0)}for(Rt=$e?Rt:nt;++Rt<nt;){var on=Sc(De=I[Rt]),Sn="wrapper"==on?vx(De):void 0;$e=Sn&&yf(Sn[0])&&424==Sn[1]&&!Sn[4].length&&1==Sn[9]?$e[Sc(Sn[0])].apply($e,Sn[3]):1==De.length&&yf(De)?$e[on]():$e.thru(De)}return function(){var Wn=arguments,Yn=Wn[0];if($e&&1==Wn.length&&vo(Yn))return $e.plant(Yn).value();for(var ii=0,ir=nt?I[ii].apply(this,Wn):Yn;++ii<nt;)ir=I[ii].call(this,ir);return ir}})}function jh(C,I,nt,Rt,ee,De,$e,on,Sn,Wn){var Yn=128&I,ii=1&I,ir=2&I,vr=24&I,Ur=512&I,$n=ir?void 0:sc(C);return function mi(){for(var no=arguments.length,tr=gi(no),io=no;io--;)tr[io]=arguments[io];if(vr)var co=fd(mi),$o=function To(fn,Tn){for(var Bn=fn.length,gi=0;Bn--;)fn[Bn]===Tn&&++gi;return gi}(tr,co);if(Rt&&(tr=hl(tr,Rt,ee,vr)),De&&(tr=El(tr,De,$e,vr)),no-=$o,vr&&no<Wn){var Ir=tc(tr,co);return py(C,I,jh,mi.placeholder,nt,tr,Ir,on,Sn,Wn-no)}var jr=ii?nt:this,Xl=ir?jr[C]:C;return no=tr.length,on?tr=function Jk(C,I){for(var nt=C.length,Rt=ns(I.length,nt),ee=lu(C);Rt--;){var De=I[Rt];C[Rt]=Fd(De,nt)?ee[De]:void 0}return C}(tr,on):Ur&&no>1&&tr.reverse(),Yn&&Sn<no&&(tr.length=Sn),this&&this!==bo&&this instanceof mi&&(Xl=$n||sc(Xl)),Xl.apply(jr,tr)}}function rh(C,I){return function(nt,Rt){return ee=nt,De=C,$e=I(Rt),on={},Fs(ee,function(Sn,Wn,Yn){De(on,$e(Sn),Wn,Yn)}),on;var ee,De,$e,on}}function dy(C,I){return function(nt,Rt){var ee;if(void 0===nt&&void 0===Rt)return I;if(void 0!==nt&&(ee=nt),void 0!==Rt){if(void 0===ee)return Rt;"string"==typeof nt||"string"==typeof Rt?(nt=_(nt),Rt=_(Rt)):(nt=m(nt),Rt=m(Rt)),ee=C(nt,Rt)}return ee}}function hy(C){return ah(function(I){return I=tn(I,Fr(Hi())),Ce(function(nt){var Rt=this;return C(I,function(ee){return ki(ee,Rt,nt)})})})}function fy(C,I){var nt=(I=void 0===I?" ":_(I)).length;if(nt<2)return nt?ue(I,C):I;var Rt=ue(I,ol(C/zn(I)));return ul(I)?bi(rl(Rt),0,C).join(""):Rt.slice(0,C)}function oM(C){return function(I,nt,Rt){return Rt&&"number"!=typeof Rt&&Qc(I,nt,Rt)&&(nt=Rt=void 0),I=lh(I),void 0===nt?(nt=I,I=0):nt=lh(nt),function(ee,De,$e,on){for(var Sn=-1,Wn=Vo(ol((De-ee)/($e||1)),0),Yn=gi(Wn);Wn--;)Yn[on?Wn:++Sn]=ee,ee+=$e;return Yn}(I,nt,Rt=void 0===Rt?I<nt?1:-1:lh(Rt),C)}}function Mm(C){return function(I,nt){return"string"==typeof I&&"string"==typeof nt||(I=Xu(I),nt=Xu(nt)),C(I,nt)}}function py(C,I,nt,Rt,ee,De,$e,on,Sn,Wn){var Yn=8&I;I|=Yn?32:64,4&(I&=~(Yn?64:32))||(I&=-4);var ii=[C,I,ee,Yn?De:void 0,Yn?$e:void 0,Yn?void 0:De,Yn?void 0:$e,on,Sn,Wn],ir=nt.apply(void 0,ii);return yf(C)&&tR(ir,ii),ir.placeholder=Rt,xx(ir,C,I)}function my(C){var I=wi[C];return function(nt,Rt){if(nt=Xu(nt),(Rt=null==Rt?0:ns(Mo(Rt),292))&&Xc(nt)){var ee=(ys(nt)+"e").split("e");return+((ee=(ys(I(ee[0]+"e"+(+ee[1]+Rt)))+"e").split("e"))[0]+"e"+(+ee[1]-Rt))}return I(nt)}}var fx=Cn&&1/Vs(new Cn([,-0]))[1]==1/0?function(C){return new Cn(C)}:Ay;function aM(C){return function(I){var Rt,nt=Kc(I);return nt==it?mo(I):nt==Ct?function jl(fn){var Tn=-1,Bn=Array(fn.size);return fn.forEach(function(gi){Bn[++Tn]=[gi,gi]}),Bn}(I):(Rt=I,tn(C(I),function(De){return[De,Rt[De]]}))}}function oh(C,I,nt,Rt,ee,De,$e,on){var Sn=2&I;if(!Sn&&"function"!=typeof C)throw new Jo(at);var Wn=Rt?Rt.length:0;if(Wn||(I&=-97,Rt=ee=void 0),$e=void 0===$e?$e:Vo(Mo($e),0),on=void 0===on?on:Mo(on),Wn-=ee?ee.length:0,64&I){var Yn=Rt,ii=ee;Rt=ee=void 0}var $n,mi,no,tr,ir=Sn?void 0:vx(C),vr=[C,I,nt,Rt,ee,Yn,ii,De,$e,on];if(ir&&function($n,mi){var no=$n[1],tr=mi[1],io=no|tr;if(!(io<131||128==tr&&8==no||128==tr&&256==no&&$n[7].length<=mi[8]||384==tr&&mi[7].length<=mi[8]&&8==no))return $n;1&tr&&($n[2]=mi[2],io|=1&no?0:4);var Ir=mi[3];if(Ir){var jr=$n[3];$n[3]=jr?hl(jr,Ir,mi[4]):Ir,$n[4]=jr?tc($n[3],ct):mi[4]}(Ir=mi[5])&&($n[5]=(jr=$n[5])?El(jr,Ir,mi[6]):Ir,$n[6]=jr?tc($n[5],ct):mi[6]),(Ir=mi[7])&&($n[7]=Ir),128&tr&&($n[8]=null==$n[8]?mi[8]:ns($n[8],mi[8])),null==$n[9]&&($n[9]=mi[9]),$n[0]=mi[0],$n[1]=io}(vr,ir),C=vr[0],I=vr[1],nt=vr[2],Rt=vr[3],ee=vr[4],!(on=vr[9]=void 0===vr[9]?Sn?0:C.length:Vo(vr[9]-Wn,0))&&24&I&&(I&=-25),I&&1!=I)Ur=8==I||16==I?(mi=I,no=on,tr=sc($n=C),function io(){for(var co=arguments.length,$o=gi(co),Ir=co,jr=fd(io);Ir--;)$o[Ir]=arguments[Ir];var Xl=co<3&&$o[0]!==jr&&$o[co-1]!==jr?[]:tc($o,jr);return(co-=Xl.length)<no?py($n,mi,jh,io.placeholder,void 0,$o,Xl,void 0,void 0,no-co):ki(this&&this!==bo&&this instanceof io?tr:$n,this,$o)}):32!=I&&33!=I||ee.length?jh.apply(void 0,vr):function($n,mi,no,tr){var io=1&mi,co=sc($n);return function $o(){for(var Ir=-1,jr=arguments.length,Xl=-1,Nc=tr.length,ch=gi(Nc+jr),cc=this&&this!==bo&&this instanceof $o?co:$n;++Xl<Nc;)ch[Xl]=tr[Xl];for(;jr--;)ch[Xl++]=arguments[++Ir];return ki(cc,io?no:this,ch)}}(C,I,nt,Rt);else var Ur=function($n,mi,no){var tr=1&mi,io=sc($n);return function co(){return(this&&this!==bo&&this instanceof co?io:$n).apply(tr?no:this,arguments)}}(C,I,nt);return xx((ir?Un:tR)(Ur,vr),C,I)}function gy(C,I,nt,Rt){return void 0===C||Tl(C,Ii[nt])&&!Dr.call(Rt,nt)?I:C}function px(C,I,nt,Rt,ee,De){return gl(C)&&gl(I)&&(De.set(I,C),ml(C,I,void 0,px,De),De.delete(I)),C}function sM(C){return nv(C)?void 0:C}function mx(C,I,nt,Rt,ee,De){var $e=1&nt,on=C.length,Sn=I.length;if(on!=Sn&&!($e&&Sn>on))return!1;var Wn=De.get(C),Yn=De.get(I);if(Wn&&Yn)return Wn==I&&Yn==C;var ii=-1,ir=!0,vr=2&nt?new mr:void 0;for(De.set(C,I),De.set(I,C);++ii<on;){var Ur=C[ii],$n=I[ii];if(Rt)var mi=$e?Rt($n,Ur,ii,I,C,De):Rt(Ur,$n,ii,C,I,De);if(void 0!==mi){if(mi)continue;ir=!1;break}if(vr){if(!_i(I,function(no,tr){if(!$s(vr,tr)&&(Ur===no||ee(Ur,no,nt,Rt,De)))return vr.push(tr)})){ir=!1;break}}else if(Ur!==$n&&!ee(Ur,$n,nt,Rt,De)){ir=!1;break}}return De.delete(C),De.delete(I),ir}function ah(C){return yy(Qk(C,void 0,dM),C+"")}function jg(C){return Es(C,Ec,yx)}function gx(C){return Es(C,uu,lM)}var vx=Oo?function(C){return Oo.get(C)}:Ay;function Sc(C){for(var I=C.name+"",nt=Ks[I],Rt=Dr.call(Ks,I)?nt.length:0;Rt--;){var ee=nt[Rt],De=ee.func;if(null==De||De==C)return ee.name}return I}function fd(C){return(Dr.call(he,"placeholder")?he:C).placeholder}function Hi(){var C=he.iteratee||ov;return C=C===ov?bn:C,arguments.length?C(arguments[0],arguments[1]):C}function Od(C,I){var nt,Rt,ee=C.__data__;return("string"==(Rt=typeof(nt=I))||"number"==Rt||"symbol"==Rt||"boolean"==Rt?"__proto__"!==nt:null===nt)?ee["string"==typeof I?"string":"hash"]:ee.map}function _x(C){for(var I=Ec(C),nt=I.length;nt--;){var Rt=I[nt],ee=C[Rt];I[nt]=[Rt,ee,Kk(ee)]}return I}function Nd(C,I){var nt=C?.[I];return vn(nt)?nt:void 0}var yx=ds?function(C){return null==C?[]:(C=Bo(C),oe(ds(C),function(I){return xc.call(C,I)}))}:Tc,lM=ds?function(C){for(var I=[];C;)Ze(I,yx(C)),C=Yc(C);return I}:Tc,Kc=fs;function Wg(C,I,nt){for(var Rt=-1,ee=(I=ti(I,C)).length,De=!1;++Rt<ee;){var $e=ju(I[Rt]);if(!(De=null!=C&&nt(C,$e)))break;C=C[$e]}return De||++Rt!=ee?De:!!(ee=null==C?0:C.length)&&ev(ee)&&Fd($e,ee)&&(vo(C)||sh(C))}function Zg(C){return"function"!=typeof C.constructor||Xg(C)?{}:Ss(Yc(C))}function vy(C){return vo(C)||sh(C)||!!(ic&&C&&C[ic])}function Fd(C,I){var nt=typeof C;return!!(I=I??9007199254740991)&&("number"==nt||"symbol"!=nt&&sn.test(C))&&C>-1&&C%1==0&&C<I}function Qc(C,I,nt){if(!gl(nt))return!1;var Rt=typeof I;return!!("number"==Rt?Zu(nt)&&Fd(I,nt.length):"string"==Rt&&I in nt)&&Tl(nt[I],C)}function bx(C,I){if(vo(C))return!1;var nt=typeof C;return!("number"!=nt&&"symbol"!=nt&&"boolean"!=nt&&null!=C&&!Mc(C))||Ht.test(C)||!Dt.test(C)||null!=I&&C in Bo(I)}function yf(C){var I=Sc(C),nt=he[I];if("function"!=typeof nt||!(I in Ar.prototype))return!1;if(C===nt)return!0;var Rt=vx(nt);return!!Rt&&C===Rt[0]}(ai&&Kc(new ai(new ArrayBuffer(1)))!=It||_s&&Kc(new _s)!=it||Gu&&"[object Promise]"!=Kc(Gu.resolve())||Cn&&Kc(new Cn)!=Ct||Jr&&Kc(new Jr)!=Pt)&&(Kc=function(C){var I=fs(C),nt=I==lt?C.constructor:void 0,Rt=nt?gp(nt):"";if(Rt)switch(Rt){case ta:return It;case al:return it;case ou:return"[object Promise]";case au:return Ct;case Cu:return Pt}return I});var Yg=dd?Mu:Cp;function Xg(C){var I=C&&C.constructor;return C===("function"==typeof I&&I.prototype||Ii)}function Kk(C){return C==C&&!gl(C)}function _y(C,I){return function(nt){return null!=nt&&nt[C]===I&&(void 0!==I||C in Bo(nt))}}function Qk(C,I,nt){return I=Vo(void 0===I?C.length-1:I,0),function(){for(var Rt=arguments,ee=-1,De=Vo(Rt.length-I,0),$e=gi(De);++ee<De;)$e[ee]=Rt[I+ee];ee=-1;for(var on=gi(I+1);++ee<I;)on[ee]=Rt[ee];return on[I]=nt($e),ki(C,this,on)}}function cM(C,I){return I.length<2?C:qc(C,si(I,0,-1))}function uM(C,I){if(("constructor"!==I||"function"!=typeof C[I])&&"__proto__"!=I)return C[I]}var tR=Em(Un),mp=vs||function(C,I){return bo.setTimeout(C,I)},yy=Em(Hn);function xx(C,I,nt){var De,Rt=I+"";return yy(C,function(ee,De){var $e=De.length;if(!$e)return ee;var on=$e-1;return De[on]=($e>1?"& ":"")+De[on],De=De.join($e>2?", ":" "),ee.replace(S,"{\n/* [wrapped with "+De+"] */\n")}(Rt,function(ee,De){return sr(ot,function($e){var on="_."+$e[0];De&$e[1]&&!we(ee,on)&&ee.push(on)}),ee.sort()}((De=Rt.match(P))?De[1].split(z):[],nt)))}function Em(C){var I=0,nt=0;return function(){var Rt=Ci(),ee=16-(Rt-nt);if(nt=Rt,ee>0){if(++I>=800)return arguments[0]}else I=0;return C.apply(void 0,arguments)}}function $g(C,I){var nt=-1,Rt=C.length,ee=Rt-1;for(I=void 0===I?Rt:I;++nt<I;){var De=$t(nt,ee),$e=C[De];C[De]=C[nt],C[nt]=$e}return C.length=I,C}var C,I,nt,Cx=(C=function(C){var I=[];return 46===C.charCodeAt(0)&&I.push(""),C.replace(jt,function(nt,Rt,ee,De){I.push(ee?De.replace(Ot,"$1"):Rt||nt)}),I},I=Rx(C,function(Rt){return 500===nt.size&&nt.clear(),Rt}),nt=I.cache,I);function ju(C){if("string"==typeof C||Mc(C))return C;var I=C+"";return"0"==I&&1/C==-1/0?"-0":I}function gp(C){if(null!=C){try{return ec.call(C)}catch{}try{return C+""}catch{}}return""}function qg(C){if(C instanceof Ar)return C.clone();var I=new Po(C.__wrapped__,C.__chain__);return I.__actions__=lu(C.__actions__),I.__index__=C.__index__,I.__values__=C.__values__,I}var Sx=Ce(function(C,I){return Ll(C)?ac(C,Zo(I,1,Ll,!0)):[]}),by=Ce(function(C,I){var nt=Wu(I);return Ll(nt)&&(nt=void 0),Ll(C)?ac(C,Zo(I,1,Ll,!0),Hi(nt,2)):[]}),J8=Ce(function(C,I){var nt=Wu(I);return Ll(nt)&&(nt=void 0),Ll(C)?ac(C,Zo(I,1,Ll,!0),void 0,nt):[]});function Mx(C,I,nt){var Rt=null==C?0:C.length;if(!Rt)return-1;var ee=null==nt?0:Mo(nt);return ee<0&&(ee=Vo(Rt+ee,0)),En(C,Hi(I,3),ee)}function Ex(C,I,nt){var Rt=null==C?0:C.length;if(!Rt)return-1;var ee=Rt-1;return void 0!==nt&&(ee=Mo(nt),ee=nt<0?Vo(Rt+ee,0):ns(ee,Rt-1)),En(C,Hi(I,3),ee,!0)}function dM(C){return null!=C&&C.length?Zo(C,1):[]}function Bd(C){return C&&C.length?C[0]:void 0}var eR=Ce(function(C){var I=tn(C,pn);return I.length&&I[0]===C[0]?B(I):[]}),xy=Ce(function(C){var I=Wu(C),nt=tn(C,pn);return I===Wu(nt)?I=void 0:nt.pop(),nt.length&&nt[0]===C[0]?B(nt,Hi(I,2)):[]}),Tx=Ce(function(C){var I=Wu(C),nt=tn(C,pn);return(I="function"==typeof I?I:void 0)&&nt.pop(),nt.length&&nt[0]===C[0]?B(nt,void 0,I):[]});function Wu(C){var I=null==C?0:C.length;return I?C[I-1]:void 0}var Dx=Ce(wy);function wy(C,I){return C&&C.length&&I&&I.length?ht(C,I):C}var nR=ah(function(C,I){var nt=null==C?0:C.length,Rt=$c(C,I);return Nt(C,tn(I,function(ee){return Fd(ee,nt)?+ee:ee}).sort(Js)),Rt});function Cy(C){return null==C?C:Sl.call(C)}var hM=Ce(function(C){return x(Zo(C,1,Ll,!0))}),fM=Ce(function(C){var I=Wu(C);return Ll(I)&&(I=void 0),x(Zo(C,1,Ll,!0),Hi(I,2))}),pM=Ce(function(C){var I=Wu(C);return I="function"==typeof I?I:void 0,x(Zo(C,1,Ll,!0),void 0,I)});function Ax(C){if(!C||!C.length)return[];var I=0;return C=oe(C,function(nt){if(Ll(nt))return I=Vo(nt.length,I),!0}),oi(I,function(nt){return tn(C,gn(nt))})}function Kg(C,I){if(!C||!C.length)return[];var nt=Ax(C);return null==I?nt:tn(nt,function(Rt){return ki(I,void 0,Rt)})}var vp=Ce(function(C,I){return Ll(C)?ac(C,I):[]}),iR=Ce(function(C){return fe(oe(C,Ll))}),mM=Ce(function(C){var I=Wu(C);return Ll(I)&&(I=void 0),fe(oe(C,Ll),Hi(I,2))}),gM=Ce(function(C){var I=Wu(C);return I="function"==typeof I?I:void 0,fe(oe(C,Ll),void 0,I)}),Tm=Ce(Ax),rR=Ce(function(C){var I=C.length,nt=I>1?C[I-1]:void 0;return nt="function"==typeof nt?(C.pop(),nt):void 0,Kg(C,nt)});function Vr(C){var I=he(C);return I.__chain__=!0,I}function Dm(C,I){return I(C)}var oR=ah(function(C){var I=C.length,nt=I?C[0]:0,Rt=this.__wrapped__,ee=function(De){return $c(De,C)};return!(I>1||this.__actions__.length)&&Rt instanceof Ar&&Fd(nt)?((Rt=Rt.slice(nt,+nt+(I?1:0))).__actions__.push({func:Dm,args:[ee],thisArg:void 0}),new Po(Rt,this.__chain__).thru(function(De){return I&&!De.length&&De.push(void 0),De})):this.thru(ee)}),vM=Hu(function(C,I,nt){Dr.call(C,nt)?++C[nt]:Hr(C,nt,1)}),cu=ih(Mx),Am=ih(Ex);function _p(C,I){return(vo(C)?sr:Ao)(C,Hi(I,3))}function yp(C,I){return(vo(C)?us:Ms)(C,Hi(I,3))}var _M=Hu(function(C,I,nt){Dr.call(C,nt)?C[nt].push(I):Hr(C,nt,[I])}),Ix=Ce(function(C,I,nt){var Rt=-1,ee="function"==typeof I,De=Zu(C)?gi(C.length):[];return Ao(C,function($e){De[++Rt]=ee?ki(I,$e,nt):pt($e,I,nt)}),De}),Im=Hu(function(C,I,nt){Hr(C,nt,I)});function Px(C,I){return(vo(C)?tn:No)(C,Hi(I,3))}var aR=Hu(function(C,I,nt){C[nt?0:1].push(I)},function(){return[[],[]]}),hn=Ce(function(C,I){if(null==C)return[];var nt=I.length;return nt>1&&Qc(C,I[0],I[1])?I=[]:nt>2&&Qc(I[0],I[1],I[2])&&(I=[I[0]]),ke(C,Zo(I,1),[])}),kx=Yr||function(){return bo.Date.now()};function sR(C,I,nt){return I=nt?void 0:I,oh(C,128,void 0,void 0,void 0,void 0,I=C&&null==I?C.length:I)}function lR(C,I){var nt;if("function"!=typeof I)throw new Jo(at);return C=Mo(C),function(){return--C>0&&(nt=I.apply(this,arguments)),C<=1&&(I=void 0),nt}}var yM=Ce(function(C,I,nt){var Rt=1;if(nt.length){var ee=tc(nt,fd(yM));Rt|=32}return oh(C,Rt,I,nt,ee)}),cR=Ce(function(C,I,nt){var Rt=3;if(nt.length){var ee=tc(nt,fd(cR));Rt|=32}return oh(I,Rt,C,nt,ee)});function uR(C,I,nt){var Rt,ee,De,$e,on,Sn,Wn=0,Yn=!1,ii=!1,ir=!0;if("function"!=typeof C)throw new Jo(at);function vr(io){var co=Rt,$o=ee;return Rt=ee=void 0,Wn=io,$e=C.apply($o,co)}function $n(io){var co=io-Sn;return void 0===Sn||co>=I||co<0||ii&&io-Wn>=De}function mi(){var co,$o,io=kx();if($n(io))return no(io);on=mp(mi,($o=I-((co=io)-Sn),ii?ns($o,De-(co-Wn)):$o))}function no(io){return on=void 0,ir&&Rt?vr(io):(Rt=ee=void 0,$e)}function tr(){var io=kx(),co=$n(io);if(Rt=arguments,ee=this,Sn=io,co){if(void 0===on)return function Ur(io){return Wn=io,on=mp(mi,I),Yn?vr(io):$e}(Sn);if(ii)return lr(on),on=mp(mi,I),vr(Sn)}return void 0===on&&(on=mp(mi,I)),$e}return I=Xu(I)||0,gl(nt)&&(Yn=!!nt.leading,De=(ii="maxWait"in nt)?Vo(Xu(nt.maxWait)||0,I):De,ir="trailing"in nt?!!nt.trailing:ir),tr.cancel=function(){void 0!==on&&lr(on),Wn=0,Rt=Sn=ee=on=void 0},tr.flush=function(){return void 0===on?$e:no(kx())},tr}var tG=Ce(function(C,I){return za(C,1,I)}),Qg=Ce(function(C,I,nt){return za(C,Xu(I)||0,nt)});function Rx(C,I){if("function"!=typeof C||null!=I&&"function"!=typeof I)throw new Jo(at);var nt=function(){var Rt=arguments,ee=I?I.apply(this,Rt):Rt[0],De=nt.cache;if(De.has(ee))return De.get(ee);var $e=C.apply(this,Rt);return nt.cache=De.set(ee,$e)||De,$e};return nt.cache=new(Rx.Cache||Ns),nt}function Lx(C){if("function"!=typeof C)throw new Jo(at);return function(){var I=arguments;switch(I.length){case 0:return!C.call(this);case 1:return!C.call(this,I[0]);case 2:return!C.call(this,I[0],I[1]);case 3:return!C.call(this,I[0],I[1],I[2])}return!C.apply(this,I)}}Rx.Cache=Ns;var lc=li(function(C,I){var nt=(I=1==I.length&&vo(I[0])?tn(I[0],Fr(Hi())):tn(Zo(I,1),Fr(Hi()))).length;return Ce(function(Rt){for(var ee=-1,De=ns(Rt.length,nt);++ee<De;)Rt[ee]=I[ee].call(this,Rt[ee]);return ki(C,this,Rt)})}),Jg=Ce(function(C,I){return oh(C,32,void 0,I,tc(I,fd(Jg)))}),Pm=Ce(function(C,I){return oh(C,64,void 0,I,tc(I,fd(Pm)))}),dR=ah(function(C,I){return oh(C,256,void 0,void 0,void 0,I)});function Tl(C,I){return C===I||C!=C&&I!=I}var bp=Mm(Ld),bM=Mm(function(C,I){return C>=I}),sh=Vt(function(){return arguments}())?Vt:function(C){return Dl(C)&&Dr.call(C,"callee")&&!xc.call(C,"callee")},vo=gi.isArray,hR=cs?Fr(cs):function(C){return Dl(C)&&fs(C)==Tt};function Zu(C){return null!=C&&ev(C.length)&&!Mu(C)}function Ll(C){return Dl(C)&&Zu(C)}var xp=Ls||Cp,Yu=Qi?Fr(Qi):function(C){return Dl(C)&&fs(C)==bt};function tv(C){if(!Dl(C))return!1;var I=fs(C);return I==X||"[object DOMException]"==I||"string"==typeof C.message&&"string"==typeof C.name&&!nv(C)}function Mu(C){if(!gl(C))return!1;var I=fs(C);return I==et||I==W||"[object AsyncFunction]"==I||"[object Proxy]"==I}function fR(C){return"number"==typeof C&&C==Mo(C)}function ev(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=9007199254740991}function gl(C){var I=typeof C;return null!=C&&("object"==I||"function"==I)}function Dl(C){return null!=C&&"object"==typeof C}var xM=po?Fr(po):function(C){return Dl(C)&&Kc(C)==it};function wM(C){return"number"==typeof C||Dl(C)&&fs(C)==V}function nv(C){if(!Dl(C)||fs(C)!=lt)return!1;var I=Yc(C);if(null===I)return!0;var nt=Dr.call(I,"constructor")&&I.constructor;return"function"==typeof nt&&nt instanceof nt&&ec.call(nt)==Rd}var Ox=nl?Fr(nl):function(C){return Dl(C)&&fs(C)==mt},Sy=os?Fr(os):function(C){return Dl(C)&&Kc(C)==Ct};function wp(C){return"string"==typeof C||!vo(C)&&Dl(C)&&fs(C)==wt}function Mc(C){return"symbol"==typeof C||Dl(C)&&fs(C)==q}var Yl=as?Fr(as):function(C){return Dl(C)&&ev(C.length)&&!!qe[fs(C)]},CM=Mm(hr),pd=Mm(function(C,I){return C<=I});function SM(C){if(!C)return[];if(Zu(C))return wp(C)?rl(C):lu(C);if(Us&&C[Us])return function(nt){for(var Rt,ee=[];!(Rt=nt.next()).done;)ee.push(Rt.value);return ee}(C[Us]());var I=Kc(C);return(I==it?mo:I==Ct?Vs:rv)(C)}function lh(C){return C?(C=Xu(C))===1/0||C===-1/0?17976931348623157e292*(C<0?-1:1):C==C?C:0:0===C?C:0}function Mo(C){var I=lh(C),nt=I%1;return I==I?nt?I-nt:I:0}function iv(C){return C?Hs(Mo(C),0,4294967295):0}function Xu(C){if("number"==typeof C)return C;if(Mc(C))return NaN;if(gl(C)){var I="function"==typeof C.valueOf?C.valueOf():C;C=gl(I)?I+"":I}if("string"!=typeof C)return 0===C?C:+C;C=Mr(C);var nt=ze.test(C);return nt||Ue.test(C)?Ai(C.slice(2),nt?2:8):xe.test(C)?NaN:+C}function MM(C){return Su(C,uu(C))}function ys(C){return null==C?"":_(C)}var km=_f(function(C,I){if(Xg(I)||Zu(I))Su(I,Ec(I),C);else for(var nt in I)Dr.call(I,nt)&&na(C,nt,I[nt])}),Rm=_f(function(C,I){Su(I,uu(I),C)}),My=_f(function(C,I,nt,Rt){Su(I,uu(I),C,Rt)}),eG=_f(function(C,I,nt,Rt){Su(I,Ec(I),C,Rt)}),EM=ah($c),pR=Ce(function(C,I){C=Bo(C);var nt=-1,Rt=I.length,ee=Rt>2?I[2]:void 0;for(ee&&Qc(I[0],I[1],ee)&&(Rt=1);++nt<Rt;)for(var De=I[nt],$e=uu(De),on=-1,Sn=$e.length;++on<Sn;){var Wn=$e[on],Yn=C[Wn];(void 0===Yn||Tl(Yn,Ii[Wn])&&!Dr.call(C,Wn))&&(C[Wn]=De[Wn])}return C}),nG=Ce(function(C){return C.push(void 0,px),ki(Bx,void 0,C)});function Nx(C,I,nt){var Rt=null==C?void 0:qc(C,I);return void 0===Rt?nt:Rt}function Fx(C,I){return null!=C&&Wg(C,I,T)}var mR=rh(function(C,I,nt){null!=I&&"function"!=typeof I.toString&&(I=Zc.call(I)),C[I]=nt},Hx(du)),Ey=rh(function(C,I,nt){null!=I&&"function"!=typeof I.toString&&(I=Zc.call(I)),Dr.call(C,I)?C[I].push(nt):C[I]=[nt]},Hi),TM=Ce(pt);function Ec(C){return Zu(C)?ss(C):jn(C)}function uu(C){return Zu(C)?ss(C,!0):function hi(C){if(!gl(C))return function(ee){var De=[];if(null!=ee)for(var $e in Bo(ee))De.push($e);return De}(C);var I=Xg(C),nt=[];for(var Rt in C)("constructor"!=Rt||!I&&Dr.call(C,Rt))&&nt.push(Rt);return nt}(C)}var iG=_f(function(C,I,nt){ml(C,I,nt)}),Bx=_f(function(C,I,nt,Rt){ml(C,I,nt,Rt)}),rG=ah(function(C,I){var nt={};if(null==C)return nt;var Rt=!1;I=tn(I,function(De){return De=ti(De,C),Rt||(Rt=De.length>1),De}),Su(C,gx(C),nt),Rt&&(nt=$a(nt,7,sM));for(var ee=I.length;ee--;)D(nt,I[ee]);return nt}),gR=ah(function(C,I){return null==C?{}:function(nt,Rt){return R(nt,Rt,function(ee,De){return Fx(nt,De)})}(C,I)});function DM(C,I){if(null==C)return{};var nt=tn(gx(C),function(Rt){return[Rt]});return I=Hi(I),R(C,nt,function(Rt,ee){return I(Rt,ee[0])})}var Ty=aM(Ec),vR=aM(uu);function rv(C){return null==C?[]:ws(C,Ec(C))}var Vx=pp(function(C,I,nt){return I=I.toLowerCase(),C+(nt?_R(I):I)});function _R(C){return Dy(ys(C).toLowerCase())}function yR(C){return(C=ys(C))&&C.replace(un,Bu).replace(Za,"")}var oG=pp(function(C,I,nt){return C+(nt?"-":"")+I.toLowerCase()}),aG=pp(function(C,I,nt){return C+(nt?" ":"")+I.toLowerCase()}),sG=qk("toLowerCase"),bR=pp(function(C,I,nt){return C+(nt?"_":"")+I.toLowerCase()}),AM=pp(function(C,I,nt){return C+(nt?" ":"")+Dy(I)}),zx=pp(function(C,I,nt){return C+(nt?" ":"")+I.toUpperCase()}),Dy=qk("toUpperCase");function Ux(C,I,nt){return C=ys(C),void 0===(I=nt?void 0:I)?zt.test(C)?C.match(Bi)||[]:function(Rt){return Rt.match(ft)||[]}(C):C.match(I)||[]}var Gx=Ce(function(C,I){try{return ki(C,void 0,I)}catch(nt){return tv(nt)?nt:new Do(nt)}}),Eu=ah(function(C,I){return sr(I,function(nt){nt=ju(nt),Hr(C,nt,yM(C[nt],C))}),C});function Hx(C){return function(){return C}}var xR=hx(),wR=hx(!0);function du(C){return C}function ov(C){return bn("function"==typeof C?C:$a(C,1))}var CR=Ce(function(C,I){return function(nt){return pt(nt,C,I)}}),SR=Ce(function(C,I){return function(nt){return pt(C,nt,I)}});function jx(C,I,nt){var Rt=Ec(I),ee=hd(I,Rt);null!=nt||gl(I)&&(ee.length||!Rt.length)||(nt=I,I=C,C=this,ee=hd(I,Ec(I)));var De=!(gl(nt)&&"chain"in nt&&!nt.chain),$e=Mu(C);return sr(ee,function(on){var Sn=I[on];C[on]=Sn,$e&&(C.prototype[on]=function(){var Wn=this.__chain__;if(De||Wn){var Yn=C(this.__wrapped__);return(Yn.__actions__=lu(this.__actions__)).push({func:Sn,args:arguments,thisArg:C}),Yn.__chain__=Wn,Yn}return Sn.apply(C,Ze([this.value()],arguments))})}),C}function Ay(){}var MR=hy(tn),ER=hy(so),Tu=hy(_i);function Iy(C){return bx(C)?gn(ju(C)):function(I){return function(nt){return qc(nt,I)}}(C)}var IM=oM(),Wx=oM(!0);function Tc(){return[]}function Cp(){return!1}var Zx,PM=dy(function(C,I){return C+I},0),kM=my("ceil"),TR=dy(function(C,I){return C/I},1),RM=my("floor"),LM=dy(function(C,I){return C*I},1),DR=my("round"),OM=dy(function(C,I){return C-I},0);return he.after=function(C,I){if("function"!=typeof I)throw new Jo(at);return C=Mo(C),function(){if(--C<1)return I.apply(this,arguments)}},he.ary=sR,he.assign=km,he.assignIn=Rm,he.assignInWith=My,he.assignWith=eG,he.at=EM,he.before=lR,he.bind=yM,he.bindAll=Eu,he.bindKey=cR,he.castArray=function(){if(!arguments.length)return[];var C=arguments[0];return vo(C)?C:[C]},he.chain=Vr,he.chunk=function(C,I,nt){I=(nt?Qc(C,I,nt):void 0===I)?1:Vo(Mo(I),0);var Rt=null==C?0:C.length;if(!Rt||I<1)return[];for(var ee=0,De=0,$e=gi(ol(Rt/I));ee<Rt;)$e[De++]=si(C,ee,ee+=I);return $e},he.compact=function(C){for(var I=-1,nt=null==C?0:C.length,Rt=0,ee=[];++I<nt;){var De=C[I];De&&(ee[Rt++]=De)}return ee},he.concat=function(){var C=arguments.length;if(!C)return[];for(var I=gi(C-1),nt=arguments[0],Rt=C;Rt--;)I[Rt-1]=arguments[Rt];return Ze(vo(nt)?lu(nt):[nt],Zo(I,1))},he.cond=function(C){var I=null==C?0:C.length,nt=Hi();return C=I?tn(C,function(Rt){if("function"!=typeof Rt[1])throw new Jo(at);return[nt(Rt[0]),Rt[1]]}):[],Ce(function(Rt){for(var ee=-1;++ee<I;){var De=C[ee];if(ki(De[0],this,Rt))return ki(De[1],this,Rt)}})},he.conforms=function(C){return function(I){var nt=Ec(I);return function(Rt){return ll(Rt,I,nt)}}($a(C,1))},he.constant=Hx,he.countBy=vM,he.create=function(C,I){var nt=Ss(C);return null==I?nt:Ml(nt,I)},he.curry=function C(I,nt,Rt){var ee=oh(I,8,void 0,void 0,void 0,void 0,void 0,nt=Rt?void 0:nt);return ee.placeholder=C.placeholder,ee},he.curryRight=function C(I,nt,Rt){var ee=oh(I,16,void 0,void 0,void 0,void 0,void 0,nt=Rt?void 0:nt);return ee.placeholder=C.placeholder,ee},he.debounce=uR,he.defaults=pR,he.defaultsDeep=nG,he.defer=tG,he.delay=Qg,he.difference=Sx,he.differenceBy=by,he.differenceWith=J8,he.drop=function(C,I,nt){var Rt=null==C?0:C.length;return Rt?si(C,(I=nt||void 0===I?1:Mo(I))<0?0:I,Rt):[]},he.dropRight=function(C,I,nt){var Rt=null==C?0:C.length;return Rt?si(C,0,(I=Rt-(I=nt||void 0===I?1:Mo(I)))<0?0:I):[]},he.dropRightWhile=function(C,I){return C&&C.length?xt(C,Hi(I,3),!0,!0):[]},he.dropWhile=function(C,I){return C&&C.length?xt(C,Hi(I,3),!0):[]},he.fill=function(C,I,nt,Rt){var ee=null==C?0:C.length;return ee?(nt&&"number"!=typeof nt&&Qc(C,I,nt)&&(nt=0,Rt=ee),function(De,$e,on,Sn){var Wn=De.length;for((on=Mo(on))<0&&(on=-on>Wn?0:Wn+on),(Sn=void 0===Sn||Sn>Wn?Wn:Mo(Sn))<0&&(Sn+=Wn),Sn=on>Sn?0:iv(Sn);on<Sn;)De[on++]=$e;return De}(C,I,nt,Rt)):[]},he.filter=function(C,I){return(vo(C)?oe:wc)(C,Hi(I,3))},he.flatMap=function(C,I){return Zo(Px(C,I),1)},he.flatMapDeep=function(C,I){return Zo(Px(C,I),1/0)},he.flatMapDepth=function(C,I,nt){return nt=void 0===nt?1:Mo(nt),Zo(Px(C,I),nt)},he.flatten=dM,he.flattenDeep=function(C){return null!=C&&C.length?Zo(C,1/0):[]},he.flattenDepth=function(C,I){return null!=C&&C.length?Zo(C,I=void 0===I?1:Mo(I)):[]},he.flip=function(C){return oh(C,512)},he.flow=xR,he.flowRight=wR,he.fromPairs=function(C){for(var I=-1,nt=null==C?0:C.length,Rt={};++I<nt;){var ee=C[I];Rt[ee[0]]=ee[1]}return Rt},he.functions=function(C){return null==C?[]:hd(C,Ec(C))},he.functionsIn=function(C){return null==C?[]:hd(C,uu(C))},he.groupBy=_M,he.initial=function(C){return null!=C&&C.length?si(C,0,-1):[]},he.intersection=eR,he.intersectionBy=xy,he.intersectionWith=Tx,he.invert=mR,he.invertBy=Ey,he.invokeMap=Ix,he.iteratee=ov,he.keyBy=Im,he.keys=Ec,he.keysIn=uu,he.map=Px,he.mapKeys=function(C,I){var nt={};return I=Hi(I,3),Fs(C,function(Rt,ee,De){Hr(nt,I(Rt,ee,De),Rt)}),nt},he.mapValues=function(C,I){var nt={};return I=Hi(I,3),Fs(C,function(Rt,ee,De){Hr(nt,ee,I(Rt,ee,De))}),nt},he.matches=function(C){return su($a(C,1))},he.matchesProperty=function(C,I){return Zl(C,$a(I,1))},he.memoize=Rx,he.merge=iG,he.mergeWith=Bx,he.method=CR,he.methodOf=SR,he.mixin=jx,he.negate=Lx,he.nthArg=function(C){return C=Mo(C),Ce(function(I){return Yo(I,C)})},he.omit=rG,he.omitBy=function(C,I){return DM(C,Lx(Hi(I)))},he.once=function(C){return lR(2,C)},he.orderBy=function(C,I,nt,Rt){return null==C?[]:(vo(I)||(I=null==I?[]:[I]),vo(nt=Rt?void 0:nt)||(nt=null==nt?[]:[nt]),ke(C,I,nt))},he.over=MR,he.overArgs=lc,he.overEvery=ER,he.overSome=Tu,he.partial=Jg,he.partialRight=Pm,he.partition=aR,he.pick=gR,he.pickBy=DM,he.property=Iy,he.propertyOf=function(C){return function(I){return null==C?void 0:qc(C,I)}},he.pull=Dx,he.pullAll=wy,he.pullAllBy=function(C,I,nt){return C&&C.length&&I&&I.length?ht(C,I,Hi(nt,2)):C},he.pullAllWith=function(C,I,nt){return C&&C.length&&I&&I.length?ht(C,I,void 0,nt):C},he.pullAt=nR,he.range=IM,he.rangeRight=Wx,he.rearg=dR,he.reject=function(C,I){return(vo(C)?oe:wc)(C,Lx(Hi(I,3)))},he.remove=function(C,I){var nt=[];if(!C||!C.length)return nt;var Rt=-1,ee=[],De=C.length;for(I=Hi(I,3);++Rt<De;){var $e=C[Rt];I($e,Rt,C)&&(nt.push($e),ee.push(Rt))}return Nt(C,ee),nt},he.rest=function(C,I){if("function"!=typeof C)throw new Jo(at);return Ce(C,I=void 0===I?I:Mo(I))},he.reverse=Cy,he.sampleSize=function(C,I,nt){return I=(nt?Qc(C,I,nt):void 0===I)?1:Mo(I),(vo(C)?oc:dn)(C,I)},he.set=function(C,I,nt){return null==C?C:Pn(C,I,nt)},he.setWith=function(C,I,nt,Rt){return Rt="function"==typeof Rt?Rt:void 0,null==C?C:Pn(C,I,nt,Rt)},he.shuffle=function(C){return(vo(C)?ts:Li)(C)},he.slice=function(C,I,nt){var Rt=null==C?0:C.length;return Rt?(nt&&"number"!=typeof nt&&Qc(C,I,nt)?(I=0,nt=Rt):(I=null==I?0:Mo(I),nt=void 0===nt?Rt:Mo(nt)),si(C,I,nt)):[]},he.sortBy=hn,he.sortedUniq=function(C){return C&&C.length?f(C):[]},he.sortedUniqBy=function(C,I){return C&&C.length?f(C,Hi(I,2)):[]},he.split=function(C,I,nt){return nt&&"number"!=typeof nt&&Qc(C,I,nt)&&(I=nt=void 0),(nt=void 0===nt?4294967295:nt>>>0)?(C=ys(C))&&("string"==typeof I||null!=I&&!Ox(I))&&!(I=_(I))&&ul(C)?bi(rl(C),0,nt):C.split(I,nt):[]},he.spread=function(C,I){if("function"!=typeof C)throw new Jo(at);return I=null==I?0:Vo(Mo(I),0),Ce(function(nt){var Rt=nt[I],ee=bi(nt,0,I);return Rt&&Ze(ee,Rt),ki(C,this,ee)})},he.tail=function(C){var I=null==C?0:C.length;return I?si(C,1,I):[]},he.take=function(C,I,nt){return C&&C.length?si(C,0,(I=nt||void 0===I?1:Mo(I))<0?0:I):[]},he.takeRight=function(C,I,nt){var Rt=null==C?0:C.length;return Rt?si(C,(I=Rt-(I=nt||void 0===I?1:Mo(I)))<0?0:I,Rt):[]},he.takeRightWhile=function(C,I){return C&&C.length?xt(C,Hi(I,3),!1,!0):[]},he.takeWhile=function(C,I){return C&&C.length?xt(C,Hi(I,3)):[]},he.tap=function(C,I){return I(C),C},he.throttle=function(C,I,nt){var Rt=!0,ee=!0;if("function"!=typeof C)throw new Jo(at);return gl(nt)&&(Rt="leading"in nt?!!nt.leading:Rt,ee="trailing"in nt?!!nt.trailing:ee),uR(C,I,{leading:Rt,maxWait:I,trailing:ee})},he.thru=Dm,he.toArray=SM,he.toPairs=Ty,he.toPairsIn=vR,he.toPath=function(C){return vo(C)?tn(C,ju):Mc(C)?[C]:lu(Cx(ys(C)))},he.toPlainObject=MM,he.transform=function(C,I,nt){var Rt=vo(C),ee=Rt||xp(C)||Yl(C);if(I=Hi(I,4),null==nt){var De=C&&C.constructor;nt=ee?Rt?new De:[]:gl(C)&&Mu(De)?Ss(Yc(C)):{}}return(ee?sr:Fs)(C,function($e,on,Sn){return I(nt,$e,on,Sn)}),nt},he.unary=function(C){return sR(C,1)},he.union=hM,he.unionBy=fM,he.unionWith=pM,he.uniq=function(C){return C&&C.length?x(C):[]},he.uniqBy=function(C,I){return C&&C.length?x(C,Hi(I,2)):[]},he.uniqWith=function(C,I){return I="function"==typeof I?I:void 0,C&&C.length?x(C,void 0,I):[]},he.unset=function(C,I){return null==C||D(C,I)},he.unzip=Ax,he.unzipWith=Kg,he.update=function(C,I,nt){return null==C?C:K(C,I,Mn(nt))},he.updateWith=function(C,I,nt,Rt){return Rt="function"==typeof Rt?Rt:void 0,null==C?C:K(C,I,Mn(nt),Rt)},he.values=rv,he.valuesIn=function(C){return null==C?[]:ws(C,uu(C))},he.without=vp,he.words=Ux,he.wrap=function(C,I){return Jg(Mn(I),C)},he.xor=iR,he.xorBy=mM,he.xorWith=gM,he.zip=Tm,he.zipObject=function(C,I){return He(C||[],I||[],na)},he.zipObjectDeep=function(C,I){return He(C||[],I||[],Pn)},he.zipWith=rR,he.entries=Ty,he.entriesIn=vR,he.extend=Rm,he.extendWith=My,jx(he,he),he.add=PM,he.attempt=Gx,he.camelCase=Vx,he.capitalize=_R,he.ceil=kM,he.clamp=function(C,I,nt){return void 0===nt&&(nt=I,I=void 0),void 0!==nt&&(nt=(nt=Xu(nt))==nt?nt:0),void 0!==I&&(I=(I=Xu(I))==I?I:0),Hs(Xu(C),I,nt)},he.clone=function(C){return $a(C,4)},he.cloneDeep=function(C){return $a(C,5)},he.cloneDeepWith=function(C,I){return $a(C,5,I="function"==typeof I?I:void 0)},he.cloneWith=function(C,I){return $a(C,4,I="function"==typeof I?I:void 0)},he.conformsTo=function(C,I){return null==I||ll(C,I,Ec(I))},he.deburr=yR,he.defaultTo=function(C,I){return null==C||C!=C?I:C},he.divide=TR,he.endsWith=function(C,I,nt){C=ys(C),I=_(I);var Rt=C.length,ee=nt=void 0===nt?Rt:Hs(Mo(nt),0,Rt);return(nt-=I.length)>=0&&C.slice(nt,ee)==I},he.eq=Tl,he.escape=function(C){return(C=ys(C))&&Le.test(C)?C.replace(pe,ks):C},he.escapeRegExp=function(C){return(C=ys(C))&&gt.test(C)?C.replace(Ut,"\\$&"):C},he.every=function(C,I,nt){var Rt=vo(C)?so:Ua;return nt&&Qc(C,I,nt)&&(I=void 0),Rt(C,Hi(I,3))},he.find=cu,he.findIndex=Mx,he.findKey=function(C,I){return xo(C,Hi(I,3),Fs)},he.findLast=Am,he.findLastIndex=Ex,he.findLastKey=function(C,I){return xo(C,Hi(I,3),is)},he.floor=RM,he.forEach=_p,he.forEachRight=yp,he.forIn=function(C,I){return null==C?C:Cc(C,Hi(I,3),uu)},he.forInRight=function(C,I){return null==C?C:ia(C,Hi(I,3),uu)},he.forOwn=function(C,I){return C&&Fs(C,Hi(I,3))},he.forOwnRight=function(C,I){return C&&is(C,Hi(I,3))},he.get=Nx,he.gt=bp,he.gte=bM,he.has=function(C,I){return null!=C&&Wg(C,I,v)},he.hasIn=Fx,he.head=Bd,he.identity=du,he.includes=function(C,I,nt,Rt){C=Zu(C)?C:rv(C),nt=nt&&!Rt?Mo(nt):0;var ee=C.length;return nt<0&&(nt=Vo(ee+nt,0)),wp(C)?nt<=ee&&C.indexOf(I,nt)>-1:!!ee&&il(C,I,nt)>-1},he.indexOf=function(C,I,nt){var Rt=null==C?0:C.length;if(!Rt)return-1;var ee=null==nt?0:Mo(nt);return ee<0&&(ee=Vo(Rt+ee,0)),il(C,I,ee)},he.inRange=function(C,I,nt){return I=lh(I),void 0===nt?(nt=I,I=0):nt=lh(nt),(Rt=C=Xu(C))>=ns(ee=I,De=nt)&&Rt<Vo(ee,De);var Rt,ee,De},he.invoke=TM,he.isArguments=sh,he.isArray=vo,he.isArrayBuffer=hR,he.isArrayLike=Zu,he.isArrayLikeObject=Ll,he.isBoolean=function(C){return!0===C||!1===C||Dl(C)&&fs(C)==U},he.isBuffer=xp,he.isDate=Yu,he.isElement=function(C){return Dl(C)&&1===C.nodeType&&!nv(C)},he.isEmpty=function(C){if(null==C)return!0;if(Zu(C)&&(vo(C)||"string"==typeof C||"function"==typeof C.splice||xp(C)||Yl(C)||sh(C)))return!C.length;var I=Kc(C);if(I==it||I==Ct)return!C.size;if(Xg(C))return!jn(C).length;for(var nt in C)if(Dr.call(C,nt))return!1;return!0},he.isEqual=function(C,I){return ve(C,I)},he.isEqualWith=function(C,I,nt){var Rt=(nt="function"==typeof nt?nt:void 0)?nt(C,I):void 0;return void 0===Rt?ve(C,I,void 0,nt):!!Rt},he.isError=tv,he.isFinite=function(C){return"number"==typeof C&&Xc(C)},he.isFunction=Mu,he.isInteger=fR,he.isLength=ev,he.isMap=xM,he.isMatch=function(C,I){return C===I||Ye(C,I,_x(I))},he.isMatchWith=function(C,I,nt){return nt="function"==typeof nt?nt:void 0,Ye(C,I,_x(I),nt)},he.isNaN=function(C){return wM(C)&&C!=+C},he.isNative=function(C){if(Yg(C))throw new Do("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return vn(C)},he.isNil=function(C){return null==C},he.isNull=function(C){return null===C},he.isNumber=wM,he.isObject=gl,he.isObjectLike=Dl,he.isPlainObject=nv,he.isRegExp=Ox,he.isSafeInteger=function(C){return fR(C)&&C>=-9007199254740991&&C<=9007199254740991},he.isSet=Sy,he.isString=wp,he.isSymbol=Mc,he.isTypedArray=Yl,he.isUndefined=function(C){return void 0===C},he.isWeakMap=function(C){return Dl(C)&&Kc(C)==Pt},he.isWeakSet=function(C){return Dl(C)&&"[object WeakSet]"==fs(C)},he.join=function(C,I){return null==C?"":Hh.call(C,I)},he.kebabCase=oG,he.last=Wu,he.lastIndexOf=function(C,I,nt){var Rt=null==C?0:C.length;if(!Rt)return-1;var ee=Rt;return void 0!==nt&&(ee=(ee=Mo(nt))<0?Vo(Rt+ee,0):ns(ee,Rt-1)),I==I?function(De,$e,on){for(var Sn=on+1;Sn--;)if(De[Sn]===$e)return Sn;return Sn}(C,I,ee):En(C,Se,ee,!0)},he.lowerCase=aG,he.lowerFirst=sG,he.lt=CM,he.lte=pd,he.max=function(C){return C&&C.length?hs(C,du,Ld):void 0},he.maxBy=function(C,I){return C&&C.length?hs(C,Hi(I,2),Ld):void 0},he.mean=function(C){return Ge(C,du)},he.meanBy=function(C,I){return Ge(C,Hi(I,2))},he.min=function(C){return C&&C.length?hs(C,du,hr):void 0},he.minBy=function(C,I){return C&&C.length?hs(C,Hi(I,2),hr):void 0},he.stubArray=Tc,he.stubFalse=Cp,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=LM,he.nth=function(C,I){return C&&C.length?Yo(C,Mo(I)):void 0},he.noConflict=function(){return bo._===this&&(bo._=vf),this},he.noop=Ay,he.now=kx,he.pad=function(C,I,nt){C=ys(C);var Rt=(I=Mo(I))?zn(C):0;if(!I||Rt>=I)return C;var ee=(I-Rt)/2;return fy(wr(ee),nt)+C+fy(ol(ee),nt)},he.padEnd=function(C,I,nt){C=ys(C);var Rt=(I=Mo(I))?zn(C):0;return I&&Rt<I?C+fy(I-Rt,nt):C},he.padStart=function(C,I,nt){C=ys(C);var Rt=(I=Mo(I))?zn(C):0;return I&&Rt<I?fy(I-Rt,nt)+C:C},he.parseInt=function(C,I,nt){return nt||null==I?I=0:I&&(I=+I),Cl(ys(C).replace(At,""),I||0)},he.random=function(C,I,nt){if(nt&&"boolean"!=typeof nt&&Qc(C,I,nt)&&(I=nt=void 0),void 0===nt&&("boolean"==typeof I?(nt=I,I=void 0):"boolean"==typeof C&&(nt=C,C=void 0)),void 0===C&&void 0===I?(C=0,I=1):(C=lh(C),void 0===I?(I=C,C=0):I=lh(I)),C>I){var Rt=C;C=I,I=Rt}if(nt||C%1||I%1){var ee=rc();return ns(C+ee*(I-C+ri("1e-"+((ee+"").length-1))),I)}return $t(C,I)},he.reduce=function(C,I,nt){var Rt=vo(C)?wn:ei,ee=arguments.length<3;return Rt(C,Hi(I,4),nt,ee,Ao)},he.reduceRight=function(C,I,nt){var Rt=vo(C)?pr:ei,ee=arguments.length<3;return Rt(C,Hi(I,4),nt,ee,Ms)},he.repeat=function(C,I,nt){return I=(nt?Qc(C,I,nt):void 0===I)?1:Mo(I),ue(ys(C),I)},he.replace=function(){var C=arguments,I=ys(C[0]);return C.length<3?I:I.replace(C[1],C[2])},he.result=function(C,I,nt){var Rt=-1,ee=(I=ti(I,C)).length;for(ee||(ee=1,C=void 0);++Rt<ee;){var De=C?.[ju(I[Rt])];void 0===De&&(Rt=ee,De=nt),C=Mu(De)?De.call(C):De}return C},he.round=DR,he.runInContext=fn,he.sample=function(C){return(vo(C)?Xa:Ie)(C)},he.size=function(C){if(null==C)return 0;if(Zu(C))return wp(C)?zn(C):C.length;var I=Kc(C);return I==it||I==Ct?C.size:jn(C).length},he.snakeCase=bR,he.some=function(C,I,nt){var Rt=vo(C)?_i:di;return nt&&Qc(C,I,nt)&&(I=void 0),Rt(C,Hi(I,3))},he.sortedIndex=function(C,I){return eo(C,I)},he.sortedIndexBy=function(C,I,nt){return zo(C,I,Hi(nt,2))},he.sortedIndexOf=function(C,I){var nt=null==C?0:C.length;if(nt){var Rt=eo(C,I);if(Rt<nt&&Tl(C[Rt],I))return Rt}return-1},he.sortedLastIndex=function(C,I){return eo(C,I,!0)},he.sortedLastIndexBy=function(C,I,nt){return zo(C,I,Hi(nt,2),!0)},he.sortedLastIndexOf=function(C,I){if(null!=C&&C.length){var nt=eo(C,I,!0)-1;if(Tl(C[nt],I))return nt}return-1},he.startCase=AM,he.startsWith=function(C,I,nt){return C=ys(C),nt=null==nt?0:Hs(Mo(nt),0,C.length),I=_(I),C.slice(nt,nt+I.length)==I},he.subtract=OM,he.sum=function(C){return C&&C.length?ui(C,du):0},he.sumBy=function(C,I){return C&&C.length?ui(C,Hi(I,2)):0},he.template=function(C,I,nt){var Rt=he.templateSettings;nt&&Qc(C,I,nt)&&(I=void 0),C=ys(C),I=My({},I,Rt,gy);var ee,De,$e=My({},I.imports,Rt.imports,gy),on=Ec($e),Sn=ws($e,on),Wn=0,Yn=I.interpolate||ln,ii="__p += '",ir=Rs((I.escape||ln).source+"|"+Yn.source+"|"+(Yn===le?me:ln).source+"|"+(I.evaluate||ln).source+"|$","g"),vr="//# sourceURL="+(Dr.call(I,"sourceURL")?(I.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Be+"]")+"\n";C.replace(ir,function(mi,no,tr,io,co,$o){return tr||(tr=io),ii+=C.slice(Wn,$o).replace(xn,Hl),no&&(ee=!0,ii+="' +\n__e("+no+") +\n'"),co&&(De=!0,ii+="';\n"+co+";\n__p += '"),tr&&(ii+="' +\n((__t = ("+tr+")) == null ? '' : __t) +\n'"),Wn=$o+mi.length,mi}),ii+="';\n";var Ur=Dr.call(I,"variable")&&I.variable;if(Ur){if(Mt.test(Ur))throw new Do("Invalid `variable` option passed into `_.template`")}else ii="with (obj) {\n"+ii+"\n}\n";ii=(De?ii.replace(Ft,""):ii).replace(Ee,"$1").replace(Wt,"$1;"),ii="function("+(Ur||"obj")+") {\n"+(Ur?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ee?", __e = _.escape":"")+(De?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ii+"return __p\n}";var $n=Gx(function(){return qs(on,vr+"return "+ii).apply(void 0,Sn)});if($n.source=ii,tv($n))throw $n;return $n},he.times=function(C,I){if((C=Mo(C))<1||C>9007199254740991)return[];var nt=4294967295,Rt=ns(C,4294967295);C-=4294967295;for(var ee=oi(Rt,I=Hi(I));++nt<C;)I(nt);return ee},he.toFinite=lh,he.toInteger=Mo,he.toLength=iv,he.toLower=function(C){return ys(C).toLowerCase()},he.toNumber=Xu,he.toSafeInteger=function(C){return C?Hs(Mo(C),-9007199254740991,9007199254740991):0===C?C:0},he.toString=ys,he.toUpper=function(C){return ys(C).toUpperCase()},he.trim=function(C,I,nt){if((C=ys(C))&&(nt||void 0===I))return Mr(C);if(!C||!(I=_(I)))return C;var Rt=rl(C),ee=rl(I);return bi(Rt,wu(Rt,ee),Gl(Rt,ee)+1).join("")},he.trimEnd=function(C,I,nt){if((C=ys(C))&&(nt||void 0===I))return C.slice(0,Jn(C)+1);if(!C||!(I=_(I)))return C;var Rt=rl(C);return bi(Rt,0,Gl(Rt,rl(I))+1).join("")},he.trimStart=function(C,I,nt){if((C=ys(C))&&(nt||void 0===I))return C.replace(At,"");if(!C||!(I=_(I)))return C;var Rt=rl(C);return bi(Rt,wu(Rt,rl(I))).join("")},he.truncate=function(C,I){var nt=30,Rt="...";if(gl(I)){var ee="separator"in I?I.separator:ee;nt="length"in I?Mo(I.length):nt,Rt="omission"in I?_(I.omission):Rt}var De=(C=ys(C)).length;if(ul(C)){var $e=rl(C);De=$e.length}if(nt>=De)return C;var on=nt-zn(Rt);if(on<1)return Rt;var Sn=$e?bi($e,0,on).join(""):C.slice(0,on);if(void 0===ee)return Sn+Rt;if($e&&(on+=Sn.length-on),Ox(ee)){if(C.slice(on).search(ee)){var Wn,Yn=Sn;for(ee.global||(ee=Rs(ee.source,ys(ye.exec(ee))+"g")),ee.lastIndex=0;Wn=ee.exec(Yn);)var ii=Wn.index;Sn=Sn.slice(0,void 0===ii?on:ii)}}else if(C.indexOf(_(ee),on)!=on){var ir=Sn.lastIndexOf(ee);ir>-1&&(Sn=Sn.slice(0,ir))}return Sn+Rt},he.unescape=function(C){return(C=ys(C))&&Ne.test(C)?C.replace(qt,Vu):C},he.uniqueId=function(C){var I=++xl;return ys(C)+I},he.upperCase=zx,he.upperFirst=Dy,he.each=_p,he.eachRight=yp,he.first=Bd,jx(he,(Zx={},Fs(he,function(C,I){Dr.call(he.prototype,I)||(Zx[I]=C)}),Zx),{chain:!1}),he.VERSION="4.17.21",sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){he[C].placeholder=he}),sr(["drop","take"],function(C,I){Ar.prototype[C]=function(nt){nt=void 0===nt?1:Vo(Mo(nt),0);var Rt=this.__filtered__&&!I?new Ar(this):this.clone();return Rt.__filtered__?Rt.__takeCount__=ns(nt,Rt.__takeCount__):Rt.__views__.push({size:ns(nt,4294967295),type:C+(Rt.__dir__<0?"Right":"")}),Rt},Ar.prototype[C+"Right"]=function(nt){return this.reverse()[C](nt).reverse()}}),sr(["filter","map","takeWhile"],function(C,I){var nt=I+1,Rt=1==nt||3==nt;Ar.prototype[C]=function(ee){var De=this.clone();return De.__iteratees__.push({iteratee:Hi(ee,3),type:nt}),De.__filtered__=De.__filtered__||Rt,De}}),sr(["head","last"],function(C,I){var nt="take"+(I?"Right":"");Ar.prototype[C]=function(){return this[nt](1).value()[0]}}),sr(["initial","tail"],function(C,I){var nt="drop"+(I?"":"Right");Ar.prototype[C]=function(){return this.__filtered__?new Ar(this):this[nt](1)}}),Ar.prototype.compact=function(){return this.filter(du)},Ar.prototype.find=function(C){return this.filter(C).head()},Ar.prototype.findLast=function(C){return this.reverse().find(C)},Ar.prototype.invokeMap=Ce(function(C,I){return"function"==typeof C?new Ar(this):this.map(function(nt){return pt(nt,C,I)})}),Ar.prototype.reject=function(C){return this.filter(Lx(Hi(C)))},Ar.prototype.slice=function(C,I){C=Mo(C);var nt=this;return nt.__filtered__&&(C>0||I<0)?new Ar(nt):(C<0?nt=nt.takeRight(-C):C&&(nt=nt.drop(C)),void 0!==I&&(nt=(I=Mo(I))<0?nt.dropRight(-I):nt.take(I-C)),nt)},Ar.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},Ar.prototype.toArray=function(){return this.take(4294967295)},Fs(Ar.prototype,function(C,I){var nt=/^(?:filter|find|map|reject)|While$/.test(I),Rt=/^(?:head|last)$/.test(I),ee=he[Rt?"take"+("last"==I?"Right":""):I],De=Rt||/^find/.test(I);ee&&(he.prototype[I]=function(){var $e=this.__wrapped__,on=Rt?[1]:arguments,Sn=$e instanceof Ar,Wn=on[0],Yn=Sn||vo($e),ii=function(no){var tr=ee.apply(he,Ze([no],on));return Rt&&ir?tr[0]:tr};Yn&&nt&&"function"==typeof Wn&&1!=Wn.length&&(Sn=Yn=!1);var ir=this.__chain__,Ur=De&&!ir,$n=Sn&&!this.__actions__.length;if(!De&&Yn){$e=$n?$e:new Ar(this);var mi=C.apply($e,on);return mi.__actions__.push({func:Dm,args:[ii],thisArg:void 0}),new Po(mi,ir)}return Ur&&$n?C.apply(this,on):(mi=this.thru(ii),Ur?Rt?mi.value()[0]:mi.value():mi)})}),sr(["pop","push","shift","sort","splice","unshift"],function(C){var I=zu[C],nt=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",Rt=/^(?:pop|shift)$/.test(C);he.prototype[C]=function(){var ee=arguments;if(Rt&&!this.__chain__){var De=this.value();return I.apply(vo(De)?De:[],ee)}return this[nt](function($e){return I.apply(vo($e)?$e:[],ee)})}}),Fs(Ar.prototype,function(C,I){var nt=he[I];if(nt){var Rt=nt.name+"";Dr.call(Ks,Rt)||(Ks[Rt]=[]),Ks[Rt].push({name:I,func:nt})}}),Ks[jh(void 0,2).name]=[{name:"wrapper",func:void 0}],Ar.prototype.clone=function(){var C=new Ar(this.__wrapped__);return C.__actions__=lu(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=lu(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=lu(this.__views__),C},Ar.prototype.reverse=function(){if(this.__filtered__){var C=new Ar(this);C.__dir__=-1,C.__filtered__=!0}else(C=this.clone()).__dir__*=-1;return C},Ar.prototype.value=function(){var C=this.__wrapped__.value(),I=this.__dir__,nt=vo(C),Rt=I<0,ee=nt?C.length:0,De=function($o,Ir,jr){for(var Xl=-1,Nc=jr.length;++Xl<Nc;){var ch=jr[Xl],cc=ch.size;switch(ch.type){case"drop":$o+=cc;break;case"dropRight":Ir-=cc;break;case"take":Ir=ns(Ir,$o+cc);break;case"takeRight":$o=Vo($o,Ir-cc)}}return{start:$o,end:Ir}}(0,ee,this.__views__),$e=De.start,on=De.end,Sn=on-$e,Wn=Rt?on:$e-1,Yn=this.__iteratees__,ii=Yn.length,ir=0,vr=ns(Sn,this.__takeCount__);if(!nt||!Rt&&ee==Sn&&vr==Sn)return Kt(C,this.__actions__);var Ur=[];t:for(;Sn--&&ir<vr;){for(var $n=-1,mi=C[Wn+=I];++$n<ii;){var no=Yn[$n],io=no.type,co=(0,no.iteratee)(mi);if(2==io)mi=co;else if(!co){if(1==io)continue t;break t}}Ur[ir++]=mi}return Ur},he.prototype.at=oR,he.prototype.chain=function(){return Vr(this)},he.prototype.commit=function(){return new Po(this.value(),this.__chain__)},he.prototype.next=function(){void 0===this.__values__&&(this.__values__=SM(this.value()));var C=this.__index__>=this.__values__.length;return{done:C,value:C?void 0:this.__values__[this.__index__++]}},he.prototype.plant=function(C){for(var I,nt=this;nt instanceof Ja;){var Rt=qg(nt);Rt.__index__=0,Rt.__values__=void 0,I?ee.__wrapped__=Rt:I=Rt;var ee=Rt;nt=nt.__wrapped__}return ee.__wrapped__=C,I},he.prototype.reverse=function(){var C=this.__wrapped__;if(C instanceof Ar){var I=C;return this.__actions__.length&&(I=new Ar(this)),(I=I.reverse()).__actions__.push({func:Dm,args:[Cy],thisArg:void 0}),new Po(I,this.__chain__)}return this.thru(Cy)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return Kt(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,Us&&(he.prototype[Us]=function(){return this}),he}();bo._=Or,void 0===(Q=function(){return Or}.call(F,Z,F,O))||(O.exports=Q)}).call(this)}).call(this,Z(8),Z(9)(J))},function(J,F){var Z;Z=function(){return this}();try{Z=Z||new Function("return this")()}catch{"object"==typeof window&&(Z=window)}J.exports=Z},function(J,F){J.exports=function(Z){return Z.webpackPolyfill||(Z.deprecate=function(){},Z.paths=[],Z.children||(Z.children=[]),Object.defineProperty(Z,"loaded",{enumerable:!0,get:function(){return Z.l}}),Object.defineProperty(Z,"id",{enumerable:!0,get:function(){return Z.i}}),Z.webpackPolyfill=1),Z}},function(J,F,Z){"use strict";Z.r(F),Z.d(F,"Glify",function(){return ae}),Z.d(F,"glify",function(){return ce});var G=Z(0);class O extends G.Layer{constructor(vt,dt){super(),this._userDrawFunc=vt,this._frame=null,this._redrawCallbacks=[],this._pane=dt}drawing(vt){return this._userDrawFunc=vt,this}params(vt){return G.Util.setOptions(this,vt),this}redraw(vt){return"function"==typeof vt&&this._redrawCallbacks.push(vt),null===this._frame&&(this._frame=G.Util.requestAnimFrame(this._redraw,this)),this}isAnimated(){return Boolean(this._map.options.zoomAnimation&&G.Browser.any3d)}onAdd(vt){var dt;this._map=vt;const _t=this.canvas=null!==(dt=this.canvas)&&void 0!==dt?dt:document.createElement("canvas"),Zt=vt.getSize(),Ft=this.isAnimated();_t.width=Zt.x,_t.height=Zt.y,_t.className="leaflet-zoom-"+(Ft?"animated":"hide");const Ee=vt.getPane(this._pane);if(!Ee)throw new Error("unable to find pane");return Ee.appendChild(this.canvas),vt.on("moveend",this._reset,this),vt.on("resize",this._resize,this),Ft&&vt.on("zoomanim",G.Layer?this._animateZoom:this._animateZoomNoLayer,this),this._reset(),this}onRemove(vt){if(this.canvas){const dt=vt.getPane(this._pane);if(!dt)throw new Error("unable to find pane");dt.removeChild(this.canvas)}return vt.off("moveend",this._reset,this),vt.off("resize",this._resize,this),this.isAnimated()&&vt.off("zoomanim",G.Layer?this._animateZoom:this._animateZoomNoLayer,this),this}addTo(vt){return vt.addLayer(this),this}get map(){return this._map}set map(vt){this._map=vt}_resize(vt){this.canvas&&(this.canvas.width=vt.newSize.x,this.canvas.height=vt.newSize.y)}_reset(){if(this.canvas){const vt=this._map.containerPointToLayerPoint([0,0]);G.DomUtil.setPosition(this.canvas,vt)}this._redraw()}_redraw(){const{_map:vt,canvas:dt}=this,_t=vt.getSize(),Zt=vt.getBounds(),Ft=180*_t.x/(20037508.34*(Zt.getEast()-Zt.getWest())),Ee=vt.getZoom(),Wt=new G.LatLng(Zt.getNorth(),Zt.getWest()),qt=this._unclampedProject(Wt,0);for(dt&&this._userDrawFunc({bounds:Zt,canvas:dt,offset:qt,scale:Math.pow(2,Ee),size:_t,zoomScale:Ft,zoom:Ee});this._redrawCallbacks.length>0;){const pe=this._redrawCallbacks.shift();pe&&pe(this)}this._frame=null}_animateZoom(vt){const{_map:dt,canvas:_t}=this,Zt=dt.getZoomScale(vt.zoom,dt.getZoom()),Ft=this._unclampedLatLngBoundsToNewLayerBounds(dt.getBounds(),vt.zoom,vt.center).min;_t&&Ft&&G.DomUtil.setTransform(_t,Ft,Zt)}_animateZoomNoLayer(vt){const{_map:dt,canvas:_t}=this;if(_t){const Zt=dt.getZoomScale(vt.zoom,dt.getZoom()),Ft=dt._getCenterOffset(vt.center)._multiplyBy(-Zt).subtract(dt._getMapPanePos());G.DomUtil.setTransform(_t,Ft,Zt)}}_unclampedProject(vt,dt){var _t;const{crs:Zt}=this._map.options,{R:Ft}=Zt.projection,Ee=Math.PI/180,qt=Math.sin(vt.lat*Ee),pe=new G.Point(Ft*vt.lng*Ee,Ft*Math.log((1+qt)/(1-qt))/2),Ne=null!==(_t=Zt?.scale(dt))&&void 0!==_t?_t:0;return Zt.transformation._transform(pe,Ne)}_unclampedLatLngBoundsToNewLayerBounds(vt,dt,_t){const Zt=this._map._getNewPixelOrigin(_t,dt);return new G.Bounds([this._unclampedProject(vt.getSouthWest(),dt).subtract(Zt),this._unclampedProject(vt.getNorthWest(),dt).subtract(Zt),this._unclampedProject(vt.getSouthEast(),dt).subtract(Zt),this._unclampedProject(vt.getNorthEast(),dt).subtract(Zt)])}}function Q(Et){return`"${Et}" not properly defined`}class at{constructor(){this.array=new Float32Array(16)}setSize(vt,dt){return this.array.set([2/vt,0,0,0,0,-2/dt,0,0,0,0,0,0,-1,1,0,1]),this}translateTo(vt,dt){const{array:_t}=this;return _t[12]=_t[0]*vt-1,_t[13]=_t[5]*dt+1,this}scaleTo(vt){const{array:dt}=this;return dt[0]*=vt,dt[5]*=vt,this}}const ct={pane:"overlayPane"};let ot=(()=>{class Et{constructor(dt){var _t,Zt;this.bytes=0,this.buffers={},this.attributeLocations={},this.uniformLocations={},this.settings={...ct,...dt},this.mapMatrix=new at,this.active=!0,this.vertexShader=null,this.fragmentShader=null,this.program=null,this.matrix=null,this.vertices=null,this.vertexLines=null;const Ft=Boolean(dt.preserveDrawingBuffer),Ee=this.layer=new O(qt=>this.drawOnCanvas(qt),this.pane).addTo(this.map);if(!Ee.canvas)throw new Error(Q("layer.canvas"));const Wt=this.canvas=Ee.canvas;Wt.width=Wt.clientWidth,Wt.height=Wt.clientHeight,Wt.style.position="absolute",this.className&&(Wt.className+=" "+this.className),this.gl=null!==(Zt=null!==(_t=Wt.getContext("webgl2",{preserveDrawingBuffer:Ft}))&&void 0!==_t?_t:Wt.getContext("webgl",{preserveDrawingBuffer:Ft}))&&void 0!==Zt?Zt:Wt.getContext("experimental-webgl",{preserveDrawingBuffer:Ft})}get data(){if(!this.settings.data)throw new Error(Q("settings.data"));return this.settings.data}get pane(){var dt;return null!==(dt=this.settings.pane)&&void 0!==dt?dt:"overlayPane"}get className(){var dt;return null!==(dt=this.settings.className)&&void 0!==dt?dt:""}get map(){if(!this.settings.map)throw new Error(Q("settings.map"));return this.settings.map}get sensitivity(){if("number"!=typeof this.settings.sensitivity)throw new Error(Q("settings.sensitivity"));return this.settings.sensitivity}get sensitivityHover(){if("number"!=typeof this.settings.sensitivityHover)throw new Error(Q("settings.sensitivityHover"));return this.settings.sensitivityHover}get hoverWait(){var dt;return null!==(dt=this.settings.hoverWait)&&void 0!==dt?dt:250}get longitudeKey(){if("number"!=typeof this.settings.longitudeKey)throw new Error(Q("settings.longitudeKey"));return this.settings.longitudeKey}get latitudeKey(){if("number"!=typeof this.settings.latitudeKey)throw new Error(Q("settings.latitudeKey"));return this.settings.latitudeKey}get opacity(){if("number"!=typeof this.settings.opacity)throw new Error(Q("settings.opacity"));return this.settings.opacity}get color(){var dt;return null!==(dt=this.settings.color)&&void 0!==dt?dt:null}attachShaderVariables(dt){if(0===this.getShaderVariableCount())return this;const{gl:_t,settings:Zt}=this,{shaderVariables:Ft}=Zt;let Ee=0;for(const Wt in Ft){if(!Ft.hasOwnProperty(Wt))continue;const qt=Ft[Wt],pe=this.getAttributeLocation(Wt);if(pe<0)throw new Error("shader variable "+Wt+" not found");_t.vertexAttribPointer(pe,qt.size,_t[qt.type],!!qt.normalize,this.bytes*dt,Ee*dt),Ee+=qt.size,_t.enableVertexAttribArray(pe)}return this}getShaderVariableCount(){var dt;return Object.keys(null!==(dt=this.settings.shaderVariables)&&void 0!==dt?dt:{}).length}setData(dt){return this.settings={...this.settings,data:dt},this.render()}setup(){const dt=this.settings;return dt.click&&dt.setupClick&&dt.setupClick(this.map),dt.hover&&dt.setupHover&&dt.setupHover(this.map,this.hoverWait),this.setupVertexShader().setupFragmentShader().setupProgram()}setupVertexShader(){const{gl:dt,settings:_t}=this,Zt="function"==typeof _t.vertexShaderSource?_t.vertexShaderSource():_t.vertexShaderSource,Ft=dt.createShader(dt.VERTEX_SHADER);if(!Ft)throw new Error("Not able to create vertex");if(!Zt)throw new Error(Q("settings.vertexShaderSource"));return dt.shaderSource(Ft,Zt),dt.compileShader(Ft),this.vertexShader=Ft,this}setupFragmentShader(){const dt=this.gl,_t=this.settings,Zt="function"==typeof _t.fragmentShaderSource?_t.fragmentShaderSource():_t.fragmentShaderSource,Ft=dt.createShader(dt.FRAGMENT_SHADER);if(!Ft)throw new Error("Not able to create fragment");if(!Zt)throw new Error(Q("settings.fragmentShaderSource"));return dt.shaderSource(Ft,Zt),dt.compileShader(Ft),this.fragmentShader=Ft,this}setupProgram(){const{gl:dt,vertexShader:_t,fragmentShader:Zt}=this,Ft=dt.createProgram();if(!Ft)throw new Error("Not able to create program");if(!_t)throw new Error(Q("this.vertexShader"));if(!Zt)throw new Error(Q("this.fragmentShader"));return dt.attachShader(Ft,_t),dt.attachShader(Ft,Zt),dt.linkProgram(Ft),dt.useProgram(Ft),dt.blendFuncSeparate(dt.SRC_ALPHA,dt.ONE_MINUS_SRC_ALPHA,dt.ONE,dt.ONE_MINUS_SRC_ALPHA),dt.enable(dt.BLEND),this.program=Ft,this}addTo(dt){return this.layer.addTo(dt??this.map),this.active=!0,this.render()}remove(dt){if(void 0===dt)this.map.removeLayer(this.layer),this.active=!1;else{const _t=this.settings.data.features||this.settings.data;"number"==typeof(dt=dt instanceof Array?dt:[dt])&&(dt=[dt]),dt.sort((Zt,Ft)=>Zt-Ft).reverse().forEach(Zt=>{_t.splice(Zt,1)}),this.render()}return this}insert(dt,_t){return(this.settings.data.features||this.settings.data).splice(_t,0,dt),this.render()}update(dt,_t){return(this.settings.data.features||this.settings.data)[_t]=dt,this.render()}getBuffer(dt){if(!this.buffers[dt]){const _t=this.gl.createBuffer();if(!_t)throw new Error("Not able to create buffer");this.buffers[dt]=_t}return this.buffers[dt]}getAttributeLocation(dt){if(!this.program)throw new Error(Q("this.program"));return void 0!==this.attributeLocations[dt]?this.attributeLocations[dt]:this.attributeLocations[dt]=this.gl.getAttribLocation(this.program,dt)}getUniformLocation(dt){if(!this.program)throw new Error(Q("this.program"));if(void 0!==this.uniformLocations[dt])return this.uniformLocations[dt];const _t=this.gl.getUniformLocation(this.program,dt);if(!_t)throw new Error("Cannot find location");return this.uniformLocations[dt]=_t}click(dt,_t){if(!this.settings.click)return;const Zt=this.settings.click(dt,_t);return void 0!==Zt?Zt:void 0}hover(dt,_t){if(!this.settings.hover)return;const Zt=this.settings.hover(dt,_t);return void 0!==Zt?Zt:void 0}hoverOff(dt,_t){this.settings.hoverOff&&this.settings.hoverOff(dt,_t)}}return Et.defaults=ct,Et})();function $(){return{r:Math.random(),g:Math.random(),b:Math.random(),a:Math.random()}}class N{constructor(vt){this.pixels=[],this.latLngs=[],this.settings=vt,this.vertexCount=0,this.array=[]}get length(){return this.array.length}fillFromCoordinates(vt){var dt;const{color:_t,opacity:Zt,project:Ft,latitudeKey:Ee,longitudeKey:Wt}=this.settings;for(let qt=0;qt<vt.length;qt++){if(Array.isArray(vt[qt][0])){this.fillFromCoordinates(vt[qt]);continue}const Ne=new G.LatLng(vt[qt][Ee],vt[qt][Wt]);this.latLngs.push(Ne);const Le=Ft(Ne,0);this.pixels.push(Le),this.push(Le.x,Le.y,_t.r,_t.g,_t.b,null!==(dt=_t.a)&&void 0!==dt?dt:Zt),0!==qt&&qt!==vt.length-1&&(this.vertexCount+=1),this.vertexCount+=1}}push(...vt){this.array.push(...vt)}}function U(Et,vt){const dt=Math.PI/180,_t=4*Math.PI,Zt=Math.sin(Et*dt);return{x:(vt+180)/360*256,y:256*(.5-Math.log((1+Zt)/(1-Zt))/_t)}}function bt(Et,vt,dt){return(Et.x-vt.x)*(Et.x-vt.x)+(Et.y-vt.y)*(Et.y-vt.y)<=dt*dt}function X(Et,vt,dt,_t,Zt,Ft){const Ee=Zt-dt,Wt=Ft-_t,qt=Ee*Ee+Wt*Wt;let pe,Ne,Le=-1;0!==qt&&(Le=((Et-dt)*Ee+(vt-_t)*Wt)/qt),Le<0?(pe=dt,Ne=_t):Le>1?(pe=Zt,Ne=Ft):(pe=dt+Le*Ee,Ne=_t+Le*Wt);const re=Et-pe,Me=vt-Ne;return Math.sqrt(re*re+Me*Me)}function et(Et,vt,dt){const _t=dt.latLngToLayerPoint(Et),Zt=dt.latLngToLayerPoint(vt);return Ft=_t.x-Zt.x,Ee=_t.y-Zt.y,Math.sqrt(Ft*Ft+Ee*Ee);var Ft,Ee}const W={data:{type:"FeatureCollection",features:[]},color:$,className:"",opacity:.5,weight:2,sensitivity:.1,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}}};let it=(()=>{class Et extends ot{constructor(dt){if(super(dt),this.scale=1/0,this.bytes=6,this.allVertices=[],this.allVerticesTyped=new Float32Array(0),this.vertices=[],this.aPointSize=-1,this.hoveringFeatures=[],this.settings={...Et.defaults,...dt},!dt.data)throw new Error('"data" is missing');this.active=!0,this.setup().render()}get weight(){if(!this.settings.weight)throw new Error("settings.weight not correctly defined");return this.settings.weight}render(){this.resetVertices();const{canvas:dt,gl:_t,layer:Zt,mapMatrix:Ft}=this,Ee=this.getBuffer("vertex");_t.bindBuffer(_t.ARRAY_BUFFER,Ee);const Wt=this.allVerticesTyped.BYTES_PER_ELEMENT;_t.bufferData(_t.ARRAY_BUFFER,this.allVerticesTyped,_t.STATIC_DRAW);const qt=this.getAttributeLocation("vertex");return _t.vertexAttribPointer(qt,2,_t.FLOAT,!1,Wt*this.bytes,0),_t.enableVertexAttribArray(qt),this.matrix=this.getUniformLocation("matrix"),this.aPointSize=this.getAttributeLocation("pointSize"),Ft.setSize(dt.width,dt.height),_t.viewport(0,0,dt.width,dt.height),_t.uniformMatrix4fv(this.matrix,!1,Ft.array),this.attachShaderVariables(Wt),Zt.redraw(),this}resetVertices(){const{map:dt,opacity:_t,color:Zt,weight:Ft,latitudeKey:Ee,longitudeKey:Wt,data:qt,bytes:pe,settings:Ne}=this,{eachVertex:Le}=Ne,{features:re}=qt,Me=re.length;let le,Dt,Ht=null,jt=null,Ut=0;"function"==typeof Zt&&(Ht=Zt),"function"==typeof Ft&&(jt=Ft);const gt=dt.project.bind(dt),At=[];for(;Ut<Me;Ut++){le=re[Ut],Dt=Ht?Ht(Ut,le):Zt;const P=jt?jt(Ut,le):Ft,z=new N({project:gt,latitudeKey:Ee,longitudeKey:Wt,color:Dt,weight:P,opacity:_t});z.fillFromCoordinates(le.geometry.coordinates),At.push(z),Le&&Le(z)}const St=At.length,S=[];for(let P=0;P<St;P++){const z=At[P].array,ft=z.length/pe;for(let Mt=0;Mt<ft;Mt++){const Ot=Mt*pe;0!==Mt&&Mt!==ft-1&&S.push(z[Ot],z[Ot+1],z[Ot+2],z[Ot+3],z[Ot+4],z[Ot+5]),S.push(z[Ot],z[Ot+1],z[Ot+2],z[Ot+3],z[Ot+4],z[Ot+5])}}return this.vertices=At,this.allVertices=S,this.allVerticesTyped=new Float32Array(S),this}drawOnCanvas(dt){if(!this.gl)return this;const{gl:_t,data:Zt,canvas:Ft,mapMatrix:Ee,matrix:Wt,allVertices:qt,vertices:pe,weight:Ne,aPointSize:Le,bytes:re}=this,{scale:Me,offset:le,zoom:Dt}=dt;this.scale=Me;const Ht=Math.max(Dt-4,4);if(_t.clear(_t.COLOR_BUFFER_BIT),_t.viewport(0,0,Ft.width,Ft.height),_t.vertexAttrib1f(Le,Ht),Ee.setSize(Ft.width,Ft.height).scaleTo(Me),Dt>18)Ee.translateTo(-le.x,-le.y),_t.uniformMatrix4fv(Wt,!1,Ee.array),_t.drawArrays(_t.LINES,0,qt.length/re);else if("number"==typeof Ne)for(let jt=-Ne;jt<=Ne;jt+=.5)for(let Ut=-Ne;Ut<=Ne;Ut+=.5)Ee.translateTo(Ut/Me-le.x,jt/Me-le.y),_t.uniformMatrix4fv(Wt,!1,Ee.array),_t.drawArrays(_t.LINES,0,qt.length/re);else if("function"==typeof Ne){let jt=0;const{features:Ut}=Zt;for(let gt=0;gt<pe.length;gt++){const At=pe[gt],{vertexCount:St}=At,S=Ne(gt,Ut[gt]);for(let P=-S;P<=S;P+=.5)for(let z=-S;z<=S;z+=.5)Ee.translateTo(z/Me-le.x,P/Me-le.y),_t.uniformMatrix4fv(this.matrix,!1,Ee.array),_t.drawArrays(_t.LINES,jt,St);jt+=St}}return this}static tryClick(dt,_t,Zt){let Ft=null,Ee=null;if(Zt.forEach(Wt=>{const{latitudeKey:qt,longitudeKey:pe,sensitivity:Ne,weight:Le,scale:re,active:Me}=Wt;function le(Dt,Ht,jt,Ut){X(dt.latlng.lng,dt.latlng.lat,Ht[pe],Ht[qt],Dt[pe],Dt[qt])<=Ne+Ut/re&&(Ft=jt,Ee=Wt)}Me&&Wt.map===_t&&Wt.data.features.forEach((Dt,Ht)=>{const jt="function"==typeof Le?Le(Ht,Dt):Le,{coordinates:Ut,type:gt}=Dt.geometry;if("LineString"===gt)for(let At=1;At<Ut.length;At++)le(Ut[At],Ut[At-1],Dt,jt);else if("MultiLineString"===gt)for(let At=0;At<Ut.length;At++){const St=Ut[At];for(let S=0;S<St.length;S++)if(0===S&&At>0){const P=Ut[At-1];le(P[P.length-1],Ut[At][S],Dt,jt)}else S>0&&le(Ut[At][S],Ut[At][S-1],Dt,jt)}})}),Ee&&Ft){const Wt=Ee.click(dt,Ft);return void 0!==Wt?Wt:void 0}}static tryHover(dt,_t,Zt){const Ft=[];return Zt.forEach(Ee=>{const{sensitivityHover:Wt,latitudeKey:qt,longitudeKey:pe,data:Ne,hoveringFeatures:Le,weight:re,scale:Me}=Ee;function le(Ut,gt,At,St){return X(dt.latlng.lng,dt.latlng.lat,gt[pe],gt[qt],Ut[pe],Ut[qt])<=Wt+St/Me&&(Ht.includes(At)||Ht.push(At),!Dt.includes(At))}if(!Ee.active||_t!==Ee.map)return;const Dt=Le,Ht=[];Ee.hoveringFeatures=Ht;const jt=Object(G.geoJSON)(Ne.features).getBounds();(function(Ut,gt){const At=gt.getNorthEast(),St=gt.getSouthWest();return At.lat>Ut.lat&&Ut.lat>St.lat&&At.lng>Ut.lng&&Ut.lng>St.lng})(dt.latlng,jt)&&Ne.features.forEach((Ut,gt)=>{const At="function"==typeof re?re(gt,Ut):re,{coordinates:St,type:S}=Ut.geometry;let P=!1;if("LineString"===S)for(let z=1;z<St.length&&(P=le(St[z],St[z-1],Ut,At),!P);z++);else if("MultiLineString"===S)for(let z=0;z<St.length;z++){const ft=St[z];for(let Mt=0;Mt<ft.length;Mt++)if(0===Mt&&z>0){const Ot=St[z-1];if(P=le(Ot[Ot.length-1],St[z][Mt],Ut,At),P)break}else if(Mt>0&&(P=le(St[z][Mt],St[z][Mt-1],Ut,At),P))break}if(P){const z=Ee.hover(dt,Ut);void 0!==z&&Ft.push(z)}});for(let Ut=0;Ut<Dt.length;Ut++){const gt=Dt[Ut];Ht.includes(gt)||Ee.hoverOff(dt,gt)}}),Ft}}return Et.defaults=W,Et})();const V={color:$,opacity:.8,className:"",sensitivity:2,sensitivityHover:.03,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4},pointSize:{type:"FLOAT",start:6,size:1}}};class lt extends ot{constructor(vt){var dt;super(vt),this.bytes=7,this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[],this.typedVertices=new Float32Array,this.settings={...V,...vt},this.active=!0;const{data:_t,map:Zt}=this;if(Array.isArray(_t))this.dataFormat="Array";else{if("FeatureCollection"!==_t.type)throw new Error("unhandled data type. Supported types are Array and GeoJson.FeatureCollection");this.dataFormat="GeoJson.FeatureCollection"}"EPSG:3857"!==(null===(dt=Zt.options.crs)||void 0===dt?void 0:dt.code)&&console.warn("layer designed for SphericalMercator, alternate detected"),this.setup().render()}get size(){return"number"==typeof this.settings.size||"function"==typeof this.settings.size?this.settings.size:null}render(){this.resetVertices();const{gl:vt,canvas:dt,layer:_t,vertices:Zt,mapMatrix:Ft}=this,Ee=this.matrix=this.getUniformLocation("matrix"),Wt=this.getBuffer("vertices"),qt=this.typedVertices=new Float32Array(Zt),pe=qt.BYTES_PER_ELEMENT;return Ft.setSize(dt.width,dt.height),vt.viewport(0,0,dt.width,dt.height),vt.uniformMatrix4fv(Ee,!1,Ft.array),vt.bindBuffer(vt.ARRAY_BUFFER,Wt),vt.bufferData(vt.ARRAY_BUFFER,qt,vt.STATIC_DRAW),this.attachShaderVariables(pe),_t.redraw(),this}getPointLookup(vt){return this.latLngLookup[vt]||(this.latLngLookup[vt]=[])}addLookup(vt){return this.getPointLookup(vt.key).push(vt),this.allLatLngLookup.push(vt),this}resetVertices(){var vt,dt,_t,Zt,Ft,Ee;this.latLngLookup={},this.allLatLngLookup=[],this.vertices=[];const{vertices:Wt,settings:qt,map:pe,size:Ne,latitudeKey:Le,longitudeKey:re,color:Me,opacity:le,data:Dt}=this,{eachVertex:Ht}=qt;let jt,Ut,gt,At,St,S,P,z=null;if(!Me)throw new Error("color is not properly defined");if("function"==typeof Me&&(z=Me),!Ne)throw new Error("size is not properly defined");if("function"==typeof Ne&&(gt=Ne),"Array"===this.dataFormat){const ft=Dt.length;for(let Mt=0;Mt<ft;Mt++){At=Dt[Mt],P=At[Le].toFixed(2)+"x"+At[re].toFixed(2),St=new G.LatLng(At[Le],At[re]),S=pe.project(St,0),jt=z?z(Mt,St):Me,jt={...jt,a:null!==(dt=null!==(vt=jt.a)&&void 0!==vt?vt:le)&&void 0!==dt?dt:0},Ut=gt?gt(Mt,St):Ne,Wt.push(S.x,S.y,jt.r,jt.g,jt.b,null!==(_t=jt.a)&&void 0!==_t?_t:0,Ut);const Ot={latLng:St,key:P,pixel:S,chosenColor:jt,chosenSize:Ut,feature:At};this.addLookup(Ot),Ht&&Ht(Ot)}}else if("GeoJson.FeatureCollection"===this.dataFormat){const ft=Dt.features.length;for(let Mt=0;Mt<ft;Mt++){const Ot=Dt.features[Mt];At=Ot.geometry.coordinates,P=At[Le].toFixed(2)+"x"+At[re].toFixed(2),St=new G.LatLng(At[Le],At[re]),S=pe.project(St,0),jt=z?z(Mt,Ot):Me,jt={...jt,a:null!==(Ft=null!==(Zt=jt.a)&&void 0!==Zt?Zt:le)&&void 0!==Ft?Ft:0},Ut=gt?gt(Mt,St):Ne,Wt.push(S.x,S.y,jt.r,jt.g,jt.b,null!==(Ee=jt.a)&&void 0!==Ee?Ee:0,Ut);const me={latLng:St,key:P,pixel:S,chosenColor:jt,chosenSize:Ut,feature:Ot};this.addLookup(me),Ht&&Ht(me)}}return this}pointSize(vt){const{map:dt,size:_t}=this,Zt="function"==typeof _t?_t(vt,null):_t,Ft=dt.getZoom();return null===Zt?Math.max(Ft-4,1):Zt}drawOnCanvas(vt){if(!this.gl)return this;const{gl:dt,canvas:_t,mapMatrix:Zt,matrix:Ft,map:Ee,allLatLngLookup:Wt}=this,{offset:qt}=vt,pe=Ee.getZoom(),Ne=Math.pow(2,pe);return Zt.setSize(_t.width,_t.height).scaleTo(Ne).translateTo(-qt.x,-qt.y),dt.clear(dt.COLOR_BUFFER_BIT),dt.viewport(0,0,_t.width,_t.height),dt.uniformMatrix4fv(Ft,!1,Zt.array),dt.drawArrays(dt.POINTS,0,Wt.length),this}lookup(vt){const dt=vt.lat+.03,_t=vt.lng+.03,Zt=[];let Ft,Ee,Wt,qt,pe,Ne=vt.lat-.03;for(;Ne<=dt;Ne+=.01)for(Ft=vt.lng-.03;Ft<=_t;Ft+=.01)if(pe=Ne.toFixed(2)+"x"+Ft.toFixed(2),qt=this.latLngLookup[pe],qt)for(Ee=0,Wt=qt.length;Ee<Wt;Ee++)Zt.push(qt[Ee]);const{map:Le}=this;return lt.closest(vt,Zt.length>0?Zt:this.allLatLngLookup,Le)}static closest(vt,dt,_t){return dt.length<1?null:dt.reduce((Zt,Ft)=>et(vt,Zt.latLng,_t)<et(vt,Ft.latLng,_t)?Zt:Ft)}static tryClick(vt,dt,_t){const Zt=[],Ft={};let Ee,Wt,qt=null;if(_t.forEach(Me=>{qt=Me.settings,Me.active&&Me.map===dt&&(Wt=Me.lookup(vt.latlng),null!==Wt&&(Ft[Wt.key]=Me,Zt.push(Wt)))}),Zt.length<1||!qt)return;const pe=this.closest(vt.latlng,Zt,dt);if(!pe)return;const Ne=Ft[pe.key];if(!Ne)return;const{sensitivity:Le}=Ne;return bt(dt.latLngToLayerPoint(pe.latLng),vt.layerPoint,pe.chosenSize*(Le??1))?(Ee=Ne.click(vt,pe.feature||pe.latLng),void 0===Ee||Ee):void 0}static tryHover(vt,dt,_t){const Zt=[];return _t.forEach(Ft=>{if(!Ft.active||Ft.map!==dt)return;const Ee=Ft.lookup(vt.latlng);if(Ee&&bt(dt.latLngToLayerPoint(Ee.latLng),vt.layerPoint,Ee.chosenSize*Ft.sensitivityHover*30)){const Wt=Ft.hover(vt,Ee.feature||Ee.latLng);void 0!==Wt&&Zt.push(Wt)}}),Zt}}lt.defaults=V,lt.maps=[];var mt=Z(1),Ct=Z.n(mt),wt=Z(2),q=Z.n(wt);function Pt(Et){switch(Et&&Et.type||null){case"FeatureCollection":return Et.features=Et.features.reduce(function(vt,dt){return vt.concat(Pt(dt))},[]),Et;case"Feature":return Et.geometry?Pt(Et.geometry).map(function(vt){var dt={type:"Feature",properties:JSON.parse(JSON.stringify(Et.properties)),geometry:vt};return void 0!==Et.id&&(dt.id=Et.id),dt}):[Et];case"MultiPoint":return Et.coordinates.map(function(vt){return{type:"Point",coordinates:vt}});case"MultiPolygon":return Et.coordinates.map(function(vt){return{type:"Polygon",coordinates:vt}});case"MultiLineString":return Et.coordinates.map(function(vt){return{type:"LineString",coordinates:vt}});case"GeometryCollection":return Et.geometries.map(Pt).reduce(function(vt,dt){return vt.concat(dt)},[]);case"Point":case"Polygon":case"LineString":return[Et]}}const Tt={color:$,className:"",opacity:.5,borderOpacity:1,shaderVariables:{vertex:{type:"FLOAT",start:0,size:2},color:{type:"FLOAT",start:2,size:4}},border:!1};let It=(()=>{class Et extends ot{constructor(dt){if(super(dt),this.bytes=6,this.polygonLookup=null,this.settings={...Et.defaults,...dt},!dt.data)throw new Error(Q("settings.data"));if(!dt.map)throw new Error(Q("settings.map"));this.setup().render()}get border(){if("boolean"!=typeof this.settings.border)throw new Error(Q("settings.border"));return this.settings.border}get borderOpacity(){if("number"!=typeof this.settings.borderOpacity)throw new Error(Q("settings.borderOpacity"));return this.settings.borderOpacity}render(){this.resetVertices();const{canvas:dt,gl:_t,layer:Zt,vertices:Ft,mapMatrix:Ee}=this,Wt=this.getBuffer("vertex"),qt=new Float32Array(Ft),pe=qt.BYTES_PER_ELEMENT,Ne=this.getAttributeLocation("vertex");return _t.bindBuffer(_t.ARRAY_BUFFER,Wt),_t.bufferData(_t.ARRAY_BUFFER,qt,_t.STATIC_DRAW),_t.vertexAttribPointer(Ne,2,_t.FLOAT,!1,pe*this.bytes,0),_t.enableVertexAttribArray(Ne),this.matrix=this.getUniformLocation("matrix"),_t.viewport(0,0,dt.width,dt.height),Ee.setSize(dt.width,dt.height),_t.uniformMatrix4fv(this.matrix,!1,Ee.array),this.attachShaderVariables(pe),Zt.redraw(),this}resetVertices(){this.vertices=[],this.vertexLines=[],this.polygonLookup=new q.a;const{vertices:dt,vertexLines:_t,polygonLookup:Zt,map:Ft,border:Ee,opacity:Wt,borderOpacity:qt,color:pe,data:Ne}=this;let Le,re,Me,le,Dt,Ht,jt,Ut,gt,At,St=null,S=0;switch(Ne.type){case"Feature":Zt.loadFeatureCollection({type:"FeatureCollection",features:[Ne]}),Me=Pt(Ne);break;case"MultiPolygon":Zt.loadFeatureCollection({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:Ne.coordinates}}]}),Me=Pt(Ne);break;default:Zt.loadFeatureCollection(Ne),Me=Ne.features}const P=Me.length;if(!pe)throw new Error(Q("settings.color"));for("function"==typeof pe&&(St=pe);S<P;S++){le=Me[S],jt=[],Dt=null!==St?St(S,le):pe;const z="number"==typeof Dt.a?Dt.a:Wt;if(Ht=(le.geometry||le).coordinates,!Array.isArray(Ht[0]))continue;gt=Ct.a.flatten(Ht),Ut=Ct()(gt.vertices,gt.holes,gt.dimensions),At=Ht[0][0].length;const{longitudeKey:ft,latitudeKey:Mt}=this;for(let Ot=0,me=Ut.length;Ot<me;Ot++){if(re=Ut[Ot],"number"!=typeof gt.vertices[0])throw new Error("unhandled polygon");jt.push(gt.vertices[re*At+ft],gt.vertices[re*At+Mt])}for(let Ot=0,me=jt.length;Ot<me;Ot)Le=Ft.project(new G.LatLng(jt[Ot++],jt[Ot++]),0),dt.push(Le.x,Le.y,Dt.r,Dt.g,Dt.b,z);if(Ee){const Ot=[];for(let me=1,ye=gt.vertices.length;me<ye;me+=2)Ot.push(gt.vertices[me],gt.vertices[me-1]),Ot.push(gt.vertices[me+2],gt.vertices[me+1]);for(let me=0,ye=Ot.length;me<ye;me)Le=U(Ot[me++],Ot[me++]),_t.push(Le.x,Le.y,Dt.r,Dt.g,Dt.b,qt)}}return this}drawOnCanvas(dt){if(!this.gl)return this;const{scale:_t,offset:Zt,canvas:Ft}=dt,{mapMatrix:Ee,gl:Wt,vertices:qt,settings:pe,vertexLines:Ne,border:Le}=this;if(Ee.setSize(Ft.width,Ft.height).scaleTo(_t).translateTo(-Zt.x,-Zt.y),Wt.clear(Wt.COLOR_BUFFER_BIT),Wt.viewport(0,0,Ft.width,Ft.height),Wt.uniformMatrix4fv(this.matrix,!1,Ee.array),Le){const re=this.getBuffer("vertexLines"),Me=new Float32Array(Ne),le=Me.BYTES_PER_ELEMENT,Dt=this.getAttributeLocation("vertex");Wt.bindBuffer(Wt.ARRAY_BUFFER,null),Wt.bindBuffer(Wt.ARRAY_BUFFER,re),Wt.bufferData(Wt.ARRAY_BUFFER,Me,Wt.STATIC_DRAW),null!==this.settings.shaderVariables&&this.attachShaderVariables(le),Wt.vertexAttribPointer(Dt,3,Wt.FLOAT,!1,le*this.bytes,0),Wt.enableVertexAttribArray(Dt),Wt.enable(Wt.DEPTH_TEST),Wt.viewport(0,0,Ft.width,Ft.height),Wt.drawArrays(Wt.LINES,0,Ne.length/this.bytes);const Ht=this.getBuffer("vertex"),jt=new Float32Array(qt);Wt.bindBuffer(Wt.ARRAY_BUFFER,null),Wt.bindBuffer(Wt.ARRAY_BUFFER,Ht),Wt.bufferData(Wt.ARRAY_BUFFER,jt,Wt.STATIC_DRAW),null!==pe.shaderVariables&&this.attachShaderVariables(le),Wt.vertexAttribPointer(Dt,2,Wt.FLOAT,!1,le*this.bytes,0),Wt.enableVertexAttribArray(Dt),Wt.enable(Wt.DEPTH_TEST),Wt.viewport(0,0,Ft.width,Ft.height)}return Wt.drawArrays(Wt.TRIANGLES,0,qt.length/this.bytes),this}static tryClick(dt,_t,Zt){let Ft=null,Ee=null;if(Zt.forEach(function(Wt){if(!Wt.active||Wt.map!==_t||!Wt.polygonLookup)return;const qt=Wt.polygonLookup.search(dt.latlng.lng,dt.latlng.lat);qt&&(Ee=Wt,Ft=qt)}),Ee&&Ft){const Wt=Ee.click(dt,Ft);return void 0!==Wt?Wt:void 0}}static tryHover(dt,_t,Zt){const Ft=[];let Ee;return Zt.forEach(Wt=>{if(Wt.active&&Wt.map===_t&&Wt.polygonLookup&&(Ee=Wt.polygonLookup.search(dt.latlng.lng,dt.latlng.lat),Ee)){const qt=Wt.hover(dt,Ee);void 0!==qt&&Ft.push(qt)}}),Ft}}return Et.defaults=Tt,Et})();const ut={vertex:"uniform mat4 matrix;\nattribute vec4 vertex;\nattribute vec4 color;\nattribute float pointSize;\nvarying vec4 _color;\n\nvoid main() {\n  //set the size of the point\n  gl_PointSize = pointSize;\n\n  //multiply each vertex by a matrix.\n  gl_Position = matrix * vertex;\n\n  //pass the color to the fragment shader\n  _color = color;\n}\n",fragment:{dot:"precision mediump float;\nuniform vec4 color;\n\nvoid main() {\n    float border = 0.05;\n    float radius = 0.5;\n    vec2 center = vec2(0.5);\n\n    vec4 color0 = vec4(0.0);\n    vec4 color1 = vec4(color[0], color[1], color[2], color[3]);\n\n    vec2 m = gl_PointCoord.xy - center;\n    float dist = radius - sqrt(m.x * m.x + m.y * m.y);\n\n    float t = 0.0;\n    if (dist > border) {\n        t = 1.0;\n    } else if (dist > 0.0) {\n        t = dist / border;\n    }\n\n    //works for overlapping circles if blending is enabled\n    gl_FragColor = mix(color0, color1, t);\n}\n",point:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  float border = 0.1;\n  float radius = 0.5;\n  vec2 center = vec2(0.5, 0.5);\n\n  vec4 pointColor = vec4(\n    _color[0],\n    _color[1],\n    _color[2],\n    _color[3]\n  );\n\n  vec2 m = gl_PointCoord.xy - center;\n  float dist1 = radius - sqrt(m.x * m.x + m.y * m.y);\n\n  float t1 = 0.0;\n  if (dist1 > border) {\n      t1 = 1.0;\n  } else if (dist1 > 0.0) {\n      t1 = dist1 / border;\n  }\n\n  //works for overlapping circles if blending is enabled\n  //gl_FragColor = mix(color0, color1, t);\n\n  //border\n  float outerBorder = 0.05;\n  float innerBorder = 0.8;\n  vec4 borderColor = vec4(0, 0, 0, 0.4);\n  vec2 uv = gl_PointCoord.xy;\n  vec4 clearColor = vec4(0, 0, 0, 0);\n\n  // Offset uv with the center of the circle.\n  uv -= center;\n\n  float dist2 =  sqrt(dot(uv, uv));\n\n  float t2 = 1.0 + smoothstep(radius, radius + outerBorder, dist2)\n                - smoothstep(radius - innerBorder, radius, dist2);\n\n  gl_FragColor = mix(mix(borderColor, clearColor, t2), pointColor, t1);\n}\n",puck:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  vec2 center = vec2(0.5);\n  vec2 uv = gl_PointCoord.xy - center;\n  float smoothing = 0.005;\n  vec4 _color1 = vec4(_color[0], _color[1], _color[2], _color[3]);\n  float radius1 = 0.3;\n  vec4 _color2 = vec4(_color[0], _color[1], _color[2], _color[3]);\n  float radius2 = 0.5;\n  float dist = length(uv);\n\n  //SMOOTH\n  float gamma = 2.2;\n  color1.rgb = pow(_color1.rgb, vec3(gamma));\n  color2.rgb = pow(_color2.rgb, vec3(gamma));\n\n  vec4 puck = mix(\n    mix(\n      _color1,\n      _color2,\n      smoothstep(\n        radius1 - smoothing,\n        radius1 + smoothing,\n        dist\n      )\n    ),\n    vec4(0,0,0,0),\n      smoothstep(\n        radius2 - smoothing,\n        radius2 + smoothing,\n        dist\n    )\n  );\n\n  //Gamma correction (prevents color fringes)\n  puck.rgb = pow(puck.rgb, vec3(1.0 / gamma));\n  gl_FragColor = puck;\n}\n",simpleCircle:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n    vec4 color1 = vec4(_color[0], _color[1], _color[2], _color[3]);\n\n    //simple circles\n    float d = distance (gl_PointCoord, vec2(0.5, 0.5));\n    if (d < 0.5 ){\n        gl_FragColor = color1;\n    } else {\n        discard;\n    }\n}\n",square:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n    //squares\n    gl_FragColor = vec4(_color[0], _color[1], _color[2], _color[3]);\n}\n",polygon:"precision mediump float;\nvarying vec4 _color;\n\nvoid main() {\n  gl_FragColor = vec4(\n    _color[0],\n    _color[1],\n    _color[2],\n    _color[3]\n  );\n}\n"}};class ae{constructor(){this.longitudeKey=1,this.latitudeKey=0,this.clickSetupMaps=[],this.hoverSetupMaps=[],this.shader=ut,this.Points=lt,this.Shapes=It,this.Lines=it,this.pointsInstances=[],this.shapesInstances=[],this.linesInstances=[]}longitudeFirst(){return this.longitudeKey=0,this.latitudeKey=1,this}latitudeFirst(){return this.latitudeKey=0,this.longitudeKey=1,this}get instances(){return[...this.pointsInstances,...this.linesInstances,...this.shapesInstances]}points(vt){const dt=new this.Points({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:ce.latitudeKey,longitudeKey:ce.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.point,...vt});return this.pointsInstances.push(dt),dt}lines(vt){const dt=new this.Lines({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...vt});return this.linesInstances.push(dt),dt}shapes(vt){const dt=new this.Shapes({setupClick:this.setupClick.bind(this),setupHover:this.setupHover.bind(this),latitudeKey:this.latitudeKey,longitudeKey:this.longitudeKey,vertexShaderSource:()=>this.shader.vertex,fragmentShaderSource:()=>this.shader.fragment.polygon,...vt});return this.shapesInstances.push(dt),dt}setupClick(vt){this.clickSetupMaps.includes(vt)||(this.clickSetupMaps.push(vt),vt.on("click",dt=>{let _t;return _t=this.Points.tryClick(dt,vt,this.pointsInstances),void 0!==_t?_t:(_t=this.Lines.tryClick(dt,vt,this.linesInstances),void 0!==_t?_t:(_t=this.Shapes.tryClick(dt,vt,this.shapesInstances),void 0!==_t?_t:void 0))}))}setupHover(vt,dt,_t){this.hoverSetupMaps.includes(vt)||(this.hoverSetupMaps.push(vt),vt.on("mousemove",function(Zt,Ft,Ee){let Wt=null;return function(qt){const pe=Ee&&!Wt;null!==Wt&&clearTimeout(Wt),Wt=setTimeout(function(){Wt=null,Ee||Zt(qt)},Ft),pe&&Zt(qt)}}(Zt=>{this.Points.tryHover(Zt,vt,this.pointsInstances),this.Lines.tryHover(Zt,vt,this.linesInstances),this.Shapes.tryHover(Zt,vt,this.shapesInstances)},dt??0,_t)))}}const ce=new ae;F.default=ce,typeof window<"u"&&window.L&&(window.L.glify=ce,window.L.Glify=ae)}]))},9529:function(Xe,se){!function(Y){"use strict";var tt=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(F){L.Util.setOptions(this,F),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var Z=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,Z?this._withAnimation:this._noAnimation),this._markerCluster=Z?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(F){if(F instanceof L.LayerGroup)return this.addLayers([F]);if(!F.getLatLng)return this._nonPointGroup.addLayer(F),this.fire("layeradd",{layer:F}),this;if(!this._map)return this._needsClustering.push(F),this.fire("layeradd",{layer:F}),this;if(this.hasLayer(F))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(F,this._maxZoom),this.fire("layeradd",{layer:F}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var Z=F,G=this._zoom;if(F.__parent)for(;Z.__parent._zoom>=G;)Z=Z.__parent;return this._currentShownBounds.contains(Z.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(F,Z):this._animationAddLayerNonAnimated(F,Z)),this},removeLayer:function(F){return F instanceof L.LayerGroup?this.removeLayers([F]):F.getLatLng?this._map?F.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(F)),this._removeLayer(F,!0),this.fire("layerremove",{layer:F}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),F.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(F)&&(this._featureGroup.removeLayer(F),F.clusterShow&&F.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,F)&&this.hasLayer(F)&&this._needsRemoving.push({layer:F,latlng:F._latlng}),this.fire("layerremove",{layer:F}),this):(this._nonPointGroup.removeLayer(F),this.fire("layerremove",{layer:F}),this)},addLayers:function(F,Z){if(!L.Util.isArray(F))return this.addLayer(F);var U,G=this._featureGroup,O=this._nonPointGroup,Q=this.options.chunkedLoading,at=this.options.chunkInterval,ct=this.options.chunkProgress,ot=F.length,$=0,N=!0;if(this._map){var bt=(new Date).getTime(),X=L.bind(function(){var W=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();$<ot&&!(Q&&$%200==0&&(new Date).getTime()-W>at);$++)if((U=F[$])instanceof L.LayerGroup)N&&(F=F.slice(),N=!1),this._extractNonGroupLayers(U,F),ot=F.length;else if(U.getLatLng){if(!this.hasLayer(U)&&(this._addLayer(U,this._maxZoom),Z||this.fire("layeradd",{layer:U}),U.__parent&&2===U.__parent.getChildCount())){var V=U.__parent.getAllChildMarkers();G.removeLayer(V[0]===U?V[1]:V[0])}}else O.addLayer(U),Z||this.fire("layeradd",{layer:U});ct&&ct($,ot,(new Date).getTime()-bt),$===ot?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(X,this.options.chunkDelay)},this);X()}else for(var et=this._needsClustering;$<ot;$++)(U=F[$])instanceof L.LayerGroup?(N&&(F=F.slice(),N=!1),this._extractNonGroupLayers(U,F),ot=F.length):U.getLatLng?this.hasLayer(U)||et.push(U):O.addLayer(U);return this},removeLayers:function(F){var Z,G,O=F.length,Q=this._featureGroup,at=this._nonPointGroup,ct=!0;if(!this._map){for(Z=0;Z<O;Z++)(G=F[Z])instanceof L.LayerGroup?(ct&&(F=F.slice(),ct=!1),this._extractNonGroupLayers(G,F),O=F.length):(this._arraySplice(this._needsClustering,G),at.removeLayer(G),this.hasLayer(G)&&this._needsRemoving.push({layer:G,latlng:G._latlng}),this.fire("layerremove",{layer:G}));return this}if(this._unspiderfy){this._unspiderfy();var ot=F.slice(),$=O;for(Z=0;Z<$;Z++)(G=ot[Z])instanceof L.LayerGroup?(this._extractNonGroupLayers(G,ot),$=ot.length):this._unspiderfyLayer(G)}for(Z=0;Z<O;Z++)(G=F[Z])instanceof L.LayerGroup?(ct&&(F=F.slice(),ct=!1),this._extractNonGroupLayers(G,F),O=F.length):G.__parent?(this._removeLayer(G,!0,!0),this.fire("layerremove",{layer:G}),Q.hasLayer(G)&&(Q.removeLayer(G),G.clusterShow&&G.clusterShow())):(at.removeLayer(G),this.fire("layerremove",{layer:G}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(F){F.off(this._childMarkerEventHandlers,this),delete F.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var F=new L.LatLngBounds;this._topClusterLevel&&F.extend(this._topClusterLevel._bounds);for(var Z=this._needsClustering.length-1;Z>=0;Z--)F.extend(this._needsClustering[Z].getLatLng());return F.extend(this._nonPointGroup.getBounds()),F},eachLayer:function(F,Z){var Q,at,ct,G=this._needsClustering.slice(),O=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(G),at=G.length-1;at>=0;at--){for(Q=!0,ct=O.length-1;ct>=0;ct--)if(O[ct].layer===G[at]){Q=!1;break}Q&&F.call(Z,G[at])}this._nonPointGroup.eachLayer(F,Z)},getLayers:function(){var F=[];return this.eachLayer(function(Z){F.push(Z)}),F},getLayer:function(F){var Z=null;return F=parseInt(F,10),this.eachLayer(function(G){L.stamp(G)===F&&(Z=G)}),Z},hasLayer:function(F){if(!F)return!1;var Z,G=this._needsClustering;for(Z=G.length-1;Z>=0;Z--)if(G[Z]===F)return!0;for(Z=(G=this._needsRemoving).length-1;Z>=0;Z--)if(G[Z].layer===F)return!1;return!(!F.__parent||F.__parent._group!==this)||this._nonPointGroup.hasLayer(F)},zoomToShowLayer:function(F,Z){var G=this._map;"function"!=typeof Z&&(Z=function(){});var O=function(){(G.hasLayer(F)||G.hasLayer(F.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",O,this),this.off("animationend",O,this),G.hasLayer(F)?Z():F.__parent._icon&&(this.once("spiderfied",Z,this),F.__parent.spiderfy()))};F._icon&&this._map.getBounds().contains(F.getLatLng())?Z():F.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",O,this),this._map.panTo(F.getLatLng())):(this._map.on("moveend",O,this),this.on("animationend",O,this),F.__parent.zoomToBounds())},onAdd:function(F){var Z,G,O;if(this._map=F,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(F),this._nonPointGroup.addTo(F),this._gridClusters||this._generateInitialClusters(),this._maxLat=F.options.crs.projection.MAX_LATITUDE,Z=0,G=this._needsRemoving.length;Z<G;Z++)(O=this._needsRemoving[Z]).newlatlng=O.layer._latlng,O.layer._latlng=O.latlng;for(Z=0,G=this._needsRemoving.length;Z<G;Z++)this._removeLayer((O=this._needsRemoving[Z]).layer,!0),O.layer._latlng=O.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),G=this._needsClustering,this._needsClustering=[],this.addLayers(G,!0)},onRemove:function(F){F.off("zoomend",this._zoomEnd,this),F.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(F){for(var Z=F;Z&&!Z._icon;)Z=Z.__parent;return Z||null},_arraySplice:function(F,Z){for(var G=F.length-1;G>=0;G--)if(F[G]===Z)return F.splice(G,1),!0},_removeFromGridUnclustered:function(F,Z){for(var G=this._map,O=this._gridUnclustered,Q=Math.floor(this._map.getMinZoom());Z>=Q&&O[Z].removeObject(F,G.project(F.getLatLng(),Z));Z--);},_childMarkerDragStart:function(F){F.target.__dragStart=F.target._latlng},_childMarkerMoved:function(F){if(!this._ignoreMove&&!F.target.__dragStart){var Z=F.target._popup&&F.target._popup.isOpen();this._moveChild(F.target,F.oldLatLng,F.latlng),Z&&F.target.openPopup()}},_moveChild:function(F,Z,G){F._latlng=Z,this.removeLayer(F),F._latlng=G,this.addLayer(F)},_childMarkerDragEnd:function(F){var Z=F.target.__dragStart;delete F.target.__dragStart,Z&&this._moveChild(F.target,Z,F.target._latlng)},_removeLayer:function(F,Z,G){var O=this._gridClusters,Q=this._gridUnclustered,at=this._featureGroup,ct=this._map,ot=Math.floor(this._map.getMinZoom());Z&&this._removeFromGridUnclustered(F,this._maxZoom);var U,$=F.__parent;for(this._arraySplice($._markers,F);$&&($._childCount--,$._boundsNeedUpdate=!0,!($._zoom<ot));)Z&&$._childCount<=1?(U=$._markers[0]===F?$._markers[1]:$._markers[0],O[$._zoom].removeObject($,ct.project($._cLatLng,$._zoom)),Q[$._zoom].addObject(U,ct.project(U.getLatLng(),$._zoom)),this._arraySplice($.__parent._childClusters,$),$.__parent._markers.push(U),U.__parent=$.__parent,$._icon&&(at.removeLayer($),G||at.addLayer(U))):$._iconNeedsUpdate=!0,$=$.__parent;delete F.__parent},_isOrIsParent:function(F,Z){for(;Z;){if(F===Z)return!0;Z=Z.parentNode}return!1},fire:function(F,Z,G){if(Z&&Z.layer instanceof L.MarkerCluster){if(Z.originalEvent&&this._isOrIsParent(Z.layer._icon,Z.originalEvent.relatedTarget))return;F="cluster"+F}L.FeatureGroup.prototype.fire.call(this,F,Z,G)},listens:function(F,Z){return L.FeatureGroup.prototype.listens.call(this,F,Z)||L.FeatureGroup.prototype.listens.call(this,"cluster"+F,Z)},_defaultIconCreateFunction:function(F){var Z=F.getChildCount(),G=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+Z+"</span></div>",className:"marker-cluster"+(G+=Z<10?"small":Z<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var F=this._map,G=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),G&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),F.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(F){var Z=F.layer,G=Z;if("clusterkeypress"!==F.type||!F.originalEvent||13===F.originalEvent.keyCode){for(;1===G._childClusters.length;)G=G._childClusters[0];G._zoom===this._maxZoom&&G._childCount===Z._childCount&&this.options.spiderfyOnMaxZoom?Z.spiderfy():this.options.zoomToBoundsOnClick&&Z.zoomToBounds(),this.options.spiderfyOnEveryZoom&&Z.spiderfy(),F.originalEvent&&13===F.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(F){var Z=this._map;this._inZoomAnimation||(this._shownPolygon&&Z.removeLayer(this._shownPolygon),F.layer.getChildCount()>2&&F.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(F.layer.getConvexHull(),this.options.polygonOptions),Z.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var Z=this.options.showCoverageOnHover,Q=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),Z&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),Q.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var F=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),F),this._currentShownBounds=F}},_generateInitialClusters:function(){var F=Math.ceil(this._map.getMaxZoom()),Z=Math.floor(this._map.getMinZoom()),G=this.options.maxClusterRadius,O=G;"function"!=typeof G&&(O=function(){return G}),null!==this.options.disableClusteringAtZoom&&(F=this.options.disableClusteringAtZoom-1),this._maxZoom=F,this._gridClusters={},this._gridUnclustered={};for(var Q=F;Q>=Z;Q--)this._gridClusters[Q]=new L.DistanceGrid(O(Q)),this._gridUnclustered[Q]=new L.DistanceGrid(O(Q));this._topClusterLevel=new this._markerCluster(this,Z-1)},_addLayer:function(F,Z){var at,ct,G=this._gridClusters,O=this._gridUnclustered,Q=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(F),F.on(this._childMarkerEventHandlers,this);Z>=Q;Z--){at=this._map.project(F.getLatLng(),Z);var ot=G[Z].getNearObject(at);if(ot)return ot._addChild(F),void(F.__parent=ot);if(ot=O[Z].getNearObject(at)){var $=ot.__parent;$&&this._removeLayer(ot,!1);var N=new this._markerCluster(this,Z,ot,F);G[Z].addObject(N,this._map.project(N._cLatLng,Z)),ot.__parent=N,F.__parent=N;var U=N;for(ct=Z-1;ct>$._zoom;ct--)U=new this._markerCluster(this,ct,U),G[ct].addObject(U,this._map.project(ot.getLatLng(),ct));return $._addChild(U),void this._removeFromGridUnclustered(ot,Z)}O[Z].addObject(F,at)}this._topClusterLevel._addChild(F),F.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(F){F instanceof L.MarkerCluster&&F._iconNeedsUpdate&&F._updateIcon()})},_enqueue:function(F){this._queue.push(F),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var F=0;F<this._queue.length;F++)this._queue[F].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var F=Math.round(this._map._zoom);this._processQueue(),this._zoom<F&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,F)):this._zoom>F?(this._animationStart(),this._animationZoomOut(this._zoom,F)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(F){var Z=this._maxLat;return void 0!==Z&&(F.getNorth()>=Z&&(F._northEast.lat=1/0),F.getSouth()<=-Z&&(F._southWest.lat=-1/0)),F},_animationAddLayerNonAnimated:function(F,Z){if(Z===F)this._featureGroup.addLayer(F);else if(2===Z._childCount){Z._addToMap();var G=Z.getAllChildMarkers();this._featureGroup.removeLayer(G[0]),this._featureGroup.removeLayer(G[1])}else Z._updateIcon()},_extractNonGroupLayers:function(F,Z){var Q,G=F.getLayers(),O=0;for(Z=Z||[];O<G.length;O++)(Q=G[O])instanceof L.LayerGroup?this._extractNonGroupLayers(Q,Z):Z.push(Q);return Z},_overrideMarkerIcon:function(F){return F.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[F]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(F,Z){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Z,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(F,Z){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F),this._topClusterLevel._recursivelyAddChildrenToMap(null,Z,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(F,Z){this._animationAddLayerNonAnimated(F,Z)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(F,Z){var at,G=this._getExpandedVisibleBounds(),O=this._featureGroup,Q=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(G,F,Q,function(ct){var N,ot=ct._latlng,$=ct._markers;for(G.contains(ot)||(ot=null),ct._isSingleParent()&&F+1===Z?(O.removeLayer(ct),ct._recursivelyAddChildrenToMap(null,Z,G)):(ct.clusterHide(),ct._recursivelyAddChildrenToMap(ot,Z,G)),at=$.length-1;at>=0;at--)G.contains((N=$[at])._latlng)||O.removeLayer(N)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(G,Z),O.eachLayer(function(ct){!(ct instanceof L.MarkerCluster)&&ct._icon&&ct.clusterShow()}),this._topClusterLevel._recursively(G,F,Z,function(ct){ct._recursivelyRestoreChildPositions(Z)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(G,F,Q,function(ct){O.removeLayer(ct),ct.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(F,Z){this._animationZoomOutSingle(this._topClusterLevel,F-1,Z),this._topClusterLevel._recursivelyAddChildrenToMap(null,Z,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),F,this._getExpandedVisibleBounds())},_animationAddLayer:function(F,Z){var G=this,O=this._featureGroup;O.addLayer(F),Z!==F&&(Z._childCount>2?(Z._updateIcon(),this._forceLayout(),this._animationStart(),F._setPos(this._map.latLngToLayerPoint(Z.getLatLng())),F.clusterHide(),this._enqueue(function(){O.removeLayer(F),F.clusterShow(),G._animationEnd()})):(this._forceLayout(),G._animationStart(),G._animationZoomOutSingle(Z,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(F,Z,G){var O=this._getExpandedVisibleBounds(),Q=Math.floor(this._map.getMinZoom());F._recursivelyAnimateChildrenInAndAddSelfToMap(O,Q,Z+1,G);var at=this;this._forceLayout(),F._recursivelyBecomeVisible(O,G),this._enqueue(function(){if(1===F._childCount){var ct=F._markers[0];this._ignoreMove=!0,ct.setLatLng(ct.getLatLng()),this._ignoreMove=!1,ct.clusterShow&&ct.clusterShow()}else F._recursively(O,G,Q,function(ot){ot._recursivelyRemoveChildrenFromMap(O,Q,Z+1)});at._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(F){return new L.MarkerClusterGroup(F)};var J=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(F,Z,G,O){L.Marker.prototype.initialize.call(this,G?G._cLatLng||G.getLatLng():new L.LatLng(0,0),{icon:this,pane:F.options.clusterPane}),this._group=F,this._zoom=Z,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,G&&this._addChild(G),O&&this._addChild(O)},getAllChildMarkers:function(F,Z){F=F||[];for(var G=this._childClusters.length-1;G>=0;G--)this._childClusters[G].getAllChildMarkers(F,Z);for(var O=this._markers.length-1;O>=0;O--)Z&&this._markers[O].__dragStart||F.push(this._markers[O]);return F},getChildCount:function(){return this._childCount},zoomToBounds:function(F){for(var ct,Z=this._childClusters.slice(),G=this._group._map,O=G.getBoundsZoom(this._bounds),Q=this._zoom+1,at=G.getZoom();Z.length>0&&O>Q;){Q++;var ot=[];for(ct=0;ct<Z.length;ct++)ot=ot.concat(Z[ct]._childClusters);Z=ot}O>Q?this._group._map.setView(this._latlng,Q):O<=at?this._group._map.setView(this._latlng,at+1):this._group._map.fitBounds(this._bounds,F)},getBounds:function(){var F=new L.LatLngBounds;return F.extend(this._bounds),F},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(F,Z){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(F),F instanceof L.MarkerCluster?(Z||(this._childClusters.push(F),F.__parent=this),this._childCount+=F._childCount):(Z||this._markers.push(F),this._childCount++),this.__parent&&this.__parent._addChild(F,!0)},_setClusterCenter:function(F){this._cLatLng||(this._cLatLng=F._cLatLng||F._latlng)},_resetBounds:function(){var F=this._bounds;F._southWest&&(F._southWest.lat=1/0,F._southWest.lng=1/0),F._northEast&&(F._northEast.lat=-1/0,F._northEast.lng=-1/0)},_recalculateBounds:function(){var at,ct,ot,$,F=this._markers,Z=this._childClusters,G=0,O=0,Q=this._childCount;if(0!==Q){for(this._resetBounds(),at=0;at<F.length;at++)this._bounds.extend(ot=F[at]._latlng),G+=ot.lat,O+=ot.lng;for(at=0;at<Z.length;at++)(ct=Z[at])._boundsNeedUpdate&&ct._recalculateBounds(),this._bounds.extend(ct._bounds),G+=(ot=ct._wLatLng).lat*($=ct._childCount),O+=ot.lng*$;this._latlng=this._wLatLng=new L.LatLng(G/Q,O/Q),this._boundsNeedUpdate=!1}},_addToMap:function(F){F&&(this._backupLatlng=this._latlng,this.setLatLng(F)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(F,Z,G){this._recursively(F,this._group._map.getMinZoom(),G-1,function(O){var at,ct,Q=O._markers;for(at=Q.length-1;at>=0;at--)(ct=Q[at])._icon&&(ct._setPos(Z),ct.clusterHide())},function(O){var at,ct,Q=O._childClusters;for(at=Q.length-1;at>=0;at--)(ct=Q[at])._icon&&(ct._setPos(Z),ct.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(F,Z,G,O){this._recursively(F,O,Z,function(Q){Q._recursivelyAnimateChildrenIn(F,Q._group._map.latLngToLayerPoint(Q.getLatLng()).round(),G),Q._isSingleParent()&&G-1===O?(Q.clusterShow(),Q._recursivelyRemoveChildrenFromMap(F,Z,G)):Q.clusterHide(),Q._addToMap()})},_recursivelyBecomeVisible:function(F,Z){this._recursively(F,this._group._map.getMinZoom(),Z,null,function(G){G.clusterShow()})},_recursivelyAddChildrenToMap:function(F,Z,G){this._recursively(G,this._group._map.getMinZoom()-1,Z,function(O){if(Z!==O._zoom)for(var Q=O._markers.length-1;Q>=0;Q--){var at=O._markers[Q];G.contains(at._latlng)&&(F&&(at._backupLatlng=at.getLatLng(),at.setLatLng(F),at.clusterHide&&at.clusterHide()),O._group._featureGroup.addLayer(at))}},function(O){O._addToMap(F)})},_recursivelyRestoreChildPositions:function(F){for(var Z=this._markers.length-1;Z>=0;Z--){var G=this._markers[Z];G._backupLatlng&&(G.setLatLng(G._backupLatlng),delete G._backupLatlng)}if(F-1===this._zoom)for(var O=this._childClusters.length-1;O>=0;O--)this._childClusters[O]._restorePosition();else for(var Q=this._childClusters.length-1;Q>=0;Q--)this._childClusters[Q]._recursivelyRestoreChildPositions(F)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(F,Z,G,O){var Q,at;this._recursively(F,Z-1,G-1,function(ct){for(at=ct._markers.length-1;at>=0;at--)Q=ct._markers[at],(!O||!O.contains(Q._latlng))&&(ct._group._featureGroup.removeLayer(Q),Q.clusterShow&&Q.clusterShow())},function(ct){for(at=ct._childClusters.length-1;at>=0;at--)Q=ct._childClusters[at],(!O||!O.contains(Q._latlng))&&(ct._group._featureGroup.removeLayer(Q),Q.clusterShow&&Q.clusterShow())})},_recursively:function(F,Z,G,O,Q){var ot,$,at=this._childClusters,ct=this._zoom;if(Z<=ct&&(O&&O(this),Q&&ct===G&&Q(this)),ct<Z||ct<G)for(ot=at.length-1;ot>=0;ot--)($=at[ot])._boundsNeedUpdate&&$._recalculateBounds(),F.intersects($._bounds)&&$._recursively(F,Z,G,O,Q)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var F=this.options.opacity;return this.setOpacity(0),this.options.opacity=F,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(F){this._cellSize=F,this._sqCellSize=F*F,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(F,Z){var G=this._getCoord(Z.x),O=this._getCoord(Z.y),Q=this._grid,at=Q[O]=Q[O]||{},ct=at[G]=at[G]||[],ot=L.Util.stamp(F);this._objectPoint[ot]=Z,ct.push(F)},updateObject:function(F,Z){this.removeObject(F),this.addObject(F,Z)},removeObject:function(F,Z){var ot,$,G=this._getCoord(Z.x),O=this._getCoord(Z.y),Q=this._grid,at=Q[O]=Q[O]||{},ct=at[G]=at[G]||[];for(delete this._objectPoint[L.Util.stamp(F)],ot=0,$=ct.length;ot<$;ot++)if(ct[ot]===F)return ct.splice(ot,1),1===$&&delete at[G],!0},eachObject:function(F,Z){var G,O,Q,at,ct,ot,N=this._grid;for(G in N)for(O in ct=N[G])for(Q=0,at=(ot=ct[O]).length;Q<at;Q++)F.call(Z,ot[Q])&&(Q--,at--)},getNearObject:function(F){var O,Q,at,ct,ot,$,N,U,Z=this._getCoord(F.x),G=this._getCoord(F.y),bt=this._objectPoint,X=this._sqCellSize,et=null;for(O=G-1;O<=G+1;O++)if(ct=this._grid[O])for(Q=Z-1;Q<=Z+1;Q++)if(ot=ct[Q])for(at=0,$=ot.length;at<$;at++)N=ot[at],((U=this._sqDist(bt[L.Util.stamp(N)],F))<X||U<=X&&null===et)&&(X=U,et=N);return et},_getCoord:function(F){var Z=Math.floor(F/this._cellSize);return isFinite(Z)?Z:F},_sqDist:function(F,Z){var G=Z.x-F.x,O=Z.y-F.y;return G*G+O*O}},L.QuickHull={getDistant:function(F,Z){return(Z[0].lng-Z[1].lng)*(F.lat-Z[0].lat)+(Z[1].lat-Z[0].lat)*(F.lng-Z[0].lng)},findMostDistantPointFromBaseLine:function(F,Z){var at,ct,ot,G=0,O=null,Q=[];for(at=Z.length-1;at>=0;at--)(ot=this.getDistant(ct=Z[at],F))>0&&(Q.push(ct),ot>G&&(G=ot,O=ct));return{maxPoint:O,newPoints:Q}},buildConvexHull:function(F,Z){var G=[],O=this.findMostDistantPointFromBaseLine(F,Z);return O.maxPoint?G=(G=G.concat(this.buildConvexHull([F[0],O.maxPoint],O.newPoints))).concat(this.buildConvexHull([O.maxPoint,F[1]],O.newPoints)):[F[0]]},getConvexHull:function(F){var bt,Z=!1,G=!1,O=!1,Q=!1,at=null,ct=null,ot=null,$=null,N=null,U=null;for(bt=F.length-1;bt>=0;bt--){var X=F[bt];(!1===Z||X.lat>Z)&&(at=X,Z=X.lat),(!1===G||X.lat<G)&&(ct=X,G=X.lat),(!1===O||X.lng>O)&&(ot=X,O=X.lng),(!1===Q||X.lng<Q)&&($=X,Q=X.lng)}return G!==Z?(U=ct,N=at):(U=$,N=ot),[].concat(this.buildConvexHull([U,N],F),this.buildConvexHull([N,U],F))}},L.MarkerCluster.include({getConvexHull:function(){var G,O,F=this.getAllChildMarkers(),Z=[];for(O=F.length-1;O>=0;O--)G=F[O].getLatLng(),Z.push(G);return L.QuickHull.getConvexHull(Z)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var Q,F=this.getAllChildMarkers(null,!0),O=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?Q=this._group.options.spiderfyShapePositions(F.length,O):F.length>=this._circleSpiralSwitchover?Q=this._generatePointsSpiral(F.length,O):(O.y+=10,Q=this._generatePointsCircle(F.length,O)),this._animationSpiderfy(F,Q)}},unspiderfy:function(F){this._group._inZoomAnimation||(this._animationUnspiderfy(F),this._group._spiderfied=null)},_generatePointsCircle:function(F,Z){var ct,ot,O=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+F)/this._2PI,Q=this._2PI/F,at=[];for(O=Math.max(O,35),at.length=F,ct=0;ct<F;ct++)ot=this._circleStartAngle+ct*Q,at[ct]=new L.Point(Z.x+O*Math.cos(ot),Z.y+O*Math.sin(ot))._round();return at},_generatePointsSpiral:function(F,Z){var $,G=this._group.options.spiderfyDistanceMultiplier,O=G*this._spiralLengthStart,Q=G*this._spiralFootSeparation,at=G*this._spiralLengthFactor*this._2PI,ct=0,ot=[];for(ot.length=F,$=F;$>=0;$--)$<F&&(ot[$]=new L.Point(Z.x+O*Math.cos(ct),Z.y+O*Math.sin(ct))._round()),O+=at/(ct+=Q/O+5e-4*$);return ot},_noanimationUnspiderfy:function(){var Q,at,F=this._group,Z=F._map,G=F._featureGroup,O=this.getAllChildMarkers(null,!0);for(F._ignoreMove=!0,this.setOpacity(1),at=O.length-1;at>=0;at--)G.removeLayer(Q=O[at]),Q._preSpiderfyLatlng&&(Q.setLatLng(Q._preSpiderfyLatlng),delete Q._preSpiderfyLatlng),Q.setZIndexOffset&&Q.setZIndexOffset(0),Q._spiderLeg&&(Z.removeLayer(Q._spiderLeg),delete Q._spiderLeg);F.fire("unspiderfied",{cluster:this,markers:O}),F._ignoreMove=!1,F._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(F,Z){var ct,ot,$,N,G=this._group,O=G._map,Q=G._featureGroup,at=this._group.options.spiderLegPolylineOptions;for(G._ignoreMove=!0,ct=0;ct<F.length;ct++)N=O.layerPointToLatLng(Z[ct]),ot=F[ct],$=new L.Polyline([this._latlng,N],at),O.addLayer($),ot._spiderLeg=$,ot._preSpiderfyLatlng=ot._latlng,ot.setLatLng(N),ot.setZIndexOffset&&ot.setZIndexOffset(1e6),Q.addLayer(ot);this.setOpacity(.3),G._ignoreMove=!1,G.fire("spiderfied",{cluster:this,markers:F})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(F,Z){var bt,X,et,W,it,V,G=this,O=this._group,Q=O._map,at=O._featureGroup,ct=this._latlng,ot=Q.latLngToLayerPoint(ct),$=L.Path.SVG,N=L.extend({},this._group.options.spiderLegPolylineOptions),U=N.opacity;for(void 0===U&&(U=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(N.opacity=0,N.className=(N.className||"")+" leaflet-cluster-spider-leg"):N.opacity=U,O._ignoreMove=!0,bt=0;bt<F.length;bt++)X=F[bt],V=Q.layerPointToLatLng(Z[bt]),et=new L.Polyline([ct,V],N),Q.addLayer(et),X._spiderLeg=et,$&&(it=(W=et._path).getTotalLength()+.1,W.style.strokeDasharray=it,W.style.strokeDashoffset=it),X.setZIndexOffset&&X.setZIndexOffset(1e6),X.clusterHide&&X.clusterHide(),at.addLayer(X),X._setPos&&X._setPos(ot);for(O._forceLayout(),O._animationStart(),bt=F.length-1;bt>=0;bt--)V=Q.layerPointToLatLng(Z[bt]),(X=F[bt])._preSpiderfyLatlng=X._latlng,X.setLatLng(V),X.clusterShow&&X.clusterShow(),$&&((W=(et=X._spiderLeg)._path).style.strokeDashoffset=0,et.setStyle({opacity:U}));this.setOpacity(.3),O._ignoreMove=!1,setTimeout(function(){O._animationEnd(),O.fire("spiderfied",{cluster:G,markers:F})},200)},_animationUnspiderfy:function(F){var $,N,U,bt,X,et,Z=this,G=this._group,O=G._map,Q=G._featureGroup,at=F?O._latLngToNewLayerPoint(this._latlng,F.zoom,F.center):O.latLngToLayerPoint(this._latlng),ct=this.getAllChildMarkers(null,!0),ot=L.Path.SVG;for(G._ignoreMove=!0,G._animationStart(),this.setOpacity(1),N=ct.length-1;N>=0;N--)($=ct[N])._preSpiderfyLatlng&&($.closePopup(),$.setLatLng($._preSpiderfyLatlng),delete $._preSpiderfyLatlng,et=!0,$._setPos&&($._setPos(at),et=!1),$.clusterHide&&($.clusterHide(),et=!1),et&&Q.removeLayer($),ot&&(X=(bt=(U=$._spiderLeg)._path).getTotalLength()+.1,bt.style.strokeDashoffset=X,U.setStyle({opacity:0})));G._ignoreMove=!1,setTimeout(function(){var W=0;for(N=ct.length-1;N>=0;N--)($=ct[N])._spiderLeg&&W++;for(N=ct.length-1;N>=0;N--)($=ct[N])._spiderLeg&&($.clusterShow&&$.clusterShow(),$.setZIndexOffset&&$.setZIndexOffset(0),W>1&&Q.removeLayer($),O.removeLayer($._spiderLeg),delete $._spiderLeg);G._animationEnd(),G.fire("unspiderfied",{cluster:Z,markers:ct})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(F){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(F))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(F){this._spiderfied&&this._spiderfied.unspiderfy(F)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(F){F._spiderLeg&&(this._featureGroup.removeLayer(F),F.clusterShow&&F.clusterShow(),F.setZIndexOffset&&F.setZIndexOffset(0),this._map.removeLayer(F._spiderLeg),delete F._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(F){return F?F instanceof L.MarkerClusterGroup?F=F._topClusterLevel.getAllChildMarkers():F instanceof L.LayerGroup?F=F._layers:F instanceof L.MarkerCluster?F=F.getAllChildMarkers():F instanceof L.Marker&&(F=[F]):F=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(F),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(F),this},_flagParentsIconsNeedUpdate:function(F){var Z,G;for(Z in F)for(G=F[Z].__parent;G;)G._iconNeedsUpdate=!0,G=G.__parent},_refreshSingleMarkerModeMarkers:function(F){var Z,G;for(Z in F)this.hasLayer(G=F[Z])&&G.setIcon(this._overrideMarkerIcon(G))}}),L.Marker.include({refreshIconOptions:function(F,Z){var G=this.options.icon;return L.setOptions(G,F),this.setIcon(G),Z&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),Y.MarkerClusterGroup=tt,Y.MarkerCluster=J,Object.defineProperty(Y,"__esModule",{value:!0})}(se)},8407:function(Xe,se){!function(Y){"use strict";function J(v){var T,B,pt,Vt;for(B=1,pt=arguments.length;B<pt;B++)for(T in Vt=arguments[B])v[T]=Vt[T];return v}var F=Object.create||function(){function v(){}return function(T){return v.prototype=T,new v}}();function Z(v,T){var B=Array.prototype.slice;if(v.bind)return v.bind.apply(v,B.call(arguments,1));var pt=B.call(arguments,2);return function(){return v.apply(T,pt.length?pt.concat(B.call(arguments)):arguments)}}var G=0;function O(v){return v._leaflet_id=v._leaflet_id||++G,v._leaflet_id}function Q(v,T,B){var pt,Vt,ve,Ye;return Ye=function(){pt=!1,Vt&&(ve.apply(B,Vt),Vt=!1)},ve=function(){pt?Vt=arguments:(v.apply(B,arguments),setTimeout(Ye,T),pt=!0)},ve}function at(v,T,B){var pt=T[1],Vt=T[0],ve=pt-Vt;return v===pt&&B?v:((v-Vt)%ve+ve)%ve+Vt}function ct(){return!1}function ot(v,T){var B=Math.pow(10,void 0===T?6:T);return Math.round(v*B)/B}function $(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function N(v){return $(v).split(/\s+/)}function U(v,T){for(var B in Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?F(v.options):{}),T)v.options[B]=T[B];return v.options}function bt(v,T,B){var pt=[];for(var Vt in v)pt.push(encodeURIComponent(B?Vt.toUpperCase():Vt)+"="+encodeURIComponent(v[Vt]));return(T&&-1!==T.indexOf("?")?"&":"?")+pt.join("&")}var X=/\{ *([\w_-]+) *\}/g;function et(v,T){return v.replace(X,function(B,pt){var Vt=T[pt];if(void 0===Vt)throw new Error("No value provided for variable "+B);return"function"==typeof Vt&&(Vt=Vt(T)),Vt})}var W=Array.isArray||function(v){return"[object Array]"===Object.prototype.toString.call(v)};function it(v,T){for(var B=0;B<v.length;B++)if(v[B]===T)return B;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function lt(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var mt=0;function Ct(v){var T=+new Date,B=Math.max(0,16-(T-mt));return mt=T+B,window.setTimeout(v,B)}var wt=window.requestAnimationFrame||lt("RequestAnimationFrame")||Ct,q=window.cancelAnimationFrame||lt("CancelAnimationFrame")||lt("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function Pt(v,T,B){if(!B||wt!==Ct)return wt.call(window,Z(v,T));v.call(T)}function Tt(v){v&&q.call(window,v)}var It={extend:J,create:F,bind:Z,lastId:G,stamp:O,throttle:Q,wrapNum:at,falseFn:ct,formatNum:ot,trim:$,splitWords:N,setOptions:U,getParamString:bt,template:et,isArray:W,indexOf:it,emptyImageUrl:V,requestFn:wt,cancelFn:q,requestAnimFrame:Pt,cancelAnimFrame:Tt};function ut(){}ut.extend=function(v){var T=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},B=T.__super__=this.prototype,pt=F(B);for(var Vt in pt.constructor=T,T.prototype=pt,this)Object.prototype.hasOwnProperty.call(this,Vt)&&"prototype"!==Vt&&"__super__"!==Vt&&(T[Vt]=this[Vt]);return v.statics&&(J(T,v.statics),delete v.statics),v.includes&&(function ae(v){if(!(typeof L>"u")&&L&&L.Mixin){v=W(v)?v:[v];for(var T=0;T<v.length;T++)v[T]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(v.includes),J.apply(null,[pt].concat(v.includes)),delete v.includes),pt.options&&(v.options=J(F(pt.options),v.options)),J(pt,v),pt._initHooks=[],pt.callInitHooks=function(){if(!this._initHooksCalled){B.callInitHooks&&B.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ye=pt._initHooks.length;ve<Ye;ve++)pt._initHooks[ve].call(this)}},T},ut.include=function(v){return J(this.prototype,v),this},ut.mergeOptions=function(v){return J(this.prototype.options,v),this},ut.addInitHook=function(v){var T=Array.prototype.slice.call(arguments,1),B="function"==typeof v?v:function(){this[v].apply(this,T)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(B),this};var ce={on:function(v,T,B){if("object"==typeof v)for(var pt in v)this._on(pt,v[pt],T);else for(var Vt=0,ve=(v=N(v)).length;Vt<ve;Vt++)this._on(v[Vt],T,B);return this},off:function(v,T,B){if(v)if("object"==typeof v)for(var pt in v)this._off(pt,v[pt],T);else for(var Vt=0,ve=(v=N(v)).length;Vt<ve;Vt++)this._off(v[Vt],T,B);else delete this._events;return this},_on:function(v,T,B){this._events=this._events||{};var pt=this._events[v];pt||(this._events[v]=pt=[]),B===this&&(B=void 0);for(var Vt={fn:T,ctx:B},ve=pt,Ye=0,vn=ve.length;Ye<vn;Ye++)if(ve[Ye].fn===T&&ve[Ye].ctx===B)return;ve.push(Vt)},_off:function(v,T,B){var pt,Vt,ve;if(this._events&&(pt=this._events[v])){if(!T){for(Vt=0,ve=pt.length;Vt<ve;Vt++)pt[Vt].fn=ct;return void delete this._events[v]}if(B===this&&(B=void 0),pt)for(Vt=0,ve=pt.length;Vt<ve;Vt++){var Ye=pt[Vt];if(Ye.ctx===B&&Ye.fn===T)return Ye.fn=ct,this._firingCount&&(this._events[v]=pt=pt.slice()),void pt.splice(Vt,1)}}},fire:function(v,T,B){if(!this.listens(v,B))return this;var pt=J({},T,{type:v,target:this,sourceTarget:T&&T.sourceTarget||this});if(this._events){var Vt=this._events[v];if(Vt){this._firingCount=this._firingCount+1||1;for(var ve=0,Ye=Vt.length;ve<Ye;ve++){var vn=Vt[ve];vn.fn.call(vn.ctx||this,pt)}this._firingCount--}}return B&&this._propagateEvent(pt),this},listens:function(v,T){var B=this._events&&this._events[v];if(B&&B.length)return!0;if(T)for(var pt in this._eventParents)if(this._eventParents[pt].listens(v,T))return!0;return!1},once:function(v,T,B){if("object"==typeof v){for(var pt in v)this.once(pt,v[pt],T);return this}var Vt=Z(function(){this.off(v,T,B).off(v,Vt,B)},this);return this.on(v,T,B).on(v,Vt,B)},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[O(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[O(v)],this},_propagateEvent:function(v){for(var T in this._eventParents)this._eventParents[T].fire(v.type,J({layer:v.target,propagatedFrom:v.target},v),!0)}};ce.addEventListener=ce.on,ce.removeEventListener=ce.clearAllEventListeners=ce.off,ce.addOneTimeEventListener=ce.once,ce.fireEvent=ce.fire,ce.hasEventListeners=ce.listens;var Et=ut.extend(ce);function vt(v,T,B){this.x=B?Math.round(v):v,this.y=B?Math.round(T):T}var dt=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};function _t(v,T,B){return v instanceof vt?v:W(v)?new vt(v[0],v[1]):null==v?v:"object"==typeof v&&"x"in v&&"y"in v?new vt(v.x,v.y):new vt(v,T,B)}function Zt(v,T){if(v)for(var B=T?[v,T]:v,pt=0,Vt=B.length;pt<Vt;pt++)this.extend(B[pt])}function Ft(v,T){return!v||v instanceof Zt?v:new Zt(v,T)}function Ee(v,T){if(v)for(var B=T?[v,T]:v,pt=0,Vt=B.length;pt<Vt;pt++)this.extend(B[pt])}function Wt(v,T){return v instanceof Ee?v:new Ee(v,T)}function qt(v,T,B){if(isNaN(v)||isNaN(T))throw new Error("Invalid LatLng object: ("+v+", "+T+")");this.lat=+v,this.lng=+T,void 0!==B&&(this.alt=+B)}function pe(v,T,B){return v instanceof qt?v:W(v)&&"object"!=typeof v[0]?3===v.length?new qt(v[0],v[1],v[2]):2===v.length?new qt(v[0],v[1]):null:null==v?v:"object"==typeof v&&"lat"in v?new qt(v.lat,"lng"in v?v.lng:v.lon,v.alt):void 0===T?null:new qt(v,T,B)}vt.prototype={clone:function(){return new vt(this.x,this.y)},add:function(v){return this.clone()._add(_t(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(_t(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new vt(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new vt(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(v){var T=(v=_t(v)).x-this.x,B=v.y-this.y;return Math.sqrt(T*T+B*B)},equals:function(v){return(v=_t(v)).x===this.x&&v.y===this.y},contains:function(v){return v=_t(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+ot(this.x)+", "+ot(this.y)+")"}},Zt.prototype={extend:function(v){return v=_t(v),this.min||this.max?(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)):(this.min=v.clone(),this.max=v.clone()),this},getCenter:function(v){return new vt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return new vt(this.min.x,this.max.y)},getTopRight:function(){return new vt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var T,B;return(v="number"==typeof v[0]||v instanceof vt?_t(v):Ft(v))instanceof Zt?(T=v.min,B=v.max):T=B=v,T.x>=this.min.x&&B.x<=this.max.x&&T.y>=this.min.y&&B.y<=this.max.y},intersects:function(v){v=Ft(v);var T=this.min,B=this.max,pt=v.min,Vt=v.max;return Vt.x>=T.x&&pt.x<=B.x&&Vt.y>=T.y&&pt.y<=B.y},overlaps:function(v){v=Ft(v);var T=this.min,B=this.max,pt=v.min,Vt=v.max;return Vt.x>T.x&&pt.x<B.x&&Vt.y>T.y&&pt.y<B.y},isValid:function(){return!(!this.min||!this.max)}},Ee.prototype={extend:function(v){var pt,Vt,T=this._southWest,B=this._northEast;if(v instanceof qt)pt=v,Vt=v;else{if(!(v instanceof Ee))return v?this.extend(pe(v)||Wt(v)):this;if(Vt=v._northEast,!(pt=v._southWest)||!Vt)return this}return T||B?(T.lat=Math.min(pt.lat,T.lat),T.lng=Math.min(pt.lng,T.lng),B.lat=Math.max(Vt.lat,B.lat),B.lng=Math.max(Vt.lng,B.lng)):(this._southWest=new qt(pt.lat,pt.lng),this._northEast=new qt(Vt.lat,Vt.lng)),this},pad:function(v){var T=this._southWest,B=this._northEast,pt=Math.abs(T.lat-B.lat)*v,Vt=Math.abs(T.lng-B.lng)*v;return new Ee(new qt(T.lat-pt,T.lng-Vt),new qt(B.lat+pt,B.lng+Vt))},getCenter:function(){return new qt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new qt(this.getNorth(),this.getWest())},getSouthEast:function(){return new qt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){v="number"==typeof v[0]||v instanceof qt||"lat"in v?pe(v):Wt(v);var pt,Vt,T=this._southWest,B=this._northEast;return v instanceof Ee?(pt=v.getSouthWest(),Vt=v.getNorthEast()):pt=Vt=v,pt.lat>=T.lat&&Vt.lat<=B.lat&&pt.lng>=T.lng&&Vt.lng<=B.lng},intersects:function(v){v=Wt(v);var T=this._southWest,B=this._northEast,pt=v.getSouthWest(),Vt=v.getNorthEast();return Vt.lat>=T.lat&&pt.lat<=B.lat&&Vt.lng>=T.lng&&pt.lng<=B.lng},overlaps:function(v){v=Wt(v);var T=this._southWest,B=this._northEast,pt=v.getSouthWest(),Vt=v.getNorthEast();return Vt.lat>T.lat&&pt.lat<B.lat&&Vt.lng>T.lng&&pt.lng<B.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,T){return!!v&&(v=Wt(v),this._southWest.equals(v.getSouthWest(),T)&&this._northEast.equals(v.getNorthEast(),T))},isValid:function(){return!(!this._southWest||!this._northEast)}},qt.prototype={equals:function(v,T){return!!v&&(v=pe(v),Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng))<=(void 0===T?1e-9:T))},toString:function(v){return"LatLng("+ot(this.lat,v)+", "+ot(this.lng,v)+")"},distanceTo:function(v){return Le.distance(this,pe(v))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(v){var T=180*v/40075017,B=T/Math.cos(Math.PI/180*this.lat);return Wt([this.lat-T,this.lng-B],[this.lat+T,this.lng+B])},clone:function(){return new qt(this.lat,this.lng,this.alt)}};var v,Ne={latLngToPoint:function(v,T){var B=this.projection.project(v),pt=this.scale(T);return this.transformation._transform(B,pt)},pointToLatLng:function(v,T){var B=this.scale(T),pt=this.transformation.untransform(v,B);return this.projection.unproject(pt)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var T=this.projection.bounds,B=this.scale(v);return new Zt(this.transformation.transform(T.min,B),this.transformation.transform(T.max,B))},infinite:!1,wrapLatLng:function(v){var T=this.wrapLng?at(v.lng,this.wrapLng,!0):v.lng;return new qt(this.wrapLat?at(v.lat,this.wrapLat,!0):v.lat,T,v.alt)},wrapLatLngBounds:function(v){var T=v.getCenter(),B=this.wrapLatLng(T),pt=T.lat-B.lat,Vt=T.lng-B.lng;if(0===pt&&0===Vt)return v;var ve=v.getSouthWest(),Ye=v.getNorthEast();return new Ee(new qt(ve.lat-pt,ve.lng-Vt),new qt(Ye.lat-pt,Ye.lng-Vt))}},Le=J({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(v,T){var B=Math.PI/180,pt=v.lat*B,Vt=T.lat*B,ve=Math.sin((T.lat-v.lat)*B/2),Ye=Math.sin((T.lng-v.lng)*B/2),vn=ve*ve+Math.cos(pt)*Math.cos(Vt)*Ye*Ye,bn=2*Math.atan2(Math.sqrt(vn),Math.sqrt(1-vn));return this.R*bn}}),Me={R:6378137,MAX_LATITUDE:85.0511287798,project:function(v){var T=Math.PI/180,B=this.MAX_LATITUDE,pt=Math.max(Math.min(B,v.lat),-B),Vt=Math.sin(pt*T);return new vt(this.R*v.lng*T,this.R*Math.log((1+Vt)/(1-Vt))/2)},unproject:function(v){var T=180/Math.PI;return new qt((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*T,v.x*T/this.R)},bounds:(v=6378137*Math.PI,new Zt([-v,-v],[v,v]))};function le(v,T,B,pt){if(W(v))return this._a=v[0],this._b=v[1],this._c=v[2],void(this._d=v[3]);this._a=v,this._b=T,this._c=B,this._d=pt}function Dt(v,T,B,pt){return new le(v,T,B,pt)}le.prototype={transform:function(v,T){return this._transform(v.clone(),T)},_transform:function(v,T){return v.x=(T=T||1)*(this._a*v.x+this._b),v.y=T*(this._c*v.y+this._d),v},untransform:function(v,T){return new vt((v.x/(T=T||1)-this._b)/this._a,(v.y/T-this._d)/this._c)}};var Ht=J({},Le,{code:"EPSG:3857",projection:Me,transformation:function(){var v=.5/(Math.PI*Me.R);return Dt(v,.5,-v,.5)}()}),jt=J({},Ht,{code:"EPSG:900913"});function Ut(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function gt(v,T){var pt,Vt,ve,Ye,vn,bn,B="";for(pt=0,ve=v.length;pt<ve;pt++){for(Vt=0,Ye=(vn=v[pt]).length;Vt<Ye;Vt++)B+=(Vt?"L":"M")+(bn=vn[Vt]).x+" "+bn.y;B+=T?je?"z":"x":""}return B||"M0 0"}var At=document.documentElement.style,St="ActiveXObject"in window,S=St&&!document.addEventListener,P="msLaunchUri"in navigator&&!("documentMode"in document),z=An("webkit"),ft=An("android"),Mt=An("android 2")||An("android 3"),Ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=ft&&An("Google")&&Ot<537&&!("AudioNode"in window),ye=!!window.opera,xe=!P&&An("chrome"),ze=An("gecko")&&!z&&!ye&&!St,Qe=!xe&&An("safari"),Ue=An("phantom"),sn="OTransition"in At,un=0===navigator.platform.indexOf("Win"),ln=St&&"transition"in At,xn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mt,cn="MozPerspective"in At,Pe=!window.L_DISABLE_3D&&(ln||xn||cn)&&!sn&&!Ue,Qt=typeof orientation<"u"||An("mobile"),_e=Qt&&z,Oe=Qt&&xn,We=!window.PointerEvent&&window.MSPointerEvent,rn=!(!window.PointerEvent&&!We),_n=!window.L_NO_TOUCH&&(rn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),en=Qt&&ye,yn=Qt&&ze,Bt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jt=function(){var v=!1;try{var T=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",ct,T),window.removeEventListener("testPassiveEventSupport",ct,T)}catch{}return v}(),Ae=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!Ut("svg").createSVGRect),Je=!je&&function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var T=v.firstChild;return T.style.behavior="url(#default#VML)",T&&"object"==typeof T.adj}catch{return!1}}();function An(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var vi={ie:St,ielt9:S,edge:P,webkit:z,android:ft,android23:Mt,androidStock:me,opera:ye,chrome:xe,gecko:ze,safari:Qe,phantom:Ue,opera12:sn,win:un,ie3d:ln,webkit3d:xn,gecko3d:cn,any3d:Pe,mobile:Qt,mobileWebkit:_e,mobileWebkit3d:Oe,msPointer:We,pointer:rn,touch:_n,mobileOpera:en,mobileGecko:yn,retina:Bt,passiveEvents:Jt,canvas:Ae,svg:je,vml:Je},ur=We?"MSPointerDown":"pointerdown",Ri=We?"MSPointerMove":"pointermove",Ji=We?"MSPointerUp":"pointerup",Lo=We?"MSPointerCancel":"pointercancel",Za={},Xo=!1;function Bi(v,T,B,pt){return"touchstart"===T?function zt(v,T,B){var pt=Z(function(Vt){Vt.MSPOINTER_TYPE_TOUCH&&Vt.pointerType===Vt.MSPOINTER_TYPE_TOUCH&&Hl(Vt),an(Vt,T)});v["_leaflet_touchstart"+B]=pt,v.addEventListener(ur,pt,!1),Xo||(document.addEventListener(ur,Yt,!0),document.addEventListener(Ri,Be,!0),document.addEventListener(Ji,qe,!0),document.addEventListener(Lo,qe,!0),Xo=!0)}(v,B,pt):"touchmove"===T?function Fn(v,T,B){var pt=function(Vt){Vt.pointerType===(Vt.MSPOINTER_TYPE_MOUSE||"mouse")&&0===Vt.buttons||an(Vt,T)};v["_leaflet_touchmove"+B]=pt,v.addEventListener(Ri,pt,!1)}(v,B,pt):"touchend"===T&&function ri(v,T,B){var pt=function(Vt){an(Vt,T)};v["_leaflet_touchend"+B]=pt,v.addEventListener(Ji,pt,!1),v.addEventListener(Lo,pt,!1)}(v,B,pt),this}function Yt(v){Za[v.pointerId]=v}function Be(v){Za[v.pointerId]&&(Za[v.pointerId]=v)}function qe(v){delete Za[v.pointerId]}function an(v,T){for(var B in v.touches=[],Za)v.touches.push(Za[B]);v.changedTouches=[v],T(v)}var Ai=We?"MSPointerDown":rn?"pointerdown":"touchstart",Vi=We?"MSPointerUp":rn?"pointerup":"touchend",Ti="_leaflet_";var pr,_i,Er,Gt,Se,Va=Re(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jo=Re(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xs="webkitTransition"===jo||"OTransition"===jo?jo+"End":"transitionend";function zi(v){return"string"==typeof v?document.getElementById(v):v}function cs(v,T){var B=v.style[T]||v.currentStyle&&v.currentStyle[T];if((!B||"auto"===B)&&document.defaultView){var pt=document.defaultView.getComputedStyle(v,null);B=pt?pt[T]:null}return"auto"===B?null:B}function Qi(v,T,B){var pt=document.createElement(v);return pt.className=T||"",B&&B.appendChild(pt),pt}function po(v){var T=v.parentNode;T&&T.removeChild(v)}function nl(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function os(v){var T=v.parentNode;T&&T.lastChild!==v&&T.appendChild(v)}function as(v){var T=v.parentNode;T&&T.firstChild!==v&&T.insertBefore(v,T.firstChild)}function ki(v,T){if(void 0!==v.classList)return v.classList.contains(T);var B=so(v);return B.length>0&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(B)}function Yi(v,T){if(void 0!==v.classList)for(var B=N(T),pt=0,Vt=B.length;pt<Vt;pt++)v.classList.add(B[pt]);else if(!ki(v,T)){var ve=so(v);us(v,(ve?ve+" ":"")+T)}}function sr(v,T){void 0!==v.classList?v.classList.remove(T):us(v,$((" "+so(v)+" ").replace(" "+T+" "," ")))}function us(v,T){void 0===v.className.baseVal?v.className=T:v.className.baseVal=T}function so(v){return v.correspondingElement&&(v=v.correspondingElement),void 0===v.className.baseVal?v.className:v.className.baseVal}function oe(v,T){"opacity"in v.style?v.style.opacity=T:"filter"in v.style&&function we(v,T){var B=!1,pt="DXImageTransform.Microsoft.Alpha";try{B=v.filters.item(pt)}catch{if(1===T)return}T=Math.round(100*T),B?(B.Enabled=100!==T,B.Opacity=T):v.style.filter+=" progid:"+pt+"(opacity="+T+")"}(v,T)}function Re(v){for(var T=document.documentElement.style,B=0;B<v.length;B++)if(v[B]in T)return v[B];return!1}function tn(v,T,B){var pt=T||new vt(0,0);v.style[Va]=(ln?"translate("+pt.x+"px,"+pt.y+"px)":"translate3d("+pt.x+"px,"+pt.y+"px,0)")+(B?" scale("+B+")":"")}function Ze(v,T){v._leaflet_pos=T,Pe?tn(v,T):(v.style.left=T.x+"px",v.style.top=T.y+"px")}function wn(v){return v._leaflet_pos||new vt(0,0)}if("onselectstart"in document)pr=function(){oi(window,"selectstart",Hl)},_i=function(){Fr(window,"selectstart",Hl)};else{var xo=Re(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pr=function(){if(xo){var v=document.documentElement.style;Er=v[xo],v[xo]="none"}},_i=function(){xo&&(document.documentElement.style[xo]=Er,Er=void 0)}}function En(){oi(window,"dragstart",Hl)}function il(){Fr(window,"dragstart",Hl)}function Ge(v){for(;-1===v.tabIndex;)v=v.parentNode;v.style&&(gn(),Gt=v,Se=v.style.outline,v.style.outline="none",oi(window,"keydown",gn))}function gn(){Gt&&(Gt.style.outline=Se,Gt=void 0,Se=void 0,Fr(window,"keydown",gn))}function Xn(v){do{v=v.parentNode}while(!(v.offsetWidth&&v.offsetHeight||v===document.body));return v}function ei(v){var T=v.getBoundingClientRect();return{x:T.width/v.offsetWidth||1,y:T.height/v.offsetHeight||1,boundingClientRect:T}}var ui={TRANSFORM:Va,TRANSITION:jo,TRANSITION_END:Xs,get:zi,getStyle:cs,create:Qi,remove:po,empty:nl,toFront:os,toBack:as,hasClass:ki,addClass:Yi,removeClass:sr,setClass:us,getClass:so,setOpacity:oe,testProp:Re,setTransform:tn,setPosition:Ze,getPosition:wn,disableTextSelection:pr,enableTextSelection:_i,disableImageDrag:En,enableImageDrag:il,preventOutline:Ge,restoreOutline:gn,getSizedParentNode:Xn,getScale:ei};function oi(v,T,B,pt){if("object"==typeof T)for(var Vt in T)wu(v,Vt,T[Vt],B);else for(var ve=0,Ye=(T=N(T)).length;ve<Ye;ve++)wu(v,T[ve],B,pt);return this}var Mr="_leaflet_events";function Fr(v,T,B,pt){if("object"==typeof T)for(var Vt in T)Gl(v,Vt,T[Vt],B);else if(T)for(var ve=0,Ye=(T=N(T)).length;ve<Ye;ve++)Gl(v,T[ve],B,pt);else{for(var vn in v[Mr])Gl(v,vn,v[Mr][vn]);delete v[Mr]}return this}function ws(){if(rn)return!(P||Qe)}var $s={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wu(v,T,B,pt){var Vt=T+O(B)+(pt?"_"+O(pt):"");if(v[Mr]&&v[Mr][Vt])return this;var ve=function(vn){return B.call(pt||v,vn||window.event)},Ye=ve;rn&&0===T.indexOf("touch")?Bi(v,T,ve,Vt):_n&&"dblclick"===T&&!ws()?function bo(v,T,B){var pt,Vt,ve=!1,Ye=250;function vn(jn){if(rn){if(!jn.isPrimary||"mouse"===jn.pointerType)return}else if(jn.touches.length>1)return;var hi=Date.now(),hr=hi-(pt||hi);Vt=jn.touches?jn.touches[0]:jn,ve=hr>0&&hr<=Ye,pt=hi}function bn(jn){if(ve&&!Vt.cancelBubble){if(rn){if("mouse"===jn.pointerType)return;var hr,No,hi={};for(No in Vt)hi[No]=(hr=Vt[No])&&hr.bind?hr.bind(Vt):hr;Vt=hi}Vt.type="dblclick",Vt.button=0,T(Vt),pt=null}}return v[Ti+Ai+B]=vn,v[Ti+Vi+B]=bn,v[Ti+"dblclick"+B]=T,v.addEventListener(Ai,vn,!!Jt&&{passive:!1}),v.addEventListener(Vi,bn,!!Jt&&{passive:!1}),v.addEventListener("dblclick",T,!1),this}(v,ve,Vt):"addEventListener"in v?"touchstart"===T||"touchmove"===T||"wheel"===T||"mousewheel"===T?v.addEventListener($s[T]||T,ve,!!Jt&&{passive:!1}):"mouseenter"===T||"mouseleave"===T?v.addEventListener($s[T],ve=function(vn){vn=vn||window.event,rl(v,vn)&&Ye(vn)},!1):v.addEventListener(T,Ye,!1):"attachEvent"in v&&v.attachEvent("on"+T,ve),v[Mr]=v[Mr]||{},v[Mr][Vt]=ve}function Gl(v,T,B,pt){var Vt=T+O(B)+(pt?"_"+O(pt):""),ve=v[Mr]&&v[Mr][Vt];if(!ve)return this;rn&&0===T.indexOf("touch")?function ua(v,T,B){var pt=v["_leaflet_"+T+B];return"touchstart"===T?v.removeEventListener(ur,pt,!1):"touchmove"===T?v.removeEventListener(Ri,pt,!1):"touchend"===T&&(v.removeEventListener(Ji,pt,!1),v.removeEventListener(Lo,pt,!1)),this}(v,T,Vt):_n&&"dblclick"===T&&!ws()?function fo(v,T){var pt=v[Ti+Vi+T],Vt=v[Ti+"dblclick"+T];return v.removeEventListener(Ai,v[Ti+Ai+T],!!Jt&&{passive:!1}),v.removeEventListener(Vi,pt,!!Jt&&{passive:!1}),v.removeEventListener("dblclick",Vt,!1),this}(v,Vt):"removeEventListener"in v?v.removeEventListener($s[T]||T,ve,!1):"detachEvent"in v&&v.detachEvent("on"+T,ve),v[Mr][Vt]=null}function To(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,zn(v),this}function Bu(v){return wu(v,"wheel",To),this}function ks(v){return oi(v,"mousedown touchstart dblclick",To),wu(v,"click",jl),this}function Hl(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function ul(v){return Hl(v),To(v),this}function mo(v,T){if(!T)return new vt(v.clientX,v.clientY);var B=ei(T),pt=B.boundingClientRect;return new vt((v.clientX-pt.left)/B.x-T.clientLeft,(v.clientY-pt.top)/B.y-T.clientTop)}var Gr=un&&xe?2*window.devicePixelRatio:ze?window.devicePixelRatio:1;function tc(v){return P?v.wheelDeltaY/2:v.deltaY&&0===v.deltaMode?-v.deltaY/Gr:v.deltaY&&1===v.deltaMode?20*-v.deltaY:v.deltaY&&2===v.deltaMode?60*-v.deltaY:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?20*-v.detail:v.detail?v.detail/-32765*60:0}var Vs={};function jl(v){Vs[v.type]=!0}function zn(v){var T=Vs[v.type];return Vs[v.type]=!1,T}function rl(v,T){var B=T.relatedTarget;if(!B)return!0;try{for(;B&&B!==v;)B=B.parentNode}catch{return!1}return B!==v}var Jn={on:oi,off:Fr,stopPropagation:To,disableScrollPropagation:Bu,disableClickPropagation:ks,preventDefault:Hl,stop:ul,getMousePosition:mo,getWheelDelta:tc,fakeStop:jl,skipped:zn,isExternalTarget:rl,addListener:oi,removeListener:Fr},Vu=Et.extend({run:function(v,T,B,pt){this.stop(),this._el=v,this._inProgress=!0,this._duration=B||.25,this._easeOutPower=1/Math.max(pt||.5,.2),this._startPos=wn(v),this._offset=T.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pt(this._animate,this),this._step()},_step:function(v){var T=+new Date-this._startTime,B=1e3*this._duration;T<B?this._runFrame(this._easeOut(T/B),v):(this._runFrame(1),this._complete())},_runFrame:function(v,T){var B=this._startPos.add(this._offset.multiplyBy(v));T&&B._round(),Ze(this._el,B),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),Or=Et.extend({options:{crs:Ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,T){T=U(this,T),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=Z(this._onResize,this),this._initEvents(),T.maxBounds&&this.setMaxBounds(T.maxBounds),void 0!==T.zoom&&(this._zoom=this._limitZoom(T.zoom)),T.center&&void 0!==T.zoom&&this.setView(pe(T.center),T.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jo&&Pe&&!en&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oi(this._proxy,Xs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,T,B){return T=void 0===T?this._zoom:this._limitZoom(T),v=this._limitCenter(pe(v),T,this.options.maxBounds),B=B||{},this._stop(),this._loaded&&!B.reset&&!0!==B&&(void 0!==B.animate&&(B.zoom=J({animate:B.animate},B.zoom),B.pan=J({animate:B.animate,duration:B.duration},B.pan)),this._zoom!==T?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,T,B.zoom):this._tryAnimatedPan(v,B.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(v,T),this)},setZoom:function(v,T){return this._loaded?this.setView(this.getCenter(),v,{zoom:T}):(this._zoom=v,this)},zoomIn:function(v,T){return this.setZoom(this._zoom+(v=v||(Pe?this.options.zoomDelta:1)),T)},zoomOut:function(v,T){return this.setZoom(this._zoom-(v=v||(Pe?this.options.zoomDelta:1)),T)},setZoomAround:function(v,T,B){var pt=this.getZoomScale(T),Vt=this.getSize().divideBy(2),Ye=(v instanceof vt?v:this.latLngToContainerPoint(v)).subtract(Vt).multiplyBy(1-1/pt),vn=this.containerPointToLatLng(Vt.add(Ye));return this.setView(vn,T,{zoom:B})},_getBoundsCenterZoom:function(v,T){T=T||{},v=v.getBounds?v.getBounds():Wt(v);var B=_t(T.paddingTopLeft||T.padding||[0,0]),pt=_t(T.paddingBottomRight||T.padding||[0,0]),Vt=this.getBoundsZoom(v,!1,B.add(pt));if((Vt="number"==typeof T.maxZoom?Math.min(T.maxZoom,Vt):Vt)===1/0)return{center:v.getCenter(),zoom:Vt};var ve=pt.subtract(B).divideBy(2),Ye=this.project(v.getSouthWest(),Vt),vn=this.project(v.getNorthEast(),Vt);return{center:this.unproject(Ye.add(vn).divideBy(2).add(ve),Vt),zoom:Vt}},fitBounds:function(v,T){if(!(v=Wt(v)).isValid())throw new Error("Bounds are not valid.");var B=this._getBoundsCenterZoom(v,T);return this.setView(B.center,B.zoom,T)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,T){return this.setView(v,this._zoom,{pan:T})},panBy:function(v,T){if(T=T||{},!(v=_t(v).round()).x&&!v.y)return this.fire("moveend");if(!0!==T.animate&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),T.noMoveStart||this.fire("movestart"),!1!==T.animate){Yi(this._mapPane,"leaflet-pan-anim");var B=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,B,T.duration||.25,T.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,T,B){if(!1===(B=B||{}).animate||!Pe)return this.setView(v,T,B);this._stop();var pt=this.project(this.getCenter()),Vt=this.project(v),ve=this.getSize(),Ye=this._zoom;v=pe(v),T=void 0===T?Ye:T;var vn=Math.max(ve.x,ve.y),bn=vn*this.getZoomScale(Ye,T),jn=Vt.distanceTo(pt)||1,hi=1.42,hr=hi*hi;function No(Ie){var Li=(bn*bn-vn*vn+(Ie?-1:1)*hr*hr*jn*jn)/(2*(Ie?bn:vn)*hr*jn),si=Math.sqrt(Li*Li+1)-Li;return si<1e-9?-18:Math.log(si)}function su(Ie){return(Math.exp(Ie)-Math.exp(-Ie))/2}function Zl(Ie){return(Math.exp(Ie)+Math.exp(-Ie))/2}var Yo=No(0);function R(Ie){return vn*(Zl(Yo)*function ml(Ie){return su(Ie)/Zl(Ie)}(Yo+hi*Ie)-su(Yo))/hr}var Nt=Date.now(),$t=(No(1)-Yo)/hi,ue=B.duration?1e3*B.duration:1e3*$t*.8;return this._moveStart(!0,B.noMoveStart),function Ce(){var Ie=(Date.now()-Nt)/ue,dn=function ht(Ie){return 1-Math.pow(1-Ie,1.5)}(Ie)*$t;Ie<=1?(this._flyToFrame=Pt(Ce,this),this._move(this.unproject(pt.add(Vt.subtract(pt).multiplyBy(R(dn)/jn)),Ye),this.getScaleZoom(vn/function ke(Ie){return vn*(Zl(Yo)/Zl(Yo+hi*Ie))}(dn),Ye),{flyTo:!0})):this._move(v,T)._moveEnd(!0)}.call(this),this},flyToBounds:function(v,T){var B=this._getBoundsCenterZoom(v,T);return this.flyTo(B.center,B.zoom,T)},setMaxBounds:function(v){return(v=Wt(v)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(v){var T=this.options.minZoom;return this.options.minZoom=v,this._loaded&&T!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var T=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&T!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,T){this._enforcingBounds=!0;var B=this.getCenter(),pt=this._limitCenter(B,this._zoom,Wt(v));return B.equals(pt)||this.panTo(pt,T),this._enforcingBounds=!1,this},panInside:function(v,T){var B=_t((T=T||{}).paddingTopLeft||T.padding||[0,0]),pt=_t(T.paddingBottomRight||T.padding||[0,0]),Vt=this.getCenter(),ve=this.project(Vt),Ye=this.project(v),vn=this.getPixelBounds(),bn=vn.getSize().divideBy(2),jn=Ft([vn.min.add(B),vn.max.subtract(pt)]);if(!jn.contains(Ye)){this._enforcingBounds=!0;var hi=ve.subtract(Ye),hr=_t(Ye.x+hi.x,Ye.y+hi.y);(Ye.x<jn.min.x||Ye.x>jn.max.x)&&(hr.x=ve.x-hi.x,hi.x>0?hr.x+=bn.x-B.x:hr.x-=bn.x-pt.x),(Ye.y<jn.min.y||Ye.y>jn.max.y)&&(hr.y=ve.y-hi.y,hi.y>0?hr.y+=bn.y-B.y:hr.y-=bn.y-pt.y),this.panTo(this.unproject(hr),T),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=J({animate:!1,pan:!0},!0===v?{animate:!0}:v);var T=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var B=this.getSize(),pt=T.divideBy(2).round(),Vt=B.divideBy(2).round(),ve=pt.subtract(Vt);return ve.x||ve.y?(v.animate&&v.pan?this.panBy(ve):(v.pan&&this._rawPanBy(ve),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Z(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:T,newSize:B})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=J({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var T=Z(this._handleGeolocationResponse,this),B=Z(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(T,B,v):navigator.geolocation.getCurrentPosition(T,B,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){var T=v.code,B=v.message||(1===T?"permission denied":2===T?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:T,message:"Geolocation error: "+B+"."})},_handleGeolocationResponse:function(v){var pt=new qt(v.coords.latitude,v.coords.longitude),Vt=pt.toBounds(2*v.coords.accuracy),ve=this._locateOptions;if(ve.setView){var Ye=this.getBoundsZoom(Vt);this.setView(pt,ve.maxZoom?Math.min(Ye,ve.maxZoom):Ye)}var vn={latlng:pt,bounds:Vt,timestamp:v.timestamp};for(var bn in v.coords)"number"==typeof v.coords[bn]&&(vn[bn]=v.coords[bn]);this.fire("locationfound",vn)},addHandler:function(v,T){if(!T)return this;var B=this[v]=new T(this);return this._handlers.push(B),this.options[v]&&B.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var v;for(v in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),po(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[v].remove();for(v in this._panes)po(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,T){var pt=Qi("div","leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),T||this._mapPane);return v&&(this._panes[v]=pt),pt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds();return new Ee(this.unproject(v.getBottomLeft()),this.unproject(v.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,T,B){v=Wt(v),B=_t(B||[0,0]);var pt=this.getZoom()||0,Vt=this.getMinZoom(),ve=this.getMaxZoom(),Ye=v.getNorthWest(),vn=v.getSouthEast(),bn=this.getSize().subtract(B),jn=Ft(this.project(vn,pt),this.project(Ye,pt)).getSize(),hi=Pe?this.options.zoomSnap:1,hr=bn.x/jn.x,No=bn.y/jn.y,su=T?Math.max(hr,No):Math.min(hr,No);return pt=this.getScaleZoom(su,pt),hi&&(pt=Math.round(pt/(hi/100))*(hi/100),pt=T?Math.ceil(pt/hi)*hi:Math.floor(pt/hi)*hi),Math.max(Vt,Math.min(ve,pt))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new vt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,T){var B=this._getTopLeftPoint(v,T);return new Zt(B,B.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(void 0===v?this.getZoom():v)},getPane:function(v){return"string"==typeof v?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,T){var B=this.options.crs;return T=void 0===T?this._zoom:T,B.scale(v)/B.scale(T)},getScaleZoom:function(v,T){var B=this.options.crs,pt=B.zoom(v*B.scale(T=void 0===T?this._zoom:T));return isNaN(pt)?1/0:pt},project:function(v,T){return T=void 0===T?this._zoom:T,this.options.crs.latLngToPoint(pe(v),T)},unproject:function(v,T){return T=void 0===T?this._zoom:T,this.options.crs.pointToLatLng(_t(v),T)},layerPointToLatLng:function(v){var T=_t(v).add(this.getPixelOrigin());return this.unproject(T)},latLngToLayerPoint:function(v){return this.project(pe(v))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(pe(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(Wt(v))},distance:function(v,T){return this.options.crs.distance(pe(v),pe(T))},containerPointToLayerPoint:function(v){return _t(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return _t(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var T=this.containerPointToLayerPoint(_t(v));return this.layerPointToLatLng(T)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(v)))},mouseEventToContainerPoint:function(v){return mo(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var T=this._container=zi(v);if(!T)throw new Error("Map container not found.");if(T._leaflet_id)throw new Error("Map container is already initialized.");oi(T,"scroll",this._onScroll,this),this._containerId=O(T)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe,Yi(v,"leaflet-container"+(_n?" leaflet-touch":"")+(Bt?" leaflet-retina":"")+(S?" leaflet-oldie":"")+(Qe?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var T=cs(v,"position");"absolute"!==T&&"relative"!==T&&"fixed"!==T&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ze(this._mapPane,new vt(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yi(v.markerPane,"leaflet-zoom-hide"),Yi(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,T){Ze(this._mapPane,new vt(0,0));var B=!this._loaded;this._loaded=!0,T=this._limitZoom(T),this.fire("viewprereset");var pt=this._zoom!==T;this._moveStart(pt,!1)._move(v,T)._moveEnd(pt),this.fire("viewreset"),B&&this.fire("load")},_moveStart:function(v,T){return v&&this.fire("zoomstart"),T||this.fire("movestart"),this},_move:function(v,T,B){void 0===T&&(T=this._zoom);var pt=this._zoom!==T;return this._zoom=T,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),(pt||B&&B.pinch)&&this.fire("zoom",B),this.fire("move",B)},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){Ze(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[O(this._container)]=this;var T=v?Fr:oi;T(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&T(window,"resize",this._onResize,this),Pe&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,T){for(var pt,B=[],Vt="mouseout"===T||"mouseover"===T,ve=v.target||v.srcElement,Ye=!1;ve;){if((pt=this._targets[O(ve)])&&("click"===T||"preclick"===T)&&!v._simulated&&this._draggableMoved(pt)){Ye=!0;break}if(pt&&pt.listens(T,!0)&&(Vt&&!rl(ve,v)||(B.push(pt),Vt))||ve===this._container)break;ve=ve.parentNode}return!B.length&&!Ye&&!Vt&&rl(ve,v)&&(B=[this]),B},_handleDOMEvent:function(v){if(this._loaded&&!zn(v)){var T=v.type;("mousedown"===T||"keypress"===T||"keyup"===T||"keydown"===T)&&Ge(v.target||v.srcElement),this._fireDOMEvent(v,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,T,B){if("click"===v.type){var pt=J({},v);pt.type="preclick",this._fireDOMEvent(pt,pt.type,B)}if(!v._stopped&&(B=(B||[]).concat(this._findEventTargets(v,T))).length){var Vt=B[0];"contextmenu"===T&&Vt.listens(T,!0)&&Hl(v);var ve={originalEvent:v};if("keypress"!==v.type&&"keydown"!==v.type&&"keyup"!==v.type){var Ye=Vt.getLatLng&&(!Vt._radius||Vt._radius<=10);ve.containerPoint=Ye?this.latLngToContainerPoint(Vt.getLatLng()):this.mouseEventToContainerPoint(v),ve.layerPoint=this.containerPointToLayerPoint(ve.containerPoint),ve.latlng=Ye?Vt.getLatLng():this.layerPointToLatLng(ve.layerPoint)}for(var vn=0;vn<B.length;vn++)if(B[vn].fire(T,ve,!0),ve.originalEvent._stopped||!1===B[vn].options.bubblingMouseEvents&&-1!==it(this._mouseEvents,T))return}},_draggableMoved:function(v){return(v=v.dragging&&v.dragging.enabled()?v:this).dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,T=this._handlers.length;v<T;v++)this._handlers[v].disable()},whenReady:function(v,T){return this._loaded?v.call(T||this,{target:this}):this.on("load",v,T),this},_getMapPanePos:function(){return wn(this._mapPane)||new vt(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,T){return(v&&void 0!==T?this._getNewPixelOrigin(v,T):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,T){var B=this.getSize()._divideBy(2);return this.project(v,T)._subtract(B)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,T,B){var pt=this._getNewPixelOrigin(B,T);return this.project(v,T)._subtract(pt)},_latLngBoundsToNewLayerBounds:function(v,T,B){var pt=this._getNewPixelOrigin(B,T);return Ft([this.project(v.getSouthWest(),T)._subtract(pt),this.project(v.getNorthWest(),T)._subtract(pt),this.project(v.getSouthEast(),T)._subtract(pt),this.project(v.getNorthEast(),T)._subtract(pt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,T,B){if(!B)return v;var pt=this.project(v,T),Vt=this.getSize().divideBy(2),ve=new Zt(pt.subtract(Vt),pt.add(Vt)),Ye=this._getBoundsOffset(ve,B,T);return Ye.round().equals([0,0])?v:this.unproject(pt.add(Ye),T)},_limitOffset:function(v,T){if(!T)return v;var B=this.getPixelBounds(),pt=new Zt(B.min.add(v),B.max.add(v));return v.add(this._getBoundsOffset(pt,T))},_getBoundsOffset:function(v,T,B){var pt=Ft(this.project(T.getNorthEast(),B),this.project(T.getSouthWest(),B)),Vt=pt.min.subtract(v.min),ve=pt.max.subtract(v.max);return new vt(this._rebound(Vt.x,-ve.x),this._rebound(Vt.y,-ve.y))},_rebound:function(v,T){return v+T>0?Math.round(v-T)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(T))},_limitZoom:function(v){var T=this.getMinZoom(),B=this.getMaxZoom(),pt=Pe?this.options.zoomSnap:1;return pt&&(v=Math.round(v/pt)*pt),Math.max(T,Math.min(B,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,T){var B=this._getCenterOffset(v)._trunc();return!(!0!==(T&&T.animate)&&!this.getSize().contains(B)||(this.panBy(B,T),0))},_createAnimProxy:function(){var v=this._proxy=Qi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(T){var B=Va,pt=this._proxy.style[B];tn(this._proxy,this.project(T.center,T.zoom),this.getZoomScale(T.zoom,1)),pt===this._proxy.style[B]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){po(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),T=this.getZoom();tn(this._proxy,this.project(v,T),this.getZoomScale(T,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,T,B){if(this._animatingZoom)return!0;if(B=B||{},!this._zoomAnimated||!1===B.animate||this._nothingToAnimate()||Math.abs(T-this._zoom)>this.options.zoomAnimationThreshold)return!1;var pt=this.getZoomScale(T),Vt=this._getCenterOffset(v)._divideBy(1-1/pt);return!(!0!==B.animate&&!this.getSize().contains(Vt)||(Pt(function(){this._moveStart(!0,!1)._animateZoom(v,T,!0)},this),0))},_animateZoom:function(v,T,B,pt){this._mapPane&&(B&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=T,Yi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:T,noUpdate:pt}),setTimeout(Z(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Pt(function(){this._moveEnd(!0)},this))}});var Tn=ut.extend({options:{position:"topright"},initialize:function(v){U(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var T=this._map;return T&&T.removeControl(this),this.options.position=v,T&&T.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var T=this._container=this.onAdd(v),B=this.getPosition(),pt=v._controlCorners[B];return Yi(T,"leaflet-control"),-1!==B.indexOf("bottom")?pt.insertBefore(T,pt.firstChild):pt.appendChild(T),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(po(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),Bn=function(v){return new Tn(v)};Or.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},T="leaflet-",B=this._controlContainer=Qi("div",T+"control-container",this._container);function pt(Vt,ve){v[Vt+ve]=Qi("div",T+Vt+" "+T+ve,B)}pt("top","left"),pt("top","right"),pt("bottom","left"),pt("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)po(this._controlCorners[v]);po(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gi=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,T,B,pt){return B<pt?-1:pt<B?1:0}},initialize:function(v,T,B){for(var pt in U(this,B),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,v)this._addLayer(v[pt],pt);for(pt in T)this._addLayer(T[pt],pt,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return Tn.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,T){return this._addLayer(v,T),this._map?this._update():this},addOverlay:function(v,T){return this._addLayer(v,T,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var T=this._getLayer(O(v));return T&&this._layers.splice(this._layers.indexOf(T),1),this._map?this._update():this},expand:function(){Yi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(Yi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):sr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",T=this._container=Qi("div",v),B=this.options.collapsed;T.setAttribute("aria-haspopup",!0),ks(T),Bu(T);var pt=this._section=Qi("section",v+"-list");B&&(this._map.on("click",this.collapse,this),ft||oi(T,{mouseenter:this.expand,mouseleave:this.collapse},this));var Vt=this._layersLink=Qi("a",v+"-toggle",T);Vt.href="#",Vt.title="Layers",_n?(oi(Vt,"click",ul),oi(Vt,"click",this.expand,this)):oi(Vt,"focus",this.expand,this),B||this.expand(),this._baseLayersList=Qi("div",v+"-base",pt),this._separator=Qi("div",v+"-separator",pt),this._overlaysList=Qi("div",v+"-overlays",pt),T.appendChild(pt)},_getLayer:function(v){for(var T=0;T<this._layers.length;T++)if(this._layers[T]&&O(this._layers[T].layer)===v)return this._layers[T]},_addLayer:function(v,T,B){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:T,overlay:B}),this.options.sortLayers&&this._layers.sort(Z(function(pt,Vt){return this.options.sortFunction(pt.layer,Vt.layer,pt.name,Vt.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nl(this._baseLayersList),nl(this._overlaysList),this._layerControlInputs=[];var v,T,B,pt,Vt=0;for(B=0;B<this._layers.length;B++)this._addItem(pt=this._layers[B]),T=T||pt.overlay,v=v||!pt.overlay,Vt+=pt.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(v=v&&Vt>1)?"":"none"),this._separator.style.display=T&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var T=this._getLayer(O(v.target)),B=T.overlay?"add"===v.type?"overlayadd":"overlayremove":"add"===v.type?"baselayerchange":null;B&&this._map.fire(B,T)},_createRadioElement:function(v,T){var B='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(T?' checked="checked"':"")+"/>",pt=document.createElement("div");return pt.innerHTML=B,pt.firstChild},_addItem:function(v){var pt,T=document.createElement("label"),B=this._map.hasLayer(v.layer);v.overlay?((pt=document.createElement("input")).type="checkbox",pt.className="leaflet-control-layers-selector",pt.defaultChecked=B):pt=this._createRadioElement("leaflet-base-layers_"+O(this),B),this._layerControlInputs.push(pt),pt.layerId=O(v.layer),oi(pt,"click",this._onInputClick,this);var Vt=document.createElement("span");Vt.innerHTML=" "+v.name;var ve=document.createElement("div");return T.appendChild(ve),ve.appendChild(pt),ve.appendChild(Vt),(v.overlay?this._overlaysList:this._baseLayersList).appendChild(T),this._checkDisabledLayers(),T},_onInputClick:function(){var T,B,v=this._layerControlInputs,pt=[],Vt=[];this._handlingClick=!0;for(var ve=v.length-1;ve>=0;ve--)B=this._getLayer((T=v[ve]).layerId).layer,T.checked?pt.push(B):T.checked||Vt.push(B);for(ve=0;ve<Vt.length;ve++)this._map.hasLayer(Vt[ve])&&this._map.removeLayer(Vt[ve]);for(ve=0;ve<pt.length;ve++)this._map.hasLayer(pt[ve])||this._map.addLayer(pt[ve]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var T,B,v=this._layerControlInputs,pt=this._map.getZoom(),Vt=v.length-1;Vt>=0;Vt--)B=this._getLayer((T=v[Vt]).layerId).layer,T.disabled=void 0!==B.options.minZoom&&pt<B.options.minZoom||void 0!==B.options.maxZoom&&pt>B.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Do=Tn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(v){var T="leaflet-control-zoom",B=Qi("div",T+" leaflet-bar"),pt=this.options;return this._zoomInButton=this._createButton(pt.zoomInText,pt.zoomInTitle,T+"-in",B,this._zoomIn),this._zoomOutButton=this._createButton(pt.zoomOutText,pt.zoomOutTitle,T+"-out",B,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),B},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,T,B,pt,Vt){var ve=Qi("a",B,pt);return ve.innerHTML=v,ve.href="#",ve.title=T,ve.setAttribute("role","button"),ve.setAttribute("aria-label",T),ks(ve),oi(ve,"click",ul),oi(ve,"click",Vt,this),oi(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var v=this._map,T="leaflet-disabled";sr(this._zoomInButton,T),sr(this._zoomOutButton,T),(this._disabled||v._zoom===v.getMinZoom())&&Yi(this._zoomOutButton,T),(this._disabled||v._zoom===v.getMaxZoom())&&Yi(this._zoomInButton,T)}});Or.mergeOptions({zoomControl:!0}),Or.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Do,this.addControl(this.zoomControl))});var wi=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var T="leaflet-control-scale",B=Qi("div",T),pt=this.options;return this._addScales(pt,T+"-line",B),v.on(pt.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),B},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,T,B){v.metric&&(this._mScale=Qi("div",T,B)),v.imperial&&(this._iScale=Qi("div",T,B))},_update:function(){var v=this._map,T=v.getSize().y/2,B=v.distance(v.containerPointToLatLng([0,T]),v.containerPointToLatLng([this.options.maxWidth,T]));this._updateScales(B)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var T=this._getRoundNum(v);this._updateScale(this._mScale,T<1e3?T+" m":T/1e3+" km",T/v)},_updateImperial:function(v){var B,pt,Vt,T=3.2808399*v;T>5280?(pt=this._getRoundNum(B=T/5280),this._updateScale(this._iScale,pt+" mi",pt/B)):(Vt=this._getRoundNum(T),this._updateScale(this._iScale,Vt+" ft",Vt/T))},_updateScale:function(v,T,B){v.style.width=Math.round(this.options.maxWidth*B)+"px",v.innerHTML=T},_getRoundNum:function(v){var T=Math.pow(10,(Math.floor(v)+"").length-1),B=v/T;return T*(B>=10?10:B>=5?5:B>=3?3:B>=2?2:1)}}),Rs=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(v){U(this,v),this._attributions={}},onAdd:function(v){for(var T in v.attributionControl=this,this._container=Qi("div","leaflet-control-attribution"),ks(this._container),v._layers)v._layers[T].getAttribution&&this.addAttribution(v._layers[T].getAttribution());return this._update(),this._container},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var T in this._attributions)this._attributions[T]&&v.push(T);var B=[];this.options.prefix&&B.push(this.options.prefix),v.length&&B.push(v.join(", ")),this._container.innerHTML=B.join(" | ")}}});Or.mergeOptions({attributionControl:!0}),Or.addInitHook(function(){this.options.attributionControl&&(new Rs).addTo(this)});Tn.Layers=gi,Tn.Zoom=Do,Tn.Scale=wi,Tn.Attribution=Rs,Bn.layers=function(v,T,B){return new gi(v,T,B)},Bn.zoom=function(v){return new Do(v)},Bn.scale=function(v){return new wi(v)},Bn.attribution=function(v){return new Rs(v)};var Jo=ut.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jo.addTo=function(v,T){return v.addHandler(T,this),this};var So,zu={Events:ce},Lr=_n?"touchstart mousedown":"mousedown",Ii={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},dd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ec=Et.extend({options:{clickTolerance:3},initialize:function(v,T,B,pt){U(this,pt),this._element=v,this._dragStartTarget=T||v,this._preventOutline=B},enable:function(){this._enabled||(oi(this._dragStartTarget,Lr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ec._dragging===this&&this.finishDrag(),Fr(this._dragStartTarget,Lr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(!v._simulated&&this._enabled&&(this._moved=!1,!ki(this._element,"leaflet-zoom-anim")&&!(ec._dragging||v.shiftKey||1!==v.which&&1!==v.button&&!v.touches)&&(ec._dragging=this,this._preventOutline&&Ge(this._element),En(),pr(),!this._moving))){this.fire("down");var T=v.touches?v.touches[0]:v,B=Xn(this._element);this._startPoint=new vt(T.clientX,T.clientY),this._parentScale=ei(B),oi(document,dd[v.type],this._onMove,this),oi(document,Ii[v.type],this._onUp,this)}},_onMove:function(v){if(!v._simulated&&this._enabled){if(v.touches&&v.touches.length>1)return void(this._moved=!0);var T=v.touches&&1===v.touches.length?v.touches[0]:v,B=new vt(T.clientX,T.clientY)._subtract(this._startPoint);!B.x&&!B.y||Math.abs(B.x)+Math.abs(B.y)<this.options.clickTolerance||(B.x/=this._parentScale.x,B.y/=this._parentScale.y,Hl(v),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=wn(this._element).subtract(B),Yi(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(B),this._moving=!0,Tt(this._animRequest),this._lastEvent=v,this._animRequest=Pt(this._updatePosition,this,!0))}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),Ze(this._element,this._newPos),this.fire("drag",v)},_onUp:function(v){v._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var v in sr(document.body,"leaflet-dragging"),this._lastTarget&&(sr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dd)Fr(document,dd[v],this._onMove,this),Fr(document,Ii[v],this._onUp,this);il(),_i(),this._moved&&this._moving&&(Tt(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ec._dragging=!1}});function Dr(v,T){if(!T||!v.length)return v.slice();var B=T*T;return function Zc(v,T){var B=v.length,Vt=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(B);Vt[0]=Vt[B-1]=1,Rd(v,Vt,T,0,B-1);var ve,Ye=[];for(ve=0;ve<B;ve++)Vt[ve]&&Ye.push(v[ve]);return Ye}(v=function vf(v,T){for(var B=[v[0]],pt=1,Vt=0,ve=v.length;pt<ve;pt++)nn(v[pt],v[Vt])>T&&(B.push(v[pt]),Vt=pt);return Vt<ve-1&&B.push(v[ve-1]),B}(v,B),B)}function xl(v,T,B){return Math.sqrt(Yc(v,T,B,!0))}function Rd(v,T,B,pt,Vt){var Ye,vn,bn,ve=0;for(vn=pt+1;vn<=Vt-1;vn++)(bn=Yc(v[vn],v[pt],v[Vt],!0))>ve&&(Ye=vn,ve=bn);ve>B&&(T[Ye]=1,Rd(v,T,B,pt,Ye),Rd(v,T,B,Ye,Vt))}function dl(v,T,B,pt,Vt){var vn,bn,jn,ve=pt?So:Cs(v,B),Ye=Cs(T,B);for(So=Ye;;){if(!(ve|Ye))return[v,T];if(ve&Ye)return!1;jn=Cs(bn=go(v,T,vn=ve||Ye,B,Vt),B),vn===ve?(v=bn,ve=jn):(T=bn,Ye=jn)}}function go(v,T,B,pt,Vt){var jn,hi,ve=T.x-v.x,Ye=T.y-v.y,vn=pt.min,bn=pt.max;return 8&B?(jn=v.x+ve*(bn.y-v.y)/Ye,hi=bn.y):4&B?(jn=v.x+ve*(vn.y-v.y)/Ye,hi=vn.y):2&B?(jn=bn.x,hi=v.y+Ye*(bn.x-v.x)/ve):1&B&&(jn=vn.x,hi=v.y+Ye*(vn.x-v.x)/ve),new vt(jn,hi,Vt)}function Cs(v,T){var B=0;return v.x<T.min.x?B|=1:v.x>T.max.x&&(B|=2),v.y<T.min.y?B|=4:v.y>T.max.y&&(B|=8),B}function nn(v,T){var B=T.x-v.x,pt=T.y-v.y;return B*B+pt*pt}function Yc(v,T,B,pt){var jn,Vt=T.x,ve=T.y,Ye=B.x-Vt,vn=B.y-ve,bn=Ye*Ye+vn*vn;return bn>0&&((jn=((v.x-Vt)*Ye+(v.y-ve)*vn)/bn)>1?(Vt=B.x,ve=B.y):jn>0&&(Vt+=Ye*jn,ve+=vn*jn)),Ye=v.x-Vt,vn=v.y-ve,pt?Ye*Ye+vn*vn:new vt(Vt,ve)}function Vn(v){return!W(v[0])||"object"!=typeof v[0][0]&&typeof v[0][0]<"u"}function xc(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(v)}var Wo={simplify:Dr,pointToSegmentDistance:xl,closestPointOnSegment:function nc(v,T,B){return Yc(v,T,B)},clipSegment:dl,_getEdgeIntersection:go,_getBitCode:Cs,_sqClosestPointOnSegment:Yc,isFlat:Vn,_flat:xc};function ic(v,T,B){var pt,ve,Ye,vn,bn,jn,hi,hr,No,Vt=[1,4,2,8];for(ve=0,hi=v.length;ve<hi;ve++)v[ve]._code=Cs(v[ve],T);for(vn=0;vn<4;vn++){for(hr=Vt[vn],pt=[],ve=0,Ye=(hi=v.length)-1;ve<hi;Ye=ve++)jn=v[Ye],(bn=v[ve])._code&hr?jn._code&hr||((No=go(jn,bn,hr,T,B))._code=Cs(No,T),pt.push(No)):(jn._code&hr&&((No=go(jn,bn,hr,T,B))._code=Cs(No,T),pt.push(No)),pt.push(bn));v=pt}return v}var Us={clipPolygon:ic},wl={project:function(v){return new vt(v.lng,v.lat)},unproject:function(v){return new qt(v.y,v.x)},bounds:new Zt([-180,-90],[180,90])},Uu={R:6378137,R_MINOR:6356752.314245179,bounds:new Zt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(v){var T=Math.PI/180,B=this.R,pt=v.lat*T,Vt=this.R_MINOR/B,ve=Math.sqrt(1-Vt*Vt),Ye=ve*Math.sin(pt),vn=Math.tan(Math.PI/4-pt/2)/Math.pow((1-Ye)/(1+Ye),ve/2);return pt=-B*Math.log(Math.max(vn,1e-10)),new vt(v.lng*T*B,pt)},unproject:function(v){for(var jn,T=180/Math.PI,B=this.R,pt=this.R_MINOR/B,Vt=Math.sqrt(1-pt*pt),ve=Math.exp(-v.y/B),Ye=Math.PI/2-2*Math.atan(ve),vn=0,bn=.1;vn<15&&Math.abs(bn)>1e-7;vn++)jn=Vt*Math.sin(Ye),jn=Math.pow((1-jn)/(1+jn),Vt/2),Ye+=bn=Math.PI/2-2*Math.atan(ve*jn)-Ye;return new qt(Ye*T,v.x*T/B)}},Gs={LonLat:wl,Mercator:Uu,SphericalMercator:Me},Yr=J({},Le,{code:"EPSG:3395",projection:Uu,transformation:function(){var v=.5/(Math.PI*Uu.R);return Dt(v,.5,-v,.5)}()}),vs=J({},Le,{code:"EPSG:4326",projection:wl,transformation:Dt(1/180,1,-1/180,.5)}),ol=J({},Ne,{projection:wl,transformation:Dt(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,T){var B=T.lng-v.lng,pt=T.lat-v.lat;return Math.sqrt(B*B+pt*pt)},infinite:!0});Ne.Earth=Le,Ne.EPSG3395=Yr,Ne.EPSG3857=Ht,Ne.EPSG900913=jt,Ne.EPSG4326=vs,Ne.Simple=ol;var wr=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[O(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[O(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var T=v.target;if(T.hasLayer(this)){if(this._map=T,this._zoomAnimated=T._zoomAnimated,this.getEvents){var B=this.getEvents();T.on(B,this),this.once("remove",function(){T.off(B,this)},this)}this.onAdd(T),this.getAttribution&&T.attributionControl&&T.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),T.fire("layeradd",{layer:this})}}});Or.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var T=O(v);return this._layers[T]||(this._layers[T]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v)),this},removeLayer:function(v){var T=O(v);return this._layers[T]?(this._loaded&&v.onRemove(this),v.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(v.getAttribution()),delete this._layers[T],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return!!v&&O(v)in this._layers},eachLayer:function(v,T){for(var B in this._layers)v.call(T,this._layers[B]);return this},_addLayers:function(v){for(var T=0,B=(v=v?W(v)?v:[v]:[]).length;T<B;T++)this.addLayer(v[T])},_addZoomLimit:function(v){(isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[O(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var T=O(v);this._zoomBoundLayers[T]&&(delete this._zoomBoundLayers[T],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,T=-1/0,B=this._getZoomSpan();for(var pt in this._zoomBoundLayers){var Vt=this._zoomBoundLayers[pt].options;v=void 0===Vt.minZoom?v:Math.min(v,Vt.minZoom),T=void 0===Vt.maxZoom?T:Math.max(T,Vt.maxZoom)}this._layersMaxZoom=T===-1/0?void 0:T,this._layersMinZoom=v===1/0?void 0:v,B!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ds=wr.extend({initialize:function(v,T){var B,pt;if(U(this,T),this._layers={},v)for(B=0,pt=v.length;B<pt;B++)this.addLayer(v[B])},addLayer:function(v){var T=this.getLayerId(v);return this._layers[T]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var T=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[T]&&this._map.removeLayer(this._layers[T]),delete this._layers[T],this},hasLayer:function(v){return!!v&&("number"==typeof v?v:this.getLayerId(v))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var B,pt,T=Array.prototype.slice.call(arguments,1);for(B in this._layers)(pt=this._layers[B])[v]&&pt[v].apply(pt,T);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,T){for(var B in this._layers)v.call(T,this._layers[B]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return O(v)}}),Xc=ds.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),ds.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),ds.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new Ee;for(var T in this._layers){var B=this._layers[T];v.extend(B.getBounds?B.getBounds():B.getLatLng())}return v}}),Os=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(v){U(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,T){var B=this._getIconUrl(v);if(!B){if("icon"===v)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var pt=this._createImg(B,T&&"IMG"===T.tagName?T:null);return this._setIconStyles(pt,v),pt},_setIconStyles:function(v,T){var B=this.options,pt=B[T+"Size"];"number"==typeof pt&&(pt=[pt,pt]);var Vt=_t(pt),ve=_t("shadow"===T&&B.shadowAnchor||B.iconAnchor||Vt&&Vt.divideBy(2,!0));v.className="leaflet-marker-"+T+" "+(B.className||""),ve&&(v.style.marginLeft=-ve.x+"px",v.style.marginTop=-ve.y+"px"),Vt&&(v.style.width=Vt.x+"px",v.style.height=Vt.y+"px")},_createImg:function(v,T){return(T=T||document.createElement("img")).src=v,T},_getIconUrl:function(v){return Bt&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});var ns=Os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return ns.imagePath||(ns.imagePath=this._detectIconPath()),(this.options.imagePath||ns.imagePath)+Os.prototype._getIconUrl.call(this,v)},_detectIconPath:function(){var v=Qi("div","leaflet-default-icon-path",document.body),T=cs(v,"background-image")||cs(v,"backgroundImage");return document.body.removeChild(v),null===T||0!==T.indexOf("url")?"":T.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ci=Jo.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new ec(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yi(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var T=this._marker,B=T._map,pt=this._marker.options.autoPanSpeed,Vt=this._marker.options.autoPanPadding,ve=wn(T._icon),Ye=B.getPixelBounds(),vn=B.getPixelOrigin(),bn=Ft(Ye.min._subtract(vn).add(Vt),Ye.max._subtract(vn).subtract(Vt));if(!bn.contains(ve)){var jn=_t((Math.max(bn.max.x,ve.x)-bn.max.x)/(Ye.max.x-bn.max.x)-(Math.min(bn.min.x,ve.x)-bn.min.x)/(Ye.min.x-bn.min.x),(Math.max(bn.max.y,ve.y)-bn.max.y)/(Ye.max.y-bn.max.y)-(Math.min(bn.min.y,ve.y)-bn.min.y)/(Ye.min.y-bn.min.y)).multiplyBy(pt);B.panBy(jn,{animate:!1}),this._draggable._newPos._add(jn),this._draggable._startPos._add(jn),Ze(T._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=Pt(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Pt(this._adjustPan.bind(this,v)))},_onDrag:function(v){var T=this._marker,B=T._shadow,pt=wn(T._icon),Vt=T._map.layerPointToLatLng(pt);B&&Ze(B,pt),T._latlng=Vt,v.latlng=Vt,v.oldLatLng=this._oldLatLng,T.fire("move",v).fire("drag",v)},_onDragEnd:function(v){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),Cl=wr.extend({options:{icon:new ns,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,T){U(this,T),this._latlng=pe(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var T=this._latlng;return this._latlng=pe(v),this.update(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,T="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),B=v.icon.createIcon(this._icon),pt=!1;B!==this._icon&&(this._icon&&this._removeIcon(),pt=!0,v.title&&(B.title=v.title),"IMG"===B.tagName&&(B.alt=v.alt||"")),Yi(B,T),v.keyboard&&(B.tabIndex="0"),this._icon=B,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var Vt=v.icon.createShadow(this._shadow),ve=!1;Vt!==this._shadow&&(this._removeShadow(),ve=!0),Vt&&(Yi(Vt,T),Vt.alt=""),this._shadow=Vt,v.opacity<1&&this._updateOpacity(),pt&&this.getPane().appendChild(this._icon),this._initInteraction(),Vt&&ve&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),po(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&po(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&Ze(this._icon,v),this._shadow&&Ze(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(T)},_initInteraction:function(){if(this.options.interactive&&(Yi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ci)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ci(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&oe(this._icon,v),this._shadow&&oe(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Sl=wr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return U(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ai=Sl.extend({options:{fill:!0,radius:10},initialize:function(v,T){U(this,T),this._latlng=pe(v),this._radius=this.options.radius},setLatLng:function(v){var T=this._latlng;return this._latlng=pe(v),this.redraw(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var T=v&&v.radius||this._radius;return Sl.prototype.setStyle.call(this,v),this.setRadius(T),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,T=this._radiusY||v,B=this._clickTolerance(),pt=[v+B,T+B];this._pxBounds=new Zt(this._point.subtract(pt),this._point.add(pt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Gu=ai.extend({initialize:function(v,T,B){if("number"==typeof T&&(T=J({},B,{radius:T})),U(this,T),this._latlng=pe(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:Sl.prototype.setStyle,_project:function(){var v=this._latlng.lng,T=this._latlng.lat,B=this._map,pt=B.options.crs;if(pt.distance===Le.distance){var Vt=Math.PI/180,ve=this._mRadius/Le.R/Vt,Ye=B.project([T+ve,v]),vn=B.project([T-ve,v]),bn=Ye.add(vn).divideBy(2),jn=B.unproject(bn).lat,hi=Math.acos((Math.cos(ve*Vt)-Math.sin(T*Vt)*Math.sin(jn*Vt))/(Math.cos(T*Vt)*Math.cos(jn*Vt)))/Vt;(isNaN(hi)||0===hi)&&(hi=ve/Math.cos(Math.PI/180*T)),this._point=bn.subtract(B.getPixelOrigin()),this._radius=isNaN(hi)?0:bn.x-B.project([jn,v-hi]).x,this._radiusY=bn.y-Ye.y}else{var hr=pt.unproject(pt.project(this._latlng).subtract([this._mRadius,0]));this._point=B.latLngToLayerPoint(this._latlng),this._radius=this._point.x-B.latLngToLayerPoint(hr).x}this._updateBounds()}});var Jr=Sl.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,T){U(this,T),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var Vt,ve,T=1/0,B=null,pt=Yc,Ye=0,vn=this._parts.length;Ye<vn;Ye++)for(var bn=this._parts[Ye],jn=1,hi=bn.length;jn<hi;jn++){var hr=pt(v,Vt=bn[jn-1],ve=bn[jn],!0);hr<T&&(T=hr,B=pt(v,Vt,ve))}return B&&(B.distance=Math.sqrt(T)),B},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var v,T,B,pt,Vt,ve,Ye,vn=this._rings[0],bn=vn.length;if(!bn)return null;for(v=0,T=0;v<bn-1;v++)T+=vn[v].distanceTo(vn[v+1])/2;if(0===T)return this._map.layerPointToLatLng(vn[0]);for(v=0,pt=0;v<bn-1;v++)if((pt+=B=(Vt=vn[v]).distanceTo(ve=vn[v+1]))>T)return this._map.layerPointToLatLng([ve.x-(Ye=(pt-T)/B)*(ve.x-Vt.x),ve.y-Ye*(ve.y-Vt.y)])},getBounds:function(){return this._bounds},addLatLng:function(v,T){return T=T||this._defaultShape(),v=pe(v),T.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new Ee,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var T=[],B=Vn(v),pt=0,Vt=v.length;pt<Vt;pt++)B?(T[pt]=pe(v[pt]),this._bounds.extend(T[pt])):T[pt]=this._convertLatLngs(v[pt]);return T},_project:function(){var v=new Zt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),T=new vt(v,v);this._pxBounds=new Zt([this._rawPxBounds.min.subtract(T),this._rawPxBounds.max.add(T)])},_projectLatlngs:function(v,T,B){var ve,Ye,Vt=v.length;if(v[0]instanceof qt){for(Ye=[],ve=0;ve<Vt;ve++)Ye[ve]=this._map.latLngToLayerPoint(v[ve]),B.extend(Ye[ve]);T.push(Ye)}else for(ve=0;ve<Vt;ve++)this._projectLatlngs(v[ve],T,B)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(v)){if(this.options.noClip)return void(this._parts=this._rings);var B,pt,Vt,ve,Ye,vn,bn,T=this._parts;for(B=0,Vt=0,ve=this._rings.length;B<ve;B++)for(pt=0,Ye=(bn=this._rings[B]).length;pt<Ye-1;pt++)(vn=dl(bn[pt],bn[pt+1],v,pt,!0))&&(T[Vt]=T[Vt]||[],T[Vt].push(vn[0]),(vn[1]!==bn[pt+1]||pt===Ye-2)&&(T[Vt].push(vn[1]),Vt++))}},_simplifyPoints:function(){for(var v=this._parts,T=this.options.smoothFactor,B=0,pt=v.length;B<pt;B++)v[B]=Dr(v[B],T)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,T){var B,pt,Vt,ve,Ye,vn,bn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(B=0,ve=this._parts.length;B<ve;B++)for(pt=0,Vt=(Ye=(vn=this._parts[B]).length)-1;pt<Ye;Vt=pt++)if((T||0!==pt)&&xl(v,vn[Vt],vn[pt])<=bn)return!0;return!1}});Jr._flat=xc;var Oo=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var v,T,B,pt,Vt,ve,Ye,vn,jn=this._rings[0],hi=jn.length;if(!hi)return null;for(ve=Ye=vn=0,v=0,T=hi-1;v<hi;T=v++)Ye+=((B=jn[v]).x+(pt=jn[T]).x)*(Vt=B.y*pt.x-pt.y*B.x),vn+=(B.y+pt.y)*Vt,ve+=3*Vt;return this._map.layerPointToLatLng(0===ve?jn[0]:[Ye/ve,vn/ve])},_convertLatLngs:function(v){var T=Jr.prototype._convertLatLngs.call(this,v),B=T.length;return B>=2&&T[0]instanceof qt&&T[0].equals(T[B-1])&&T.pop(),T},_setLatLngs:function(v){Jr.prototype._setLatLngs.call(this,v),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,T=this.options.weight,B=new vt(T,T);if(v=new Zt(v.min.subtract(B),v.max.add(B)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(v)){if(this.options.noClip)return void(this._parts=this._rings);for(var ve,pt=0,Vt=this._rings.length;pt<Vt;pt++)(ve=ic(this._rings[pt],v,!0)).length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var B,pt,Vt,ve,Ye,vn,bn,jn,T=!1;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(ve=0,bn=this._parts.length;ve<bn;ve++)for(Ye=0,vn=(jn=(B=this._parts[ve]).length)-1;Ye<jn;vn=Ye++)(pt=B[Ye]).y>v.y!=(Vt=B[vn]).y>v.y&&v.x<(Vt.x-pt.x)*(v.y-pt.y)/(Vt.y-pt.y)+pt.x&&(T=!T);return T||Jr.prototype._containsPoint.call(this,v,!0)}});var ta=Xc.extend({initialize:function(v,T){U(this,T),this._layers={},v&&this.addData(v)},addData:function(v){var B,pt,Vt,T=W(v)?v:v.features;if(T){for(B=0,pt=T.length;B<pt;B++)((Vt=T[B]).geometries||Vt.geometry||Vt.features||Vt.coordinates)&&this.addData(Vt);return this}var ve=this.options;if(ve.filter&&!ve.filter(v))return this;var Ye=al(v,ve);return Ye?(Ye.feature=he(v),Ye.defaultOptions=Ye.options,this.resetStyle(Ye),ve.onEachFeature&&ve.onEachFeature(v,Ye),this.addLayer(Ye)):this},resetStyle:function(v){return void 0===v?this.eachLayer(this.resetStyle,this):(v.options=J({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(T){this._setLayerStyle(T,v)},this)},_setLayerStyle:function(v,T){v.setStyle&&("function"==typeof T&&(T=T(v.feature)),v.setStyle(T))}});function al(v,T){var vn,bn,jn,hi,B="Feature"===v.type?v.geometry:v,pt=B?B.coordinates:null,Vt=[],ve=T&&T.pointToLayer,Ye=T&&T.coordsToLatLng||au;if(!pt&&!B)return null;switch(B.type){case"Point":return ou(ve,v,vn=Ye(pt),T);case"MultiPoint":for(jn=0,hi=pt.length;jn<hi;jn++)vn=Ye(pt[jn]),Vt.push(ou(ve,v,vn,T));return new Xc(Vt);case"LineString":case"MultiLineString":return bn=Cu(pt,"LineString"===B.type?0:1,Ye),new Jr(bn,T);case"Polygon":case"MultiPolygon":return bn=Cu(pt,"Polygon"===B.type?1:2,Ye),new Oo(bn,T);case"GeometryCollection":for(jn=0,hi=B.geometries.length;jn<hi;jn++){var hr=al({geometry:B.geometries[jn],type:"Feature",properties:v.properties},T);hr&&Vt.push(hr)}return new Xc(Vt);default:throw new Error("Invalid GeoJSON object.")}}function ou(v,T,B,pt){return v?v(T,B):new Cl(B,pt&&pt.markersInheritOptions&&pt)}function au(v){return new qt(v[1],v[0],v[2])}function Cu(v,T,B){for(var Ye,pt=[],Vt=0,ve=v.length;Vt<ve;Vt++)Ye=T?Cu(v[Vt],T-1,B):(B||au)(v[Vt]),pt.push(Ye);return pt}function Rl(v,T){return T="number"==typeof T?T:6,void 0!==v.alt?[ot(v.lng,T),ot(v.lat,T),ot(v.alt,T)]:[ot(v.lng,T),ot(v.lat,T)]}function fi(v,T,B,pt){for(var Vt=[],ve=0,Ye=v.length;ve<Ye;ve++)Vt.push(T?fi(v[ve],T-1,B,pt):Rl(v[ve],pt));return!T&&B&&Vt.push(Vt[0]),Vt}function dr(v,T){return v.feature?J({},v.feature,{geometry:T}):he(T)}function he(v){return"Feature"===v.type||"FeatureCollection"===v.type?v:{type:"Feature",properties:{},geometry:v}}var Ss={toGeoJSON:function(v){return dr(this,{type:"Point",coordinates:Rl(this.getLatLng(),v)})}};function Ja(v,T){return new ta(v,T)}Cl.include(Ss),Gu.include(Ss),ai.include(Ss),Jr.include({toGeoJSON:function(v){var T=!Vn(this._latlngs);return dr(this,{type:(T?"Multi":"")+"LineString",coordinates:fi(this._latlngs,T?1:0,!1,v)})}}),Oo.include({toGeoJSON:function(v){var T=!Vn(this._latlngs),B=T&&!Vn(this._latlngs[0]),pt=fi(this._latlngs,B?2:T?1:0,!0,v);return T||(pt=[pt]),dr(this,{type:(B?"Multi":"")+"Polygon",coordinates:pt})}}),ds.include({toMultiPoint:function(v){var T=[];return this.eachLayer(function(B){T.push(B.toGeoJSON(v).geometry.coordinates)}),dr(this,{type:"MultiPoint",coordinates:T})},toGeoJSON:function(v){var T=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===T)return this.toMultiPoint(v);var B="GeometryCollection"===T,pt=[];return this.eachLayer(function(Vt){if(Vt.toGeoJSON){var ve=Vt.toGeoJSON(v);if(B)pt.push(ve.geometry);else{var Ye=he(ve);"FeatureCollection"===Ye.type?pt.push.apply(pt,Ye.features):pt.push(Ye)}}}),B?dr(this,{geometries:pt,type:"GeometryCollection"}):{type:"FeatureCollection",features:pt}}});var Po=Ja,Ar=wr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,T,B){this._url=v,this._bounds=Wt(T),U(this,B)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){po(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&as(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=Wt(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v="IMG"===this._url.tagName,T=this._image=v?this._url:Qi("img");Yi(T,"leaflet-image-layer"),this._zoomAnimated&&Yi(T,"leaflet-zoom-animated"),this.options.className&&Yi(T,this.options.className),T.onselectstart=ct,T.onmousemove=ct,T.onload=Z(this.fire,this,"load"),T.onerror=Z(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(T.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v?this._url=T.src:(T.src=this._url,T.alt=this.options.alt)},_animateZoom:function(v){var T=this._map.getZoomScale(v.zoom),B=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;tn(this._image,B,T)},_reset:function(){var v=this._image,T=new Zt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),B=T.getSize();Ze(v,T.min),v.style.width=B.x+"px",v.style.height=B.y+"px"},_updateOpacity:function(){oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)}}),sl=Ar.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var v="VIDEO"===this._url.tagName,T=this._image=v?this._url:Qi("video");if(Yi(T,"leaflet-image-layer"),this._zoomAnimated&&Yi(T,"leaflet-zoom-animated"),this.options.className&&Yi(T,this.options.className),T.onselectstart=ct,T.onmousemove=ct,T.onloadeddata=Z(this.fire,this,"load"),v){for(var B=T.getElementsByTagName("source"),pt=[],Vt=0;Vt<B.length;Vt++)pt.push(B[Vt].src);this._url=B.length>0?pt:[T.src]}else{W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(T.style,"objectFit")&&(T.style.objectFit="fill"),T.autoplay=!!this.options.autoplay,T.loop=!!this.options.loop,T.muted=!!this.options.muted;for(var ve=0;ve<this._url.length;ve++){var Ye=Qi("source");Ye.src=this._url[ve],T.appendChild(Ye)}}}});var mr=Ar.extend({_initImage:function(){var v=this._image=this._url;Yi(v,"leaflet-image-layer"),this._zoomAnimated&&Yi(v,"leaflet-zoom-animated"),this.options.className&&Yi(v,this.options.className),v.onselectstart=ct,v.onmousemove=ct}});var ss=wr.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(v,T){U(this,v),this._source=T},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&oe(this._container,1),this.bringToFront()},onRemove:function(v){v._fadeAnimated?(oe(this._container,0),this._removeTimeout=setTimeout(Z(po,void 0,this._container),200)):po(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=pe(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&as(this._container),this},_prepareOpen:function(v,T,B){if(T instanceof wr||(B=T,T=v),T instanceof Xc)for(var pt in v._layers){T=v._layers[pt];break}if(!B)if(T.getCenter)B=T.getCenter();else{if(!T.getLatLng)throw new Error("Unable to get source layer LatLng.");B=T.getLatLng()}return this._source=T,this.update(),B},_updateContent:function(){if(this._content){var v=this._contentNode,T="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof T)v.innerHTML=T;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(T)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),T=_t(this.options.offset),B=this._getAnchor();this._zoomAnimated?Ze(this._container,v.add(B)):T=T.add(v).add(B);var pt=this._containerBottom=-T.y,Vt=this._containerLeft=-Math.round(this._containerWidth/2)+T.x;this._container.style.bottom=pt+"px",this._container.style.left=Vt+"px"}},_getAnchor:function(){return[0,0]}}),Xa=ss.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v.openPopup(this),this},onAdd:function(v){ss.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sl||this._source.on("preclick",To))},onRemove:function(v){ss.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sl||this._source.off("preclick",To))},getEvents:function(){var v=ss.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this._close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var v="leaflet-popup",T=this._container=Qi("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),B=this._wrapper=Qi("div",v+"-content-wrapper",T);if(this._contentNode=Qi("div",v+"-content",B),ks(T),Bu(this._contentNode),oi(T,"contextmenu",To),this._tipContainer=Qi("div",v+"-tip-container",T),this._tip=Qi("div",v+"-tip",this._tipContainer),this.options.closeButton){var pt=this._closeButton=Qi("a",v+"-close-button",T);pt.href="#close",pt.innerHTML="&#215;",oi(pt,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var v=this._contentNode,T=v.style;T.width="",T.whiteSpace="nowrap";var B=v.offsetWidth;B=Math.min(B,this.options.maxWidth),B=Math.max(B,this.options.minWidth),T.width=B+1+"px",T.whiteSpace="",T.height="";var Vt=this.options.maxHeight,ve="leaflet-popup-scrolled";Vt&&v.offsetHeight>Vt?(T.height=Vt+"px",Yi(v,ve)):sr(v,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),B=this._getAnchor();Ze(this._container,T.add(B))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var v=this._map,T=parseInt(cs(this._container,"marginBottom"),10)||0,B=this._container.offsetHeight+T,pt=this._containerWidth,Vt=new vt(this._containerLeft,-B-this._containerBottom);Vt._add(wn(this._container));var ve=v.layerPointToContainerPoint(Vt),Ye=_t(this.options.autoPanPadding),vn=_t(this.options.autoPanPaddingTopLeft||Ye),bn=_t(this.options.autoPanPaddingBottomRight||Ye),jn=v.getSize(),hi=0,hr=0;ve.x+pt+bn.x>jn.x&&(hi=ve.x+pt-jn.x+bn.x),ve.x-hi-vn.x<0&&(hi=ve.x-vn.x),ve.y+B+bn.y>jn.y&&(hr=ve.y+B-jn.y+bn.y),ve.y-hr-vn.y<0&&(hr=ve.y-vn.y),(hi||hr)&&v.fire("autopanstart").panBy([hi,hr])}},_onCloseButtonClick:function(v){this._close(),ul(v)},_getAnchor:function(){return _t(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Or.mergeOptions({closePopupOnClick:!0}),Or.include({openPopup:function(v,T,B){return v instanceof Xa||(v=new Xa(B).setContent(v)),T&&v.setLatLng(T),this.hasLayer(v)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=v,this.addLayer(v))},closePopup:function(v){return(!v||v===this._popup)&&(v=this._popup,this._popup=null),v&&this.removeLayer(v),this}}),wr.include({bindPopup:function(v,T){return v instanceof Xa?(U(v,T),this._popup=v,v._source=this):((!this._popup||T)&&(this._popup=new Xa(T,this)),this._popup.setContent(v)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v,T){return this._popup&&this._map&&(T=this._popup._prepareOpen(this,v,T),this._map.openPopup(this._popup,T)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(v){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(v)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){var T=v.layer||v.target;if(this._popup&&this._map){if(ul(v),T instanceof Sl)return void this.openPopup(v.layer||v.target,v.latlng);this._map.hasLayer(this._popup)&&this._popup._source===T?this.closePopup():this.openPopup(T,v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){13===v.originalEvent.keyCode&&this._openPopup(v)}});var ts=ss.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(v){ss.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(v){ss.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var v=ss.prototype.getEvents.call(this);return _n&&!this.options.permanent&&(v.preclick=this._close),v},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Qi("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var T,B,pt=this._map,Vt=this._container,ve=pt.latLngToContainerPoint(pt.getCenter()),Ye=pt.layerPointToContainerPoint(v),vn=this.options.direction,bn=Vt.offsetWidth,jn=Vt.offsetHeight,hi=_t(this.options.offset),hr=this._getAnchor();"top"===vn?(T=bn/2,B=jn):"bottom"===vn?(T=bn/2,B=0):"center"===vn?(T=bn/2,B=jn/2):"right"===vn?(T=0,B=jn/2):"left"===vn?(T=bn,B=jn/2):Ye.x<ve.x?(vn="right",T=0,B=jn/2):(vn="left",T=bn+2*(hi.x+hr.x),B=jn/2),v=v.subtract(_t(T,B,!0)).add(hi).add(hr),sr(Vt,"leaflet-tooltip-right"),sr(Vt,"leaflet-tooltip-left"),sr(Vt,"leaflet-tooltip-top"),sr(Vt,"leaflet-tooltip-bottom"),Yi(Vt,"leaflet-tooltip-"+vn),Ze(Vt,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&oe(this._container,v)},_animateZoom:function(v){var T=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(T)},_getAnchor:function(){return _t(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Or.include({openTooltip:function(v,T,B){return v instanceof ts||(v=new ts(B).setContent(v)),T&&v.setLatLng(T),this.hasLayer(v)?this:this.addLayer(v)},closeTooltip:function(v){return v&&this.removeLayer(v),this}}),wr.include({bindTooltip:function(v,T){return v instanceof ts?(U(v,T),this._tooltip=v,v._source=this):((!this._tooltip||T)&&(this._tooltip=new ts(T,this)),this._tooltip.setContent(v)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(v||!this._tooltipHandlersAdded){var T=v?"off":"on",B={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?B.add=this._openTooltip:(B.mouseover=this._openTooltip,B.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(B.mousemove=this._moveTooltip),_n&&(B.click=this._openTooltip)),this[T](B),this._tooltipHandlersAdded=!v}},openTooltip:function(v,T){return this._tooltip&&this._map&&(T=this._tooltip._prepareOpen(this,v,T),this._map.openTooltip(this._tooltip,T),this._tooltip.options.interactive&&this._tooltip._container&&(Yi(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(sr(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(v){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(v)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_openTooltip:function(v){!this._tooltip||!this._map||this.openTooltip(v.layer||v.target,this._tooltip.options.sticky?v.latlng:void 0)},_moveTooltip:function(v){var B,pt,T=v.latlng;this._tooltip.options.sticky&&v.originalEvent&&(B=this._map.mouseEventToContainerPoint(v.originalEvent),pt=this._map.containerPointToLayerPoint(B),T=this._map.layerPointToLatLng(pt)),this._tooltip.setLatLng(T)}});var na=Os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var T=v&&"DIV"===v.tagName?v:document.createElement("div"),B=this.options;if(B.html instanceof Element?(nl(T),T.appendChild(B.html)):T.innerHTML=!1!==B.html?B.html:"",B.bgPos){var pt=_t(B.bgPos);T.style.backgroundPosition=-pt.x+"px "+-pt.y+"px"}return this._setIconStyles(T,"icon"),T},createShadow:function(){return null}});Os.Default=ns;var Qs=wr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){U(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),po(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof vt?v:new vt(v,v)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var ve,T=this.getPane().children,B=-v(-1/0,1/0),pt=0,Vt=T.length;pt<Vt;pt++)ve=T[pt].style.zIndex,T[pt]!==this._container&&ve&&(B=v(B,+ve));isFinite(B)&&(this.options.zIndex=B+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!S){oe(this._container,this.options.opacity);var v=+new Date,T=!1,B=!1;for(var pt in this._tiles){var Vt=this._tiles[pt];if(Vt.current&&Vt.loaded){var ve=Math.min(1,(v-Vt.loaded)/200);oe(Vt.el,ve),ve<1?T=!0:(Vt.active?B=!0:this._onOpaqueTile(Vt),Vt.active=!0)}}B&&!this._noPrune&&this._pruneTiles(),T&&(Tt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this))}},_onOpaqueTile:ct,_initContainer:function(){this._container||(this._container=Qi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,T=this.options.maxZoom;if(void 0!==v){for(var B in this._levels)B=Number(B),this._levels[B].el.children.length||B===v?(this._levels[B].el.style.zIndex=T-Math.abs(v-B),this._onUpdateLevel(B)):(po(this._levels[B].el),this._removeTilesAtZoom(B),this._onRemoveLevel(B),delete this._levels[B]);var pt=this._levels[v],Vt=this._map;return pt||((pt=this._levels[v]={}).el=Qi("div","leaflet-tile-container leaflet-zoom-animated",this._container),pt.el.style.zIndex=T,pt.origin=Vt.project(Vt.unproject(Vt.getPixelOrigin()),v).round(),pt.zoom=v,this._setZoomTransform(pt,Vt.getCenter(),Vt.getZoom()),this._onCreateLevel(pt)),this._level=pt,pt}},_onUpdateLevel:ct,_onRemoveLevel:ct,_onCreateLevel:ct,_pruneTiles:function(){if(this._map){var v,T,B=this._map.getZoom();if(B>this.options.maxZoom||B<this.options.minZoom)return void this._removeAllTiles();for(v in this._tiles)(T=this._tiles[v]).retain=T.current;for(v in this._tiles)if((T=this._tiles[v]).current&&!T.active){var pt=T.coords;this._retainParent(pt.x,pt.y,pt.z,pt.z-5)||this._retainChildren(pt.x,pt.y,pt.z,pt.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var T in this._tiles)this._tiles[T].coords.z===v&&this._removeTile(T)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)po(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,T,B,pt){var Vt=Math.floor(v/2),ve=Math.floor(T/2),Ye=B-1,vn=new vt(+Vt,+ve);vn.z=+Ye;var bn=this._tileCoordsToKey(vn),jn=this._tiles[bn];return jn&&jn.active?(jn.retain=!0,!0):(jn&&jn.loaded&&(jn.retain=!0),Ye>pt&&this._retainParent(Vt,ve,Ye,pt))},_retainChildren:function(v,T,B,pt){for(var Vt=2*v;Vt<2*v+2;Vt++)for(var ve=2*T;ve<2*T+2;ve++){var Ye=new vt(Vt,ve);Ye.z=B+1;var vn=this._tileCoordsToKey(Ye),bn=this._tiles[vn];bn&&bn.active?bn.retain=!0:(bn&&bn.loaded&&(bn.retain=!0),B+1<pt&&this._retainChildren(Vt,ve,B+1,pt))}},_resetView:function(v){var T=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),T,T)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var T=this.options;return void 0!==T.minNativeZoom&&v<T.minNativeZoom?T.minNativeZoom:void 0!==T.maxNativeZoom&&T.maxNativeZoom<v?T.maxNativeZoom:v},_setView:function(v,T,B,pt){var Vt=Math.round(T);Vt=void 0!==this.options.maxZoom&&Vt>this.options.maxZoom||void 0!==this.options.minZoom&&Vt<this.options.minZoom?void 0:this._clampZoom(Vt),(!pt||this.options.updateWhenZooming&&Vt!==this._tileZoom)&&(this._tileZoom=Vt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Vt&&this._update(v),B||this._pruneTiles(),this._noPrune=!!B),this._setZoomTransforms(v,T)},_setZoomTransforms:function(v,T){for(var B in this._levels)this._setZoomTransform(this._levels[B],v,T)},_setZoomTransform:function(v,T,B){var pt=this._map.getZoomScale(B,v.zoom),Vt=v.origin.multiplyBy(pt).subtract(this._map._getNewPixelOrigin(T,B)).round();Pe?tn(v.el,Vt,pt):Ze(v.el,Vt)},_resetGrid:function(){var v=this._map,T=v.options.crs,B=this._tileSize=this.getTileSize(),pt=this._tileZoom,Vt=this._map.getPixelWorldBounds(this._tileZoom);Vt&&(this._globalTileRange=this._pxBoundsToTileRange(Vt)),this._wrapX=T.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,T.wrapLng[0]],pt).x/B.x),Math.ceil(v.project([0,T.wrapLng[1]],pt).x/B.y)],this._wrapY=T.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([T.wrapLat[0],0],pt).y/B.x),Math.ceil(v.project([T.wrapLat[1],0],pt).y/B.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var T=this._map,B=T._animatingZoom?Math.max(T._animateToZoom,T.getZoom()):T.getZoom(),pt=T.getZoomScale(B,this._tileZoom),Vt=T.project(v,this._tileZoom).floor(),ve=T.getSize().divideBy(2*pt);return new Zt(Vt.subtract(ve),Vt.add(ve))},_update:function(v){var T=this._map;if(T){var B=this._clampZoom(T.getZoom());if(void 0===v&&(v=T.getCenter()),void 0!==this._tileZoom){var pt=this._getTiledPixelBounds(v),Vt=this._pxBoundsToTileRange(pt),ve=Vt.getCenter(),Ye=[],vn=this.options.keepBuffer,bn=new Zt(Vt.getBottomLeft().subtract([vn,-vn]),Vt.getTopRight().add([vn,-vn]));if(!(isFinite(Vt.min.x)&&isFinite(Vt.min.y)&&isFinite(Vt.max.x)&&isFinite(Vt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var jn in this._tiles){var hi=this._tiles[jn].coords;(hi.z!==this._tileZoom||!bn.contains(new vt(hi.x,hi.y)))&&(this._tiles[jn].current=!1)}if(Math.abs(B-this._tileZoom)>1)return void this._setView(v,B);for(var hr=Vt.min.y;hr<=Vt.max.y;hr++)for(var No=Vt.min.x;No<=Vt.max.x;No++){var su=new vt(No,hr);if(su.z=this._tileZoom,this._isValidTile(su)){var Zl=this._tiles[this._tileCoordsToKey(su)];Zl?Zl.current=!0:Ye.push(su)}}if(Ye.sort(function(Yo,ke){return Yo.distanceTo(ve)-ke.distanceTo(ve)}),0!==Ye.length){this._loading||(this._loading=!0,this.fire("loading"));var ml=document.createDocumentFragment();for(No=0;No<Ye.length;No++)this._addTile(Ye[No],ml);this._level.el.appendChild(ml)}}}},_isValidTile:function(v){var T=this._map.options.crs;if(!T.infinite){var B=this._globalTileRange;if(!T.wrapLng&&(v.x<B.min.x||v.x>B.max.x)||!T.wrapLat&&(v.y<B.min.y||v.y>B.max.y))return!1}if(!this.options.bounds)return!0;var pt=this._tileCoordsToBounds(v);return Wt(this.options.bounds).overlaps(pt)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var T=this._map,B=this.getTileSize(),pt=v.scaleBy(B),Vt=pt.add(B);return[T.unproject(pt,v.z),T.unproject(Vt,v.z)]},_tileCoordsToBounds:function(v){var T=this._tileCoordsToNwSe(v),B=new Ee(T[0],T[1]);return this.options.noWrap||(B=this._map.wrapLatLngBounds(B)),B},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var T=v.split(":"),B=new vt(+T[0],+T[1]);return B.z=+T[2],B},_removeTile:function(v){var T=this._tiles[v];T&&(po(T.el),delete this._tiles[v],this.fire("tileunload",{tile:T.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){Yi(v,"leaflet-tile");var T=this.getTileSize();v.style.width=T.x+"px",v.style.height=T.y+"px",v.onselectstart=ct,v.onmousemove=ct,S&&this.options.opacity<1&&oe(v,this.options.opacity),ft&&!Mt&&(v.style.WebkitBackfaceVisibility="hidden")},_addTile:function(v,T){var B=this._getTilePos(v),pt=this._tileCoordsToKey(v),Vt=this.createTile(this._wrapCoords(v),Z(this._tileReady,this,v));this._initTile(Vt),this.createTile.length<2&&Pt(Z(this._tileReady,this,v,null,Vt)),Ze(Vt,B),this._tiles[pt]={el:Vt,coords:v,current:!0},T.appendChild(Vt),this.fire("tileloadstart",{tile:Vt,coords:v})},_tileReady:function(v,T,B){T&&this.fire("tileerror",{error:T,tile:B,coords:v});var pt=this._tileCoordsToKey(v);(B=this._tiles[pt])&&(B.loaded=+new Date,this._map._fadeAnimated?(oe(B.el,0),Tt(this._fadeFrame),this._fadeFrame=Pt(this._updateOpacity,this)):(B.active=!0,this._pruneTiles()),T||(Yi(B.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:B.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),S||!this._map._fadeAnimated?Pt(this._pruneTiles,this):setTimeout(Z(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var T=new vt(this._wrapX?at(v.x,this._wrapX):v.x,this._wrapY?at(v.y,this._wrapY):v.y);return T.z=v.z,T},_pxBoundsToTileRange:function(v){var T=this.getTileSize();return new Zt(v.min.unscaleBy(T).floor(),v.max.unscaleBy(T).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});var Hr=Qs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(v,T){this._url=v,(T=U(this,T)).detectRetina&&Bt&&T.maxZoom>0&&(T.tileSize=Math.floor(T.tileSize/2),T.zoomReverse?(T.zoomOffset--,T.minZoom++):(T.zoomOffset++,T.maxZoom--),T.minZoom=Math.max(0,T.minZoom)),"string"==typeof T.subdomains&&(T.subdomains=T.subdomains.split("")),ft||this.on("tileunload",this._onTileRemove)},setUrl:function(v,T){return this._url===v&&void 0===T&&(T=!0),this._url=v,T||this.redraw(),this},createTile:function(v,T){var B=document.createElement("img");return oi(B,"load",Z(this._tileOnLoad,this,T,B)),oi(B,"error",Z(this._tileOnError,this,T,B)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(B.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),B.alt="",B.setAttribute("role","presentation"),B.src=this.getTileUrl(v),B},getTileUrl:function(v){var T={r:Bt?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var B=this._globalTileRange.max.y-v.y;this.options.tms&&(T.y=B),T["-y"]=B}return et(this._url,J(T,this.options))},_tileOnLoad:function(v,T){S?setTimeout(Z(v,this,null,T),0):v(null,T)},_tileOnError:function(v,T,B){var pt=this.options.errorTileUrl;pt&&T.getAttribute("src")!==pt&&(T.src=pt),v(B,T)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom;return this.options.zoomReverse&&(v=this.options.maxZoom-v),v+this.options.zoomOffset},_getSubdomain:function(v){var T=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[T]},_abortLoading:function(){var v,T;for(v in this._tiles)this._tiles[v].coords.z!==this._tileZoom&&((T=this._tiles[v].el).onload=ct,T.onerror=ct,T.complete||(T.src=V,po(T),delete this._tiles[v]))},_removeTile:function(v){var T=this._tiles[v];if(T)return me||T.el.setAttribute("src",V),Qs.prototype._removeTile.call(this,v)},_tileReady:function(v,T,B){if(this._map&&(!B||B.getAttribute("src")!==V))return Qs.prototype._tileReady.call(this,v,T,B)}});function $c(v,T){return new Hr(v,T)}var Hs=Hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,T){this._url=v;var B=J({},this.defaultWmsParams);for(var pt in T)pt in this.options||(B[pt]=T[pt]);var Vt=(T=U(this,T)).detectRetina&&Bt?2:1,ve=this.getTileSize();B.width=ve.x*Vt,B.height=ve.y*Vt,this.wmsParams=B},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Hr.prototype.onAdd.call(this,v)},getTileUrl:function(v){var T=this._tileCoordsToNwSe(v),B=this._crs,pt=Ft(B.project(T[0]),B.project(T[1])),Vt=pt.min,ve=pt.max,Ye=(this._wmsVersion>=1.3&&this._crs===vs?[Vt.y,Vt.x,ve.y,ve.x]:[Vt.x,Vt.y,ve.x,ve.y]).join(","),vn=Hr.prototype.getTileUrl.call(this,v);return vn+bt(this.wmsParams,vn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ye},setParams:function(v,T){return J(this.wmsParams,v),T||this.redraw(),this}});Hr.WMS=Hs,$c.wms=function $a(v,T){return new Hs(v,T)};var ll=wr.extend({options:{padding:.1,tolerance:0},initialize:function(v){U(this,v),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Yi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,T){var B=this._map.getZoomScale(T,this._zoom),pt=wn(this._container),Vt=this._map.getSize().multiplyBy(.5+this.options.padding),ve=this._map.project(this._center,T),vn=this._map.project(v,T).subtract(ve),bn=Vt.multiplyBy(-B).add(pt).add(Vt).subtract(vn);Pe?tn(this._container,bn,B):Ze(this._container,bn)},_reset:function(){for(var v in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,T=this._map.getSize(),B=this._map.containerPointToLayerPoint(T.multiplyBy(-v)).round();this._bounds=new Zt(B,B.add(T.multiplyBy(1+2*v)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),za=ll.extend({getEvents:function(){var v=ll.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ll.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");oi(v,"mousemove",this._onMouseMove,this),oi(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oi(v,"mouseout",this._handleMouseOut,this),this._ctx=v.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,po(this._container),Fr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var T in this._redrawBounds=null,this._layers)this._layers[T]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ll.prototype._update.call(this);var v=this._bounds,T=this._container,B=v.getSize(),pt=Bt?2:1;Ze(T,v.min),T.width=pt*B.x,T.height=pt*B.y,T.style.width=B.x+"px",T.style.height=B.y+"px",Bt&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){ll.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[O(v)]=v;var T=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=T),this._drawLast=T,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var T=v._order,B=T.next,pt=T.prev;B?B.prev=pt:this._drawLast=pt,pt?pt.next=B:this._drawFirst=B,delete v._order,delete this._layers[O(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if("string"==typeof v.options.dashArray){var pt,Vt,T=v.options.dashArray.split(/[, ]+/),B=[];for(Vt=0;Vt<T.length;Vt++){if(pt=Number(T[Vt]),isNaN(pt))return;B.push(pt)}v.options._dashArray=B}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||Pt(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var T=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Zt,this._redrawBounds.extend(v._pxBounds.min.subtract([T,T])),this._redrawBounds.extend(v._pxBounds.max.add([T,T]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var T=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,T.x,T.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,T=this._redrawBounds;if(this._ctx.save(),T){var B=T.getSize();this._ctx.beginPath(),this._ctx.rect(T.min.x,T.min.y,B.x,B.y),this._ctx.clip()}this._drawing=!0;for(var pt=this._drawFirst;pt;pt=pt.next)v=pt.layer,(!T||v._pxBounds&&v._pxBounds.intersects(T))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,T){if(this._drawing){var B,pt,Vt,ve,Ye=v._parts,vn=Ye.length,bn=this._ctx;if(vn){for(bn.beginPath(),B=0;B<vn;B++){for(pt=0,Vt=Ye[B].length;pt<Vt;pt++)bn[pt?"lineTo":"moveTo"]((ve=Ye[B][pt]).x,ve.y);T&&bn.closePath()}this._fillStroke(bn,v)}}},_updateCircle:function(v){if(this._drawing&&!v._empty()){var T=v._point,B=this._ctx,pt=Math.max(Math.round(v._radius),1),Vt=(Math.max(Math.round(v._radiusY),1)||pt)/pt;1!==Vt&&(B.save(),B.scale(1,Vt)),B.beginPath(),B.arc(T.x,T.y/Vt,pt,0,2*Math.PI,!1),1!==Vt&&B.restore(),this._fillStroke(B,v)}},_fillStroke:function(v,T){var B=T.options;B.fill&&(v.globalAlpha=B.fillOpacity,v.fillStyle=B.fillColor||B.color,v.fill(B.fillRule||"evenodd")),B.stroke&&0!==B.weight&&(v.setLineDash&&v.setLineDash(T.options&&T.options._dashArray||[]),v.globalAlpha=B.opacity,v.lineWidth=B.weight,v.strokeStyle=B.color,v.lineCap=B.lineCap,v.lineJoin=B.lineJoin,v.stroke())},_onClick:function(v){for(var B,pt,T=this._map.mouseEventToLayerPoint(v),Vt=this._drawFirst;Vt;Vt=Vt.next)(B=Vt.layer).options.interactive&&B._containsPoint(T)&&("click"!==v.type&&"preclick"===v.type||!this._map._draggableMoved(B))&&(pt=B);pt&&(jl(v),this._fireEvent([pt],v))},_onMouseMove:function(v){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var T=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,T)}},_handleMouseOut:function(v){var T=this._hoveredLayer;T&&(sr(this._container,"leaflet-interactive"),this._fireEvent([T],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,T){if(!this._mouseHoverThrottled){for(var B,pt,Vt=this._drawFirst;Vt;Vt=Vt.next)(B=Vt.layer).options.interactive&&B._containsPoint(T)&&(pt=B);pt!==this._hoveredLayer&&(this._handleMouseOut(v),pt&&(Yi(this._container,"leaflet-interactive"),this._fireEvent([pt],v,"mouseover"),this._hoveredLayer=pt)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],v),this._mouseHoverThrottled=!0,setTimeout(Z(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,T,B){this._map._fireDOMEvent(T,B||T.type,v)},_bringToFront:function(v){var T=v._order;if(T){var B=T.next,pt=T.prev;if(!B)return;B.prev=pt,pt?pt.next=B:B&&(this._drawFirst=B),T.prev=this._drawLast,this._drawLast.next=T,T.next=null,this._drawLast=T,this._requestRedraw(v)}},_bringToBack:function(v){var T=v._order;if(T){var B=T.next,pt=T.prev;if(!pt)return;pt.next=B,B?B.prev=pt:pt&&(this._drawLast=pt),T.prev=null,T.next=this._drawFirst,this._drawFirst.prev=T,this._drawFirst=T,this._requestRedraw(v)}}});function ac(v){return Ae?new za(v):null}var Ao=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{return function(T){return document.createElement("<"+T+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ms={_initContainer:function(){this._container=Qi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ll.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var T=v._container=Ao("shape");Yi(T,"leaflet-vml-shape "+(this.options.className||"")),T.coordsize="1 1",v._path=Ao("path"),T.appendChild(v._path),this._updateStyle(v),this._layers[O(v)]=v},_addPath:function(v){var T=v._container;this._container.appendChild(T),v.options.interactive&&v.addInteractiveTarget(T)},_removePath:function(v){var T=v._container;po(T),v.removeInteractiveTarget(T),delete this._layers[O(v)]},_updateStyle:function(v){var T=v._stroke,B=v._fill,pt=v.options,Vt=v._container;Vt.stroked=!!pt.stroke,Vt.filled=!!pt.fill,pt.stroke?(T||(T=v._stroke=Ao("stroke")),Vt.appendChild(T),T.weight=pt.weight+"px",T.color=pt.color,T.opacity=pt.opacity,T.dashStyle=pt.dashArray?W(pt.dashArray)?pt.dashArray.join(" "):pt.dashArray.replace(/( *, *)/g," "):"",T.endcap=pt.lineCap.replace("butt","flat"),T.joinstyle=pt.lineJoin):T&&(Vt.removeChild(T),v._stroke=null),pt.fill?(B||(B=v._fill=Ao("fill")),Vt.appendChild(B),B.color=pt.fillColor||pt.color,B.opacity=pt.fillOpacity):B&&(Vt.removeChild(B),v._fill=null)},_updateCircle:function(v){var T=v._point.round(),B=Math.round(v._radius),pt=Math.round(v._radiusY||B);this._setPath(v,v._empty()?"M0 0":"AL "+T.x+","+T.y+" "+B+","+pt+" 0,23592600")},_setPath:function(v,T){v._path.v=T},_bringToFront:function(v){os(v._container)},_bringToBack:function(v){as(v._container)}},Ua=Je?Ao:Ut,hs=ll.extend({getEvents:function(){var v=ll.prototype.getEvents.call(this);return v.zoomstart=this._onZoomStart,v},_initContainer:function(){this._container=Ua("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ua("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){po(this._container),Fr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ll.prototype._update.call(this);var v=this._bounds,T=v.getSize(),B=this._container;(!this._svgSize||!this._svgSize.equals(T))&&(this._svgSize=T,B.setAttribute("width",T.x),B.setAttribute("height",T.y)),Ze(B,v.min),B.setAttribute("viewBox",[v.min.x,v.min.y,T.x,T.y].join(" ")),this.fire("update")}},_initPath:function(v){var T=v._path=Ua("path");v.options.className&&Yi(T,v.options.className),v.options.interactive&&Yi(T,"leaflet-interactive"),this._updateStyle(v),this._layers[O(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){po(v._path),v.removeInteractiveTarget(v._path),delete this._layers[O(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var T=v._path,B=v.options;T&&(B.stroke?(T.setAttribute("stroke",B.color),T.setAttribute("stroke-opacity",B.opacity),T.setAttribute("stroke-width",B.weight),T.setAttribute("stroke-linecap",B.lineCap),T.setAttribute("stroke-linejoin",B.lineJoin),B.dashArray?T.setAttribute("stroke-dasharray",B.dashArray):T.removeAttribute("stroke-dasharray"),B.dashOffset?T.setAttribute("stroke-dashoffset",B.dashOffset):T.removeAttribute("stroke-dashoffset")):T.setAttribute("stroke","none"),B.fill?(T.setAttribute("fill",B.fillColor||B.color),T.setAttribute("fill-opacity",B.fillOpacity),T.setAttribute("fill-rule",B.fillRule||"evenodd")):T.setAttribute("fill","none"))},_updatePoly:function(v,T){this._setPath(v,gt(v._parts,T))},_updateCircle:function(v){var T=v._point,B=Math.max(Math.round(v._radius),1),Vt="a"+B+","+(Math.max(Math.round(v._radiusY),1)||B)+" 0 1,0 ",ve=v._empty()?"M0 0":"M"+(T.x-B)+","+T.y+Vt+2*B+",0 "+Vt+2*-B+",0 ";this._setPath(v,ve)},_setPath:function(v,T){v._path.setAttribute("d",T)},_bringToFront:function(v){os(v._path)},_bringToBack:function(v){as(v._path)}});function wc(v){return je||Je?new hs(v):null}Je&&hs.include(Ms),Or.include({getRenderer:function(v){var T=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return T||(T=this._renderer=this._createRenderer()),this.hasLayer(T)||this.addLayer(T),T},_getPaneRenderer:function(v){if("overlayPane"===v||void 0===v)return!1;var T=this._paneRenderers[v];return void 0===T&&(T=this._createRenderer({pane:v}),this._paneRenderers[v]=T),T},_createRenderer:function(v){return this.options.preferCanvas&&ac(v)||wc(v)}});var Zo=Oo.extend({initialize:function(v,T){Oo.prototype.initialize.call(this,this._boundsToLatLngs(v),T)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return[(v=Wt(v)).getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});hs.create=Ua,hs.pointsToPath=gt,ta.geometryToLayer=al,ta.coordsToLatLng=au,ta.coordsToLatLngs=Cu,ta.latLngToCoords=Rl,ta.latLngsToCoords=fi,ta.getFeature=dr,ta.asFeature=he,Or.mergeOptions({boxZoom:!0});var ia=Jo.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){oi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){po(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||1!==v.which&&1!==v.button)return!1;this._clearDeferredResetState(),this._resetState(),pr(),En(),this._startPoint=this._map.mouseEventToContainerPoint(v),oi(document,{contextmenu:ul,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=Qi("div","leaflet-zoom-box",this._container),Yi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var T=new Zt(this._point,this._startPoint),B=T.getSize();Ze(this._box,T.min),this._box.style.width=B.x+"px",this._box.style.height=B.y+"px"},_finish:function(){this._moved&&(po(this._box),sr(this._container,"leaflet-crosshair")),_i(),il(),Fr(document,{contextmenu:ul,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if((1===v.which||1===v.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Z(this._resetState,this),0);var T=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(T).fire("boxzoomend",{boxZoomBounds:T})}},_onKeyDown:function(v){27===v.keyCode&&this._finish()}});Or.addInitHook("addHandler","boxZoom",ia),Or.mergeOptions({doubleClickZoom:!0});var Fs=Jo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var T=this._map,B=T.getZoom(),pt=T.options.zoomDelta,Vt=v.originalEvent.shiftKey?B-pt:B+pt;"center"===T.options.doubleClickZoom?T.setZoom(Vt):T.setZoomAround(v.containerPoint,Vt)}});Or.addInitHook("addHandler","doubleClickZoom",Fs),Or.mergeOptions({dragging:!0,inertia:!Mt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var is=Jo.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new ec(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}Yi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sr(this._map._container,"leaflet-grab"),sr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var T=Wt(this._map.options.maxBounds);this._offsetLimit=Ft(this._map.latLngToContainerPoint(T.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(T.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var T=this._lastTime=+new Date,B=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(B),this._times.push(T),this._prunePositions(T)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),T=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=T.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,T){return v-(v-T)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var v=this._draggable._newPos.subtract(this._draggable._startPos),T=this._offsetLimit;v.x<T.min.x&&(v.x=this._viscousLimit(v.x,T.min.x)),v.y<T.min.y&&(v.y=this._viscousLimit(v.y,T.min.y)),v.x>T.max.x&&(v.x=this._viscousLimit(v.x,T.max.x)),v.y>T.max.y&&(v.y=this._viscousLimit(v.y,T.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,T=Math.round(v/2),B=this._initialWorldOffset,pt=this._draggable._newPos.x,Vt=(pt-T+B)%v+T-B,ve=(pt+T+B)%v-T-B,Ye=Math.abs(Vt+B)<Math.abs(ve+B)?Vt:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ye},_onDragEnd:function(v){var T=this._map,B=T.options,pt=!B.inertia||this._times.length<2;if(T.fire("dragend",v),pt)T.fire("moveend");else{this._prunePositions(+new Date);var Vt=this._lastPos.subtract(this._positions[0]),Ye=B.easeLinearity,vn=Vt.multiplyBy(Ye/((this._lastTime-this._times[0])/1e3)),bn=vn.distanceTo([0,0]),jn=Math.min(B.inertiaMaxSpeed,bn),hi=vn.multiplyBy(jn/bn),hr=jn/(B.inertiaDeceleration*Ye),No=hi.multiplyBy(-hr/2).round();No.x||No.y?(No=T._limitOffset(No,T.options.maxBounds),Pt(function(){T.panBy(No,{duration:hr,easeLinearity:Ye,noMoveStart:!0,animate:!0})})):T.fire("moveend")}}});Or.addInitHook("addHandler","dragging",is),Or.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hd=Jo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),oi(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,T=document.documentElement,B=v.scrollTop||T.scrollTop,pt=v.scrollLeft||T.scrollLeft;this._map._container.focus(),window.scrollTo(pt,B)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var pt,Vt,T=this._panKeys={},B=this.keyCodes;for(pt=0,Vt=B.left.length;pt<Vt;pt++)T[B.left[pt]]=[-1*v,0];for(pt=0,Vt=B.right.length;pt<Vt;pt++)T[B.right[pt]]=[v,0];for(pt=0,Vt=B.down.length;pt<Vt;pt++)T[B.down[pt]]=[0,v];for(pt=0,Vt=B.up.length;pt<Vt;pt++)T[B.up[pt]]=[0,-1*v]},_setZoomDelta:function(v){var pt,Vt,T=this._zoomKeys={},B=this.keyCodes;for(pt=0,Vt=B.zoomIn.length;pt<Vt;pt++)T[B.zoomIn[pt]]=v;for(pt=0,Vt=B.zoomOut.length;pt<Vt;pt++)T[B.zoomOut[pt]]=-v},_addHooks:function(){oi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var pt,T=v.keyCode,B=this._map;if(T in this._panKeys)(!B._panAnim||!B._panAnim._inProgress)&&(pt=this._panKeys[T],v.shiftKey&&(pt=_t(pt).multiplyBy(3)),B.panBy(pt),B.options.maxBounds&&B.panInsideBounds(B.options.maxBounds));else if(T in this._zoomKeys)B.setZoom(B.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[T]);else{if(27!==T||!B._popup||!B._popup.options.closeOnEscapeKey)return;B.closePopup()}ul(v)}}});Or.addInitHook("addHandler","keyboard",hd),Or.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qc=Jo.extend({addHooks:function(){oi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var T=tc(v),B=this._map.options.wheelDebounceTime;this._delta+=T,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var pt=Math.max(B-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Z(this._performZoom,this),pt),ul(v)},_performZoom:function(){var v=this._map,T=v.getZoom(),B=this._map.options.zoomSnap||0;v._stop();var Vt=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,ve=B?Math.ceil(Vt/B)*B:Vt,Ye=v._limitZoom(T+(this._delta>0?ve:-ve))-T;this._delta=0,this._startTime=null,Ye&&("center"===v.options.scrollWheelZoom?v.setZoom(T+Ye):v.setZoomAround(this._lastMousePos,T+Ye))}});Or.addInitHook("addHandler","scrollWheelZoom",qc),Or.mergeOptions({tap:!0,tapTolerance:15});var Es=Jo.extend({addHooks:function(){oi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(v.touches){if(Hl(v),this._fireClick=!0,v.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var T=v.touches[0],B=T.target;this._startPos=this._newPos=new vt(T.clientX,T.clientY),B.tagName&&"a"===B.tagName.toLowerCase()&&Yi(B,"leaflet-active"),this._holdTimeout=setTimeout(Z(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",T))},this),1e3),this._simulateEvent("mousedown",T),oi(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(v){if(clearTimeout(this._holdTimeout),Fr(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&v&&v.changedTouches){var T=v.changedTouches[0],B=T.target;B&&B.tagName&&"a"===B.tagName.toLowerCase()&&sr(B,"leaflet-active"),this._simulateEvent("mouseup",T),this._isTapValid()&&this._simulateEvent("click",T)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(v){var T=v.touches[0];this._newPos=new vt(T.clientX,T.clientY),this._simulateEvent("mousemove",T)},_simulateEvent:function(v,T){var B=document.createEvent("MouseEvents");B._simulated=!0,T.target._simulatedClick=!0,B.initMouseEvent(v,!0,!0,window,1,T.screenX,T.screenY,T.clientX,T.clientY,!1,!1,!1,!1,0,null),T.target.dispatchEvent(B)}});_n&&(!rn||Qe)&&Or.addInitHook("addHandler","tap",Es),Or.mergeOptions({touchZoom:_n&&!Mt,bounceAtZoomLimits:!0});var fs=Jo.extend({addHooks:function(){Yi(this._map._container,"leaflet-touch-zoom"),oi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sr(this._map._container,"leaflet-touch-zoom"),Fr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var T=this._map;if(v.touches&&2===v.touches.length&&!T._animatingZoom&&!this._zooming){var B=T.mouseEventToContainerPoint(v.touches[0]),pt=T.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=T.getSize()._divideBy(2),this._startLatLng=T.containerPointToLatLng(this._centerPoint),"center"!==T.options.touchZoom&&(this._pinchStartLatLng=T.containerPointToLatLng(B.add(pt)._divideBy(2))),this._startDist=B.distanceTo(pt),this._startZoom=T.getZoom(),this._moved=!1,this._zooming=!0,T._stop(),oi(document,"touchmove",this._onTouchMove,this),oi(document,"touchend",this._onTouchEnd,this),Hl(v)}},_onTouchMove:function(v){if(v.touches&&2===v.touches.length&&this._zooming){var T=this._map,B=T.mouseEventToContainerPoint(v.touches[0]),pt=T.mouseEventToContainerPoint(v.touches[1]),Vt=B.distanceTo(pt)/this._startDist;if(this._zoom=T.getScaleZoom(Vt,this._startZoom),!T.options.bounceAtZoomLimits&&(this._zoom<T.getMinZoom()&&Vt<1||this._zoom>T.getMaxZoom()&&Vt>1)&&(this._zoom=T._limitZoom(this._zoom)),"center"===T.options.touchZoom){if(this._center=this._startLatLng,1===Vt)return}else{var ve=B._add(pt)._divideBy(2)._subtract(this._centerPoint);if(1===Vt&&0===ve.x&&0===ve.y)return;this._center=T.unproject(T.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(T._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var Ye=Z(T._move,T,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Pt(Ye,this,!0),Hl(v)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Tt(this._animRequest),Fr(document,"touchmove",this._onTouchMove,this),Fr(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Or.addInitHook("addHandler","touchZoom",fs),Or.BoxZoom=ia,Or.DoubleClickZoom=Fs,Or.Drag=is,Or.Keyboard=hd,Or.ScrollWheelZoom=qc,Or.Tap=Es,Or.TouchZoom=fs,Y.version="1.7.1",Y.Control=Tn,Y.control=Bn,Y.Browser=vi,Y.Evented=Et,Y.Mixin=zu,Y.Util=It,Y.Class=ut,Y.Handler=Jo,Y.extend=J,Y.bind=Z,Y.stamp=O,Y.setOptions=U,Y.DomEvent=Jn,Y.DomUtil=ui,Y.PosAnimation=Vu,Y.Draggable=ec,Y.LineUtil=Wo,Y.PolyUtil=Us,Y.Point=vt,Y.point=_t,Y.Bounds=Zt,Y.bounds=Ft,Y.Transformation=le,Y.transformation=Dt,Y.Projection=Gs,Y.LatLng=qt,Y.latLng=pe,Y.LatLngBounds=Ee,Y.latLngBounds=Wt,Y.CRS=Ne,Y.GeoJSON=ta,Y.geoJSON=Ja,Y.geoJson=Po,Y.Layer=wr,Y.LayerGroup=ds,Y.layerGroup=function(v,T){return new ds(v,T)},Y.FeatureGroup=Xc,Y.featureGroup=function(v,T){return new Xc(v,T)},Y.ImageOverlay=Ar,Y.imageOverlay=function(v,T,B){return new Ar(v,T,B)},Y.VideoOverlay=sl,Y.videoOverlay=function Ns(v,T,B){return new sl(v,T,B)},Y.SVGOverlay=mr,Y.svgOverlay=function ea(v,T,B){return new mr(v,T,B)},Y.DivOverlay=ss,Y.Popup=Xa,Y.popup=function(v,T){return new Xa(v,T)},Y.Tooltip=ts,Y.tooltip=function(v,T){return new ts(v,T)},Y.Icon=Os,Y.icon=function Vo(v){return new Os(v)},Y.DivIcon=na,Y.divIcon=function da(v){return new na(v)},Y.Marker=Cl,Y.marker=function rc(v,T){return new Cl(v,T)},Y.TileLayer=Hr,Y.tileLayer=$c,Y.GridLayer=Qs,Y.gridLayer=function Ml(v){return new Qs(v)},Y.SVG=hs,Y.svg=wc,Y.Renderer=ll,Y.Canvas=za,Y.canvas=ac,Y.Path=Sl,Y.CircleMarker=ai,Y.circleMarker=function _s(v,T){return new ai(v,T)},Y.Circle=Gu,Y.circle=function Cn(v,T,B){return new Gu(v,T,B)},Y.Polyline=Jr,Y.polyline=function lo(v,T){return new Jr(v,T)},Y.Polygon=Oo,Y.polygon=function Ks(v,T){return new Oo(v,T)},Y.Rectangle=Zo,Y.rectangle=function Cc(v,T){return new Zo(v,T)},Y.Map=Or,Y.map=function fn(v,T){return new Or(v,T)};var Ld=window.L;Y.noConflict=function(){return window.L=Ld,this},window.L=Y}(se)},5943:Xe=>{"use strict";var se=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;Xe.exports=function F(){try{if(!Object.assign)return!1;var Z=new String("abc");if(Z[5]="de","5"===Object.getOwnPropertyNames(Z)[0])return!1;for(var G={},O=0;O<10;O++)G["_"+String.fromCharCode(O)]=O;if("0123456789"!==Object.getOwnPropertyNames(G).map(function(ct){return G[ct]}).join(""))return!1;var at={};return"abcdefghijklmnopqrst".split("").forEach(function(ct){at[ct]=ct}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},at)).join("")}catch{return!1}}()?Object.assign:function(Z,G){for(var O,at,Q=function J(Z){if(null==Z)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Z)}(Z),ct=1;ct<arguments.length;ct++){for(var ot in O=Object(arguments[ct]))Y.call(O,ot)&&(Q[ot]=O[ot]);if(se){at=se(O);for(var $=0;$<at.length;$++)tt.call(O,at[$])&&(Q[at[$]]=O[at[$]])}}return Q}},1175:Xe=>{"use strict";var se=function(Y){return Y!=Y};Xe.exports=function(tt,J){return 0===tt&&0===J?1/tt==1/J:!!(tt===J||se(tt)&&se(J))}},2e3:(Xe,se,Y)=>{"use strict";var tt=Y(2358),J=Y(5685),F=Y(1175),Z=Y(6305),G=Y(3859),O=J(Z(),Object);tt(O,{getPolyfill:Z,implementation:F,shim:G}),Xe.exports=O},6305:(Xe,se,Y)=>{"use strict";var tt=Y(1175);Xe.exports=function(){return"function"==typeof Object.is?Object.is:tt}},3859:(Xe,se,Y)=>{"use strict";var tt=Y(6305),J=Y(2358);Xe.exports=function(){var Z=tt();return J(Object,{is:Z},{is:function(){return Object.is!==Z}}),Z}},2450:(Xe,se,Y)=>{"use strict";var tt;if(!Object.keys){var J=Object.prototype.hasOwnProperty,F=Object.prototype.toString,Z=Y(9978),G=Object.prototype.propertyIsEnumerable,O=!G.call({toString:null},"toString"),Q=G.call(function(){},"prototype"),at=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ct=function(U){var bt=U.constructor;return bt&&bt.prototype===U},ot={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},$=function(){if(typeof window>"u")return!1;for(var U in window)try{if(!ot["$"+U]&&J.call(window,U)&&null!==window[U]&&"object"==typeof window[U])try{ct(window[U])}catch{return!0}}catch{return!0}return!1}();tt=function(bt){var X=null!==bt&&"object"==typeof bt,et="[object Function]"===F.call(bt),W=Z(bt),it=X&&"[object String]"===F.call(bt),V=[];if(!X&&!et&&!W)throw new TypeError("Object.keys called on a non-object");var lt=Q&&et;if(it&&bt.length>0&&!J.call(bt,0))for(var mt=0;mt<bt.length;++mt)V.push(String(mt));if(W&&bt.length>0)for(var Ct=0;Ct<bt.length;++Ct)V.push(String(Ct));else for(var wt in bt)(!lt||"prototype"!==wt)&&J.call(bt,wt)&&V.push(String(wt));if(O)for(var q=function(U){if(typeof window>"u"||!$)return ct(U);try{return ct(U)}catch{return!1}}(bt),Pt=0;Pt<at.length;++Pt)(!q||"constructor"!==at[Pt])&&J.call(bt,at[Pt])&&V.push(at[Pt]);return V}}Xe.exports=tt},1356:(Xe,se,Y)=>{"use strict";var tt=Array.prototype.slice,J=Y(9978),F=Object.keys,Z=F?function(Q){return F(Q)}:Y(2450),G=Object.keys;Z.shim=function(){if(Object.keys){var Q=function(){var at=Object.keys(arguments);return at&&at.length===arguments.length}(1,2);Q||(Object.keys=function(ct){return J(ct)?G(tt.call(ct)):G(ct)})}else Object.keys=Z;return Object.keys||Z},Xe.exports=Z},9978:Xe=>{"use strict";var se=Object.prototype.toString;Xe.exports=function(tt){var J=se.call(tt),F="[object Arguments]"===J;return F||(F="[object Array]"!==J&&null!==tt&&"object"==typeof tt&&"number"==typeof tt.length&&tt.length>=0&&"[object Function]"===se.call(tt.callee)),F}},1766:Xe=>{Xe.exports=function(Y,tt,J,F){var Z=Y[0],G=Y[1],O=!1;void 0===J&&(J=0),void 0===F&&(F=tt.length);for(var Q=(F-J)/2,at=0,ct=Q-1;at<Q;ct=at++){var ot=tt[J+2*at+0],$=tt[J+2*at+1],U=tt[J+2*ct+1];$>G!=U>G&&Z<(tt[J+2*ct+0]-ot)*(G-$)/(U-$)+ot&&(O=!O)}return O}},3870:(Xe,se,Y)=>{var tt=Y(1766),J=Y(2260);Xe.exports=function(Z,G,O,Q){return G.length>0&&Array.isArray(G[0])?J(Z,G,O,Q):tt(Z,G,O,Q)},Xe.exports.nested=J,Xe.exports.flat=tt},2260:Xe=>{Xe.exports=function(Y,tt,J,F){var Z=Y[0],G=Y[1],O=!1;void 0===J&&(J=0),void 0===F&&(F=tt.length);for(var Q=F-J,at=0,ct=Q-1;at<Q;ct=at++){var ot=tt[at+J][0],$=tt[at+J][1],U=tt[ct+J][1];$>G!=U>G&&Z<(tt[ct+J][0]-ot)*(G-$)/(U-$)+ot&&(O=!O)}return O}},9855:function(Xe){Xe.exports=function(){"use strict";function se(St,S){if(!(St instanceof S))throw new TypeError("Cannot call a class as a function")}function Y(St,S){for(var P=0;P<S.length;P++){var z=S[P];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(St,z.key,z)}}function tt(St,S,P){return S&&Y(St.prototype,S),P&&Y(St,P),St}var J=function St(S,P){this.next=null,this.key=S,this.data=P,this.left=null,this.right=null};function F(St,S){return St>S?1:St<S?-1:0}function Z(St,S,P){for(var z=new J(null,null),ft=z,Mt=z;;){var Ot=P(St,S.key);if(Ot<0){if(null===S.left)break;if(P(St,S.left.key)<0&&(S.left=(me=S.left).right,me.right=S,null===(S=me).left))break;Mt.left=S,Mt=S,S=S.left}else{if(!(Ot>0))break;if(null===S.right)break;var me;if(P(St,S.right.key)>0&&(S.right=(me=S.right).left,me.left=S,null===(S=me).right))break;ft.right=S,ft=S,S=S.right}}return ft.right=S.left,Mt.left=S.right,S.left=z.right,S.right=z.left,S}function G(St,S,P,z){var ft=new J(St,S);if(null===P)return ft.left=ft.right=null,ft;var Mt=z(St,(P=Z(St,P,z)).key);return Mt<0?(ft.left=P.left,ft.right=P,P.left=null):Mt>=0&&(ft.right=P.right,ft.left=P,P.right=null),ft}function O(St,S,P){var z=null,ft=null;if(S){var Mt=P((S=Z(St,S,P)).key,St);0===Mt?(z=S.left,ft=S.right):Mt<0?(ft=S.right,S.right=null,z=S):(z=S.left,S.left=null,ft=S)}return{left:z,right:ft}}function at(St,S,P,z,ft){if(St){z(S+(P?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+ft(St)+"\n");var Mt=S+(P?"    ":"\u2502   ");St.left&&at(St.left,Mt,!1,z,ft),St.right&&at(St.right,Mt,!0,z,ft)}}var ct=function(){function St(S){void 0===S&&(S=F),this._root=null,this._size=0,this._comparator=S}return St.prototype.insert=function(S,P){return this._size++,this._root=G(S,P,this._root,this._comparator)},St.prototype.add=function(S,P){var z=new J(S,P);null===this._root&&(z.left=z.right=null,this._size++,this._root=z);var ft=this._comparator,Mt=Z(S,this._root,ft),Ot=ft(S,Mt.key);return 0===Ot?this._root=Mt:(Ot<0?(z.left=Mt.left,z.right=Mt,Mt.left=null):Ot>0&&(z.right=Mt.right,z.left=Mt,Mt.right=null),this._size++,this._root=z),this._root},St.prototype.remove=function(S){this._root=this._remove(S,this._root,this._comparator)},St.prototype._remove=function(S,P,z){var ft;return null===P?null:0===z(S,(P=Z(S,P,z)).key)?(null===P.left?ft=P.right:(ft=Z(S,P.left,z)).right=P.right,this._size--,ft):P},St.prototype.pop=function(){var S=this._root;if(S){for(;S.left;)S=S.left;return this._root=Z(S.key,this._root,this._comparator),this._root=this._remove(S.key,this._root,this._comparator),{key:S.key,data:S.data}}return null},St.prototype.findStatic=function(S){for(var P=this._root,z=this._comparator;P;){var ft=z(S,P.key);if(0===ft)return P;P=ft<0?P.left:P.right}return null},St.prototype.find=function(S){return this._root&&(this._root=Z(S,this._root,this._comparator),0!==this._comparator(S,this._root.key))?null:this._root},St.prototype.contains=function(S){for(var P=this._root,z=this._comparator;P;){var ft=z(S,P.key);if(0===ft)return!0;P=ft<0?P.left:P.right}return!1},St.prototype.forEach=function(S,P){for(var z=this._root,ft=[],Mt=!1;!Mt;)null!==z?(ft.push(z),z=z.left):0!==ft.length?(z=ft.pop(),S.call(P,z),z=z.right):Mt=!0;return this},St.prototype.range=function(S,P,z,ft){for(var Mt=[],Ot=this._comparator,me=this._root;0!==Mt.length||me;)if(me)Mt.push(me),me=me.left;else{if(Ot((me=Mt.pop()).key,P)>0)break;if(Ot(me.key,S)>=0&&z.call(ft,me))return this;me=me.right}return this},St.prototype.keys=function(){var S=[];return this.forEach(function(P){return S.push(P.key)}),S},St.prototype.values=function(){var S=[];return this.forEach(function(P){return S.push(P.data)}),S},St.prototype.min=function(){return this._root?this.minNode(this._root).key:null},St.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},St.prototype.minNode=function(S){if(void 0===S&&(S=this._root),S)for(;S.left;)S=S.left;return S},St.prototype.maxNode=function(S){if(void 0===S&&(S=this._root),S)for(;S.right;)S=S.right;return S},St.prototype.at=function(S){for(var P=this._root,z=!1,ft=0,Mt=[];!z;)if(P)Mt.push(P),P=P.left;else if(Mt.length>0){if(P=Mt.pop(),ft===S)return P;ft++,P=P.right}else z=!0;return null},St.prototype.next=function(S){var P=this._root,z=null;if(S.right){for(z=S.right;z.left;)z=z.left;return z}for(var ft=this._comparator;P;){var Mt=ft(S.key,P.key);if(0===Mt)break;Mt<0?(z=P,P=P.left):P=P.right}return z},St.prototype.prev=function(S){var P=this._root,z=null;if(null!==S.left){for(z=S.left;z.right;)z=z.right;return z}for(var ft=this._comparator;P;){var Mt=ft(S.key,P.key);if(0===Mt)break;Mt<0?P=P.left:(z=P,P=P.right)}return z},St.prototype.clear=function(){return this._root=null,this._size=0,this},St.prototype.toList=function(){return function N(St){for(var S=St,P=[],z=!1,ft=new J(null,null),Mt=ft;!z;)S?(P.push(S),S=S.left):P.length>0?S=(S=Mt=Mt.next=P.pop()).right:z=!0;return Mt.next=null,ft.next}(this._root)},St.prototype.load=function(S,P,z){void 0===P&&(P=[]),void 0===z&&(z=!1);var ft=S.length,Mt=this._comparator;if(z&&X(S,P,0,ft-1,Mt),null===this._root)this._root=ot(S,P,0,ft),this._size=ft;else{var Ot=function bt(St,S,P){for(var z=new J(null,null),ft=z,Mt=St,Ot=S;null!==Mt&&null!==Ot;)P(Mt.key,Ot.key)<0?(ft.next=Mt,Mt=Mt.next):(ft.next=Ot,Ot=Ot.next),ft=ft.next;return null!==Mt?ft.next=Mt:null!==Ot&&(ft.next=Ot),z.next}(this.toList(),function $(St,S){for(var P=new J(null,null),z=P,ft=0;ft<St.length;ft++)z=z.next=new J(St[ft],S[ft]);return z.next=null,P.next}(S,P),Mt);this._root=U({head:Ot},0,ft=this._size+ft)}return this},St.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(St.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(St.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),St.prototype.toString=function(S){void 0===S&&(S=function(ft){return String(ft.key)});var P=[];return at(this._root,"",!0,function(z){return P.push(z)},S),P.join("")},St.prototype.update=function(S,P,z){var ft=this._comparator,Mt=O(S,this._root,ft),Ot=Mt.left,me=Mt.right;ft(S,P)<0?me=G(P,z,me,ft):Ot=G(P,z,Ot,ft),this._root=function Q(St,S,P){return null===S?St:(null===St||((S=Z(St.key,S,P)).left=St),S)}(Ot,me,ft)},St.prototype.split=function(S){return O(S,this._root,this._comparator)},St}();function ot(St,S,P,z){var ft=z-P;if(ft>0){var Mt=P+Math.floor(ft/2),ye=new J(St[Mt],S[Mt]);return ye.left=ot(St,S,P,Mt),ye.right=ot(St,S,Mt+1,z),ye}return null}function U(St,S,P){var z=P-S;if(z>0){var ft=S+Math.floor(z/2),Mt=U(St,S,ft),Ot=St.head;return Ot.left=Mt,St.head=St.head.next,Ot.right=U(St,ft+1,P),Ot}return null}function X(St,S,P,z,ft){if(!(P>=z)){for(var Mt=St[P+z>>1],Ot=P-1,me=z+1;;){do{Ot++}while(ft(St[Ot],Mt)<0);do{me--}while(ft(St[me],Mt)>0);if(Ot>=me)break;var ye=St[Ot];St[Ot]=St[me],St[me]=ye,ye=S[Ot],S[Ot]=S[me],S[me]=ye}X(St,S,P,me,ft),X(St,S,me+1,z,ft)}}var et=function(S,P){return S.ll.x<=P.x&&P.x<=S.ur.x&&S.ll.y<=P.y&&P.y<=S.ur.y},W=function(S,P){return P.ur.x<S.ll.x||S.ur.x<P.ll.x||P.ur.y<S.ll.y||S.ur.y<P.ll.y?null:{ll:{x:S.ll.x<P.ll.x?P.ll.x:S.ll.x,y:S.ll.y<P.ll.y?P.ll.y:S.ll.y},ur:{x:S.ur.x<P.ur.x?S.ur.x:P.ur.x,y:S.ur.y<P.ur.y?S.ur.y:P.ur.y}}},it=Number.EPSILON;void 0===it&&(it=Math.pow(2,-52));var V=it*it,lt=function(S,P){if(-it<S&&S<it&&-it<P&&P<it)return 0;var z=S-P;return z*z<V*S*P?0:S<P?-1:1},mt=function(){function St(){se(this,St),this.reset()}return tt(St,[{key:"reset",value:function(){this.xRounder=new Ct,this.yRounder=new Ct}},{key:"round",value:function(P,z){return{x:this.xRounder.round(P),y:this.yRounder.round(z)}}}]),St}(),Ct=function(){function St(){se(this,St),this.tree=new ct,this.round(0)}return tt(St,[{key:"round",value:function(P){var z=this.tree.add(P),ft=this.tree.prev(z);if(null!==ft&&0===lt(z.key,ft.key))return this.tree.remove(P),ft.key;var Mt=this.tree.next(z);return null!==Mt&&0===lt(z.key,Mt.key)?(this.tree.remove(P),Mt.key):P}}]),St}(),wt=new mt,q=function(S,P){return S.x*P.y-S.y*P.x},Pt=function(S,P){return S.x*P.x+S.y*P.y},Tt=function(S,P,z){var Ot=q({x:P.x-S.x,y:P.y-S.y},{x:z.x-S.x,y:z.y-S.y});return lt(Ot,0)},It=function(S){return Math.sqrt(Pt(S,S))},ut=function(S,P,z){var ft={x:P.x-S.x,y:P.y-S.y},Mt={x:z.x-S.x,y:z.y-S.y};return q(Mt,ft)/It(Mt)/It(ft)},ae=function(S,P,z){var ft={x:P.x-S.x,y:P.y-S.y},Mt={x:z.x-S.x,y:z.y-S.y};return Pt(Mt,ft)/It(Mt)/It(ft)},ce=function(S,P,z){return 0===P.y?null:{x:S.x+P.x/P.y*(z-S.y),y:z}},Et=function(S,P,z){return 0===P.x?null:{x:z,y:S.y+P.y/P.x*(z-S.x)}},dt=function(){function St(S,P){se(this,St),void 0===S.events?S.events=[this]:S.events.push(this),this.point=S,this.isLeft=P}return tt(St,null,[{key:"compare",value:function(P,z){var ft=St.comparePoints(P.point,z.point);return 0!==ft?ft:(P.point!==z.point&&P.link(z),P.isLeft!==z.isLeft?P.isLeft?1:-1:Zt.compare(P.segment,z.segment))}},{key:"comparePoints",value:function(P,z){return P.x<z.x?-1:P.x>z.x?1:P.y<z.y?-1:P.y>z.y?1:0}}]),tt(St,[{key:"link",value:function(P){if(P.point===this.point)throw new Error("Tried to link already linked events");for(var z=P.point.events,ft=0,Mt=z.length;ft<Mt;ft++){var Ot=z[ft];this.point.events.push(Ot),Ot.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var P=this.point.events.length,z=0;z<P;z++){var ft=this.point.events[z];if(void 0===ft.segment.consumedBy)for(var Mt=z+1;Mt<P;Mt++){var Ot=this.point.events[Mt];void 0===Ot.consumedBy&&ft.otherSE.point.events===Ot.otherSE.point.events&&ft.segment.consume(Ot.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var P=[],z=0,ft=this.point.events.length;z<ft;z++){var Mt=this.point.events[z];Mt!==this&&!Mt.segment.ringOut&&Mt.segment.isInResult()&&P.push(Mt)}return P}},{key:"getLeftmostComparator",value:function(P){var z=this,ft=new Map,Mt=function(me){var ye=me.otherSE;ft.set(me,{sine:ut(z.point,P.point,ye.point),cosine:ae(z.point,P.point,ye.point)})};return function(Ot,me){ft.has(Ot)||Mt(Ot),ft.has(me)||Mt(me);var ye=ft.get(Ot),xe=ye.sine,ze=ye.cosine,Qe=ft.get(me),Ue=Qe.sine,sn=Qe.cosine;return xe>=0&&Ue>=0?ze<sn?1:ze>sn?-1:0:xe<0&&Ue<0?ze<sn?-1:ze>sn?1:0:Ue<xe?-1:Ue>xe?1:0}}}]),St}(),_t=0,Zt=function(){function St(S,P,z,ft){se(this,St),this.id=++_t,this.leftSE=S,S.segment=this,S.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=S,this.rings=z,this.windings=ft}return tt(St,null,[{key:"compare",value:function(P,z){var ft=P.leftSE.point.x,Mt=z.leftSE.point.x,Ot=P.rightSE.point.x,me=z.rightSE.point.x;if(me<ft)return 1;if(Ot<Mt)return-1;var ye=P.leftSE.point.y,xe=z.leftSE.point.y,ze=P.rightSE.point.y,Qe=z.rightSE.point.y;if(ft<Mt){if(xe<ye&&xe<ze)return 1;if(xe>ye&&xe>ze)return-1;var Ue=P.comparePoint(z.leftSE.point);if(Ue<0)return 1;if(Ue>0)return-1;var sn=z.comparePoint(P.rightSE.point);return 0!==sn?sn:-1}if(ft>Mt){if(ye<xe&&ye<Qe)return-1;if(ye>xe&&ye>Qe)return 1;var un=z.comparePoint(P.leftSE.point);if(0!==un)return un;var ln=P.comparePoint(z.rightSE.point);return ln<0?1:ln>0?-1:1}if(ye<xe)return-1;if(ye>xe)return 1;if(Ot<me){var xn=z.comparePoint(P.rightSE.point);if(0!==xn)return xn}if(Ot>me){var cn=P.comparePoint(z.rightSE.point);if(cn<0)return 1;if(cn>0)return-1}if(Ot!==me){var Pe=ze-ye,Qt=Ot-ft,_e=Qe-xe,Oe=me-Mt;if(Pe>Qt&&_e<Oe)return 1;if(Pe<Qt&&_e>Oe)return-1}return Ot>me?1:Ot<me||ze<Qe?-1:ze>Qe?1:P.id<z.id?-1:P.id>z.id?1:0}}]),tt(St,[{key:"replaceRightSE",value:function(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var P=this.leftSE.point.y,z=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<z?P:z},ur:{x:this.rightSE.point.x,y:P>z?P:z}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}},{key:"comparePoint",value:function(P){if(this.isAnEndpoint(P))return 0;var z=this.leftSE.point,ft=this.rightSE.point,Mt=this.vector();if(z.x===ft.x)return P.x===z.x?0:P.x<z.x?1:-1;if(P.x===z.x+(P.y-z.y)/Mt.y*Mt.x)return 0;var xe=z.y+(P.x-z.x)/Mt.x*Mt.y;return P.y===xe?0:P.y<xe?-1:1}},{key:"getIntersection",value:function(P){var z=this.bbox(),ft=P.bbox(),Mt=W(z,ft);if(null===Mt)return null;var Ot=this.leftSE.point,me=this.rightSE.point,ye=P.leftSE.point,xe=P.rightSE.point,ze=et(z,ye)&&0===this.comparePoint(ye),Qe=et(ft,Ot)&&0===P.comparePoint(Ot),Ue=et(z,xe)&&0===this.comparePoint(xe),sn=et(ft,me)&&0===P.comparePoint(me);if(Qe&&ze)return sn&&!Ue?me:!sn&&Ue?xe:null;if(Qe)return Ue&&Ot.x===xe.x&&Ot.y===xe.y?null:Ot;if(ze)return sn&&me.x===ye.x&&me.y===ye.y?null:ye;if(sn&&Ue)return null;if(sn)return me;if(Ue)return xe;var un=function(S,P,z,ft){if(0===P.x)return Et(z,ft,S.x);if(0===ft.x)return Et(S,P,z.x);if(0===P.y)return ce(z,ft,S.y);if(0===ft.y)return ce(S,P,z.y);var Mt=q(P,ft);if(0==Mt)return null;var Ot={x:z.x-S.x,y:z.y-S.y},me=q(Ot,P)/Mt,ye=q(Ot,ft)/Mt;return{x:(S.x+ye*P.x+(z.x+me*ft.x))/2,y:(S.y+ye*P.y+(z.y+me*ft.y))/2}}(Ot,this.vector(),ye,P.vector());return null!==un&&et(Mt,un)?wt.round(un.x,un.y):null}},{key:"split",value:function(P){var z=[],ft=void 0!==P.events,Mt=new dt(P,!0),Ot=new dt(P,!1),me=this.rightSE;this.replaceRightSE(Ot),z.push(Ot),z.push(Mt);var ye=new St(Mt,me,this.rings.slice(),this.windings.slice());return dt.comparePoints(ye.leftSE.point,ye.rightSE.point)>0&&ye.swapEvents(),dt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),ft&&(Mt.checkForConsuming(),Ot.checkForConsuming()),z}},{key:"swapEvents",value:function(){var P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var z=0,ft=this.windings.length;z<ft;z++)this.windings[z]*=-1}},{key:"consume",value:function(P){for(var z=this,ft=P;z.consumedBy;)z=z.consumedBy;for(;ft.consumedBy;)ft=ft.consumedBy;var Mt=St.compare(z,ft);if(0!==Mt){if(Mt>0){var Ot=z;z=ft,ft=Ot}if(z.prev===ft){var me=z;z=ft,ft=me}for(var ye=0,xe=ft.rings.length;ye<xe;ye++){var ze=ft.rings[ye],Qe=ft.windings[ye],Ue=z.rings.indexOf(ze);-1===Ue?(z.rings.push(ze),z.windings.push(Qe)):z.windings[Ue]+=Qe}ft.rings=null,ft.windings=null,ft.consumedBy=z,ft.leftSE.consumedBy=z.leftSE,ft.rightSE.consumedBy=z.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};for(var z=this._afterState.rings,ft=this._afterState.windings,Mt=this._afterState.multiPolys,Ot=0,me=this.rings.length;Ot<me;Ot++){var ye=this.rings[Ot],xe=this.windings[Ot],ze=z.indexOf(ye);-1===ze?(z.push(ye),ft.push(xe)):ft[ze]+=xe}for(var Qe=[],Ue=[],sn=0,un=z.length;sn<un;sn++)if(0!==ft[sn]){var ln=z[sn],xn=ln.poly;if(-1===Ue.indexOf(xn))if(ln.isExterior)Qe.push(xn);else{-1===Ue.indexOf(xn)&&Ue.push(xn);var cn=Qe.indexOf(ln.poly);-1!==cn&&Qe.splice(cn,1)}}for(var Pe=0,Qt=Qe.length;Pe<Qt;Pe++){var _e=Qe[Pe].multiPoly;-1===Mt.indexOf(_e)&&Mt.push(_e)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var P=this.beforeState().multiPolys,z=this.afterState().multiPolys;switch(Dt.type){case"union":this._isInResult=0===P.length!=(0===z.length);break;case"intersection":var Ot,me;P.length<z.length?(Ot=P.length,me=z.length):(Ot=z.length,me=P.length),this._isInResult=me===Dt.numMultiPolys&&Ot<me;break;case"xor":var ye=Math.abs(P.length-z.length);this._isInResult=ye%2==1;break;case"difference":var xe=function(Qe){return 1===Qe.length&&Qe[0].isSubject};this._isInResult=xe(P)!==xe(z);break;default:throw new Error("Unrecognized operation type found ".concat(Dt.type))}return this._isInResult}}],[{key:"fromRing",value:function(P,z,ft){var Mt,Ot,me,ye=dt.comparePoints(P,z);if(ye<0)Mt=P,Ot=z,me=1;else{if(!(ye>0))throw new Error("Tried to create degenerate segment at [".concat(P.x,", ").concat(P.y,"]"));Mt=z,Ot=P,me=-1}return new St(new dt(Mt,!0),new dt(Ot,!1),[ft],[me])}}]),St}(),Ft=function(){function St(S,P,z){if(se(this,St),!Array.isArray(S)||0===S.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=z,this.segments=[],"number"!=typeof S[0][0]||"number"!=typeof S[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ft=wt.round(S[0][0],S[0][1]);this.bbox={ll:{x:ft.x,y:ft.y},ur:{x:ft.x,y:ft.y}};for(var Mt=ft,Ot=1,me=S.length;Ot<me;Ot++){if("number"!=typeof S[Ot][0]||"number"!=typeof S[Ot][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ye=wt.round(S[Ot][0],S[Ot][1]);ye.x===Mt.x&&ye.y===Mt.y||(this.segments.push(Zt.fromRing(Mt,ye,this)),ye.x<this.bbox.ll.x&&(this.bbox.ll.x=ye.x),ye.y<this.bbox.ll.y&&(this.bbox.ll.y=ye.y),ye.x>this.bbox.ur.x&&(this.bbox.ur.x=ye.x),ye.y>this.bbox.ur.y&&(this.bbox.ur.y=ye.y),Mt=ye)}(ft.x!==Mt.x||ft.y!==Mt.y)&&this.segments.push(Zt.fromRing(Mt,ft,this))}return tt(St,[{key:"getSweepEvents",value:function(){for(var P=[],z=0,ft=this.segments.length;z<ft;z++){var Mt=this.segments[z];P.push(Mt.leftSE),P.push(Mt.rightSE)}return P}}]),St}(),Ee=function(){function St(S,P){if(se(this,St),!Array.isArray(S))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ft(S[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var z=1,ft=S.length;z<ft;z++){var Mt=new Ft(S[z],this,!1);Mt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Mt.bbox.ll.x),Mt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Mt.bbox.ll.y),Mt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Mt.bbox.ur.x),Mt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Mt.bbox.ur.y),this.interiorRings.push(Mt)}this.multiPoly=P}return tt(St,[{key:"getSweepEvents",value:function(){for(var P=this.exteriorRing.getSweepEvents(),z=0,ft=this.interiorRings.length;z<ft;z++)for(var Mt=this.interiorRings[z].getSweepEvents(),Ot=0,me=Mt.length;Ot<me;Ot++)P.push(Mt[Ot]);return P}}]),St}(),Wt=function(){function St(S,P){if(se(this,St),!Array.isArray(S))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof S[0][0][0]&&(S=[S])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var z=0,ft=S.length;z<ft;z++){var Mt=new Ee(S[z],this);Mt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Mt.bbox.ll.x),Mt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Mt.bbox.ll.y),Mt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Mt.bbox.ur.x),Mt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Mt.bbox.ur.y),this.polys.push(Mt)}this.isSubject=P}return tt(St,[{key:"getSweepEvents",value:function(){for(var P=[],z=0,ft=this.polys.length;z<ft;z++)for(var Mt=this.polys[z].getSweepEvents(),Ot=0,me=Mt.length;Ot<me;Ot++)P.push(Mt[Ot]);return P}}]),St}(),qt=function(){function St(S){se(this,St),this.events=S;for(var P=0,z=S.length;P<z;P++)S[P].segment.ringOut=this;this.poly=null}return tt(St,null,[{key:"factory",value:function(P){for(var z=[],ft=0,Mt=P.length;ft<Mt;ft++){var Ot=P[ft];if(Ot.isInResult()&&!Ot.ringOut){for(var me=null,ye=Ot.leftSE,xe=Ot.rightSE,ze=[ye],Qe=ye.point,Ue=[];me=ye,ze.push(ye=xe),ye.point!==Qe;)for(;;){var sn=ye.getAvailableLinkedEvents();if(0===sn.length){var un=ze[0].point,ln=ze[ze.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(un.x,",")+" ".concat(un.y,"]. Last matching segment found ends at")+" [".concat(ln.x,", ").concat(ln.y,"]."))}if(1===sn.length){xe=sn[0].otherSE;break}for(var xn=null,cn=0,Pe=Ue.length;cn<Pe;cn++)if(Ue[cn].point===ye.point){xn=cn;break}if(null===xn){Ue.push({index:ze.length,point:ye.point});var Oe=ye.getLeftmostComparator(me);xe=sn.sort(Oe)[0].otherSE;break}var Qt=Ue.splice(xn)[0],_e=ze.splice(Qt.index);_e.unshift(_e[0].otherSE),z.push(new St(_e.reverse()))}z.push(new St(ze))}}return z}}]),tt(St,[{key:"getGeom",value:function(){for(var P=this.events[0].point,z=[P],ft=1,Mt=this.events.length-1;ft<Mt;ft++){var Ot=this.events[ft].point;0!==Tt(Ot,P,this.events[ft+1].point)&&(z.push(Ot),P=Ot)}if(1===z.length)return null;0===Tt(z[0],P,z[1])&&z.shift(),z.push(z[0]);for(var ze=this.isExteriorRing()?1:-1,Qe=this.isExteriorRing()?0:z.length-1,Ue=this.isExteriorRing()?z.length:-1,sn=[],un=Qe;un!=Ue;un+=ze)sn.push([z[un].x,z[un].y]);return sn}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var P=this.events[0],z=1,ft=this.events.length;z<ft;z++){var Mt=this.events[z];dt.compare(P,Mt)>0&&(P=Mt)}for(var Ot=P.segment.prevInResult(),me=Ot?Ot.prevInResult():null;;){if(!Ot)return null;if(!me)return Ot.ringOut;if(me.ringOut!==Ot.ringOut)return me.ringOut.enclosingRing()!==Ot.ringOut?Ot.ringOut:Ot.ringOut.enclosingRing();Ot=me.prevInResult(),me=Ot?Ot.prevInResult():null}}}]),St}(),pe=function(){function St(S){se(this,St),this.exteriorRing=S,S.poly=this,this.interiorRings=[]}return tt(St,[{key:"addInterior",value:function(P){this.interiorRings.push(P),P.poly=this}},{key:"getGeom",value:function(){var P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(var z=0,ft=this.interiorRings.length;z<ft;z++){var Mt=this.interiorRings[z].getGeom();null!==Mt&&P.push(Mt)}return P}}]),St}(),Ne=function(){function St(S){se(this,St),this.rings=S,this.polys=this._composePolys(S)}return tt(St,[{key:"getGeom",value:function(){for(var P=[],z=0,ft=this.polys.length;z<ft;z++){var Mt=this.polys[z].getGeom();null!==Mt&&P.push(Mt)}return P}},{key:"_composePolys",value:function(P){for(var z=[],ft=0,Mt=P.length;ft<Mt;ft++){var Ot=P[ft];if(!Ot.poly)if(Ot.isExteriorRing())z.push(new pe(Ot));else{var me=Ot.enclosingRing();me.poly||z.push(new pe(me)),me.poly.addInterior(Ot)}}return z}}]),St}(),Le=function(){function St(S){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.compare;se(this,St),this.queue=S,this.tree=new ct(P),this.segments=[]}return tt(St,[{key:"process",value:function(P){var z=P.segment,ft=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(z),ft;var Mt=P.isLeft?this.tree.insert(z):this.tree.find(z);if(!Mt)throw new Error("Unable to find segment #".concat(z.id," ")+"[".concat(z.leftSE.point.x,", ").concat(z.leftSE.point.y,"] -> ")+"[".concat(z.rightSE.point.x,", ").concat(z.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Ot=Mt,me=Mt,ye=void 0,xe=void 0;void 0===ye;)null===(Ot=this.tree.prev(Ot))?ye=null:void 0===Ot.key.consumedBy&&(ye=Ot.key);for(;void 0===xe;)null===(me=this.tree.next(me))?xe=null:void 0===me.key.consumedBy&&(xe=me.key);if(P.isLeft){var ze=null;if(ye){var Qe=ye.getIntersection(z);if(null!==Qe&&(z.isAnEndpoint(Qe)||(ze=Qe),!ye.isAnEndpoint(Qe)))for(var Ue=this._splitSafely(ye,Qe),sn=0,un=Ue.length;sn<un;sn++)ft.push(Ue[sn])}var ln=null;if(xe){var xn=xe.getIntersection(z);if(null!==xn&&(z.isAnEndpoint(xn)||(ln=xn),!xe.isAnEndpoint(xn)))for(var cn=this._splitSafely(xe,xn),Pe=0,Qt=cn.length;Pe<Qt;Pe++)ft.push(cn[Pe])}if(null!==ze||null!==ln){var _e;_e=null===ze?ln:null===ln||dt.comparePoints(ze,ln)<=0?ze:ln,this.queue.remove(z.rightSE),ft.push(z.rightSE);for(var We=z.split(_e),rn=0,_n=We.length;rn<_n;rn++)ft.push(We[rn])}ft.length>0?(this.tree.remove(z),ft.push(P)):(this.segments.push(z),z.prev=ye)}else{if(ye&&xe){var en=ye.getIntersection(xe);if(null!==en){if(!ye.isAnEndpoint(en))for(var yn=this._splitSafely(ye,en),Bt=0,Jt=yn.length;Bt<Jt;Bt++)ft.push(yn[Bt]);if(!xe.isAnEndpoint(en))for(var Ae=this._splitSafely(xe,en),je=0,Je=Ae.length;je<Je;je++)ft.push(Ae[je])}}this.tree.remove(z)}return ft}},{key:"_splitSafely",value:function(P,z){this.tree.remove(P);var ft=P.rightSE;this.queue.remove(ft);var Mt=P.split(z);return Mt.push(ft),void 0===P.consumedBy&&this.tree.insert(P),Mt}}]),St}(),re=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Me=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Dt=new(function(){function St(){se(this,St)}return tt(St,[{key:"run",value:function(P,z,ft){Dt.type=P,wt.reset();for(var Mt=[new Wt(z,!0)],Ot=0,me=ft.length;Ot<me;Ot++)Mt.push(new Wt(ft[Ot],!1));if(Dt.numMultiPolys=Mt.length,"difference"===Dt.type)for(var ye=Mt[0],xe=1;xe<Mt.length;)null!==W(Mt[xe].bbox,ye.bbox)?xe++:Mt.splice(xe,1);if("intersection"===Dt.type)for(var ze=0,Qe=Mt.length;ze<Qe;ze++)for(var Ue=Mt[ze],sn=ze+1,un=Mt.length;sn<un;sn++)if(null===W(Ue.bbox,Mt[sn].bbox))return[];for(var ln=new ct(dt.compare),xn=0,cn=Mt.length;xn<cn;xn++)for(var Pe=Mt[xn].getSweepEvents(),Qt=0,_e=Pe.length;Qt<_e;Qt++)if(ln.insert(Pe[Qt]),ln.size>re)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Oe=new Le(ln),We=ln.size,rn=ln.pop();rn;){var _n=rn.key;if(ln.size===We){var en=_n.segment;throw new Error("Unable to pop() ".concat(_n.isLeft?"left":"right"," SweepEvent ")+"[".concat(_n.point.x,", ").concat(_n.point.y,"] from segment #").concat(en.id," ")+"[".concat(en.leftSE.point.x,", ").concat(en.leftSE.point.y,"] -> ")+"[".concat(en.rightSE.point.x,", ").concat(en.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(ln.size>re)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Oe.segments.length>Me)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var yn=Oe.process(_n),Bt=0,Jt=yn.length;Bt<Jt;Bt++){var Ae=yn[Bt];void 0===Ae.consumedBy&&ln.insert(Ae)}We=ln.size,rn=ln.pop()}wt.reset();var je=qt.factory(Oe.segments);return new Ne(je).getGeom()}}]),St}());return{union:function(S){for(var P=arguments.length,z=new Array(P>1?P-1:0),ft=1;ft<P;ft++)z[ft-1]=arguments[ft];return Dt.run("union",S,z)},intersection:function(S){for(var P=arguments.length,z=new Array(P>1?P-1:0),ft=1;ft<P;ft++)z[ft-1]=arguments[ft];return Dt.run("intersection",S,z)},xor:function(S){for(var P=arguments.length,z=new Array(P>1?P-1:0),ft=1;ft<P;ft++)z[ft-1]=arguments[ft];return Dt.run("xor",S,z)},difference:function(S){for(var P=arguments.length,z=new Array(P>1?P-1:0),ft=1;ft<P;ft++)z[ft-1]=arguments[ft];return Dt.run("difference",S,z)}}}()},4678:function(Xe){Xe.exports=function(){"use strict";function Y(F,Z,G,O,Q){for(;O>G;){if(O-G>600){var at=O-G+1,ct=Z-G+1,ot=Math.log(at),$=.5*Math.exp(2*ot/3),N=.5*Math.sqrt(ot*$*(at-$)/at)*(ct-at/2<0?-1:1);Y(F,Z,Math.max(G,Math.floor(Z-ct*$/at+N)),Math.min(O,Math.floor(Z+(at-ct)*$/at+N)),Q)}var X=F[Z],et=G,W=O;for(tt(F,G,Z),Q(F[O],X)>0&&tt(F,G,O);et<W;){for(tt(F,et,W),et++,W--;Q(F[et],X)<0;)et++;for(;Q(F[W],X)>0;)W--}0===Q(F[G],X)?tt(F,G,W):tt(F,++W,O),W<=Z&&(G=W+1),Z<=W&&(O=W-1)}}function tt(F,Z,G){var O=F[Z];F[Z]=F[G],F[G]=O}function J(F,Z){return F<Z?-1:F>Z?1:0}return function se(F,Z,G,O,Q){Y(F,Z,G||0,O||F.length-1,Q||J)}}()},3544:(Xe,se,Y)=>{"use strict";Xe.exports=J,Xe.exports.default=J;var tt=Y(4678);function J(W,it){if(!(this instanceof J))return new J(W,it);this._maxEntries=Math.max(4,W||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),it&&this._initFormat(it),this.clear()}function F(W,it,V){if(!V)return it.indexOf(W);for(var lt=0;lt<it.length;lt++)if(V(W,it[lt]))return lt;return-1}function Z(W,it){G(W,0,W.children.length,it,W)}function G(W,it,V,lt,mt){mt||(mt=X(null)),mt.minX=1/0,mt.minY=1/0,mt.maxX=-1/0,mt.maxY=-1/0;for(var wt,Ct=it;Ct<V;Ct++)wt=W.children[Ct],O(mt,W.leaf?lt(wt):wt);return mt}function O(W,it){return W.minX=Math.min(W.minX,it.minX),W.minY=Math.min(W.minY,it.minY),W.maxX=Math.max(W.maxX,it.maxX),W.maxY=Math.max(W.maxY,it.maxY),W}function Q(W,it){return W.minX-it.minX}function at(W,it){return W.minY-it.minY}function ct(W){return(W.maxX-W.minX)*(W.maxY-W.minY)}function ot(W){return W.maxX-W.minX+(W.maxY-W.minY)}function $(W,it){return(Math.max(it.maxX,W.maxX)-Math.min(it.minX,W.minX))*(Math.max(it.maxY,W.maxY)-Math.min(it.minY,W.minY))}function N(W,it){var V=Math.max(W.minX,it.minX),lt=Math.max(W.minY,it.minY),mt=Math.min(W.maxX,it.maxX),Ct=Math.min(W.maxY,it.maxY);return Math.max(0,mt-V)*Math.max(0,Ct-lt)}function U(W,it){return W.minX<=it.minX&&W.minY<=it.minY&&it.maxX<=W.maxX&&it.maxY<=W.maxY}function bt(W,it){return it.minX<=W.maxX&&it.minY<=W.maxY&&it.maxX>=W.minX&&it.maxY>=W.minY}function X(W){return{children:W,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function et(W,it,V,lt,mt){for(var wt,Ct=[it,V];Ct.length;)!((V=Ct.pop())-(it=Ct.pop())<=lt)&&(wt=it+Math.ceil((V-it)/lt/2)*lt,tt(W,wt,it,V,mt),Ct.push(it,wt,wt,V))}J.prototype={all:function(){return this._all(this.data,[])},search:function(W){var it=this.data,V=[],lt=this.toBBox;if(!bt(W,it))return V;for(var Ct,wt,q,Pt,mt=[];it;){for(Ct=0,wt=it.children.length;Ct<wt;Ct++)q=it.children[Ct],bt(W,Pt=it.leaf?lt(q):q)&&(it.leaf?V.push(q):U(W,Pt)?this._all(q,V):mt.push(q));it=mt.pop()}return V},collides:function(W){var it=this.data,V=this.toBBox;if(!bt(W,it))return!1;for(var mt,Ct,wt,q,lt=[];it;){for(mt=0,Ct=it.children.length;mt<Ct;mt++)if(wt=it.children[mt],bt(W,q=it.leaf?V(wt):wt)){if(it.leaf||U(W,q))return!0;lt.push(wt)}it=lt.pop()}return!1},load:function(W){if(!W||!W.length)return this;if(W.length<this._minEntries){for(var it=0,V=W.length;it<V;it++)this.insert(W[it]);return this}var lt=this._build(W.slice(),0,W.length-1,0);if(this.data.children.length)if(this.data.height===lt.height)this._splitRoot(this.data,lt);else{if(this.data.height<lt.height){var mt=this.data;this.data=lt,lt=mt}this._insert(lt,this.data.height-lt.height-1,!0)}else this.data=lt;return this},insert:function(W){return W&&this._insert(W,this.data.height-1),this},clear:function(){return this.data=X([]),this},remove:function(W,it){if(!W)return this;for(var wt,q,Pt,Tt,V=this.data,lt=this.toBBox(W),mt=[],Ct=[];V||mt.length;){if(V||(V=mt.pop(),q=mt[mt.length-1],wt=Ct.pop(),Tt=!0),V.leaf&&-1!==(Pt=F(W,V.children,it)))return V.children.splice(Pt,1),mt.push(V),this._condense(mt),this;Tt||V.leaf||!U(V,lt)?q?(wt++,V=q.children[wt],Tt=!1):V=null:(mt.push(V),Ct.push(wt),wt=0,q=V,V=V.children[0])}return this},toBBox:function(W){return W},compareMinX:Q,compareMinY:at,toJSON:function(){return this.data},fromJSON:function(W){return this.data=W,this},_all:function(W,it){for(var V=[];W;)W.leaf?it.push.apply(it,W.children):V.push.apply(V,W.children),W=V.pop();return it},_build:function(W,it,V,lt){var wt,mt=V-it+1,Ct=this._maxEntries;if(mt<=Ct)return Z(wt=X(W.slice(it,V+1)),this.toBBox),wt;lt||(lt=Math.ceil(Math.log(mt)/Math.log(Ct)),Ct=Math.ceil(mt/Math.pow(Ct,lt-1))),(wt=X([])).leaf=!1,wt.height=lt;var Tt,It,ut,ae,q=Math.ceil(mt/Ct),Pt=q*Math.ceil(Math.sqrt(Ct));for(et(W,it,V,Pt,this.compareMinX),Tt=it;Tt<=V;Tt+=Pt)for(et(W,Tt,ut=Math.min(Tt+Pt-1,V),q,this.compareMinY),It=Tt;It<=ut;It+=q)ae=Math.min(It+q-1,ut),wt.children.push(this._build(W,It,ae,lt-1));return Z(wt,this.toBBox),wt},_chooseSubtree:function(W,it,V,lt){for(var mt,Ct,wt,q,Pt,Tt,It,ut;lt.push(it),!it.leaf&&lt.length-1!==V;){for(It=ut=1/0,mt=0,Ct=it.children.length;mt<Ct;mt++)Pt=ct(wt=it.children[mt]),(Tt=$(W,wt)-Pt)<ut?(ut=Tt,It=Pt<It?Pt:It,q=wt):Tt===ut&&Pt<It&&(It=Pt,q=wt);it=q||it.children[0]}return it},_insert:function(W,it,V){var mt=V?W:(0,this.toBBox)(W),Ct=[],wt=this._chooseSubtree(mt,this.data,it,Ct);for(wt.children.push(W),O(wt,mt);it>=0&&Ct[it].children.length>this._maxEntries;)this._split(Ct,it),it--;this._adjustParentBBoxes(mt,Ct,it)},_split:function(W,it){var V=W[it],lt=V.children.length,mt=this._minEntries;this._chooseSplitAxis(V,mt,lt);var Ct=this._chooseSplitIndex(V,mt,lt),wt=X(V.children.splice(Ct,V.children.length-Ct));wt.height=V.height,wt.leaf=V.leaf,Z(V,this.toBBox),Z(wt,this.toBBox),it?W[it-1].children.push(wt):this._splitRoot(V,wt)},_splitRoot:function(W,it){this.data=X([W,it]),this.data.height=W.height+1,this.data.leaf=!1,Z(this.data,this.toBBox)},_chooseSplitIndex:function(W,it,V){var lt,mt,Ct,wt,q,Pt,Tt,It;for(Pt=Tt=1/0,lt=it;lt<=V-it;lt++)wt=N(mt=G(W,0,lt,this.toBBox),Ct=G(W,lt,V,this.toBBox)),q=ct(mt)+ct(Ct),wt<Pt?(Pt=wt,It=lt,Tt=q<Tt?q:Tt):wt===Pt&&q<Tt&&(Tt=q,It=lt);return It},_chooseSplitAxis:function(W,it,V){var lt=W.leaf?this.compareMinX:Q,mt=W.leaf?this.compareMinY:at;this._allDistMargin(W,it,V,lt)<this._allDistMargin(W,it,V,mt)&&W.children.sort(lt)},_allDistMargin:function(W,it,V,lt){W.children.sort(lt);var Pt,Tt,mt=this.toBBox,Ct=G(W,0,it,mt),wt=G(W,V-it,V,mt),q=ot(Ct)+ot(wt);for(Pt=it;Pt<V-it;Pt++)Tt=W.children[Pt],O(Ct,W.leaf?mt(Tt):Tt),q+=ot(Ct);for(Pt=V-it-1;Pt>=it;Pt--)Tt=W.children[Pt],O(wt,W.leaf?mt(Tt):Tt),q+=ot(wt);return q},_adjustParentBBoxes:function(W,it,V){for(var lt=V;lt>=0;lt--)O(it[lt],W)},_condense:function(W){for(var V,it=W.length-1;it>=0;it--)0===W[it].children.length?it>0?(V=W[it-1].children).splice(V.indexOf(W[it]),1):this.clear():Z(W[it],this.toBBox)},_initFormat:function(W){var it=["return a"," - b",";"];this.compareMinX=new Function("a","b",it.join(W[0])),this.compareMinY=new Function("a","b",it.join(W[1])),this.toBBox=new Function("a","return {minX: a"+W[0]+", minY: a"+W[1]+", maxX: a"+W[2]+", maxY: a"+W[3]+"};")}}},4468:(Xe,se,Y)=>{"use strict";var tt=Y(9582).functionsHaveConfigurableNames(),J=Object,F=TypeError;Xe.exports=function(){if(null!=this&&this!==J(this))throw new F("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.unicodeSets&&(G+="v"),this.sticky&&(G+="y"),G},tt&&Object.defineProperty&&Object.defineProperty(Xe.exports,"name",{value:"get flags"})},9235:(Xe,se,Y)=>{"use strict";var tt=Y(2358),J=Y(5685),F=Y(4468),Z=Y(6343),G=Y(1956),O=J(Z());tt(O,{getPolyfill:Z,implementation:F,shim:G}),Xe.exports=O},6343:(Xe,se,Y)=>{"use strict";var tt=Y(4468),J=Y(2358).supportsDescriptors,F=Object.getOwnPropertyDescriptor;Xe.exports=function(){if(J&&"gim"===/a/gim.flags){var G=F(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var O="",Q={};if(Object.defineProperty(Q,"hasIndices",{get:function(){O+="d"}}),Object.defineProperty(Q,"sticky",{get:function(){O+="y"}}),"dy"===O)return G.get}}return tt}},1956:(Xe,se,Y)=>{"use strict";var tt=Y(2358).supportsDescriptors,J=Y(6343),F=Object.getOwnPropertyDescriptor,Z=Object.defineProperty,G=TypeError,O=Object.getPrototypeOf,Q=/a/;Xe.exports=function(){if(!tt||!O)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ct=J(),ot=O(Q),$=F(ot,"flags");return(!$||$.get!==ct)&&Z(ot,"flags",{configurable:!0,enumerable:!1,get:ct}),ct}},7563:function(Xe,se){!function(Y){"use strict";function F(U,bt,X,et,W){let it,V,lt,mt,Ct=bt[0],wt=et[0],q=0,Pt=0;wt>Ct==wt>-Ct?(it=Ct,Ct=bt[++q]):(it=wt,wt=et[++Pt]);let Tt=0;if(q<U&&Pt<X)for(wt>Ct==wt>-Ct?(lt=it-((V=Ct+it)-Ct),Ct=bt[++q]):(lt=it-((V=wt+it)-wt),wt=et[++Pt]),it=V,0!==lt&&(W[Tt++]=lt);q<U&&Pt<X;)wt>Ct==wt>-Ct?(lt=it-((V=it+Ct)-(mt=V-it))+(Ct-mt),Ct=bt[++q]):(lt=it-((V=it+wt)-(mt=V-it))+(wt-mt),wt=et[++Pt]),it=V,0!==lt&&(W[Tt++]=lt);for(;q<U;)lt=it-((V=it+Ct)-(mt=V-it))+(Ct-mt),Ct=bt[++q],it=V,0!==lt&&(W[Tt++]=lt);for(;Pt<X;)lt=it-((V=it+wt)-(mt=V-it))+(wt-mt),wt=et[++Pt],it=V,0!==lt&&(W[Tt++]=lt);return 0===it&&0!==Tt||(W[Tt++]=it),Tt}function Z(U){return new Float64Array(U)}const at=Z(4),ct=Z(8),ot=Z(12),$=Z(16),N=Z(4);Y.orient2d=function(U,bt,X,et,W,it){const V=(bt-it)*(X-W),lt=(U-W)*(et-it),mt=V-lt;if(0===V||0===lt||V>0!=lt>0)return mt;const Ct=Math.abs(V+lt);return Math.abs(mt)>=33306690738754716e-32*Ct?mt:-function(wt,q,Pt,Tt,It,ut,ae){let ce,Et,vt,dt,_t,Zt,Ft,Ee,Wt,qt,pe,Ne,Le,re,Me,le,Dt,Ht;const jt=wt-It,Ut=Pt-It,gt=q-ut,At=Tt-ut;_t=(Me=(Ee=jt-(Ft=(Zt=134217729*jt)-(Zt-jt)))*(qt=At-(Wt=(Zt=134217729*At)-(Zt-At)))-((re=jt*At)-Ft*Wt-Ee*Wt-Ft*qt))-(pe=Me-(Dt=(Ee=gt-(Ft=(Zt=134217729*gt)-(Zt-gt)))*(qt=Ut-(Wt=(Zt=134217729*Ut)-(Zt-Ut)))-((le=gt*Ut)-Ft*Wt-Ee*Wt-Ft*qt))),at[0]=Me-(pe+_t)+(_t-Dt),_t=(Le=re-((Ne=re+pe)-(_t=Ne-re))+(pe-_t))-(pe=Le-le),at[1]=Le-(pe+_t)+(_t-le),_t=(Ht=Ne+pe)-Ne,at[2]=Ne-(Ht-_t)+(pe-_t),at[3]=Ht;let St=function(Mt,Ot){let me=Ot[0];for(let ye=1;ye<4;ye++)me+=Ot[ye];return me}(0,at),S=22204460492503146e-32*ae;if(St>=S||-St>=S||(ce=wt-(jt+(_t=wt-jt))+(_t-It),vt=Pt-(Ut+(_t=Pt-Ut))+(_t-It),Et=q-(gt+(_t=q-gt))+(_t-ut),dt=Tt-(At+(_t=Tt-At))+(_t-ut),0===ce&&0===Et&&0===vt&&0===dt)||(S=11093356479670487e-47*ae+33306690738754706e-32*Math.abs(St),(St+=jt*dt+At*ce-(gt*vt+Ut*Et))>=S||-St>=S))return St;_t=(Me=(Ee=ce-(Ft=(Zt=134217729*ce)-(Zt-ce)))*(qt=At-(Wt=(Zt=134217729*At)-(Zt-At)))-((re=ce*At)-Ft*Wt-Ee*Wt-Ft*qt))-(pe=Me-(Dt=(Ee=Et-(Ft=(Zt=134217729*Et)-(Zt-Et)))*(qt=Ut-(Wt=(Zt=134217729*Ut)-(Zt-Ut)))-((le=Et*Ut)-Ft*Wt-Ee*Wt-Ft*qt))),N[0]=Me-(pe+_t)+(_t-Dt),_t=(Le=re-((Ne=re+pe)-(_t=Ne-re))+(pe-_t))-(pe=Le-le),N[1]=Le-(pe+_t)+(_t-le),_t=(Ht=Ne+pe)-Ne,N[2]=Ne-(Ht-_t)+(pe-_t),N[3]=Ht;const P=F(4,at,4,N,ct);_t=(Me=(Ee=jt-(Ft=(Zt=134217729*jt)-(Zt-jt)))*(qt=dt-(Wt=(Zt=134217729*dt)-(Zt-dt)))-((re=jt*dt)-Ft*Wt-Ee*Wt-Ft*qt))-(pe=Me-(Dt=(Ee=gt-(Ft=(Zt=134217729*gt)-(Zt-gt)))*(qt=vt-(Wt=(Zt=134217729*vt)-(Zt-vt)))-((le=gt*vt)-Ft*Wt-Ee*Wt-Ft*qt))),N[0]=Me-(pe+_t)+(_t-Dt),_t=(Le=re-((Ne=re+pe)-(_t=Ne-re))+(pe-_t))-(pe=Le-le),N[1]=Le-(pe+_t)+(_t-le),_t=(Ht=Ne+pe)-Ne,N[2]=Ne-(Ht-_t)+(pe-_t),N[3]=Ht;const z=F(P,ct,4,N,ot);_t=(Me=(Ee=ce-(Ft=(Zt=134217729*ce)-(Zt-ce)))*(qt=dt-(Wt=(Zt=134217729*dt)-(Zt-dt)))-((re=ce*dt)-Ft*Wt-Ee*Wt-Ft*qt))-(pe=Me-(Dt=(Ee=Et-(Ft=(Zt=134217729*Et)-(Zt-Et)))*(qt=vt-(Wt=(Zt=134217729*vt)-(Zt-vt)))-((le=Et*vt)-Ft*Wt-Ee*Wt-Ft*qt))),N[0]=Me-(pe+_t)+(_t-Dt),_t=(Le=re-((Ne=re+pe)-(_t=Ne-re))+(pe-_t))-(pe=Le-le),N[1]=Le-(pe+_t)+(_t-le),_t=(Ht=Ne+pe)-Ne,N[2]=Ne-(Ht-_t)+(pe-_t),N[3]=Ht;const ft=F(z,ot,4,N,$);return $[ft-1]}(U,bt,X,et,W,it,Ct)},Y.orient2dfast=function(U,bt,X,et,W,it){return(bt-it)*(X-W)-(U-W)*(et-it)},Object.defineProperty(Y,"__esModule",{value:!0})}(se)},9231:Xe=>{"use strict";Xe.exports={eudist:function(Y,tt,J){for(var F=Y.length,Z=0,G=0;G<F;G++){var O=(Y[G]||0)-(tt[G]||0);Z+=O*O}return J?Math.sqrt(Z):Z},mandist:function(Y,tt,J){for(var F=Y.length,Z=0,G=0;G<F;G++)Z+=Math.abs((Y[G]||0)-(tt[G]||0));return J?Math.sqrt(Z):Z},dist:function(Y,tt,J){var F=Math.abs(Y-tt);return J?F:F*F}}},5561:(Xe,se,Y)=>{"use strict";var tt=Y(9231),J=tt.eudist,F=tt.dist;Xe.exports={kmrand:function(G,O){for(var Q={},at=[],ct=O<<2,ot=G.length,$=G[0].length>0;at.length<O&&ct-- >0;){var N=G[Math.floor(Math.random()*ot)],U=$?N.join("_"):""+N;Q[U]||(Q[U]=!0,at.push(N))}if(at.length<O)throw new Error("Error initializating clusters");return at},kmpp:function(G,O){var Q=G[0].length?J:F,at=[],ct=G.length,ot=G[0].length>0,N=G[Math.floor(Math.random()*ct)];for(ot&&N.join("_"),at.push(N);at.length<O;){for(var bt=[],X=at.length,et=0,W=[],it=0;it<ct;it++){for(var V=1/0,lt=0;lt<X;lt++){var mt=Q(G[it],at[lt]);mt<=V&&(V=mt)}bt[it]=V}for(var Ct=0;Ct<ct;Ct++)et+=bt[Ct];for(var wt=0;wt<ct;wt++)W[wt]={i:wt,v:G[wt],pr:bt[wt]/et,cs:0};W.sort(function(It,ut){return It.pr-ut.pr}),W[0].cs=W[0].pr;for(var q=1;q<ct;q++)W[q].cs=W[q-1].cs+W[q].pr;for(var Pt=Math.random(),Tt=0;Tt<ct-1&&W[Tt++].cs<Pt;);at.push(W[Tt-1].v)}return at}}},9475:(Xe,se,Y)=>{"use strict";var tt=Y(9231),J=Y(5561),F=tt.eudist,O=J.kmrand,Q=J.kmpp;function ct($,N,U){U=U||[];for(var bt=0;bt<$;bt++)U[bt]=N;return U}Xe.exports=function ot($,N,U,bt){var X=[],et=[],W=[],it=[],V=!1,lt=bt||1e4,mt=$.length,Ct=$[0].length,wt=Ct>0,q=[];if(U)X="kmrand"==U?O($,N):"kmpp"==U?Q($,N):U;else for(var Pt={};X.length<N;){var Tt=Math.floor(Math.random()*mt);Pt[Tt]||(Pt[Tt]=!0,X.push($[Tt]))}do{ct(N,0,q);for(var It=0;It<mt;It++){for(var ut=1/0,ae=0,ce=0;ce<N;ce++)(it=wt?F($[It],X[ce]):Math.abs($[It]-X[ce]))<=ut&&(ut=it,ae=ce);W[It]=ae,q[ae]++}for(var Et=[],dt=(et=[],0);dt<N;dt++)Et[dt]=wt?ct(Ct,0,Et[dt]):0,et[dt]=X[dt];if(wt){for(var _t=0;_t<N;_t++)X[_t]=[];for(var Zt=0;Zt<mt;Zt++)for(var Ee=Et[W[Zt]],Wt=$[Zt],qt=0;qt<Ct;qt++)Ee[qt]+=Wt[qt];V=!0;for(var pe=0;pe<N;pe++){for(var Ne=X[pe],Le=Et[pe],re=et[pe],Me=q[pe],le=0;le<Ct;le++)Ne[le]=Le[le]/Me||0;if(V)for(var Dt=0;Dt<Ct;Dt++)if(re[Dt]!=Ne[Dt]){V=!1;break}}}else{for(var Ht=0;Ht<mt;Ht++)Et[W[Ht]]+=$[Ht];for(var Ut=0;Ut<N;Ut++)X[Ut]=Et[Ut]/q[Ut]||0;V=!0;for(var gt=0;gt<N;gt++)if(et[gt]!=X[gt]){V=!1;break}}V=V||--lt<=0}while(!V);return{it:1e4-lt,k:N,idxs:W,centroids:X}}},7253:(Xe,se,Y)=>{"use strict";Y.r(se),Y.d(se,{default:()=>tt});class tt{constructor(Z=[],G=J){if(this.data=Z,this.length=this.data.length,this.compare=G,this.length>0)for(let O=(this.length>>1)-1;O>=0;O--)this._down(O)}push(Z){this.data.push(Z),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const Z=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),Z}peek(){return this.data[0]}_up(Z){const{data:G,compare:O}=this,Q=G[Z];for(;Z>0;){const at=Z-1>>1,ct=G[at];if(O(Q,ct)>=0)break;G[Z]=ct,Z=at}G[Z]=Q}_down(Z){const{data:G,compare:O}=this,Q=this.length>>1,at=G[Z];for(;Z<Q;){let ct=1+(Z<<1),ot=G[ct];const $=ct+1;if($<this.length&&O(G[$],ot)<0&&(ct=$,ot=G[$]),O(ot,at)>=0)break;G[Z]=ot,Z=ct}G[Z]=at}}function J(F,Z){return F<Z?-1:F>Z?1:0}},770:function(Xe,se){!function(Y){"use strict";function tt(){}function J(f){this.message=f||""}function F(f){this.message=f||""}function Z(f){this.message=f||""}function G(){}function O(f){return null===f?Ji:f.color}function Q(f){return null===f?null:f.parent}function at(f,m){null!==f&&(f.color=m)}function ct(f){return null===f?null:f.left}function ot(f){return null===f?null:f.right}function $(){this.root_=null,this.size_=0}function N(){}function U(){this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}function bt(){}function X(f){this.message=f||""}function et(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(f){if(null==this)throw new TypeError(this+" is not an object");var m=Object(this),_=Math.max(Math.min(m.length,9007199254740991),0)||0,x=1 in arguments&&parseInt(Number(arguments[1]),10)||0;x=x<0?Math.max(_+x,0):Math.min(x,_);var D=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:_;for(D=D<0?Math.max(_+arguments[2],0):Math.min(D,_);x<D;)m[x]=f,++x;return m},writable:!0}),Number.isFinite=Number.isFinite||function(f){return"number"==typeof f&&isFinite(f)},Number.isInteger=Number.isInteger||function(f){return"number"==typeof f&&isFinite(f)&&Math.floor(f)===f},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(f){return f!=f},Math.trunc=Math.trunc||function(f){return f<0?Math.ceil(f):Math.floor(f)};var W=function(){};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.prototype.equalsWithTolerance=function(f,m,_){return Math.abs(f-m)<=_};var it=function(f){function m(_){f.call(this,_),this.name="IllegalArgumentException",this.message=_,this.stack=(new f).stack}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(Error),V=function(){},lt={MAX_VALUE:{configurable:!0}};V.isNaN=function(f){return Number.isNaN(f)},V.doubleToLongBits=function(f){return f},V.longBitsToDouble=function(f){return f},V.isInfinite=function(f){return!Number.isFinite(f)},lt.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(V,lt);var mt=function(){},Ct=function(){},wt=function(){},q=function f(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=f.NULL_ORDINATE;else if(1===arguments.length){var m=arguments[0];this.x=m.x,this.y=m.y,this.z=m.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=f.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Pt={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};q.prototype.setOrdinate=function(f,m){switch(f){case q.X:this.x=m;break;case q.Y:this.y=m;break;case q.Z:this.z=m;break;default:throw new it("Invalid ordinate index: "+f)}},q.prototype.equals2D=function(){if(1===arguments.length){var f=arguments[0];return this.x===f.x&&this.y===f.y}if(2===arguments.length){var m=arguments[0],_=arguments[1];return!!W.equalsWithTolerance(this.x,m.x,_)&&!!W.equalsWithTolerance(this.y,m.y,_)}},q.prototype.getOrdinate=function(f){switch(f){case q.X:return this.x;case q.Y:return this.y;case q.Z:return this.z}throw new it("Invalid ordinate index: "+f)},q.prototype.equals3D=function(f){return this.x===f.x&&this.y===f.y&&(this.z===f.z||V.isNaN(this.z))&&V.isNaN(f.z)},q.prototype.equals=function(f){return f instanceof q&&this.equals2D(f)},q.prototype.equalInZ=function(f,m){return W.equalsWithTolerance(this.z,f.z,m)},q.prototype.compareTo=function(f){return this.x<f.x?-1:this.x>f.x?1:this.y<f.y?-1:this.y>f.y?1:0},q.prototype.clone=function(){},q.prototype.copy=function(){return new q(this)},q.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},q.prototype.distance3D=function(f){var m=this.x-f.x,_=this.y-f.y,x=this.z-f.z;return Math.sqrt(m*m+_*_+x*x)},q.prototype.distance=function(f){var m=this.x-f.x,_=this.y-f.y;return Math.sqrt(m*m+_*_)},q.prototype.hashCode=function(){var f=17;return 37*(f=37*f+q.hashCode(this.x))+q.hashCode(this.y)},q.prototype.setCoordinate=function(f){this.x=f.x,this.y=f.y,this.z=f.z},q.prototype.interfaces_=function(){return[mt,Ct,tt]},q.prototype.getClass=function(){return q},q.hashCode=function(){if(1===arguments.length){var m=V.doubleToLongBits(arguments[0]);return Math.trunc((m^m)>>>32)}},Pt.DimensionalComparator.get=function(){return Tt},Pt.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Pt.NULL_ORDINATE.get=function(){return V.NaN},Pt.X.get=function(){return 0},Pt.Y.get=function(){return 1},Pt.Z.get=function(){return 2},Object.defineProperties(q,Pt);var Tt=function(f){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var m=arguments[0];if(2!==m&&3!==m)throw new it("only 2 or 3 dimensions may be specified");this._dimensionsToTest=m}};Tt.prototype.compare=function(f,m){var _=f,x=m,D=Tt.compare(_.x,x.x);if(0!==D)return D;var K=Tt.compare(_.y,x.y);return 0!==K?K:this._dimensionsToTest<=2?0:Tt.compare(_.z,x.z)},Tt.prototype.interfaces_=function(){return[wt]},Tt.prototype.getClass=function(){return Tt},Tt.compare=function(f,m){return f<m?-1:f>m?1:V.isNaN(f)?V.isNaN(m)?0:-1:V.isNaN(m)?1:0};var It=function(){};It.prototype.create=function(){},It.prototype.interfaces_=function(){return[]},It.prototype.getClass=function(){return It};var ut=function(){},ae={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut},ut.toLocationSymbol=function(f){switch(f){case ut.EXTERIOR:return"e";case ut.BOUNDARY:return"b";case ut.INTERIOR:return"i";case ut.NONE:return"-"}throw new it("Unknown location value: "+f)},ae.INTERIOR.get=function(){return 0},ae.BOUNDARY.get=function(){return 1},ae.EXTERIOR.get=function(){return 2},ae.NONE.get=function(){return-1},Object.defineProperties(ut,ae);var ce=function(f,m){return f.interfaces_&&f.interfaces_().indexOf(m)>-1},Et=function(){},vt={LOG_10:{configurable:!0}};Et.prototype.interfaces_=function(){return[]},Et.prototype.getClass=function(){return Et},Et.log10=function(f){var m=Math.log(f);return V.isInfinite(m)||V.isNaN(m)?m:m/Et.LOG_10},Et.min=function(f,m,_,x){var D=f;return m<D&&(D=m),_<D&&(D=_),x<D&&(D=x),D},Et.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1],_=arguments[2];return f<m?m:f>_?_:f}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],D=arguments[1],K=arguments[2];return x<D?D:x>K?K:x}},Et.wrap=function(f,m){return f<0?m- -f%m:f%m},Et.max=function(){if(3===arguments.length){var m=arguments[1],_=arguments[2],x=arguments[0];return m>x&&(x=m),_>x&&(x=_),x}if(4===arguments.length){var K=arguments[1],xt=arguments[2],Kt=arguments[3],fe=arguments[0];return K>fe&&(fe=K),xt>fe&&(fe=xt),Kt>fe&&(fe=Kt),fe}},Et.average=function(f,m){return(f+m)/2},vt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Et,vt);var dt=function(f){this.str=f};dt.prototype.append=function(f){this.str+=f},dt.prototype.setCharAt=function(f,m){this.str=this.str.substr(0,f)+m+this.str.substr(f+1)},dt.prototype.toString=function(f){return this.str};var _t=function(f){this.value=f};_t.prototype.intValue=function(){return this.value},_t.prototype.compareTo=function(f){return this.value<f?-1:this.value>f?1:0},_t.isNaN=function(f){return Number.isNaN(f)};var Zt=function(){};Zt.isWhitespace=function(f){return f<=32&&f>=0||127===f},Zt.toUpperCase=function(f){return f.toUpperCase()};var Ft=function f(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof f?this.init(arguments[0]):"string"==typeof arguments[0]&&f.call(this,f.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Ee={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Ft.prototype.le=function(f){return(this._hi<f._hi||this._hi===f._hi)&&this._lo<=f._lo},Ft.prototype.extractSignificantDigits=function(f,m){var _=this.abs(),x=Ft.magnitude(_._hi),D=Ft.TEN.pow(x);(_=_.divide(D)).gt(Ft.TEN)?(_=_.divide(Ft.TEN),x+=1):_.lt(Ft.ONE)&&(_=_.multiply(Ft.TEN),x-=1);for(var K=x+1,xt=new dt,Kt=Ft.MAX_PRINT_DIGITS-1,fe=0;fe<=Kt;fe++){f&&fe===K&&xt.append(".");var He=Math.trunc(_._hi);if(He<0)break;var pn=!1,Mn=0;He>9?(pn=!0,Mn="9"):Mn="0"+He,xt.append(Mn),_=_.subtract(Ft.valueOf(He)).multiply(Ft.TEN),pn&&_.selfAdd(Ft.TEN);var ti=!0,li=Ft.magnitude(_._hi);if(li<0&&Math.abs(li)>=Kt-fe&&(ti=!1),!ti)break}return m[0]=x,xt.toString()},Ft.prototype.sqr=function(){return this.multiply(this)},Ft.prototype.doubleValue=function(){return this._hi+this._lo},Ft.prototype.subtract=function(){return arguments[0]instanceof Ft?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},Ft.prototype.equals=function(){if(1===arguments.length){var f=arguments[0];return this._hi===f._hi&&this._lo===f._lo}},Ft.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Ft.prototype.selfSubtract=function(){if(arguments[0]instanceof Ft){var f=arguments[0];return this.isNaN()?this:this.selfAdd(-f._hi,-f._lo)}if("number"==typeof arguments[0]){var m=arguments[0];return this.isNaN()?this:this.selfAdd(-m,0)}},Ft.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Ft.prototype.min=function(f){return this.le(f)?this:f},Ft.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Ft){var f=arguments[0];return this.selfDivide(f._hi,f._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var K,Kt,fe,pn,_=arguments[0],D=null,xt=null,He=null,Mn=null;return this._hi=Mn=(fe=this._hi/_)+(He=(this._hi-(pn=fe*_)-(Mn=(D=(He=Ft.SPLIT*fe)-(D=He-fe))*(xt=(Mn=Ft.SPLIT*_)-(xt=Mn-_))-pn+D*(Kt=_-xt)+(K=fe-D)*xt+K*Kt)+this._lo-fe*arguments[1])/_),this._lo=fe-Mn+He,this}},Ft.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Ft.prototype.divide=function(){if(arguments[0]instanceof Ft){var _,D,K,Kt,f=arguments[0],m=null,x=null,xt=null,fe=null;return _=(K=this._hi/f._hi)-(m=(xt=Ft.SPLIT*K)-(m=xt-K)),fe=m*(x=(fe=Ft.SPLIT*f._hi)-(x=fe-f._hi))-(Kt=K*f._hi)+m*(D=f._hi-x)+_*x+_*D,new Ft(fe=K+(xt=(this._hi-Kt-fe+this._lo-K*f._lo)/f._hi),K-fe+xt)}if("number"==typeof arguments[0]){var He=arguments[0];return V.isNaN(He)?Ft.createNaN():Ft.copy(this).selfDivide(He,0)}},Ft.prototype.ge=function(f){return(this._hi>f._hi||this._hi===f._hi)&&this._lo>=f._lo},Ft.prototype.pow=function(f){if(0===f)return Ft.valueOf(1);var m=new Ft(this),_=Ft.valueOf(1),x=Math.abs(f);if(x>1)for(;x>0;)x%2==1&&_.selfMultiply(m),(x/=2)>0&&(m=m.sqr());else _=m;return f<0?_.reciprocal():_},Ft.prototype.ceil=function(){if(this.isNaN())return Ft.NaN;var f=Math.ceil(this._hi),m=0;return f===this._hi&&(m=Math.ceil(this._lo)),new Ft(f,m)},Ft.prototype.compareTo=function(f){return this._hi<f._hi?-1:this._hi>f._hi?1:this._lo<f._lo?-1:this._lo>f._lo?1:0},Ft.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Ft.prototype.setValue=function(){return arguments[0]instanceof Ft||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},Ft.prototype.max=function(f){return this.ge(f)?this:f},Ft.prototype.sqrt=function(){if(this.isZero())return Ft.valueOf(0);if(this.isNegative())return Ft.NaN;var f=1/Math.sqrt(this._hi),_=Ft.valueOf(this._hi*f),x=this.subtract(_.sqr())._hi*(.5*f);return _.add(x)},Ft.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Ft){var f=arguments[0];return this.selfAdd(f._hi,f._lo)}if("number"==typeof arguments[0]){var _,x,D,xt,Kt,m=arguments[0];return this._hi=(_=(D=this._hi+m)+(Kt=m-(xt=D-this._hi)+(this._hi-(D-xt))+this._lo))+(x=Kt+(D-_)),this._lo=x+(_-this._hi),this}}else if(2===arguments.length){var pn,Mn,li,ra,fe=arguments[0],He=arguments[1],ti=null,bi=null,lr=null;bi=(li=this._hi+fe)-(lr=li-this._hi),ti=(Mn=this._lo+He)-(ra=Mn-this._lo);var kn=(pn=li+(lr=(bi=fe-lr+(this._hi-bi))+Mn))+(lr=(ti=He-ra+(this._lo-ti))+(lr+(li-pn))),Br=lr+(pn-kn);return this._hi=kn,this._lo=Br,this}},Ft.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Ft){var f=arguments[0];return this.selfMultiply(f._hi,f._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var K,Kt,_=arguments[0],D=null,xt=null,fe=null,He=null;D=(fe=Ft.SPLIT*this._hi)-this._hi,D=fe-D;var pn=(fe=this._hi*_)+(He=D*(xt=(He=Ft.SPLIT*_)-(xt=He-_))-fe+D*(Kt=_-xt)+(K=this._hi-D)*xt+K*Kt+(this._hi*arguments[1]+this._lo*_)),Mn=He+(D=fe-pn);return this._hi=pn,this._lo=Mn,this}},Ft.prototype.selfSqr=function(){return this.selfMultiply(this)},Ft.prototype.floor=function(){if(this.isNaN())return Ft.NaN;var f=Math.floor(this._hi),m=0;return f===this._hi&&(m=Math.floor(this._lo)),new Ft(f,m)},Ft.prototype.negate=function(){return this.isNaN()?this:new Ft(-this._hi,-this._lo)},Ft.prototype.clone=function(){},Ft.prototype.multiply=function(){if(arguments[0]instanceof Ft){var f=arguments[0];return f.isNaN()?Ft.createNaN():Ft.copy(this).selfMultiply(f)}if("number"==typeof arguments[0]){var m=arguments[0];return V.isNaN(m)?Ft.createNaN():Ft.copy(this).selfMultiply(m,0)}},Ft.prototype.isNaN=function(){return V.isNaN(this._hi)},Ft.prototype.intValue=function(){return Math.trunc(this._hi)},Ft.prototype.toString=function(){var f=Ft.magnitude(this._hi);return f>=-3&&f<=20?this.toStandardNotation():this.toSciNotation()},Ft.prototype.toStandardNotation=function(){var f=this.getSpecialNumberString();if(null!==f)return f;var m=new Array(1).fill(null),_=this.extractSignificantDigits(!0,m),x=m[0]+1,D=_;return"."===_.charAt(0)?D="0"+_:x<0?D="0."+Ft.stringOfChar("0",-x)+_:-1===_.indexOf(".")&&(D=_+Ft.stringOfChar("0",x-_.length)+".0"),this.isNegative()?"-"+D:D},Ft.prototype.reciprocal=function(){var m,x,D,xt,f=null,_=null,K=null,Kt=null;m=(D=1/this._hi)-(f=(K=Ft.SPLIT*D)-(f=K-D)),_=(Kt=Ft.SPLIT*this._hi)-this._hi;var fe=D+(K=(1-(xt=D*this._hi)-(Kt=f*(_=Kt-_)-xt+f*(x=this._hi-_)+m*_+m*x)-D*this._lo)/this._hi);return new Ft(fe,D-fe+K)},Ft.prototype.toSciNotation=function(){if(this.isZero())return Ft.SCI_NOT_ZERO;var f=this.getSpecialNumberString();if(null!==f)return f;var m=new Array(1).fill(null),_=this.extractSignificantDigits(!1,m),x=Ft.SCI_NOT_EXPONENT_CHAR+m[0];if("0"===_.charAt(0))throw new Error("Found leading zero: "+_);var D="";_.length>1&&(D=_.substring(1));var K=_.charAt(0)+"."+D;return this.isNegative()?"-"+K+x:K+x},Ft.prototype.abs=function(){return this.isNaN()?Ft.NaN:this.isNegative()?this.negate():new Ft(this)},Ft.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Ft.prototype.lt=function(f){return(this._hi<f._hi||this._hi===f._hi)&&this._lo<f._lo},Ft.prototype.add=function(){if(arguments[0]instanceof Ft){var f=arguments[0];return Ft.copy(this).selfAdd(f)}if("number"==typeof arguments[0]){var m=arguments[0];return Ft.copy(this).selfAdd(m)}},Ft.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof Ft){var m=arguments[0];this._hi=m._hi,this._lo=m._lo}}else if(2===arguments.length){var x=arguments[1];this._hi=arguments[0],this._lo=x}},Ft.prototype.gt=function(f){return(this._hi>f._hi||this._hi===f._hi)&&this._lo>f._lo},Ft.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Ft.prototype.trunc=function(){return this.isNaN()?Ft.NaN:this.isPositive()?this.floor():this.ceil()},Ft.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Ft.prototype.interfaces_=function(){return[tt,mt,Ct]},Ft.prototype.getClass=function(){return Ft},Ft.sqr=function(f){return Ft.valueOf(f).selfMultiply(f)},Ft.valueOf=function(){return"string"==typeof arguments[0]?Ft.parse(arguments[0]):"number"==typeof arguments[0]?new Ft(arguments[0]):void 0},Ft.sqrt=function(f){return Ft.valueOf(f).sqrt()},Ft.parse=function(f){for(var m=0,_=f.length;Zt.isWhitespace(f.charAt(m));)m++;var x=!1;if(m<_){var D=f.charAt(m);"-"!==D&&"+"!==D||(m++,"-"===D&&(x=!0))}for(var K=new Ft,xt=0,Kt=0,fe=0;!(m>=_);){var He=f.charAt(m);if(m++,Zt.isDigit(He)){var pn=He-"0";K.selfMultiply(Ft.TEN),K.selfAdd(pn),xt++}else{if("."!==He){if("e"===He||"E"===He){var Mn=f.substring(m);try{fe=_t.parseInt(Mn)}catch(ra){throw ra instanceof Error?new Error("Invalid exponent "+Mn+" in string "+f):ra}break}throw new Error("Unexpected character '"+He+"' at position "+m+" in string "+f)}Kt=xt}}var ti=K,li=xt-Kt-fe;if(0===li)ti=K;else if(li>0){var bi=Ft.TEN.pow(li);ti=K.divide(bi)}else if(li<0){var lr=Ft.TEN.pow(-li);ti=K.multiply(lr)}return x?ti.negate():ti},Ft.createNaN=function(){return new Ft(V.NaN,V.NaN)},Ft.copy=function(f){return new Ft(f)},Ft.magnitude=function(f){var m=Math.abs(f),_=Math.log(m)/Math.log(10),x=Math.trunc(Math.floor(_));return 10*Math.pow(10,x)<=m&&(x+=1),x},Ft.stringOfChar=function(f,m){for(var _=new dt,x=0;x<m;x++)_.append(f);return _.toString()},Ee.PI.get=function(){return new Ft(3.141592653589793,12246467991473532e-32)},Ee.TWO_PI.get=function(){return new Ft(6.283185307179586,24492935982947064e-32)},Ee.PI_2.get=function(){return new Ft(1.5707963267948966,6123233995736766e-32)},Ee.E.get=function(){return new Ft(2.718281828459045,14456468917292502e-32)},Ee.NaN.get=function(){return new Ft(V.NaN,V.NaN)},Ee.EPS.get=function(){return 123259516440783e-46},Ee.SPLIT.get=function(){return 134217729},Ee.MAX_PRINT_DIGITS.get=function(){return 32},Ee.TEN.get=function(){return Ft.valueOf(10)},Ee.ONE.get=function(){return Ft.valueOf(1)},Ee.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Ee.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Ft,Ee);var Wt=function(){},qt={DP_SAFE_EPSILON:{configurable:!0}};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.orientationIndex=function(f,m,_){var x=Wt.orientationIndexFilter(f,m,_);if(x<=1)return x;var D=Ft.valueOf(m.x).selfAdd(-f.x),K=Ft.valueOf(m.y).selfAdd(-f.y),xt=Ft.valueOf(_.x).selfAdd(-m.x),Kt=Ft.valueOf(_.y).selfAdd(-m.y);return D.selfMultiply(Kt).selfSubtract(K.selfMultiply(xt)).signum()},Wt.signOfDet2x2=function(f,m,_,x){return f.multiply(x).selfSubtract(m.multiply(_)).signum()},Wt.intersection=function(f,m,_,x){var D=Ft.valueOf(x.y).selfSubtract(_.y).selfMultiply(Ft.valueOf(m.x).selfSubtract(f.x)),K=Ft.valueOf(x.x).selfSubtract(_.x).selfMultiply(Ft.valueOf(m.y).selfSubtract(f.y)),xt=D.subtract(K),Kt=Ft.valueOf(x.x).selfSubtract(_.x).selfMultiply(Ft.valueOf(f.y).selfSubtract(_.y)),fe=Ft.valueOf(x.y).selfSubtract(_.y).selfMultiply(Ft.valueOf(f.x).selfSubtract(_.x)),He=Kt.subtract(fe).selfDivide(xt).doubleValue(),pn=Ft.valueOf(f.x).selfAdd(Ft.valueOf(m.x).selfSubtract(f.x).selfMultiply(He)).doubleValue(),Mn=Ft.valueOf(m.x).selfSubtract(f.x).selfMultiply(Ft.valueOf(f.y).selfSubtract(_.y)),ti=Ft.valueOf(m.y).selfSubtract(f.y).selfMultiply(Ft.valueOf(f.x).selfSubtract(_.x)),li=Mn.subtract(ti).selfDivide(xt).doubleValue(),bi=Ft.valueOf(_.y).selfAdd(Ft.valueOf(x.y).selfSubtract(_.y).selfMultiply(li)).doubleValue();return new q(pn,bi)},Wt.orientationIndexFilter=function(f,m,_){var x=null,D=(f.x-_.x)*(m.y-_.y),K=(f.y-_.y)*(m.x-_.x),xt=D-K;if(D>0){if(K<=0)return Wt.signum(xt);x=D+K}else{if(!(D<0)||K>=0)return Wt.signum(xt);x=-D-K}var Kt=Wt.DP_SAFE_EPSILON*x;return xt>=Kt||-xt>=Kt?Wt.signum(xt):2},Wt.signum=function(f){return f>0?1:f<0?-1:0},qt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Wt,qt);var pe=function(){},Ne={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ne.X.get=function(){return 0},Ne.Y.get=function(){return 1},Ne.Z.get=function(){return 2},Ne.M.get=function(){return 3},pe.prototype.setOrdinate=function(f,m,_){},pe.prototype.size=function(){},pe.prototype.getOrdinate=function(f,m){},pe.prototype.getCoordinate=function(){},pe.prototype.getCoordinateCopy=function(f){},pe.prototype.getDimension=function(){},pe.prototype.getX=function(f){},pe.prototype.clone=function(){},pe.prototype.expandEnvelope=function(f){},pe.prototype.copy=function(){},pe.prototype.getY=function(f){},pe.prototype.toCoordinateArray=function(){},pe.prototype.interfaces_=function(){return[Ct]},pe.prototype.getClass=function(){return pe},Object.defineProperties(pe,Ne);var Le=function(){},re=function(f){function m(){f.call(this,"Projective point not representable on the Cartesian plane.")}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Le),Me=function(){};Me.arraycopy=function(f,m,_,x,D){for(var K=0,xt=m;xt<m+D;xt++)_[x+K]=f[xt],K++},Me.getProperty=function(f){return{"line.separator":"\n"}[f]};var le=function f(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var m=arguments[0];this.x=m.x,this.y=m.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var x=arguments[1];this.x=arguments[0],this.y=x,this.w=1}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var D=arguments[0],K=arguments[1];this.x=D.y*K.w-K.y*D.w,this.y=K.x*D.w-D.x*K.w,this.w=D.x*K.y-K.x*D.y}else if(arguments[0]instanceof q&&arguments[1]instanceof q){var xt=arguments[0],Kt=arguments[1];this.x=xt.y-Kt.y,this.y=Kt.x-xt.x,this.w=xt.x*Kt.y-Kt.x*xt.y}}else if(3===arguments.length){var He=arguments[1],pn=arguments[2];this.x=arguments[0],this.y=He,this.w=pn}else if(4===arguments.length){var Mn=arguments[0],ti=arguments[1],li=arguments[2],bi=arguments[3],lr=Mn.y-ti.y,ra=ti.x-Mn.x,kn=Mn.x*ti.y-ti.x*Mn.y,Br=li.y-bi.y,Js=bi.x-li.x,hl=li.x*bi.y-bi.x*li.y;this.x=ra*hl-Js*kn,this.y=Br*kn-lr*hl,this.w=lr*Js-Br*ra}};le.prototype.getY=function(){var f=this.y/this.w;if(V.isNaN(f)||V.isInfinite(f))throw new re;return f},le.prototype.getX=function(){var f=this.x/this.w;if(V.isNaN(f)||V.isInfinite(f))throw new re;return f},le.prototype.getCoordinate=function(){var f=new q;return f.x=this.getX(),f.y=this.getY(),f},le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le},le.intersection=function(f,m,_,x){var D=f.y-m.y,K=m.x-f.x,xt=f.x*m.y-m.x*f.y,Kt=_.y-x.y,fe=x.x-_.x,He=_.x*x.y-x.x*_.y,pn=D*fe-Kt*K,Mn=(K*He-fe*xt)/pn,ti=(Kt*xt-D*He)/pn;if(V.isNaN(Mn)||V.isInfinite(Mn)||V.isNaN(ti)||V.isInfinite(ti))throw new re;return new q(Mn,ti)};var Dt=function f(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof q){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else arguments[0]instanceof f&&this.init(arguments[0]);else if(2===arguments.length){var x=arguments[0],D=arguments[1];this.init(x.x,D.x,x.y,D.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Ht={serialVersionUID:{configurable:!0}};Dt.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Dt.prototype.equals=function(f){if(!(f instanceof Dt))return!1;var m=f;return this.isNull()?m.isNull():this._maxx===m.getMaxX()&&this._maxy===m.getMaxY()&&this._minx===m.getMinX()&&this._miny===m.getMinY()},Dt.prototype.intersection=function(f){return this.isNull()||f.isNull()||!this.intersects(f)?new Dt:new Dt(this._minx>f._minx?this._minx:f._minx,this._maxx<f._maxx?this._maxx:f._maxx,this._miny>f._miny?this._miny:f._miny,this._maxy<f._maxy?this._maxy:f._maxy)},Dt.prototype.isNull=function(){return this._maxx<this._minx},Dt.prototype.getMaxX=function(){return this._maxx},Dt.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];return this.covers(f.x,f.y)}if(arguments[0]instanceof Dt){var m=arguments[0];return!this.isNull()&&!m.isNull()&&m.getMinX()>=this._minx&&m.getMaxX()<=this._maxx&&m.getMinY()>=this._miny&&m.getMaxY()<=this._maxy}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return!this.isNull()&&_>=this._minx&&_<=this._maxx&&x>=this._miny&&x<=this._maxy}},Dt.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Dt){var f=arguments[0];return!this.isNull()&&!f.isNull()&&!(f._minx>this._maxx||f._maxx<this._minx||f._miny>this._maxy||f._maxy<this._miny)}if(arguments[0]instanceof q){var m=arguments[0];return this.intersects(m.x,m.y)}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return!this.isNull()&&!(_>this._maxx||_<this._minx||x>this._maxy||x<this._miny)}},Dt.prototype.getMinY=function(){return this._miny},Dt.prototype.getMinX=function(){return this._minx},Dt.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];this.expandToInclude(f.x,f.y)}else if(arguments[0]instanceof Dt){var m=arguments[0];if(m.isNull())return null;this.isNull()?(this._minx=m.getMinX(),this._maxx=m.getMaxX(),this._miny=m.getMinY(),this._maxy=m.getMaxY()):(m._minx<this._minx&&(this._minx=m._minx),m._maxx>this._maxx&&(this._maxx=m._maxx),m._miny<this._miny&&(this._miny=m._miny),m._maxy>this._maxy&&(this._maxy=m._maxy))}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this.isNull()?(this._minx=_,this._maxx=_,this._miny=x,this._maxy=x):(_<this._minx&&(this._minx=_),_>this._maxx&&(this._maxx=_),x<this._miny&&(this._miny=x),x>this._maxy&&(this._maxy=x))}},Dt.prototype.minExtent=function(){if(this.isNull())return 0;var f=this.getWidth(),m=this.getHeight();return f<m?f:m},Dt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Dt.prototype.compareTo=function(f){var m=f;return this.isNull()?m.isNull()?0:-1:m.isNull()?1:this._minx<m._minx?-1:this._minx>m._minx?1:this._miny<m._miny?-1:this._miny>m._miny?1:this._maxx<m._maxx?-1:this._maxx>m._maxx?1:this._maxy<m._maxy?-1:this._maxy>m._maxy?1:0},Dt.prototype.translate=function(f,m){if(this.isNull())return null;this.init(this.getMinX()+f,this.getMaxX()+f,this.getMinY()+m,this.getMaxY()+m)},Dt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Dt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Dt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Dt.prototype.maxExtent=function(){if(this.isNull())return 0;var f=this.getWidth(),m=this.getHeight();return f>m?f:m},Dt.prototype.expandBy=function(){if(1===arguments.length){var f=arguments[0];this.expandBy(f,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this.isNull())return null;this._minx-=m,this._maxx+=m,this._miny-=_,this._maxy+=_,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Dt.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Dt)return this.covers(arguments[0]);if(arguments[0]instanceof q)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Dt.prototype.centre=function(){return this.isNull()?null:new q((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Dt.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];this.init(f.x,f.x,f.y,f.y)}else if(arguments[0]instanceof Dt){var m=arguments[0];this._minx=m._minx,this._maxx=m._maxx,this._miny=m._miny,this._maxy=m._maxy}}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this.init(_.x,x.x,_.y,x.y)}else if(4===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2],Kt=arguments[3];D<K?(this._minx=D,this._maxx=K):(this._minx=K,this._maxx=D),xt<Kt?(this._miny=xt,this._maxy=Kt):(this._miny=Kt,this._maxy=xt)}},Dt.prototype.getMaxY=function(){return this._maxy},Dt.prototype.distance=function(f){if(this.intersects(f))return 0;var m=0;this._maxx<f._minx?m=f._minx-this._maxx:this._minx>f._maxx&&(m=this._minx-f._maxx);var _=0;return this._maxy<f._miny?_=f._miny-this._maxy:this._miny>f._maxy&&(_=this._miny-f._maxy),0===m?_:0===_?m:Math.sqrt(m*m+_*_)},Dt.prototype.hashCode=function(){var f=17;return 37*(f=37*(f=37*(f=37*f+q.hashCode(this._minx))+q.hashCode(this._maxx))+q.hashCode(this._miny))+q.hashCode(this._maxy)},Dt.prototype.interfaces_=function(){return[mt,tt]},Dt.prototype.getClass=function(){return Dt},Dt.intersects=function(){if(3===arguments.length){var f=arguments[0],m=arguments[1],_=arguments[2];return _.x>=(f.x<m.x?f.x:m.x)&&_.x<=(f.x>m.x?f.x:m.x)&&_.y>=(f.y<m.y?f.y:m.y)&&_.y<=(f.y>m.y?f.y:m.y)}if(4===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2],xt=arguments[3],Kt=Math.min(K.x,xt.x),fe=Math.max(K.x,xt.x),He=Math.min(x.x,D.x),pn=Math.max(x.x,D.x);return!(He>fe||pn<Kt||(Kt=Math.min(K.y,xt.y),fe=Math.max(K.y,xt.y),He=Math.min(x.y,D.y),pn=Math.max(x.y,D.y),He>fe||pn<Kt))}},Ht.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Dt,Ht);var jt={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ut=function(f){this.geometryFactory=f||new Ze};Ut.prototype.read=function(f){var m,_;f=f.replace(/[\n\r]/g," ");var D=jt.typeStr.exec(f);if(-1!==f.search("EMPTY")&&((D=jt.emptyTypeStr.exec(f))[2]=void 0),D&&(_=D[1].toLowerCase(),At[_]&&(m=At[_].apply(this,[D[2]]))),void 0===m)throw new Error("Could not parse WKT "+f);return m},Ut.prototype.write=function(f){return this.extractGeometry(f)},Ut.prototype.extractGeometry=function(f){var m=f.getGeometryType().toLowerCase();if(!gt[m])return null;var _=m.toUpperCase();return f.isEmpty()?_+" EMPTY":_+"("+gt[m].apply(this,[f])+")"};var gt={coordinate:function(f){return f.x+" "+f.y},point:function(f){return gt.coordinate.call(this,f._coordinates._coordinates[0])},multipoint:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+gt.point.apply(this,[f._geometries[_]])+")");return m.join(",")},linestring:function(f){for(var m=[],_=0,x=f._points._coordinates.length;_<x;++_)m.push(gt.coordinate.apply(this,[f._points._coordinates[_]]));return m.join(",")},linearring:function(f){for(var m=[],_=0,x=f._points._coordinates.length;_<x;++_)m.push(gt.coordinate.apply(this,[f._points._coordinates[_]]));return m.join(",")},multilinestring:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+gt.linestring.apply(this,[f._geometries[_]])+")");return m.join(",")},polygon:function(f){var m=[];m.push("("+gt.linestring.apply(this,[f._shell])+")");for(var _=0,x=f._holes.length;_<x;++_)m.push("("+gt.linestring.apply(this,[f._holes[_]])+")");return m.join(",")},multipolygon:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push("("+gt.polygon.apply(this,[f._geometries[_]])+")");return m.join(",")},geometrycollection:function(f){for(var m=[],_=0,x=f._geometries.length;_<x;++_)m.push(this.extractGeometry(f._geometries[_]));return m.join(",")}},At={point:function(f){if(void 0===f)return this.geometryFactory.createPoint();var m=f.trim().split(jt.spaces);return this.geometryFactory.createPoint(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])))},multipoint:function(f){if(void 0===f)return this.geometryFactory.createMultiPoint();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(jt.trimParens,"$1"),x.push(At.point.apply(this,[m]));return this.geometryFactory.createMultiPoint(x)},linestring:function(f){if(void 0===f)return this.geometryFactory.createLineString();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].trim().split(jt.spaces),x.push(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])));return this.geometryFactory.createLineString(x)},linearring:function(f){if(void 0===f)return this.geometryFactory.createLinearRing();for(var m,_=f.trim().split(","),x=[],D=0,K=_.length;D<K;++D)m=_[D].trim().split(jt.spaces),x.push(new q(Number.parseFloat(m[0]),Number.parseFloat(m[1])));return this.geometryFactory.createLinearRing(x)},multilinestring:function(f){if(void 0===f)return this.geometryFactory.createMultiLineString();for(var m,_=f.trim().split(jt.parenComma),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(jt.trimParens,"$1"),x.push(At.linestring.apply(this,[m]));return this.geometryFactory.createMultiLineString(x)},polygon:function(f){if(void 0===f)return this.geometryFactory.createPolygon();for(var m,_,x,D,K=f.trim().split(jt.parenComma),xt=[],Kt=0,fe=K.length;Kt<fe;++Kt)m=K[Kt].replace(jt.trimParens,"$1"),_=At.linestring.apply(this,[m]),x=this.geometryFactory.createLinearRing(_._points),0===Kt?D=x:xt.push(x);return this.geometryFactory.createPolygon(D,xt)},multipolygon:function(f){if(void 0===f)return this.geometryFactory.createMultiPolygon();for(var m,_=f.trim().split(jt.doubleParenComma),x=[],D=0,K=_.length;D<K;++D)m=_[D].replace(jt.trimParens,"$1"),x.push(At.polygon.apply(this,[m]));return this.geometryFactory.createMultiPolygon(x)},geometrycollection:function(f){if(void 0===f)return this.geometryFactory.createGeometryCollection();for(var m=(f=f.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),_=[],x=0,D=m.length;x<D;++x)_.push(this.read(m[x]));return this.geometryFactory.createGeometryCollection(_)}},St=function(f){this.parser=new Ut(f)};St.prototype.write=function(f){return this.parser.write(f)},St.toLineString=function(f,m){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+f.x+" "+f.y+", "+m.x+" "+m.y+" )"};var S=function(f){function m(_){f.call(this,_),this.name="RuntimeException",this.message=_,this.stack=(new f).stack}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(Error),P=function(f){function m(){f.call(this),0===arguments.length?f.call(this):1===arguments.length&&f.call(this,arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(S),z=function(){};z.prototype.interfaces_=function(){return[]},z.prototype.getClass=function(){return z},z.shouldNeverReachHere=function(){if(0===arguments.length)z.shouldNeverReachHere(null);else if(1===arguments.length){var f=arguments[0];throw new P("Should never reach here"+(null!==f?": "+f:""))}},z.isTrue=function(){var m;if(1===arguments.length)z.isTrue(arguments[0],null);else if(2===arguments.length&&(m=arguments[1],!arguments[0]))throw null===m?new P:new P(m)},z.equals=function(){var f,m,_;if(2===arguments.length)z.equals(f=arguments[0],m=arguments[1],null);else if(3===arguments.length&&(_=arguments[2],!(m=arguments[1]).equals(f=arguments[0])))throw new P("Expected "+f+" but encountered "+m+(null!==_?": "+_:""))};var ft=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new q,this._intPt[1]=new q,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Mt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ft.prototype.getIndexAlongSegment=function(f,m){return this.computeIntLineIndex(),this._intLineIndex[f][m]},ft.prototype.getTopologySummary=function(){var f=new dt;return this.isEndPoint()&&f.append(" endpoint"),this._isProper&&f.append(" proper"),this.isCollinear()&&f.append(" collinear"),f.toString()},ft.prototype.computeIntersection=function(f,m,_,x){this._inputLines[0][0]=f,this._inputLines[0][1]=m,this._inputLines[1][0]=_,this._inputLines[1][1]=x,this._result=this.computeIntersect(f,m,_,x)},ft.prototype.getIntersectionNum=function(){return this._result},ft.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var f=arguments[0];this.getEdgeDistance(f,0)>this.getEdgeDistance(f,1)?(this._intLineIndex[f][0]=0,this._intLineIndex[f][1]=1):(this._intLineIndex[f][0]=1,this._intLineIndex[f][1]=0)}},ft.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ft.prototype.setPrecisionModel=function(f){this._precisionModel=f},ft.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var f=arguments[0],m=0;m<this._result;m++)if(!this._intPt[m].equals2D(this._inputLines[f][0])&&!this._intPt[m].equals2D(this._inputLines[f][1]))return!0;return!1}},ft.prototype.getIntersection=function(f){return this._intPt[f]},ft.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ft.prototype.hasIntersection=function(){return this._result!==ft.NO_INTERSECTION},ft.prototype.getEdgeDistance=function(f,m){return ft.computeEdgeDistance(this._intPt[m],this._inputLines[f][0],this._inputLines[f][1])},ft.prototype.isCollinear=function(){return this._result===ft.COLLINEAR_INTERSECTION},ft.prototype.toString=function(){return St.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+St.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ft.prototype.getEndpoint=function(f,m){return this._inputLines[f][m]},ft.prototype.isIntersection=function(f){for(var m=0;m<this._result;m++)if(this._intPt[m].equals2D(f))return!0;return!1},ft.prototype.getIntersectionAlongSegment=function(f,m){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[f][m]]},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft},ft.computeEdgeDistance=function(f,m,_){var x=Math.abs(_.x-m.x),D=Math.abs(_.y-m.y),K=-1;if(f.equals(m))K=0;else if(f.equals(_))K=x>D?x:D;else{var xt=Math.abs(f.x-m.x),Kt=Math.abs(f.y-m.y);0!==(K=x>D?xt:Kt)||f.equals(m)||(K=Math.max(xt,Kt))}return z.isTrue(!(0===K&&!f.equals(m)),"Bad distance calculation"),K},ft.nonRobustComputeEdgeDistance=function(f,m,_){var x=f.x-m.x,D=f.y-m.y,K=Math.sqrt(x*x+D*D);return z.isTrue(!(0===K&&!f.equals(m)),"Invalid distance calculation"),K},Mt.DONT_INTERSECT.get=function(){return 0},Mt.DO_INTERSECT.get=function(){return 1},Mt.COLLINEAR.get=function(){return 2},Mt.NO_INTERSECTION.get=function(){return 0},Mt.POINT_INTERSECTION.get=function(){return 1},Mt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ft,Mt);var Ot=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isInSegmentEnvelopes=function(_){var x=new Dt(this._inputLines[0][0],this._inputLines[0][1]),D=new Dt(this._inputLines[1][0],this._inputLines[1][1]);return x.contains(_)&&D.contains(_)},m.prototype.computeIntersection=function(){if(3!==arguments.length)return f.prototype.computeIntersection.apply(this,arguments);var _=arguments[0],x=arguments[1],D=arguments[2];if(this._isProper=!1,Dt.intersects(x,D,_)&&0===xe.orientationIndex(x,D,_)&&0===xe.orientationIndex(D,x,_))return this._isProper=!0,(_.equals(x)||_.equals(D))&&(this._isProper=!1),this._result=f.POINT_INTERSECTION,null;this._result=f.NO_INTERSECTION},m.prototype.normalizeToMinimum=function(_,x,D,K,xt){xt.x=this.smallestInAbsValue(_.x,x.x,D.x,K.x),xt.y=this.smallestInAbsValue(_.y,x.y,D.y,K.y),_.x-=xt.x,_.y-=xt.y,x.x-=xt.x,x.y-=xt.y,D.x-=xt.x,D.y-=xt.y,K.x-=xt.x,K.y-=xt.y},m.prototype.safeHCoordinateIntersection=function(_,x,D,K){var xt=null;try{xt=le.intersection(_,x,D,K)}catch(Kt){if(!(Kt instanceof re))throw Kt;xt=m.nearestEndpoint(_,x,D,K)}return xt},m.prototype.intersection=function(_,x,D,K){var xt=this.intersectionWithNormalization(_,x,D,K);return this.isInSegmentEnvelopes(xt)||(xt=new q(m.nearestEndpoint(_,x,D,K))),null!==this._precisionModel&&this._precisionModel.makePrecise(xt),xt},m.prototype.smallestInAbsValue=function(_,x,D,K){var xt=_,Kt=Math.abs(xt);return Math.abs(x)<Kt&&(xt=x,Kt=Math.abs(x)),Math.abs(D)<Kt&&(xt=D,Kt=Math.abs(D)),Math.abs(K)<Kt&&(xt=K),xt},m.prototype.checkDD=function(_,x,D,K,xt){var Kt=Wt.intersection(_,x,D,K),fe=this.isInSegmentEnvelopes(Kt);Me.out.println("DD in env = "+fe+"  --------------------- "+Kt),xt.distance(Kt)>1e-4&&Me.out.println("Distance = "+xt.distance(Kt))},m.prototype.intersectionWithNormalization=function(_,x,D,K){var xt=new q(_),Kt=new q(x),fe=new q(D),He=new q(K),pn=new q;this.normalizeToEnvCentre(xt,Kt,fe,He,pn);var Mn=this.safeHCoordinateIntersection(xt,Kt,fe,He);return Mn.x+=pn.x,Mn.y+=pn.y,Mn},m.prototype.computeCollinearIntersection=function(_,x,D,K){var xt=Dt.intersects(_,x,D),Kt=Dt.intersects(_,x,K),fe=Dt.intersects(D,K,_),He=Dt.intersects(D,K,x);return xt&&Kt?(this._intPt[0]=D,this._intPt[1]=K,f.COLLINEAR_INTERSECTION):fe&&He?(this._intPt[0]=_,this._intPt[1]=x,f.COLLINEAR_INTERSECTION):xt&&fe?(this._intPt[0]=D,this._intPt[1]=_,!D.equals(_)||Kt||He?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):xt&&He?(this._intPt[0]=D,this._intPt[1]=x,!D.equals(x)||Kt||fe?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):Kt&&fe?(this._intPt[0]=K,this._intPt[1]=_,!K.equals(_)||xt||He?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):Kt&&He?(this._intPt[0]=K,this._intPt[1]=x,!K.equals(x)||xt||fe?f.COLLINEAR_INTERSECTION:f.POINT_INTERSECTION):f.NO_INTERSECTION},m.prototype.normalizeToEnvCentre=function(_,x,D,K,xt){var Kt=_.x<x.x?_.x:x.x,fe=_.y<x.y?_.y:x.y,He=_.x>x.x?_.x:x.x,pn=_.y>x.y?_.y:x.y,Mn=D.x<K.x?D.x:K.x,ti=D.y<K.y?D.y:K.y,li=D.x>K.x?D.x:K.x,bi=D.y>K.y?D.y:K.y,ra=((fe>ti?fe:ti)+(pn<bi?pn:bi))/2;xt.x=((Kt>Mn?Kt:Mn)+(He<li?He:li))/2,xt.y=ra,_.x-=xt.x,_.y-=xt.y,x.x-=xt.x,x.y-=xt.y,D.x-=xt.x,D.y-=xt.y,K.x-=xt.x,K.y-=xt.y},m.prototype.computeIntersect=function(_,x,D,K){if(this._isProper=!1,!Dt.intersects(_,x,D,K))return f.NO_INTERSECTION;var xt=xe.orientationIndex(_,x,D),Kt=xe.orientationIndex(_,x,K);if(xt>0&&Kt>0||xt<0&&Kt<0)return f.NO_INTERSECTION;var fe=xe.orientationIndex(D,K,_),He=xe.orientationIndex(D,K,x);return fe>0&&He>0||fe<0&&He<0?f.NO_INTERSECTION:0===xt&&0===Kt&&0===fe&&0===He?this.computeCollinearIntersection(_,x,D,K):(0===xt||0===Kt||0===fe||0===He?(this._isProper=!1,_.equals2D(D)||_.equals2D(K)?this._intPt[0]=_:x.equals2D(D)||x.equals2D(K)?this._intPt[0]=x:0===xt?this._intPt[0]=new q(D):0===Kt?this._intPt[0]=new q(K):0===fe?this._intPt[0]=new q(_):0===He&&(this._intPt[0]=new q(x))):(this._isProper=!0,this._intPt[0]=this.intersection(_,x,D,K)),f.POINT_INTERSECTION)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.nearestEndpoint=function(_,x,D,K){var xt=_,Kt=xe.distancePointLine(_,D,K),fe=xe.distancePointLine(x,D,K);return fe<Kt&&(Kt=fe,xt=x),(fe=xe.distancePointLine(D,_,x))<Kt&&(Kt=fe,xt=D),(fe=xe.distancePointLine(K,_,x))<Kt&&(Kt=fe,xt=K),xt},m}(ft),me=function(){};me.prototype.interfaces_=function(){return[]},me.prototype.getClass=function(){return me},me.orientationIndex=function(f,m,_){return me.signOfDet2x2(m.x-f.x,m.y-f.y,_.x-m.x,_.y-m.y)},me.signOfDet2x2=function(f,m,_,x){var D=null,K=null,xt=null;if(D=1,0===f||0===x)return 0===m||0===_?0:m>0?_>0?-D:D:_>0?D:-D;if(0===m||0===_)return x>0?f>0?D:-D:f>0?-D:D;if(m>0?x>0?m<=x||(D=-D,K=f,f=_,_=K,K=m,m=x,x=K):m<=-x?(D=-D,_=-_,x=-x):(K=f,f=-_,_=K,K=m,m=-x,x=K):x>0?-m<=x?(D=-D,f=-f,m=-m):(K=-f,f=_,_=K,K=-m,m=x,x=K):m>=x?(f=-f,m=-m,_=-_,x=-x):(D=-D,K=-f,f=-_,_=K,K=-m,m=-x,x=K),f>0){if(!(_>0&&f<=_))return D}else{if(_>0||!(f>=_))return-D;D=-D,f=-f,_=-_}for(;;){if((x-=(xt=Math.floor(_/f))*m)<0)return-D;if(x>m)return D;if(f>(_-=xt*f)+_){if(m<x+x)return D}else{if(m>x+x)return-D;_=f-_,x=m-x,D=-D}if(0===x)return 0===_?0:-D;if(0===_||(f-=(xt=Math.floor(f/_))*_,(m-=xt*x)<0))return D;if(m>x)return-D;if(_>f+f){if(x<m+m)return-D}else{if(x>m+m)return D;f=_-f,m=x-m,D=-D}if(0===m)return 0===f?0:D;if(0===f)return-D}};var ye=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};ye.prototype.countSegment=function(f,m){if(f.x<this._p.x&&m.x<this._p.x)return null;if(this._p.x===m.x&&this._p.y===m.y)return this._isPointOnSegment=!0,null;if(f.y===this._p.y&&m.y===this._p.y){var _=f.x,x=m.x;return _>x&&(_=m.x,x=f.x),this._p.x>=_&&this._p.x<=x&&(this._isPointOnSegment=!0),null}if(f.y>this._p.y&&m.y<=this._p.y||m.y>this._p.y&&f.y<=this._p.y){var K=f.y-this._p.y,Kt=m.y-this._p.y,fe=me.signOfDet2x2(f.x-this._p.x,K,m.x-this._p.x,Kt);if(0===fe)return this._isPointOnSegment=!0,null;Kt<K&&(fe=-fe),fe>0&&this._crossingCount++}},ye.prototype.isPointInPolygon=function(){return this.getLocation()!==ut.EXTERIOR},ye.prototype.getLocation=function(){return this._isPointOnSegment?ut.BOUNDARY:this._crossingCount%2==1?ut.INTERIOR:ut.EXTERIOR},ye.prototype.isOnSegment=function(){return this._isPointOnSegment},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye},ye.locatePointInRing=function(){if(arguments[0]instanceof q&&ce(arguments[1],pe)){for(var m=arguments[1],_=new ye(arguments[0]),x=new q,D=new q,K=1;K<m.size();K++)if(m.getCoordinate(K,x),m.getCoordinate(K-1,D),_.countSegment(x,D),_.isOnSegment())return _.getLocation();return _.getLocation()}if(arguments[0]instanceof q&&arguments[1]instanceof Array){for(var Kt=arguments[1],fe=new ye(arguments[0]),He=1;He<Kt.length;He++)if(fe.countSegment(Kt[He],Kt[He-1]),fe.isOnSegment())return fe.getLocation();return fe.getLocation()}};var xe=function(){},ze={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe},xe.orientationIndex=function(f,m,_){return Wt.orientationIndex(f,m,_)},xe.signedArea=function(){if(arguments[0]instanceof Array){var f=arguments[0];if(f.length<3)return 0;for(var m=0,_=f[0].x,x=1;x<f.length-1;x++)m+=(f[x].x-_)*(f[x-1].y-f[x+1].y);return m/2}if(ce(arguments[0],pe)){var xt=arguments[0],Kt=xt.size();if(Kt<3)return 0;var fe=new q,He=new q,pn=new q;xt.getCoordinate(0,He),xt.getCoordinate(1,pn);var Mn=He.x;pn.x-=Mn;for(var ti=0,li=1;li<Kt-1;li++)fe.y=He.y,He.x=pn.x,He.y=pn.y,xt.getCoordinate(li+1,pn),pn.x-=Mn,ti+=He.x*(fe.y-pn.y);return ti/2}},xe.distanceLineLine=function(f,m,_,x){if(f.equals(m))return xe.distancePointLine(f,_,x);if(_.equals(x))return xe.distancePointLine(x,f,m);var D=!1;if(Dt.intersects(f,m,_,x)){var K=(m.x-f.x)*(x.y-_.y)-(m.y-f.y)*(x.x-_.x);if(0===K)D=!0;else{var Kt=((f.y-_.y)*(m.x-f.x)-(f.x-_.x)*(m.y-f.y))/K,fe=((f.y-_.y)*(x.x-_.x)-(f.x-_.x)*(x.y-_.y))/K;(fe<0||fe>1||Kt<0||Kt>1)&&(D=!0)}}else D=!0;return D?Et.min(xe.distancePointLine(f,_,x),xe.distancePointLine(m,_,x),xe.distancePointLine(_,f,m),xe.distancePointLine(x,f,m)):0},xe.isPointInRing=function(f,m){return xe.locatePointInRing(f,m)!==ut.EXTERIOR},xe.computeLength=function(f){var m=f.size();if(m<=1)return 0;var _=0,x=new q;f.getCoordinate(0,x);for(var D=x.x,K=x.y,xt=1;xt<m;xt++){f.getCoordinate(xt,x);var Kt=x.x,fe=x.y,He=Kt-D,pn=fe-K;_+=Math.sqrt(He*He+pn*pn),D=Kt,K=fe}return _},xe.isCCW=function(f){var m=f.length-1;if(m<3)throw new it("Ring has fewer than 4 points, so orientation cannot be determined");for(var _=f[0],x=0,D=1;D<=m;D++){var K=f[D];K.y>_.y&&(_=K,x=D)}var xt=x;do{(xt-=1)<0&&(xt=m)}while(f[xt].equals2D(_)&&xt!==x);var Kt=x;do{Kt=(Kt+1)%m}while(f[Kt].equals2D(_)&&Kt!==x);var fe=f[xt],He=f[Kt];if(fe.equals2D(_)||He.equals2D(_)||fe.equals2D(He))return!1;var pn=xe.computeOrientation(fe,_,He);return 0===pn?fe.x>He.x:pn>0},xe.locatePointInRing=function(f,m){return ye.locatePointInRing(f,m)},xe.distancePointLinePerpendicular=function(f,m,_){var x=(_.x-m.x)*(_.x-m.x)+(_.y-m.y)*(_.y-m.y);return Math.abs(((m.y-f.y)*(_.x-m.x)-(m.x-f.x)*(_.y-m.y))/x)*Math.sqrt(x)},xe.computeOrientation=function(f,m,_){return xe.orientationIndex(f,m,_)},xe.distancePointLine=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];if(0===m.length)throw new it("Line array must contain at least one vertex");for(var _=f.distance(m[0]),x=0;x<m.length-1;x++){var D=xe.distancePointLine(f,m[x],m[x+1]);D<_&&(_=D)}return _}if(3===arguments.length){var K=arguments[0],xt=arguments[1],Kt=arguments[2];if(xt.x===Kt.x&&xt.y===Kt.y)return K.distance(xt);var fe=(Kt.x-xt.x)*(Kt.x-xt.x)+(Kt.y-xt.y)*(Kt.y-xt.y),He=((K.x-xt.x)*(Kt.x-xt.x)+(K.y-xt.y)*(Kt.y-xt.y))/fe;return He<=0?K.distance(xt):He>=1?K.distance(Kt):Math.abs(((xt.y-K.y)*(Kt.x-xt.x)-(xt.x-K.x)*(Kt.y-xt.y))/fe)*Math.sqrt(fe)}},xe.isOnLine=function(f,m){for(var _=new Ot,x=1;x<m.length;x++)if(_.computeIntersection(f,m[x-1],m[x]),_.hasIntersection())return!0;return!1},ze.CLOCKWISE.get=function(){return-1},ze.RIGHT.get=function(){return xe.CLOCKWISE},ze.COUNTERCLOCKWISE.get=function(){return 1},ze.LEFT.get=function(){return xe.COUNTERCLOCKWISE},ze.COLLINEAR.get=function(){return 0},ze.STRAIGHT.get=function(){return xe.COLLINEAR},Object.defineProperties(xe,ze);var Qe=function(){};Qe.prototype.filter=function(f){},Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe};var Ue=function(){var f=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=f,this._SRID=f.getSRID()},sn={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ue.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION},Ue.prototype.getFactory=function(){return this._factory},Ue.prototype.getGeometryN=function(f){return this},Ue.prototype.getArea=function(){return 0},Ue.prototype.isRectangle=function(){return!1},Ue.prototype.equals=function(){if(arguments[0]instanceof Ue){var f=arguments[0];return null!==f&&this.equalsTopo(f)}if(arguments[0]instanceof Object){var m=arguments[0];return m instanceof Ue&&this.equalsExact(m)}},Ue.prototype.equalsExact=function(f){return this===f||this.equalsExact(f,0)},Ue.prototype.geometryChanged=function(){this.apply(Ue.geometryChangedFilter)},Ue.prototype.geometryChangedAction=function(){this._envelope=null},Ue.prototype.equalsNorm=function(f){return null!==f&&this.norm().equalsExact(f.norm())},Ue.prototype.getLength=function(){return 0},Ue.prototype.getNumGeometries=function(){return 1},Ue.prototype.compareTo=function(){if(1===arguments.length){var f=arguments[0],m=f;return this.getSortIndex()!==m.getSortIndex()?this.getSortIndex()-m.getSortIndex():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(f)}if(2===arguments.length){var _=arguments[0],x=arguments[1];return this.getSortIndex()!==_.getSortIndex()?this.getSortIndex()-_.getSortIndex():this.isEmpty()&&_.isEmpty()?0:this.isEmpty()?-1:_.isEmpty()?1:this.compareToSameClass(_,x)}},Ue.prototype.getUserData=function(){return this._userData},Ue.prototype.getSRID=function(){return this._SRID},Ue.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ue.prototype.checkNotGeometryCollection=function(f){if(f.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION)throw new it("This method does not support GeometryCollection arguments")},Ue.prototype.equal=function(f,m,_){return 0===_?f.equals(m):f.distance(m)<=_},Ue.prototype.norm=function(){var f=this.copy();return f.normalize(),f},Ue.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ue.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Dt(this._envelope)},Ue.prototype.setSRID=function(f){this._SRID=f},Ue.prototype.setUserData=function(f){this._userData=f},Ue.prototype.compare=function(f,m){for(var _=f.iterator(),x=m.iterator();_.hasNext()&&x.hasNext();){var D=_.next(),K=x.next(),xt=D.compareTo(K);if(0!==xt)return xt}return _.hasNext()?1:x.hasNext()?-1:0},Ue.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ue.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ue.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ue.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ue.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ue.SORTINDEX_MULTIPOLYGON},Ue.prototype.interfaces_=function(){return[Ct,mt,tt]},Ue.prototype.getClass=function(){return Ue},Ue.hasNonEmptyElements=function(f){for(var m=0;m<f.length;m++)if(!f[m].isEmpty())return!0;return!1},Ue.hasNullElements=function(f){for(var m=0;m<f.length;m++)if(null===f[m])return!0;return!1},sn.serialVersionUID.get=function(){return 0x799ea46522854c00},sn.SORTINDEX_POINT.get=function(){return 0},sn.SORTINDEX_MULTIPOINT.get=function(){return 1},sn.SORTINDEX_LINESTRING.get=function(){return 2},sn.SORTINDEX_LINEARRING.get=function(){return 3},sn.SORTINDEX_MULTILINESTRING.get=function(){return 4},sn.SORTINDEX_POLYGON.get=function(){return 5},sn.SORTINDEX_MULTIPOLYGON.get=function(){return 6},sn.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},sn.geometryChangedFilter.get=function(){return un},Object.defineProperties(Ue,sn);var un=function(){};un.interfaces_=function(){return[Qe]},un.filter=function(f){f.geometryChangedAction()};var ln=function(){};ln.prototype.filter=function(f){},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var xn=function(){},cn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};xn.prototype.isInBoundary=function(f){},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},cn.Mod2BoundaryNodeRule.get=function(){return Pe},cn.EndPointBoundaryNodeRule.get=function(){return Qt},cn.MultiValentEndPointBoundaryNodeRule.get=function(){return _e},cn.MonoValentEndPointBoundaryNodeRule.get=function(){return Oe},cn.MOD2_BOUNDARY_RULE.get=function(){return new Pe},cn.ENDPOINT_BOUNDARY_RULE.get=function(){return new Qt},cn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _e},cn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Oe},cn.OGC_SFS_BOUNDARY_RULE.get=function(){return xn.MOD2_BOUNDARY_RULE},Object.defineProperties(xn,cn);var Pe=function(){};Pe.prototype.isInBoundary=function(f){return f%2==1},Pe.prototype.interfaces_=function(){return[xn]},Pe.prototype.getClass=function(){return Pe};var Qt=function(){};Qt.prototype.isInBoundary=function(f){return f>0},Qt.prototype.interfaces_=function(){return[xn]},Qt.prototype.getClass=function(){return Qt};var _e=function(){};_e.prototype.isInBoundary=function(f){return f>1},_e.prototype.interfaces_=function(){return[xn]},_e.prototype.getClass=function(){return _e};var Oe=function(){};Oe.prototype.isInBoundary=function(f){return 1===f},Oe.prototype.interfaces_=function(){return[xn]},Oe.prototype.getClass=function(){return Oe};var We=function(){};We.prototype.add=function(){},We.prototype.addAll=function(){},We.prototype.isEmpty=function(){},We.prototype.iterator=function(){},We.prototype.size=function(){},We.prototype.toArray=function(){},We.prototype.remove=function(){},(J.prototype=new Error).name="IndexOutOfBoundsException";var rn=function(){};rn.prototype.hasNext=function(){},rn.prototype.next=function(){},rn.prototype.remove=function(){};var _n=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.get=function(){},m.prototype.set=function(){},m.prototype.isEmpty=function(){},m}(We);(F.prototype=new Error).name="NoSuchElementException";var en=function(f){function m(){f.call(this),this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.ensureCapacity=function(){},m.prototype.interfaces_=function(){return[f,We]},m.prototype.add=function(_){return 1===arguments.length?this.array_.push(_):this.array_.splice(arguments[0],arguments[1]),!0},m.prototype.clear=function(){this.array_=[]},m.prototype.addAll=function(_){for(var x=_.iterator();x.hasNext();)this.add(x.next());return!0},m.prototype.set=function(_,x){var D=this.array_[_];return this.array_[_]=x,D},m.prototype.iterator=function(){return new yn(this)},m.prototype.get=function(_){if(_<0||_>=this.size())throw new J;return this.array_[_]},m.prototype.isEmpty=function(){return 0===this.array_.length},m.prototype.size=function(){return this.array_.length},m.prototype.toArray=function(){for(var _=[],x=0,D=this.array_.length;x<D;x++)_.push(this.array_[x]);return _},m.prototype.remove=function(_){for(var x=!1,D=0,K=this.array_.length;D<K;D++)if(this.array_[D]===_){this.array_.splice(D,1),x=!0;break}return x},m}(_n),yn=function(f){function m(_){f.call(this),this.arrayList_=_,this.position_=0}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new F;return this.arrayList_.get(this.position_++)},m.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},m.prototype.set=function(_){return this.arrayList_.set(this.position_-1,_)},m.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},m}(rn),Bt=function(f){function m(){if(f.call(this),0!==arguments.length)if(1===arguments.length){var x=arguments[0];this.ensureCapacity(x.length),this.add(x,!0)}else if(2===arguments.length){var D=arguments[0],K=arguments[1];this.ensureCapacity(D.length),this.add(D,K)}}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={coordArrayType:{configurable:!0}};return _.coordArrayType.get=function(){return new Array(0).fill(null)},m.prototype.getCoordinate=function(x){return this.get(x)},m.prototype.addAll=function(){if(2===arguments.length){for(var D=arguments[1],K=!1,xt=arguments[0].iterator();xt.hasNext();)this.add(xt.next(),D),K=!0;return K}return f.prototype.addAll.apply(this,arguments)},m.prototype.clone=function(){for(var x=f.prototype.clone.call(this),D=0;D<this.size();D++)x.add(D,this.get(D).copy());return x},m.prototype.toCoordinateArray=function(){return this.toArray(m.coordArrayType)},m.prototype.add=function(){if(1===arguments.length)f.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof q&&"boolean"==typeof arguments[1]){var xt=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(xt))return null;f.prototype.add.call(this,xt)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var He=arguments[0],pn=arguments[1];if(arguments[2])for(var Mn=0;Mn<He.length;Mn++)this.add(He[Mn],pn);else for(var ti=He.length-1;ti>=0;ti--)this.add(He[ti],pn);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof q){var li=arguments[0],bi=arguments[1];if(!arguments[2]){var lr=this.size();if(lr>0&&(li>0&&this.get(li-1).equals2D(bi)||li<lr&&this.get(li).equals2D(bi)))return null}f.prototype.add.call(this,li,bi)}}else if(4===arguments.length){var ra=arguments[0],kn=arguments[1],Br=arguments[2],Js=arguments[3],hl=1;Br>Js&&(hl=-1);for(var El=Br;El!==Js;El+=hl)this.add(ra[El],kn);return!0}},m.prototype.closeRing=function(){this.size()>0&&this.add(new q(this.get(0)),!1)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},Object.defineProperties(m,_),m}(en),Jt=function(){},Ae={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ae.ForwardComparator.get=function(){return je},Ae.BidirectionalComparator.get=function(){return Je},Ae.coordArrayType.get=function(){return new Array(0).fill(null)},Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt},Jt.isRing=function(f){return!(f.length<4||!f[0].equals2D(f[f.length-1]))},Jt.ptNotInList=function(f,m){for(var _=0;_<f.length;_++){var x=f[_];if(Jt.indexOf(x,m)<0)return x}return null},Jt.scroll=function(f,m){var _=Jt.indexOf(m,f);if(_<0)return null;var x=new Array(f.length).fill(null);Me.arraycopy(f,_,x,0,f.length-_),Me.arraycopy(f,0,x,f.length-_,_),Me.arraycopy(x,0,f,0,f.length)},Jt.equals=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];if(f===m)return!0;if(null===f||null===m||f.length!==m.length)return!1;for(var _=0;_<f.length;_++)if(!f[_].equals(m[_]))return!1;return!0}if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2];if(x===D)return!0;if(null===x||null===D||x.length!==D.length)return!1;for(var xt=0;xt<x.length;xt++)if(0!==K.compare(x[xt],D[xt]))return!1;return!0}},Jt.intersection=function(f,m){for(var _=new Bt,x=0;x<f.length;x++)m.intersects(f[x])&&_.add(f[x],!0);return _.toCoordinateArray()},Jt.hasRepeatedPoints=function(f){for(var m=1;m<f.length;m++)if(f[m-1].equals(f[m]))return!0;return!1},Jt.removeRepeatedPoints=function(f){return Jt.hasRepeatedPoints(f)?new Bt(f,!1).toCoordinateArray():f},Jt.reverse=function(f){for(var m=f.length-1,_=Math.trunc(m/2),x=0;x<=_;x++){var D=f[x];f[x]=f[m-x],f[m-x]=D}},Jt.removeNull=function(f){for(var m=0,_=0;_<f.length;_++)null!==f[_]&&m++;var x=new Array(m).fill(null);if(0===m)return x;for(var D=0,K=0;K<f.length;K++)null!==f[K]&&(x[D++]=f[K]);return x},Jt.copyDeep=function(){if(1===arguments.length){for(var f=arguments[0],m=new Array(f.length).fill(null),_=0;_<f.length;_++)m[_]=new q(f[_]);return m}if(5===arguments.length)for(var x=arguments[0],D=arguments[1],K=arguments[2],xt=arguments[3],Kt=arguments[4],fe=0;fe<Kt;fe++)K[xt+fe]=new q(x[D+fe])},Jt.isEqualReversed=function(f,m){for(var _=0;_<f.length;_++)if(0!==f[_].compareTo(m[f.length-_-1]))return!1;return!0},Jt.envelope=function(f){for(var m=new Dt,_=0;_<f.length;_++)m.expandToInclude(f[_]);return m},Jt.toCoordinateArray=function(f){return f.toArray(Jt.coordArrayType)},Jt.atLeastNCoordinatesOrNothing=function(f,m){return m.length>=f?m:[]},Jt.indexOf=function(f,m){for(var _=0;_<m.length;_++)if(f.equals(m[_]))return _;return-1},Jt.increasingDirection=function(f){for(var m=0;m<Math.trunc(f.length/2);m++){var x=f[m].compareTo(f[f.length-1-m]);if(0!==x)return x}return 1},Jt.compare=function(f,m){for(var _=0;_<f.length&&_<m.length;){var x=f[_].compareTo(m[_]);if(0!==x)return x;_++}return _<m.length?-1:_<f.length?1:0},Jt.minCoordinate=function(f){for(var m=null,_=0;_<f.length;_++)(null===m||m.compareTo(f[_])>0)&&(m=f[_]);return m},Jt.extract=function(f,m,_){m=Et.clamp(m,0,f.length);var x=(_=Et.clamp(_,-1,f.length))-m+1;_<0&&(x=0),m>=f.length&&(x=0),_<m&&(x=0);var D=new Array(x).fill(null);if(0===x)return D;for(var K=0,xt=m;xt<=_;xt++)D[K++]=f[xt];return D},Object.defineProperties(Jt,Ae);var je=function(){};je.prototype.compare=function(f,m){return Jt.compare(f,m)},je.prototype.interfaces_=function(){return[wt]},je.prototype.getClass=function(){return je};var Je=function(){};Je.prototype.compare=function(f,m){var _=f,x=m;if(_.length<x.length)return-1;if(_.length>x.length)return 1;if(0===_.length)return 0;var D=Jt.compare(_,x);return Jt.isEqualReversed(_,x)?0:D},Je.prototype.OLDcompare=function(f,m){var _=f,x=m;if(_.length<x.length)return-1;if(_.length>x.length)return 1;if(0===_.length)return 0;for(var D=Jt.increasingDirection(_),K=Jt.increasingDirection(x),xt=D>0?0:_.length-1,Kt=K>0?0:_.length-1,fe=0;fe<_.length;fe++){var He=_[xt].compareTo(x[Kt]);if(0!==He)return He;xt+=D,Kt+=K}return 0},Je.prototype.interfaces_=function(){return[wt]},Je.prototype.getClass=function(){return Je};var An=function(){};An.prototype.get=function(){},An.prototype.put=function(){},An.prototype.size=function(){},An.prototype.values=function(){},An.prototype.entrySet=function(){};var vi=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m}(An);(Z.prototype=new Error).name="OperationNotSupported",(G.prototype=new We).contains=function(){};var ur=function(f){function m(){f.call(this),this.array_=[],arguments[0]instanceof We&&this.addAll(arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.contains=function(_){for(var x=0,D=this.array_.length;x<D;x++)if(this.array_[x]===_)return!0;return!1},m.prototype.add=function(_){return!this.contains(_)&&(this.array_.push(_),!0)},m.prototype.addAll=function(_){for(var x=_.iterator();x.hasNext();)this.add(x.next());return!0},m.prototype.remove=function(_){throw new Error},m.prototype.size=function(){return this.array_.length},m.prototype.isEmpty=function(){return 0===this.array_.length},m.prototype.toArray=function(){for(var _=[],x=0,D=this.array_.length;x<D;x++)_.push(this.array_[x]);return _},m.prototype.iterator=function(){return new Ri(this)},m}(G),Ri=function(f){function m(_){f.call(this),this.hashSet_=_,this.position_=0}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new F;return this.hashSet_.array_[this.position_++]},m.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},m.prototype.remove=function(){throw new Z},m}(rn),Ji=0;($.prototype=new vi).get=function(f){for(var m=this.root_;null!==m;){var _=f.compareTo(m.key);if(_<0)m=m.left;else{if(!(_>0))return m.value;m=m.right}}return null},$.prototype.put=function(f,m){if(null===this.root_)return this.root_={key:f,value:m,left:null,right:null,parent:null,color:Ji,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var _,x,D=this.root_;do{if(_=D,(x=f.compareTo(D.key))<0)D=D.left;else{if(!(x>0)){var K=D.value;return D.value=m,K}D=D.right}}while(null!==D);var xt={key:f,left:null,right:null,value:m,parent:_,color:Ji,getValue:function(){return this.value},getKey:function(){return this.key}};return x<0?_.left=xt:_.right=xt,this.fixAfterInsertion(xt),this.size_++,null},$.prototype.fixAfterInsertion=function(f){for(f.color=1;null!=f&&f!==this.root_&&1===f.parent.color;)if(Q(f)===ct(Q(Q(f)))){var m=ot(Q(Q(f)));1===O(m)?(at(Q(f),Ji),at(m,Ji),at(Q(Q(f)),1),f=Q(Q(f))):(f===ot(Q(f))&&(f=Q(f),this.rotateLeft(f)),at(Q(f),Ji),at(Q(Q(f)),1),this.rotateRight(Q(Q(f))))}else{var _=ct(Q(Q(f)));1===O(_)?(at(Q(f),Ji),at(_,Ji),at(Q(Q(f)),1),f=Q(Q(f))):(f===ct(Q(f))&&(f=Q(f),this.rotateRight(f)),at(Q(f),Ji),at(Q(Q(f)),1),this.rotateLeft(Q(Q(f))))}this.root_.color=Ji},$.prototype.values=function(){var f=new en,m=this.getFirstEntry();if(null!==m)for(f.add(m.value);null!==(m=$.successor(m));)f.add(m.value);return f},$.prototype.entrySet=function(){var f=new ur,m=this.getFirstEntry();if(null!==m)for(f.add(m);null!==(m=$.successor(m));)f.add(m);return f},$.prototype.rotateLeft=function(f){if(null!=f){var m=f.right;f.right=m.left,null!=m.left&&(m.left.parent=f),m.parent=f.parent,null===f.parent?this.root_=m:f.parent.left===f?f.parent.left=m:f.parent.right=m,m.left=f,f.parent=m}},$.prototype.rotateRight=function(f){if(null!=f){var m=f.left;f.left=m.right,null!=m.right&&(m.right.parent=f),m.parent=f.parent,null===f.parent?this.root_=m:f.parent.right===f?f.parent.right=m:f.parent.left=m,m.right=f,f.parent=m}},$.prototype.getFirstEntry=function(){var f=this.root_;if(null!=f)for(;null!=f.left;)f=f.left;return f},$.successor=function(f){if(null===f)return null;if(null!==f.right){for(var m=f.right;null!==m.left;)m=m.left;return m}for(var _=f.parent,x=f;null!==_&&x===_.right;)x=_,_=_.parent;return _},$.prototype.size=function(){return this.size_};var Lo=function(){};Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo},N.prototype=new G,(U.prototype=new N).contains=function(f){for(var m=0,_=this.array_.length;m<_;m++)if(0===this.array_[m].compareTo(f))return!0;return!1},U.prototype.add=function(f){if(this.contains(f))return!1;for(var m=0,_=this.array_.length;m<_;m++)if(1===this.array_[m].compareTo(f))return this.array_.splice(m,0,f),!0;return this.array_.push(f),!0},U.prototype.addAll=function(f){for(var m=f.iterator();m.hasNext();)this.add(m.next());return!0},U.prototype.remove=function(f){throw new Z},U.prototype.size=function(){return this.array_.length},U.prototype.isEmpty=function(){return 0===this.array_.length},U.prototype.toArray=function(){for(var f=[],m=0,_=this.array_.length;m<_;m++)f.push(this.array_[m]);return f},U.prototype.iterator=function(){return new Za(this)};var Za=function(f){this.treeSet_=f,this.position_=0};Za.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new F;return this.treeSet_.array_[this.position_++]},Za.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Za.prototype.remove=function(){throw new Z};var Xo=function(){};Xo.sort=function(){var f,m,_,D=arguments[0];if(1===arguments.length)D.sort(function(xt,Kt){return xt.compareTo(Kt)});else if(2===arguments.length)_=arguments[1],D.sort(function(xt,Kt){return _.compare(xt,Kt)});else if(3===arguments.length){(m=D.slice(arguments[1],arguments[2])).sort();var K=D.slice(0,arguments[1]).concat(m,D.slice(arguments[2],D.length));for(D.splice(0,D.length),f=0;f<K.length;f++)D.push(K[f])}else if(4===arguments.length)for(m=D.slice(arguments[1],arguments[2]),_=arguments[3],m.sort(function(xt,Kt){return _.compare(xt,Kt)}),K=D.slice(0,arguments[1]).concat(m,D.slice(arguments[2],D.length)),D.splice(0,D.length),f=0;f<K.length;f++)D.push(K[f])},Xo.asList=function(f){for(var m=new en,_=0,x=f.length;_<x;_++)m.add(f[_]);return m};var Bi=function(){},ua={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ua.P.get=function(){return 0},ua.L.get=function(){return 1},ua.A.get=function(){return 2},ua.FALSE.get=function(){return-1},ua.TRUE.get=function(){return-2},ua.DONTCARE.get=function(){return-3},ua.SYM_FALSE.get=function(){return"F"},ua.SYM_TRUE.get=function(){return"T"},ua.SYM_DONTCARE.get=function(){return"*"},ua.SYM_P.get=function(){return"0"},ua.SYM_L.get=function(){return"1"},ua.SYM_A.get=function(){return"2"},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.toDimensionSymbol=function(f){switch(f){case Bi.FALSE:return Bi.SYM_FALSE;case Bi.TRUE:return Bi.SYM_TRUE;case Bi.DONTCARE:return Bi.SYM_DONTCARE;case Bi.P:return Bi.SYM_P;case Bi.L:return Bi.SYM_L;case Bi.A:return Bi.SYM_A}throw new it("Unknown dimension value: "+f)},Bi.toDimensionValue=function(f){switch(Zt.toUpperCase(f)){case Bi.SYM_FALSE:return Bi.FALSE;case Bi.SYM_TRUE:return Bi.TRUE;case Bi.SYM_DONTCARE:return Bi.DONTCARE;case Bi.SYM_P:return Bi.P;case Bi.SYM_L:return Bi.L;case Bi.SYM_A:return Bi.A}throw new it("Unknown dimension symbol: "+f)},Object.defineProperties(Bi,ua);var zt=function(){};zt.prototype.filter=function(f){},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var Yt=function(){};Yt.prototype.filter=function(f,m){},Yt.prototype.isDone=function(){},Yt.prototype.isGeometryChanged=function(){},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Be=function(f){function m(x,D){if(f.call(this,D),this._geometries=x||[],f.hasNullElements(this._geometries))throw new it("geometries must not contain null elements")}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){for(var x=new Dt,D=0;D<this._geometries.length;D++)x.expandToInclude(this._geometries[D].getEnvelopeInternal());return x},m.prototype.getGeometryN=function(x){return this._geometries[x]},m.prototype.getSortIndex=function(){return f.SORTINDEX_GEOMETRYCOLLECTION},m.prototype.getCoordinates=function(){for(var x=new Array(this.getNumPoints()).fill(null),D=-1,K=0;K<this._geometries.length;K++)for(var xt=this._geometries[K].getCoordinates(),Kt=0;Kt<xt.length;Kt++)x[++D]=xt[Kt];return x},m.prototype.getArea=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getArea();return x},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(this._geometries.length!==K._geometries.length)return!1;for(var xt=0;xt<this._geometries.length;xt++)if(!this._geometries[xt].equalsExact(K._geometries[xt],D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){for(var x=0;x<this._geometries.length;x++)this._geometries[x].normalize();Xo.sort(this._geometries)},m.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},m.prototype.getBoundaryDimension=function(){for(var x=Bi.FALSE,D=0;D<this._geometries.length;D++)x=Math.max(x,this._geometries[D].getBoundaryDimension());return x},m.prototype.getDimension=function(){for(var x=Bi.FALSE,D=0;D<this._geometries.length;D++)x=Math.max(x,this._geometries[D].getDimension());return x},m.prototype.getLength=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getLength();return x},m.prototype.getNumPoints=function(){for(var x=0,D=0;D<this._geometries.length;D++)x+=this._geometries[D].getNumPoints();return x},m.prototype.getNumGeometries=function(){return this._geometries.length},m.prototype.reverse=function(){for(var D=new Array(this._geometries.length).fill(null),K=0;K<this._geometries.length;K++)D[K]=this._geometries[K].reverse();return this.getFactory().createGeometryCollection(D)},m.prototype.compareToSameClass=function(){if(1===arguments.length){var x=arguments[0],D=new U(Xo.asList(this._geometries)),K=new U(Xo.asList(x._geometries));return this.compare(D,K)}if(2===arguments.length){for(var Kt=arguments[1],fe=arguments[0],He=this.getNumGeometries(),pn=fe.getNumGeometries(),Mn=0;Mn<He&&Mn<pn;){var ti=this.getGeometryN(Mn),li=fe.getGeometryN(Mn),bi=ti.compareToSameClass(li,Kt);if(0!==bi)return bi;Mn++}return Mn<He?1:Mn<pn?-1:0}},m.prototype.apply=function(){if(ce(arguments[0],ln))for(var x=arguments[0],D=0;D<this._geometries.length;D++)this._geometries[D].apply(x);else if(ce(arguments[0],Yt)){var K=arguments[0];if(0===this._geometries.length)return null;for(var xt=0;xt<this._geometries.length&&(this._geometries[xt].apply(K),!K.isDone());xt++);K.isGeometryChanged()&&this.geometryChanged()}else if(ce(arguments[0],zt)){var Kt=arguments[0];Kt.filter(this);for(var fe=0;fe<this._geometries.length;fe++)this._geometries[fe].apply(Kt)}else if(ce(arguments[0],Qe)){var He=arguments[0];He.filter(this);for(var pn=0;pn<this._geometries.length;pn++)this._geometries[pn].apply(He)}},m.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),z.shouldNeverReachHere(),null},m.prototype.clone=function(){var x=f.prototype.clone.call(this);x._geometries=new Array(this._geometries.length).fill(null);for(var D=0;D<this._geometries.length;D++)x._geometries[D]=this._geometries[D].clone();return x},m.prototype.getGeometryType=function(){return"GeometryCollection"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.isEmpty=function(){for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isEmpty())return!1;return!0},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(m,_),m}(Ue),qe=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTILINESTRING},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return this.isClosed()?Bi.FALSE:0},m.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].isClosed())return!1;return!0},m.prototype.getDimension=function(){return 1},m.prototype.reverse=function(){for(var x=this._geometries.length,D=new Array(x).fill(null),K=0;K<this._geometries.length;K++)D[x-1-K]=this._geometries[K].reverse();return this.getFactory().createMultiLineString(D)},m.prototype.getBoundary=function(){return new an(this).getBoundary()},m.prototype.getGeometryType=function(){return"MultiLineString"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[Lo]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(m,_),m}(Be),an=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var f=arguments[0],m=xn.MOD2_BOUNDARY_RULE;this._geom=f,this._geomFact=f.getFactory(),this._bnRule=m}else if(2===arguments.length){var _=arguments[0],x=arguments[1];this._geom=_,this._geomFact=_.getFactory(),this._bnRule=x}};an.prototype.boundaryMultiLineString=function(f){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var m=this.computeBoundaryCoordinates(f);return 1===m.length?this._geomFact.createPoint(m[0]):this._geomFact.createMultiPointFromCoords(m)},an.prototype.getBoundary=function(){return this._geom instanceof Ti?this.boundaryLineString(this._geom):this._geom instanceof qe?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},an.prototype.boundaryLineString=function(f){return this._geom.isEmpty()?this.getEmptyMultiPoint():f.isClosed()?this._bnRule.isInBoundary(2)?f.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([f.getStartPoint(),f.getEndPoint()])},an.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},an.prototype.computeBoundaryCoordinates=function(f){var m=new en;this._endpointMap=new $;for(var _=0;_<f.getNumGeometries();_++){var x=f.getGeometryN(_);0!==x.getNumPoints()&&(this.addEndpoint(x.getCoordinateN(0)),this.addEndpoint(x.getCoordinateN(x.getNumPoints()-1)))}for(var D=this._endpointMap.entrySet().iterator();D.hasNext();){var K=D.next(),xt=K.getValue().count;this._bnRule.isInBoundary(xt)&&m.add(K.getKey())}return Jt.toCoordinateArray(m)},an.prototype.addEndpoint=function(f){var m=this._endpointMap.get(f);null===m&&(m=new Fn,this._endpointMap.put(f,m)),m.count++},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an},an.getBoundary=function(){return 1===arguments.length?new an(arguments[0]).getBoundary():2===arguments.length?new an(arguments[0],arguments[1]).getBoundary():void 0};var Fn=function(){this.count=null};Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var ri=function(){},Ai={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.chars=function(f,m){for(var _=new Array(m).fill(null),x=0;x<m;x++)_[x]=f;return String(_)},ri.getStackTrace=function(){if(1===arguments.length){var f=arguments[0],m=new function(){},_=new function(){}(m);return f.printStackTrace(_),m.toString()}if(2===arguments.length){for(var D=arguments[1],K="",xt=new function(){}(new function(){}(ri.getStackTrace(arguments[0]))),Kt=0;Kt<D;Kt++)try{K+=xt.readLine()+ri.NEWLINE}catch(fe){if(!(fe instanceof bt))throw fe;z.shouldNeverReachHere()}return K}},ri.split=function(f,m){for(var _=m.length,x=new en,D=""+f,K=D.indexOf(m);K>=0;){var xt=D.substring(0,K);x.add(xt),K=(D=D.substring(K+_)).indexOf(m)}D.length>0&&x.add(D);for(var Kt=new Array(x.size()).fill(null),fe=0;fe<Kt.length;fe++)Kt[fe]=x.get(fe);return Kt},ri.toString=function(){if(1===arguments.length)return ri.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},ri.spaces=function(f){return ri.chars(" ",f)},Ai.NEWLINE.get=function(){return Me.getProperty("line.separator")},Ai.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(ri,Ai);var Vi=function(){};Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},Vi.copyCoord=function(f,m,_,x){for(var D=Math.min(f.getDimension(),_.getDimension()),K=0;K<D;K++)_.setOrdinate(x,K,f.getOrdinate(m,K))},Vi.isRing=function(f){var m=f.size();return 0===m||!(m<=3)&&f.getOrdinate(0,pe.X)===f.getOrdinate(m-1,pe.X)&&f.getOrdinate(0,pe.Y)===f.getOrdinate(m-1,pe.Y)},Vi.isEqual=function(f,m){var _=f.size();if(_!==m.size())return!1;for(var x=Math.min(f.getDimension(),m.getDimension()),D=0;D<_;D++)for(var K=0;K<x;K++){var xt=f.getOrdinate(D,K),Kt=m.getOrdinate(D,K);if(!(f.getOrdinate(D,K)===m.getOrdinate(D,K)||V.isNaN(xt)&&V.isNaN(Kt)))return!1}return!0},Vi.extend=function(f,m,_){var x=f.create(_,m.getDimension()),D=m.size();if(Vi.copy(m,0,x,0,D),D>0)for(var K=D;K<_;K++)Vi.copy(m,D-1,x,K,1);return x},Vi.reverse=function(f){for(var m=f.size()-1,_=Math.trunc(m/2),x=0;x<=_;x++)Vi.swap(f,x,m-x)},Vi.swap=function(f,m,_){if(m===_)return null;for(var x=0;x<f.getDimension();x++){var D=f.getOrdinate(m,x);f.setOrdinate(m,x,f.getOrdinate(_,x)),f.setOrdinate(_,x,D)}},Vi.copy=function(f,m,_,x,D){for(var K=0;K<D;K++)Vi.copyCoord(f,m+K,_,x+K)},Vi.toString=function(){if(1===arguments.length){var f=arguments[0],m=f.size();if(0===m)return"()";var _=f.getDimension(),x=new dt;x.append("(");for(var D=0;D<m;D++){D>0&&x.append(" ");for(var K=0;K<_;K++)K>0&&x.append(","),x.append(ri.toString(f.getOrdinate(D,K)))}return x.append(")"),x.toString()}},Vi.ensureValidRing=function(f,m){var _=m.size();return 0===_?m:_<=3?Vi.createClosedRing(f,m,4):m.getOrdinate(0,pe.X)===m.getOrdinate(_-1,pe.X)&&m.getOrdinate(0,pe.Y)===m.getOrdinate(_-1,pe.Y)?m:Vi.createClosedRing(f,m,_+1)},Vi.createClosedRing=function(f,m,_){var x=f.create(_,m.getDimension()),D=m.size();Vi.copy(m,0,x,0,D);for(var K=D;K<_;K++)Vi.copy(m,0,x,K,1);return x};var Ti=function(f){function m(x,D){f.call(this,D),this._points=null,this.init(x)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Dt:this._points.expandEnvelope(new Dt)},m.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},m.prototype.getSortIndex=function(){return f.SORTINDEX_LINESTRING},m.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(this._points.size()!==K._points.size())return!1;for(var xt=0;xt<this._points.size();xt++)if(!this.equal(this._points.getCoordinate(xt),K._points.getCoordinate(xt),D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){for(var x=0;x<Math.trunc(this._points.size()/2);x++){var D=this._points.size()-1-x;if(!this._points.getCoordinate(x).equals(this._points.getCoordinate(D)))return this._points.getCoordinate(x).compareTo(this._points.getCoordinate(D))>0&&Vi.reverse(this._points),null}},m.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},m.prototype.getBoundaryDimension=function(){return this.isClosed()?Bi.FALSE:0},m.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},m.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},m.prototype.getDimension=function(){return 1},m.prototype.getLength=function(){return xe.computeLength(this._points)},m.prototype.getNumPoints=function(){return this._points.size()},m.prototype.reverse=function(){var x=this._points.copy();return Vi.reverse(x),this.getFactory().createLineString(x)},m.prototype.compareToSameClass=function(){if(1===arguments.length){for(var x=arguments[0],D=0,K=0;D<this._points.size()&&K<x._points.size();){var xt=this._points.getCoordinate(D).compareTo(x._points.getCoordinate(K));if(0!==xt)return xt;D++,K++}return D<this._points.size()?1:K<x._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},m.prototype.apply=function(){if(ce(arguments[0],ln))for(var x=arguments[0],D=0;D<this._points.size();D++)x.filter(this._points.getCoordinate(D));else if(ce(arguments[0],Yt)){var K=arguments[0];if(0===this._points.size())return null;for(var xt=0;xt<this._points.size()&&(K.filter(this._points,xt),!K.isDone());xt++);K.isGeometryChanged()&&this.geometryChanged()}else(ce(arguments[0],zt)||ce(arguments[0],Qe))&&arguments[0].filter(this)},m.prototype.getBoundary=function(){return new an(this).getBoundary()},m.prototype.isEquivalentClass=function(x){return x instanceof m},m.prototype.clone=function(){var x=f.prototype.clone.call(this);return x._points=this._points.clone(),x},m.prototype.getCoordinateN=function(x){return this._points.getCoordinate(x)},m.prototype.getGeometryType=function(){return"LineString"},m.prototype.copy=function(){return new m(this._points.copy(),this._factory)},m.prototype.getCoordinateSequence=function(){return this._points},m.prototype.isEmpty=function(){return 0===this._points.size()},m.prototype.init=function(x){if(null===x&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),1===x.size())throw new it("Invalid number of points in LineString (found "+x.size()+" - must be 0 or >= 2)");this._points=x},m.prototype.isCoordinate=function(x){for(var D=0;D<this._points.size();D++)if(this._points.getCoordinate(D).equals(x))return!0;return!1},m.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},m.prototype.getPointN=function(x){return this.getFactory().createPoint(this._points.getCoordinate(x))},m.prototype.interfaces_=function(){return[Lo]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(m,_),m}(Ue),bo=function(){};bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo};var fo=function(f){function m(x,D){f.call(this,D),this._coordinates=x||null,this.init(this._coordinates)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Dt;var x=new Dt;return x.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),x},m.prototype.getSortIndex=function(){return f.SORTINDEX_POINT},m.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&(!(!this.isEmpty()||!x.isEmpty())||this.isEmpty()===x.isEmpty()&&this.equal(x.getCoordinate(),this.getCoordinate(),D))}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){},m.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},m.prototype.getBoundaryDimension=function(){return Bi.FALSE},m.prototype.getDimension=function(){return 0},m.prototype.getNumPoints=function(){return this.isEmpty()?0:1},m.prototype.reverse=function(){return this.copy()},m.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},m.prototype.compareToSameClass=function(){if(1===arguments.length){var x=arguments[0];return this.getCoordinate().compareTo(x.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},m.prototype.apply=function(){if(ce(arguments[0],ln)){var x=arguments[0];if(this.isEmpty())return null;x.filter(this.getCoordinate())}else if(ce(arguments[0],Yt)){var D=arguments[0];if(this.isEmpty())return null;D.filter(this._coordinates,0),D.isGeometryChanged()&&this.geometryChanged()}else(ce(arguments[0],zt)||ce(arguments[0],Qe))&&arguments[0].filter(this)},m.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},m.prototype.clone=function(){var x=f.prototype.clone.call(this);return x._coordinates=this._coordinates.clone(),x},m.prototype.getGeometryType=function(){return"Point"},m.prototype.copy=function(){return new m(this._coordinates.copy(),this._factory)},m.prototype.getCoordinateSequence=function(){return this._coordinates},m.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},m.prototype.isEmpty=function(){return 0===this._coordinates.size()},m.prototype.init=function(x){null===x&&(x=this.getFactory().getCoordinateSequenceFactory().create([])),z.isTrue(x.size()<=1),this._coordinates=x},m.prototype.isSimple=function(){return!0},m.prototype.interfaces_=function(){return[bo]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(m,_),m}(Ue),Va=function(){};Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va};var jo=function(f){function m(x,D,K){if(f.call(this,K),this._shell=null,this._holes=null,null===x&&(x=this.getFactory().createLinearRing()),null===D&&(D=[]),f.hasNullElements(D))throw new it("holes must not contain null elements");if(x.isEmpty()&&f.hasNonEmptyElements(D))throw new it("shell is empty but holes are not");this._shell=x,this._holes=D}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},m.prototype.getSortIndex=function(){return f.SORTINDEX_POLYGON},m.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var x=new Array(this.getNumPoints()).fill(null),D=-1,K=this._shell.getCoordinates(),xt=0;xt<K.length;xt++)x[++D]=K[xt];for(var Kt=0;Kt<this._holes.length;Kt++)for(var fe=this._holes[Kt].getCoordinates(),He=0;He<fe.length;He++)x[++D]=fe[He];return x},m.prototype.getArea=function(){var x=0;x+=Math.abs(xe.signedArea(this._shell.getCoordinateSequence()));for(var D=0;D<this._holes.length;D++)x-=Math.abs(xe.signedArea(this._holes[D].getCoordinateSequence()));return x},m.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var x=this._shell.getCoordinateSequence(),D=this.getEnvelopeInternal(),K=0;K<5;K++){var xt=x.getX(K);if(xt!==D.getMinX()&&xt!==D.getMaxX())return!1;var Kt=x.getY(K);if(Kt!==D.getMinY()&&Kt!==D.getMaxY())return!1}for(var fe=x.getX(0),He=x.getY(0),pn=1;pn<=4;pn++){var Mn=x.getX(pn),ti=x.getY(pn);if(Mn!==fe==(ti!==He))return!1;fe=Mn,He=ti}return!0},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];if(!this.isEquivalentClass(x))return!1;var K=x;if(!this._shell.equalsExact(K._shell,D)||this._holes.length!==K._holes.length)return!1;for(var fe=0;fe<this._holes.length;fe++)if(!this._holes[fe].equalsExact(K._holes[fe],D))return!1;return!0}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var x=0;x<this._holes.length;x++)this.normalize(this._holes[x],!1);Xo.sort(this._holes)}else if(2===arguments.length){var D=arguments[0],K=arguments[1];if(D.isEmpty())return null;var xt=new Array(D.getCoordinates().length-1).fill(null);Me.arraycopy(D.getCoordinates(),0,xt,0,xt.length);var Kt=Jt.minCoordinate(D.getCoordinates());Jt.scroll(xt,Kt),Me.arraycopy(xt,0,D.getCoordinates(),0,xt.length),D.getCoordinates()[xt.length]=xt[0],xe.isCCW(D.getCoordinates())===K&&Jt.reverse(D.getCoordinates())}},m.prototype.getCoordinate=function(){return this._shell.getCoordinate()},m.prototype.getNumInteriorRing=function(){return this._holes.length},m.prototype.getBoundaryDimension=function(){return 1},m.prototype.getDimension=function(){return 2},m.prototype.getLength=function(){var x=0;x+=this._shell.getLength();for(var D=0;D<this._holes.length;D++)x+=this._holes[D].getLength();return x},m.prototype.getNumPoints=function(){for(var x=this._shell.getNumPoints(),D=0;D<this._holes.length;D++)x+=this._holes[D].getNumPoints();return x},m.prototype.reverse=function(){var x=this.copy();x._shell=this._shell.copy().reverse(),x._holes=new Array(this._holes.length).fill(null);for(var D=0;D<this._holes.length;D++)x._holes[D]=this._holes[D].copy().reverse();return x},m.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},m.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var Kt=arguments[1],fe=arguments[0],Mn=this._shell.compareToSameClass(fe._shell,Kt);if(0!==Mn)return Mn;for(var ti=this.getNumInteriorRing(),li=fe.getNumInteriorRing(),bi=0;bi<ti&&bi<li;){var lr=this.getInteriorRingN(bi),ra=fe.getInteriorRingN(bi),kn=lr.compareToSameClass(ra,Kt);if(0!==kn)return kn;bi++}return bi<ti?1:bi<li?-1:0}},m.prototype.apply=function(x){if(ce(x,ln)){this._shell.apply(x);for(var D=0;D<this._holes.length;D++)this._holes[D].apply(x)}else if(ce(x,Yt)){if(this._shell.apply(x),!x.isDone())for(var K=0;K<this._holes.length&&(this._holes[K].apply(x),!x.isDone());K++);x.isGeometryChanged()&&this.geometryChanged()}else if(ce(x,zt))x.filter(this);else if(ce(x,Qe)){x.filter(this),this._shell.apply(x);for(var xt=0;xt<this._holes.length;xt++)this._holes[xt].apply(x)}},m.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var x=new Array(this._holes.length+1).fill(null);x[0]=this._shell;for(var D=0;D<this._holes.length;D++)x[D+1]=this._holes[D];return x.length<=1?this.getFactory().createLinearRing(x[0].getCoordinateSequence()):this.getFactory().createMultiLineString(x)},m.prototype.clone=function(){var x=f.prototype.clone.call(this);x._shell=this._shell.clone(),x._holes=new Array(this._holes.length).fill(null);for(var D=0;D<this._holes.length;D++)x._holes[D]=this._holes[D].clone();return x},m.prototype.getGeometryType=function(){return"Polygon"},m.prototype.copy=function(){for(var x=this._shell.copy(),D=new Array(this._holes.length).fill(null),K=0;K<D.length;K++)D[K]=this._holes[K].copy();return new m(x,D,this._factory)},m.prototype.getExteriorRing=function(){return this._shell},m.prototype.isEmpty=function(){return this._shell.isEmpty()},m.prototype.getInteriorRingN=function(x){return this._holes[x]},m.prototype.interfaces_=function(){return[Va]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(m,_),m}(Ue),Xs=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTIPOINT},m.prototype.isValid=function(){return!0},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():f.prototype.getCoordinate.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return Bi.FALSE},m.prototype.getDimension=function(){return 0},m.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},m.prototype.getGeometryType=function(){return"MultiPoint"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[bo]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(m,_),m}(Be),zi=function(f){function m(x,D){x instanceof q&&D instanceof Ze&&(x=D.getCoordinateSequenceFactory().create(x)),f.call(this,x,D),this.validateConstruction()}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ue.SORTINDEX_LINEARRING},m.prototype.getBoundaryDimension=function(){return Bi.FALSE},m.prototype.isClosed=function(){return!!this.isEmpty()||f.prototype.isClosed.call(this)},m.prototype.reverse=function(){var x=this._points.copy();return Vi.reverse(x),this.getFactory().createLinearRing(x)},m.prototype.validateConstruction=function(){if(!this.isEmpty()&&!f.prototype.isClosed.call(this))throw new it("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<m.MINIMUM_VALID_SIZE)throw new it("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},m.prototype.getGeometryType=function(){return"LinearRing"},m.prototype.copy=function(){return new m(this._points.copy(),this._factory)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.MINIMUM_VALID_SIZE.get=function(){return 4},_.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(m,_),m}(Ti),cs=function(f){function m(){f.apply(this,arguments)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={serialVersionUID:{configurable:!0}};return m.prototype.getSortIndex=function(){return Ue.SORTINDEX_MULTIPOLYGON},m.prototype.equalsExact=function(){if(2===arguments.length){var x=arguments[0],D=arguments[1];return!!this.isEquivalentClass(x)&&f.prototype.equalsExact.call(this,x,D)}return f.prototype.equalsExact.apply(this,arguments)},m.prototype.getBoundaryDimension=function(){return 1},m.prototype.getDimension=function(){return 2},m.prototype.reverse=function(){for(var D=new Array(this._geometries.length).fill(null),K=0;K<this._geometries.length;K++)D[K]=this._geometries[K].reverse();return this.getFactory().createMultiPolygon(D)},m.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var x=new en,D=0;D<this._geometries.length;D++)for(var K=this._geometries[D].getBoundary(),xt=0;xt<K.getNumGeometries();xt++)x.add(K.getGeometryN(xt));var Kt=new Array(x.size()).fill(null);return this.getFactory().createMultiLineString(x.toArray(Kt))},m.prototype.getGeometryType=function(){return"MultiPolygon"},m.prototype.copy=function(){for(var x=new Array(this._geometries.length).fill(null),D=0;D<x.length;D++)x[D]=this._geometries[D].copy();return new m(x,this._factory)},m.prototype.interfaces_=function(){return[Va]},m.prototype.getClass=function(){return m},_.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(m,_),m}(Be),Qi=function(f){this._factory=f||null,this._isUserDataCopied=!1},po={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Qi.prototype.setCopyUserData=function(f){this._isUserDataCopied=f},Qi.prototype.edit=function(f,m){if(null===f)return null;var _=this.editInternal(f,m);return this._isUserDataCopied&&_.setUserData(f.getUserData()),_},Qi.prototype.editInternal=function(f,m){return null===this._factory&&(this._factory=f.getFactory()),f instanceof Be?this.editGeometryCollection(f,m):f instanceof jo?this.editPolygon(f,m):f instanceof fo||f instanceof Ti?m.edit(f,this._factory):(z.shouldNeverReachHere("Unsupported Geometry class: "+f.getClass().getName()),null)},Qi.prototype.editGeometryCollection=function(f,m){for(var _=m.edit(f,this._factory),x=new en,D=0;D<_.getNumGeometries();D++){var K=this.edit(_.getGeometryN(D),m);null===K||K.isEmpty()||x.add(K)}return _.getClass()===Xs?this._factory.createMultiPoint(x.toArray([])):_.getClass()===qe?this._factory.createMultiLineString(x.toArray([])):_.getClass()===cs?this._factory.createMultiPolygon(x.toArray([])):this._factory.createGeometryCollection(x.toArray([]))},Qi.prototype.editPolygon=function(f,m){var _=m.edit(f,this._factory);if(null===_&&(_=this._factory.createPolygon(null)),_.isEmpty())return _;var x=this.edit(_.getExteriorRing(),m);if(null===x||x.isEmpty())return this._factory.createPolygon();for(var D=new en,K=0;K<_.getNumInteriorRing();K++){var xt=this.edit(_.getInteriorRingN(K),m);null===xt||xt.isEmpty()||D.add(xt)}return this._factory.createPolygon(x,D.toArray([]))},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi},Qi.GeometryEditorOperation=function(){},po.NoOpGeometryOperation.get=function(){return nl},po.CoordinateOperation.get=function(){return os},po.CoordinateSequenceOperation.get=function(){return as},Object.defineProperties(Qi,po);var nl=function(){};nl.prototype.edit=function(f,m){return f},nl.prototype.interfaces_=function(){return[Qi.GeometryEditorOperation]},nl.prototype.getClass=function(){return nl};var os=function(){};os.prototype.edit=function(f,m){var _=this.editCoordinates(f.getCoordinates(),f);return null===_?f:f instanceof zi?m.createLinearRing(_):f instanceof Ti?m.createLineString(_):f instanceof fo?_.length>0?m.createPoint(_[0]):m.createPoint():f},os.prototype.interfaces_=function(){return[Qi.GeometryEditorOperation]},os.prototype.getClass=function(){return os};var as=function(){};as.prototype.edit=function(f,m){return f instanceof zi?m.createLinearRing(this.edit(f.getCoordinateSequence(),f)):f instanceof Ti?m.createLineString(this.edit(f.getCoordinateSequence(),f)):f instanceof fo?m.createPoint(this.edit(f.getCoordinateSequence(),f)):f},as.prototype.interfaces_=function(){return[Qi.GeometryEditorOperation]},as.prototype.getClass=function(){return as};var ki=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var f=arguments[0];this._coordinates=new Array(f).fill(null);for(var m=0;m<f;m++)this._coordinates[m]=new q}else if(ce(arguments[0],pe)){var _=arguments[0];if(null===_)return this._coordinates=new Array(0).fill(null),null;this._dimension=_.getDimension(),this._coordinates=new Array(_.size()).fill(null);for(var x=0;x<this._coordinates.length;x++)this._coordinates[x]=_.getCoordinateCopy(x)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var D=arguments[0],K=arguments[1];this._coordinates=D,this._dimension=K,null===D&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var xt=arguments[0],Kt=arguments[1];this._coordinates=new Array(xt).fill(null),this._dimension=Kt;for(var fe=0;fe<xt;fe++)this._coordinates[fe]=new q}},Yi={serialVersionUID:{configurable:!0}};ki.prototype.setOrdinate=function(f,m,_){switch(m){case pe.X:this._coordinates[f].x=_;break;case pe.Y:this._coordinates[f].y=_;break;case pe.Z:this._coordinates[f].z=_;break;default:throw new it("invalid ordinateIndex")}},ki.prototype.size=function(){return this._coordinates.length},ki.prototype.getOrdinate=function(f,m){switch(m){case pe.X:return this._coordinates[f].x;case pe.Y:return this._coordinates[f].y;case pe.Z:return this._coordinates[f].z}return V.NaN},ki.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var m=arguments[0],_=arguments[1];_.x=this._coordinates[m].x,_.y=this._coordinates[m].y,_.z=this._coordinates[m].z}},ki.prototype.getCoordinateCopy=function(f){return new q(this._coordinates[f])},ki.prototype.getDimension=function(){return this._dimension},ki.prototype.getX=function(f){return this._coordinates[f].x},ki.prototype.clone=function(){for(var f=new Array(this.size()).fill(null),m=0;m<this._coordinates.length;m++)f[m]=this._coordinates[m].clone();return new ki(f,this._dimension)},ki.prototype.expandEnvelope=function(f){for(var m=0;m<this._coordinates.length;m++)f.expandToInclude(this._coordinates[m]);return f},ki.prototype.copy=function(){for(var f=new Array(this.size()).fill(null),m=0;m<this._coordinates.length;m++)f[m]=this._coordinates[m].copy();return new ki(f,this._dimension)},ki.prototype.toString=function(){if(this._coordinates.length>0){var f=new dt(17*this._coordinates.length);f.append("("),f.append(this._coordinates[0]);for(var m=1;m<this._coordinates.length;m++)f.append(", "),f.append(this._coordinates[m]);return f.append(")"),f.toString()}return"()"},ki.prototype.getY=function(f){return this._coordinates[f].y},ki.prototype.toCoordinateArray=function(){return this._coordinates},ki.prototype.interfaces_=function(){return[pe,tt]},ki.prototype.getClass=function(){return ki},Yi.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ki,Yi);var sr=function(){},us={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};sr.prototype.readResolve=function(){return sr.instance()},sr.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ki(arguments[0]);if(ce(arguments[0],pe))return new ki(arguments[0])}else if(2===arguments.length){var _=arguments[0],x=arguments[1];return x>3&&(x=3),x<2?new ki(_):new ki(_,x)}},sr.prototype.interfaces_=function(){return[It,tt]},sr.prototype.getClass=function(){return sr},sr.instance=function(){return sr.instanceObject},us.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},us.instanceObject.get=function(){return new sr},Object.defineProperties(sr,us);var so=function(f){function m(){f.call(this),this.map_=new Map}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.get=function(_){return this.map_.get(_)||null},m.prototype.put=function(_,x){return this.map_.set(_,x),x},m.prototype.values=function(){for(var _=new en,x=this.map_.values(),D=x.next();!D.done;)_.add(D.value),D=x.next();return _},m.prototype.entrySet=function(){var _=new ur;return this.map_.entries().forEach(function(x){return _.add(x)}),_},m.prototype.size=function(){return this.map_.size()},m}(An),oe=function f(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=f.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Re){var m=arguments[0];this._modelType=m,m===f.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var _=arguments[0];this._modelType=f.FIXED,this.setScale(_)}else if(arguments[0]instanceof f){var x=arguments[0];this._modelType=x._modelType,this._scale=x._scale}},we={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};oe.prototype.equals=function(f){return f instanceof oe&&this._modelType===f._modelType&&this._scale===f._scale},oe.prototype.compareTo=function(f){var m=f,_=this.getMaximumSignificantDigits(),x=m.getMaximumSignificantDigits();return new _t(_).compareTo(new _t(x))},oe.prototype.getScale=function(){return this._scale},oe.prototype.isFloating=function(){return this._modelType===oe.FLOATING||this._modelType===oe.FLOATING_SINGLE},oe.prototype.getType=function(){return this._modelType},oe.prototype.toString=function(){var f="UNKNOWN";return this._modelType===oe.FLOATING?f="Floating":this._modelType===oe.FLOATING_SINGLE?f="Floating-Single":this._modelType===oe.FIXED&&(f="Fixed (Scale="+this.getScale()+")"),f},oe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var f=arguments[0];return V.isNaN(f)||this._modelType===oe.FLOATING_SINGLE?f:this._modelType===oe.FIXED?Math.round(f*this._scale)/this._scale:f}if(arguments[0]instanceof q){var m=arguments[0];if(this._modelType===oe.FLOATING)return null;m.x=this.makePrecise(m.x),m.y=this.makePrecise(m.y)}},oe.prototype.getMaximumSignificantDigits=function(){var f=16;return this._modelType===oe.FLOATING?f=16:this._modelType===oe.FLOATING_SINGLE?f=6:this._modelType===oe.FIXED&&(f=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),f},oe.prototype.setScale=function(f){this._scale=Math.abs(f)},oe.prototype.interfaces_=function(){return[tt,mt]},oe.prototype.getClass=function(){return oe},oe.mostPrecise=function(f,m){return f.compareTo(m)>=0?f:m},we.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},we.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(oe,we);var Re=function f(m){this._name=m||null,f.nameToTypeMap.put(m,this)},tn={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Re.prototype.readResolve=function(){return Re.nameToTypeMap.get(this._name)},Re.prototype.toString=function(){return this._name},Re.prototype.interfaces_=function(){return[tt]},Re.prototype.getClass=function(){return Re},tn.serialVersionUID.get=function(){return-552860263173159e4},tn.nameToTypeMap.get=function(){return new so},Object.defineProperties(Re,tn),oe.Type=Re,oe.FIXED=new Re("FIXED"),oe.FLOATING=new Re("FLOATING"),oe.FLOATING_SINGLE=new Re("FLOATING SINGLE");var Ze=function f(){this._precisionModel=new oe,this._SRID=0,this._coordinateSequenceFactory=f.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?ce(arguments[0],It)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof oe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},wn={serialVersionUID:{configurable:!0}};Ze.prototype.toGeometry=function(f){return f.isNull()?this.createPoint(null):f.getMinX()===f.getMaxX()&&f.getMinY()===f.getMaxY()?this.createPoint(new q(f.getMinX(),f.getMinY())):f.getMinX()===f.getMaxX()||f.getMinY()===f.getMaxY()?this.createLineString([new q(f.getMinX(),f.getMinY()),new q(f.getMaxX(),f.getMaxY())]):this.createPolygon(this.createLinearRing([new q(f.getMinX(),f.getMinY()),new q(f.getMinX(),f.getMaxY()),new q(f.getMaxX(),f.getMaxY()),new q(f.getMaxX(),f.getMinY()),new q(f.getMinX(),f.getMinY())]),null)},Ze.prototype.createLineString=function(f){return f?f instanceof Array?new Ti(this.getCoordinateSequenceFactory().create(f),this):ce(f,pe)?new Ti(f,this):void 0:new Ti(this.getCoordinateSequenceFactory().create([]),this)},Ze.prototype.createMultiLineString=function(){return 0===arguments.length?new qe(null,this):1===arguments.length?new qe(arguments[0],this):void 0},Ze.prototype.buildGeometry=function(f){for(var m=null,_=!1,x=!1,D=f.iterator();D.hasNext();){var K=D.next(),xt=K.getClass();null===m&&(m=xt),xt!==m&&(_=!0),K.isGeometryCollectionOrDerived()&&(x=!0)}if(null===m)return this.createGeometryCollection();if(_||x)return this.createGeometryCollection(Ze.toGeometryArray(f));var Kt=f.iterator().next();if(f.size()>1){if(Kt instanceof jo)return this.createMultiPolygon(Ze.toPolygonArray(f));if(Kt instanceof Ti)return this.createMultiLineString(Ze.toLineStringArray(f));if(Kt instanceof fo)return this.createMultiPoint(Ze.toPointArray(f));z.shouldNeverReachHere("Unhandled class: "+Kt.getClass().getName())}return Kt},Ze.prototype.createMultiPointFromCoords=function(f){return this.createMultiPoint(null!==f?this.getCoordinateSequenceFactory().create(f):null)},Ze.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof q){var f=arguments[0];return this.createPoint(null!==f?this.getCoordinateSequenceFactory().create([f]):null)}if(ce(arguments[0],pe))return new fo(arguments[0],this)}},Ze.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ze.prototype.createPolygon=function(){if(0===arguments.length)return new jo(null,null,this);if(1===arguments.length){if(ce(arguments[0],pe))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof zi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new jo(arguments[0],arguments[1],this)},Ze.prototype.getSRID=function(){return this._SRID},Ze.prototype.createGeometryCollection=function(){return 0===arguments.length?new Be(null,this):1===arguments.length?new Be(arguments[0],this):void 0},Ze.prototype.createGeometry=function(f){return new Qi(this).edit(f,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ze.prototype.getPrecisionModel=function(){return this._precisionModel},Ze.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var f=arguments[0];return this.createLinearRing(null!==f?this.getCoordinateSequenceFactory().create(f):null)}if(ce(arguments[0],pe))return new zi(arguments[0],this)}},Ze.prototype.createMultiPolygon=function(){return 0===arguments.length?new cs(null,this):1===arguments.length?new cs(arguments[0],this):void 0},Ze.prototype.createMultiPoint=function(){if(0===arguments.length)return new Xs(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Xs(arguments[0],this);if(arguments[0]instanceof Array){var m=arguments[0];return this.createMultiPoint(null!==m?this.getCoordinateSequenceFactory().create(m):null)}if(ce(arguments[0],pe)){var _=arguments[0];if(null===_)return this.createMultiPoint(new Array(0).fill(null));for(var x=new Array(_.size()).fill(null),D=0;D<_.size();D++){var K=this.getCoordinateSequenceFactory().create(1,_.getDimension());Vi.copy(_,D,K,0,1),x[D]=this.createPoint(K)}return this.createMultiPoint(x)}}},Ze.prototype.interfaces_=function(){return[tt]},Ze.prototype.getClass=function(){return Ze},Ze.toMultiPolygonArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toGeometryArray=function(f){if(null===f)return null;var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.getDefaultCoordinateSequenceFactory=function(){return sr.instance()},Ze.toMultiLineStringArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toLineStringArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toMultiPointArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toLinearRingArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toPointArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.toPolygonArray=function(f){var m=new Array(f.size()).fill(null);return f.toArray(m)},Ze.createPointFromInternalCoord=function(f,m){return m.getPrecisionModel().makePrecise(f),m.getFactory().createPoint(f)},wn.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ze,wn);var pr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_i=function(f){this.geometryFactory=f||new Ze};_i.prototype.read=function(f){var m,_=(m="string"==typeof f?JSON.parse(f):f).type;if(!Er[_])throw new Error("Unknown GeoJSON type: "+m.type);return-1!==pr.indexOf(_)?Er[_].apply(this,[m.coordinates]):Er[_].apply(this,"GeometryCollection"===_?[m.geometries]:[m])},_i.prototype.write=function(f){var m=f.getGeometryType();if(!xo[m])throw new Error("Geometry is not supported");return xo[m].apply(this,[f])};var Er={Feature:function(f){var m={};for(var _ in f)m[_]=f[_];if(f.geometry){if(!Er[f.geometry.type])throw new Error("Unknown GeoJSON type: "+f.type);m.geometry=this.read(f.geometry)}return f.bbox&&(m.bbox=Er.bbox.apply(this,[f.bbox])),m},FeatureCollection:function(f){var m={};if(f.features){m.features=[];for(var _=0;_<f.features.length;++_)m.features.push(this.read(f.features[_]))}return f.bbox&&(m.bbox=this.parse.bbox.apply(this,[f.bbox])),m},coordinates:function(f){for(var m=[],_=0;_<f.length;++_){var x=f[_];m.push(new q(x[0],x[1]))}return m},bbox:function(f){return this.geometryFactory.createLinearRing([new q(f[0],f[1]),new q(f[2],f[1]),new q(f[2],f[3]),new q(f[0],f[3]),new q(f[0],f[1])])},Point:function(f){var m=new q(f[0],f[1]);return this.geometryFactory.createPoint(m)},MultiPoint:function(f){for(var m=[],_=0;_<f.length;++_)m.push(Er.Point.apply(this,[f[_]]));return this.geometryFactory.createMultiPoint(m)},LineString:function(f){var m=Er.coordinates.apply(this,[f]);return this.geometryFactory.createLineString(m)},MultiLineString:function(f){for(var m=[],_=0;_<f.length;++_)m.push(Er.LineString.apply(this,[f[_]]));return this.geometryFactory.createMultiLineString(m)},Polygon:function(f){for(var m=Er.coordinates.apply(this,[f[0]]),_=this.geometryFactory.createLinearRing(m),x=[],D=1;D<f.length;++D){var xt=Er.coordinates.apply(this,[f[D]]),Kt=this.geometryFactory.createLinearRing(xt);x.push(Kt)}return this.geometryFactory.createPolygon(_,x)},MultiPolygon:function(f){for(var m=[],_=0;_<f.length;++_)m.push(Er.Polygon.apply(this,[f[_]]));return this.geometryFactory.createMultiPolygon(m)},GeometryCollection:function(f){for(var m=[],_=0;_<f.length;++_)m.push(this.read(f[_]));return this.geometryFactory.createGeometryCollection(m)}},xo={coordinate:function(f){return[f.x,f.y]},Point:function(f){return{type:"Point",coordinates:xo.coordinate.apply(this,[f.getCoordinate()])}},MultiPoint:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=xo.Point.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiPoint",coordinates:m}},LineString:function(f){for(var m=[],_=f.getCoordinates(),x=0;x<_.length;++x)m.push(xo.coordinate.apply(this,[_[x]]));return{type:"LineString",coordinates:m}},MultiLineString:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=xo.LineString.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiLineString",coordinates:m}},Polygon:function(f){var m=[],_=xo.LineString.apply(this,[f._shell]);m.push(_.coordinates);for(var x=0;x<f._holes.length;++x){var K=xo.LineString.apply(this,[f._holes[x]]);m.push(K.coordinates)}return{type:"Polygon",coordinates:m}},MultiPolygon:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var D=xo.Polygon.apply(this,[f._geometries[_]]);m.push(D.coordinates)}return{type:"MultiPolygon",coordinates:m}},GeometryCollection:function(f){for(var m=[],_=0;_<f._geometries.length;++_){var x=f._geometries[_],D=x.getGeometryType();m.push(xo[D].apply(this,[x]))}return{type:"GeometryCollection",geometries:m}}},En=function(f){this.geometryFactory=f||new Ze,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _i(this.geometryFactory)};En.prototype.read=function(f){var m=this.parser.read(f);return this.precisionModel.getType()===oe.FIXED&&this.reducePrecision(m),m},En.prototype.reducePrecision=function(f){var m,_;if(f.coordinate)this.precisionModel.makePrecise(f.coordinate);else if(f.points)for(m=0,_=f.points.length;m<_;m++)this.precisionModel.makePrecise(f.points[m]);else if(f.geometries)for(m=0,_=f.geometries.length;m<_;m++)this.reducePrecision(f.geometries[m])};var il=function(){this.parser=new _i(this.geometryFactory)};il.prototype.write=function(f){return this.parser.write(f)};var Gt=function(){},Se={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.opposite=function(f){return f===Gt.LEFT?Gt.RIGHT:f===Gt.RIGHT?Gt.LEFT:f},Se.ON.get=function(){return 0},Se.LEFT.get=function(){return 1},Se.RIGHT.get=function(){return 2},Object.defineProperties(Gt,Se),(X.prototype=new Error).name="EmptyStackException",(et.prototype=new _n).add=function(f){return this.array_.push(f),!0},et.prototype.get=function(f){if(f<0||f>=this.size())throw new Error;return this.array_[f]},et.prototype.push=function(f){return this.array_.push(f),f},et.prototype.pop=function(f){if(0===this.array_.length)throw new X;return this.array_.pop()},et.prototype.peek=function(){if(0===this.array_.length)throw new X;return this.array_[this.array_.length-1]},et.prototype.empty=function(){return 0===this.array_.length},et.prototype.isEmpty=function(){return this.empty()},et.prototype.search=function(f){return this.array_.indexOf(f)},et.prototype.size=function(){return this.array_.length},et.prototype.toArray=function(){for(var f=[],m=0,_=this.array_.length;m<_;m++)f.push(this.array_[m]);return f};var Ge=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ge.prototype.getCoordinate=function(){return this._minCoord},Ge.prototype.getRightmostSide=function(f,m){var _=this.getRightmostSideOfSegment(f,m);return _<0&&(_=this.getRightmostSideOfSegment(f,m-1)),_<0&&(this._minCoord=null,this.checkForRightmostCoordinate(f)),_},Ge.prototype.findRightmostEdgeAtVertex=function(){var f=this._minDe.getEdge().getCoordinates();z.isTrue(this._minIndex>0&&this._minIndex<f.length,"rightmost point expected to be interior vertex of edge");var m=f[this._minIndex-1],_=f[this._minIndex+1],x=xe.computeOrientation(this._minCoord,_,m),D=!1;(m.y<this._minCoord.y&&_.y<this._minCoord.y&&x===xe.COUNTERCLOCKWISE||m.y>this._minCoord.y&&_.y>this._minCoord.y&&x===xe.CLOCKWISE)&&(D=!0),D&&(this._minIndex=this._minIndex-1)},Ge.prototype.getRightmostSideOfSegment=function(f,m){var _=f.getEdge().getCoordinates();if(m<0||m+1>=_.length||_[m].y===_[m+1].y)return-1;var x=Gt.LEFT;return _[m].y<_[m+1].y&&(x=Gt.RIGHT),x},Ge.prototype.getEdge=function(){return this._orientedDe},Ge.prototype.checkForRightmostCoordinate=function(f){for(var m=f.getEdge().getCoordinates(),_=0;_<m.length-1;_++)(null===this._minCoord||m[_].x>this._minCoord.x)&&(this._minDe=f,this._minIndex=_,this._minCoord=m[_])},Ge.prototype.findRightmostEdgeAtNode=function(){var f=this._minDe.getNode().getEdges();this._minDe=f.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ge.prototype.findEdge=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next();_.isForward()&&this.checkForRightmostCoordinate(_)}z.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Gt.LEFT&&(this._orientedDe=this._minDe.getSym())},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var gn=function(f){function m(_,x){f.call(this,m.msgWithCoord(_,x)),this.pt=x?new q(x):null,this.name="TopologyException"}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getCoordinate=function(){return this.pt},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.msgWithCoord=function(_,x){return x?_:_+" [ "+x+" ]"},m}(S),Xn=function(){this.array_=[]};Xn.prototype.addLast=function(f){this.array_.push(f)},Xn.prototype.removeFirst=function(){return this.array_.shift()},Xn.prototype.isEmpty=function(){return 0===this.array_.length};var ei=function(){this._finder=null,this._dirEdgeList=new en,this._nodes=new en,this._rightMostCoord=null,this._env=null,this._finder=new Ge};ei.prototype.clearVisitedEdges=function(){for(var f=this._dirEdgeList.iterator();f.hasNext();)f.next().setVisited(!1)},ei.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},ei.prototype.computeNodeDepth=function(f){for(var m=null,_=f.getEdges().iterator();_.hasNext();){var x=_.next();if(x.isVisited()||x.getSym().isVisited()){m=x;break}}if(null===m)throw new gn("unable to find edge to compute depths at "+f.getCoordinate());f.getEdges().computeDepths(m);for(var D=f.getEdges().iterator();D.hasNext();){var K=D.next();K.setVisited(!0),this.copySymDepths(K)}},ei.prototype.computeDepth=function(f){this.clearVisitedEdges();var m=this._finder.getEdge();m.setEdgeDepths(Gt.RIGHT,f),this.copySymDepths(m),this.computeDepths(m)},ei.prototype.create=function(f){this.addReachable(f),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},ei.prototype.findResultEdges=function(){for(var f=this._dirEdgeList.iterator();f.hasNext();){var m=f.next();m.getDepth(Gt.RIGHT)>=1&&m.getDepth(Gt.LEFT)<=0&&!m.isInteriorAreaEdge()&&m.setInResult(!0)}},ei.prototype.computeDepths=function(f){var m=new ur,_=new Xn,x=f.getNode();for(_.addLast(x),m.add(x),f.setVisited(!0);!_.isEmpty();){var D=_.removeFirst();m.add(D),this.computeNodeDepth(D);for(var K=D.getEdges().iterator();K.hasNext();){var xt=K.next().getSym();if(!xt.isVisited()){var Kt=xt.getNode();m.contains(Kt)||(_.addLast(Kt),m.add(Kt))}}}},ei.prototype.compareTo=function(f){return this._rightMostCoord.x<f._rightMostCoord.x?-1:this._rightMostCoord.x>f._rightMostCoord.x?1:0},ei.prototype.getEnvelope=function(){if(null===this._env){for(var f=new Dt,m=this._dirEdgeList.iterator();m.hasNext();)for(var _=m.next().getEdge().getCoordinates(),x=0;x<_.length-1;x++)f.expandToInclude(_[x]);this._env=f}return this._env},ei.prototype.addReachable=function(f){var m=new et;for(m.add(f);!m.empty();){var _=m.pop();this.add(_,m)}},ei.prototype.copySymDepths=function(f){var m=f.getSym();m.setDepth(Gt.LEFT,f.getDepth(Gt.RIGHT)),m.setDepth(Gt.RIGHT,f.getDepth(Gt.LEFT))},ei.prototype.add=function(f,m){f.setVisited(!0),this._nodes.add(f);for(var _=f.getEdges().iterator();_.hasNext();){var x=_.next();this._dirEdgeList.add(x);var D=x.getSym().getNode();D.isVisited()||m.push(D)}},ei.prototype.getNodes=function(){return this._nodes},ei.prototype.getDirectedEdges=function(){return this._dirEdgeList},ei.prototype.interfaces_=function(){return[mt]},ei.prototype.getClass=function(){return ei};var ui=function f(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var _=arguments[0];this.init(1),this.location[Gt.ON]=_}else if(arguments[0]instanceof f){var x=arguments[0];if(this.init(x.location.length),null!==x)for(var D=0;D<this.location.length;D++)this.location[D]=x.location[D]}}else if(3===arguments.length){var K=arguments[0],xt=arguments[1],Kt=arguments[2];this.init(3),this.location[Gt.ON]=K,this.location[Gt.LEFT]=xt,this.location[Gt.RIGHT]=Kt}};ui.prototype.setAllLocations=function(f){for(var m=0;m<this.location.length;m++)this.location[m]=f},ui.prototype.isNull=function(){for(var f=0;f<this.location.length;f++)if(this.location[f]!==ut.NONE)return!1;return!0},ui.prototype.setAllLocationsIfNull=function(f){for(var m=0;m<this.location.length;m++)this.location[m]===ut.NONE&&(this.location[m]=f)},ui.prototype.isLine=function(){return 1===this.location.length},ui.prototype.merge=function(f){if(f.location.length>this.location.length){var m=new Array(3).fill(null);m[Gt.ON]=this.location[Gt.ON],m[Gt.LEFT]=ut.NONE,m[Gt.RIGHT]=ut.NONE,this.location=m}for(var _=0;_<this.location.length;_++)this.location[_]===ut.NONE&&_<f.location.length&&(this.location[_]=f.location[_])},ui.prototype.getLocations=function(){return this.location},ui.prototype.flip=function(){if(this.location.length<=1)return null;var f=this.location[Gt.LEFT];this.location[Gt.LEFT]=this.location[Gt.RIGHT],this.location[Gt.RIGHT]=f},ui.prototype.toString=function(){var f=new dt;return this.location.length>1&&f.append(ut.toLocationSymbol(this.location[Gt.LEFT])),f.append(ut.toLocationSymbol(this.location[Gt.ON])),this.location.length>1&&f.append(ut.toLocationSymbol(this.location[Gt.RIGHT])),f.toString()},ui.prototype.setLocations=function(f,m,_){this.location[Gt.ON]=f,this.location[Gt.LEFT]=m,this.location[Gt.RIGHT]=_},ui.prototype.get=function(f){return f<this.location.length?this.location[f]:ut.NONE},ui.prototype.isArea=function(){return this.location.length>1},ui.prototype.isAnyNull=function(){for(var f=0;f<this.location.length;f++)if(this.location[f]===ut.NONE)return!0;return!1},ui.prototype.setLocation=function(){1===arguments.length?this.setLocation(Gt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},ui.prototype.init=function(f){this.location=new Array(f).fill(null),this.setAllLocations(ut.NONE)},ui.prototype.isEqualOnSide=function(f,m){return this.location[m]===f.location[m]},ui.prototype.allPositionsEqual=function(f){for(var m=0;m<this.location.length;m++)if(this.location[m]!==f)return!1;return!0},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var oi=function f(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var m=arguments[0];this.elt[0]=new ui(m),this.elt[1]=new ui(m)}else if(arguments[0]instanceof f){var _=arguments[0];this.elt[0]=new ui(_.elt[0]),this.elt[1]=new ui(_.elt[1])}}else if(2===arguments.length){var x=arguments[0],D=arguments[1];this.elt[0]=new ui(ut.NONE),this.elt[1]=new ui(ut.NONE),this.elt[x].setLocation(D)}else if(3===arguments.length){var K=arguments[0],xt=arguments[1],Kt=arguments[2];this.elt[0]=new ui(K,xt,Kt),this.elt[1]=new ui(K,xt,Kt)}else if(4===arguments.length){var fe=arguments[0],He=arguments[1],pn=arguments[2],Mn=arguments[3];this.elt[0]=new ui(ut.NONE,ut.NONE,ut.NONE),this.elt[1]=new ui(ut.NONE,ut.NONE,ut.NONE),this.elt[fe].setLocations(He,pn,Mn)}};oi.prototype.getGeometryCount=function(){var f=0;return this.elt[0].isNull()||f++,this.elt[1].isNull()||f++,f},oi.prototype.setAllLocations=function(f,m){this.elt[f].setAllLocations(m)},oi.prototype.isNull=function(f){return this.elt[f].isNull()},oi.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var f=arguments[0];this.setAllLocationsIfNull(0,f),this.setAllLocationsIfNull(1,f)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},oi.prototype.isLine=function(f){return this.elt[f].isLine()},oi.prototype.merge=function(f){for(var m=0;m<2;m++)null===this.elt[m]&&null!==f.elt[m]?this.elt[m]=new ui(f.elt[m]):this.elt[m].merge(f.elt[m])},oi.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},oi.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Gt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},oi.prototype.toString=function(){var f=new dt;return null!==this.elt[0]&&(f.append("A:"),f.append(this.elt[0].toString())),null!==this.elt[1]&&(f.append(" B:"),f.append(this.elt[1].toString())),f.toString()},oi.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},oi.prototype.isAnyNull=function(f){return this.elt[f].isAnyNull()},oi.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Gt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},oi.prototype.isEqualOnSide=function(f,m){return this.elt[0].isEqualOnSide(f.elt[0],m)&&this.elt[1].isEqualOnSide(f.elt[1],m)},oi.prototype.allPositionsEqual=function(f,m){return this.elt[f].allPositionsEqual(m)},oi.prototype.toLine=function(f){this.elt[f].isArea()&&(this.elt[f]=new ui(this.elt[f].location[0]))},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.toLineLabel=function(f){for(var m=new oi(ut.NONE),_=0;_<2;_++)m.setLocation(_,f.getLocation(_));return m};var Mr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new en,this._pts=new en,this._label=new oi(ut.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new en,this._geometryFactory=null;var f=arguments[0];this._geometryFactory=arguments[1],this.computePoints(f),this.computeRing()};Mr.prototype.computeRing=function(){if(null!==this._ring)return null;for(var f=new Array(this._pts.size()).fill(null),m=0;m<this._pts.size();m++)f[m]=this._pts.get(m);this._ring=this._geometryFactory.createLinearRing(f),this._isHole=xe.isCCW(this._ring.getCoordinates())},Mr.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Mr.prototype.computePoints=function(f){this._startDe=f;var m=f,_=!0;do{if(null===m)throw new gn("Found null DirectedEdge");if(m.getEdgeRing()===this)throw new gn("Directed Edge visited twice during ring-building at "+m.getCoordinate());this._edges.add(m);var x=m.getLabel();z.isTrue(x.isArea()),this.mergeLabel(x),this.addPoints(m.getEdge(),m.isForward(),_),_=!1,this.setEdgeRing(m,this),m=this.getNext(m)}while(m!==this._startDe)},Mr.prototype.getLinearRing=function(){return this._ring},Mr.prototype.getCoordinate=function(f){return this._pts.get(f)},Mr.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var f=this._startDe;do{var m=f.getNode().getEdges().getOutgoingDegree(this);m>this._maxNodeDegree&&(this._maxNodeDegree=m),f=this.getNext(f)}while(f!==this._startDe);this._maxNodeDegree*=2},Mr.prototype.addPoints=function(f,m,_){var x=f.getCoordinates();if(m){var D=1;_&&(D=0);for(var K=D;K<x.length;K++)this._pts.add(x[K])}else{var xt=x.length-2;_&&(xt=x.length-1);for(var Kt=xt;Kt>=0;Kt--)this._pts.add(x[Kt])}},Mr.prototype.isHole=function(){return this._isHole},Mr.prototype.setInResult=function(){var f=this._startDe;do{f.getEdge().setInResult(!0),f=f.getNext()}while(f!==this._startDe)},Mr.prototype.containsPoint=function(f){var m=this.getLinearRing();if(!m.getEnvelopeInternal().contains(f)||!xe.isPointInRing(f,m.getCoordinates()))return!1;for(var _=this._holes.iterator();_.hasNext();)if(_.next().containsPoint(f))return!1;return!0},Mr.prototype.addHole=function(f){this._holes.add(f)},Mr.prototype.isShell=function(){return null===this._shell},Mr.prototype.getLabel=function(){return this._label},Mr.prototype.getEdges=function(){return this._edges},Mr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Mr.prototype.getShell=function(){return this._shell},Mr.prototype.mergeLabel=function(){if(1===arguments.length){var f=arguments[0];this.mergeLabel(f,0),this.mergeLabel(f,1)}else if(2===arguments.length){var _=arguments[1],x=arguments[0].getLocation(_,Gt.RIGHT);if(x===ut.NONE)return null;if(this._label.getLocation(_)===ut.NONE)return this._label.setLocation(_,x),null}},Mr.prototype.setShell=function(f){this._shell=f,null!==f&&f.addHole(this)},Mr.prototype.toPolygon=function(f){for(var m=new Array(this._holes.size()).fill(null),_=0;_<this._holes.size();_++)m[_]=this._holes.get(_).getLinearRing();return f.createPolygon(this.getLinearRing(),m)},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr};var Fr=function(f){function m(){f.call(this,arguments[0],arguments[1])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.setEdgeRing=function(_,x){_.setMinEdgeRing(x)},m.prototype.getNext=function(_){return _.getNextMin()},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Mr),ws=function(f){function m(){f.call(this,arguments[0],arguments[1])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.buildMinimalRings=function(){var _=new en,x=this._startDe;do{if(null===x.getMinEdgeRing()){var D=new Fr(x,this._geometryFactory);_.add(D)}x=x.getNext()}while(x!==this._startDe);return _},m.prototype.setEdgeRing=function(_,x){_.setEdgeRing(x)},m.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var _=this._startDe;do{_.getNode().getEdges().linkMinimalDirectedEdges(this),_=_.getNext()}while(_!==this._startDe)},m.prototype.getNext=function(_){return _.getNext()},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Mr),$s=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};$s.prototype.setVisited=function(f){this._isVisited=f},$s.prototype.setInResult=function(f){this._isInResult=f},$s.prototype.isCovered=function(){return this._isCovered},$s.prototype.isCoveredSet=function(){return this._isCoveredSet},$s.prototype.setLabel=function(f){this._label=f},$s.prototype.getLabel=function(){return this._label},$s.prototype.setCovered=function(f){this._isCovered=f,this._isCoveredSet=!0},$s.prototype.updateIM=function(f){z.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(f)},$s.prototype.isInResult=function(){return this._isInResult},$s.prototype.isVisited=function(){return this._isVisited},$s.prototype.interfaces_=function(){return[]},$s.prototype.getClass=function(){return $s};var wu=function(f){function m(){f.call(this),this._coord=null,this._edges=null;var x=arguments[1];this._coord=arguments[0],this._edges=x,this._label=new oi(0,ut.NONE)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isIncidentEdgeInResult=function(){for(var _=this.getEdges().getEdges().iterator();_.hasNext();)if(_.next().getEdge().isInResult())return!0;return!1},m.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},m.prototype.getCoordinate=function(){return this._coord},m.prototype.print=function(_){_.println("node "+this._coord+" lbl: "+this._label)},m.prototype.computeIM=function(_){},m.prototype.computeMergedLocation=function(_,x){var D=ut.NONE;if(D=this._label.getLocation(x),!_.isNull(x)){var K=_.getLocation(x);D!==ut.BOUNDARY&&(D=K)}return D},m.prototype.setLabel=function(){if(2!==arguments.length)return f.prototype.setLabel.apply(this,arguments);var _=arguments[0],x=arguments[1];null===this._label?this._label=new oi(_,x):this._label.setLocation(_,x)},m.prototype.getEdges=function(){return this._edges},m.prototype.mergeLabel=function(){if(arguments[0]instanceof m)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof oi)for(var x=arguments[0],D=0;D<2;D++){var K=this.computeMergedLocation(x,D);this._label.getLocation(D)===ut.NONE&&this._label.setLocation(D,K)}},m.prototype.add=function(_){this._edges.insert(_),_.setNode(this)},m.prototype.setLabelBoundary=function(_){if(null===this._label)return null;var x=ut.NONE;null!==this._label&&(x=this._label.getLocation(_)),this._label.setLocation(_,x===ut.BOUNDARY?ut.INTERIOR:ut.BOUNDARY)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}($s),Gl=function(){this.nodeMap=new $,this.nodeFact=null,this.nodeFact=arguments[0]};Gl.prototype.find=function(f){return this.nodeMap.get(f)},Gl.prototype.addNode=function(){if(arguments[0]instanceof q){var f=arguments[0],m=this.nodeMap.get(f);return null===m&&(m=this.nodeFact.createNode(f),this.nodeMap.put(f,m)),m}if(arguments[0]instanceof wu){var _=arguments[0],x=this.nodeMap.get(_.getCoordinate());return null===x?(this.nodeMap.put(_.getCoordinate(),_),_):(x.mergeLabel(_),x)}},Gl.prototype.print=function(f){for(var m=this.iterator();m.hasNext();)m.next().print(f)},Gl.prototype.iterator=function(){return this.nodeMap.values().iterator()},Gl.prototype.values=function(){return this.nodeMap.values()},Gl.prototype.getBoundaryNodes=function(f){for(var m=new en,_=this.iterator();_.hasNext();){var x=_.next();x.getLabel().getLocation(f)===ut.BOUNDARY&&m.add(x)}return m},Gl.prototype.add=function(f){var m=f.getCoordinate();this.addNode(m).add(f)},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var To=function(){},Bu={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.isNorthern=function(f){return f===To.NE||f===To.NW},To.isOpposite=function(f,m){return f!==m&&(f-m+4)%4==2},To.commonHalfPlane=function(f,m){if(f===m)return f;if((f-m+4)%4==2)return-1;var _=f<m?f:m;return 0===_&&3===(f>m?f:m)?3:_},To.isInHalfPlane=function(f,m){return m===To.SE?f===To.SE||f===To.SW:f===m||f===m+1},To.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1];if(0===f&&0===m)throw new it("Cannot compute the quadrant for point ( "+f+", "+m+" )");return f>=0?m>=0?To.NE:To.SE:m>=0?To.NW:To.SW}if(arguments[0]instanceof q&&arguments[1]instanceof q){var _=arguments[0],x=arguments[1];if(x.x===_.x&&x.y===_.y)throw new it("Cannot compute the quadrant for two identical points "+_);return x.x>=_.x?x.y>=_.y?To.NE:To.SE:x.y>=_.y?To.NW:To.SW}},Bu.NE.get=function(){return 0},Bu.NW.get=function(){return 1},Bu.SW.get=function(){return 2},Bu.SE.get=function(){return 3},Object.defineProperties(To,Bu);var ks=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var _=arguments[1],x=arguments[2];this._edge=arguments[0],this.init(_,x),this._label=null}else if(4===arguments.length){var K=arguments[1],xt=arguments[2],Kt=arguments[3];this._edge=arguments[0],this.init(K,xt),this._label=Kt}};ks.prototype.compareDirection=function(f){return this._dx===f._dx&&this._dy===f._dy?0:this._quadrant>f._quadrant?1:this._quadrant<f._quadrant?-1:xe.computeOrientation(f._p0,f._p1,this._p1)},ks.prototype.getDy=function(){return this._dy},ks.prototype.getCoordinate=function(){return this._p0},ks.prototype.setNode=function(f){this._node=f},ks.prototype.print=function(f){var m=Math.atan2(this._dy,this._dx),_=this.getClass().getName(),x=_.lastIndexOf("."),D=_.substring(x+1);f.print("  "+D+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+m+"   "+this._label)},ks.prototype.compareTo=function(f){return this.compareDirection(f)},ks.prototype.getDirectedCoordinate=function(){return this._p1},ks.prototype.getDx=function(){return this._dx},ks.prototype.getLabel=function(){return this._label},ks.prototype.getEdge=function(){return this._edge},ks.prototype.getQuadrant=function(){return this._quadrant},ks.prototype.getNode=function(){return this._node},ks.prototype.toString=function(){var f=Math.atan2(this._dy,this._dx),m=this.getClass().getName(),_=m.lastIndexOf(".");return"  "+m.substring(_+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+f+"   "+this._label},ks.prototype.computeLabel=function(f){},ks.prototype.init=function(f,m){this._p0=f,this._p1=m,this._dx=m.x-f.x,this._dy=m.y-f.y,this._quadrant=To.quadrant(this._dx,this._dy),z.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ks.prototype.interfaces_=function(){return[mt]},ks.prototype.getClass=function(){return ks};var Hl=function(f){function m(){var _=arguments[0],x=arguments[1];if(f.call(this,_),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=x,x)this.init(_.getCoordinate(0),_.getCoordinate(1));else{var D=_.getNumPoints()-1;this.init(_.getCoordinate(D),_.getCoordinate(D-1))}this.computeDirectedLabel()}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getNextMin=function(){return this._nextMin},m.prototype.getDepth=function(_){return this._depth[_]},m.prototype.setVisited=function(_){this._isVisited=_},m.prototype.computeDirectedLabel=function(){this._label=new oi(this._edge.getLabel()),this._isForward||this._label.flip()},m.prototype.getNext=function(){return this._next},m.prototype.setDepth=function(_,x){if(-999!==this._depth[_]&&this._depth[_]!==x)throw new gn("assigned depths do not match",this.getCoordinate());this._depth[_]=x},m.prototype.isInteriorAreaEdge=function(){for(var _=!0,x=0;x<2;x++)this._label.isArea(x)&&this._label.getLocation(x,Gt.LEFT)===ut.INTERIOR&&this._label.getLocation(x,Gt.RIGHT)===ut.INTERIOR||(_=!1);return _},m.prototype.setNextMin=function(_){this._nextMin=_},m.prototype.print=function(_){f.prototype.print.call(this,_),_.print(" "+this._depth[Gt.LEFT]+"/"+this._depth[Gt.RIGHT]),_.print(" ("+this.getDepthDelta()+")"),this._isInResult&&_.print(" inResult")},m.prototype.setMinEdgeRing=function(_){this._minEdgeRing=_},m.prototype.isLineEdge=function(){var _=this._label.isLine(0)||this._label.isLine(1),x=!this._label.isArea(0)||this._label.allPositionsEqual(0,ut.EXTERIOR),D=!this._label.isArea(1)||this._label.allPositionsEqual(1,ut.EXTERIOR);return _&&x&&D},m.prototype.setEdgeRing=function(_){this._edgeRing=_},m.prototype.getMinEdgeRing=function(){return this._minEdgeRing},m.prototype.getDepthDelta=function(){var _=this._edge.getDepthDelta();return this._isForward||(_=-_),_},m.prototype.setInResult=function(_){this._isInResult=_},m.prototype.getSym=function(){return this._sym},m.prototype.isForward=function(){return this._isForward},m.prototype.getEdge=function(){return this._edge},m.prototype.printEdge=function(_){this.print(_),_.print(" "),this._isForward?this._edge.print(_):this._edge.printReverse(_)},m.prototype.setSym=function(_){this._sym=_},m.prototype.setVisitedEdge=function(_){this.setVisited(_),this._sym.setVisited(_)},m.prototype.setEdgeDepths=function(_,x){var D=this.getEdge().getDepthDelta();this._isForward||(D=-D);var K=1;_===Gt.LEFT&&(K=-1);var xt=Gt.opposite(_),Kt=x+D*K;this.setDepth(_,x),this.setDepth(xt,Kt)},m.prototype.getEdgeRing=function(){return this._edgeRing},m.prototype.isInResult=function(){return this._isInResult},m.prototype.setNext=function(_){this._next=_},m.prototype.isVisited=function(){return this._isVisited},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.depthFactor=function(_,x){return _===ut.EXTERIOR&&x===ut.INTERIOR?1:_===ut.INTERIOR&&x===ut.EXTERIOR?-1:0},m}(ks),ul=function(){};ul.prototype.createNode=function(f){return new wu(f,null)},ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul};var mo=function(){this._edges=new en,this._nodes=null,this._edgeEndList=new en,0===arguments.length?this._nodes=new Gl(new ul):1===arguments.length&&(this._nodes=new Gl(arguments[0]))};mo.prototype.printEdges=function(f){f.println("Edges:");for(var m=0;m<this._edges.size();m++){f.println("edge "+m+":");var _=this._edges.get(m);_.print(f),_.eiList.print(f)}},mo.prototype.find=function(f){return this._nodes.find(f)},mo.prototype.addNode=function(){return arguments[0]instanceof wu||arguments[0]instanceof q?this._nodes.addNode(arguments[0]):void 0},mo.prototype.getNodeIterator=function(){return this._nodes.iterator()},mo.prototype.linkResultDirectedEdges=function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkResultDirectedEdges()},mo.prototype.debugPrintln=function(f){Me.out.println(f)},mo.prototype.isBoundaryNode=function(f,m){var _=this._nodes.find(m);if(null===_)return!1;var x=_.getLabel();return null!==x&&x.getLocation(f)===ut.BOUNDARY},mo.prototype.linkAllDirectedEdges=function(){for(var f=this._nodes.iterator();f.hasNext();)f.next().getEdges().linkAllDirectedEdges()},mo.prototype.matchInSameDirection=function(f,m,_,x){return!!f.equals(_)&&xe.computeOrientation(f,m,x)===xe.COLLINEAR&&To.quadrant(f,m)===To.quadrant(_,x)},mo.prototype.getEdgeEnds=function(){return this._edgeEndList},mo.prototype.debugPrint=function(f){Me.out.print(f)},mo.prototype.getEdgeIterator=function(){return this._edges.iterator()},mo.prototype.findEdgeInSameDirection=function(f,m){for(var _=0;_<this._edges.size();_++){var x=this._edges.get(_),D=x.getCoordinates();if(this.matchInSameDirection(f,m,D[0],D[1])||this.matchInSameDirection(f,m,D[D.length-1],D[D.length-2]))return x}return null},mo.prototype.insertEdge=function(f){this._edges.add(f)},mo.prototype.findEdgeEnd=function(f){for(var m=this.getEdgeEnds().iterator();m.hasNext();){var _=m.next();if(_.getEdge()===f)return _}return null},mo.prototype.addEdges=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next();this._edges.add(_);var x=new Hl(_,!0),D=new Hl(_,!1);x.setSym(D),D.setSym(x),this.add(x),this.add(D)}},mo.prototype.add=function(f){this._nodes.add(f),this._edgeEndList.add(f)},mo.prototype.getNodes=function(){return this._nodes.values()},mo.prototype.findEdge=function(f,m){for(var _=0;_<this._edges.size();_++){var x=this._edges.get(_),D=x.getCoordinates();if(f.equals(D[0])&&m.equals(D[1]))return x}return null},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.linkResultDirectedEdges=function(f){for(var m=f.iterator();m.hasNext();)m.next().getEdges().linkResultDirectedEdges()};var Gr=function(){this._geometryFactory=null,this._shellList=new en,this._geometryFactory=arguments[0]};Gr.prototype.sortShellsAndHoles=function(f,m,_){for(var x=f.iterator();x.hasNext();){var D=x.next();D.isHole()?_.add(D):m.add(D)}},Gr.prototype.computePolygons=function(f){for(var m=new en,_=f.iterator();_.hasNext();){var x=_.next().toPolygon(this._geometryFactory);m.add(x)}return m},Gr.prototype.placeFreeHoles=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next();if(null===x.getShell()){var D=this.findEdgeRingContaining(x,f);if(null===D)throw new gn("unable to assign hole to a shell",x.getCoordinate(0));x.setShell(D)}}},Gr.prototype.buildMinimalEdgeRings=function(f,m,_){for(var x=new en,D=f.iterator();D.hasNext();){var K=D.next();if(K.getMaxNodeDegree()>2){K.linkDirectedEdgesForMinimalEdgeRings();var xt=K.buildMinimalRings(),Kt=this.findShell(xt);null!==Kt?(this.placePolygonHoles(Kt,xt),m.add(Kt)):_.addAll(xt)}else x.add(K)}return x},Gr.prototype.containsPoint=function(f){for(var m=this._shellList.iterator();m.hasNext();)if(m.next().containsPoint(f))return!0;return!1},Gr.prototype.buildMaximalEdgeRings=function(f){for(var m=new en,_=f.iterator();_.hasNext();){var x=_.next();if(x.isInResult()&&x.getLabel().isArea()&&null===x.getEdgeRing()){var D=new ws(x,this._geometryFactory);m.add(D),D.setInResult()}}return m},Gr.prototype.placePolygonHoles=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next();x.isHole()&&x.setShell(f)}},Gr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Gr.prototype.findEdgeRingContaining=function(f,m){for(var _=f.getLinearRing(),x=_.getEnvelopeInternal(),D=_.getCoordinateN(0),K=null,xt=null,Kt=m.iterator();Kt.hasNext();){var fe=Kt.next(),He=fe.getLinearRing(),pn=He.getEnvelopeInternal();null!==K&&(xt=K.getLinearRing().getEnvelopeInternal());var Mn=!1;pn.contains(x)&&xe.isPointInRing(D,He.getCoordinates())&&(Mn=!0),Mn&&(null===K||xt.contains(pn))&&(K=fe)}return K},Gr.prototype.findShell=function(f){for(var m=0,_=null,x=f.iterator();x.hasNext();){var D=x.next();D.isHole()||(_=D,m++)}return z.isTrue(m<=1,"found two shells in MinimalEdgeRing list"),_},Gr.prototype.add=function(){if(1===arguments.length){var f=arguments[0];this.add(f.getEdgeEnds(),f.getNodes())}else if(2===arguments.length){var m=arguments[0];mo.linkResultDirectedEdges(arguments[1]);var x=this.buildMaximalEdgeRings(m),D=new en,K=this.buildMinimalEdgeRings(x,this._shellList,D);this.sortShellsAndHoles(K,this._shellList,D),this.placeFreeHoles(this._shellList,D)}},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr};var tc=function(){};tc.prototype.getBounds=function(){},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc};var Vs=function(){this._bounds=null,this._item=null;var m=arguments[1];this._bounds=arguments[0],this._item=m};Vs.prototype.getItem=function(){return this._item},Vs.prototype.getBounds=function(){return this._bounds},Vs.prototype.interfaces_=function(){return[tc,tt]},Vs.prototype.getClass=function(){return Vs};var jl=function(){this._size=null,this._items=null,this._size=0,this._items=new en,this._items.add(null)};jl.prototype.poll=function(){if(this.isEmpty())return null;var f=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),f},jl.prototype.size=function(){return this._size},jl.prototype.reorder=function(f){for(var m=null,_=this._items.get(f);2*f<=this._size&&((m=2*f)!==this._size&&this._items.get(m+1).compareTo(this._items.get(m))<0&&m++,this._items.get(m).compareTo(_)<0);f=m)this._items.set(f,this._items.get(m));this._items.set(f,_)},jl.prototype.clear=function(){this._size=0,this._items.clear()},jl.prototype.isEmpty=function(){return 0===this._size},jl.prototype.add=function(f){this._items.add(null),this._size+=1;var m=this._size;for(this._items.set(0,f);f.compareTo(this._items.get(Math.trunc(m/2)))<0;m/=2)this._items.set(m,this._items.get(Math.trunc(m/2)));this._items.set(m,f)},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl};var zn=function(){};zn.prototype.visitItem=function(f){},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn};var rl=function(){};rl.prototype.insert=function(f,m){},rl.prototype.remove=function(f,m){},rl.prototype.query=function(){},rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl};var Jn=function(){this._childBoundables=new en,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Vu={serialVersionUID:{configurable:!0}};Jn.prototype.getLevel=function(){return this._level},Jn.prototype.size=function(){return this._childBoundables.size()},Jn.prototype.getChildBoundables=function(){return this._childBoundables},Jn.prototype.addChildBoundable=function(f){z.isTrue(null===this._bounds),this._childBoundables.add(f)},Jn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Jn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Jn.prototype.interfaces_=function(){return[tc,tt]},Jn.prototype.getClass=function(){return Jn},Vu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Jn,Vu);var Or=function(){};Or.reverseOrder=function(){return{compare:function(f,m){return m.compareTo(f)}}},Or.min=function(f){return Or.sort(f),f.get(0)},Or.sort=function(f,m){var _=f.toArray();m?Xo.sort(_,m):Xo.sort(_);for(var x=f.iterator(),D=0,K=_.length;D<K;D++)x.next(),x.set(_[D])},Or.singletonList=function(f){var m=new en;return m.add(f),m};var fn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var m=arguments[1],_=arguments[2];this._boundable1=arguments[0],this._boundable2=m,this._itemDistance=_,this._distance=this.distance()};fn.prototype.expandToQueue=function(f,m){var _=fn.isComposite(this._boundable1),x=fn.isComposite(this._boundable2);if(_&&x)return fn.area(this._boundable1)>fn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,f,m),null):(this.expand(this._boundable2,this._boundable1,f,m),null);if(_)return this.expand(this._boundable1,this._boundable2,f,m),null;if(x)return this.expand(this._boundable2,this._boundable1,f,m),null;throw new it("neither boundable is composite")},fn.prototype.isLeaves=function(){return!(fn.isComposite(this._boundable1)||fn.isComposite(this._boundable2))},fn.prototype.compareTo=function(f){return this._distance<f._distance?-1:this._distance>f._distance?1:0},fn.prototype.expand=function(f,m,_,x){for(var D=f.getChildBoundables().iterator();D.hasNext();){var K=D.next(),xt=new fn(K,m,this._itemDistance);xt.getDistance()<x&&_.add(xt)}},fn.prototype.getBoundable=function(f){return 0===f?this._boundable1:this._boundable2},fn.prototype.getDistance=function(){return this._distance},fn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},fn.prototype.interfaces_=function(){return[mt]},fn.prototype.getClass=function(){return fn},fn.area=function(f){return f.getBounds().getArea()},fn.isComposite=function(f){return f instanceof Jn};var Tn=function f(){if(this._root=null,this._built=!1,this._itemBoundables=new en,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=f.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var _=arguments[0];z.isTrue(_>1,"Node capacity must be greater than 1"),this._nodeCapacity=_}},Bn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},Tn.prototype.lastNode=function(f){return f.get(f.size()-1)},Tn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var f=0,m=arguments[0].getChildBoundables().iterator();m.hasNext();){var _=m.next();_ instanceof Jn?f+=this.size(_):_ instanceof Vs&&(f+=1)}return f}},Tn.prototype.removeItem=function(f,m){for(var _=null,x=f.getChildBoundables().iterator();x.hasNext();){var D=x.next();D instanceof Vs&&D.getItem()===m&&(_=D)}return null!==_&&(f.getChildBoundables().remove(_),!0)},Tn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var f=this.itemsTree(this._root);return null===f?new en:f}if(1===arguments.length){for(var m=arguments[0],_=new en,x=m.getChildBoundables().iterator();x.hasNext();){var D=x.next();if(D instanceof Jn){var K=this.itemsTree(D);null!==K&&_.add(K)}else D instanceof Vs?_.add(D.getItem()):z.shouldNeverReachHere()}return _.size()<=0?null:_}},Tn.prototype.insert=function(f,m){z.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Vs(f,m))},Tn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var f=arguments[0],m=new en;return this.boundablesAtLevel(f,this._root,m),m}if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2];if(z.isTrue(_>-2),x.getLevel()===_)return D.add(x),null;for(var K=x.getChildBoundables().iterator();K.hasNext();){var xt=K.next();xt instanceof Jn?this.boundablesAtLevel(_,xt,D):(z.isTrue(xt instanceof Vs),-1===_&&D.add(xt))}return null}},Tn.prototype.query=function(){if(1===arguments.length){var f=arguments[0];this.build();var m=new en;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),f)&&this.query(f,this._root,m),m}if(2===arguments.length){var _=arguments[0],x=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),_)&&this.query(_,this._root,x)}else if(3===arguments.length)if(ce(arguments[2],zn)&&arguments[0]instanceof Object&&arguments[1]instanceof Jn)for(var D=arguments[0],xt=arguments[2],Kt=arguments[1].getChildBoundables(),fe=0;fe<Kt.size();fe++){var He=Kt.get(fe);this.getIntersectsOp().intersects(He.getBounds(),D)&&(He instanceof Jn?this.query(D,He,xt):He instanceof Vs?xt.visitItem(He.getItem()):z.shouldNeverReachHere())}else if(ce(arguments[2],_n)&&arguments[0]instanceof Object&&arguments[1]instanceof Jn)for(var pn=arguments[0],ti=arguments[2],li=arguments[1].getChildBoundables(),bi=0;bi<li.size();bi++){var lr=li.get(bi);this.getIntersectsOp().intersects(lr.getBounds(),pn)&&(lr instanceof Jn?this.query(pn,lr,ti):lr instanceof Vs?ti.add(lr.getItem()):z.shouldNeverReachHere())}},Tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Tn.prototype.getRoot=function(){return this.build(),this._root},Tn.prototype.remove=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),f)&&this.remove(f,this._root,m)}if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2],K=this.removeItem(x,D);if(K)return!0;for(var xt=null,Kt=x.getChildBoundables().iterator();Kt.hasNext();){var fe=Kt.next();if(this.getIntersectsOp().intersects(fe.getBounds(),_)&&fe instanceof Jn&&(K=this.remove(_,fe,D))){xt=fe;break}}return null!==xt&&xt.getChildBoundables().isEmpty()&&x.getChildBoundables().remove(xt),K}},Tn.prototype.createHigherLevels=function(f,m){z.isTrue(!f.isEmpty());var _=this.createParentBoundables(f,m+1);return 1===_.size()?_.get(0):this.createHigherLevels(_,m+1)},Tn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var f=0,m=arguments[0].getChildBoundables().iterator();m.hasNext();){var _=m.next();if(_ instanceof Jn){var x=this.depth(_);x>f&&(f=x)}}return f+1}},Tn.prototype.createParentBoundables=function(f,m){z.isTrue(!f.isEmpty());var _=new en;_.add(this.createNode(m));var x=new en(f);Or.sort(x,this.getComparator());for(var D=x.iterator();D.hasNext();){var K=D.next();this.lastNode(_).getChildBoundables().size()===this.getNodeCapacity()&&_.add(this.createNode(m)),this.lastNode(_).addChildBoundable(K)}return _},Tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Tn.prototype.interfaces_=function(){return[tt]},Tn.prototype.getClass=function(){return Tn},Tn.compareDoubles=function(f,m){return f>m?1:f<m?-1:0},Bn.IntersectsOp.get=function(){return gi},Bn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Bn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Tn,Bn);var gi=function(){},Tr=function(){};Tr.prototype.distance=function(f,m){},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr};var Do=function(f){function m(x){f.call(this,x=x||m.DEFAULT_NODE_CAPACITY)}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return m.prototype.createParentBoundablesFromVerticalSlices=function(x,D){z.isTrue(x.length>0);for(var K=new en,xt=0;xt<x.length;xt++)K.addAll(this.createParentBoundablesFromVerticalSlice(x[xt],D));return K},m.prototype.createNode=function(x){return new qs(x)},m.prototype.size=function(){return 0===arguments.length?f.prototype.size.call(this):f.prototype.size.apply(this,arguments)},m.prototype.insert=function(){if(2!==arguments.length)return f.prototype.insert.apply(this,arguments);var x=arguments[0],D=arguments[1];if(x.isNull())return null;f.prototype.insert.call(this,x,D)},m.prototype.getIntersectsOp=function(){return m.intersectsOp},m.prototype.verticalSlices=function(x,D){for(var K=Math.trunc(Math.ceil(x.size()/D)),xt=new Array(D).fill(null),Kt=x.iterator(),fe=0;fe<D;fe++){xt[fe]=new en;for(var He=0;Kt.hasNext()&&He<K;){var pn=Kt.next();xt[fe].add(pn),He++}}return xt},m.prototype.query=function(){if(1===arguments.length)return f.prototype.query.call(this,arguments[0]);2===arguments.length?f.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(ce(arguments[2],zn)&&arguments[0]instanceof Object&&arguments[1]instanceof Jn||ce(arguments[2],_n)&&arguments[0]instanceof Object&&arguments[1]instanceof Jn)&&f.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},m.prototype.getComparator=function(){return m.yComparator},m.prototype.createParentBoundablesFromVerticalSlice=function(x,D){return f.prototype.createParentBoundables.call(this,x,D)},m.prototype.remove=function(){return 2===arguments.length?f.prototype.remove.call(this,arguments[0],arguments[1]):f.prototype.remove.apply(this,arguments)},m.prototype.depth=function(){return 0===arguments.length?f.prototype.depth.call(this):f.prototype.depth.apply(this,arguments)},m.prototype.createParentBoundables=function(x,D){z.isTrue(!x.isEmpty());var K=Math.trunc(Math.ceil(x.size()/this.getNodeCapacity())),xt=new en(x);Or.sort(xt,m.xComparator);var Kt=this.verticalSlices(xt,Math.trunc(Math.ceil(Math.sqrt(K))));return this.createParentBoundablesFromVerticalSlices(Kt,D)},m.prototype.nearestNeighbour=function(){if(1===arguments.length){if(ce(arguments[0],Tr)){var x=arguments[0],D=new fn(this.getRoot(),this.getRoot(),x);return this.nearestNeighbour(D)}if(arguments[0]instanceof fn)return this.nearestNeighbour(arguments[0],V.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof m&&ce(arguments[1],Tr)){var xt=arguments[0],Kt=arguments[1],fe=new fn(this.getRoot(),xt.getRoot(),Kt);return this.nearestNeighbour(fe)}if(arguments[0]instanceof fn&&"number"==typeof arguments[1]){var He=arguments[0],pn=arguments[1],Mn=null,ti=new jl;for(ti.add(He);!ti.isEmpty()&&pn>0;){var li=ti.poll(),bi=li.getDistance();if(bi>=pn)break;li.isLeaves()?(pn=bi,Mn=li):li.expandToQueue(ti,pn)}return[Mn.getBoundable(0).getItem(),Mn.getBoundable(1).getItem()]}}else if(3===arguments.length){var kn=arguments[2],Br=new Vs(arguments[0],arguments[1]),Js=new fn(this.getRoot(),Br,kn);return this.nearestNeighbour(Js)[0]}},m.prototype.interfaces_=function(){return[rl,tt]},m.prototype.getClass=function(){return m},m.centreX=function(x){return m.avg(x.getMinX(),x.getMaxX())},m.avg=function(x,D){return(x+D)/2},m.centreY=function(x){return m.avg(x.getMinY(),x.getMaxY())},_.STRtreeNode.get=function(){return qs},_.serialVersionUID.get=function(){return 0x39920f7d5f261e0},_.xComparator.get=function(){return{interfaces_:function(){return[wt]},compare:function(x,D){return f.compareDoubles(m.centreX(x.getBounds()),m.centreX(D.getBounds()))}}},_.yComparator.get=function(){return{interfaces_:function(){return[wt]},compare:function(x,D){return f.compareDoubles(m.centreY(x.getBounds()),m.centreY(D.getBounds()))}}},_.intersectsOp.get=function(){return{interfaces_:function(){return[f.IntersectsOp]},intersects:function(x,D){return x.intersects(D)}}},_.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(m,_),m}(Tn),qs=function(f){function m(){f.call(this,arguments[0])}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.computeBounds=function(){for(var _=null,x=this.getChildBoundables().iterator();x.hasNext();){var D=x.next();null===_?_=new Dt(D.getBounds()):_.expandToInclude(D.getBounds())}return _},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Jn),wi=function(){};wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi},wi.relativeSign=function(f,m){return f<m?-1:f>m?1:0},wi.compare=function(f,m,_){if(m.equals2D(_))return 0;var x=wi.relativeSign(m.x,_.x),D=wi.relativeSign(m.y,_.y);switch(f){case 0:return wi.compareValue(x,D);case 1:return wi.compareValue(D,x);case 2:return wi.compareValue(D,-x);case 3:return wi.compareValue(-x,D);case 4:return wi.compareValue(-x,-D);case 5:return wi.compareValue(-D,-x);case 6:return wi.compareValue(-D,x);case 7:return wi.compareValue(x,-D)}return z.shouldNeverReachHere("invalid octant value"),0},wi.compareValue=function(f,m){return f<0?-1:f>0?1:m<0?-1:m>0?1:0};var Bo=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var f=arguments[0],m=arguments[1],_=arguments[2],x=arguments[3];this._segString=f,this.coord=new q(m),this.segmentIndex=_,this._segmentOctant=x,this._isInterior=!m.equals2D(f.getCoordinate(_))};Bo.prototype.getCoordinate=function(){return this.coord},Bo.prototype.print=function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex)},Bo.prototype.compareTo=function(f){var m=f;return this.segmentIndex<m.segmentIndex?-1:this.segmentIndex>m.segmentIndex?1:this.coord.equals2D(m.coord)?0:wi.compare(this._segmentOctant,this.coord,m.coord)},Bo.prototype.isEndPoint=function(f){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===f},Bo.prototype.isInterior=function(){return this._isInterior},Bo.prototype.interfaces_=function(){return[mt]},Bo.prototype.getClass=function(){return Bo};var Rs=function(){this._nodeMap=new $,this._edge=null,this._edge=arguments[0]};Rs.prototype.getSplitCoordinates=function(){var f=new Bt;this.addEndpoints();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next();this.addEdgeCoordinates(_,x,f),_=x}return f.toCoordinateArray()},Rs.prototype.addCollapsedNodes=function(){var f=new en;this.findCollapsesFromInsertedNodes(f),this.findCollapsesFromExistingVertices(f);for(var m=f.iterator();m.hasNext();){var _=m.next().intValue();this.add(this._edge.getCoordinate(_),_)}},Rs.prototype.print=function(f){f.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(f)},Rs.prototype.findCollapsesFromExistingVertices=function(f){for(var m=0;m<this._edge.size()-2;m++){var _=this._edge.getCoordinate(m),x=this._edge.getCoordinate(m+2);_.equals2D(x)&&f.add(new _t(m+1))}},Rs.prototype.addEdgeCoordinates=function(f,m,_){var x=this._edge.getCoordinate(m.segmentIndex),D=m.isInterior()||!m.coord.equals2D(x);_.add(new q(f.coord),!1);for(var K=f.segmentIndex+1;K<=m.segmentIndex;K++)_.add(this._edge.getCoordinate(K));D&&_.add(new q(m.coord))},Rs.prototype.iterator=function(){return this._nodeMap.values().iterator()},Rs.prototype.addSplitEdges=function(f){this.addEndpoints(),this.addCollapsedNodes();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next(),D=this.createSplitEdge(_,x);f.add(D),_=x}},Rs.prototype.findCollapseIndex=function(f,m,_){if(!f.coord.equals2D(m.coord))return!1;var x=m.segmentIndex-f.segmentIndex;return m.isInterior()||x--,1===x&&(_[0]=f.segmentIndex+1,!0)},Rs.prototype.findCollapsesFromInsertedNodes=function(f){for(var m=new Array(1).fill(null),_=this.iterator(),x=_.next();_.hasNext();){var D=_.next();this.findCollapseIndex(x,D,m)&&f.add(new _t(m[0])),x=D}},Rs.prototype.getEdge=function(){return this._edge},Rs.prototype.addEndpoints=function(){var f=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(f),f)},Rs.prototype.createSplitEdge=function(f,m){var _=m.segmentIndex-f.segmentIndex+2,x=this._edge.getCoordinate(m.segmentIndex),D=m.isInterior()||!m.coord.equals2D(x);D||_--;var K=new Array(_).fill(null),xt=0;K[xt++]=new q(f.coord);for(var Kt=f.segmentIndex+1;Kt<=m.segmentIndex;Kt++)K[xt++]=this._edge.getCoordinate(Kt);return D&&(K[xt]=new q(m.coord)),new Lr(K,this._edge.getData())},Rs.prototype.add=function(f,m){var _=new Bo(this._edge,f,m,this._edge.getSegmentOctant(m)),x=this._nodeMap.get(_);return null!==x?(z.isTrue(x.coord.equals2D(f),"Found equal nodes with different coordinates"),x):(this._nodeMap.put(_,_),_)},Rs.prototype.checkSplitEdgesCorrectness=function(f){var m=this._edge.getCoordinates(),_=f.get(0).getCoordinate(0);if(!_.equals2D(m[0]))throw new S("bad split edge start point at "+_);var x=f.get(f.size()-1).getCoordinates(),D=x[x.length-1];if(!D.equals2D(m[m.length-1]))throw new S("bad split edge end point at "+D)},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var zs=function(){};zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs},zs.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[0],m=arguments[1];if(0===f&&0===m)throw new it("Cannot compute the octant for point ( "+f+", "+m+" )");var _=Math.abs(f),x=Math.abs(m);return f>=0?m>=0?_>=x?0:1:_>=x?7:6:m>=0?_>=x?3:2:_>=x?4:5}if(arguments[0]instanceof q&&arguments[1]instanceof q){var D=arguments[0],K=arguments[1],xt=K.x-D.x,Kt=K.y-D.y;if(0===xt&&0===Kt)throw new it("Cannot compute the octant for two identical points "+D);return zs.octant(xt,Kt)}};var Jo=function(){};Jo.prototype.getCoordinates=function(){},Jo.prototype.size=function(){},Jo.prototype.getCoordinate=function(f){},Jo.prototype.isClosed=function(){},Jo.prototype.setData=function(f){},Jo.prototype.getData=function(){},Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo};var zu=function(){};zu.prototype.addIntersection=function(f,m){},zu.prototype.interfaces_=function(){return[Jo]},zu.prototype.getClass=function(){return zu};var Lr=function(){this._nodeList=new Rs(this),this._pts=null,this._data=null;var m=arguments[1];this._pts=arguments[0],this._data=m};Lr.prototype.getCoordinates=function(){return this._pts},Lr.prototype.size=function(){return this._pts.length},Lr.prototype.getCoordinate=function(f){return this._pts[f]},Lr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Lr.prototype.getSegmentOctant=function(f){return f===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(f),this.getCoordinate(f+1))},Lr.prototype.setData=function(f){this._data=f},Lr.prototype.safeOctant=function(f,m){return f.equals2D(m)?0:zs.octant(f,m)},Lr.prototype.getData=function(){return this._data},Lr.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var x=arguments[1],K=new q(arguments[0].getIntersection(arguments[3]));this.addIntersection(K,x)}},Lr.prototype.toString=function(){return St.toLineString(new ki(this._pts))},Lr.prototype.getNodeList=function(){return this._nodeList},Lr.prototype.addIntersectionNode=function(f,m){var _=m,x=_+1;return x<this._pts.length&&f.equals2D(this._pts[x])&&(_=x),this._nodeList.add(f,_)},Lr.prototype.addIntersections=function(f,m,_){for(var x=0;x<f.getIntersectionNum();x++)this.addIntersection(f,m,_,x)},Lr.prototype.interfaces_=function(){return[zu]},Lr.prototype.getClass=function(){return Lr},Lr.getNodedSubstrings=function(){if(1===arguments.length){var f=arguments[0],m=new en;return Lr.getNodedSubstrings(f,m),m}if(2===arguments.length)for(var x=arguments[1],D=arguments[0].iterator();D.hasNext();)D.next().getNodeList().addSplitEdges(x)};var Ii=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new q,this.p1=new q;else if(1===arguments.length){var f=arguments[0];this.p0=new q(f.p0),this.p1=new q(f.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var x=arguments[2],D=arguments[3];this.p0=new q(arguments[0],arguments[1]),this.p1=new q(x,D)}},dd={serialVersionUID:{configurable:!0}};Ii.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ii.prototype.orientationIndex=function(){if(arguments[0]instanceof Ii){var f=arguments[0],m=xe.orientationIndex(this.p0,this.p1,f.p0),_=xe.orientationIndex(this.p0,this.p1,f.p1);return m>=0&&_>=0||m<=0&&_<=0?Math.max(m,_):0}if(arguments[0]instanceof q)return xe.orientationIndex(this.p0,this.p1,arguments[0])},Ii.prototype.toGeometry=function(f){return f.createLineString([this.p0,this.p1])},Ii.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ii.prototype.equals=function(f){if(!(f instanceof Ii))return!1;var m=f;return this.p0.equals(m.p0)&&this.p1.equals(m.p1)},Ii.prototype.intersection=function(f){var m=new Ot;return m.computeIntersection(this.p0,this.p1,f.p0,f.p1),m.hasIntersection()?m.getIntersection(0):null},Ii.prototype.project=function(){if(arguments[0]instanceof q){var f=arguments[0];if(f.equals(this.p0)||f.equals(this.p1))return new q(f);var m=this.projectionFactor(f),_=new q;return _.x=this.p0.x+m*(this.p1.x-this.p0.x),_.y=this.p0.y+m*(this.p1.y-this.p0.y),_}if(arguments[0]instanceof Ii){var x=arguments[0],D=this.projectionFactor(x.p0),K=this.projectionFactor(x.p1);if(D>=1&&K>=1||D<=0&&K<=0)return null;var xt=this.project(x.p0);D<0&&(xt=this.p0),D>1&&(xt=this.p1);var Kt=this.project(x.p1);return K<0&&(Kt=this.p0),K>1&&(Kt=this.p1),new Ii(xt,Kt)}},Ii.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ii.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ii.prototype.getCoordinate=function(f){return 0===f?this.p0:this.p1},Ii.prototype.distancePerpendicular=function(f){return xe.distancePointLinePerpendicular(f,this.p0,this.p1)},Ii.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ii.prototype.midPoint=function(){return Ii.midPoint(this.p0,this.p1)},Ii.prototype.projectionFactor=function(f){if(f.equals(this.p0))return 0;if(f.equals(this.p1))return 1;var m=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=m*m+_*_;return x<=0?V.NaN:((f.x-this.p0.x)*m+(f.y-this.p0.y)*_)/x},Ii.prototype.closestPoints=function(f){var m=this.intersection(f);if(null!==m)return[m,m];var _=new Array(2).fill(null),x=V.MAX_VALUE,D=null,K=this.closestPoint(f.p0);x=K.distance(f.p0),_[0]=K,_[1]=f.p0;var xt=this.closestPoint(f.p1);(D=xt.distance(f.p1))<x&&(x=D,_[0]=xt,_[1]=f.p1);var Kt=f.closestPoint(this.p0);(D=Kt.distance(this.p0))<x&&(x=D,_[0]=this.p0,_[1]=Kt);var fe=f.closestPoint(this.p1);return(D=fe.distance(this.p1))<x&&(x=D,_[0]=this.p1,_[1]=fe),_},Ii.prototype.closestPoint=function(f){var m=this.projectionFactor(f);return m>0&&m<1?this.project(f):this.p0.distance(f)<this.p1.distance(f)?this.p0:this.p1},Ii.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ii.prototype.getLength=function(){return this.p0.distance(this.p1)},Ii.prototype.compareTo=function(f){var m=f,_=this.p0.compareTo(m.p0);return 0!==_?_:this.p1.compareTo(m.p1)},Ii.prototype.reverse=function(){var f=this.p0;this.p0=this.p1,this.p1=f},Ii.prototype.equalsTopo=function(f){return this.p0.equals(f.p0)&&(this.p1.equals(f.p1)||this.p0.equals(f.p1))&&this.p1.equals(f.p0)},Ii.prototype.lineIntersection=function(f){try{return le.intersection(this.p0,this.p1,f.p0,f.p1)}catch(m){if(!(m instanceof re))throw m}return null},Ii.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ii.prototype.pointAlongOffset=function(f,m){var _=this.p0.x+f*(this.p1.x-this.p0.x),x=this.p0.y+f*(this.p1.y-this.p0.y),D=this.p1.x-this.p0.x,K=this.p1.y-this.p0.y,xt=Math.sqrt(D*D+K*K),Kt=0,fe=0;if(0!==m){if(xt<=0)throw new Error("Cannot compute offset from zero-length line segment");Kt=m*D/xt,fe=m*K/xt}return new q(_-fe,x+Kt)},Ii.prototype.setCoordinates=function(){if(1===arguments.length){var f=arguments[0];this.setCoordinates(f.p0,f.p1)}else if(2===arguments.length){var m=arguments[0],_=arguments[1];this.p0.x=m.x,this.p0.y=m.y,this.p1.x=_.x,this.p1.y=_.y}},Ii.prototype.segmentFraction=function(f){var m=this.projectionFactor(f);return m<0?m=0:(m>1||V.isNaN(m))&&(m=1),m},Ii.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ii.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ii.prototype.distance=function(){if(arguments[0]instanceof Ii){var f=arguments[0];return xe.distanceLineLine(this.p0,this.p1,f.p0,f.p1)}if(arguments[0]instanceof q)return xe.distancePointLine(arguments[0],this.p0,this.p1)},Ii.prototype.pointAlong=function(f){var m=new q;return m.x=this.p0.x+f*(this.p1.x-this.p0.x),m.y=this.p0.y+f*(this.p1.y-this.p0.y),m},Ii.prototype.hashCode=function(){var f=V.doubleToLongBits(this.p0.x);f^=31*V.doubleToLongBits(this.p0.y);var m=Math.trunc(f)^Math.trunc(f>>32),_=V.doubleToLongBits(this.p1.x);return _^=31*V.doubleToLongBits(this.p1.y),m^Math.trunc(_)^Math.trunc(_>>32)},Ii.prototype.interfaces_=function(){return[mt,tt]},Ii.prototype.getClass=function(){return Ii},Ii.midPoint=function(f,m){return new q((f.x+m.x)/2,(f.y+m.y)/2)},dd.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ii,dd);var ec=function(){this.tempEnv1=new Dt,this.tempEnv2=new Dt,this._overlapSeg1=new Ii,this._overlapSeg2=new Ii};ec.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var _=arguments[2],x=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),_.getLineSegment(x,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec};var Dr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var m=arguments[1],_=arguments[2],x=arguments[3];this._pts=arguments[0],this._start=m,this._end=_,this._context=x};Dr.prototype.getLineSegment=function(f,m){m.p0=this._pts[f],m.p1=this._pts[f+1]},Dr.prototype.computeSelect=function(f,m,_,x){if(x.tempEnv1.init(this._pts[m],this._pts[_]),_-m==1)return x.select(this,m),null;if(!f.intersects(x.tempEnv1))return null;var xt=Math.trunc((m+_)/2);m<xt&&this.computeSelect(f,m,xt,x),xt<_&&this.computeSelect(f,xt,_,x)},Dr.prototype.getCoordinates=function(){for(var f=new Array(this._end-this._start+1).fill(null),m=0,_=this._start;_<=this._end;_++)f[m++]=this._pts[_];return f},Dr.prototype.computeOverlaps=function(f,m){this.computeOverlapsInternal(this._start,this._end,f,f._start,f._end,m)},Dr.prototype.setId=function(f){this._id=f},Dr.prototype.select=function(f,m){this.computeSelect(f,this._start,this._end,m)},Dr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Dt(this._pts[this._start],this._pts[this._end])),this._env},Dr.prototype.getEndIndex=function(){return this._end},Dr.prototype.getStartIndex=function(){return this._start},Dr.prototype.getContext=function(){return this._context},Dr.prototype.getId=function(){return this._id},Dr.prototype.computeOverlapsInternal=function(f,m,_,x,D,K){var xt=this._pts[f],Kt=this._pts[m],fe=_._pts[x],He=_._pts[D];if(m-f==1&&D-x==1)return K.overlap(this,f,_,x),null;if(K.tempEnv1.init(xt,Kt),K.tempEnv2.init(fe,He),!K.tempEnv1.intersects(K.tempEnv2))return null;var pn=Math.trunc((f+m)/2),Mn=Math.trunc((x+D)/2);f<pn&&(x<Mn&&this.computeOverlapsInternal(f,pn,_,x,Mn,K),Mn<D&&this.computeOverlapsInternal(f,pn,_,Mn,D,K)),pn<m&&(x<Mn&&this.computeOverlapsInternal(pn,m,_,x,Mn,K),Mn<D&&this.computeOverlapsInternal(pn,m,_,Mn,D,K))},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr};var xl=function(){};xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl},xl.getChainStartIndices=function(f){var m=0,_=new en;_.add(new _t(m));do{var x=xl.findChainEnd(f,m);_.add(new _t(x)),m=x}while(m<f.length-1);return xl.toIntArray(_)},xl.findChainEnd=function(f,m){for(var _=m;_<f.length-1&&f[_].equals2D(f[_+1]);)_++;if(_>=f.length-1)return f.length-1;for(var x=To.quadrant(f[_],f[_+1]),D=m+1;D<f.length&&(f[D-1].equals2D(f[D])||To.quadrant(f[D-1],f[D])===x);)D++;return D-1},xl.getChains=function(){if(1===arguments.length)return xl.getChains(arguments[0],null);if(2===arguments.length){for(var m=arguments[0],_=arguments[1],x=new en,D=xl.getChainStartIndices(m),K=0;K<D.length-1;K++){var xt=new Dr(m,D[K],D[K+1],_);x.add(xt)}return x}},xl.toIntArray=function(f){for(var m=new Array(f.size()).fill(null),_=0;_<m.length;_++)m[_]=f.get(_).intValue();return m};var nc=function(){};nc.prototype.computeNodes=function(f){},nc.prototype.getNodedSubstrings=function(){},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc};var Zc=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};Zc.prototype.setSegmentIntersector=function(f){this._segInt=f},Zc.prototype.interfaces_=function(){return[nc]},Zc.prototype.getClass=function(){return Zc};var Rd=function(f){function m(x){x?f.call(this,x):f.call(this),this._monoChains=new en,this._index=new Do,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m;var _={SegmentOverlapAction:{configurable:!0}};return m.prototype.getMonotoneChains=function(){return this._monoChains},m.prototype.getNodedSubstrings=function(){return Lr.getNodedSubstrings(this._nodedSegStrings)},m.prototype.getIndex=function(){return this._index},m.prototype.add=function(x){for(var D=xl.getChains(x.getCoordinates(),x).iterator();D.hasNext();){var K=D.next();K.setId(this._idCounter++),this._index.insert(K.getEnvelope(),K),this._monoChains.add(K)}},m.prototype.computeNodes=function(x){this._nodedSegStrings=x;for(var D=x.iterator();D.hasNext();)this.add(D.next());this.intersectChains()},m.prototype.intersectChains=function(){for(var x=new vf(this._segInt),D=this._monoChains.iterator();D.hasNext();)for(var K=D.next(),xt=this._index.query(K.getEnvelope()).iterator();xt.hasNext();){var Kt=xt.next();if(Kt.getId()>K.getId()&&(K.computeOverlaps(Kt,x),this._nOverlaps++),this._segInt.isDone())return null}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},_.SegmentOverlapAction.get=function(){return vf},Object.defineProperties(m,_),m}(Zc),vf=function(f){function m(){f.call(this),this._si=null,this._si=arguments[0]}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.overlap=function(){if(4!==arguments.length)return f.prototype.overlap.apply(this,arguments);var x=arguments[1],D=arguments[2],K=arguments[3],xt=arguments[0].getContext(),Kt=D.getContext();this._si.processIntersections(xt,x,Kt,K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ec),So=function f(){if(this._quadrantSegments=f.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=f.CAP_ROUND,this._joinStyle=f.JOIN_ROUND,this._mitreLimit=f.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=f.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var x=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(x)}else if(4===arguments.length){var K=arguments[1],xt=arguments[2],Kt=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(K),this.setJoinStyle(xt),this.setMitreLimit(Kt)}},dl={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};So.prototype.getEndCapStyle=function(){return this._endCapStyle},So.prototype.isSingleSided=function(){return this._isSingleSided},So.prototype.setQuadrantSegments=function(f){this._quadrantSegments=f,0===this._quadrantSegments&&(this._joinStyle=So.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=So.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),f<=0&&(this._quadrantSegments=1),this._joinStyle!==So.JOIN_ROUND&&(this._quadrantSegments=So.DEFAULT_QUADRANT_SEGMENTS)},So.prototype.getJoinStyle=function(){return this._joinStyle},So.prototype.setJoinStyle=function(f){this._joinStyle=f},So.prototype.setSimplifyFactor=function(f){this._simplifyFactor=f<0?0:f},So.prototype.getSimplifyFactor=function(){return this._simplifyFactor},So.prototype.getQuadrantSegments=function(){return this._quadrantSegments},So.prototype.setEndCapStyle=function(f){this._endCapStyle=f},So.prototype.getMitreLimit=function(){return this._mitreLimit},So.prototype.setMitreLimit=function(f){this._mitreLimit=f},So.prototype.setSingleSided=function(f){this._isSingleSided=f},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.bufferDistanceError=function(f){var m=Math.PI/2/f;return 1-Math.cos(m/2)},dl.CAP_ROUND.get=function(){return 1},dl.CAP_FLAT.get=function(){return 2},dl.CAP_SQUARE.get=function(){return 3},dl.JOIN_ROUND.get=function(){return 1},dl.JOIN_MITRE.get=function(){return 2},dl.JOIN_BEVEL.get=function(){return 3},dl.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},dl.DEFAULT_MITRE_LIMIT.get=function(){return 5},dl.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(So,dl);var go=function(f){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=xe.COUNTERCLOCKWISE,this._inputLine=f||null},Cs={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};go.prototype.isDeletable=function(f,m,_,x){var D=this._inputLine[f],K=this._inputLine[m],xt=this._inputLine[_];return!!this.isConcave(D,K,xt)&&!!this.isShallow(D,K,xt,x)&&this.isShallowSampled(D,K,f,_,x)},go.prototype.deleteShallowConcavities=function(){for(var f=1,m=this.findNextNonDeletedIndex(f),_=this.findNextNonDeletedIndex(m),x=!1;_<this._inputLine.length;){var D=!1;this.isDeletable(f,m,_,this._distanceTol)&&(this._isDeleted[m]=go.DELETE,D=!0,x=!0),m=this.findNextNonDeletedIndex(f=D?_:m),_=this.findNextNonDeletedIndex(m)}return x},go.prototype.isShallowConcavity=function(f,m,_,x){return xe.computeOrientation(f,m,_)===this._angleOrientation&&xe.distancePointLine(m,f,_)<x},go.prototype.isShallowSampled=function(f,m,_,x,D){var K=Math.trunc((x-_)/go.NUM_PTS_TO_CHECK);K<=0&&(K=1);for(var xt=_;xt<x;xt+=K)if(!this.isShallow(f,m,this._inputLine[xt],D))return!1;return!0},go.prototype.isConcave=function(f,m,_){return xe.computeOrientation(f,m,_)===this._angleOrientation},go.prototype.simplify=function(f){this._distanceTol=Math.abs(f),f<0&&(this._angleOrientation=xe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var m=!1;do{m=this.deleteShallowConcavities()}while(m);return this.collapseLine()},go.prototype.findNextNonDeletedIndex=function(f){for(var m=f+1;m<this._inputLine.length&&this._isDeleted[m]===go.DELETE;)m++;return m},go.prototype.isShallow=function(f,m,_,x){return xe.distancePointLine(m,f,_)<x},go.prototype.collapseLine=function(){for(var f=new Bt,m=0;m<this._inputLine.length;m++)this._isDeleted[m]!==go.DELETE&&f.add(this._inputLine[m]);return f.toCoordinateArray()},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go},go.simplify=function(f,m){return new go(f).simplify(m)},Cs.INIT.get=function(){return 0},Cs.DELETE.get=function(){return 1},Cs.KEEP.get=function(){return 1},Cs.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(go,Cs);var nn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new en},Yc={COORDINATE_ARRAY_TYPE:{configurable:!0}};nn.prototype.getCoordinates=function(){return this._ptList.toArray(nn.COORDINATE_ARRAY_TYPE)},nn.prototype.setPrecisionModel=function(f){this._precisionModel=f},nn.prototype.addPt=function(f){var m=new q(f);if(this._precisionModel.makePrecise(m),this.isRedundant(m))return null;this._ptList.add(m)},nn.prototype.revere=function(){},nn.prototype.addPts=function(f,m){if(m)for(var _=0;_<f.length;_++)this.addPt(f[_]);else for(var x=f.length-1;x>=0;x--)this.addPt(f[x])},nn.prototype.isRedundant=function(f){if(this._ptList.size()<1)return!1;var m=this._ptList.get(this._ptList.size()-1);return f.distance(m)<this._minimimVertexDistance},nn.prototype.toString=function(){return(new Ze).createLineString(this.getCoordinates()).toString()},nn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var f=new q(this._ptList.get(0)),m=this._ptList.get(this._ptList.size()-1);if(f.equals(m))return null;this._ptList.add(f)},nn.prototype.setMinimumVertexDistance=function(f){this._minimimVertexDistance=f},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},Yc.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(nn,Yc);var Vn=function(){},xc={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.toDegrees=function(f){return 180*f/Math.PI},Vn.normalize=function(f){for(;f>Math.PI;)f-=Vn.PI_TIMES_2;for(;f<=-Math.PI;)f+=Vn.PI_TIMES_2;return f},Vn.angle=function(){if(1===arguments.length){var f=arguments[0];return Math.atan2(f.y,f.x)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return Math.atan2(_.y-m.y,_.x-m.x)}},Vn.isAcute=function(f,m,_){return(f.x-m.x)*(_.x-m.x)+(f.y-m.y)*(_.y-m.y)>0},Vn.isObtuse=function(f,m,_){return(f.x-m.x)*(_.x-m.x)+(f.y-m.y)*(_.y-m.y)<0},Vn.interiorAngle=function(f,m,_){var x=Vn.angle(m,f),D=Vn.angle(m,_);return Math.abs(D-x)},Vn.normalizePositive=function(f){if(f<0){for(;f<0;)f+=Vn.PI_TIMES_2;f>=Vn.PI_TIMES_2&&(f=0)}else{for(;f>=Vn.PI_TIMES_2;)f-=Vn.PI_TIMES_2;f<0&&(f=0)}return f},Vn.angleBetween=function(f,m,_){var x=Vn.angle(m,f),D=Vn.angle(m,_);return Vn.diff(x,D)},Vn.diff=function(f,m){var _=null;return(_=f<m?m-f:f-m)>Math.PI&&(_=2*Math.PI-_),_},Vn.toRadians=function(f){return f*Math.PI/180},Vn.getTurn=function(f,m){var _=Math.sin(m-f);return _>0?Vn.COUNTERCLOCKWISE:_<0?Vn.CLOCKWISE:Vn.NONE},Vn.angleBetweenOriented=function(f,m,_){var x=Vn.angle(m,f),D=Vn.angle(m,_)-x;return D<=-Math.PI?D+Vn.PI_TIMES_2:D>Math.PI?D-Vn.PI_TIMES_2:D},xc.PI_TIMES_2.get=function(){return 2*Math.PI},xc.PI_OVER_2.get=function(){return Math.PI/2},xc.PI_OVER_4.get=function(){return Math.PI/4},xc.COUNTERCLOCKWISE.get=function(){return xe.COUNTERCLOCKWISE},xc.CLOCKWISE.get=function(){return xe.CLOCKWISE},xc.NONE.get=function(){return xe.COLLINEAR},Object.defineProperties(Vn,xc);var Wo=function f(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ii,this._seg1=new Ii,this._offset0=new Ii,this._offset1=new Ii,this._side=0,this._hasNarrowConcaveAngle=!1;var _=arguments[1],x=arguments[2];this._precisionModel=arguments[0],this._bufParams=_,this._li=new Ot,this._filletAngleQuantum=Math.PI/2/_.getQuadrantSegments(),_.getQuadrantSegments()>=8&&_.getJoinStyle()===So.JOIN_ROUND&&(this._closingSegLengthFactor=f.MAX_CLOSING_SEG_LEN_FACTOR),this.init(x)},ic={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Wo.prototype.addNextSegment=function(f,m){if(this._s0=this._s1,this._s1=this._s2,this._s2=f,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var _=xe.computeOrientation(this._s0,this._s1,this._s2),x=_===xe.CLOCKWISE&&this._side===Gt.LEFT||_===xe.COUNTERCLOCKWISE&&this._side===Gt.RIGHT;0===_?this.addCollinear(m):x?this.addOutsideTurn(_,m):this.addInsideTurn(_,m)},Wo.prototype.addLineEndCap=function(f,m){var _=new Ii(f,m),x=new Ii;this.computeOffsetSegment(_,Gt.LEFT,this._distance,x);var D=new Ii;this.computeOffsetSegment(_,Gt.RIGHT,this._distance,D);var Kt=Math.atan2(m.y-f.y,m.x-f.x);switch(this._bufParams.getEndCapStyle()){case So.CAP_ROUND:this._segList.addPt(x.p1),this.addFilletArc(m,Kt+Math.PI/2,Kt-Math.PI/2,xe.CLOCKWISE,this._distance),this._segList.addPt(D.p1);break;case So.CAP_FLAT:this._segList.addPt(x.p1),this._segList.addPt(D.p1);break;case So.CAP_SQUARE:var fe=new q;fe.x=Math.abs(this._distance)*Math.cos(Kt),fe.y=Math.abs(this._distance)*Math.sin(Kt);var He=new q(x.p1.x+fe.x,x.p1.y+fe.y),pn=new q(D.p1.x+fe.x,D.p1.y+fe.y);this._segList.addPt(He),this._segList.addPt(pn)}},Wo.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Wo.prototype.addMitreJoin=function(f,m,_,x){var D=!0,K=null;try{K=le.intersection(m.p0,m.p1,_.p0,_.p1),(x<=0?1:K.distance(f)/Math.abs(x))>this._bufParams.getMitreLimit()&&(D=!1)}catch(xt){if(!(xt instanceof re))throw xt;K=new q(0,0),D=!1}D?this._segList.addPt(K):this.addLimitedMitreJoin(m,_,x,this._bufParams.getMitreLimit())},Wo.prototype.addFilletCorner=function(f,m,_,x,D){var Kt=Math.atan2(m.y-f.y,m.x-f.x),pn=Math.atan2(_.y-f.y,_.x-f.x);x===xe.CLOCKWISE?Kt<=pn&&(Kt+=2*Math.PI):Kt>=pn&&(Kt-=2*Math.PI),this._segList.addPt(m),this.addFilletArc(f,Kt,pn,x,D),this._segList.addPt(_)},Wo.prototype.addOutsideTurn=function(f,m){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Wo.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===So.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===So.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(m&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,f,this._distance),this._segList.addPt(this._offset1.p0))},Wo.prototype.createSquare=function(f){this._segList.addPt(new q(f.x+this._distance,f.y+this._distance)),this._segList.addPt(new q(f.x+this._distance,f.y-this._distance)),this._segList.addPt(new q(f.x-this._distance,f.y-this._distance)),this._segList.addPt(new q(f.x-this._distance,f.y+this._distance)),this._segList.closeRing()},Wo.prototype.addSegments=function(f,m){this._segList.addPts(f,m)},Wo.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Wo.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Wo.prototype.initSideSegments=function(f,m,_){this._s1=f,this._s2=m,this._side=_,this._seg1.setCoordinates(f,m),this.computeOffsetSegment(this._seg1,_,this._distance,this._offset1)},Wo.prototype.addLimitedMitreJoin=function(f,m,_,x){var D=this._seg0.p1,K=Vn.angle(D,this._seg0.p0),xt=Vn.angleBetweenOriented(this._seg0.p0,D,this._seg1.p1)/2,Kt=Vn.normalize(K+xt),fe=Vn.normalize(Kt+Math.PI),He=x*_,pn=_-He*Math.abs(Math.sin(xt)),Mn=D.x+He*Math.cos(fe),ti=D.y+He*Math.sin(fe),li=new q(Mn,ti),bi=new Ii(D,li),lr=bi.pointAlongOffset(1,pn),ra=bi.pointAlongOffset(1,-pn);this._side===Gt.LEFT?(this._segList.addPt(lr),this._segList.addPt(ra)):(this._segList.addPt(ra),this._segList.addPt(lr))},Wo.prototype.computeOffsetSegment=function(f,m,_,x){var D=m===Gt.LEFT?1:-1,K=f.p1.x-f.p0.x,xt=f.p1.y-f.p0.y,Kt=Math.sqrt(K*K+xt*xt),fe=D*_*K/Kt,He=D*_*xt/Kt;x.p0.x=f.p0.x-He,x.p0.y=f.p0.y+fe,x.p1.x=f.p1.x-He,x.p1.y=f.p1.y+fe},Wo.prototype.addFilletArc=function(f,m,_,x,D){var K=x===xe.CLOCKWISE?-1:1,xt=Math.abs(m-_),Kt=Math.trunc(xt/this._filletAngleQuantum+.5);if(Kt<1)return null;for(var fe=xt/Kt,He=0,pn=new q;He<xt;){var Mn=m+K*He;pn.x=f.x+D*Math.cos(Mn),pn.y=f.y+D*Math.sin(Mn),this._segList.addPt(pn),He+=fe}},Wo.prototype.addInsideTurn=function(f,m){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Wo.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var _=new q((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(_);var x=new q((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(x)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Wo.prototype.createCircle=function(f){var m=new q(f.x+this._distance,f.y);this._segList.addPt(m),this.addFilletArc(f,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Wo.prototype.addBevelJoin=function(f,m){this._segList.addPt(f.p1),this._segList.addPt(m.p0)},Wo.prototype.init=function(f){this._distance=f,this._maxCurveSegmentError=f*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new nn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(f*Wo.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Wo.prototype.addCollinear=function(f){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===So.JOIN_BEVEL||this._bufParams.getJoinStyle()===So.JOIN_MITRE?(f&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,xe.CLOCKWISE,this._distance))},Wo.prototype.closeRing=function(){this._segList.closeRing()},Wo.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo},ic.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ic.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ic.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ic.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Wo,ic);var Us=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var m=arguments[1];this._precisionModel=arguments[0],this._bufParams=m};Us.prototype.getOffsetCurve=function(f,m){if(this._distance=m,0===m)return null;var _=m<0,x=Math.abs(m),D=this.getSegGen(x);f.length<=1?this.computePointCurve(f[0],D):this.computeOffsetCurve(f,_,D);var K=D.getCoordinates();return _&&Jt.reverse(K),K},Us.prototype.computeSingleSidedBufferCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);if(m){_.addSegments(f,!0);var D=go.simplify(f,-x),K=D.length-1;_.initSideSegments(D[K],D[K-1],Gt.LEFT),_.addFirstSegment();for(var xt=K-2;xt>=0;xt--)_.addNextSegment(D[xt],!0)}else{_.addSegments(f,!1);var Kt=go.simplify(f,x),fe=Kt.length-1;_.initSideSegments(Kt[0],Kt[1],Gt.LEFT),_.addFirstSegment();for(var He=2;He<=fe;He++)_.addNextSegment(Kt[He],!0)}_.addLastSegment(),_.closeRing()},Us.prototype.computeRingBufferCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);m===Gt.RIGHT&&(x=-x);var D=go.simplify(f,x),K=D.length-1;_.initSideSegments(D[K-1],D[0],m);for(var xt=1;xt<=K;xt++)_.addNextSegment(D[xt],1!==xt);_.closeRing()},Us.prototype.computeLineBufferCurve=function(f,m){var _=this.simplifyTolerance(this._distance),x=go.simplify(f,_),D=x.length-1;m.initSideSegments(x[0],x[1],Gt.LEFT);for(var K=2;K<=D;K++)m.addNextSegment(x[K],!0);m.addLastSegment(),m.addLineEndCap(x[D-1],x[D]);var xt=go.simplify(f,-_),Kt=xt.length-1;m.initSideSegments(xt[Kt],xt[Kt-1],Gt.LEFT);for(var fe=Kt-2;fe>=0;fe--)m.addNextSegment(xt[fe],!0);m.addLastSegment(),m.addLineEndCap(xt[1],xt[0]),m.closeRing()},Us.prototype.computePointCurve=function(f,m){switch(this._bufParams.getEndCapStyle()){case So.CAP_ROUND:m.createCircle(f);break;case So.CAP_SQUARE:m.createSquare(f)}},Us.prototype.getLineCurve=function(f,m){if(this._distance=m,m<0&&!this._bufParams.isSingleSided()||0===m)return null;var _=Math.abs(m),x=this.getSegGen(_);return f.length<=1?this.computePointCurve(f[0],x):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(f,m<0,x):this.computeLineBufferCurve(f,x),x.getCoordinates()},Us.prototype.getBufferParameters=function(){return this._bufParams},Us.prototype.simplifyTolerance=function(f){return f*this._bufParams.getSimplifyFactor()},Us.prototype.getRingCurve=function(f,m,_){if(this._distance=_,f.length<=2)return this.getLineCurve(f,_);if(0===_)return Us.copyCoordinates(f);var x=this.getSegGen(_);return this.computeRingBufferCurve(f,m,x),x.getCoordinates()},Us.prototype.computeOffsetCurve=function(f,m,_){var x=this.simplifyTolerance(this._distance);if(m){var D=go.simplify(f,-x),K=D.length-1;_.initSideSegments(D[K],D[K-1],Gt.LEFT),_.addFirstSegment();for(var xt=K-2;xt>=0;xt--)_.addNextSegment(D[xt],!0)}else{var Kt=go.simplify(f,x),fe=Kt.length-1;_.initSideSegments(Kt[0],Kt[1],Gt.LEFT),_.addFirstSegment();for(var He=2;He<=fe;He++)_.addNextSegment(Kt[He],!0)}_.addLastSegment()},Us.prototype.getSegGen=function(f){return new Wo(this._precisionModel,this._bufParams,f)},Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us},Us.copyCoordinates=function(f){for(var m=new Array(f.length).fill(null),_=0;_<m.length;_++)m[_]=new q(f[_]);return m};var wl=function(){this._subgraphs=null,this._seg=new Ii,this._cga=new xe,this._subgraphs=arguments[0]},Uu={DepthSegment:{configurable:!0}};wl.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var f=arguments[0],m=new en,_=this._subgraphs.iterator();_.hasNext();){var x=_.next(),D=x.getEnvelope();f.y<D.getMinY()||f.y>D.getMaxY()||this.findStabbedSegments(f,x.getDirectedEdges(),m)}return m}if(3===arguments.length)if(ce(arguments[2],_n)&&arguments[0]instanceof q&&arguments[1]instanceof Hl){for(var K=arguments[0],xt=arguments[1],Kt=arguments[2],fe=xt.getEdge().getCoordinates(),He=0;He<fe.length-1;He++)if(this._seg.p0=fe[He],this._seg.p1=fe[He+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<K.x||this._seg.isHorizontal()||K.y<this._seg.p0.y||K.y>this._seg.p1.y||xe.computeOrientation(this._seg.p0,this._seg.p1,K)===xe.RIGHT)){var pn=xt.getDepth(Gt.LEFT);this._seg.p0.equals(fe[He])||(pn=xt.getDepth(Gt.RIGHT));var Mn=new Gs(this._seg,pn);Kt.add(Mn)}}else if(ce(arguments[2],_n)&&arguments[0]instanceof q&&ce(arguments[1],_n))for(var ti=arguments[0],bi=arguments[2],lr=arguments[1].iterator();lr.hasNext();){var ra=lr.next();ra.isForward()&&this.findStabbedSegments(ti,ra,bi)}},wl.prototype.getDepth=function(f){var m=this.findStabbedSegments(f);return 0===m.size()?0:Or.min(m)._leftDepth},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl},Uu.DepthSegment.get=function(){return Gs},Object.defineProperties(wl,Uu);var Gs=function(){this._upwardSeg=null,this._leftDepth=null;var m=arguments[1];this._upwardSeg=new Ii(arguments[0]),this._leftDepth=m};Gs.prototype.compareTo=function(f){var m=f;if(this._upwardSeg.minX()>=m._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=m._upwardSeg.minX())return-1;var _=this._upwardSeg.orientationIndex(m._upwardSeg);return 0!==_||0!=(_=-1*m._upwardSeg.orientationIndex(this._upwardSeg))?_:this._upwardSeg.compareTo(m._upwardSeg)},Gs.prototype.compareX=function(f,m){var _=f.p0.compareTo(m.p0);return 0!==_?_:f.p1.compareTo(m.p1)},Gs.prototype.toString=function(){return this._upwardSeg.toString()},Gs.prototype.interfaces_=function(){return[mt]},Gs.prototype.getClass=function(){return Gs};var Yr=function(f,m,_){this.p0=f||null,this.p1=m||null,this.p2=_||null};Yr.prototype.area=function(){return Yr.area(this.p0,this.p1,this.p2)},Yr.prototype.signedArea=function(){return Yr.signedArea(this.p0,this.p1,this.p2)},Yr.prototype.interpolateZ=function(f){if(null===f)throw new it("Supplied point is null.");return Yr.interpolateZ(f,this.p0,this.p1,this.p2)},Yr.prototype.longestSideLength=function(){return Yr.longestSideLength(this.p0,this.p1,this.p2)},Yr.prototype.isAcute=function(){return Yr.isAcute(this.p0,this.p1,this.p2)},Yr.prototype.circumcentre=function(){return Yr.circumcentre(this.p0,this.p1,this.p2)},Yr.prototype.area3D=function(){return Yr.area3D(this.p0,this.p1,this.p2)},Yr.prototype.centroid=function(){return Yr.centroid(this.p0,this.p1,this.p2)},Yr.prototype.inCentre=function(){return Yr.inCentre(this.p0,this.p1,this.p2)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.area=function(f,m,_){return Math.abs(((_.x-f.x)*(m.y-f.y)-(m.x-f.x)*(_.y-f.y))/2)},Yr.signedArea=function(f,m,_){return((_.x-f.x)*(m.y-f.y)-(m.x-f.x)*(_.y-f.y))/2},Yr.det=function(f,m,_,x){return f*x-m*_},Yr.interpolateZ=function(f,m,_,x){var D=m.x,K=m.y,xt=_.x-D,Kt=x.x-D,fe=_.y-K,He=x.y-K,pn=xt*He-Kt*fe,Mn=f.x-D,ti=f.y-K;return m.z+(He*Mn-Kt*ti)/pn*(_.z-m.z)+(-fe*Mn+xt*ti)/pn*(x.z-m.z)},Yr.longestSideLength=function(f,m,_){var x=f.distance(m),D=m.distance(_),K=_.distance(f),xt=x;return D>xt&&(xt=D),K>xt&&(xt=K),xt},Yr.isAcute=function(f,m,_){return!!Vn.isAcute(f,m,_)&&!!Vn.isAcute(m,_,f)&&!!Vn.isAcute(_,f,m)},Yr.circumcentre=function(f,m,_){var x=_.x,D=_.y,K=f.x-x,xt=f.y-D,Kt=m.x-x,fe=m.y-D,He=2*Yr.det(K,xt,Kt,fe),pn=Yr.det(xt,K*K+xt*xt,fe,Kt*Kt+fe*fe),Mn=Yr.det(K,K*K+xt*xt,Kt,Kt*Kt+fe*fe);return new q(x-pn/He,D+Mn/He)},Yr.perpendicularBisector=function(f,m){var _=m.x-f.x,x=m.y-f.y,D=new le(f.x+_/2,f.y+x/2,1),K=new le(f.x-x+_/2,f.y+_+x/2,1);return new le(D,K)},Yr.angleBisector=function(f,m,_){var x=m.distance(f),D=x/(x+m.distance(_));return new q(f.x+D*(_.x-f.x),f.y+D*(_.y-f.y))},Yr.area3D=function(f,m,_){var x=m.x-f.x,D=m.y-f.y,K=m.z-f.z,xt=_.x-f.x,Kt=_.y-f.y,fe=_.z-f.z,He=D*fe-K*Kt,pn=K*xt-x*fe,Mn=x*Kt-D*xt;return Math.sqrt(He*He+pn*pn+Mn*Mn)/2},Yr.centroid=function(f,m,_){return new q((f.x+m.x+_.x)/3,(f.y+m.y+_.y)/3)},Yr.inCentre=function(f,m,_){var x=m.distance(_),D=f.distance(_),K=f.distance(m),xt=x+D+K;return new q((x*f.x+D*m.x+K*_.x)/xt,(x*f.y+D*m.y+K*_.y)/xt)};var vs=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new en;var m=arguments[1],_=arguments[2];this._inputGeom=arguments[0],this._distance=m,this._curveBuilder=_};vs.prototype.addPoint=function(f){if(this._distance<=0)return null;var m=f.getCoordinates(),_=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(_,ut.EXTERIOR,ut.INTERIOR)},vs.prototype.addPolygon=function(f){var m=this._distance,_=Gt.LEFT;this._distance<0&&(m=-this._distance,_=Gt.RIGHT);var x=f.getExteriorRing(),D=Jt.removeRepeatedPoints(x.getCoordinates());if(this._distance<0&&this.isErodedCompletely(x,this._distance)||this._distance<=0&&D.length<3)return null;this.addPolygonRing(D,m,_,ut.EXTERIOR,ut.INTERIOR);for(var K=0;K<f.getNumInteriorRing();K++){var xt=f.getInteriorRingN(K),Kt=Jt.removeRepeatedPoints(xt.getCoordinates());this._distance>0&&this.isErodedCompletely(xt,-this._distance)||this.addPolygonRing(Kt,m,Gt.opposite(_),ut.INTERIOR,ut.EXTERIOR)}},vs.prototype.isTriangleErodedCompletely=function(f,m){var _=new Yr(f[0],f[1],f[2]),x=_.inCentre();return xe.distancePointLine(x,_.p0,_.p1)<Math.abs(m)},vs.prototype.addLineString=function(f){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var m=Jt.removeRepeatedPoints(f.getCoordinates()),_=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(_,ut.EXTERIOR,ut.INTERIOR)},vs.prototype.addCurve=function(f,m,_){if(null===f||f.length<2)return null;var x=new Lr(f,new oi(0,ut.BOUNDARY,m,_));this._curveList.add(x)},vs.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},vs.prototype.addPolygonRing=function(f,m,_,x,D){if(0===m&&f.length<zi.MINIMUM_VALID_SIZE)return null;var K=x,xt=D;f.length>=zi.MINIMUM_VALID_SIZE&&xe.isCCW(f)&&(K=D,xt=x,_=Gt.opposite(_));var Kt=this._curveBuilder.getRingCurve(f,_,m);this.addCurve(Kt,K,xt)},vs.prototype.add=function(f){if(f.isEmpty())return null;f instanceof jo?this.addPolygon(f):f instanceof Ti?this.addLineString(f):f instanceof fo?this.addPoint(f):(f instanceof Xs||f instanceof qe||f instanceof cs||f instanceof Be)&&this.addCollection(f)},vs.prototype.isErodedCompletely=function(f,m){var _=f.getCoordinates();if(_.length<4)return m<0;if(4===_.length)return this.isTriangleErodedCompletely(_,m);var x=f.getEnvelopeInternal(),D=Math.min(x.getHeight(),x.getWidth());return m<0&&2*Math.abs(m)>D},vs.prototype.addCollection=function(f){for(var m=0;m<f.getNumGeometries();m++){var _=f.getGeometryN(m);this.add(_)}},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var ol=function(){};ol.prototype.locate=function(f){},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol};var wr=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var f=arguments[0];this._parent=f,this._atStart=!0,this._index=0,this._max=f.getNumGeometries()};wr.prototype.next=function(){if(this._atStart)return this._atStart=!1,wr.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new F;var f=this._parent.getGeometryN(this._index++);return f instanceof Be?(this._subcollectionIterator=new wr(f),this._subcollectionIterator.next()):f},wr.prototype.remove=function(){throw new Error(this.getClass().getName())},wr.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},wr.prototype.interfaces_=function(){return[rn]},wr.prototype.getClass=function(){return wr},wr.isAtomic=function(f){return!(f instanceof Be)};var ds=function(){this._geom=null,this._geom=arguments[0]};ds.prototype.locate=function(f){return ds.locate(f,this._geom)},ds.prototype.interfaces_=function(){return[ol]},ds.prototype.getClass=function(){return ds},ds.isPointInRing=function(f,m){return!!m.getEnvelopeInternal().intersects(f)&&xe.isPointInRing(f,m.getCoordinates())},ds.containsPointInPolygon=function(f,m){if(m.isEmpty())return!1;var _=m.getExteriorRing();if(!ds.isPointInRing(f,_))return!1;for(var x=0;x<m.getNumInteriorRing();x++){var D=m.getInteriorRingN(x);if(ds.isPointInRing(f,D))return!1}return!0},ds.containsPoint=function(f,m){if(m instanceof jo)return ds.containsPointInPolygon(f,m);if(m instanceof Be)for(var _=new wr(m);_.hasNext();){var x=_.next();if(x!==m&&ds.containsPoint(f,x))return!0}return!1},ds.locate=function(f,m){return m.isEmpty()?ut.EXTERIOR:ds.containsPoint(f,m)?ut.INTERIOR:ut.EXTERIOR};var Ls=function(){this._edgeMap=new $,this._edgeList=null,this._ptInAreaLocation=[ut.NONE,ut.NONE]};Ls.prototype.getNextCW=function(f){this.getEdges();var m=this._edgeList.indexOf(f),_=m-1;return 0===m&&(_=this._edgeList.size()-1),this._edgeList.get(_)},Ls.prototype.propagateSideLabels=function(f){for(var m=ut.NONE,_=this.iterator();_.hasNext();){var x=_.next().getLabel();x.isArea(f)&&x.getLocation(f,Gt.LEFT)!==ut.NONE&&(m=x.getLocation(f,Gt.LEFT))}if(m===ut.NONE)return null;for(var D=m,K=this.iterator();K.hasNext();){var xt=K.next(),Kt=xt.getLabel();if(Kt.getLocation(f,Gt.ON)===ut.NONE&&Kt.setLocation(f,Gt.ON,D),Kt.isArea(f)){var fe=Kt.getLocation(f,Gt.LEFT),He=Kt.getLocation(f,Gt.RIGHT);if(He!==ut.NONE){if(He!==D)throw new gn("side location conflict",xt.getCoordinate());fe===ut.NONE&&z.shouldNeverReachHere("found single null side (at "+xt.getCoordinate()+")"),D=fe}else z.isTrue(Kt.getLocation(f,Gt.LEFT)===ut.NONE,"found single null side"),Kt.setLocation(f,Gt.RIGHT,D),Kt.setLocation(f,Gt.LEFT,D)}}},Ls.prototype.getCoordinate=function(){var f=this.iterator();return f.hasNext()?f.next().getCoordinate():null},Ls.prototype.print=function(f){Me.out.println("EdgeEndStar:   "+this.getCoordinate());for(var m=this.iterator();m.hasNext();)m.next().print(f)},Ls.prototype.isAreaLabelsConsistent=function(f){return this.computeEdgeEndLabels(f.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Ls.prototype.checkAreaLabelsConsistent=function(f){var m=this.getEdges();if(m.size()<=0)return!0;var _=m.size()-1,x=m.get(_).getLabel().getLocation(f,Gt.LEFT);z.isTrue(x!==ut.NONE,"Found unlabelled area edge");for(var D=x,K=this.iterator();K.hasNext();){var xt=K.next().getLabel();z.isTrue(xt.isArea(f),"Found non-area edge");var Kt=xt.getLocation(f,Gt.LEFT),fe=xt.getLocation(f,Gt.RIGHT);if(Kt===fe||fe!==D)return!1;D=Kt}return!0},Ls.prototype.findIndex=function(f){this.iterator();for(var m=0;m<this._edgeList.size();m++)if(this._edgeList.get(m)===f)return m;return-1},Ls.prototype.iterator=function(){return this.getEdges().iterator()},Ls.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new en(this._edgeMap.values())),this._edgeList},Ls.prototype.getLocation=function(f,m,_){return this._ptInAreaLocation[f]===ut.NONE&&(this._ptInAreaLocation[f]=ds.locate(m,_[f].getGeometry())),this._ptInAreaLocation[f]},Ls.prototype.toString=function(){var f=new dt;f.append("EdgeEndStar:   "+this.getCoordinate()),f.append("\n");for(var m=this.iterator();m.hasNext();){var _=m.next();f.append(_),f.append("\n")}return f.toString()},Ls.prototype.computeEdgeEndLabels=function(f){for(var m=this.iterator();m.hasNext();)m.next().computeLabel(f)},Ls.prototype.computeLabelling=function(f){this.computeEdgeEndLabels(f[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var m=[!1,!1],_=this.iterator();_.hasNext();)for(var x=_.next().getLabel(),D=0;D<2;D++)x.isLine(D)&&x.getLocation(D)===ut.BOUNDARY&&(m[D]=!0);for(var K=this.iterator();K.hasNext();)for(var xt=K.next(),Kt=xt.getLabel(),fe=0;fe<2;fe++)if(Kt.isAnyNull(fe)){var He=ut.NONE;if(m[fe])He=ut.EXTERIOR;else{var pn=xt.getCoordinate();He=this.getLocation(fe,pn,f)}Kt.setAllLocationsIfNull(fe,He)}},Ls.prototype.getDegree=function(){return this._edgeMap.size()},Ls.prototype.insertEdgeEnd=function(f,m){this._edgeMap.put(f,m),this._edgeList=null},Ls.prototype.interfaces_=function(){return[]},Ls.prototype.getClass=function(){return Ls};var Xc=function(f){function m(){f.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var _=null,x=null,D=this._SCANNING_FOR_INCOMING,K=0;K<this._resultAreaEdgeList.size();K++){var xt=this._resultAreaEdgeList.get(K),Kt=xt.getSym();if(xt.getLabel().isArea())switch(null===_&&xt.isInResult()&&(_=xt),D){case this._SCANNING_FOR_INCOMING:if(!Kt.isInResult())continue;x=Kt,D=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!xt.isInResult())continue;x.setNext(xt),D=this._SCANNING_FOR_INCOMING}}if(D===this._LINKING_TO_OUTGOING){if(null===_)throw new gn("no outgoing dirEdge found",this.getCoordinate());z.isTrue(_.isInResult(),"unable to link last incoming dirEdge"),x.setNext(_)}},m.prototype.insert=function(_){this.insertEdgeEnd(_,_)},m.prototype.getRightmostEdge=function(){var _=this.getEdges(),x=_.size();if(x<1)return null;var D=_.get(0);if(1===x)return D;var K=_.get(x-1),xt=D.getQuadrant(),Kt=K.getQuadrant();return To.isNorthern(xt)&&To.isNorthern(Kt)?D:To.isNorthern(xt)||To.isNorthern(Kt)?0!==D.getDy()?D:0!==K.getDy()?K:(z.shouldNeverReachHere("found two horizontal edges incident on node"),null):K},m.prototype.print=function(_){Me.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var x=this.iterator();x.hasNext();){var D=x.next();_.print("out "),D.print(_),_.println(),_.print("in "),D.getSym().print(_),_.println()}},m.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new en;for(var _=this.iterator();_.hasNext();){var x=_.next();(x.isInResult()||x.getSym().isInResult())&&this._resultAreaEdgeList.add(x)}return this._resultAreaEdgeList},m.prototype.updateLabelling=function(_){for(var x=this.iterator();x.hasNext();){var D=x.next().getLabel();D.setAllLocationsIfNull(0,_.getLocation(0)),D.setAllLocationsIfNull(1,_.getLocation(1))}},m.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var _=null,x=null,D=this._edgeList.size()-1;D>=0;D--){var K=this._edgeList.get(D),xt=K.getSym();null===x&&(x=xt),null!==_&&xt.setNext(_),_=K}x.setNext(_)},m.prototype.computeDepths=function(){if(1===arguments.length){var _=arguments[0],x=this.findIndex(_),D=_.getDepth(Gt.LEFT),K=_.getDepth(Gt.RIGHT),xt=this.computeDepths(x+1,this._edgeList.size(),D);if(this.computeDepths(0,x,xt)!==K)throw new gn("depth mismatch at "+_.getCoordinate())}else if(3===arguments.length){for(var fe=arguments[1],He=arguments[2],pn=arguments[0];pn<fe;pn++){var Mn=this._edgeList.get(pn);Mn.setEdgeDepths(Gt.RIGHT,He),He=Mn.getDepth(Gt.LEFT)}return He}},m.prototype.mergeSymLabels=function(){for(var _=this.iterator();_.hasNext();){var x=_.next();x.getLabel().merge(x.getSym().getLabel())}},m.prototype.linkMinimalDirectedEdges=function(_){for(var x=null,D=null,K=this._SCANNING_FOR_INCOMING,xt=this._resultAreaEdgeList.size()-1;xt>=0;xt--){var Kt=this._resultAreaEdgeList.get(xt),fe=Kt.getSym();switch(null===x&&Kt.getEdgeRing()===_&&(x=Kt),K){case this._SCANNING_FOR_INCOMING:if(fe.getEdgeRing()!==_)continue;D=fe,K=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(Kt.getEdgeRing()!==_)continue;D.setNextMin(Kt),K=this._SCANNING_FOR_INCOMING}}K===this._LINKING_TO_OUTGOING&&(z.isTrue(null!==x,"found null for first outgoing dirEdge"),z.isTrue(x.getEdgeRing()===_,"unable to link last incoming dirEdge"),D.setNextMin(x))},m.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var _=0,x=this.iterator();x.hasNext();)x.next().isInResult()&&_++;return _}if(1===arguments.length){for(var D=arguments[0],K=0,xt=this.iterator();xt.hasNext();)xt.next().getEdgeRing()===D&&K++;return K}},m.prototype.getLabel=function(){return this._label},m.prototype.findCoveredLineEdges=function(){for(var _=ut.NONE,x=this.iterator();x.hasNext();){var D=x.next(),K=D.getSym();if(!D.isLineEdge()){if(D.isInResult()){_=ut.INTERIOR;break}if(K.isInResult()){_=ut.EXTERIOR;break}}}if(_===ut.NONE)return null;for(var xt=_,Kt=this.iterator();Kt.hasNext();){var fe=Kt.next(),He=fe.getSym();fe.isLineEdge()?fe.getEdge().setCovered(xt===ut.INTERIOR):(fe.isInResult()&&(xt=ut.EXTERIOR),He.isInResult()&&(xt=ut.INTERIOR))}},m.prototype.computeLabelling=function(_){f.prototype.computeLabelling.call(this,_),this._label=new oi(ut.NONE);for(var x=this.iterator();x.hasNext();)for(var D=x.next().getEdge().getLabel(),K=0;K<2;K++){var xt=D.getLocation(K);xt!==ut.INTERIOR&&xt!==ut.BOUNDARY||this._label.setLocation(K,ut.INTERIOR)}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(Ls),Hh=function(f){function m(){f.apply(this,arguments)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.createNode=function(_){return new wu(_,new Xc)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ul),Os=function f(){this._pts=null,this._orientation=null;var m=arguments[0];this._pts=m,this._orientation=f.orientation(m)};Os.prototype.compareTo=function(f){return Os.compareOriented(this._pts,this._orientation,f._pts,f._orientation)},Os.prototype.interfaces_=function(){return[mt]},Os.prototype.getClass=function(){return Os},Os.orientation=function(f){return 1===Jt.increasingDirection(f)},Os.compareOriented=function(f,m,_,x){for(var D=m?1:-1,K=x?1:-1,xt=m?f.length:-1,Kt=x?_.length:-1,fe=m?0:f.length-1,He=x?0:_.length-1;;){var pn=f[fe].compareTo(_[He]);if(0!==pn)return pn;var Mn=(fe+=D)===xt,ti=(He+=K)===Kt;if(Mn&&!ti)return-1;if(!Mn&&ti)return 1;if(Mn&&ti)return 0}};var Vo=function(){this._edges=new en,this._ocaMap=new $};Vo.prototype.print=function(f){f.print("MULTILINESTRING ( ");for(var m=0;m<this._edges.size();m++){var _=this._edges.get(m);m>0&&f.print(","),f.print("(");for(var x=_.getCoordinates(),D=0;D<x.length;D++)D>0&&f.print(","),f.print(x[D].x+" "+x[D].y);f.println(")")}f.print(")  ")},Vo.prototype.addAll=function(f){for(var m=f.iterator();m.hasNext();)this.add(m.next())},Vo.prototype.findEdgeIndex=function(f){for(var m=0;m<this._edges.size();m++)if(this._edges.get(m).equals(f))return m;return-1},Vo.prototype.iterator=function(){return this._edges.iterator()},Vo.prototype.getEdges=function(){return this._edges},Vo.prototype.get=function(f){return this._edges.get(f)},Vo.prototype.findEqualEdge=function(f){var m=new Os(f.getCoordinates());return this._ocaMap.get(m)},Vo.prototype.add=function(f){this._edges.add(f);var m=new Os(f.getCoordinates());this._ocaMap.put(m,f)},Vo.prototype.interfaces_=function(){return[]},Vo.prototype.getClass=function(){return Vo};var ns=function(){};ns.prototype.processIntersections=function(f,m,_,x){},ns.prototype.isDone=function(){},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var Ci=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Ci.prototype.isTrivialIntersection=function(f,m,_,x){if(f===_&&1===this._li.getIntersectionNum()){if(Ci.isAdjacentSegments(m,x))return!0;if(f.isClosed()){var D=f.size()-1;if(0===m&&x===D||0===x&&m===D)return!0}}return!1},Ci.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ci.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ci.prototype.getLineIntersector=function(){return this._li},Ci.prototype.hasProperIntersection=function(){return this._hasProper},Ci.prototype.processIntersections=function(f,m,_,x){if(f===_&&m===x)return null;this.numTests++;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],Kt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,Kt),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(f,m,_,x)||(this._hasIntersection=!0,f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ci.prototype.hasIntersection=function(){return this._hasIntersection},Ci.prototype.isDone=function(){return!1},Ci.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ci.prototype.interfaces_=function(){return[ns]},Ci.prototype.getClass=function(){return Ci},Ci.isAdjacentSegments=function(f,m){return 1===Math.abs(f-m)};var Cl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var m=arguments[1],_=arguments[2];this.coord=new q(arguments[0]),this.segmentIndex=m,this.dist=_};Cl.prototype.getSegmentIndex=function(){return this.segmentIndex},Cl.prototype.getCoordinate=function(){return this.coord},Cl.prototype.print=function(f){f.print(this.coord),f.print(" seg # = "+this.segmentIndex),f.println(" dist = "+this.dist)},Cl.prototype.compareTo=function(f){return this.compare(f.segmentIndex,f.dist)},Cl.prototype.isEndPoint=function(f){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===f},Cl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Cl.prototype.getDistance=function(){return this.dist},Cl.prototype.compare=function(f,m){return this.segmentIndex<f?-1:this.segmentIndex>f?1:this.dist<m?-1:this.dist>m?1:0},Cl.prototype.interfaces_=function(){return[mt]},Cl.prototype.getClass=function(){return Cl};var rc=function(){this._nodeMap=new $,this.edge=null,this.edge=arguments[0]};rc.prototype.print=function(f){f.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(f)},rc.prototype.iterator=function(){return this._nodeMap.values().iterator()},rc.prototype.addSplitEdges=function(f){this.addEndpoints();for(var m=this.iterator(),_=m.next();m.hasNext();){var x=m.next(),D=this.createSplitEdge(_,x);f.add(D),_=x}},rc.prototype.addEndpoints=function(){var f=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[f],f,0)},rc.prototype.createSplitEdge=function(f,m){var _=m.segmentIndex-f.segmentIndex+2,D=m.dist>0||!m.coord.equals2D(this.edge.pts[m.segmentIndex]);D||_--;var K=new Array(_).fill(null),xt=0;K[xt++]=new q(f.coord);for(var Kt=f.segmentIndex+1;Kt<=m.segmentIndex;Kt++)K[xt++]=this.edge.pts[Kt];return D&&(K[xt]=m.coord),new Cn(K,new oi(this.edge._label))},rc.prototype.add=function(f,m,_){var x=new Cl(f,m,_),D=this._nodeMap.get(x);return null!==D?D:(this._nodeMap.put(x,x),x)},rc.prototype.isIntersection=function(f){for(var m=this.iterator();m.hasNext();)if(m.next().coord.equals(f))return!0;return!1},rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc};var Sl=function(){};Sl.prototype.getChainStartIndices=function(f){var m=0,_=new en;_.add(new _t(m));do{var x=this.findChainEnd(f,m);_.add(new _t(x)),m=x}while(m<f.length-1);return Sl.toIntArray(_)},Sl.prototype.findChainEnd=function(f,m){for(var _=To.quadrant(f[m],f[m+1]),x=m+1;x<f.length&&To.quadrant(f[x-1],f[x])===_;)x++;return x-1},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.toIntArray=function(f){for(var m=new Array(f.size()).fill(null),_=0;_<m.length;_++)m[_]=f.get(_).intValue();return m};var ai=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Dt,this.env2=new Dt;var f=arguments[0];this.e=f,this.pts=f.getCoordinates();var m=new Sl;this.startIndex=m.getChainStartIndices(this.pts)};ai.prototype.getCoordinates=function(){return this.pts},ai.prototype.getMaxX=function(f){var m=this.pts[this.startIndex[f]].x,_=this.pts[this.startIndex[f+1]].x;return m>_?m:_},ai.prototype.getMinX=function(f){var m=this.pts[this.startIndex[f]].x,_=this.pts[this.startIndex[f+1]].x;return m<_?m:_},ai.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var f=arguments[0],m=arguments[1],_=arguments[2];this.computeIntersectsForChain(this.startIndex[f],this.startIndex[f+1],m,m.startIndex[_],m.startIndex[_+1],arguments[3])}else if(6===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2],Kt=arguments[3],fe=arguments[4],He=arguments[5],pn=this.pts[D],Mn=this.pts[K],ti=xt.pts[Kt],li=xt.pts[fe];if(K-D==1&&fe-Kt==1)return He.addIntersections(this.e,D,xt.e,Kt),null;if(this.env1.init(pn,Mn),this.env2.init(ti,li),!this.env1.intersects(this.env2))return null;var bi=Math.trunc((D+K)/2),lr=Math.trunc((Kt+fe)/2);D<bi&&(Kt<lr&&this.computeIntersectsForChain(D,bi,xt,Kt,lr,He),lr<fe&&this.computeIntersectsForChain(D,bi,xt,lr,fe,He)),bi<K&&(Kt<lr&&this.computeIntersectsForChain(bi,K,xt,Kt,lr,He),lr<fe&&this.computeIntersectsForChain(bi,K,xt,lr,fe,He))}},ai.prototype.getStartIndexes=function(){return this.startIndex},ai.prototype.computeIntersects=function(f,m){for(var _=0;_<this.startIndex.length-1;_++)for(var x=0;x<f.startIndex.length-1;x++)this.computeIntersectsForChain(_,f,x,m)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai};var _s=function f(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var m=0;m<2;m++)for(var _=0;_<3;_++)this._depth[m][_]=f.NULL_VALUE},Gu={NULL_VALUE:{configurable:!0}};_s.prototype.getDepth=function(f,m){return this._depth[f][m]},_s.prototype.setDepth=function(f,m,_){this._depth[f][m]=_},_s.prototype.isNull=function(){if(0===arguments.length){for(var f=0;f<2;f++)for(var m=0;m<3;m++)if(this._depth[f][m]!==_s.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===_s.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===_s.NULL_VALUE:void 0},_s.prototype.normalize=function(){for(var f=0;f<2;f++)if(!this.isNull(f)){var m=this._depth[f][1];this._depth[f][2]<m&&(m=this._depth[f][2]),m<0&&(m=0);for(var _=1;_<3;_++){var x=0;this._depth[f][_]>m&&(x=1),this._depth[f][_]=x}}},_s.prototype.getDelta=function(f){return this._depth[f][Gt.RIGHT]-this._depth[f][Gt.LEFT]},_s.prototype.getLocation=function(f,m){return this._depth[f][m]<=0?ut.EXTERIOR:ut.INTERIOR},_s.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},_s.prototype.add=function(){if(1===arguments.length)for(var f=arguments[0],m=0;m<2;m++)for(var _=1;_<3;_++){var x=f.getLocation(m,_);x!==ut.EXTERIOR&&x!==ut.INTERIOR||(this.isNull(m,_)?this._depth[m][_]=_s.depthAtLocation(x):this._depth[m][_]+=_s.depthAtLocation(x))}else 3===arguments.length&&arguments[2]===ut.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},_s.prototype.interfaces_=function(){return[]},_s.prototype.getClass=function(){return _s},_s.depthAtLocation=function(f){return f===ut.EXTERIOR?0:f===ut.INTERIOR?1:_s.NULL_VALUE},Gu.NULL_VALUE.get=function(){return-1},Object.defineProperties(_s,Gu);var Cn=function(f){function m(){if(f.call(this),this.pts=null,this._env=null,this.eiList=new rc(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new _s,this._depthDelta=0,1===arguments.length)m.call(this,arguments[0],null);else if(2===arguments.length){var D=arguments[1];this.pts=arguments[0],this._label=D}}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.getDepth=function(){return this._depth},m.prototype.getCollapsedEdge=function(){var _=new Array(2).fill(null);return _[0]=this.pts[0],_[1]=this.pts[1],new m(_,oi.toLineLabel(this._label))},m.prototype.isIsolated=function(){return this._isIsolated},m.prototype.getCoordinates=function(){return this.pts},m.prototype.setIsolated=function(_){this._isIsolated=_},m.prototype.setName=function(_){this._name=_},m.prototype.equals=function(_){if(!(_ instanceof m))return!1;var x=_;if(this.pts.length!==x.pts.length)return!1;for(var D=!0,K=!0,xt=this.pts.length,Kt=0;Kt<this.pts.length;Kt++)if(this.pts[Kt].equals2D(x.pts[Kt])||(D=!1),this.pts[Kt].equals2D(x.pts[--xt])||(K=!1),!D&&!K)return!1;return!0},m.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},m.prototype.print=function(_){_.print("edge "+this._name+": "),_.print("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&_.print(","),_.print(this.pts[x].x+" "+this.pts[x].y);_.print(")  "+this._label+" "+this._depthDelta)},m.prototype.computeIM=function(_){m.updateIM(this._label,_)},m.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},m.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},m.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},m.prototype.getDepthDelta=function(){return this._depthDelta},m.prototype.getNumPoints=function(){return this.pts.length},m.prototype.printReverse=function(_){_.print("edge "+this._name+": ");for(var x=this.pts.length-1;x>=0;x--)_.print(this.pts[x]+" ");_.println("")},m.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new ai(this)),this._mce},m.prototype.getEnvelope=function(){if(null===this._env){this._env=new Dt;for(var _=0;_<this.pts.length;_++)this._env.expandToInclude(this.pts[_])}return this._env},m.prototype.addIntersection=function(_,x,D,K){var xt=new q(_.getIntersection(K)),Kt=x,fe=_.getEdgeDistance(D,K),He=Kt+1;He<this.pts.length&&xt.equals2D(this.pts[He])&&(Kt=He,fe=0),this.eiList.add(xt,Kt,fe)},m.prototype.toString=function(){var _=new dt;_.append("edge "+this._name+": "),_.append("LINESTRING (");for(var x=0;x<this.pts.length;x++)x>0&&_.append(","),_.append(this.pts[x].x+" "+this.pts[x].y);return _.append(")  "+this._label+" "+this._depthDelta),_.toString()},m.prototype.isPointwiseEqual=function(_){if(this.pts.length!==_.pts.length)return!1;for(var x=0;x<this.pts.length;x++)if(!this.pts[x].equals2D(_.pts[x]))return!1;return!0},m.prototype.setDepthDelta=function(_){this._depthDelta=_},m.prototype.getEdgeIntersectionList=function(){return this.eiList},m.prototype.addIntersections=function(_,x,D){for(var K=0;K<_.getIntersectionNum();K++)this.addIntersection(_,x,D,K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.updateIM=function(){if(2!==arguments.length)return f.prototype.updateIM.apply(this,arguments);var _=arguments[0],x=arguments[1];x.setAtLeastIfValid(_.getLocation(0,Gt.ON),_.getLocation(1,Gt.ON),1),_.isArea()&&(x.setAtLeastIfValid(_.getLocation(0,Gt.LEFT),_.getLocation(1,Gt.LEFT),2),x.setAtLeastIfValid(_.getLocation(0,Gt.RIGHT),_.getLocation(1,Gt.RIGHT),2))},m}($s),Jr=function(f){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Vo,this._bufParams=f||null};Jr.prototype.setWorkingPrecisionModel=function(f){this._workingPrecisionModel=f},Jr.prototype.insertUniqueEdge=function(f){var m=this._edgeList.findEqualEdge(f);if(null!==m){var _=m.getLabel(),x=f.getLabel();m.isPointwiseEqual(f)||(x=new oi(f.getLabel())).flip(),_.merge(x);var D=Jr.depthDelta(x),K=m.getDepthDelta()+D;m.setDepthDelta(K)}else this._edgeList.add(f),f.setDepthDelta(Jr.depthDelta(f.getLabel()))},Jr.prototype.buildSubgraphs=function(f,m){for(var _=new en,x=f.iterator();x.hasNext();){var D=x.next(),K=D.getRightmostCoordinate(),xt=new wl(_).getDepth(K);D.computeDepth(xt),D.findResultEdges(),_.add(D),m.add(D.getDirectedEdges(),D.getNodes())}},Jr.prototype.createSubgraphs=function(f){for(var m=new en,_=f.getNodes().iterator();_.hasNext();){var x=_.next();if(!x.isVisited()){var D=new ei;D.create(x),m.add(D)}}return Or.sort(m,Or.reverseOrder()),m},Jr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Jr.prototype.getNoder=function(f){if(null!==this._workingNoder)return this._workingNoder;var m=new Rd,_=new Ot;return _.setPrecisionModel(f),m.setSegmentIntersector(new Ci(_)),m},Jr.prototype.buffer=function(f,m){var _=this._workingPrecisionModel;null===_&&(_=f.getPrecisionModel()),this._geomFact=f.getFactory();var x=new Us(_,this._bufParams),D=new vs(f,m,x).getCurves();if(D.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(D,_),this._graph=new mo(new Hh),this._graph.addEdges(this._edgeList.getEdges());var K=this.createSubgraphs(this._graph),xt=new Gr(this._geomFact);this.buildSubgraphs(K,xt);var Kt=xt.getPolygons();return Kt.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(Kt)},Jr.prototype.computeNodedEdges=function(f,m){var _=this.getNoder(m);_.computeNodes(f);for(var x=_.getNodedSubstrings().iterator();x.hasNext();){var D=x.next(),K=D.getCoordinates();if(2!==K.length||!K[0].equals2D(K[1])){var xt=D.getData(),Kt=new Cn(D.getCoordinates(),new oi(xt));this.insertUniqueEdge(Kt)}}},Jr.prototype.setNoder=function(f){this._workingNoder=f},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.depthDelta=function(f){var m=f.getLocation(0,Gt.LEFT),_=f.getLocation(0,Gt.RIGHT);return m===ut.INTERIOR&&_===ut.EXTERIOR?1:m===ut.EXTERIOR&&_===ut.INTERIOR?-1:0},Jr.convertSegStrings=function(f){for(var m=new Ze,_=new en;f.hasNext();){var x=f.next(),D=m.createLineString(x.getCoordinates());_.add(D)}return m.buildGeometry(_)};var lo=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var m=arguments[1];this._noder=arguments[0],this._scaleFactor=m,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var x=arguments[1],D=arguments[2],K=arguments[3];this._noder=arguments[0],this._scaleFactor=x,this._offsetX=D,this._offsetY=K,this._isScaled=!this.isIntegerPrecision()}};lo.prototype.rescale=function(){if(ce(arguments[0],We))for(var f=arguments[0].iterator();f.hasNext();){var m=f.next();this.rescale(m.getCoordinates())}else if(arguments[0]instanceof Array){for(var _=arguments[0],x=0;x<_.length;x++)_[x].x=_[x].x/this._scaleFactor+this._offsetX,_[x].y=_[x].y/this._scaleFactor+this._offsetY;2===_.length&&_[0].equals2D(_[1])&&Me.out.println(_)}},lo.prototype.scale=function(){if(ce(arguments[0],We)){for(var f=arguments[0],m=new en,_=f.iterator();_.hasNext();){var x=_.next();m.add(new Lr(this.scale(x.getCoordinates()),x.getData()))}return m}if(arguments[0]instanceof Array){for(var D=arguments[0],K=new Array(D.length).fill(null),xt=0;xt<D.length;xt++)K[xt]=new q(Math.round((D[xt].x-this._offsetX)*this._scaleFactor),Math.round((D[xt].y-this._offsetY)*this._scaleFactor),D[xt].z);return Jt.removeRepeatedPoints(K)}},lo.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},lo.prototype.getNodedSubstrings=function(){var f=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(f),f},lo.prototype.computeNodes=function(f){var m=f;this._isScaled&&(m=this.scale(f)),this._noder.computeNodes(m)},lo.prototype.interfaces_=function(){return[nc]},lo.prototype.getClass=function(){return lo};var Oo=function(){this._li=new Ot,this._segStrings=null,this._segStrings=arguments[0]},Ks={fact:{configurable:!0}};Oo.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();){var m=f.next().getCoordinates();this.checkEndPtVertexIntersections(m[0],this._segStrings),this.checkEndPtVertexIntersections(m[m.length-1],this._segStrings)}else if(2===arguments.length)for(var _=arguments[0],x=arguments[1].iterator();x.hasNext();)for(var D=x.next().getCoordinates(),K=1;K<D.length-1;K++)if(D[K].equals(_))throw new S("found endpt/interior pt intersection at index "+K+" :pt "+_)},Oo.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();)for(var m=f.next(),_=this._segStrings.iterator();_.hasNext();){var x=_.next();this.checkInteriorIntersections(m,x)}else if(2===arguments.length)for(var D=arguments[0],K=arguments[1],xt=D.getCoordinates(),Kt=K.getCoordinates(),fe=0;fe<xt.length-1;fe++)for(var He=0;He<Kt.length-1;He++)this.checkInteriorIntersections(D,fe,K,He);else if(4===arguments.length){var pn=arguments[0],Mn=arguments[1],ti=arguments[2],li=arguments[3];if(pn===ti&&Mn===li)return null;var bi=pn.getCoordinates()[Mn],lr=pn.getCoordinates()[Mn+1],ra=ti.getCoordinates()[li],kn=ti.getCoordinates()[li+1];if(this._li.computeIntersection(bi,lr,ra,kn),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,bi,lr)||this.hasInteriorIntersection(this._li,ra,kn)))throw new S("found non-noded intersection at "+bi+"-"+lr+" and "+ra+"-"+kn)}},Oo.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Oo.prototype.checkCollapses=function(){if(0===arguments.length)for(var f=this._segStrings.iterator();f.hasNext();){var m=f.next();this.checkCollapses(m)}else if(1===arguments.length)for(var _=arguments[0].getCoordinates(),x=0;x<_.length-2;x++)this.checkCollapse(_[x],_[x+1],_[x+2])},Oo.prototype.hasInteriorIntersection=function(f,m,_){for(var x=0;x<f.getIntersectionNum();x++){var D=f.getIntersection(x);if(!D.equals(m)&&!D.equals(_))return!0}return!1},Oo.prototype.checkCollapse=function(f,m,_){if(f.equals(_))throw new S("found non-noded collapse at "+Oo.fact.createLineString([f,m,_]))},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo},Ks.fact.get=function(){return new Ze},Object.defineProperties(Oo,Ks);var ta=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var f=arguments[0],m=arguments[1],_=arguments[2];if(this._originalPt=f,this._pt=f,this._scaleFactor=m,this._li=_,m<=0)throw new it("Scale factor must be non-zero");1!==m&&(this._pt=new q(this.scale(f.x),this.scale(f.y)),this._p0Scaled=new q,this._p1Scaled=new q),this.initCorners(this._pt)},al={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ta.prototype.intersectsScaled=function(f,m){var _=Math.min(f.x,m.x),x=Math.max(f.x,m.x),D=Math.min(f.y,m.y),K=Math.max(f.y,m.y),xt=this._maxx<_||this._minx>x||this._maxy<D||this._miny>K;if(xt)return!1;var Kt=this.intersectsToleranceSquare(f,m);return z.isTrue(!(xt&&Kt),"Found bad envelope test"),Kt},ta.prototype.initCorners=function(f){this._minx=f.x-.5,this._maxx=f.x+.5,this._miny=f.y-.5,this._maxy=f.y+.5,this._corner[0]=new q(this._maxx,this._maxy),this._corner[1]=new q(this._minx,this._maxy),this._corner[2]=new q(this._minx,this._miny),this._corner[3]=new q(this._maxx,this._miny)},ta.prototype.intersects=function(f,m){return 1===this._scaleFactor?this.intersectsScaled(f,m):(this.copyScaled(f,this._p0Scaled),this.copyScaled(m,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ta.prototype.scale=function(f){return Math.round(f*this._scaleFactor)},ta.prototype.getCoordinate=function(){return this._originalPt},ta.prototype.copyScaled=function(f,m){m.x=this.scale(f.x),m.y=this.scale(f.y)},ta.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var f=ta.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Dt(this._originalPt.x-f,this._originalPt.x+f,this._originalPt.y-f,this._originalPt.y+f)}return this._safeEnv},ta.prototype.intersectsPixelClosure=function(f,m){return this._li.computeIntersection(f,m,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(f,m,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ta.prototype.intersectsToleranceSquare=function(f,m){var _=!1,x=!1;return this._li.computeIntersection(f,m,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(f,m,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(_=!0),this._li.computeIntersection(f,m,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(x=!0),this._li.computeIntersection(f,m,this._corner[3],this._corner[0]),this._li.isProper()||_&&x||f.equals(this._pt)||m.equals(this._pt)))))},ta.prototype.addSnappedNode=function(f,m){var _=f.getCoordinate(m),x=f.getCoordinate(m+1);return!!this.intersects(_,x)&&(f.addIntersection(this.getCoordinate(),m),!0)},ta.prototype.interfaces_=function(){return[]},ta.prototype.getClass=function(){return ta},al.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ta,al);var ou=function(){this.tempEnv1=new Dt,this.selectedSegment=new Ii};ou.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var au=function(){this._index=null,this._index=arguments[0]},Cu={HotPixelSnapAction:{configurable:!0}};au.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var m=arguments[0],_=arguments[1],x=arguments[2],D=m.getSafeEnvelope(),K=new Rl(m,_,x);return this._index.query(D,{interfaces_:function(){return[zn]},visitItem:function(xt){xt.select(D,K)}}),K.isNodeAdded()}},au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au},Cu.HotPixelSnapAction.get=function(){return Rl},Object.defineProperties(au,Cu);var Rl=function(f){function m(){f.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var x=arguments[1],D=arguments[2];this._hotPixel=arguments[0],this._parentEdge=x,this._hotPixelVertexIndex=D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.isNodeAdded=function(){return this._isNodeAdded},m.prototype.select=function(){if(2!==arguments.length)return f.prototype.select.apply(this,arguments);var x=arguments[1],D=arguments[0].getContext();if(null!==this._parentEdge&&D===this._parentEdge&&x===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(D,x)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ou),fi=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new en};fi.prototype.processIntersections=function(f,m,_,x){if(f===_&&m===x)return null;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],Kt=_.getCoordinates()[x+1];if(this._li.computeIntersection(D,K,xt,Kt),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var fe=0;fe<this._li.getIntersectionNum();fe++)this._interiorIntersections.add(this._li.getIntersection(fe));f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1)}},fi.prototype.isDone=function(){return!1},fi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fi.prototype.interfaces_=function(){return[ns]},fi.prototype.getClass=function(){return fi};var dr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var f=arguments[0];this._pm=f,this._li=new Ot,this._li.setPrecisionModel(f),this._scaleFactor=f.getScale()};dr.prototype.checkCorrectness=function(f){var m=Lr.getNodedSubstrings(f),_=new Oo(m);try{_.checkValid()}catch(x){if(!(x instanceof Le))throw x;x.printStackTrace()}},dr.prototype.getNodedSubstrings=function(){return Lr.getNodedSubstrings(this._nodedSegStrings)},dr.prototype.snapRound=function(f,m){var _=this.findInteriorIntersections(f,m);this.computeIntersectionSnaps(_),this.computeVertexSnaps(f)},dr.prototype.findInteriorIntersections=function(f,m){var _=new fi(m);return this._noder.setSegmentIntersector(_),this._noder.computeNodes(f),_.getInteriorIntersections()},dr.prototype.computeVertexSnaps=function(){if(ce(arguments[0],We))for(var f=arguments[0].iterator();f.hasNext();){var m=f.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof Lr)for(var _=arguments[0],x=_.getCoordinates(),D=0;D<x.length;D++){var K=new ta(x[D],this._scaleFactor,this._li);this._pointSnapper.snap(K,_,D)&&_.addIntersection(x[D],D)}},dr.prototype.computeNodes=function(f){this._nodedSegStrings=f,this._noder=new Rd,this._pointSnapper=new au(this._noder.getIndex()),this.snapRound(f,this._li)},dr.prototype.computeIntersectionSnaps=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next(),x=new ta(_,this._scaleFactor,this._li);this._pointSnapper.snap(x)}},dr.prototype.interfaces_=function(){return[nc]},dr.prototype.getClass=function(){return dr};var he=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new So,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var _=arguments[1];this._argGeom=arguments[0],this._bufParams=_}},Ss={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};he.prototype.bufferFixedPrecision=function(f){var m=new lo(new dr(new oe(1)),f.getScale()),_=new Jr(this._bufParams);_.setWorkingPrecisionModel(f),_.setNoder(m),this._resultGeometry=_.buffer(this._argGeom,this._distance)},he.prototype.bufferReducedPrecision=function(){var f=this;if(0===arguments.length){for(var m=he.MAX_PRECISION_DIGITS;m>=0;m--){try{f.bufferReducedPrecision(m)}catch(K){if(!(K instanceof gn))throw K;f._saveException=K}if(null!==f._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var x=he.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),D=new oe(x);this.bufferFixedPrecision(D)}},he.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var f=this._argGeom.getFactory().getPrecisionModel();f.getType()===oe.FIXED?this.bufferFixedPrecision(f):this.bufferReducedPrecision()},he.prototype.setQuadrantSegments=function(f){this._bufParams.setQuadrantSegments(f)},he.prototype.bufferOriginalPrecision=function(){try{var f=new Jr(this._bufParams);this._resultGeometry=f.buffer(this._argGeom,this._distance)}catch(m){if(!(m instanceof S))throw m;this._saveException=m}},he.prototype.getResultGeometry=function(f){return this._distance=f,this.computeGeometry(),this._resultGeometry},he.prototype.setEndCapStyle=function(f){this._bufParams.setEndCapStyle(f)},he.prototype.interfaces_=function(){return[]},he.prototype.getClass=function(){return he},he.bufferOp=function(){if(2===arguments.length){var m=arguments[1];return new he(arguments[0]).getResultGeometry(m)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ue&&"number"==typeof arguments[1]){var x=arguments[1],D=arguments[2],K=new he(arguments[0]);return K.setQuadrantSegments(D),K.getResultGeometry(x)}if(arguments[2]instanceof So&&arguments[0]instanceof Ue&&"number"==typeof arguments[1]){var Kt=arguments[1];return new he(arguments[0],arguments[2]).getResultGeometry(Kt)}}else if(4===arguments.length){var pn=arguments[1],Mn=arguments[2],ti=arguments[3],li=new he(arguments[0]);return li.setQuadrantSegments(Mn),li.setEndCapStyle(ti),li.getResultGeometry(pn)}},he.precisionScaleFactor=function(f,m,_){var x=f.getEnvelopeInternal(),D=Et.max(Math.abs(x.getMaxX()),Math.abs(x.getMaxY()),Math.abs(x.getMinX()),Math.abs(x.getMinY()))+2*(m>0?m:0),K=_-Math.trunc(Math.log(D)/Math.log(10)+1);return Math.pow(10,K)},Ss.CAP_ROUND.get=function(){return So.CAP_ROUND},Ss.CAP_BUTT.get=function(){return So.CAP_FLAT},Ss.CAP_FLAT.get=function(){return So.CAP_FLAT},Ss.CAP_SQUARE.get=function(){return So.CAP_SQUARE},Ss.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(he,Ss);var Ja=function(){this._pt=[new q,new q],this._distance=V.NaN,this._isNull=!0};Ja.prototype.getCoordinates=function(){return this._pt},Ja.prototype.getCoordinate=function(f){return this._pt[f]},Ja.prototype.setMinimum=function(){if(1===arguments.length){var f=arguments[0];this.setMinimum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x<this._distance&&this.initialize(m,_,x)}},Ja.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var f=arguments[0],m=arguments[1];this._pt[0].setCoordinate(f),this._pt[1].setCoordinate(m),this._distance=f.distance(m),this._isNull=!1}else if(3===arguments.length){var x=arguments[1],D=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(x),this._distance=D,this._isNull=!1}},Ja.prototype.getDistance=function(){return this._distance},Ja.prototype.setMaximum=function(){if(1===arguments.length){var f=arguments[0];this.setMaximum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x>this._distance&&this.initialize(m,_,x)}},Ja.prototype.interfaces_=function(){return[]},Ja.prototype.getClass=function(){return Ja};var Po=function(){};Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.computeDistance=function(){if(arguments[2]instanceof Ja&&arguments[0]instanceof Ti&&arguments[1]instanceof q)for(var m=arguments[1],_=arguments[2],x=arguments[0].getCoordinates(),D=new Ii,K=0;K<x.length-1;K++){D.setCoordinates(x[K],x[K+1]);var xt=D.closestPoint(m);_.setMinimum(xt,m)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof jo&&arguments[1]instanceof q){var Kt=arguments[0],fe=arguments[1],He=arguments[2];Po.computeDistance(Kt.getExteriorRing(),fe,He);for(var pn=0;pn<Kt.getNumInteriorRing();pn++)Po.computeDistance(Kt.getInteriorRingN(pn),fe,He)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Ue&&arguments[1]instanceof q){var Mn=arguments[0],ti=arguments[1],li=arguments[2];if(Mn instanceof Ti)Po.computeDistance(Mn,ti,li);else if(Mn instanceof jo)Po.computeDistance(Mn,ti,li);else if(Mn instanceof Be)for(var bi=Mn,lr=0;lr<bi.getNumGeometries();lr++){var ra=bi.getGeometryN(lr);Po.computeDistance(ra,ti,li)}else li.setMinimum(Mn.getCoordinate(),ti)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Ii&&arguments[1]instanceof q){var Br=arguments[1],Js=arguments[2],hl=arguments[0].closestPoint(Br);Js.setMinimum(hl,Br)}};var Ar=function(f){this._maxPtDist=new Ja,this._inputGeom=f||null},Ya={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ar.prototype.computeMaxMidpointDistance=function(f){var m=new Ns(this._inputGeom);f.apply(m),this._maxPtDist.setMaximum(m.getMaxPointDistance())},Ar.prototype.computeMaxVertexDistance=function(f){var m=new sl(this._inputGeom);f.apply(m),this._maxPtDist.setMaximum(m.getMaxPointDistance())},Ar.prototype.findDistance=function(f){return this.computeMaxVertexDistance(f),this.computeMaxMidpointDistance(f),this._maxPtDist.getDistance()},Ar.prototype.getDistancePoints=function(){return this._maxPtDist},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ya.MaxPointDistanceFilter.get=function(){return sl},Ya.MaxMidpointDistanceFilter.get=function(){return Ns},Object.defineProperties(Ar,Ya);var sl=function(f){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=f||null};sl.prototype.filter=function(f){this._minPtDist.initialize(),Po.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},sl.prototype.getMaxPointDistance=function(){return this._maxPtDist},sl.prototype.interfaces_=function(){return[ln]},sl.prototype.getClass=function(){return sl};var Ns=function(f){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=f||null};Ns.prototype.filter=function(f,m){if(0===m)return null;var _=f.getCoordinate(m-1),x=f.getCoordinate(m),D=new q((_.x+x.x)/2,(_.y+x.y)/2);this._minPtDist.initialize(),Po.computeDistance(this._geom,D,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ns.prototype.isDone=function(){return!1},Ns.prototype.isGeometryChanged=function(){return!1},Ns.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ns.prototype.interfaces_=function(){return[Yt]},Ns.prototype.getClass=function(){return Ns};var mr=function(f){this._comps=f||null};mr.prototype.filter=function(f){f instanceof jo&&this._comps.add(f)},mr.prototype.interfaces_=function(){return[zt]},mr.prototype.getClass=function(){return mr},mr.getPolygons=function(){if(1===arguments.length)return mr.getPolygons(arguments[0],new en);if(2===arguments.length){var m=arguments[0],_=arguments[1];return m instanceof jo?_.add(m):m instanceof Be&&m.apply(new mr(_)),_}};var ea=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var _=arguments[1];this._lines=arguments[0],this._isForcedToLineString=_}};ea.prototype.filter=function(f){if(this._isForcedToLineString&&f instanceof zi){var m=f.getFactory().createLineString(f.getCoordinateSequence());return this._lines.add(m),null}f instanceof Ti&&this._lines.add(f)},ea.prototype.setForceToLineString=function(f){this._isForcedToLineString=f},ea.prototype.interfaces_=function(){return[Qe]},ea.prototype.getClass=function(){return ea},ea.getGeometry=function(){if(1===arguments.length){var f=arguments[0];return f.getFactory().buildGeometry(ea.getLines(f))}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m.getFactory().buildGeometry(ea.getLines(m,_))}},ea.getLines=function(){if(1===arguments.length)return ea.getLines(arguments[0],!1);if(2===arguments.length){if(ce(arguments[0],We)&&ce(arguments[1],We)){for(var _=arguments[1],x=arguments[0].iterator();x.hasNext();){var D=x.next();ea.getLines(D,_)}return _}if(arguments[0]instanceof Ue&&"boolean"==typeof arguments[1]){var K=arguments[0],xt=arguments[1],Kt=new en;return K.apply(new ea(Kt,xt)),Kt}if(arguments[0]instanceof Ue&&ce(arguments[1],We)){var fe=arguments[0],He=arguments[1];return fe instanceof Ti?He.add(fe):fe.apply(new ea(He)),He}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&ce(arguments[0],We)&&ce(arguments[1],We)){for(var Mn=arguments[1],ti=arguments[2],li=arguments[0].iterator();li.hasNext();){var bi=li.next();ea.getLines(bi,Mn,ti)}return Mn}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ue&&ce(arguments[1],We)){var ra=arguments[1];return arguments[0].apply(new ea(ra,arguments[2])),ra}}};var ss=function(){if(this._boundaryRule=xn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var f=arguments[0];if(null===f)throw new it("Rule must be non-null");this._boundaryRule=f}};ss.prototype.locateInternal=function(){if(arguments[0]instanceof q&&arguments[1]instanceof jo){var f=arguments[0],m=arguments[1];if(m.isEmpty())return ut.EXTERIOR;var _=m.getExteriorRing(),x=this.locateInPolygonRing(f,_);if(x===ut.EXTERIOR)return ut.EXTERIOR;if(x===ut.BOUNDARY)return ut.BOUNDARY;for(var D=0;D<m.getNumInteriorRing();D++){var K=m.getInteriorRingN(D),xt=this.locateInPolygonRing(f,K);if(xt===ut.INTERIOR)return ut.EXTERIOR;if(xt===ut.BOUNDARY)return ut.BOUNDARY}return ut.INTERIOR}if(arguments[0]instanceof q&&arguments[1]instanceof Ti){var Kt=arguments[0],fe=arguments[1];if(!fe.getEnvelopeInternal().intersects(Kt))return ut.EXTERIOR;var He=fe.getCoordinates();return fe.isClosed()||!Kt.equals(He[0])&&!Kt.equals(He[He.length-1])?xe.isOnLine(Kt,He)?ut.INTERIOR:ut.EXTERIOR:ut.BOUNDARY}if(arguments[0]instanceof q&&arguments[1]instanceof fo){var pn=arguments[0];return arguments[1].getCoordinate().equals2D(pn)?ut.INTERIOR:ut.EXTERIOR}},ss.prototype.locateInPolygonRing=function(f,m){return m.getEnvelopeInternal().intersects(f)?xe.locatePointInRing(f,m.getCoordinates()):ut.EXTERIOR},ss.prototype.intersects=function(f,m){return this.locate(f,m)!==ut.EXTERIOR},ss.prototype.updateLocationInfo=function(f){f===ut.INTERIOR&&(this._isIn=!0),f===ut.BOUNDARY&&this._numBoundaries++},ss.prototype.computeLocation=function(f,m){if(m instanceof fo&&this.updateLocationInfo(this.locateInternal(f,m)),m instanceof Ti)this.updateLocationInfo(this.locateInternal(f,m));else if(m instanceof jo)this.updateLocationInfo(this.locateInternal(f,m));else if(m instanceof qe)for(var _=m,x=0;x<_.getNumGeometries();x++){var D=_.getGeometryN(x);this.updateLocationInfo(this.locateInternal(f,D))}else if(m instanceof cs)for(var K=m,xt=0;xt<K.getNumGeometries();xt++){var Kt=K.getGeometryN(xt);this.updateLocationInfo(this.locateInternal(f,Kt))}else if(m instanceof Be)for(var fe=new wr(m);fe.hasNext();){var He=fe.next();He!==m&&this.computeLocation(f,He)}},ss.prototype.locate=function(f,m){return m.isEmpty()?ut.EXTERIOR:m instanceof Ti||m instanceof jo?this.locateInternal(f,m):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(f,m),this._boundaryRule.isInBoundary(this._numBoundaries)?ut.BOUNDARY:this._numBoundaries>0||this._isIn?ut.INTERIOR:ut.EXTERIOR)},ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss};var Xa=function f(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)f.call(this,arguments[0],f.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var D=arguments[1],K=arguments[2];this._component=arguments[0],this._segIndex=D,this._pt=K}},oc={INSIDE_AREA:{configurable:!0}};Xa.prototype.isInsideArea=function(){return this._segIndex===Xa.INSIDE_AREA},Xa.prototype.getCoordinate=function(){return this._pt},Xa.prototype.getGeometryComponent=function(){return this._component},Xa.prototype.getSegmentIndex=function(){return this._segIndex},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},oc.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Xa,oc);var ts=function(f){this._pts=f||null};ts.prototype.filter=function(f){f instanceof fo&&this._pts.add(f)},ts.prototype.interfaces_=function(){return[zt]},ts.prototype.getClass=function(){return ts},ts.getPoints=function(){if(1===arguments.length){var f=arguments[0];return f instanceof fo?Or.singletonList(f):ts.getPoints(f,new en)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m instanceof fo?_.add(m):m instanceof Be&&m.apply(new ts(_)),_}};var Wl=function(){this._locations=null,this._locations=arguments[0]};Wl.prototype.filter=function(f){(f instanceof fo||f instanceof Ti||f instanceof jo)&&this._locations.add(new Xa(f,0,f.getCoordinate()))},Wl.prototype.interfaces_=function(){return[zt]},Wl.prototype.getClass=function(){return Wl},Wl.getLocations=function(f){var m=new en;return f.apply(new Wl(m)),m};var na=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ss,this._minDistanceLocation=null,this._minDistance=V.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var _=arguments[0],x=arguments[1],D=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=_,this._geom[1]=x,this._terminateDistance=D}};na.prototype.computeContainmentDistance=function(){if(0===arguments.length){var f=new Array(2).fill(null);if(this.computeContainmentDistance(0,f),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1],x=1-m,D=mr.getPolygons(this._geom[m]);if(D.size()>0){var K=Wl.getLocations(this._geom[x]);if(this.computeContainmentDistance(K,D,_),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[x]=_[0],this._minDistanceLocation[m]=_[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&ce(arguments[0],_n)&&ce(arguments[1],_n)){for(var xt=arguments[0],Kt=arguments[1],fe=arguments[2],He=0;He<xt.size();He++)for(var pn=xt.get(He),Mn=0;Mn<Kt.size();Mn++)if(this.computeContainmentDistance(pn,Kt.get(Mn),fe),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Xa&&arguments[1]instanceof jo){var ti=arguments[0],li=arguments[1],bi=arguments[2],lr=ti.getCoordinate();if(ut.EXTERIOR!==this._ptLocator.locate(lr,li))return this._minDistance=0,bi[0]=ti,bi[1]=new Xa(li,lr),null}},na.prototype.computeMinDistanceLinesPoints=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K);if(this.computeMinDistance(D,xt,_),this._minDistance<=this._terminateDistance)return null}},na.prototype.computeFacetDistance=function(){var f=new Array(2).fill(null),m=ea.getLines(this._geom[0]),_=ea.getLines(this._geom[1]),x=ts.getPoints(this._geom[0]),D=ts.getPoints(this._geom[1]);return this.computeMinDistanceLines(m,_,f),this.updateMinDistance(f,!1),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistanceLinesPoints(m,D,f),this.updateMinDistance(f,!1),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistanceLinesPoints(_,x,f),this.updateMinDistance(f,!0),this._minDistance<=this._terminateDistance?null:(f[0]=null,f[1]=null,this.computeMinDistancePoints(x,D,f),void this.updateMinDistance(f,!1))))},na.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},na.prototype.updateMinDistance=function(f,m){if(null===f[0])return null;m?(this._minDistanceLocation[0]=f[1],this._minDistanceLocation[1]=f[0]):(this._minDistanceLocation[0]=f[0],this._minDistanceLocation[1]=f[1])},na.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},na.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ti&&arguments[1]instanceof fo){var f=arguments[0],m=arguments[1],_=arguments[2];if(f.getEnvelopeInternal().distance(m.getEnvelopeInternal())>this._minDistance)return null;for(var x=f.getCoordinates(),D=m.getCoordinate(),K=0;K<x.length-1;K++){var xt=xe.distancePointLine(D,x[K],x[K+1]);if(xt<this._minDistance){this._minDistance=xt;var Kt=new Ii(x[K],x[K+1]).closestPoint(D);_[0]=new Xa(f,K,Kt),_[1]=new Xa(m,0,D)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ti&&arguments[1]instanceof Ti){var fe=arguments[0],He=arguments[1],pn=arguments[2];if(fe.getEnvelopeInternal().distance(He.getEnvelopeInternal())>this._minDistance)return null;for(var Mn=fe.getCoordinates(),ti=He.getCoordinates(),li=0;li<Mn.length-1;li++)for(var bi=0;bi<ti.length-1;bi++){var lr=xe.distanceLineLine(Mn[li],Mn[li+1],ti[bi],ti[bi+1]);if(lr<this._minDistance){this._minDistance=lr;var ra=new Ii(Mn[li],Mn[li+1]),kn=new Ii(ti[bi],ti[bi+1]),Br=ra.closestPoints(kn);pn[0]=new Xa(fe,li,Br[0]),pn[1]=new Xa(He,bi,Br[1])}if(this._minDistance<=this._terminateDistance)return null}}},na.prototype.computeMinDistancePoints=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K),Kt=D.getCoordinate().distance(xt.getCoordinate());if(Kt<this._minDistance&&(this._minDistance=Kt,_[0]=new Xa(D,0,D.getCoordinate()),_[1]=new Xa(xt,0,xt.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},na.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new it("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},na.prototype.computeMinDistanceLines=function(f,m,_){for(var x=0;x<f.size();x++)for(var D=f.get(x),K=0;K<m.size();K++){var xt=m.get(K);if(this.computeMinDistance(D,xt,_),this._minDistance<=this._terminateDistance)return null}},na.prototype.interfaces_=function(){return[]},na.prototype.getClass=function(){return na},na.distance=function(f,m){return new na(f,m).distance()},na.isWithinDistance=function(f,m,_){return new na(f,m,_).distance()<=_},na.nearestPoints=function(f,m){return new na(f,m).nearestPoints()};var da=function(){this._pt=[new q,new q],this._distance=V.NaN,this._isNull=!0};da.prototype.getCoordinates=function(){return this._pt},da.prototype.getCoordinate=function(f){return this._pt[f]},da.prototype.setMinimum=function(){if(1===arguments.length){var f=arguments[0];this.setMinimum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x<this._distance&&this.initialize(m,_,x)}},da.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var f=arguments[0],m=arguments[1];this._pt[0].setCoordinate(f),this._pt[1].setCoordinate(m),this._distance=f.distance(m),this._isNull=!1}else if(3===arguments.length){var x=arguments[1],D=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(x),this._distance=D,this._isNull=!1}},da.prototype.toString=function(){return St.toLineString(this._pt[0],this._pt[1])},da.prototype.getDistance=function(){return this._distance},da.prototype.setMaximum=function(){if(1===arguments.length){var f=arguments[0];this.setMaximum(f._pt[0],f._pt[1])}else if(2===arguments.length){var m=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(m,_),null;var x=m.distance(_);x>this._distance&&this.initialize(m,_,x)}},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var Qs=function(){};Qs.prototype.interfaces_=function(){return[]},Qs.prototype.getClass=function(){return Qs},Qs.computeDistance=function(){if(arguments[2]instanceof da&&arguments[0]instanceof Ti&&arguments[1]instanceof q)for(var f=arguments[0],m=arguments[1],_=arguments[2],x=new Ii,D=f.getCoordinates(),K=0;K<D.length-1;K++){x.setCoordinates(D[K],D[K+1]);var xt=x.closestPoint(m);_.setMinimum(xt,m)}else if(arguments[2]instanceof da&&arguments[0]instanceof jo&&arguments[1]instanceof q){var Kt=arguments[0],fe=arguments[1],He=arguments[2];Qs.computeDistance(Kt.getExteriorRing(),fe,He);for(var pn=0;pn<Kt.getNumInteriorRing();pn++)Qs.computeDistance(Kt.getInteriorRingN(pn),fe,He)}else if(arguments[2]instanceof da&&arguments[0]instanceof Ue&&arguments[1]instanceof q){var Mn=arguments[0],ti=arguments[1],li=arguments[2];if(Mn instanceof Ti)Qs.computeDistance(Mn,ti,li);else if(Mn instanceof jo)Qs.computeDistance(Mn,ti,li);else if(Mn instanceof Be)for(var bi=Mn,lr=0;lr<bi.getNumGeometries();lr++){var ra=bi.getGeometryN(lr);Qs.computeDistance(ra,ti,li)}else li.setMinimum(Mn.getCoordinate(),ti)}else if(arguments[2]instanceof da&&arguments[0]instanceof Ii&&arguments[1]instanceof q){var Br=arguments[1],Js=arguments[2],hl=arguments[0].closestPoint(Br);Js.setMinimum(hl,Br)}};var Ml=function(){this._g0=null,this._g1=null,this._ptDist=new da,this._densifyFrac=0;var m=arguments[1];this._g0=arguments[0],this._g1=m},Hr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ml.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ml.prototype.setDensifyFraction=function(f){if(f>1||f<=0)throw new it("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=f},Ml.prototype.compute=function(f,m){this.computeOrientedDistance(f,m,this._ptDist),this.computeOrientedDistance(m,f,this._ptDist)},Ml.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ml.prototype.computeOrientedDistance=function(f,m,_){var x=new $c(m);if(f.apply(x),_.setMaximum(x.getMaxPointDistance()),this._densifyFrac>0){var D=new Hs(m,this._densifyFrac);f.apply(D),_.setMaximum(D.getMaxPointDistance())}},Ml.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml},Ml.distance=function(){if(2===arguments.length)return new Ml(arguments[0],arguments[1]).distance();if(3===arguments.length){var D=arguments[2],K=new Ml(arguments[0],arguments[1]);return K.setDensifyFraction(D),K.distance()}},Hr.MaxPointDistanceFilter.get=function(){return $c},Hr.MaxDensifiedByFractionDistanceFilter.get=function(){return Hs},Object.defineProperties(Ml,Hr);var $c=function(){this._maxPtDist=new da,this._minPtDist=new da,this._euclideanDist=new Qs,this._geom=null,this._geom=arguments[0]};$c.prototype.filter=function(f){this._minPtDist.initialize(),Qs.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},$c.prototype.getMaxPointDistance=function(){return this._maxPtDist},$c.prototype.interfaces_=function(){return[ln]},$c.prototype.getClass=function(){return $c};var Hs=function(){this._maxPtDist=new da,this._minPtDist=new da,this._geom=null,this._numSubSegs=0;var m=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/m))};Hs.prototype.filter=function(f,m){if(0===m)return null;for(var _=f.getCoordinate(m-1),x=f.getCoordinate(m),D=(x.x-_.x)/this._numSubSegs,K=(x.y-_.y)/this._numSubSegs,xt=0;xt<this._numSubSegs;xt++){var He=new q(_.x+xt*D,_.y+xt*K);this._minPtDist.initialize(),Qs.computeDistance(this._geom,He,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Hs.prototype.isDone=function(){return!1},Hs.prototype.isGeometryChanged=function(){return!1},Hs.prototype.getMaxPointDistance=function(){return this._maxPtDist},Hs.prototype.interfaces_=function(){return[Yt]},Hs.prototype.getClass=function(){return Hs};var $a=function(f,m,_){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=f||null,this._bufDistance=m||null,this._result=_||null},ll={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};$a.prototype.checkMaximumDistance=function(f,m,_){var x=new Ml(m,f);if(x.setDensifyFraction(.25),this._maxDistanceFound=x.orientedDistance(),this._maxDistanceFound>_){this._isValid=!1;var D=x.getCoordinates();this._errorLocation=D[1],this._errorIndicator=f.getFactory().createLineString(D),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+St.toLineString(D[0],D[1])+")"}},$a.prototype.isValid=function(){var f=Math.abs(this._bufDistance),m=$a.MAX_DISTANCE_DIFF_FRAC*f;return this._minValidDistance=f-m,this._maxValidDistance=f+m,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),$a.VERBOSE&&Me.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},$a.prototype.checkNegativeValid=function(){if(!(this._input instanceof jo||this._input instanceof cs||this._input instanceof Be))return null;var f=this.getPolygonLines(this._input);if(this.checkMinimumDistance(f,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(f,this._result,this._maxValidDistance)},$a.prototype.getErrorIndicator=function(){return this._errorIndicator},$a.prototype.checkMinimumDistance=function(f,m,_){var x=new na(f,m,_);if(this._minDistanceFound=x.distance(),this._minDistanceFound<_){this._isValid=!1;var D=x.nearestPoints();this._errorLocation=x.nearestPoints()[1],this._errorIndicator=f.getFactory().createLineString(D),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+St.toLineString(D[0],D[1])+" )"}},$a.prototype.checkPositiveValid=function(){var f=this._result.getBoundary();if(this.checkMinimumDistance(this._input,f,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,f,this._maxValidDistance)},$a.prototype.getErrorLocation=function(){return this._errorLocation},$a.prototype.getPolygonLines=function(f){for(var m=new en,_=new ea(m),x=mr.getPolygons(f).iterator();x.hasNext();)x.next().apply(_);return f.getFactory().buildGeometry(m)},$a.prototype.getErrorMessage=function(){return this._errMsg},$a.prototype.interfaces_=function(){return[]},$a.prototype.getClass=function(){return $a},ll.VERBOSE.get=function(){return!1},ll.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties($a,ll);var za=function(f,m,_){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=f||null,this._distance=m||null,this._result=_||null},ac={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};za.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},za.prototype.checkEnvelope=function(){if(this._distance<0)return null;var f=this._distance*za.MAX_ENV_DIFF_FRAC;0===f&&(f=.001);var m=new Dt(this._input.getEnvelopeInternal());m.expandBy(this._distance);var _=new Dt(this._result.getEnvelopeInternal());_.expandBy(f),_.contains(m)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(_)),this.report("Envelope")},za.prototype.checkDistance=function(){var f=new $a(this._input,this._distance,this._result);f.isValid()||(this._isValid=!1,this._errorMsg=f.getErrorMessage(),this._errorLocation=f.getErrorLocation(),this._errorIndicator=f.getErrorIndicator()),this.report("Distance")},za.prototype.checkArea=function(){var f=this._input.getArea(),m=this._result.getArea();this._distance>0&&f>m&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&f<m&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},za.prototype.checkPolygonal=function(){this._result instanceof jo||this._result instanceof cs||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},za.prototype.getErrorIndicator=function(){return this._errorIndicator},za.prototype.getErrorLocation=function(){return this._errorLocation},za.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},za.prototype.report=function(f){if(!za.VERBOSE)return null;Me.out.println("Check "+f+": "+(this._isValid?"passed":"FAILED"))},za.prototype.getErrorMessage=function(){return this._errorMsg},za.prototype.interfaces_=function(){return[]},za.prototype.getClass=function(){return za},za.isValidMsg=function(f,m,_){var x=new za(f,m,_);return x.isValid()?null:x.getErrorMessage()},za.isValid=function(f,m,_){return!!new za(f,m,_).isValid()},ac.VERBOSE.get=function(){return!1},ac.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(za,ac);var Ao=function(){this._pts=null,this._data=null;var m=arguments[1];this._pts=arguments[0],this._data=m};Ao.prototype.getCoordinates=function(){return this._pts},Ao.prototype.size=function(){return this._pts.length},Ao.prototype.getCoordinate=function(f){return this._pts[f]},Ao.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ao.prototype.getSegmentOctant=function(f){return f===this._pts.length-1?-1:zs.octant(this.getCoordinate(f),this.getCoordinate(f+1))},Ao.prototype.setData=function(f){this._data=f},Ao.prototype.getData=function(){return this._data},Ao.prototype.toString=function(){return St.toLineString(new ki(this._pts))},Ao.prototype.interfaces_=function(){return[Jo]},Ao.prototype.getClass=function(){return Ao};var Ms=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new en,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Ms.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ms.prototype.setCheckEndSegmentsOnly=function(f){this._isCheckEndSegmentsOnly=f},Ms.prototype.getIntersectionSegments=function(){return this._intSegments},Ms.prototype.count=function(){return this._intersectionCount},Ms.prototype.getIntersections=function(){return this._intersections},Ms.prototype.setFindAllIntersections=function(f){this._findAllIntersections=f},Ms.prototype.setKeepIntersections=function(f){this._keepIntersections=f},Ms.prototype.processIntersections=function(f,m,_,x){if(!this._findAllIntersections&&this.hasIntersection()||f===_&&m===x||this._isCheckEndSegmentsOnly&&!this.isEndSegment(f,m)&&!this.isEndSegment(_,x))return null;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],Kt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,Kt),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=D,this._intSegments[1]=K,this._intSegments[2]=xt,this._intSegments[3]=Kt,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ms.prototype.isEndSegment=function(f,m){return 0===m||m>=f.size()-2},Ms.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ms.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ms.prototype.interfaces_=function(){return[ns]},Ms.prototype.getClass=function(){return Ms},Ms.createAllIntersectionsFinder=function(f){var m=new Ms(f);return m.setFindAllIntersections(!0),m},Ms.createAnyIntersectionFinder=function(f){return new Ms(f)},Ms.createIntersectionCounter=function(f){var m=new Ms(f);return m.setFindAllIntersections(!0),m.setKeepIntersections(!1),m};var Ua=function(){this._li=new Ot,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Ua.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Ua.prototype.getIntersections=function(){return this._segInt.getIntersections()},Ua.prototype.isValid=function(){return this.execute(),this._isValid},Ua.prototype.setFindAllIntersections=function(f){this._findAllIntersections=f},Ua.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ms(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var f=new Rd;if(f.setSegmentIntersector(this._segInt),f.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Ua.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new gn(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Ua.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var f=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+St.toLineString(f[0],f[1])+" and "+St.toLineString(f[2],f[3])},Ua.prototype.interfaces_=function(){return[]},Ua.prototype.getClass=function(){return Ua},Ua.computeIntersections=function(f){var m=new Ua(f);return m.setFindAllIntersections(!0),m.isValid(),m.getIntersections()};var hs=function f(){this._nv=null,this._nv=new Ua(f.toSegmentStrings(arguments[0]))};hs.prototype.checkValid=function(){this._nv.checkValid()},hs.prototype.interfaces_=function(){return[]},hs.prototype.getClass=function(){return hs},hs.toSegmentStrings=function(f){for(var m=new en,_=f.iterator();_.hasNext();){var x=_.next();m.add(new Ao(x.getCoordinates(),x))}return m},hs.checkValid=function(f){new hs(f).checkValid()};var wc=function(f){this._mapOp=f};wc.prototype.map=function(f){for(var m=new en,_=0;_<f.getNumGeometries();_++){var x=this._mapOp.map(f.getGeometryN(_));x.isEmpty()||m.add(x)}return f.getFactory().createGeometryCollection(Ze.toGeometryArray(m))},wc.prototype.interfaces_=function(){return[]},wc.prototype.getClass=function(){return wc},wc.map=function(f,m){return new wc(m).map(f)};var Zo=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new en,this._resultLineList=new en;var m=arguments[1],_=arguments[2];this._op=arguments[0],this._geometryFactory=m,this._ptLocator=_};Zo.prototype.collectLines=function(f){for(var m=this._op.getGraph().getEdgeEnds().iterator();m.hasNext();){var _=m.next();this.collectLineEdge(_,f,this._lineEdgesList),this.collectBoundaryTouchEdge(_,f,this._lineEdgesList)}},Zo.prototype.labelIsolatedLine=function(f,m){var _=this._ptLocator.locate(f.getCoordinate(),this._op.getArgGeometry(m));f.getLabel().setLocation(m,_)},Zo.prototype.build=function(f){return this.findCoveredLineEdges(),this.collectLines(f),this.buildLines(f),this._resultLineList},Zo.prototype.collectLineEdge=function(f,m,_){var x=f.getLabel(),D=f.getEdge();f.isLineEdge()&&(f.isVisited()||!Ie.isResultOfOp(x,m)||D.isCovered()||(_.add(D),f.setVisitedEdge(!0)))},Zo.prototype.findCoveredLineEdges=function(){for(var f=this._op.getGraph().getNodes().iterator();f.hasNext();)f.next().getEdges().findCoveredLineEdges();for(var m=this._op.getGraph().getEdgeEnds().iterator();m.hasNext();){var _=m.next(),x=_.getEdge();if(_.isLineEdge()&&!x.isCoveredSet()){var D=this._op.isCoveredByA(_.getCoordinate());x.setCovered(D)}}},Zo.prototype.labelIsolatedLines=function(f){for(var m=f.iterator();m.hasNext();){var _=m.next(),x=_.getLabel();_.isIsolated()&&(x.isNull(0)?this.labelIsolatedLine(_,0):this.labelIsolatedLine(_,1))}},Zo.prototype.buildLines=function(f){for(var m=this._lineEdgesList.iterator();m.hasNext();){var _=m.next(),x=this._geometryFactory.createLineString(_.getCoordinates());this._resultLineList.add(x),_.setInResult(!0)}},Zo.prototype.collectBoundaryTouchEdge=function(f,m,_){var x=f.getLabel();return f.isLineEdge()||f.isVisited()||f.isInteriorAreaEdge()||f.getEdge().isInResult()?null:(z.isTrue(!(f.isInResult()||f.getSym().isInResult())||!f.getEdge().isInResult()),void(Ie.isResultOfOp(x,m)&&m===Ie.INTERSECTION&&(_.add(f.getEdge()),f.setVisitedEdge(!0))))},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo};var Cc=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new en;var m=arguments[1];this._op=arguments[0],this._geometryFactory=m};Cc.prototype.filterCoveredNodeToPoint=function(f){var m=f.getCoordinate();if(!this._op.isCoveredByLA(m)){var _=this._geometryFactory.createPoint(m);this._resultPointList.add(_)}},Cc.prototype.extractNonCoveredResultNodes=function(f){for(var m=this._op.getGraph().getNodes().iterator();m.hasNext();){var _=m.next();if(!(_.isInResult()||_.isIncidentEdgeInResult()||0!==_.getEdges().getDegree()&&f!==Ie.INTERSECTION)){var x=_.getLabel();Ie.isResultOfOp(x,f)&&this.filterCoveredNodeToPoint(_)}}},Cc.prototype.build=function(f){return this.extractNonCoveredResultNodes(f),this._resultPointList},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var ia=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};ia.prototype.transformPoint=function(f,m){return this._factory.createPoint(this.transformCoordinates(f.getCoordinateSequence(),f))},ia.prototype.transformPolygon=function(f,m){var _=!0,x=this.transformLinearRing(f.getExteriorRing(),f);null!==x&&x instanceof zi&&!x.isEmpty()||(_=!1);for(var D=new en,K=0;K<f.getNumInteriorRing();K++){var xt=this.transformLinearRing(f.getInteriorRingN(K),f);null===xt||xt.isEmpty()||(xt instanceof zi||(_=!1),D.add(xt))}if(_)return this._factory.createPolygon(x,D.toArray([]));var Kt=new en;return null!==x&&Kt.add(x),Kt.addAll(D),this._factory.buildGeometry(Kt)},ia.prototype.createCoordinateSequence=function(f){return this._factory.getCoordinateSequenceFactory().create(f)},ia.prototype.getInputGeometry=function(){return this._inputGeom},ia.prototype.transformMultiLineString=function(f,m){for(var _=new en,x=0;x<f.getNumGeometries();x++){var D=this.transformLineString(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},ia.prototype.transformCoordinates=function(f,m){return this.copy(f)},ia.prototype.transformLineString=function(f,m){return this._factory.createLineString(this.transformCoordinates(f.getCoordinateSequence(),f))},ia.prototype.transformMultiPoint=function(f,m){for(var _=new en,x=0;x<f.getNumGeometries();x++){var D=this.transformPoint(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},ia.prototype.transformMultiPolygon=function(f,m){for(var _=new en,x=0;x<f.getNumGeometries();x++){var D=this.transformPolygon(f.getGeometryN(x),f);null!==D&&(D.isEmpty()||_.add(D))}return this._factory.buildGeometry(_)},ia.prototype.copy=function(f){return f.copy()},ia.prototype.transformGeometryCollection=function(f,m){for(var _=new en,x=0;x<f.getNumGeometries();x++){var D=this.transform(f.getGeometryN(x));null!==D&&(this._pruneEmptyGeometry&&D.isEmpty()||_.add(D))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ze.toGeometryArray(_)):this._factory.buildGeometry(_)},ia.prototype.transform=function(f){if(this._inputGeom=f,this._factory=f.getFactory(),f instanceof fo)return this.transformPoint(f,null);if(f instanceof Xs)return this.transformMultiPoint(f,null);if(f instanceof zi)return this.transformLinearRing(f,null);if(f instanceof Ti)return this.transformLineString(f,null);if(f instanceof qe)return this.transformMultiLineString(f,null);if(f instanceof jo)return this.transformPolygon(f,null);if(f instanceof cs)return this.transformMultiPolygon(f,null);if(f instanceof Be)return this.transformGeometryCollection(f,null);throw new it("Unknown Geometry subtype: "+f.getClass().getName())},ia.prototype.transformLinearRing=function(f,m){var _=this.transformCoordinates(f.getCoordinateSequence(),f);if(null===_)return this._factory.createLinearRing(null);var x=_.size();return x>0&&x<4&&!this._preserveType?this._factory.createLineString(_):this._factory.createLinearRing(_)},ia.prototype.interfaces_=function(){return[]},ia.prototype.getClass=function(){return ia};var Fs=function f(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ii,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ti&&"number"==typeof arguments[1]){var _=arguments[1];f.call(this,arguments[0].getCoordinates(),_)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var x=arguments[0],D=arguments[1];this._srcPts=x,this._isClosed=f.isClosed(x),this._snapTolerance=D}};Fs.prototype.snapVertices=function(f,m){for(var _=this._isClosed?f.size()-1:f.size(),x=0;x<_;x++){var D=f.get(x),K=this.findSnapForVertex(D,m);null!==K&&(f.set(x,new q(K)),0===x&&this._isClosed&&f.set(f.size()-1,new q(K)))}},Fs.prototype.findSnapForVertex=function(f,m){for(var _=0;_<m.length;_++){if(f.equals2D(m[_]))return null;if(f.distance(m[_])<this._snapTolerance)return m[_]}return null},Fs.prototype.snapTo=function(f){var m=new Bt(this._srcPts);return this.snapVertices(m,f),this.snapSegments(m,f),m.toCoordinateArray()},Fs.prototype.snapSegments=function(f,m){if(0===m.length)return null;var _=m.length;m[0].equals2D(m[m.length-1])&&(_=m.length-1);for(var x=0;x<_;x++){var D=m[x],K=this.findSegmentIndexToSnap(D,f);K>=0&&f.add(K+1,new q(D),!1)}},Fs.prototype.findSegmentIndexToSnap=function(f,m){for(var _=V.MAX_VALUE,x=-1,D=0;D<m.size()-1;D++){if(this._seg.p0=m.get(D),this._seg.p1=m.get(D+1),this._seg.p0.equals2D(f)||this._seg.p1.equals2D(f)){if(this._allowSnappingToSourceVertices)continue;return-1}var K=this._seg.distance(f);K<this._snapTolerance&&K<_&&(_=K,x=D)}return x},Fs.prototype.setAllowSnappingToSourceVertices=function(f){this._allowSnappingToSourceVertices=f},Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs},Fs.isClosed=function(f){return!(f.length<=1)&&f[0].equals2D(f[f.length-1])};var is=function(f){this._srcGeom=f||null},hd={SNAP_PRECISION_FACTOR:{configurable:!0}};is.prototype.snapTo=function(f,m){var _=this.extractTargetCoordinates(f);return new qc(m,_).transform(this._srcGeom)},is.prototype.snapToSelf=function(f,m){var _=this.extractTargetCoordinates(this._srcGeom),x=new qc(f,_,!0).transform(this._srcGeom),D=x;return m&&ce(D,Va)&&(D=x.buffer(0)),D},is.prototype.computeSnapTolerance=function(f){return this.computeMinimumSegmentLength(f)/10},is.prototype.extractTargetCoordinates=function(f){for(var m=new U,_=f.getCoordinates(),x=0;x<_.length;x++)m.add(_[x]);return m.toArray(new Array(0).fill(null))},is.prototype.computeMinimumSegmentLength=function(f){for(var m=V.MAX_VALUE,_=0;_<f.length-1;_++){var x=f[_].distance(f[_+1]);x<m&&(m=x)}return m},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is},is.snap=function(f,m,_){var x=new Array(2).fill(null),D=new is(f);x[0]=D.snapTo(m,_);var K=new is(m);return x[1]=K.snapTo(x[0],_),x},is.computeOverlaySnapTolerance=function(){if(1===arguments.length){var f=arguments[0],m=is.computeSizeBasedSnapTolerance(f),_=f.getPrecisionModel();if(_.getType()===oe.FIXED){var x=1/_.getScale()*2/1.415;x>m&&(m=x)}return m}if(2===arguments.length){var K=arguments[1];return Math.min(is.computeOverlaySnapTolerance(arguments[0]),is.computeOverlaySnapTolerance(K))}},is.computeSizeBasedSnapTolerance=function(f){var m=f.getEnvelopeInternal();return Math.min(m.getHeight(),m.getWidth())*is.SNAP_PRECISION_FACTOR},is.snapToSelf=function(f,m,_){return new is(f).snapToSelf(m,_)},hd.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(is,hd);var qc=function(f){function m(_,x,D){f.call(this),this._snapTolerance=_||null,this._snapPts=x||null,this._isSelfSnap=void 0!==D&&D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.snapLine=function(_,x){var D=new Fs(_,this._snapTolerance);return D.setAllowSnappingToSourceVertices(this._isSelfSnap),D.snapTo(x)},m.prototype.transformCoordinates=function(_,x){var D=_.toCoordinateArray(),K=this.snapLine(D,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(K)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ia),Es=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Es.prototype.getCommon=function(){return V.longBitsToDouble(this._commonBits)},Es.prototype.add=function(f){var m=V.doubleToLongBits(f);return this._isFirst?(this._commonBits=m,this._commonSignExp=Es.signExpBits(this._commonBits),this._isFirst=!1,null):Es.signExpBits(m)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Es.numCommonMostSigMantissaBits(this._commonBits,m),void(this._commonBits=Es.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Es.prototype.toString=function(){if(1===arguments.length){var f=arguments[0],m=V.longBitsToDouble(f),_="0000000000000000000000000000000000000000000000000000000000000000"+V.toBinaryString(f),x=_.substring(_.length-64);return x.substring(0,1)+"  "+x.substring(1,12)+"(exp) "+x.substring(12)+" [ "+m+" ]"}},Es.prototype.interfaces_=function(){return[]},Es.prototype.getClass=function(){return Es},Es.getBit=function(f,m){return f&1<<m?1:0},Es.signExpBits=function(f){return f>>52},Es.zeroLowerBits=function(f,m){return f&~((1<<m)-1)},Es.numCommonMostSigMantissaBits=function(f,m){for(var _=0,x=52;x>=0;x--){if(Es.getBit(f,x)!==Es.getBit(m,x))return _;_++}return 52};var fs=function(){this._commonCoord=null,this._ccFilter=new v},Ld={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};fs.prototype.addCommonBits=function(f){var m=new T(this._commonCoord);f.apply(m),f.geometryChanged()},fs.prototype.removeCommonBits=function(f){if(0===this._commonCoord.x&&0===this._commonCoord.y)return f;var m=new q(this._commonCoord);m.x=-m.x,m.y=-m.y;var _=new T(m);return f.apply(_),f.geometryChanged(),f},fs.prototype.getCommonCoordinate=function(){return this._commonCoord},fs.prototype.add=function(f){f.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs},Ld.CommonCoordinateFilter.get=function(){return v},Ld.Translater.get=function(){return T},Object.defineProperties(fs,Ld);var v=function(){this._commonBitsX=new Es,this._commonBitsY=new Es};v.prototype.filter=function(f){this._commonBitsX.add(f.x),this._commonBitsY.add(f.y)},v.prototype.getCommonCoordinate=function(){return new q(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},v.prototype.interfaces_=function(){return[ln]},v.prototype.getClass=function(){return v};var T=function(){this.trans=null,this.trans=arguments[0]};T.prototype.filter=function(f,m){var _=f.getOrdinate(m,0)+this.trans.x,x=f.getOrdinate(m,1)+this.trans.y;f.setOrdinate(m,0,_),f.setOrdinate(m,1,x)},T.prototype.isDone=function(){return!1},T.prototype.isGeometryChanged=function(){return!0},T.prototype.interfaces_=function(){return[Yt]},T.prototype.getClass=function(){return T};var B=function(f,m){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=f,this._geom[1]=m,this.computeSnapTolerance()};B.prototype.selfSnap=function(f){return new is(f).snapTo(f,this._snapTolerance)},B.prototype.removeCommonBits=function(f){this._cbr=new fs,this._cbr.add(f[0]),this._cbr.add(f[1]);var m=new Array(2).fill(null);return m[0]=this._cbr.removeCommonBits(f[0].copy()),m[1]=this._cbr.removeCommonBits(f[1].copy()),m},B.prototype.prepareResult=function(f){return this._cbr.addCommonBits(f),f},B.prototype.getResultGeometry=function(f){var m=this.snap(this._geom),_=Ie.overlayOp(m[0],m[1],f);return this.prepareResult(_)},B.prototype.checkValid=function(f){f.isValid()||Me.out.println("Snapped geometry is invalid")},B.prototype.computeSnapTolerance=function(){this._snapTolerance=is.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},B.prototype.snap=function(f){var m=this.removeCommonBits(f);return is.snap(m[0],m[1],this._snapTolerance)},B.prototype.interfaces_=function(){return[]},B.prototype.getClass=function(){return B},B.overlayOp=function(f,m,_){return new B(f,m).getResultGeometry(_)},B.union=function(f,m){return B.overlayOp(f,m,Ie.UNION)},B.intersection=function(f,m){return B.overlayOp(f,m,Ie.INTERSECTION)},B.symDifference=function(f,m){return B.overlayOp(f,m,Ie.SYMDIFFERENCE)},B.difference=function(f,m){return B.overlayOp(f,m,Ie.DIFFERENCE)};var pt=function(f,m){this._geom=new Array(2).fill(null),this._geom[0]=f,this._geom[1]=m};pt.prototype.getResultGeometry=function(f){var m=null,_=!1,x=null;try{m=Ie.overlayOp(this._geom[0],this._geom[1],f),_=!0}catch(D){if(!(D instanceof S))throw D;x=D}if(!_)try{m=B.overlayOp(this._geom[0],this._geom[1],f)}catch(D){throw D instanceof S?x:D}return m},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt},pt.overlayOp=function(f,m,_){return new pt(f,m).getResultGeometry(_)},pt.union=function(f,m){return pt.overlayOp(f,m,Ie.UNION)},pt.intersection=function(f,m){return pt.overlayOp(f,m,Ie.INTERSECTION)},pt.symDifference=function(f,m){return pt.overlayOp(f,m,Ie.SYMDIFFERENCE)},pt.difference=function(f,m){return pt.overlayOp(f,m,Ie.DIFFERENCE)};var Vt=function(){this.mce=null,this.chainIndex=null;var m=arguments[1];this.mce=arguments[0],this.chainIndex=m};Vt.prototype.computeIntersections=function(f,m){this.mce.computeIntersectsForChain(this.chainIndex,f.mce,f.chainIndex,m)},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var ve=function f(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var m=arguments[0],_=arguments[1];this._eventType=f.DELETE,this._xValue=m,this._insertEvent=_}else if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2];this._eventType=f.INSERT,this._label=x,this._xValue=D,this._obj=K}},Ye={INSERT:{configurable:!0},DELETE:{configurable:!0}};ve.prototype.isDelete=function(){return this._eventType===ve.DELETE},ve.prototype.setDeleteEventIndex=function(f){this._deleteEventIndex=f},ve.prototype.getObject=function(){return this._obj},ve.prototype.compareTo=function(f){return this._xValue<f._xValue?-1:this._xValue>f._xValue?1:this._eventType<f._eventType?-1:this._eventType>f._eventType?1:0},ve.prototype.getInsertEvent=function(){return this._insertEvent},ve.prototype.isInsert=function(){return this._eventType===ve.INSERT},ve.prototype.isSameLabel=function(f){return null!==this._label&&this._label===f._label},ve.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ve.prototype.interfaces_=function(){return[mt]},ve.prototype.getClass=function(){return ve},Ye.INSERT.get=function(){return 1},Ye.DELETE.get=function(){return 2},Object.defineProperties(ve,Ye);var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var bn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var m=arguments[1],_=arguments[2];this._li=arguments[0],this._includeProper=m,this._recordIsolated=_};bn.prototype.isTrivialIntersection=function(f,m,_,x){if(f===_&&1===this._li.getIntersectionNum()){if(bn.isAdjacentSegments(m,x))return!0;if(f.isClosed()){var D=f.getNumPoints()-1;if(0===m&&x===D||0===x&&m===D)return!0}}return!1},bn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bn.prototype.setIsDoneIfProperInt=function(f){this._isDoneWhenProperInt=f},bn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bn.prototype.isBoundaryPointInternal=function(f,m){for(var _=m.iterator();_.hasNext();){var x=_.next().getCoordinate();if(f.isIntersection(x))return!0}return!1},bn.prototype.hasProperIntersection=function(){return this._hasProper},bn.prototype.hasIntersection=function(){return this._hasIntersection},bn.prototype.isDone=function(){return this._isDone},bn.prototype.isBoundaryPoint=function(f,m){return!(null===m||!this.isBoundaryPointInternal(f,m[0])&&!this.isBoundaryPointInternal(f,m[1]))},bn.prototype.setBoundaryNodes=function(f,m){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=f,this._bdyNodes[1]=m},bn.prototype.addIntersections=function(f,m,_,x){if(f===_&&m===x)return null;this.numTests++;var D=f.getCoordinates()[m],K=f.getCoordinates()[m+1],xt=_.getCoordinates()[x],Kt=_.getCoordinates()[x+1];this._li.computeIntersection(D,K,xt,Kt),this._li.hasIntersection()&&(this._recordIsolated&&(f.setIsolated(!1),_.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(f,m,_,x)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(f.addIntersections(this._li,m,0),_.addIntersections(this._li,x,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.isAdjacentSegments=function(f,m){return 1===Math.abs(f-m)};var jn=function(f){function m(){f.call(this),this.events=new en,this.nOverlaps=null}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.prepareEvents=function(){Or.sort(this.events);for(var _=0;_<this.events.size();_++){var x=this.events.get(_);x.isDelete()&&x.getInsertEvent().setDeleteEventIndex(_)}},m.prototype.computeIntersections=function(){if(1===arguments.length){var _=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var x=0;x<this.events.size();x++){var D=this.events.get(x);if(D.isInsert()&&this.processOverlaps(x,D.getDeleteEventIndex(),D,_),_.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof bn&&ce(arguments[0],_n)&&ce(arguments[1],_n)){var K=arguments[0],xt=arguments[1],Kt=arguments[2];this.addEdges(K,K),this.addEdges(xt,xt),this.computeIntersections(Kt)}else if("boolean"==typeof arguments[2]&&ce(arguments[0],_n)&&arguments[1]instanceof bn){var fe=arguments[0],He=arguments[1];arguments[2]?this.addEdges(fe,null):this.addEdges(fe),this.computeIntersections(He)}},m.prototype.addEdge=function(_,x){for(var D=_.getMonotoneChainEdge(),K=D.getStartIndexes(),xt=0;xt<K.length-1;xt++){var Kt=new Vt(D,xt),fe=new ve(x,D.getMinX(xt),Kt);this.events.add(fe),this.events.add(new ve(D.getMaxX(xt),fe))}},m.prototype.processOverlaps=function(_,x,D,K){for(var xt=D.getObject(),Kt=_;Kt<x;Kt++){var fe=this.events.get(Kt);if(fe.isInsert()){var He=fe.getObject();D.isSameLabel(fe)||(xt.computeIntersections(He,K),this.nOverlaps++)}}},m.prototype.addEdges=function(){if(1===arguments.length)for(var _=arguments[0].iterator();_.hasNext();){var x=_.next();this.addEdge(x,x)}else if(2===arguments.length)for(var K=arguments[1],xt=arguments[0].iterator();xt.hasNext();){var Kt=xt.next();this.addEdge(Kt,K)}},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(vn),hi=function(){this._min=V.POSITIVE_INFINITY,this._max=V.NEGATIVE_INFINITY},hr={NodeComparator:{configurable:!0}};hi.prototype.getMin=function(){return this._min},hi.prototype.intersects=function(f,m){return!(this._min>m||this._max<f)},hi.prototype.getMax=function(){return this._max},hi.prototype.toString=function(){return St.toLineString(new q(this._min,0),new q(this._max,0))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},hr.NodeComparator.get=function(){return No},Object.defineProperties(hi,hr);var No=function(){};No.prototype.compare=function(f,m){var D=(f._min+f._max)/2,K=(m._min+m._max)/2;return D<K?-1:D>K?1:0},No.prototype.interfaces_=function(){return[wt]},No.prototype.getClass=function(){return No};var su=function(f){function m(){f.call(this),this._item=null;var x=arguments[1],D=arguments[2];this._min=arguments[0],this._max=x,this._item=D}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.query=function(_,x,D){if(!this.intersects(_,x))return null;D.visitItem(this._item)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(hi),Zl=function(f){function m(){f.call(this),this._node1=null,this._node2=null;var x=arguments[1];this._node1=arguments[0],this._node2=x,this.buildExtent(this._node1,this._node2)}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.buildExtent=function(_,x){this._min=Math.min(_._min,x._min),this._max=Math.max(_._max,x._max)},m.prototype.query=function(_,x,D){if(!this.intersects(_,x))return null;null!==this._node1&&this._node1.query(_,x,D),null!==this._node2&&this._node2.query(_,x,D)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(hi),ml=function(){this._leaves=new en,this._root=null,this._level=0};ml.prototype.buildTree=function(){Or.sort(this._leaves,new hi.NodeComparator);for(var f=this._leaves,m=null,_=new en;;){if(this.buildLevel(f,_),1===_.size())return _.get(0);m=f,f=_,_=m}},ml.prototype.insert=function(f,m,_){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new su(f,m,_))},ml.prototype.query=function(f,m,_){this.init(),this._root.query(f,m,_)},ml.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},ml.prototype.printNode=function(f){Me.out.println(St.toLineString(new q(f._min,this._level),new q(f._max,this._level)))},ml.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},ml.prototype.buildLevel=function(f,m){this._level++,m.clear();for(var _=0;_<f.size();_+=2){var x=f.get(_);if(null===(_+1<f.size()?f.get(_):null))m.add(x);else{var D=new Zl(f.get(_),f.get(_+1));m.add(D)}}},ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml};var Yo=function(){this._items=new en};Yo.prototype.visitItem=function(f){this._items.add(f)},Yo.prototype.getItems=function(){return this._items},Yo.prototype.interfaces_=function(){return[zn]},Yo.prototype.getClass=function(){return Yo};var ke=function(){this._index=null;var f=arguments[0];if(!ce(f,Va))throw new it("Argument must be Polygonal");this._index=new Nt(f)},R={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};ke.prototype.locate=function(f){var m=new ye(f),_=new ht(m);return this._index.query(f.y,f.y,_),m.getLocation()},ke.prototype.interfaces_=function(){return[ol]},ke.prototype.getClass=function(){return ke},R.SegmentVisitor.get=function(){return ht},R.IntervalIndexedGeometry.get=function(){return Nt},Object.defineProperties(ke,R);var ht=function(){this._counter=null,this._counter=arguments[0]};ht.prototype.visitItem=function(f){var m=f;this._counter.countSegment(m.getCoordinate(0),m.getCoordinate(1))},ht.prototype.interfaces_=function(){return[zn]},ht.prototype.getClass=function(){return ht};var Nt=function(){this._index=new ml,this.init(arguments[0])};Nt.prototype.init=function(f){for(var m=ea.getLines(f).iterator();m.hasNext();){var _=m.next().getCoordinates();this.addLine(_)}},Nt.prototype.addLine=function(f){for(var m=1;m<f.length;m++){var _=new Ii(f[m-1],f[m]),x=Math.min(_.p0.y,_.p1.y),D=Math.max(_.p0.y,_.p1.y);this._index.insert(x,D,_)}},Nt.prototype.query=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=new Yo;return this._index.query(f,m,_),_.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt};var $t=function(f){function m(){if(f.call(this),this._parentGeom=null,this._lineEdgeMap=new so,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ss,2===arguments.length){var x=arguments[1],D=xn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=x,this._boundaryNodeRule=D,null!==x&&this.add(x)}else if(3===arguments.length){var xt=arguments[1],Kt=arguments[2];this._argIndex=arguments[0],this._parentGeom=xt,this._boundaryNodeRule=Kt,null!==xt&&this.add(xt)}}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.insertBoundaryPoint=function(_,x){var D=this._nodes.addNode(x).getLabel(),K=1;D.getLocation(_,Gt.ON)===ut.BOUNDARY&&K++;var xt=m.determineBoundary(this._boundaryNodeRule,K);D.setLocation(_,xt)},m.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var K=arguments[1],xt=arguments[2],Kt=new bn(arguments[0],!0,!1);return Kt.setIsDoneIfProperInt(xt),this.createEdgeSetIntersector().computeIntersections(this._edges,Kt,K||!(this._parentGeom instanceof zi||this._parentGeom instanceof jo||this._parentGeom instanceof cs)),this.addSelfIntersectionNodes(this._argIndex),Kt}},m.prototype.computeSplitEdges=function(_){for(var x=this._edges.iterator();x.hasNext();)x.next().eiList.addSplitEdges(_)},m.prototype.computeEdgeIntersections=function(_,x,D){var K=new bn(x,D,!0);return K.setBoundaryNodes(this.getBoundaryNodes(),_.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,_._edges,K),K},m.prototype.getGeometry=function(){return this._parentGeom},m.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},m.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},m.prototype.addPoint=function(){if(arguments[0]instanceof fo){var _=arguments[0].getCoordinate();this.insertPoint(this._argIndex,_,ut.INTERIOR)}else arguments[0]instanceof q&&this.insertPoint(this._argIndex,arguments[0],ut.INTERIOR)},m.prototype.addPolygon=function(_){this.addPolygonRing(_.getExteriorRing(),ut.EXTERIOR,ut.INTERIOR);for(var x=0;x<_.getNumInteriorRing();x++){var D=_.getInteriorRingN(x);this.addPolygonRing(D,ut.INTERIOR,ut.EXTERIOR)}},m.prototype.addEdge=function(_){this.insertEdge(_);var x=_.getCoordinates();this.insertPoint(this._argIndex,x[0],ut.BOUNDARY),this.insertPoint(this._argIndex,x[x.length-1],ut.BOUNDARY)},m.prototype.addLineString=function(_){var x=Jt.removeRepeatedPoints(_.getCoordinates());if(x.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=x[0],null;var D=new Cn(x,new oi(this._argIndex,ut.INTERIOR));this._lineEdgeMap.put(_,D),this.insertEdge(D),z.isTrue(x.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,x[0]),this.insertBoundaryPoint(this._argIndex,x[x.length-1])},m.prototype.getInvalidPoint=function(){return this._invalidPoint},m.prototype.getBoundaryPoints=function(){for(var _=this.getBoundaryNodes(),x=new Array(_.size()).fill(null),D=0,K=_.iterator();K.hasNext();){var xt=K.next();x[D++]=xt.getCoordinate().copy()}return x},m.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},m.prototype.addSelfIntersectionNode=function(_,x,D){if(this.isBoundaryNode(_,x))return null;D===ut.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(_,x):this.insertPoint(_,x,D)},m.prototype.addPolygonRing=function(_,x,D){if(_.isEmpty())return null;var K=Jt.removeRepeatedPoints(_.getCoordinates());if(K.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=K[0],null;var xt=x,Kt=D;xe.isCCW(K)&&(xt=D,Kt=x);var fe=new Cn(K,new oi(this._argIndex,ut.BOUNDARY,xt,Kt));this._lineEdgeMap.put(_,fe),this.insertEdge(fe),this.insertPoint(this._argIndex,K[0],ut.BOUNDARY)},m.prototype.insertPoint=function(_,x,D){var K=this._nodes.addNode(x),xt=K.getLabel();null===xt?K._label=new oi(_,D):xt.setLocation(_,D)},m.prototype.createEdgeSetIntersector=function(){return new jn},m.prototype.addSelfIntersectionNodes=function(_){for(var x=this._edges.iterator();x.hasNext();)for(var D=x.next(),K=D.getLabel().getLocation(_),xt=D.eiList.iterator();xt.hasNext();){var Kt=xt.next();this.addSelfIntersectionNode(_,Kt.coord,K)}},m.prototype.add=function(){if(1!==arguments.length)return f.prototype.add.apply(this,arguments);var _=arguments[0];if(_.isEmpty())return null;if(_ instanceof cs&&(this._useBoundaryDeterminationRule=!1),_ instanceof jo)this.addPolygon(_);else if(_ instanceof Ti)this.addLineString(_);else if(_ instanceof fo)this.addPoint(_);else if(_ instanceof Xs)this.addCollection(_);else if(_ instanceof qe)this.addCollection(_);else if(_ instanceof cs)this.addCollection(_);else{if(!(_ instanceof Be))throw new Error(_.getClass().getName());this.addCollection(_)}},m.prototype.addCollection=function(_){for(var x=0;x<_.getNumGeometries();x++){var D=_.getGeometryN(x);this.add(D)}},m.prototype.locate=function(_){return ce(this._parentGeom,Va)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new ke(this._parentGeom)),this._areaPtLocator.locate(_)):this._ptLocator.locate(_,this._parentGeom)},m.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):f.prototype.findEdge.apply(this,arguments)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.determineBoundary=function(_,x){return _.isInBoundary(x)?ut.BOUNDARY:ut.INTERIOR},m}(mo),ue=function(){if(this._li=new Ot,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var f=arguments[0];this.setComputationPrecision(f.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new $t(0,f)}else if(2===arguments.length){var m=arguments[0],_=arguments[1],x=xn.OGC_SFS_BOUNDARY_RULE;m.getPrecisionModel().compareTo(_.getPrecisionModel())>=0?this.setComputationPrecision(m.getPrecisionModel()):this.setComputationPrecision(_.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new $t(0,m,x),this._arg[1]=new $t(1,_,x)}else if(3===arguments.length){var D=arguments[0],K=arguments[1],xt=arguments[2];D.getPrecisionModel().compareTo(K.getPrecisionModel())>=0?this.setComputationPrecision(D.getPrecisionModel()):this.setComputationPrecision(K.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new $t(0,D,xt),this._arg[1]=new $t(1,K,xt)}};ue.prototype.getArgGeometry=function(f){return this._arg[f].getGeometry()},ue.prototype.setComputationPrecision=function(f){this._resultPrecisionModel=f,this._li.setPrecisionModel(this._resultPrecisionModel)},ue.prototype.interfaces_=function(){return[]},ue.prototype.getClass=function(){return ue};var Ce=function(){};Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce},Ce.map=function(){if(arguments[0]instanceof Ue&&ce(arguments[1],Ce.MapOp)){for(var f=arguments[0],m=arguments[1],_=new en,x=0;x<f.getNumGeometries();x++){var D=m.map(f.getGeometryN(x));null!==D&&_.add(D)}return f.getFactory().buildGeometry(_)}if(ce(arguments[0],We)&&ce(arguments[1],Ce.MapOp)){for(var K=arguments[0],xt=arguments[1],Kt=new en,fe=K.iterator();fe.hasNext();){var He=fe.next(),pn=xt.map(He);null!==pn&&Kt.add(pn)}return Kt}},Ce.MapOp=function(){};var Ie=function(f){function m(){var _=arguments[0];f.call(this,_,arguments[1]),this._ptLocator=new ss,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Vo,this._resultPolyList=new en,this._resultLineList=new en,this._resultPointList=new en,this._graph=new mo(new Hh),this._geomFact=_.getFactory()}return f&&(m.__proto__=f),(m.prototype=Object.create(f&&f.prototype)).constructor=m,m.prototype.insertUniqueEdge=function(_){var x=this._edgeList.findEqualEdge(_);if(null!==x){var D=x.getLabel(),K=_.getLabel();x.isPointwiseEqual(_)||(K=new oi(_.getLabel())).flip();var xt=x.getDepth();xt.isNull()&&xt.add(D),xt.add(K),D.merge(K)}else this._edgeList.add(_)},m.prototype.getGraph=function(){return this._graph},m.prototype.cancelDuplicateResultEdges=function(){for(var _=this._graph.getEdgeEnds().iterator();_.hasNext();){var x=_.next(),D=x.getSym();x.isInResult()&&D.isInResult()&&(x.setInResult(!1),D.setInResult(!1))}},m.prototype.isCoveredByLA=function(_){return!!this.isCovered(_,this._resultLineList)||!!this.isCovered(_,this._resultPolyList)},m.prototype.computeGeometry=function(_,x,D,K){var xt=new en;return xt.addAll(_),xt.addAll(x),xt.addAll(D),xt.isEmpty()?m.createEmptyResult(K,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(xt)},m.prototype.mergeSymLabels=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().mergeSymLabels()},m.prototype.isCovered=function(_,x){for(var D=x.iterator();D.hasNext();){var K=D.next();if(this._ptLocator.locate(_,K)!==ut.EXTERIOR)return!0}return!1},m.prototype.replaceCollapsedEdges=function(){for(var _=new en,x=this._edgeList.iterator();x.hasNext();){var D=x.next();D.isCollapsed()&&(x.remove(),_.add(D.getCollapsedEdge()))}this._edgeList.addAll(_)},m.prototype.updateNodeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var x=_.next(),D=x.getEdges().getLabel();x.getLabel().merge(D)}},m.prototype.getResultGeometry=function(_){return this.computeOverlay(_),this._resultGeom},m.prototype.insertUniqueEdges=function(_){for(var x=_.iterator();x.hasNext();){var D=x.next();this.insertUniqueEdge(D)}},m.prototype.computeOverlay=function(_){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var x=new en;this._arg[0].computeSplitEdges(x),this._arg[1].computeSplitEdges(x),this.insertUniqueEdges(x),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),hs.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(_),this.cancelDuplicateResultEdges();var D=new Gr(this._geomFact);D.add(this._graph),this._resultPolyList=D.getPolygons();var K=new Zo(this,this._geomFact,this._ptLocator);this._resultLineList=K.build(_);var xt=new Cc(this,this._geomFact,this._ptLocator);this._resultPointList=xt.build(_),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,_)},m.prototype.labelIncompleteNode=function(_,x){var D=this._ptLocator.locate(_.getCoordinate(),this._arg[x].getGeometry());_.getLabel().setLocation(x,D)},m.prototype.copyPoints=function(_){for(var x=this._arg[_].getNodeIterator();x.hasNext();){var D=x.next();this._graph.addNode(D.getCoordinate()).setLabel(_,D.getLabel().getLocation(_))}},m.prototype.findResultAreaEdges=function(_){for(var x=this._graph.getEdgeEnds().iterator();x.hasNext();){var D=x.next(),K=D.getLabel();K.isArea()&&!D.isInteriorAreaEdge()&&m.isResultOfOp(K.getLocation(0,Gt.RIGHT),K.getLocation(1,Gt.RIGHT),_)&&D.setInResult(!0)}},m.prototype.computeLabelsFromDepths=function(){for(var _=this._edgeList.iterator();_.hasNext();){var x=_.next(),D=x.getLabel(),K=x.getDepth();if(!K.isNull()){K.normalize();for(var xt=0;xt<2;xt++)D.isNull(xt)||!D.isArea()||K.isNull(xt)||(0===K.getDelta(xt)?D.toLine(xt):(z.isTrue(!K.isNull(xt,Gt.LEFT),"depth of LEFT side has not been initialized"),D.setLocation(xt,Gt.LEFT,K.getLocation(xt,Gt.LEFT)),z.isTrue(!K.isNull(xt,Gt.RIGHT),"depth of RIGHT side has not been initialized"),D.setLocation(xt,Gt.RIGHT,K.getLocation(xt,Gt.RIGHT))))}}},m.prototype.computeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},m.prototype.labelIncompleteNodes=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var x=_.next(),D=x.getLabel();x.isIsolated()&&(D.isNull(0)?this.labelIncompleteNode(x,0):this.labelIncompleteNode(x,1)),x.getEdges().updateLabelling(D)}},m.prototype.isCoveredByA=function(_){return!!this.isCovered(_,this._resultPolyList)},m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m}(ue);Ie.overlayOp=function(f,m,_){return new Ie(f,m).getResultGeometry(_)},Ie.intersection=function(f,m){if(f.isEmpty()||m.isEmpty())return Ie.createEmptyResult(Ie.INTERSECTION,f,m,f.getFactory());if(f.isGeometryCollection()){var _=m;return wc.map(f,{interfaces_:function(){return[Ce.MapOp]},map:function(x){return x.intersection(_)}})}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),pt.overlayOp(f,m,Ie.INTERSECTION)},Ie.symDifference=function(f,m){if(f.isEmpty()||m.isEmpty()){if(f.isEmpty()&&m.isEmpty())return Ie.createEmptyResult(Ie.SYMDIFFERENCE,f,m,f.getFactory());if(f.isEmpty())return m.copy();if(m.isEmpty())return f.copy()}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),pt.overlayOp(f,m,Ie.SYMDIFFERENCE)},Ie.resultDimension=function(f,m,_){var x=m.getDimension(),D=_.getDimension(),K=-1;switch(f){case Ie.INTERSECTION:K=Math.min(x,D);break;case Ie.UNION:K=Math.max(x,D);break;case Ie.DIFFERENCE:K=x;break;case Ie.SYMDIFFERENCE:K=Math.max(x,D)}return K},Ie.createEmptyResult=function(f,m,_,x){var D=null;switch(Ie.resultDimension(f,m,_)){case-1:D=x.createGeometryCollection(new Array(0).fill(null));break;case 0:D=x.createPoint();break;case 1:D=x.createLineString();break;case 2:D=x.createPolygon()}return D},Ie.difference=function(f,m){return f.isEmpty()?Ie.createEmptyResult(Ie.DIFFERENCE,f,m,f.getFactory()):m.isEmpty()?f.copy():(f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),pt.overlayOp(f,m,Ie.DIFFERENCE))},Ie.isResultOfOp=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=f.getLocation(0),x=f.getLocation(1);return Ie.isResultOfOp(_,x,m)}if(3===arguments.length){var D=arguments[0],K=arguments[1];switch(D===ut.BOUNDARY&&(D=ut.INTERIOR),K===ut.BOUNDARY&&(K=ut.INTERIOR),arguments[2]){case Ie.INTERSECTION:return D===ut.INTERIOR&&K===ut.INTERIOR;case Ie.UNION:return D===ut.INTERIOR||K===ut.INTERIOR;case Ie.DIFFERENCE:return D===ut.INTERIOR&&K!==ut.INTERIOR;case Ie.SYMDIFFERENCE:return D===ut.INTERIOR&&K!==ut.INTERIOR||D!==ut.INTERIOR&&K===ut.INTERIOR}return!1}},Ie.INTERSECTION=1,Ie.UNION=2,Ie.DIFFERENCE=3,Ie.SYMDIFFERENCE=4;var dn=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ss,this._seg=new Ii;var f=arguments[0],m=arguments[1];this._g=f,this._boundaryDistanceTolerance=m,this._linework=this.extractLinework(f)};dn.prototype.isWithinToleranceOfBoundary=function(f){for(var m=0;m<this._linework.getNumGeometries();m++)for(var _=this._linework.getGeometryN(m).getCoordinateSequence(),x=0;x<_.size()-1;x++)if(_.getCoordinate(x,this._seg.p0),_.getCoordinate(x+1,this._seg.p1),this._seg.distance(f)<=this._boundaryDistanceTolerance)return!0;return!1},dn.prototype.getLocation=function(f){return this.isWithinToleranceOfBoundary(f)?ut.BOUNDARY:this._ptLocator.locate(f,this._g)},dn.prototype.extractLinework=function(f){var m=new Pn;f.apply(m);var _=m.getLinework(),x=Ze.toLineStringArray(_);return f.getFactory().createMultiLineString(x)},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn};var Pn=function(){this._linework=null,this._linework=new en};Pn.prototype.getLinework=function(){return this._linework},Pn.prototype.filter=function(f){if(f instanceof jo){var m=f;this._linework.add(m.getExteriorRing());for(var _=0;_<m.getNumInteriorRing();_++)this._linework.add(m.getInteriorRingN(_))}},Pn.prototype.interfaces_=function(){return[zt]},Pn.prototype.getClass=function(){return Pn};var Un=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Un.prototype.extractPoints=function(f,m,_){for(var x=f.getCoordinates(),D=0;D<x.length-1;D++)this.computeOffsetPoints(x[D],x[D+1],m,_)},Un.prototype.setSidesToGenerate=function(f,m){this._doLeft=f,this._doRight=m},Un.prototype.getPoints=function(f){for(var m=new en,_=ea.getLines(this._g).iterator();_.hasNext();){var x=_.next();this.extractPoints(x,f,m)}return m},Un.prototype.computeOffsetPoints=function(f,m,_,x){var D=m.x-f.x,K=m.y-f.y,xt=Math.sqrt(D*D+K*K),Kt=_*D/xt,fe=_*K/xt,He=(m.x+f.x)/2,pn=(m.y+f.y)/2;if(this._doLeft){var Mn=new q(He-fe,pn+Kt);x.add(Mn)}if(this._doRight){var ti=new q(He+fe,pn-Kt);x.add(ti)}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Hn=function f(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=f.TOLERANCE,this._testCoords=new en;var m=arguments[0],_=arguments[1],x=arguments[2];this._boundaryDistanceTolerance=f.computeBoundaryDistanceTolerance(m,_),this._geom=[m,_,x],this._locFinder=[new dn(this._geom[0],this._boundaryDistanceTolerance),new dn(this._geom[1],this._boundaryDistanceTolerance),new dn(this._geom[2],this._boundaryDistanceTolerance)]},Li={TOLERANCE:{configurable:!0}};Hn.prototype.reportResult=function(f,m,_){Me.out.println("Overlay result invalid - A:"+ut.toLocationSymbol(m[0])+" B:"+ut.toLocationSymbol(m[1])+" expected:"+(_?"i":"e")+" actual:"+ut.toLocationSymbol(m[2]))},Hn.prototype.isValid=function(f){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(f)},Hn.prototype.checkValid=function(){if(1===arguments.length){for(var f=arguments[0],m=0;m<this._testCoords.size();m++){var _=this._testCoords.get(m);if(!this.checkValid(f,_))return this._invalidLocation=_,!1}return!0}if(2===arguments.length){var x=arguments[0],D=arguments[1];return this._location[0]=this._locFinder[0].getLocation(D),this._location[1]=this._locFinder[1].getLocation(D),this._location[2]=this._locFinder[2].getLocation(D),!!Hn.hasLocation(this._location,ut.BOUNDARY)||this.isValidResult(x,this._location)}},Hn.prototype.addTestPts=function(f){var m=new Un(f);this._testCoords.addAll(m.getPoints(5*this._boundaryDistanceTolerance))},Hn.prototype.isValidResult=function(f,m){var _=Ie.isResultOfOp(m[0],m[1],f),x=!(_^m[2]===ut.INTERIOR);return x||this.reportResult(f,m,_),x},Hn.prototype.getInvalidLocation=function(){return this._invalidLocation},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Hn.hasLocation=function(f,m){for(var _=0;_<3;_++)if(f[_]===m)return!0;return!1},Hn.computeBoundaryDistanceTolerance=function(f,m){return Math.min(is.computeSizeBasedSnapTolerance(f),is.computeSizeBasedSnapTolerance(m))},Hn.isValid=function(f,m,_,x){return new Hn(f,m,x).isValid(_)},Li.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Hn,Li);var si=function f(m){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=f.extractFactory(m),this._inputGeoms=m};si.prototype.extractElements=function(f,m){if(null===f)return null;for(var _=0;_<f.getNumGeometries();_++){var x=f.getGeometryN(_);this._skipEmpty&&x.isEmpty()||m.add(x)}},si.prototype.combine=function(){for(var f=new en,m=this._inputGeoms.iterator();m.hasNext();){var _=m.next();this.extractElements(_,f)}return 0===f.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(f)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si},si.combine=function(){return 1===arguments.length?new si(arguments[0]).combine():2===arguments.length?new si(si.createList(arguments[0],arguments[1])).combine():3===arguments.length?new si(si.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},si.extractFactory=function(f){return f.isEmpty()?null:f.iterator().next().getFactory()},si.createList=function(){if(2===arguments.length){var f=arguments[0],m=arguments[1],_=new en;return _.add(f),_.add(m),_}if(3===arguments.length){var x=arguments[0],D=arguments[1],K=arguments[2],xt=new en;return xt.add(x),xt.add(D),xt.add(K),xt}};var di=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new en)},eo={STRTREE_NODE_CAPACITY:{configurable:!0}};di.prototype.reduceToGeometries=function(f){for(var m=new en,_=f.iterator();_.hasNext();){var x=_.next(),D=null;ce(x,_n)?D=this.unionTree(x):x instanceof Ue&&(D=x),m.add(D)}return m},di.prototype.extractByEnvelope=function(f,m,_){for(var x=new en,D=0;D<m.getNumGeometries();D++){var K=m.getGeometryN(D);K.getEnvelopeInternal().intersects(f)?x.add(K):_.add(K)}return this._geomFactory.buildGeometry(x)},di.prototype.unionOptimized=function(f,m){var _=f.getEnvelopeInternal(),x=m.getEnvelopeInternal();if(!_.intersects(x))return si.combine(f,m);if(f.getNumGeometries()<=1&&m.getNumGeometries()<=1)return this.unionActual(f,m);var D=_.intersection(x);return this.unionUsingEnvelopeIntersection(f,m,D)},di.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var f=new Do(di.STRTREE_NODE_CAPACITY),m=this._inputPolys.iterator();m.hasNext();){var _=m.next();f.insert(_.getEnvelopeInternal(),_)}this._inputPolys=null;var x=f.itemsTree();return this.unionTree(x)},di.prototype.binaryUnion=function(){if(1===arguments.length){var f=arguments[0];return this.binaryUnion(f,0,f.size())}if(3===arguments.length){var m=arguments[0],_=arguments[1],x=arguments[2];if(x-_<=1){var D=di.getGeometry(m,_);return this.unionSafe(D,null)}if(x-_==2)return this.unionSafe(di.getGeometry(m,_),di.getGeometry(m,_+1));var K=Math.trunc((x+_)/2),xt=this.binaryUnion(m,_,K),Kt=this.binaryUnion(m,K,x);return this.unionSafe(xt,Kt)}},di.prototype.repeatedUnion=function(f){for(var m=null,_=f.iterator();_.hasNext();){var x=_.next();m=null===m?x.copy():m.union(x)}return m},di.prototype.unionSafe=function(f,m){return null===f&&null===m?null:null===f?m.copy():null===m?f.copy():this.unionOptimized(f,m)},di.prototype.unionActual=function(f,m){return di.restrictToPolygons(f.union(m))},di.prototype.unionTree=function(f){var m=this.reduceToGeometries(f);return this.binaryUnion(m)},di.prototype.unionUsingEnvelopeIntersection=function(f,m,_){var x=new en,D=this.extractByEnvelope(_,f,x),K=this.extractByEnvelope(_,m,x),xt=this.unionActual(D,K);return x.add(xt),si.combine(x)},di.prototype.bufferUnion=function(){if(1===arguments.length){var f=arguments[0];return f.get(0).getFactory().buildGeometry(f).buffer(0)}if(2===arguments.length){var m=arguments[0],_=arguments[1];return m.getFactory().createGeometryCollection([m,_]).buffer(0)}},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},di.restrictToPolygons=function(f){if(ce(f,Va))return f;var m=mr.getPolygons(f);return 1===m.size()?m.get(0):f.getFactory().createMultiPolygon(Ze.toPolygonArray(m))},di.getGeometry=function(f,m){return m>=f.size()?null:f.get(m)},di.union=function(f){return new di(f).union()},eo.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(di,eo);var zo=function(){};zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo},zo.union=function(f,m){if(f.isEmpty()||m.isEmpty()){if(f.isEmpty()&&m.isEmpty())return Ie.createEmptyResult(Ie.UNION,f,m,f.getFactory());if(f.isEmpty())return m.copy();if(m.isEmpty())return f.copy()}return f.checkNotGeometryCollection(f),f.checkNotGeometryCollection(m),pt.overlayOp(f,m,Ie.UNION)},Y.GeoJSONReader=En,Y.GeoJSONWriter=il,Y.OverlayOp=Ie,Y.UnionOp=zo,Y.BufferOp=he,Object.defineProperty(Y,"__esModule",{value:!0})}(se)},9521:()=>{},6296:(Xe,se,Y)=>{"use strict";function tt(F){var Z,G,O,Q=2;for(typeof Symbol<"u"&&(G=Symbol.asyncIterator,O=Symbol.iterator);Q--;){if(G&&null!=(Z=F[G]))return Z.call(F);if(O&&null!=(Z=F[O]))return new J(Z.call(F));G="@@asyncIterator",O="@@iterator"}throw new TypeError("Object is not async iterable")}function J(F){function Z(G){if(Object(G)!==G)return Promise.reject(new TypeError(G+" is not an object."));var O=G.done;return Promise.resolve(G.value).then(function(Q){return{value:Q,done:O}})}return(J=function(O){this.s=O,this.n=O.next}).prototype={s:null,n:null,next:function(){return Z(this.n.apply(this.s,arguments))},return:function(O){var Q=this.s.return;return void 0===Q?Promise.resolve({value:O,done:!0}):Z(Q.apply(this.s,arguments))},throw:function(O){var Q=this.s.return;return void 0===Q?Promise.reject(O):Z(Q.apply(this.s,arguments))}},new J(F)}Y.d(se,{Z:()=>tt})},5861:(Xe,se,Y)=>{"use strict";function tt(F,Z,G,O,Q,at,ct){try{var ot=F[at](ct),$=ot.value}catch(N){return void G(N)}ot.done?Z($):Promise.resolve($).then(O,Q)}function J(F){return function(){var Z=this,G=arguments;return new Promise(function(O,Q){var at=F.apply(Z,G);function ct($){tt(at,O,Q,ct,ot,"next",$)}function ot($){tt(at,O,Q,ct,ot,"throw",$)}ct(void 0)})}}Y.d(se,{Z:()=>J})},1180:(Xe,se,Y)=>{"use strict";function tt(G){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(G)}function Z(G,O,Q){return(O=function F(G){var O=function J(G,O){if("object"!==tt(G)||null===G)return G;var Q=G[Symbol.toPrimitive];if(void 0!==Q){var at=Q.call(G,O||"default");if("object"!==tt(at))return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(G)}(G,"string");return"symbol"===tt(O)?O:String(O)}(O))in G?Object.defineProperty(G,O,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[O]=Q,G}Y.d(se,{Z:()=>Z})}},Xe=>{Xe(Xe.s=5844)}]);
